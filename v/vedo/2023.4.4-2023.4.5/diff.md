# Comparing `tmp/vedo-2023.4.4.tar.gz` & `tmp/vedo-2023.4.5.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "vedo-2023.4.4.tar", last modified: Tue Mar 14 20:19:25 2023, max compression
+gzip compressed data, was "vedo-2023.4.5.tar", last modified: Sun Jun 18 15:36:43 2023, max compression
```

## Comparing `vedo-2023.4.4.tar` & `vedo-2023.4.5.tar`

### file list

```diff
@@ -1,452 +1,458 @@
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.572575 vedo-2023.4.4/
--rw-r-----   0 musy      (8766) sharpe    (4311)     7617 2022-03-01 14:15:57.000000 vedo-2023.4.4/FONT.LICENSE
--rw-r--r--   0 musy      (8766) sharpe    (4311)     1067 2022-02-27 13:43:39.000000 vedo-2023.4.4/LICENSE
--rw-r--r--   0 musy      (8766) sharpe    (4311)      267 2022-03-01 12:22:11.000000 vedo-2023.4.4/MANIFEST.in
--rw-r-----   0 musy      (8766) sharpe    (4311)     1249 2023-03-14 20:19:25.572575 vedo-2023.4.4/PKG-INFO
--rw-rw-r--   0 musy      (8766) sharpe    (4311)    10818 2023-03-09 15:51:56.000000 vedo-2023.4.4/README.md
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.528574 vedo-2023.4.4/examples/
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.532574 vedo-2023.4.4/examples/advanced/
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 18:50:54.000000 vedo-2023.4.4/examples/advanced/__init__.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1467 2023-02-02 17:56:11.000000 vedo-2023.4.4/examples/advanced/capping_mesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      559 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/contours2mesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      281 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/convex_hull.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      422 2023-02-03 19:31:48.000000 vedo-2023.4.4/examples/advanced/cut_and_cap.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      582 2023-02-17 17:24:05.000000 vedo-2023.4.4/examples/advanced/cut_with_mesh1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      440 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/cut_with_points1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      498 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/cut_with_points2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      941 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/fitline.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      683 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/fitplanes.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      949 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/fitspheres1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      972 2023-02-17 17:16:26.000000 vedo-2023.4.4/examples/advanced/fitspheres2.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      546 2022-02-25 12:03:56.000000 vedo-2023.4.4/examples/advanced/geodesic.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     5443 2022-11-06 15:19:38.000000 vedo-2023.4.4/examples/advanced/geological_model.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      824 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/gyroid.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2242 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/interpolate_field.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      672 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/interpolate_scalar1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1129 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/interpolate_scalar2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      680 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/interpolate_scalar3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      996 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/interpolate_scalar4.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      680 2023-01-20 17:20:50.000000 vedo-2023.4.4/examples/advanced/line2mesh_quads.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      731 2023-01-20 17:20:32.000000 vedo-2023.4.4/examples/advanced/line2mesh_tri.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1416 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/measure_curvature.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      461 2022-12-07 17:35:32.000000 vedo-2023.4.4/examples/advanced/mesh_smoother1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      536 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/mesh_smoother2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1074 2023-02-17 14:59:48.000000 vedo-2023.4.4/examples/advanced/meshquality.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      919 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/moving_least_squares1D.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1676 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/moving_least_squares2D.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2182 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/multi_viewer2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1123 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/recosurface.py
--rwxr-x---   0 musy      (8766) sharpe    (4311)      347 2022-11-14 13:08:27.000000 vedo-2023.4.4/examples/advanced/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)      395 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/skeletonize.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2194 2023-03-14 19:09:54.000000 vedo-2023.4.4/examples/advanced/spline_draw.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      316 2022-02-25 12:11:18.000000 vedo-2023.4.4/examples/advanced/splitmesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      333 2023-03-14 16:58:51.000000 vedo-2023.4.4/examples/advanced/timer_callback0.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1225 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/timer_callback1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2299 2023-02-17 15:55:08.000000 vedo-2023.4.4/examples/advanced/timer_callback2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      526 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/voronoi2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      990 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/warp1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      887 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/warp2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     3663 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/advanced/warp3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     6772 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/advanced/warp4.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4991 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/advanced/warp5.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.540574 vedo-2023.4.4/examples/basic/
--rw-r-----   0 musy      (8766) sharpe    (4311)      682 2023-03-14 19:19:18.000000 vedo-2023.4.4/examples/basic/.vedo_pipeline_graphviz
--rw-r-----   0 musy      (8766) sharpe    (4311)    19278 2023-03-14 19:19:18.000000 vedo-2023.4.4/examples/basic/.vedo_pipeline_graphviz.pdf
--rw-r-----   0 musy      (8766) sharpe    (4311)     6772 2023-03-14 19:23:24.000000 vedo-2023.4.4/examples/basic/.vedo_recorded_events.log
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 18:56:56.000000 vedo-2023.4.4/examples/basic/__init__.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      605 2022-11-06 15:19:49.000000 vedo-2023.4.4/examples/basic/align1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      909 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/align2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      878 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/align3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      609 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/align4.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      792 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/align5.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      390 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/align6.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      462 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/bgImage.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      721 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/boolean.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      363 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/boundaries.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      544 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/buildmesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      796 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/buttons.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      722 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/cartoony.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      382 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/cells_within_bounds.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1322 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/closewindow.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      871 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/clustering.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      381 2022-12-14 12:19:34.000000 vedo-2023.4.4/examples/basic/color_mesh_cells1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      447 2022-12-14 12:19:34.000000 vedo-2023.4.4/examples/basic/color_mesh_cells2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1155 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/colorcubes.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      810 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/colorlines.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      884 2023-02-17 14:20:11.000000 vedo-2023.4.4/examples/basic/colormap_list.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      703 2023-02-17 15:06:20.000000 vedo-2023.4.4/examples/basic/colormaps.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      356 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/connected_vtx.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2832 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/cut_freehand.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      275 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/cutter.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      415 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/delaunay2d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      581 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/delete_mesh_pts.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      373 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/distance2mesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      286 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/extrude.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      444 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/fillholes.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      489 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/flatarrow.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      826 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/glyphs.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      754 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/glyphs_arrows.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      765 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/hover_legend.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1103 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/input_box.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      543 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/basic/interactionstyle.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      801 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/keypress.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      435 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/largestregion.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      623 2022-12-07 16:21:23.000000 vedo-2023.4.4/examples/basic/legendbox.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      359 2022-03-17 20:05:40.000000 vedo-2023.4.4/examples/basic/lightings.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      799 2021-05-04 16:06:12.000000 vedo-2023.4.4/examples/basic/lights.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      651 2022-10-23 14:51:55.000000 vedo-2023.4.4/examples/basic/lin_interpolate.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      463 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/basic/manypoints.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      684 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/basic/manyspheres.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      531 2021-09-08 14:00:59.000000 vedo-2023.4.4/examples/basic/mesh_alphas.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1130 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mesh_coloring.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      957 2023-02-17 17:32:23.000000 vedo-2023.4.4/examples/basic/mesh_custom.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1374 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mesh_lut.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      683 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mesh_map2cell.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)     1537 2021-03-06 18:56:56.000000 vedo-2023.4.4/examples/basic/mesh_merge_vs_assembly.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      356 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mesh_modify.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      545 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mesh_sharemap.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      548 2023-02-17 15:02:14.000000 vedo-2023.4.4/examples/basic/mesh_threshold.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      323 2023-02-02 21:20:57.000000 vedo-2023.4.4/examples/basic/mirror.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      813 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mouseclick.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      705 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mousehighlight.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      766 2023-02-27 11:30:28.000000 vedo-2023.4.4/examples/basic/mousehover0.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1460 2023-02-02 21:21:32.000000 vedo-2023.4.4/examples/basic/mousehover1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      796 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/mousehover2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1288 2023-03-03 13:07:05.000000 vedo-2023.4.4/examples/basic/mousehover3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1110 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/multirenderers.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1523 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/multiwindows1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      839 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/multiwindows2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      563 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/pca_ellipse.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1336 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/pca_ellipsoid.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      495 2022-01-27 19:58:01.000000 vedo-2023.4.4/examples/basic/record_play.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      532 2022-03-19 14:51:42.000000 vedo-2023.4.4/examples/basic/ribbon.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      388 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/rotate_image.py
--rwxr-x---   0 musy      (8766) sharpe    (4311)      182 2023-01-18 12:46:24.000000 vedo-2023.4.4/examples/basic/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)      853 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/scalarbars.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      358 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/shadow1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      564 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/shadow2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      505 2023-01-09 14:44:11.000000 vedo-2023.4.4/examples/basic/shadow3.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      207 2021-05-04 16:06:12.000000 vedo-2023.4.4/examples/basic/shrink.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      478 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/silhouette1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1561 2023-02-16 17:23:28.000000 vedo-2023.4.4/examples/basic/silhouette2.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      349 2022-02-24 21:54:41.000000 vedo-2023.4.4/examples/basic/silhouette3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      474 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/skybox.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      985 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/slider_browser.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      614 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/sliders1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1432 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/sliders2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      513 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/sliders3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1661 2023-02-17 15:13:17.000000 vedo-2023.4.4/examples/basic/sliders_hsv.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      649 2022-01-27 20:22:57.000000 vedo-2023.4.4/examples/basic/specular.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      667 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/spline_tool.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      536 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/ssao.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      348 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/surf_intersect.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      776 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/texture_coords.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      504 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/basic/texturecubes.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      773 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/basic/tube_radii.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      429 2022-10-18 18:03:39.000000 vedo-2023.4.4/examples/basic/voronoi1.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.544575 vedo-2023.4.4/examples/other/
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        5 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/other/__init__.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      669 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/clone2d.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.548575 vedo-2023.4.4/examples/other/dolfin/
--rw-r-----   0 musy      (8766) sharpe    (4311)      504 2023-02-03 17:02:08.000000 vedo-2023.4.4/examples/other/dolfin/README.md
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/__init__.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)      446 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/ascalarbar.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     3266 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/awefem.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     1135 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/calc_surface_area.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     1072 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/collisions.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1024 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/demo_eigenvalue.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     1035 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/demo_submesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1845 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/elasticbeam.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     6528 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/elastodynamics.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1385 2022-05-08 22:18:28.000000 vedo-2023.4.4/examples/other/dolfin/ex03_poisson.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1977 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/ex04_mixed-poisson.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     1575 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/ex06_elasticity1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1064 2023-03-14 18:26:09.000000 vedo-2023.4.4/examples/other/dolfin/ex06_elasticity2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     3431 2023-01-20 17:19:50.000000 vedo-2023.4.4/examples/other/dolfin/ex06_elasticity3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2415 2023-03-02 20:08:18.000000 vedo-2023.4.4/examples/other/dolfin/ex06_elasticity4.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     2070 2022-05-08 22:20:34.000000 vedo-2023.4.4/examples/other/dolfin/ex07_stokes-iterative.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     1580 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/ft02_poisson_membrane.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1537 2022-03-17 20:16:09.000000 vedo-2023.4.4/examples/other/dolfin/ft04_heat_gaussian.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2943 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/ft09_reaction_system.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2622 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/heatconv.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)     2916 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/magnetostatics.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)      455 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/markmesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2899 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/navier-stokes_lshape.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)      462 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/nodal_u.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      630 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/pi_estimate.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1532 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/pointLoad.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1120 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/read_image.py
--rwxr-xr-x   0 musy      (8766) sharpe    (4311)     2130 2022-04-05 19:56:37.000000 vedo-2023.4.4/examples/other/dolfin/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)      670 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/dolfin/scalemesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2549 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/stokes1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1246 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/dolfin/stokes2.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)      818 2021-03-06 19:00:03.000000 vedo-2023.4.4/examples/other/dolfin/submesh_boundary.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2471 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/turing_2d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2356 2023-01-27 15:42:02.000000 vedo-2023.4.4/examples/other/dolfin/turing_3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      774 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/ellipt_fourier_desc.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      474 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/export_numpy.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)      653 2022-04-05 19:15:36.000000 vedo-2023.4.4/examples/other/export_x3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      939 2022-12-09 20:52:34.000000 vedo-2023.4.4/examples/other/flag_labels1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      422 2022-12-07 20:53:49.000000 vedo-2023.4.4/examples/other/flag_labels2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      330 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/icon.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      841 2021-05-04 16:06:12.000000 vedo-2023.4.4/examples/other/iminuit1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1127 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/inset.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1797 2023-02-27 12:54:07.000000 vedo-2023.4.4/examples/other/make_video.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      398 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/meshio_read.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1900 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/morphomatics_regression.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1328 2022-10-21 13:11:03.000000 vedo-2023.4.4/examples/other/morphomatics_tube.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      791 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/napari1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      907 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/nevergrad_opt.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1209 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/printc.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      529 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/other/pygeodesic1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      990 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/pygmsh_cut.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      958 2023-01-08 20:24:11.000000 vedo-2023.4.4/examples/other/pymeshlab1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      609 2023-01-08 20:24:00.000000 vedo-2023.4.4/examples/other/pymeshlab2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1742 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/qt_cutter.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4000 2023-01-09 14:49:35.000000 vedo-2023.4.4/examples/other/qt_tabs.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1984 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/qt_window1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1819 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/qt_window2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1713 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/qt_window3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      508 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/remesh_ACVD.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1095 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/remesh_meshfix.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1563 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/remesh_tetgen.py
--rwxrwxr-x   0 musy      (8766) sharpe    (4311)     1040 2022-12-15 17:42:58.000000 vedo-2023.4.4/examples/other/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)   155615 2023-03-14 19:35:57.000000 vedo-2023.4.4/examples/other/scene.npz
--rw-r-----   0 musy      (8766) sharpe    (4311)     3119 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/spherical_harmonics1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     3030 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/spherical_harmonics2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      770 2023-02-02 19:37:56.000000 vedo-2023.4.4/examples/other/trame_ex1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      878 2023-02-02 21:28:33.000000 vedo-2023.4.4/examples/other/trame_ex2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2285 2023-02-02 21:16:56.000000 vedo-2023.4.4/examples/other/trame_ex3.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.548575 vedo-2023.4.4/examples/other/trimesh/
--rw-r-----   0 musy      (8766) sharpe    (4311)     1832 2022-11-07 13:12:03.000000 vedo-2023.4.4/examples/other/trimesh/README.md
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        5 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/other/trimesh/__init__.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)     1193 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/other/trimesh/nearest.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1164 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/trimesh/ray.py
--rwxrwxr-x   0 musy      (8766) sharpe    (4311)      254 2022-08-14 19:31:52.000000 vedo-2023.4.4/examples/other/trimesh/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)     1628 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/trimesh/section.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)     1193 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/other/trimesh/shortest.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      845 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/vpolyscope.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1603 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/other/wx_window1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1726 2022-12-07 19:20:10.000000 vedo-2023.4.4/examples/other/wx_window2.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.552575 vedo-2023.4.4/examples/pyplot/
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-01-14 20:43:53.000000 vedo-2023.4.4/examples/pyplot/__init__.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2684 2023-02-16 17:49:40.000000 vedo-2023.4.4/examples/pyplot/anim_lines.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      663 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/caption.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2059 2023-02-16 17:43:20.000000 vedo-2023.4.4/examples/pyplot/custom_axes1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      987 2023-02-16 17:44:53.000000 vedo-2023.4.4/examples/pyplot/custom_axes2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      779 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/custom_axes3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1078 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/custom_axes4.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      280 2022-02-25 13:08:22.000000 vedo-2023.4.4/examples/pyplot/donut.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2125 2023-02-05 17:56:25.000000 vedo-2023.4.4/examples/pyplot/earthquake_browser.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      561 2023-03-09 15:49:39.000000 vedo-2023.4.4/examples/pyplot/embed_matplotlib.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)     1896 2022-03-17 21:22:27.000000 vedo-2023.4.4/examples/pyplot/explore5d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      827 2022-11-17 21:02:52.000000 vedo-2023.4.4/examples/pyplot/fill_gap.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      848 2023-03-10 19:38:14.000000 vedo-2023.4.4/examples/pyplot/fit_circle.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      944 2022-10-26 16:27:11.000000 vedo-2023.4.4/examples/pyplot/fit_curve.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1125 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/fit_erf.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1477 2023-02-17 15:30:35.000000 vedo-2023.4.4/examples/pyplot/fit_polynomial1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1955 2023-02-17 15:31:18.000000 vedo-2023.4.4/examples/pyplot/fit_polynomial2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     3836 2023-02-16 17:41:47.000000 vedo-2023.4.4/examples/pyplot/fonts3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2348 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/fourier_epicycles.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      801 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/glyphs3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      948 2023-02-17 15:33:49.000000 vedo-2023.4.4/examples/pyplot/goniometer.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1027 2022-10-28 17:45:09.000000 vedo-2023.4.4/examples/pyplot/graph_lineage.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1651 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/graph_network.py
--rw-r-----   0 musy      (8766) sharpe    (4311)       98 2022-04-06 10:06:05.000000 vedo-2023.4.4/examples/pyplot/histo_1d_a.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      947 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/histo_1d_b.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      881 2023-02-17 15:35:41.000000 vedo-2023.4.4/examples/pyplot/histo_1d_c.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1119 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/histo_1d_d.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      597 2022-03-29 11:28:28.000000 vedo-2023.4.4/examples/pyplot/histo_2d_a.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      550 2022-11-08 11:49:50.000000 vedo-2023.4.4/examples/pyplot/histo_2d_b.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      547 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/histo_3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      798 2022-11-17 21:03:22.000000 vedo-2023.4.4/examples/pyplot/histo_gauss.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      575 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/histo_hexagonal.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2599 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/histo_manual.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1166 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/histo_pca.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1332 2023-02-17 17:17:57.000000 vedo-2023.4.4/examples/pyplot/histo_polar.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      364 2022-10-28 11:18:51.000000 vedo-2023.4.4/examples/pyplot/histo_spheric.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      583 2022-03-21 12:35:17.000000 vedo-2023.4.4/examples/pyplot/histo_violin.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1143 2023-02-16 17:46:00.000000 vedo-2023.4.4/examples/pyplot/intersect2d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1159 2023-03-10 19:39:34.000000 vedo-2023.4.4/examples/pyplot/isolines.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      652 2022-04-04 18:51:43.000000 vedo-2023.4.4/examples/pyplot/latex.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      906 2023-03-14 18:39:00.000000 vedo-2023.4.4/examples/pyplot/lines_intersect.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      415 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/markers.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      413 2023-02-02 19:24:07.000000 vedo-2023.4.4/examples/pyplot/markpoint.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      556 2023-02-17 15:38:52.000000 vedo-2023.4.4/examples/pyplot/np_matrix.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      946 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/plot_bars.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      804 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/plot_density2d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      577 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/plot_density3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1003 2023-02-05 18:13:08.000000 vedo-2023.4.4/examples/pyplot/plot_density4d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1041 2022-11-17 21:03:57.000000 vedo-2023.4.4/examples/pyplot/plot_empty.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1366 2023-02-17 15:39:38.000000 vedo-2023.4.4/examples/pyplot/plot_errband.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1147 2023-02-17 15:40:26.000000 vedo-2023.4.4/examples/pyplot/plot_errbars.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1792 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/plot_extra_yaxis.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)     1350 2023-03-14 18:37:56.000000 vedo-2023.4.4/examples/pyplot/plot_fxy.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      692 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/plot_hexcells.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      537 2022-04-04 19:10:12.000000 vedo-2023.4.4/examples/pyplot/plot_multi.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      877 2022-11-18 17:33:00.000000 vedo-2023.4.4/examples/pyplot/plot_pip.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      586 2022-03-21 12:35:46.000000 vedo-2023.4.4/examples/pyplot/plot_polar.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      761 2021-05-04 16:06:12.000000 vedo-2023.4.4/examples/pyplot/plot_spheric.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      624 2022-03-20 15:44:56.000000 vedo-2023.4.4/examples/pyplot/plot_stream.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      256 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/quiver.py
--rwxr-xr-x   0 musy      (8766) sharpe    (4311)      279 2021-10-05 17:36:39.000000 vedo-2023.4.4/examples/pyplot/run_all.sh
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      397 2022-03-29 23:31:38.000000 vedo-2023.4.4/examples/pyplot/scatter1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1312 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/scatter2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      983 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/pyplot/scatter3.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      501 2022-06-06 19:09:50.000000 vedo-2023.4.4/examples/pyplot/scatter_large.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      421 2022-03-20 22:00:43.000000 vedo-2023.4.4/examples/pyplot/triangulate2d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1476 2023-02-16 17:50:52.000000 vedo-2023.4.4/examples/pyplot/whiskers.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.556575 vedo-2023.4.4/examples/simulations/
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 18:59:20.000000 vedo-2023.4.4/examples/simulations/__init__.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      594 2023-03-14 16:52:43.000000 vedo-2023.4.4/examples/simulations/airplane1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      785 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/simulations/airplane2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1175 2023-02-16 18:44:02.000000 vedo-2023.4.4/examples/simulations/aspring.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4596 2023-02-05 18:12:21.000000 vedo-2023.4.4/examples/simulations/brownian2d.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)     2125 2022-02-24 19:44:14.000000 vedo-2023.4.4/examples/simulations/doubleslit.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1257 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/drag_catenary.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      721 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/drag_chain.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4889 2023-02-05 18:11:27.000000 vedo-2023.4.4/examples/simulations/gas.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2889 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/simulations/grayscott.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2440 2023-02-16 19:03:31.000000 vedo-2023.4.4/examples/simulations/gyroscope1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2887 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/simulations/gyroscope2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2113 2023-01-30 20:16:44.000000 vedo-2023.4.4/examples/simulations/hanoi3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      994 2023-01-20 17:18:38.000000 vedo-2023.4.4/examples/simulations/koch_fractal.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      636 2023-02-04 13:32:29.000000 vedo-2023.4.4/examples/simulations/lorenz.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2120 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/mag_field1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      781 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/mag_field2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4367 2023-02-16 18:41:40.000000 vedo-2023.4.4/examples/simulations/multiple_pendulum.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    11430 2023-01-18 12:46:24.000000 vedo-2023.4.4/examples/simulations/optics_base.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4261 2022-10-26 14:34:00.000000 vedo-2023.4.4/examples/simulations/optics_main1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2124 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/optics_main2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1423 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/optics_main3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4082 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/simulations/particle_simulator.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1081 2023-02-05 18:10:40.000000 vedo-2023.4.4/examples/simulations/pendulum_3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1886 2023-02-05 18:10:20.000000 vedo-2023.4.4/examples/simulations/pendulum_ode.py
--rwxr-xr-x   0 musy      (8766) sharpe    (4311)      279 2021-10-05 17:36:43.000000 vedo-2023.4.4/examples/simulations/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)     2721 2023-02-05 18:09:47.000000 vedo-2023.4.4/examples/simulations/self_org_maps2d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      859 2023-02-17 17:01:30.000000 vedo-2023.4.4/examples/simulations/spline_ease.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      549 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/simulations/trail.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1665 2022-11-18 16:09:52.000000 vedo-2023.4.4/examples/simulations/tunnelling1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2805 2022-12-20 17:42:39.000000 vedo-2023.4.4/examples/simulations/tunnelling2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     4456 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/value_iteration.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2121 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/simulations/volterra.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     3610 2023-02-05 18:08:51.000000 vedo-2023.4.4/examples/simulations/wave_equation1d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1656 2023-01-07 21:26:46.000000 vedo-2023.4.4/examples/simulations/wave_equation2d.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.560575 vedo-2023.4.4/examples/volumetric/
--rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 19:00:26.000000 vedo-2023.4.4/examples/volumetric/__init__.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      210 2021-05-04 16:06:12.000000 vedo-2023.4.4/examples/volumetric/app_isobrowser.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      273 2022-02-09 17:33:21.000000 vedo-2023.4.4/examples/volumetric/app_raycaster.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      919 2023-03-10 19:37:32.000000 vedo-2023.4.4/examples/volumetric/colorize_volume.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      564 2023-02-23 20:04:44.000000 vedo-2023.4.4/examples/volumetric/delaunay3d.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      689 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/densifycloud.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     2029 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/earth_model.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      376 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/erode_dilate.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      290 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/euclidian_dist.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      950 2023-02-23 19:58:20.000000 vedo-2023.4.4/examples/volumetric/image_false_colors.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      652 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/image_fft.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1432 2022-11-20 18:06:50.000000 vedo-2023.4.4/examples/volumetric/image_mask.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1387 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/image_probe.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      795 2022-12-15 15:46:00.000000 vedo-2023.4.4/examples/volumetric/image_rgba.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      805 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/image_to_mesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1481 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/interpolate_volume.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      367 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/isosurfaces.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      451 2023-02-17 17:06:54.000000 vedo-2023.4.4/examples/volumetric/legosurface.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      616 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/lowpassfilter.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      462 2022-03-19 15:00:10.000000 vedo-2023.4.4/examples/volumetric/mesh2volume.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1208 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/multiscalars.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      608 2023-02-23 13:22:42.000000 vedo-2023.4.4/examples/volumetric/numpy2volume1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      539 2023-02-14 15:11:12.000000 vedo-2023.4.4/examples/volumetric/numpy2volume2.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      521 2022-08-14 19:31:52.000000 vedo-2023.4.4/examples/volumetric/numpy_imread.py
--rw-r--r--   0 musy      (8766) sharpe    (4311)    10019 2021-03-06 19:00:26.000000 vedo-2023.4.4/examples/volumetric/off_furniture.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      780 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/office.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      346 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/point_density.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      540 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/probePoints.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      590 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/probe_line1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      732 2023-02-23 11:27:44.000000 vedo-2023.4.4/examples/volumetric/probe_line2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      614 2022-12-15 18:13:49.000000 vedo-2023.4.4/examples/volumetric/read_volume1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1196 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/read_volume2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1272 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/read_volume3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      593 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/read_vts.py
--rwxr-xr-x   0 musy      (8766) sharpe    (4311)      281 2021-10-05 17:36:48.000000 vedo-2023.4.4/examples/volumetric/run_all.sh
--rw-r-----   0 musy      (8766) sharpe    (4311)      299 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/sliceMesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1028 2023-02-23 13:25:12.000000 vedo-2023.4.4/examples/volumetric/slicePlane1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      540 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/slicePlane2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      576 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/slicer1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1298 2023-02-03 14:25:42.000000 vedo-2023.4.4/examples/volumetric/slicer2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      898 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/streamlines1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      781 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/streamlines2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      895 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/streamlines3.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      612 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/streamlines4.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      811 2022-05-08 19:29:44.000000 vedo-2023.4.4/examples/volumetric/streamribbons.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      217 2022-11-27 17:34:53.000000 vedo-2023.4.4/examples/volumetric/tensor_grid.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      615 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/tensors.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      619 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/tet_astyle.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)      936 2021-09-20 16:16:08.000000 vedo-2023.4.4/examples/volumetric/tet_build.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      332 2023-02-16 17:47:52.000000 vedo-2023.4.4/examples/volumetric/tet_cutMesh1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1002 2023-02-23 15:08:37.000000 vedo-2023.4.4/examples/volumetric/tet_cutMesh2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1216 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/tet_explode.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      485 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/tet_isos_slice.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      433 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/tet_threshold.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      964 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/tetralize_surface.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      201 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/ugrid1.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      274 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/ugrid2.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      285 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/vol2points.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      422 2022-11-14 13:08:27.000000 vedo-2023.4.4/examples/volumetric/volumeFromMesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)     1930 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/volume_operations.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      769 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/volume_sharemap.py
--rw-r-----   0 musy      (8766) sharpe    (4311)      369 2022-10-17 16:29:31.000000 vedo-2023.4.4/examples/volumetric/warp_scalars.py
--rw-r-----   0 musy      (8766) sharpe    (4311)       75 2023-03-14 20:19:25.572575 vedo-2023.4.4/setup.cfg
--rwxr-x---   0 musy      (8766) sharpe    (4311)     2767 2023-01-18 12:46:24.000000 vedo-2023.4.4/setup.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.564575 vedo-2023.4.4/vedo/
--rw-r-----   0 musy      (8766) sharpe    (4311)     3629 2023-03-01 13:51:18.000000 vedo-2023.4.4/vedo/__init__.py
--rw-r-----   0 musy      (8766) sharpe    (4311)   146812 2023-02-27 11:30:28.000000 vedo-2023.4.4/vedo/addons.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    59520 2023-03-14 19:03:32.000000 vedo-2023.4.4/vedo/applications.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    11852 2023-03-12 19:39:22.000000 vedo-2023.4.4/vedo/assembly.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    12325 2023-03-14 20:03:55.000000 vedo-2023.4.4/vedo/backends.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    87004 2023-03-14 16:40:23.000000 vedo-2023.4.4/vedo/base.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    34552 2023-03-09 15:51:00.000000 vedo-2023.4.4/vedo/cli.py
--rw-rw-r--   0 musy      (8766) sharpe    (4311)   304787 2023-01-27 09:58:59.000000 vedo-2023.4.4/vedo/cmaps.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    34609 2023-01-28 15:40:45.000000 vedo-2023.4.4/vedo/colors.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    31976 2023-03-14 18:21:43.000000 vedo-2023.4.4/vedo/dolfin.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.572575 vedo-2023.4.4/vedo/fonts/
--rw-r-----   0 musy      (8766) sharpe    (4311)    65008 2023-02-08 19:31:34.000000 vedo-2023.4.4/vedo/fonts/Bongas.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)    33928 2014-01-28 02:04:38.000000 vedo-2023.4.4/vedo/fonts/Bongas.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)    65491 2023-02-08 19:33:53.000000 vedo-2023.4.4/vedo/fonts/Calco.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)    65528 2020-06-13 19:22:59.000000 vedo-2023.4.4/vedo/fonts/Calco.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)   127729 2023-02-08 19:34:41.000000 vedo-2023.4.4/vedo/fonts/Comae.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)    98408 2014-01-28 02:09:20.000000 vedo-2023.4.4/vedo/fonts/Comae.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)   153242 2023-02-08 19:37:52.000000 vedo-2023.4.4/vedo/fonts/Glasgo.npz
--rw-rw-r--   0 musy      (8766) sharpe    (4311)   144352 2017-09-01 17:37:42.000000 vedo-2023.4.4/vedo/fonts/Glasgo.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)   196983 2023-02-08 19:52:45.000000 vedo-2023.4.4/vedo/fonts/Kanopus.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)   901240 2020-08-12 13:11:07.000000 vedo-2023.4.4/vedo/fonts/Kanopus.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)   111014 2023-02-08 19:25:41.000000 vedo-2023.4.4/vedo/fonts/Normografo.npz
--rw-rw-r--   0 musy      (8766) sharpe    (4311)    52460 2017-08-03 01:32:10.000000 vedo-2023.4.4/vedo/fonts/Normografo.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)    95884 2023-02-08 19:50:37.000000 vedo-2023.4.4/vedo/fonts/Quikhand.npz
--rw-rw-r--   0 musy      (8766) sharpe    (4311)    79328 2020-06-22 00:16:11.000000 vedo-2023.4.4/vedo/fonts/Quikhand.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)    91962 2023-02-08 19:47:39.000000 vedo-2023.4.4/vedo/fonts/SmartCouric.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)    98156 2020-07-27 12:20:22.000000 vedo-2023.4.4/vedo/fonts/SmartCouric.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)   110904 2023-02-08 19:45:55.000000 vedo-2023.4.4/vedo/fonts/Theemim.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)   169668 2013-06-04 12:17:38.000000 vedo-2023.4.4/vedo/fonts/Theemim.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)   134429 2023-02-08 19:55:49.000000 vedo-2023.4.4/vedo/fonts/VictorMono.npz
--rw-r--r--   0 musy      (8766) sharpe    (4311)   153724 2020-06-29 16:12:20.000000 vedo-2023.4.4/vedo/fonts/VictorMono.ttf
--rw-r-----   0 musy      (8766) sharpe    (4311)    71089 2023-03-14 16:54:55.000000 vedo-2023.4.4/vedo/io.py
--rw-r-----   0 musy      (8766) sharpe    (4311)   107750 2023-03-13 12:20:29.000000 vedo-2023.4.4/vedo/mesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    51019 2023-03-12 18:53:41.000000 vedo-2023.4.4/vedo/picture.py
--rw-r-----   0 musy      (8766) sharpe    (4311)   153644 2023-03-14 20:15:14.000000 vedo-2023.4.4/vedo/plotter.py
--rw-r-----   0 musy      (8766) sharpe    (4311)   180425 2023-03-12 18:38:44.000000 vedo-2023.4.4/vedo/pointcloud.py
--rw-r-----   0 musy      (8766) sharpe    (4311)   147779 2023-03-14 18:36:33.000000 vedo-2023.4.4/vedo/pyplot.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    31455 2023-03-01 20:00:51.000000 vedo-2023.4.4/vedo/settings.py
--rw-r-----   0 musy      (8766) sharpe    (4311)   160294 2023-03-06 21:00:06.000000 vedo-2023.4.4/vedo/shapes.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    17422 2023-03-14 18:05:38.000000 vedo-2023.4.4/vedo/tetmesh.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    12969 2023-03-12 19:16:40.000000 vedo-2023.4.4/vedo/ugrid.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    87075 2023-03-14 17:42:00.000000 vedo-2023.4.4/vedo/utils.py
--rw-r-----   0 musy      (8766) sharpe    (4311)       22 2023-03-14 19:40:53.000000 vedo-2023.4.4/vedo/version.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    59432 2023-03-13 12:06:55.000000 vedo-2023.4.4/vedo/volume.py
--rw-r-----   0 musy      (8766) sharpe    (4311)    12744 2023-03-01 17:52:28.000000 vedo-2023.4.4/vedo/vtkclasses.py
-drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-03-14 20:19:25.564575 vedo-2023.4.4/vedo.egg-info/
--rw-r-----   0 musy      (8766) sharpe    (4311)     1249 2023-03-14 20:19:25.000000 vedo-2023.4.4/vedo.egg-info/PKG-INFO
--rw-r-----   0 musy      (8766) sharpe    (4311)    13573 2023-03-14 20:19:25.000000 vedo-2023.4.4/vedo.egg-info/SOURCES.txt
--rw-r-----   0 musy      (8766) sharpe    (4311)        1 2023-03-14 20:19:25.000000 vedo-2023.4.4/vedo.egg-info/dependency_links.txt
--rw-r-----   0 musy      (8766) sharpe    (4311)       46 2023-03-14 20:19:25.000000 vedo-2023.4.4/vedo.egg-info/entry_points.txt
--rw-r-----   0 musy      (8766) sharpe    (4311)       30 2023-03-14 20:19:25.000000 vedo-2023.4.4/vedo.egg-info/requires.txt
--rw-r-----   0 musy      (8766) sharpe    (4311)        5 2023-03-14 20:19:25.000000 vedo-2023.4.4/vedo.egg-info/top_level.txt
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.424368 vedo-2023.4.5/
+-rw-r-----   0 musy      (8766) sharpe    (4311)     7617 2022-03-01 14:15:57.000000 vedo-2023.4.5/FONT.LICENSE
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     1067 2022-02-27 13:43:39.000000 vedo-2023.4.5/LICENSE
+-rw-r--r--   0 musy      (8766) sharpe    (4311)      267 2022-03-01 12:22:11.000000 vedo-2023.4.5/MANIFEST.in
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1249 2023-06-18 15:36:43.424368 vedo-2023.4.5/PKG-INFO
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)    10862 2023-06-02 16:59:49.000000 vedo-2023.4.5/README.md
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.376367 vedo-2023.4.5/examples/
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.380367 vedo-2023.4.5/examples/advanced/
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 18:50:54.000000 vedo-2023.4.5/examples/advanced/__init__.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1467 2023-02-02 17:56:11.000000 vedo-2023.4.5/examples/advanced/capping_mesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      559 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/contours2mesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      281 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/convex_hull.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      422 2023-02-03 19:31:48.000000 vedo-2023.4.5/examples/advanced/cut_and_cap.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      582 2023-02-17 17:24:05.000000 vedo-2023.4.5/examples/advanced/cut_with_mesh1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      440 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/cut_with_points1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      498 2023-06-18 13:10:42.000000 vedo-2023.4.5/examples/advanced/cut_with_points2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      941 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/fitline.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      683 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/fitplanes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      949 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/fitspheres1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      972 2023-02-17 17:16:26.000000 vedo-2023.4.5/examples/advanced/fitspheres2.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      546 2022-02-25 12:03:56.000000 vedo-2023.4.5/examples/advanced/geodesic.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     5443 2022-11-06 15:19:38.000000 vedo-2023.4.5/examples/advanced/geological_model.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      824 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/gyroid.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2153 2023-06-18 13:14:58.000000 vedo-2023.4.5/examples/advanced/interpolate_field.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      672 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/interpolate_scalar1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1129 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/interpolate_scalar2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      680 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/interpolate_scalar3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      996 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/interpolate_scalar4.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      680 2023-01-20 17:20:50.000000 vedo-2023.4.5/examples/advanced/line2mesh_quads.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      731 2023-01-20 17:20:32.000000 vedo-2023.4.5/examples/advanced/line2mesh_tri.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1416 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/measure_curvature.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      461 2022-12-07 17:35:32.000000 vedo-2023.4.5/examples/advanced/mesh_smoother1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      536 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/mesh_smoother2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1074 2023-02-17 14:59:48.000000 vedo-2023.4.5/examples/advanced/meshquality.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      919 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/moving_least_squares1D.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1676 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/moving_least_squares2D.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2182 2023-03-23 11:00:46.000000 vedo-2023.4.5/examples/advanced/multi_viewer2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1123 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/recosurface.py
+-rwxr-x---   0 musy      (8766) sharpe    (4311)      347 2022-11-14 13:08:27.000000 vedo-2023.4.5/examples/advanced/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)      395 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/skeletonize.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2197 2023-03-23 11:07:23.000000 vedo-2023.4.5/examples/advanced/spline_draw.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      316 2022-02-25 12:11:18.000000 vedo-2023.4.5/examples/advanced/splitmesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      333 2023-03-14 16:58:51.000000 vedo-2023.4.5/examples/advanced/timer_callback0.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1232 2023-04-13 17:24:04.000000 vedo-2023.4.5/examples/advanced/timer_callback1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2299 2023-02-17 15:55:08.000000 vedo-2023.4.5/examples/advanced/timer_callback2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1708 2023-04-13 17:20:56.000000 vedo-2023.4.5/examples/advanced/timer_callback3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      526 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/voronoi2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      990 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/warp1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      887 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/advanced/warp2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3663 2023-01-07 21:26:46.000000 vedo-2023.4.5/examples/advanced/warp3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     6776 2023-03-23 11:06:49.000000 vedo-2023.4.5/examples/advanced/warp4.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4991 2023-01-07 21:26:46.000000 vedo-2023.4.5/examples/advanced/warp5.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1033 2023-04-03 14:27:35.000000 vedo-2023.4.5/examples/advanced/warp6.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.388367 vedo-2023.4.5/examples/basic/
+-rw-r-----   0 musy      (8766) sharpe    (4311)      682 2023-03-14 19:19:18.000000 vedo-2023.4.5/examples/basic/.vedo_pipeline_graphviz
+-rw-r-----   0 musy      (8766) sharpe    (4311)    19278 2023-03-14 19:19:18.000000 vedo-2023.4.5/examples/basic/.vedo_pipeline_graphviz.pdf
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2518 2023-06-18 15:14:33.000000 vedo-2023.4.5/examples/basic/.vedo_recorded_events.log
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 18:56:56.000000 vedo-2023.4.5/examples/basic/__init__.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      838 2023-04-13 17:38:35.000000 vedo-2023.4.5/examples/basic/align1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1027 2023-04-13 17:44:46.000000 vedo-2023.4.5/examples/basic/align2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1164 2023-04-13 17:57:24.000000 vedo-2023.4.5/examples/basic/align3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1079 2023-04-13 18:00:42.000000 vedo-2023.4.5/examples/basic/align4.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1148 2023-04-13 18:02:59.000000 vedo-2023.4.5/examples/basic/align5.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      883 2023-04-13 18:05:19.000000 vedo-2023.4.5/examples/basic/align6.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      849 2023-04-13 18:11:41.000000 vedo-2023.4.5/examples/basic/background_image.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1377 2023-04-13 18:14:10.000000 vedo-2023.4.5/examples/basic/boolean.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      719 2023-04-13 18:16:55.000000 vedo-2023.4.5/examples/basic/boundaries.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      782 2023-04-13 18:19:56.000000 vedo-2023.4.5/examples/basic/buildmesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1204 2023-04-13 18:22:38.000000 vedo-2023.4.5/examples/basic/buttons.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1495 2023-04-13 18:26:44.000000 vedo-2023.4.5/examples/basic/cartoony.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      731 2023-04-13 18:28:57.000000 vedo-2023.4.5/examples/basic/cells_within_bounds.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1322 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/closewindow.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      931 2023-04-13 18:30:21.000000 vedo-2023.4.5/examples/basic/clustering.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      688 2023-04-13 18:38:32.000000 vedo-2023.4.5/examples/basic/color_mesh_cells1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      768 2023-04-13 18:40:16.000000 vedo-2023.4.5/examples/basic/color_mesh_cells2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1680 2023-04-13 18:32:30.000000 vedo-2023.4.5/examples/basic/colorcubes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1322 2023-04-13 18:34:38.000000 vedo-2023.4.5/examples/basic/colorlines.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1213 2023-04-13 18:36:50.000000 vedo-2023.4.5/examples/basic/colormap_list.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      703 2023-02-17 15:06:20.000000 vedo-2023.4.5/examples/basic/colormaps.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      709 2023-04-13 18:42:02.000000 vedo-2023.4.5/examples/basic/connected_vtx.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2847 2023-04-17 09:34:03.000000 vedo-2023.4.5/examples/basic/cut_freehand.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      630 2023-06-15 12:11:15.000000 vedo-2023.4.5/examples/basic/cut_interactive.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      772 2023-04-13 18:49:28.000000 vedo-2023.4.5/examples/basic/delaunay2d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1003 2023-04-13 18:51:43.000000 vedo-2023.4.5/examples/basic/delete_mesh_pts.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      678 2023-04-13 18:53:42.000000 vedo-2023.4.5/examples/basic/distance2mesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      574 2023-04-13 18:55:44.000000 vedo-2023.4.5/examples/basic/extrude.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      380 2023-04-13 18:57:36.000000 vedo-2023.4.5/examples/basic/fillholes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      418 2023-04-13 18:58:26.000000 vedo-2023.4.5/examples/basic/flatarrow.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1058 2023-04-13 19:01:49.000000 vedo-2023.4.5/examples/basic/glyphs1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1415 2023-04-13 19:03:46.000000 vedo-2023.4.5/examples/basic/glyphs_arrows.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      765 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/hover_legend.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1103 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/input_box.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      523 2023-04-05 18:39:17.000000 vedo-2023.4.5/examples/basic/interaction_modes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      810 2023-03-23 11:19:03.000000 vedo-2023.4.5/examples/basic/keypress.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      435 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/largestregion.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      623 2022-12-07 16:21:23.000000 vedo-2023.4.5/examples/basic/legendbox.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      359 2022-03-17 20:05:40.000000 vedo-2023.4.5/examples/basic/lightings.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      799 2021-05-04 16:06:12.000000 vedo-2023.4.5/examples/basic/lights.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      651 2022-10-23 14:51:55.000000 vedo-2023.4.5/examples/basic/lin_interpolate.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      463 2023-04-27 17:09:43.000000 vedo-2023.4.5/examples/basic/manypoints.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      684 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/basic/manyspheres.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      531 2021-09-08 14:00:59.000000 vedo-2023.4.5/examples/basic/mesh_alphas.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1133 2023-05-28 11:38:19.000000 vedo-2023.4.5/examples/basic/mesh_coloring.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      957 2023-02-17 17:32:23.000000 vedo-2023.4.5/examples/basic/mesh_custom.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1374 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/mesh_lut.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      683 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/mesh_map2cell.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)     1537 2021-03-06 18:56:56.000000 vedo-2023.4.5/examples/basic/mesh_merge_vs_assembly.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      356 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/mesh_modify.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      545 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/mesh_sharemap.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      548 2023-02-17 15:02:14.000000 vedo-2023.4.5/examples/basic/mesh_threshold.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      323 2023-02-02 21:20:57.000000 vedo-2023.4.5/examples/basic/mirror.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      813 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/mouseclick.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      705 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/mousehighlight.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      766 2023-02-27 11:30:28.000000 vedo-2023.4.5/examples/basic/mousehover0.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1460 2023-03-23 11:21:41.000000 vedo-2023.4.5/examples/basic/mousehover1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      805 2023-03-23 11:22:10.000000 vedo-2023.4.5/examples/basic/mousehover2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1300 2023-03-23 11:23:21.000000 vedo-2023.4.5/examples/basic/mousehover3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1110 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/multirenderers.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1523 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/multiwindows1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      839 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/multiwindows2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      563 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/pca_ellipse.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1336 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/pca_ellipsoid.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      495 2022-01-27 19:58:01.000000 vedo-2023.4.5/examples/basic/record_play.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      532 2022-03-19 14:51:42.000000 vedo-2023.4.5/examples/basic/ribbon.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      388 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/rotate_image.py
+-rwxr-x---   0 musy      (8766) sharpe    (4311)      182 2023-01-18 12:46:24.000000 vedo-2023.4.5/examples/basic/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)      859 2023-05-28 11:39:11.000000 vedo-2023.4.5/examples/basic/scalarbars.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      353 2023-05-26 16:18:15.000000 vedo-2023.4.5/examples/basic/shadow1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      564 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/shadow2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      505 2023-01-09 14:44:11.000000 vedo-2023.4.5/examples/basic/shadow3.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      207 2021-05-04 16:06:12.000000 vedo-2023.4.5/examples/basic/shrink.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      478 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/silhouette1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1561 2023-02-16 17:23:28.000000 vedo-2023.4.5/examples/basic/silhouette2.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      349 2022-02-24 21:54:41.000000 vedo-2023.4.5/examples/basic/silhouette3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      474 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/skybox.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      971 2023-03-23 11:24:13.000000 vedo-2023.4.5/examples/basic/slider_browser.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      614 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/sliders1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1432 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/sliders2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      513 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/sliders3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1661 2023-02-17 15:13:17.000000 vedo-2023.4.5/examples/basic/sliders_hsv.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      897 2023-04-05 13:32:34.000000 vedo-2023.4.5/examples/basic/sliders_range.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      649 2022-01-27 20:22:57.000000 vedo-2023.4.5/examples/basic/specular.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      667 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/spline_tool.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      536 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/ssao.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      348 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/surf_intersect.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      776 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/texture_coords.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      504 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/basic/texturecubes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      773 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/basic/tube_radii.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      429 2022-10-18 18:03:39.000000 vedo-2023.4.5/examples/basic/voronoi1.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.392367 vedo-2023.4.5/examples/other/
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        5 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/other/__init__.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      669 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/clone2d.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.400367 vedo-2023.4.5/examples/other/dolfin/
+-rw-r-----   0 musy      (8766) sharpe    (4311)      504 2023-02-03 17:02:08.000000 vedo-2023.4.5/examples/other/dolfin/README.md
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/__init__.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)      446 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/ascalarbar.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3266 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/awefem.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     1135 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/calc_surface_area.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     1072 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/collisions.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1024 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/demo_eigenvalue.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     1035 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/demo_submesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1845 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/elasticbeam.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     6528 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/elastodynamics.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1385 2022-05-08 22:18:28.000000 vedo-2023.4.5/examples/other/dolfin/ex03_poisson.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1977 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/ex04_mixed-poisson.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     1575 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/ex06_elasticity1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1064 2023-03-14 18:26:09.000000 vedo-2023.4.5/examples/other/dolfin/ex06_elasticity2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3431 2023-01-20 17:19:50.000000 vedo-2023.4.5/examples/other/dolfin/ex06_elasticity3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2415 2023-03-02 20:08:18.000000 vedo-2023.4.5/examples/other/dolfin/ex06_elasticity4.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     2070 2022-05-08 22:20:34.000000 vedo-2023.4.5/examples/other/dolfin/ex07_stokes-iterative.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     1580 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/ft02_poisson_membrane.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1537 2022-03-17 20:16:09.000000 vedo-2023.4.5/examples/other/dolfin/ft04_heat_gaussian.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2943 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/ft09_reaction_system.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2622 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/heatconv.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)     2916 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/magnetostatics.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)      455 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/markmesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2899 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/navier-stokes_lshape.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)      462 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/nodal_u.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      630 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/pi_estimate.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1532 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/pointLoad.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1120 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/read_image.py
+-rwxr-xr-x   0 musy      (8766) sharpe    (4311)     2130 2022-04-05 19:56:37.000000 vedo-2023.4.5/examples/other/dolfin/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)      670 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/dolfin/scalemesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2549 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/stokes1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1246 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/dolfin/stokes2.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)      818 2021-03-06 19:00:03.000000 vedo-2023.4.5/examples/other/dolfin/submesh_boundary.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2471 2023-01-27 15:42:02.000000 vedo-2023.4.5/examples/other/dolfin/turing_2d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2461 2023-04-17 12:22:50.000000 vedo-2023.4.5/examples/other/dolfin/turing_3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      774 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/ellipt_fourier_desc.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      474 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/export_numpy.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)      653 2022-04-05 19:15:36.000000 vedo-2023.4.5/examples/other/export_x3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      939 2022-12-09 20:52:34.000000 vedo-2023.4.5/examples/other/flag_labels1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      422 2022-12-07 20:53:49.000000 vedo-2023.4.5/examples/other/flag_labels2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      330 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/icon.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      841 2021-05-04 16:06:12.000000 vedo-2023.4.5/examples/other/iminuit1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1127 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/inset.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1797 2023-02-27 12:54:07.000000 vedo-2023.4.5/examples/other/make_video.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      398 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/meshio_read.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1900 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/morphomatics_regression.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1328 2022-10-21 13:11:03.000000 vedo-2023.4.5/examples/other/morphomatics_tube.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      791 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/napari1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      907 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/nevergrad_opt.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1190 2023-03-23 15:07:49.000000 vedo-2023.4.5/examples/other/printc.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      529 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/other/pygeodesic1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1030 2023-06-15 12:18:25.000000 vedo-2023.4.5/examples/other/pygmsh_cut.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      958 2023-01-08 20:24:11.000000 vedo-2023.4.5/examples/other/pymeshlab1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      609 2023-01-08 20:24:00.000000 vedo-2023.4.5/examples/other/pymeshlab2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1743 2023-06-15 12:22:12.000000 vedo-2023.4.5/examples/other/qt_cutter.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4000 2023-01-09 14:49:35.000000 vedo-2023.4.5/examples/other/qt_tabs.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1984 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/qt_window1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1819 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/qt_window2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1713 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/qt_window3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      508 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/remesh_ACVD.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1095 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/remesh_meshfix.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1563 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/remesh_tetgen.py
+-rwxrwxr-x   0 musy      (8766) sharpe    (4311)     1040 2022-12-15 17:42:58.000000 vedo-2023.4.5/examples/other/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)   155200 2023-06-18 15:27:07.000000 vedo-2023.4.5/examples/other/scene.npz
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3119 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/spherical_harmonics1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3023 2023-05-26 16:42:50.000000 vedo-2023.4.5/examples/other/spherical_harmonics2.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      217 2022-11-27 17:34:53.000000 vedo-2023.4.5/examples/other/tensor_grid1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4769 2023-04-17 17:54:59.000000 vedo-2023.4.5/examples/other/tensor_grid2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      770 2023-02-02 19:37:56.000000 vedo-2023.4.5/examples/other/trame_ex1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      878 2023-02-02 21:28:33.000000 vedo-2023.4.5/examples/other/trame_ex2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2285 2023-02-02 21:16:56.000000 vedo-2023.4.5/examples/other/trame_ex3.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.400367 vedo-2023.4.5/examples/other/trimesh/
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1832 2022-11-07 13:12:03.000000 vedo-2023.4.5/examples/other/trimesh/README.md
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        5 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/other/trimesh/__init__.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)     1193 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/other/trimesh/nearest.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1164 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/trimesh/ray.py
+-rwxrwxr-x   0 musy      (8766) sharpe    (4311)      254 2022-08-14 19:31:52.000000 vedo-2023.4.5/examples/other/trimesh/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1628 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/other/trimesh/section.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)     1193 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/other/trimesh/shortest.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      688 2023-04-03 11:58:30.000000 vedo-2023.4.5/examples/other/vpolyscope.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1610 2023-05-26 16:42:31.000000 vedo-2023.4.5/examples/other/wx_window1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1726 2022-12-07 19:20:10.000000 vedo-2023.4.5/examples/other/wx_window2.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.408367 vedo-2023.4.5/examples/pyplot/
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-01-14 20:43:53.000000 vedo-2023.4.5/examples/pyplot/__init__.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2684 2023-02-16 17:49:40.000000 vedo-2023.4.5/examples/pyplot/anim_lines.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      663 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/caption.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2059 2023-02-16 17:43:20.000000 vedo-2023.4.5/examples/pyplot/custom_axes1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      987 2023-02-16 17:44:53.000000 vedo-2023.4.5/examples/pyplot/custom_axes2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      779 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/custom_axes3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1078 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/custom_axes4.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      280 2022-02-25 13:08:22.000000 vedo-2023.4.5/examples/pyplot/donut.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2167 2023-04-17 13:00:20.000000 vedo-2023.4.5/examples/pyplot/earthquake_browser.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      561 2023-03-09 15:49:39.000000 vedo-2023.4.5/examples/pyplot/embed_matplotlib.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)     1896 2023-04-27 17:11:39.000000 vedo-2023.4.5/examples/pyplot/explore5d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      827 2022-11-17 21:02:52.000000 vedo-2023.4.5/examples/pyplot/fill_gap.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      848 2023-03-10 19:38:14.000000 vedo-2023.4.5/examples/pyplot/fit_circle.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      944 2022-10-26 16:27:11.000000 vedo-2023.4.5/examples/pyplot/fit_curve.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1126 2023-04-30 20:06:51.000000 vedo-2023.4.5/examples/pyplot/fit_erf.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1477 2023-02-17 15:30:35.000000 vedo-2023.4.5/examples/pyplot/fit_polynomial1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1955 2023-02-17 15:31:18.000000 vedo-2023.4.5/examples/pyplot/fit_polynomial2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3836 2023-02-16 17:41:47.000000 vedo-2023.4.5/examples/pyplot/fonts3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2341 2023-03-23 11:26:07.000000 vedo-2023.4.5/examples/pyplot/fourier_epicycles.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      801 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/glyphs3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      948 2023-02-17 15:33:49.000000 vedo-2023.4.5/examples/pyplot/goniometer.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1001 2023-06-18 13:16:30.000000 vedo-2023.4.5/examples/pyplot/graph_lineage.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1662 2023-06-18 13:18:08.000000 vedo-2023.4.5/examples/pyplot/graph_network.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)       98 2022-04-06 10:06:05.000000 vedo-2023.4.5/examples/pyplot/histo_1d_a.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      947 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/histo_1d_b.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      881 2023-02-17 15:35:41.000000 vedo-2023.4.5/examples/pyplot/histo_1d_c.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1120 2023-04-30 20:16:33.000000 vedo-2023.4.5/examples/pyplot/histo_1d_d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      797 2023-04-13 15:13:03.000000 vedo-2023.4.5/examples/pyplot/histo_1d_e.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      597 2022-03-29 11:28:28.000000 vedo-2023.4.5/examples/pyplot/histo_2d_a.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      550 2022-11-08 11:49:50.000000 vedo-2023.4.5/examples/pyplot/histo_2d_b.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      547 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/histo_3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      798 2022-11-17 21:03:22.000000 vedo-2023.4.5/examples/pyplot/histo_gauss.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      575 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/histo_hexagonal.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2599 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/histo_manual.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1166 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/histo_pca.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1332 2023-02-17 17:17:57.000000 vedo-2023.4.5/examples/pyplot/histo_polar.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      364 2022-10-28 11:18:51.000000 vedo-2023.4.5/examples/pyplot/histo_spheric.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      583 2022-03-21 12:35:17.000000 vedo-2023.4.5/examples/pyplot/histo_violin.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1143 2023-02-16 17:46:00.000000 vedo-2023.4.5/examples/pyplot/intersect2d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1159 2023-03-10 19:39:34.000000 vedo-2023.4.5/examples/pyplot/isolines.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      652 2022-04-04 18:51:43.000000 vedo-2023.4.5/examples/pyplot/latex.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      906 2023-03-14 18:39:00.000000 vedo-2023.4.5/examples/pyplot/lines_intersect.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      415 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/markers.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      413 2023-02-02 19:24:07.000000 vedo-2023.4.5/examples/pyplot/markpoint.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      556 2023-02-17 15:38:52.000000 vedo-2023.4.5/examples/pyplot/np_matrix.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      946 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/plot_bars.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      804 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/plot_density2d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      577 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/plot_density3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1012 2023-03-23 11:26:39.000000 vedo-2023.4.5/examples/pyplot/plot_density4d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1049 2023-04-30 20:19:11.000000 vedo-2023.4.5/examples/pyplot/plot_empty.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1371 2023-05-30 16:11:07.000000 vedo-2023.4.5/examples/pyplot/plot_errband.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1147 2023-02-17 15:40:26.000000 vedo-2023.4.5/examples/pyplot/plot_errbars.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1792 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/plot_extra_yaxis.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)     1350 2023-03-14 18:37:56.000000 vedo-2023.4.5/examples/pyplot/plot_fxy.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      692 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/plot_hexcells.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      537 2022-04-04 19:10:12.000000 vedo-2023.4.5/examples/pyplot/plot_multi.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      877 2022-11-18 17:33:00.000000 vedo-2023.4.5/examples/pyplot/plot_pip.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      586 2022-03-21 12:35:46.000000 vedo-2023.4.5/examples/pyplot/plot_polar.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      761 2021-05-04 16:06:12.000000 vedo-2023.4.5/examples/pyplot/plot_spheric.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      624 2023-06-18 13:19:08.000000 vedo-2023.4.5/examples/pyplot/plot_stream.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      256 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/quiver.py
+-rwxr-xr-x   0 musy      (8766) sharpe    (4311)      279 2021-10-05 17:36:39.000000 vedo-2023.4.5/examples/pyplot/run_all.sh
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      397 2022-03-29 23:31:38.000000 vedo-2023.4.5/examples/pyplot/scatter1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1312 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/pyplot/scatter2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1003 2023-04-30 20:26:37.000000 vedo-2023.4.5/examples/pyplot/scatter3.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      501 2022-06-06 19:09:50.000000 vedo-2023.4.5/examples/pyplot/scatter_large.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      421 2022-03-20 22:00:43.000000 vedo-2023.4.5/examples/pyplot/triangulate2d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1476 2023-02-16 17:50:52.000000 vedo-2023.4.5/examples/pyplot/whiskers.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.408367 vedo-2023.4.5/examples/simulations/
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 18:59:20.000000 vedo-2023.4.5/examples/simulations/__init__.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      556 2023-06-18 13:45:53.000000 vedo-2023.4.5/examples/simulations/airplane1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      876 2023-06-18 13:50:37.000000 vedo-2023.4.5/examples/simulations/airplane2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1189 2023-06-02 13:45:59.000000 vedo-2023.4.5/examples/simulations/aspring1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1570 2023-06-05 14:34:00.000000 vedo-2023.4.5/examples/simulations/aspring2_player.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4596 2023-02-05 18:12:21.000000 vedo-2023.4.5/examples/simulations/brownian2d.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)     2125 2022-02-24 19:44:14.000000 vedo-2023.4.5/examples/simulations/doubleslit.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      721 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/drag_chain.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4999 2023-06-15 17:09:37.000000 vedo-2023.4.5/examples/simulations/gas.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2889 2023-01-07 21:26:46.000000 vedo-2023.4.5/examples/simulations/grayscott.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2440 2023-02-16 19:03:31.000000 vedo-2023.4.5/examples/simulations/gyroscope1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2896 2023-03-23 11:27:28.000000 vedo-2023.4.5/examples/simulations/gyroscope2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2113 2023-01-30 20:16:44.000000 vedo-2023.4.5/examples/simulations/hanoi3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      994 2023-01-20 17:18:38.000000 vedo-2023.4.5/examples/simulations/koch_fractal.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1103 2023-05-26 16:37:59.000000 vedo-2023.4.5/examples/simulations/lorenz.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2120 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/mag_field1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      781 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/mag_field2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4367 2023-02-16 18:41:40.000000 vedo-2023.4.5/examples/simulations/multiple_pendulum.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    11430 2023-01-18 12:46:24.000000 vedo-2023.4.5/examples/simulations/optics_base.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4261 2022-10-26 14:34:00.000000 vedo-2023.4.5/examples/simulations/optics_main1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2124 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/optics_main2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1423 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/optics_main3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4194 2023-06-18 13:29:08.000000 vedo-2023.4.5/examples/simulations/particle_simulator.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1155 2023-06-18 14:08:54.000000 vedo-2023.4.5/examples/simulations/pendulum_3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1886 2023-02-05 18:10:20.000000 vedo-2023.4.5/examples/simulations/pendulum_ode.py
+-rwxr-xr-x   0 musy      (8766) sharpe    (4311)      279 2021-10-05 17:36:43.000000 vedo-2023.4.5/examples/simulations/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2697 2023-05-26 16:41:55.000000 vedo-2023.4.5/examples/simulations/self_org_maps2d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      859 2023-02-17 17:01:30.000000 vedo-2023.4.5/examples/simulations/spline_ease.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      564 2023-06-18 13:24:19.000000 vedo-2023.4.5/examples/simulations/trail.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1665 2022-11-18 16:09:52.000000 vedo-2023.4.5/examples/simulations/tunnelling1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2800 2023-05-26 16:39:36.000000 vedo-2023.4.5/examples/simulations/tunnelling2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     4456 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/value_iteration.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2121 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/simulations/volterra.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3610 2023-02-05 18:08:51.000000 vedo-2023.4.5/examples/simulations/wave_equation1d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1656 2023-01-07 21:26:46.000000 vedo-2023.4.5/examples/simulations/wave_equation2d.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.416367 vedo-2023.4.5/examples/volumetric/
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)        3 2021-03-06 19:00:26.000000 vedo-2023.4.5/examples/volumetric/__init__.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      244 2023-03-15 13:47:09.000000 vedo-2023.4.5/examples/volumetric/app_isobrowser.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      273 2022-02-09 17:33:21.000000 vedo-2023.4.5/examples/volumetric/app_raycaster.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      919 2023-03-10 19:37:32.000000 vedo-2023.4.5/examples/volumetric/colorize_volume.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      564 2023-02-23 20:04:44.000000 vedo-2023.4.5/examples/volumetric/delaunay3d.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      689 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/densifycloud.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     2032 2023-05-28 11:39:57.000000 vedo-2023.4.5/examples/volumetric/earth_model.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      376 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/erode_dilate.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      290 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/euclidian_dist.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      950 2023-02-23 19:58:20.000000 vedo-2023.4.5/examples/volumetric/image_false_colors.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      652 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/image_fft.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1432 2022-11-20 18:06:50.000000 vedo-2023.4.5/examples/volumetric/image_mask.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1387 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/image_probe.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      795 2022-12-15 15:46:00.000000 vedo-2023.4.5/examples/volumetric/image_rgba.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      805 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/image_to_mesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1484 2023-05-28 11:40:21.000000 vedo-2023.4.5/examples/volumetric/interpolate_volume.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      436 2023-06-15 12:19:51.000000 vedo-2023.4.5/examples/volumetric/isosurfaces.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      451 2023-02-17 17:06:54.000000 vedo-2023.4.5/examples/volumetric/legosurface.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      616 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/lowpassfilter.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      462 2022-03-19 15:00:10.000000 vedo-2023.4.5/examples/volumetric/mesh2volume.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1208 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/multiscalars.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      608 2023-02-23 13:22:42.000000 vedo-2023.4.5/examples/volumetric/numpy2volume1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      539 2023-02-14 15:11:12.000000 vedo-2023.4.5/examples/volumetric/numpy2volume2.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      521 2022-08-14 19:31:52.000000 vedo-2023.4.5/examples/volumetric/numpy_imread.py
+-rw-r--r--   0 musy      (8766) sharpe    (4311)    10019 2021-03-06 19:00:26.000000 vedo-2023.4.5/examples/volumetric/off_furniture.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      780 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/office.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      346 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/point_density.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      590 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/probe_line1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      732 2023-02-23 11:27:44.000000 vedo-2023.4.5/examples/volumetric/probe_line2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      540 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/probe_points.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      614 2022-12-15 18:13:49.000000 vedo-2023.4.5/examples/volumetric/read_volume1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1196 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/read_volume2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1272 2023-05-30 16:00:02.000000 vedo-2023.4.5/examples/volumetric/read_volume3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      593 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/read_vts.py
+-rwxr-xr-x   0 musy      (8766) sharpe    (4311)      281 2021-10-05 17:36:48.000000 vedo-2023.4.5/examples/volumetric/run_all.sh
+-rw-r-----   0 musy      (8766) sharpe    (4311)      299 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/slice_mesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1037 2023-03-23 11:34:02.000000 vedo-2023.4.5/examples/volumetric/slice_plane1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      540 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/slice_plane2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      576 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/slicer1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1298 2023-02-03 14:25:42.000000 vedo-2023.4.5/examples/volumetric/slicer2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      898 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/streamlines1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      781 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/streamlines2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      895 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/streamlines3.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      612 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/streamlines4.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      811 2022-05-08 19:29:44.000000 vedo-2023.4.5/examples/volumetric/streamribbons.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      615 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/tensors.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      619 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/tet_astyle.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)      936 2021-09-20 16:16:08.000000 vedo-2023.4.5/examples/volumetric/tet_build.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      332 2023-02-16 17:47:52.000000 vedo-2023.4.5/examples/volumetric/tet_cutMesh1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1002 2023-02-23 15:08:37.000000 vedo-2023.4.5/examples/volumetric/tet_cutMesh2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1216 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/tet_explode.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      485 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/tet_isos_slice.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      433 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/tet_threshold.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      964 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/tetralize_surface.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      201 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/ugrid1.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      274 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/ugrid2.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      285 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/vol2points.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      422 2022-11-14 13:08:27.000000 vedo-2023.4.5/examples/volumetric/volumeFromMesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1930 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/volume_operations.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      769 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/volume_sharemap.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)      369 2022-10-17 16:29:31.000000 vedo-2023.4.5/examples/volumetric/warp_scalars.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)       75 2023-06-18 15:36:43.424368 vedo-2023.4.5/setup.cfg
+-rwxr-x---   0 musy      (8766) sharpe    (4311)     2767 2023-01-18 12:46:24.000000 vedo-2023.4.5/setup.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.416367 vedo-2023.4.5/vedo/
+-rw-r-----   0 musy      (8766) sharpe    (4311)     3676 2023-06-15 15:37:21.000000 vedo-2023.4.5/vedo/__init__.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)   154478 2023-06-18 15:13:17.000000 vedo-2023.4.5/vedo/addons.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    67553 2023-06-16 16:53:14.000000 vedo-2023.4.5/vedo/applications.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    12563 2023-04-28 15:16:08.000000 vedo-2023.4.5/vedo/assembly.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    14266 2023-06-13 15:58:10.000000 vedo-2023.4.5/vedo/backends.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    91529 2023-05-28 11:19:54.000000 vedo-2023.4.5/vedo/base.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    34983 2023-05-30 15:52:32.000000 vedo-2023.4.5/vedo/cli.py
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)   304787 2023-01-27 09:58:59.000000 vedo-2023.4.5/vedo/cmaps.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    34673 2023-05-01 10:25:38.000000 vedo-2023.4.5/vedo/colors.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    31736 2023-04-28 15:30:53.000000 vedo-2023.4.5/vedo/dolfin.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    71310 2023-05-25 11:09:42.000000 vedo-2023.4.5/vedo/file_io.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.424368 vedo-2023.4.5/vedo/fonts/
+-rw-r-----   0 musy      (8766) sharpe    (4311)    65008 2023-02-08 19:31:34.000000 vedo-2023.4.5/vedo/fonts/Bongas.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)    33928 2014-01-28 02:04:38.000000 vedo-2023.4.5/vedo/fonts/Bongas.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)    65491 2023-02-08 19:33:53.000000 vedo-2023.4.5/vedo/fonts/Calco.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)    65528 2020-06-13 19:22:59.000000 vedo-2023.4.5/vedo/fonts/Calco.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)   127729 2023-02-08 19:34:41.000000 vedo-2023.4.5/vedo/fonts/Comae.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)    98408 2014-01-28 02:09:20.000000 vedo-2023.4.5/vedo/fonts/Comae.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)   153242 2023-02-08 19:37:52.000000 vedo-2023.4.5/vedo/fonts/Glasgo.npz
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)   144352 2017-09-01 17:37:42.000000 vedo-2023.4.5/vedo/fonts/Glasgo.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)   196983 2023-02-08 19:52:45.000000 vedo-2023.4.5/vedo/fonts/Kanopus.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)   901240 2020-08-12 13:11:07.000000 vedo-2023.4.5/vedo/fonts/Kanopus.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)   111014 2023-02-08 19:25:41.000000 vedo-2023.4.5/vedo/fonts/Normografo.npz
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)    52460 2017-08-03 01:32:10.000000 vedo-2023.4.5/vedo/fonts/Normografo.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)    95884 2023-02-08 19:50:37.000000 vedo-2023.4.5/vedo/fonts/Quikhand.npz
+-rw-rw-r--   0 musy      (8766) sharpe    (4311)    79328 2020-06-22 00:16:11.000000 vedo-2023.4.5/vedo/fonts/Quikhand.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)    91962 2023-02-08 19:47:39.000000 vedo-2023.4.5/vedo/fonts/SmartCouric.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)    98156 2020-07-27 12:20:22.000000 vedo-2023.4.5/vedo/fonts/SmartCouric.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)   110904 2023-02-08 19:45:55.000000 vedo-2023.4.5/vedo/fonts/Theemim.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)   169668 2013-06-04 12:17:38.000000 vedo-2023.4.5/vedo/fonts/Theemim.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)   134429 2023-02-08 19:55:49.000000 vedo-2023.4.5/vedo/fonts/VictorMono.npz
+-rw-r--r--   0 musy      (8766) sharpe    (4311)   153724 2020-06-29 16:12:20.000000 vedo-2023.4.5/vedo/fonts/VictorMono.ttf
+-rw-r-----   0 musy      (8766) sharpe    (4311)    46534 2023-06-16 16:54:47.000000 vedo-2023.4.5/vedo/interactor_modes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)   104013 2023-06-16 14:53:23.000000 vedo-2023.4.5/vedo/mesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    51186 2023-05-25 18:17:11.000000 vedo-2023.4.5/vedo/picture.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)   151871 2023-06-18 15:08:45.000000 vedo-2023.4.5/vedo/plotter.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)   184341 2023-06-18 13:52:48.000000 vedo-2023.4.5/vedo/pointcloud.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)   145381 2023-05-30 16:09:41.000000 vedo-2023.4.5/vedo/pyplot.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    23633 2023-06-13 18:44:02.000000 vedo-2023.4.5/vedo/settings.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)   160688 2023-06-16 12:40:01.000000 vedo-2023.4.5/vedo/shapes.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    17315 2023-05-01 09:58:04.000000 vedo-2023.4.5/vedo/tetmesh.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    12955 2023-05-01 09:57:55.000000 vedo-2023.4.5/vedo/ugrid.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    88404 2023-05-19 15:16:12.000000 vedo-2023.4.5/vedo/utils.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)       22 2023-06-18 15:35:54.000000 vedo-2023.4.5/vedo/version.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    61918 2023-05-25 18:42:54.000000 vedo-2023.4.5/vedo/volume.py
+-rw-r-----   0 musy      (8766) sharpe    (4311)    13196 2023-06-15 11:20:58.000000 vedo-2023.4.5/vedo/vtkclasses.py
+drwxr-x---   0 musy      (8766) sharpe    (4311)        0 2023-06-18 15:36:43.420367 vedo-2023.4.5/vedo.egg-info/
+-rw-r-----   0 musy      (8766) sharpe    (4311)     1249 2023-06-18 15:36:43.000000 vedo-2023.4.5/vedo.egg-info/PKG-INFO
+-rw-r-----   0 musy      (8766) sharpe    (4311)    13783 2023-06-18 15:36:43.000000 vedo-2023.4.5/vedo.egg-info/SOURCES.txt
+-rw-r-----   0 musy      (8766) sharpe    (4311)        1 2023-06-18 15:36:43.000000 vedo-2023.4.5/vedo.egg-info/dependency_links.txt
+-rw-r-----   0 musy      (8766) sharpe    (4311)       46 2023-06-18 15:36:43.000000 vedo-2023.4.5/vedo.egg-info/entry_points.txt
+-rw-r-----   0 musy      (8766) sharpe    (4311)       30 2023-06-18 15:36:43.000000 vedo-2023.4.5/vedo.egg-info/requires.txt
+-rw-r-----   0 musy      (8766) sharpe    (4311)        5 2023-06-18 15:36:43.000000 vedo-2023.4.5/vedo.egg-info/top_level.txt
```

### Comparing `vedo-2023.4.4/FONT.LICENSE` & `vedo-2023.4.5/FONT.LICENSE`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/LICENSE` & `vedo-2023.4.5/LICENSE`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/PKG-INFO` & `vedo-2023.4.5/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: vedo
-Version: 2023.4.4
+Version: 2023.4.5
 Summary: A python module for scientific analysis and visualization of 3D objects and point clouds based on VTK.
 Home-page: https://github.com/marcomusy/vedo
 Author: Marco Musy
 Author-email: marco.musy@embl.es
 Maintainer: Marco Musy
 License: MIT
 Keywords: vtk 3D science analysis visualization mesh numpy
```

### Comparing `vedo-2023.4.4/README.md` & `vedo-2023.4.5/README.md`

 * *Files 2% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 
 ![vlogo](https://user-images.githubusercontent.com/32848391/110344277-9bc20700-802d-11eb-8c0d-2e97226a9a32.png)
 
 
 [![lics](https://img.shields.io/badge/license-MIT-blue.svg)](https://en.wikipedia.org/wiki/MIT_License)
 [![Anaconda-Server Badge](https://anaconda.org/conda-forge/vedo/badges/version.svg)](https://anaconda.org/conda-forge/vedo)
 [![Ubuntu 23.04 package](https://repology.org/badge/version-for-repo/ubuntu_23_04/vedo.svg)](https://repology.org/project/vedo/versions)
-[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.5842090.svg)](https://doi.org/10.5281/zenodo.5842090)
+[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.7734756.svg)](https://doi.org/10.5281/zenodo.7734756)
 [![Downloads](https://pepy.tech/badge/vedo)](https://pepy.tech/project/vedo)
 [![CircleCI](https://circleci.com/gh/marcomusy/vedo.svg?style=svg)](https://circleci.com/gh/marcomusy/vedo)
 
 
 A lightweight and powerful python module
 for scientific analysis and **v**isualization of **3d** **o**bjects.<br>
 
@@ -18,19 +18,26 @@
 ```bash
 pip install vedo
 ```
 
 <details>
 <summary>additional installation details <i><b>[click to expand]</b></i> </summary>
 
-- To install the latest _dev_ version of `vedo`: <br>
-`pip install -U git+https://github.com/marcomusy/vedo.git`
+- To install the latest _dev_ version of `vedo`:
 
-- To install from the conda-forge channel: <br>
-`conda install -c conda-forge vedo`
+```bash
+pip install -U git+https://github.com/marcomusy/vedo.git
+```
+
+
+- To install from the conda-forge channel:
+
+```bash
+conda install -c conda-forge vedo
+```
 
 </details>
 
 
 ##   Documentation
 The webpage of the library with documentation is available [**here**](https://vedo.embl.es).
 
@@ -132,21 +139,21 @@
 ###   Command Line Interface
 Visualize a polygonal mesh or a volume from a terminal window simply with:
 ```bash
 vedo https://vedo.embl.es/examples/data/embryo.tif
 ```
 
 
-<details>
-<summary>volumetric files (slc, tiff, DICOM...) can be visualized in different modes </summary>
+<details>  
+<summary>volumetric files (slc, tiff, DICOM...) can be visualized in different modes <i><b>[click to expand]</b></i> </summary>
 
 
 |Volume 3D slicing<br>`vedo --slicer embryo.slc`| Ray-casting<br>`vedo -g`| 2D slicing<br>`vedo --slicer2d`|
-|:--------|:-----|:--------|:-----|
-| ![slicer](https://user-images.githubusercontent.com/32848391/80292484-50757180-8757-11ea-841f-2c0c5fe2c3b4.jpg)|![isohead](https://user-images.githubusercontent.com/32848391/58336107-5a09a180-7e43-11e9-8c4e-b50e4e95ae71.gif)|![viz_slicer](https://user-images.githubusercontent.com/32848391/90966778-fc955200-e4d6-11ea-8e29-215f7aea3860.png)  |
+|:--------|:-----|:--------|
+| ![slicer](https://user-images.githubusercontent.com/32848391/80292484-50757180-8757-11ea-841f-2c0c5fe2c3b4.jpg) | ![isohead](https://user-images.githubusercontent.com/32848391/58336107-5a09a180-7e43-11e9-8c4e-b50e4e95ae71.gif) | ![viz_slicer](https://user-images.githubusercontent.com/32848391/90966778-fc955200-e4d6-11ea-8e29-215f7aea3860.png)  |
 
 
 </details>
 
 
 Type `vedo -h` for the complete list of options.<br>
```

### Comparing `vedo-2023.4.4/examples/advanced/capping_mesh.py` & `vedo-2023.4.5/examples/advanced/capping_mesh.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/contours2mesh.py` & `vedo-2023.4.5/examples/advanced/contours2mesh.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/cut_with_mesh1.py` & `vedo-2023.4.5/examples/advanced/cut_with_mesh1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/fitline.py` & `vedo-2023.4.5/examples/advanced/fitline.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/fitplanes.py` & `vedo-2023.4.5/examples/advanced/fitplanes.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/fitspheres1.py` & `vedo-2023.4.5/examples/advanced/fitspheres1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/fitspheres2.py` & `vedo-2023.4.5/examples/advanced/fitspheres2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/geodesic.py` & `vedo-2023.4.5/examples/advanced/geodesic.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/geological_model.py` & `vedo-2023.4.5/examples/advanced/geological_model.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/gyroid.py` & `vedo-2023.4.5/examples/advanced/gyroid.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/interpolate_field.py` & `vedo-2023.4.5/examples/advanced/interpolate_field.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,14 +1,9 @@
-"""Interpolate a vectorial field using:
-
-Thin Plate Spline or Radial Basis Function.
-
-Example shows how to share the same Camera
-between different Plotter windows.
-"""
+"""Interpolate a vectorial field using
+Thin Plate Spline or Radial Basis Function"""
 from scipy.interpolate import Rbf
 from vedo import Plotter, Points, Arrows, show
 import numpy as np
 
 
 ls = np.linspace(0, 10, 8)
 X, Y, Z = np.meshgrid(ls, ls, ls)
@@ -25,23 +20,23 @@
 #        sources.append(p)    # will become much smaller.
 #        deltas.append(np.zeros(3))
 sources = np.array(sources)
 deltas = np.array(deltas)
 
 src = Points(sources, c="r", r=12)
 trs = Points(sources + deltas, c="v", r=12)
-arr = Arrows(sources, sources + deltas)
+arr = Arrows(sources, sources + deltas).color("k8")
 
 ################################################# warp using Thin Plate Splines
 warped = apos.clone().warp(sources, sources+deltas)
 warped.alpha(0.4).color("lg").point_size(10)
-allarr = Arrows(apos.points(), warped.points())
+allarr = Arrows(apos.points(), warped.points()).color("k8")
 
 set1 = [apos, warped, src, trs, arr, __doc__]
-plt1 = show([set1, allarr], N=2, bg='bb')  # returns the Plotter class
+plt1 = show([set1, allarr], N=2, bg='bb', interactive=0)  # returns the Plotter class
 
 
 ################################################# RBF
 x, y, z = sources[:, 0], sources[:, 1], sources[:, 2]
 dx, dy, dz = deltas[:, 0], deltas[:, 1], deltas[:, 2]
 
 itrx = Rbf(x, y, z, dx)  # Radial Basis Function interpolator:
@@ -50,20 +45,19 @@
 
 positions_x = itrx(xr, yr, zr) + xr
 positions_y = itry(xr, yr, zr) + yr
 positions_z = itrz(xr, yr, zr) + zr
 positions_rbf = np.vstack([positions_x, positions_y, positions_z])
 
 warped_rbf = Points(positions_rbf, r=2).alpha(0.4).color("lg").point_size(10)
-allarr_rbf = Arrows(apos.points(), warped_rbf.points())
+allarr_rbf = Arrows(apos.points(), warped_rbf.points()).color("k8")
 
-arr = Arrows(sources, sources + deltas)
+arr = Arrows(sources, sources + deltas).color("k8")
 
 plt2 = Plotter(N=2, pos=(200, 300), bg='bb')
-plt2.camera = plt1.camera  # share the same camera with previous Plotter
-
 plt2.at(0).show("Radial Basis Function", apos, warped_rbf, src, trs, arr)
 plt2.at(1).show(allarr_rbf)
+plt2.interactive()
 
-plt2.interactive().close()
+plt2.close()
 plt1.close()
```

### Comparing `vedo-2023.4.4/examples/advanced/interpolate_scalar1.py` & `vedo-2023.4.5/examples/advanced/interpolate_scalar1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/interpolate_scalar2.py` & `vedo-2023.4.5/examples/advanced/interpolate_scalar2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/interpolate_scalar3.py` & `vedo-2023.4.5/examples/advanced/interpolate_scalar3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/interpolate_scalar4.py` & `vedo-2023.4.5/examples/advanced/interpolate_scalar4.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/line2mesh_quads.py` & `vedo-2023.4.5/examples/advanced/line2mesh_quads.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/line2mesh_tri.py` & `vedo-2023.4.5/examples/advanced/line2mesh_tri.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/measure_curvature.py` & `vedo-2023.4.5/examples/advanced/measure_curvature.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/mesh_smoother2.py` & `vedo-2023.4.5/examples/advanced/mesh_smoother2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/meshquality.py` & `vedo-2023.4.5/examples/advanced/meshquality.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/moving_least_squares1D.py` & `vedo-2023.4.5/examples/advanced/moving_least_squares1D.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/moving_least_squares2D.py` & `vedo-2023.4.5/examples/advanced/moving_least_squares2D.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/multi_viewer2.py` & `vedo-2023.4.5/examples/advanced/multi_viewer2.py`

 * *Files 6% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 
 settings.renderer_frame_width = 1
 
 ##############################################################################
 def on_left_click(evt):
     if not evt.actor: return
     shapename.text(f'This is called: {evt.actor.name}, on renderer nr.{evt.at}')
-    plt.at(1).remove(actsonshow).add(evt.actor, resetcam=True)
+    plt.at(1).remove(actsonshow).add(evt.actor).reset_camera()
     actsonshow.clear()
     actsonshow.append(evt.actor)
 
 ##############################################################################
 sy, sx, dx = 0.12, 0.12, 0.01
 # Define the renderers rectangle areas
 # to help finding bottomleft&topright corners check out utils.grid_corners()
```

### Comparing `vedo-2023.4.4/examples/advanced/recosurface.py` & `vedo-2023.4.5/examples/advanced/recosurface.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/spline_draw.py` & `vedo-2023.4.5/examples/advanced/spline_draw.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 from vedo import dataurl, Picture 
 from vedo.applications import SplinePlotter  # ready to use class!
 
 pic = Picture(dataurl + "images/embryo.jpg")
 
 plt = SplinePlotter(pic)
-plt.show(mode="image", zoom='tight')
+plt.show(mode="image", zoom='tightest')
 print("Npts =", len(plt.cpoints), "NSpline =", plt.line.npoints)
 
 
 #####################################################################
 # This is a simplified version of vedo.applications.SplinePlotter 
 #####################################################################
 # from vedo import printc, precision, Plotter, Spline, Points, Text2D
```

### Comparing `vedo-2023.4.4/examples/advanced/timer_callback1.py` & `vedo-2023.4.5/examples/advanced/timer_callback1.py`

 * *Files 3% similar despite different names*

```diff
@@ -21,18 +21,18 @@
     y = np.sin(x) * np.sin(x/12)
     fig = plot(
         x, y, '-o', ylim=(-1.2, 1.2), aspect=3/1,
         xtitle="time window [s]", ytitle="intensity [a.u.]",
     )
     fig.shift(-x[0]) # put the whole plot object back at (0,0)
     # pop (remove) the old plot and add the new one
-    plotter.pop().add(fig)
+    plotter.pop().add(fig).render()
 
 
-timer_id = None
+timer_id = -1
 t0 = time.time()
 plotter= Plotter(size=(1200,600))
 button = plotter.add_button(bfunc, states=[" Play ","Pause"], size=40)
 evntId = plotter.add_callback("timer", handle_timer)
 
 x = np.linspace(0, 4*np.pi, 50)
 y = np.sin(x) * np.sin(x/12)
```

### Comparing `vedo-2023.4.4/examples/advanced/timer_callback2.py` & `vedo-2023.4.5/examples/advanced/timer_callback2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/voronoi2.py` & `vedo-2023.4.5/examples/advanced/voronoi2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/warp1.py` & `vedo-2023.4.5/examples/advanced/warp1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/warp2.py` & `vedo-2023.4.5/examples/advanced/warp2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/warp3.py` & `vedo-2023.4.5/examples/advanced/warp3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/advanced/warp4.py` & `vedo-2023.4.5/examples/advanced/warp4.py`

 * *Files 1% similar despite different names*

```diff
@@ -74,15 +74,15 @@
 
     def onrightclick(self, evt):  ######################################## remove points
         if not self.arrow_starts: return
         self.arrow_starts.pop()
         if not self.toggle:
             self.arrow_stops.pop()
         self.plotter.at(0).clear().add_renderer_frame()
-        self.plotter.add([self.plane1, self.msg1, self.mesh1, self.mesh2], render=False)
+        self.plotter.add([self.plane1, self.msg1, self.mesh1, self.mesh2])
         self.draw(False)
         self.draw(True)
 
     def onkeypress(self, evt):  ###################################### MORPH & GENERATE
         if evt.keypress == 'm': ##--------- morph mesh1 based on the existing arrows
             if len(self.arrow_starts) != len(self.arrow_stops):
                 printc("You must select your end point first!", c='y')
@@ -113,28 +113,28 @@
             allpts = self.dottedln.points()
             allpts = allpts.reshape(len(self.arrow_starts), self.n+1, 3)
             for i in range(self.n + 1):
                 pi = allpts[:,i,:]
                 m_nterp = self.mesh1.clone().warp(self.arrow_starts, pi, mode=self.mode).c('b3').lw(1)
                 intermediates.append(m_nterp)
             self.msg2.text("Morphed output + Interpolation:")
-            self.plotter.at(1).add(intermediates)
+            self.plotter.at(1).add(intermediates).render()
             self.dottedln = None
 
         elif evt.keypress == 'c':  ##------- clear all
             self.arrow_starts = []
             self.arrow_stops  = []
             self.toggle = False
             self.dottedln = None
             self.msg1.text(self.instructions)
             self.msg2.text("[output will show here]")
             self.plotter.at(0).clear()
             self.plotter.add([self.plane1, self.msg1, self.mesh1, self.mesh2])
             self.plotter.at(1).clear().add_renderer_frame()
-            self.plotter.add([self.plane2, self.msg2])
+            self.plotter.add([self.plane2, self.msg2]).render()
 
 
 ######################################################################################## MAIN
 if __name__ == "__main__":
     outlines = load(dataurl+"timecourse1d.npy") # load a set of 2d shapes
     mesh1 = outlines[25]
     mesh2 = outlines[35].scale(1.3).shift(-2,0,0)
```

### Comparing `vedo-2023.4.4/examples/advanced/warp5.py` & `vedo-2023.4.5/examples/advanced/warp5.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/.vedo_pipeline_graphviz` & `vedo-2023.4.5/examples/basic/.vedo_pipeline_graphviz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/.vedo_pipeline_graphviz.pdf` & `vedo-2023.4.5/examples/basic/.vedo_pipeline_graphviz.pdf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/align2.py` & `vedo-2023.4.5/examples/basic/align2.py`

 * *Files 12% similar despite different names*

```diff
@@ -3,25 +3,26 @@
 from random import uniform as u
 from vedo import Points, Arrows, Plotter
 
 N1 = 25  # number of points of first set
 N2 = 35  # number of points of second set
 x = 1.0  # add some randomness
 
+# Create two sets of random points with different colors
 pts1 = [(u(0, x), u(0, x), u(0, x) + i) for i in range(N1)]
 pts2 = [(u(0, x)+3, u(0, x)+i/3+2, u(0, x)+i+1) for i in range(N2)]
-
 vpts1 = Points(pts1, r=8, c="blue5")
 vpts2 = Points(pts2, r=8, c="red5")
 
 # Find best alignment between the 2 sets of Points,
 # e.i. find how to move vpts1 to best match vpts2
 aligned_pts1 = vpts1.clone().align_to(vpts2, invert=False)
 
-# draw arrows to see where points end up
+# Create arrows to visualize how the points move during alignment
 arrows = Arrows(pts1, aligned_pts1, s=0.7, c='black', alpha=0.2)
 
+# Create a plotter with two subplots
 plt = Plotter(N=2, axes=1)
-plt.at(0).show(vpts1, vpts2, __doc__, viewup="z")
-plt.at(1).show(aligned_pts1, arrows, vpts2)
+plt.at(0).show(vpts1, vpts2, __doc__)
+plt.at(1).show(aligned_pts1, arrows, vpts2, viewup="z")
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/basic/buildmesh.py` & `vedo-2023.4.5/examples/basic/buildmesh.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,17 +1,23 @@
 """Manually build a mesh from points and faces"""
 from vedo import Mesh, show
 
+# Define the vertices and faces that make up the mesh
 verts = [(50,50,50), (70,40,50), (50,40,80), (80,70,50)]
 faces = [(0,1,2), (2,1,3), (1,0,3)]
-# (the first triangle face is formed by vertex 0, 1 and 2)
 
-# Build the polygonal Mesh object:
+# Build the polygonal Mesh object from the vertices and faces
 mesh = Mesh([verts, faces])
+
+# Set the backcolor of the mesh to violet
+# and show edges with a linewidth of 2
 mesh.backcolor('violet').linecolor('tomato').linewidth(2)
+
+# Create labels for all vertices in the mesh showing their ID
 labs = mesh.labels('id').c('black')
 
-# retrieve them as numpy arrays
+# Print the points and faces of the mesh as numpy arrays
 print('points():', mesh.points())
 print('faces() :', mesh.faces())
 
+# Show the mesh, vertex labels, and docstring
 show(mesh, labs, __doc__, viewup='z', axes=1).close()
```

### Comparing `vedo-2023.4.4/examples/basic/closewindow.py` & `vedo-2023.4.5/examples/basic/closewindow.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/clustering.py` & `vedo-2023.4.5/examples/basic/clustering.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,25 +1,23 @@
 """Example usage of remove_outliers() and compute_clustering()"""
+# Import the vedo library and numpy
 from vedo import np, Points, show
 
-# generate 4 random sets of N points in space
+# Generate 4 random sets of N points in 3D space
 N = 2000
 f = 0.6
 noise1 = np.random.rand(N, 3) * f + np.array([1, 1, 0])
 noise2 = np.random.rand(N, 3) * f + np.array([1, 0, 1.2])
 noise3 = np.random.rand(N, 3) * f + np.array([0, 1, 1])
 noise4 = np.random.randn(N, 3) * f / 8 + np.array([1, 1, 1])
 
+# Create a Points object from the noisy point sets
 noise4 = Points(noise4).remove_outliers(radius=0.05).points()
-
-# merge points to lose their identity
 pts = noise1.tolist() + noise2.tolist() + noise3.tolist() + noise4.tolist()
 pts = Points(pts)
 
-# find back their identity by clustering
+# Cluster the points to find back their original identity
 clpts = pts.compute_clustering(radius=0.1).print()
+# Set the color of the points based on their cluster ID using the 'jet' colormap
 clpts.cmap("jet", "ClusterId")
-# or
-# clpts = pts.addConnection(radius=0.1).print()
-# clpts.cmap("jet", "RegionLabels")
 
 show(clpts, __doc__, axes=1, viewup='z', bg='blackboard').close()
```

### Comparing `vedo-2023.4.4/examples/basic/colorcubes.py` & `vedo-2023.4.5/examples/basic/colorcubes.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,35 +1,56 @@
 """Show a cube for each available color name"""
 from operator import itemgetter
 from vedo import Cube, Text2D, show, settings
 from vedo.colors import colors
+
+# Print the docstring
 print(__doc__)
 
-settings.immediate_rendering = False  # faster for multi-renderers
+# Set immediate rendering to False for faster rendering with multi-renderers
+settings.immediate_rendering = False
 
-# sorting by hex color code (matplotlib colors):
+# Sort the colors by hex color code (matplotlib colors)
 sorted_colors1 = sorted(colors.items(), key=itemgetter(1))
+
+# Create a list of cubes for each color name
 cbs=[]
 for sc in sorted_colors1:
+    # Get the color name
     cname = sc[0]
-    if cname[-1] in "123456789": continue
+    # Skip the color if it ends in a number
+    if cname[-1] in "123456789":
+        continue
+    # Create a cube and text object for the color name
     cb = Cube().lw(1).color(cname)
     tname = Text2D(cname, s=0.9)
+    # Add the cube and text object to the list
     cbs.append([tname, cb])
-print("click on any cube and press i or I")
+
+# Display the cubes and text objects in a grid
 plt1= show(cbs, N=len(cbs), azimuth=.2, size=(2100,1300),
-           title="matplotlib colors", interactive=0)
-plt1.render()  # because of immediate_rendering=False
+           title="matplotlib colors", interactive=False)
+plt1.render()
 
-# sort by name (bootstrap5 colors):
+# Sort the colors by name (bootstrap5 colors)
 sorted_colors2 = sorted(colors.items(), key=itemgetter(0))
+
+# Create a list of cubes for each color name
 cbs = []
 for sc in sorted_colors2:
+    # Get the color name
     cname = sc[0]
-    if cname[-1] not in "123456789": continue
+    # Skip the color if it doesn't end in a number
+    if cname[-1] not in "123456789":
+        continue
+    # Create a cube for the color
     cb = Cube().lw(1).lighting('off').color(cname)
+    # Add the cube to the list
     cbs.append([cname, cb])
-plt2= show(cbs, shape=(11,9), azimuth=.2, size=(800,1000),
+
+# Display the cubes in a grid
+plt2= show(cbs, shape=(11,9), azimuth=0.2, size=(800,1000),
            title="bootstrap5 colors", new=True)
 
+# Close the plots
 plt2.close()
 plt1.close()
```

### Comparing `vedo-2023.4.4/examples/basic/colormap_list.py` & `vedo-2023.4.5/examples/basic/colormap_list.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,29 +1,41 @@
 from vedo import *
 
+# Set the number of colors to generate
 n = 256
+
+# Initialize some variables
 i, grids, vnames1, vnames2 = 0, [], [], []
 
+# Loop over all available colormap names
 for name in colors.cmaps_names:
+    # Skip reversed maps
     if '_r' in name:
-        continue # skip reversed maps
+        continue
+    
+    # Generate a list of n RGB color values for the colormap
     cols = color_map(range(n), name)
 
-    # make a strip of n cells and assign them individual colors
     gr = Grid(s=[50,1], res=[n,1])
     gr.cellcolors = cols*255
     gr.linewidth(0).wireframe(False).y(-i*1.2)
     grids.append([gr, gr.box().c('grey')])
 
+    # Add a text label with the colormap name to the left of the strip
     tx1 = Text3D(':rightarrow '+name, justify='left-center', s=0.75, font=2)
     tx1.pos(gr.xbounds(1), gr.y()).c('w')
     tx2 = tx1.clone(deep=False).c('k')
     vnames1.append(tx1)
     vnames2.append(tx2)
     i += 1
 
 printc("Try picking a color by pressing Shift-i", invert=True)
 
+# Create a plotter with two renderers
 plt = Plotter(N=2, size=(1300,1000))
+
+# Show the grids with the white text labels
 plt.at(0).show(grids, vnames1, bg='blackboard')
 plt.at(1).show(grids, vnames2, bg='white', mode='image', zoom='tight')
+
+# Enable interactivity and display the plot, then close it
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/basic/colormaps.py` & `vedo-2023.4.5/examples/basic/colormaps.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/cut_freehand.py` & `vedo-2023.4.5/examples/basic/cut_freehand.py`

 * *Files 4% similar despite different names*

```diff
@@ -24,29 +24,30 @@
 
 #     def onRightClick(self, evt):
 #         self.drawmode = not self.drawmode  # toggle mode
 
 #     def onMouseMove(self, evt):
 #         if self.drawmode:
 #             self.remove([self.points, self.spline])
-#             cpt = self.computeWorldPosition(evt.picked2d) # make this 2d-screen point 3d
+#             # make this 2d-screen point 3d:
+#             cpt = self.compute_world_coordinate(evt.picked2d)
 #             self.cpoints.append(cpt)
 #             self.points = vedo.Points(self.cpoints, r=8).c('black')
 #             if len(self.cpoints) > 2:
 #                 self.spline = vedo.Line(self.cpoints, closed=True).lw(5).c('red5')
-#                 self.add([self.points, self.spline])
+#                 self.add([self.points, self.spline]).render()
 
 #     def onKeyPress(self, evt):
-#         if evt.keypress == 'z' and self.spline:       # cut mesh with a ribbon-like surface
+#         if evt.keypress == 'z' and self.spline:  # cut mesh with a ribbon-like surf.
 #             vedo.printc("Cutting the mesh please wait..", invert=True)
 #             tol = self.mesh.diagonal_size()/2            # size of ribbon
 #             pts = self.spline.points()
-#             n = vedo.fitPlane(pts, signed=True).normal  # compute normal vector to points
+#             n = vedo.fit_plane(pts, signed=True).normal  # compute normal vector
 #             rib = vedo.Ribbon(pts - tol*n, pts + tol*n, closed=True)
-#             self.mesh.cutWithMesh(rib)
+#             self.mesh.cut_with_mesh(rib)
 #             self.remove([self.spline, self.points]).render()
 #             self.cpoints, self.points, self.spline = [], None, None
 
 #     def start(self, **kwargs):
 #         return self.show(self.txt2d, self.mesh, **kwargs)
 #
 ######################################################################################
```

### Comparing `vedo-2023.4.4/examples/basic/hover_legend.py` & `vedo-2023.4.5/examples/basic/hover_legend.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/input_box.py` & `vedo-2023.4.5/examples/basic/input_box.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/keypress.py` & `vedo-2023.4.5/examples/basic/keypress.py`

 * *Files 2% similar despite different names*

```diff
@@ -10,15 +10,15 @@
     mesh = evt.actor
     # printc('dump event info', evt)
     if not mesh or evt.keypress != "c":
         printc("click mesh and press c", c="r")
         return
     printc("point:", mesh.picked3d, c="v")
     cpt = Point(pos=mesh.picked3d, r=20, c="v").pickable(False)
-    plt.add(cpt)
+    plt.add(cpt).render()
 
 ##############################################################
 plt = Plotter(axes=1)
 plt += Mesh(dataurl+"bunny.obj").color("gold")
 plt += __doc__
 plt.add_callback('KeyPress', myfnc)
 plt.show().close()
```

### Comparing `vedo-2023.4.4/examples/basic/legendbox.py` & `vedo-2023.4.5/examples/basic/legendbox.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/lights.py` & `vedo-2023.4.5/examples/basic/lights.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/lin_interpolate.py` & `vedo-2023.4.5/examples/basic/lin_interpolate.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/manyspheres.py` & `vedo-2023.4.5/examples/basic/manyspheres.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_alphas.py` & `vedo-2023.4.5/examples/basic/mesh_alphas.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_coloring.py` & `vedo-2023.4.5/examples/basic/mesh_coloring.py`

 * *Files 1% similar despite different names*

```diff
@@ -24,12 +24,12 @@
 
 ##################################### Cell coloring
 man3 = Mesh(dataurl+"man_low.vtk")
 scals = man3.cell_centers()[:, 2] + 37     # pick z coordinates of cells
 man3.cmap("afmhot", scals, on='cells')
 
 # add a fancier 3D scalar bar embedded in the scene
-man3.add_scalarbar3d(s=[None,3])
+man3.add_scalarbar3d(size=[None,3])
 man3.scalarbar.rotate_x(90).y(0.2)
 plt.at(2).show(man3, "mesh.cmap(on='cells')")
 
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/basic/mesh_custom.py` & `vedo-2023.4.5/examples/basic/mesh_custom.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_lut.py` & `vedo-2023.4.5/examples/basic/mesh_lut.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_map2cell.py` & `vedo-2023.4.5/examples/basic/mesh_map2cell.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_merge_vs_assembly.py` & `vedo-2023.4.5/examples/basic/mesh_merge_vs_assembly.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_sharemap.py` & `vedo-2023.4.5/examples/basic/mesh_sharemap.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mesh_threshold.py` & `vedo-2023.4.5/examples/basic/mesh_threshold.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mouseclick.py` & `vedo-2023.4.5/examples/basic/mouseclick.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mousehighlight.py` & `vedo-2023.4.5/examples/basic/mousehighlight.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mousehover0.py` & `vedo-2023.4.5/examples/basic/mousehover0.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/mousehover1.py` & `vedo-2023.4.5/examples/basic/mousehover1.py`

 * *Files 5% similar despite different names*

```diff
@@ -18,15 +18,15 @@
     arw = Arrow(pt - evt.delta3d, pt, s=0.001, c='orange5')
     fp = msh.flagpole(
         txt, point=pt, offset=(0.4,0.6),
         s=0.04, c='k', font="VictorMono",
     ).follow_camera()  # make it always face the camera
     if len(plt.actors) > 3:
         plt.pop()                    # remove the old flagpole
-    plt.add(arw, fp)                 # add Arrow and the new flagpole
+    plt.add(arw, fp).render()        # add Arrow and the new flagpole
 
 msg = Text2D(pos='bottom-left', font="VictorMono") # an empty text
 hil = ParametricShape('RandomHills').cmap('terrain').add_scalarbar()
 arr = hil.pointdata["Scalars"]       # numpy array with heights
 
 plt = Plotter(axes=1, bg2='lightblue')
```

### Comparing `vedo-2023.4.4/examples/basic/mousehover2.py` & `vedo-2023.4.5/examples/basic/mousehover2.py`

 * *Files 3% similar despite different names*

```diff
@@ -6,15 +6,15 @@
     if p is None:
         return
     pts = Points(msh.closest_point(p, n=50), r=6)
     sph = fit_sphere(pts).alpha(0.1)
     pts.name = "mypoints"   # we give it a name to make it easy to
     sph.name = "mysphere"   # remove the old and add the new ones
     txt.text(f'Radius : {sph.radius}\nResidue: {sph.residue}')
-    plt.remove("mypoints", "mysphere").add(pts, sph)
+    plt.remove("mypoints", "mysphere").add(pts, sph).render()
 
 txt = Text2D(__doc__, bg='yellow', font='Calco')
 
 msh = Mesh(dataurl+'290.vtk').subdivide()
 msh.compute_curvature(method=2)
 msh.cmap('PRGn', vmin=-0.02).add_scalarbar()
```

### Comparing `vedo-2023.4.4/examples/basic/mousehover3.py` & `vedo-2023.4.5/examples/basic/mousehover3.py`

 * *Files 8% similar despite different names*

```diff
@@ -2,25 +2,25 @@
 (hover mouse to place the points)"""
 from vedo import *
 
 settings.default_font = "Ubuntu"
 settings.use_depth_peeling = True
 
 
-def func(evt):                 # this is the callback function
-    i = evt.at                 # the renderer nr. which is being hit
-    pt2d = evt.picked2d        # 2D screen coordinate
+def func(evt):                   # this is the callback function
+    i = evt.at                   # the renderer nr. which is being hit
+    pt2d = evt.picked2d          # 2D screen coordinate
     # passing a list of meshes will force the points to be placed on any of them
     pt3d = plt.at(i).compute_world_coordinate(pt2d, objs=[objs[i]])
     if mag(pt3d) < 0.01:
         return
     newpt = Point(pt3d).color(i)
     txt.text(f'2D coords: {pt2d}\n3D coords: {pt3d}\nNpt = {len(plt.actors)}')
-    txt.color(i)               # update text and color on the fly
-    plt.at(i).add(newpt)       # add new point and render i
+    txt.color(i)                  # update text and color on the fly
+    plt.at(i).add(newpt).render() # add new point and render i
 
 
 # create an empty text (to be updated in the callback)
 txt = Text2D("", s=1.4, font='Brachium', c='white', bg='green8')
 
 # create two polygonal meshes
 mesh1 = TessellatedBox()
```

### Comparing `vedo-2023.4.4/examples/basic/multirenderers.py` & `vedo-2023.4.5/examples/basic/multirenderers.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/multiwindows1.py` & `vedo-2023.4.5/examples/basic/multiwindows1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/multiwindows2.py` & `vedo-2023.4.5/examples/basic/multiwindows2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/pca_ellipse.py` & `vedo-2023.4.5/examples/basic/pca_ellipse.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/pca_ellipsoid.py` & `vedo-2023.4.5/examples/basic/pca_ellipsoid.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/ribbon.py` & `vedo-2023.4.5/examples/basic/ribbon.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/scalarbars.py` & `vedo-2023.4.5/examples/basic/scalarbars.py`

 * *Files 12% similar despite different names*

```diff
@@ -13,20 +13,20 @@
     s.cmap(cmaps[i], scals)
     ms.append(s)
 
 # add 2D scalar bar to first mesh
 ms[0].add_scalarbar(title="my scalarbar\nnumber #0")  # 2D
 
 # add 3D scalar bars
-ms[1].add_scalarbar3d(c="k", title="scalarbar #1", s=[None, 3])
+ms[1].add_scalarbar3d(c="k", title="scalarbar #1", size=[None, 3])
 
 sc = ms[2].add_scalarbar3d(
     pos=(1, 0, -5),
     c="k",
-    s=[None, 2.8],  # change y-size only
+    size=[None, 2.8],  # change y-size only
     title="A viridis 3D\nscalarbar to play with",
     title_font="Quikhand",
     title_xoffset=-2,  # offset of labels
     title_size=1.5,
 )
 sc.scalarbar.rotate_x(90)  # make it vertical
```

### Comparing `vedo-2023.4.4/examples/basic/shadow2.py` & `vedo-2023.4.5/examples/basic/shadow2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/silhouette2.py` & `vedo-2023.4.5/examples/basic/silhouette2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/slider_browser.py` & `vedo-2023.4.5/examples/basic/slider_browser.py`

 * *Files 3% similar despite different names*

```diff
@@ -5,15 +5,15 @@
 
 def sliderfunc(widget, event):
     i = int(widget.value)
     days = int((i * 2 + 249) / 24)
     widget.title = f"{days}d {i*2+249-days*24}h"
     # remove the old and add the new shape
     # (no need to render as the slider makes a call to rendering)
-    plt.pop().add(objs[i], render=False)
+    plt.pop().add(objs[i])
 
 
 objs = load(dataurl + "timecourse1d.npy")  # load a list of shapes
 
 settings.default_font = "Glasgo"
 
 plt = Plotter(bg="blackboard")
```

### Comparing `vedo-2023.4.4/examples/basic/sliders1.py` & `vedo-2023.4.5/examples/basic/sliders1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/sliders2.py` & `vedo-2023.4.5/examples/basic/sliders2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/sliders3d.py` & `vedo-2023.4.5/examples/basic/sliders3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/sliders_hsv.py` & `vedo-2023.4.5/examples/basic/sliders_hsv.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/specular.py` & `vedo-2023.4.5/examples/basic/specular.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/spline_tool.py` & `vedo-2023.4.5/examples/basic/spline_tool.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/ssao.py` & `vedo-2023.4.5/examples/basic/ssao.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/texture_coords.py` & `vedo-2023.4.5/examples/basic/texture_coords.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/basic/tube_radii.py` & `vedo-2023.4.5/examples/basic/tube_radii.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/clone2d.py` & `vedo-2023.4.5/examples/other/clone2d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/awefem.py` & `vedo-2023.4.5/examples/other/dolfin/awefem.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/calc_surface_area.py` & `vedo-2023.4.5/examples/other/dolfin/calc_surface_area.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/collisions.py` & `vedo-2023.4.5/examples/other/dolfin/collisions.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/demo_eigenvalue.py` & `vedo-2023.4.5/examples/other/dolfin/demo_eigenvalue.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/demo_submesh.py` & `vedo-2023.4.5/examples/other/dolfin/demo_submesh.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/elasticbeam.py` & `vedo-2023.4.5/examples/other/dolfin/elasticbeam.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/elastodynamics.py` & `vedo-2023.4.5/examples/other/dolfin/elastodynamics.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex03_poisson.py` & `vedo-2023.4.5/examples/other/dolfin/ex03_poisson.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex04_mixed-poisson.py` & `vedo-2023.4.5/examples/other/dolfin/ex04_mixed-poisson.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex06_elasticity1.py` & `vedo-2023.4.5/examples/other/dolfin/ex06_elasticity1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex06_elasticity2.py` & `vedo-2023.4.5/examples/other/dolfin/ex06_elasticity2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex06_elasticity3.py` & `vedo-2023.4.5/examples/other/dolfin/ex06_elasticity3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex06_elasticity4.py` & `vedo-2023.4.5/examples/other/dolfin/ex06_elasticity4.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ex07_stokes-iterative.py` & `vedo-2023.4.5/examples/other/dolfin/ex07_stokes-iterative.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ft02_poisson_membrane.py` & `vedo-2023.4.5/examples/other/dolfin/ft02_poisson_membrane.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ft04_heat_gaussian.py` & `vedo-2023.4.5/examples/other/dolfin/ft04_heat_gaussian.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/ft09_reaction_system.py` & `vedo-2023.4.5/examples/other/dolfin/ft09_reaction_system.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/heatconv.py` & `vedo-2023.4.5/examples/other/dolfin/heatconv.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/magnetostatics.py` & `vedo-2023.4.5/examples/other/dolfin/magnetostatics.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/navier-stokes_lshape.py` & `vedo-2023.4.5/examples/other/dolfin/navier-stokes_lshape.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/pi_estimate.py` & `vedo-2023.4.5/examples/other/dolfin/pi_estimate.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/pointLoad.py` & `vedo-2023.4.5/examples/other/dolfin/pointLoad.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/read_image.py` & `vedo-2023.4.5/examples/other/dolfin/read_image.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/run_all.sh` & `vedo-2023.4.5/examples/other/dolfin/run_all.sh`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/scalemesh.py` & `vedo-2023.4.5/examples/other/dolfin/scalemesh.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/stokes1.py` & `vedo-2023.4.5/examples/other/dolfin/stokes1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/stokes2.py` & `vedo-2023.4.5/examples/other/dolfin/stokes2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/submesh_boundary.py` & `vedo-2023.4.5/examples/other/dolfin/submesh_boundary.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/turing_2d.py` & `vedo-2023.4.5/examples/other/dolfin/turing_2d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/dolfin/turing_3d.py` & `vedo-2023.4.5/examples/other/dolfin/turing_3d.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,12 +1,13 @@
 #
 # https://fenicsproject.org/qa/8612/difficulties-with-solving-the-gray-scott-model
 from dolfin import *
 import numpy as np
-import mshr
+from vedo import Text2D, Sphere, show
+from vedo.dolfin import plot
 
 # Set parameters
 D_u = 8.0e-05
 D_v = 4.0e-05
 c = 0.024
 k = 0.06
 
@@ -36,19 +37,25 @@
         self.a = a
     def F(self, b, x):
         assemble(self.L, tensor=b)
     def J(self, A, x):
         assemble(self.a, tensor=A)
 
 
+def convert(vmesh):
+    bpts = vmesh.compute_normals()
+    bpts.write('tmpmesh.xml')
+    return Mesh("tmpmesh.xml")
+
+
 # Define mesh and function space
-p1 = Point(1.0, 1.0)
 p0 = Point(0.0, 0.0, 0.0)
-sphere = mshr.Sphere(p0, 1.0)
-mesh = mshr.generate_mesh(sphere, 16)
+
+sphere = Sphere([p0.x(), p0.y(), p0.z()], r=1.0)
+mesh = convert(sphere)
 
 V_ele = FiniteElement("CG", mesh.ufl_cell(), 1)
 V = FunctionSpace(mesh, MixedElement([V_ele, V_ele]))
 
 # Define functions
 W_init = InitialConditions(degree=1)
 phi = TestFunction(V)
@@ -71,18 +78,15 @@
 a = derivative(F, W, dp)
 
 # Create nonlinear problem and Newton solver
 problem = GrayScottEquations(a, F)
 solver = NewtonSolver()
 #solver.parameters["linear_solver"] = "lu"
 #solver.parameters["convergence_criterion"] = "incremental"
-solver.parameters["relative_tolerance"] = 1e-3
-
-from vedo import Text2D
-from vedo.dolfin import plot
+# solver.parameters["relative_tolerance"] = 1e-3
 
 t = 0.0
 W.assign(W0)
 while t < t_max:
     t += dt
     solver.solve(problem, W.vector())
     W0.assign(W)
```

### Comparing `vedo-2023.4.4/examples/other/ellipt_fourier_desc.py` & `vedo-2023.4.5/examples/other/ellipt_fourier_desc.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/export_x3d.py` & `vedo-2023.4.5/examples/other/export_x3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/flag_labels1.py` & `vedo-2023.4.5/examples/other/flag_labels1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/iminuit1.py` & `vedo-2023.4.5/examples/other/iminuit1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/inset.py` & `vedo-2023.4.5/examples/other/inset.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/make_video.py` & `vedo-2023.4.5/examples/other/make_video.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/morphomatics_regression.py` & `vedo-2023.4.5/examples/other/morphomatics_regression.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/morphomatics_tube.py` & `vedo-2023.4.5/examples/other/morphomatics_tube.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/napari1.py` & `vedo-2023.4.5/examples/other/napari1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/nevergrad_opt.py` & `vedo-2023.4.5/examples/other/nevergrad_opt.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/printc.py` & `vedo-2023.4.5/examples/other/printc.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,25 +1,24 @@
 # Available modifiers:
 #  c (foreground color), bc (background color)
 #  bold, blink, underLine, dim, invert, box
 from vedo import printc
-from vedo.colors import emoji
 
-printc(r" 1- Change the world by being yourself - Amy Poehler\world", c=1)
-printc(r" 2- Never regret anything that made you smile - Mark Twain\smile", c="r", bold=0)
-printc(r" 3- Every moment is a fresh beginning - T.S Eliot", c="m", underline=1)
-printc(r" 4- Die with memories, not dreams - Unknown\ethumbup", blink=1, bold=0)
-printc(r" 5- When words fail, music speaks - Shakespeare \pin")
-printc(r" 6- Everything you can imagine is real - Pablo Picasso\erocket", c=3)
-printc(r" 7- Simplicity is the ultimate sophistication - Leonardo da Vinci\idea", c=4)
-printc(r" 8- Whatever you do, do it well - Walt Disney\erainbow", c=3, bc=1)
-printc(r" 9- What we think, we become - Buddha \etarget", c=6, invert=1)
-printc(r"10- All limitations are self-imposed - Oliver Wendell Holmes\sparks", c=7, dim=1)
-printc(r"11- If you tell the truth you dont have to remember anything - Mark Twain\checked",
+printc(":world: 1- Change the world by being yourself - Amy Poehler", c=1)
+printc(":smile: 2- Never regret anything that made you smile - Mark Twain", c="r", bold=0)
+printc(":construction: 3- Every moment is a fresh beginning - T.S Eliot", c="m", underline=1)
+printc(":thumbup: 4- Die with memories, not dreams - Unknown", blink=1, bold=0)
+printc(":pin: 5- When words fail, music speaks - Shakespeare")
+printc(":rocket: 6- Everything you can imagine is real - Pablo Picasso", c=3)
+printc(":idea: 7- Simplicity is the ultimate sophistication - Leonardo da Vinci", c=4)
+printc(":rainbow: 8- Whatever you do, do it well - Walt Disney", c=3, bc=1)
+printc(":target: 9- What we think, we become - Buddha", c=6, invert=1)
+printc(":sparks:10- All limitations are self-imposed - Oliver Wendell Holmes", c=7, dim=1)
+printc(":checked:11- If you tell the truth you don't have to remember anything - Mark Twain",
         underline=True,
         invert=True,
-        dim=True,
-        c=6,
+        c="indigo9",
 )
 
-for k in sorted(emoji.keys()):
-    print(emoji[k] + " \t" + repr(k))
+from vedo.colors import emoji
+for k in emoji.keys():
+    print(emoji[k], "\t", k)
```

### Comparing `vedo-2023.4.4/examples/other/pygeodesic1.py` & `vedo-2023.4.5/examples/other/pygeodesic1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/pymeshlab1.py` & `vedo-2023.4.5/examples/other/pymeshlab1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/pymeshlab2.py` & `vedo-2023.4.5/examples/other/pymeshlab2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/qt_cutter.py` & `vedo-2023.4.5/examples/other/qt_cutter.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,26 +1,27 @@
 import sys
 # from PySide2 import QtWidgets, QtCore
 from PyQt5 import Qt
 from vtkmodules.qt.QVTKRenderWindowInteractor import QVTKRenderWindowInteractor
-from vedo import Plotter, Mesh, dataurl
+from vedo import Plotter, Mesh, BoxCutter, dataurl
 
 class MainWindow(Qt.QMainWindow):
 
     def __init__(self, parent=None):
 
         Qt.QMainWindow.__init__(self, parent)
         self.frame = Qt.QFrame()
         self.layout = Qt.QVBoxLayout()
         self.vtkWidget = QVTKRenderWindowInteractor(self.frame)
 
         # Create renderer and add the vedo objects and callbacks
         self.plt = Plotter(qt_widget=self.vtkWidget)
         mesh = Mesh(dataurl+'cow.vtk')
-        self.plt += mesh
+        self.cutter = BoxCutter(mesh)
+        self.plt += [mesh, self.cutter]
         self.plt.show()
 
         box_cutter_button_on = Qt.QPushButton("Start the box cutter")
         box_cutter_button_on.clicked.connect(self.ctool_start)
 
         box_cutter_button_off = Qt.QPushButton("Stop the box cutter")
         box_cutter_button_off.clicked.connect(self.ctool_stop)
@@ -30,19 +31,18 @@
         self.layout.addWidget(box_cutter_button_on)
         self.layout.addWidget(box_cutter_button_off)
         self.frame.setLayout(self.layout)
         self.setCentralWidget(self.frame)
         self.show()
 
     def ctool_start(self):
-        self.plt.add_cutter_tool(mode='box')
-        self.plt.widgets[-1].On()
+        self.cutter.on()
 
     def ctool_stop(self):
-        self.plt.widgets[-1].Off()
+        self.cutter.off()
 
     def onClose(self):
         #Disable the interactor before closing to prevent it
         #from trying to act on already deleted items
         self.vtkWidget.close()
 
 if __name__ == "__main__":
```

### Comparing `vedo-2023.4.4/examples/other/qt_tabs.py` & `vedo-2023.4.5/examples/other/qt_tabs.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/qt_window1.py` & `vedo-2023.4.5/examples/other/qt_window1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/qt_window2.py` & `vedo-2023.4.5/examples/other/qt_window2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/qt_window3.py` & `vedo-2023.4.5/examples/other/qt_window3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/remesh_meshfix.py` & `vedo-2023.4.5/examples/other/remesh_meshfix.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/remesh_tetgen.py` & `vedo-2023.4.5/examples/other/remesh_tetgen.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/run_all.sh` & `vedo-2023.4.5/examples/other/run_all.sh`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/spherical_harmonics1.py` & `vedo-2023.4.5/examples/other/spherical_harmonics1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/spherical_harmonics2.py` & `vedo-2023.4.5/examples/other/spherical_harmonics2.py`

 * *Files 1% similar despite different names*

```diff
@@ -85,10 +85,10 @@
 
 for t in np.arange(0, 1, 0.005):
     act21 = Points(morph(clm2, clm1, t, lmax), c="r", r=4)
     act12 = Points(morph(clm1, clm2, t, lmax), c="g", r=4)
 
     plt.at(2).show(act21, resetcam=False)
     plt.at(3).show(act12)
-    plt.camera.Azimuth(2)
+    plt.azimuth(2)
 
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/other/trame_ex1.py` & `vedo-2023.4.5/examples/other/trame_ex1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trame_ex2.py` & `vedo-2023.4.5/examples/other/trame_ex2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trame_ex3.py` & `vedo-2023.4.5/examples/other/trame_ex3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trimesh/README.md` & `vedo-2023.4.5/examples/other/trimesh/README.md`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trimesh/nearest.py` & `vedo-2023.4.5/examples/other/trimesh/nearest.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trimesh/ray.py` & `vedo-2023.4.5/examples/other/trimesh/ray.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trimesh/section.py` & `vedo-2023.4.5/examples/other/trimesh/section.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/trimesh/shortest.py` & `vedo-2023.4.5/examples/other/trimesh/shortest.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/other/vpolyscope.py` & `vedo-2023.4.5/examples/other/vpolyscope.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,23 +1,21 @@
 #!/usr/bin/env python3
 # Visualization example with polyscope (pip install polyscope)
 # https://polyscope.run/py/
 import vedo
 import polyscope
 
-m = vedo.load(vedo.dataurl+'embryo.tif').isosurface().extract_largest_region()
+m = vedo.load(vedo.dataurl + "embryo.tif").isosurface().extract_largest_region()
 # m = vedo.load(vedo.dataurl+'man.vtk')
 
 polyscope.set_program_name("vedo using polyscope")
 polyscope.set_verbosity(0)
 polyscope.set_up_dir("z_up")
 polyscope.init()
-ps_mesh = polyscope.register_surface_mesh('My vedo mesh',
-                                          m.points(), m.faces(),
-                                          color=[0.5,0,0],
-                                          smooth_shade=True,
-                                         )
-ps_mesh.add_scalar_quantity("heights", m.points()[:,2], defined_on='vertices')
-ps_mesh.set_material("wax") # wax, mud, jade, candy
+ps_mesh = polyscope.register_surface_mesh(
+    "My vedo mesh", m.points(), m.faces(), color=[0.5, 0, 0], smooth_shade=True
+)
+ps_mesh.add_scalar_quantity("heights", m.points()[:, 2], defined_on="vertices")
+ps_mesh.set_material("wax")  # wax, mud, jade, candy
 polyscope.show()
 
 vedo.show(m, axes=11)
```

### Comparing `vedo-2023.4.4/examples/other/wx_window1.py` & `vedo-2023.4.5/examples/other/wx_window1.py`

 * *Files 4% similar despite different names*

```diff
@@ -22,15 +22,15 @@
 # other platforms.  Instead, we call widget.Enable().
 widget.Enable(1)
 widget.AddObserver("ExitEvent", lambda o,e,f=frame: f.Close())
 
 ##################################################### vedo example
 def func(evt):
     print("Event dump:\n", evt)
-    plt.camera.Azimuth(10) # rotate one camera
+    plt.azimuth(10) # rotate by one degree the camera
 
 cone = vedo.shapes.Cone(c='green8')
 axes = vedo.Axes(cone, c='white')
 cube = vedo.shapes.Cube()
 
 # Create 2 subwindows with a cone and a cube
 plt = vedo.Plotter(N=2, bg='blue2', bg2='blue8', wx_widget=widget)
```

### Comparing `vedo-2023.4.4/examples/other/wx_window2.py` & `vedo-2023.4.5/examples/other/wx_window2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/anim_lines.py` & `vedo-2023.4.5/examples/pyplot/anim_lines.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/caption.py` & `vedo-2023.4.5/examples/pyplot/caption.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/custom_axes1.py` & `vedo-2023.4.5/examples/pyplot/custom_axes1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/custom_axes2.py` & `vedo-2023.4.5/examples/pyplot/custom_axes2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/custom_axes3.py` & `vedo-2023.4.5/examples/pyplot/custom_axes3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/custom_axes4.py` & `vedo-2023.4.5/examples/pyplot/custom_axes4.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/earthquake_browser.py` & `vedo-2023.4.5/examples/pyplot/earthquake_browser.py`

 * *Files 23% similar despite different names*

```diff
@@ -5,37 +5,39 @@
 from vedo import *
 
 num = 50  # nr of earthquakes to be visualized to define a time window
 path = download("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_month.csv")
 usecols = ['time','place','latitude','longitude','depth','mag']
 data = pandas.read_csv(path, usecols=usecols)[usecols][::-1].reset_index(drop=True) # reverse list
 
-pic = Picture(dataurl+"images/eo_base_2020_clean_3600x1800.png")
+pic = Picture(dataurl + "images/eo_base_2020_clean_3600x1800.png")
 pic.pickable(False).level(185).window(120)  # add some contrast to the original image
 scale = [pic.shape[0]/2, pic.shape[1]/2, 1]
 comment = Text2D(__doc__, bg='green9', alpha=0.7, font='Ubuntu')
 
 centers = []
 for i, d in progressbar(data.iterrows()):
     M = d['mag']                                       # earthquake estimated magnitude
     E = np.sqrt(np.exp(5.24+1.44*M) * scale[0])/10000  # empirical formula for sqrt(energy_release(M))
     rgb = color_map(E, name='Reds', vmin=0, vmax=7)    # map energy to color
-    lat, lon = np.deg2rad(d['latitude']), np.deg2rad(d['longitude'])
-    ce = GeoCircle(lat, lon, E/50).scale(scale).z(num/M).c(rgb).lw(0.1).use_bounds(False)
+    lat = np.deg2rad(d['latitude'])
+    lon = np.deg2rad(d['longitude'])
+    ce = GeoCircle(lat, lon, E/50).scale(scale).z(num/M)
+    ce.c(rgb).alpha(0.75).use_bounds(False)
     ce.time = i
     ce.info = '\n'.join(str(d).split('\n')[:-1])       # remove of the last line in string d
-    if i < len(data)-num: ce.off()                     # switch off older ones: make circles invisible
+    if i < len(data) - num: 
+        ce.off()                                       # switch off older ones: make circles invisible
     centers.append(ce)
 
 
 def sliderfunc(widget, event):
     val = widget.value                                 # get the slider current value
     widget.title = f"{data['time'][int(val)][:10]}"
     for ce in centers:
         isinside = abs(val-ce.time) < num              # switch on if inside of time window
         ce.on() if isinside else ce.off()
 
-plt = Plotter(size=(2200,1100), title="Earthquake Browser")
-plt.parallel_projection()
+plt = Plotter(size=(2200,1100), title="Earthquake Browser").parallel_projection()
 plt.add_slider(sliderfunc, 0, len(centers)-1, value=len(centers)-1, show_value=False, title="today")
 plt.add_hover_legend(use_info=True, alpha=1, c='white', bg='red2', s=1)
 plt.show(pic, centers, comment, zoom="tightest", mode='image').close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/embed_matplotlib.py` & `vedo-2023.4.5/examples/pyplot/embed_matplotlib.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/explore5d.py` & `vedo-2023.4.5/examples/pyplot/explore5d.py`

 * *Files 1% similar despite different names*

```diff
@@ -36,15 +36,15 @@
 h3 = histogram(g3, xtitle=n3, c=3, logscale=True)
 h4 = histogram(g4, xtitle=n4, c=4)
 
 # this is where you choose what variables to show as 3D points
 pts = np.c_[g4,g2,g3] # form an array of 3d points from the columns
 
 pts_1 = pts[g0>0]                   # select only points that have g0>0
-p1 = Points(pts_1, r=4, c='red')    # create the vedo object
+p1 = Points(pts_1, r=4, c='red5')   # create the vedo object
 print("after selection nr. of points is", len(pts_1))
 
 pts_2 = pts[(g0<0) & (g1>.5)]       # select excluded points that have g1>0.5
 p2 = Points(pts_2, r=8, c='green')  # create the vedo object
 
 axes = Axes(p1+p2, xtitle='gene4', ytitle='gene2', ztitle='gene3', c='k')
```

### Comparing `vedo-2023.4.4/examples/pyplot/fill_gap.py` & `vedo-2023.4.5/examples/pyplot/fill_gap.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/fit_circle.py` & `vedo-2023.4.5/examples/pyplot/fit_circle.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/fit_curve.py` & `vedo-2023.4.5/examples/pyplot/fit_curve.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/fit_erf.py` & `vedo-2023.4.5/examples/pyplot/fit_erf.py`

 * *Files 1% similar despite different names*

```diff
@@ -35,15 +35,15 @@
     mc='blue2',
     ms=0.3,
     lwe=2,
     label='data',
 )
 
 fig += plot(x, y, lw=5, label='fit')
-fig += Marker('*', s=0.5, c='r4').pos(x0,y0, 0.1)
+fig += Marker('*', s=0.05, c='r4').pos(x0,y0, 0.1)
 
-fig.add_label('\mu', marker='*', mc="r4")
+fig.add_label(':mu', marker='*', mc="r4")
 fig.add_legend("top-left", vspace=2.5)
 
 fig.show(size=(900, 650), zoom='tight').close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/fit_polynomial1.py` & `vedo-2023.4.5/examples/pyplot/fit_polynomial1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/fit_polynomial2.py` & `vedo-2023.4.5/examples/pyplot/fit_polynomial2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/fonts3d.py` & `vedo-2023.4.5/examples/pyplot/fonts3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/fourier_epicycles.py` & `vedo-2023.4.5/examples/pyplot/fourier_epicycles.py`

 * *Files 8% similar despite different names*

```diff
@@ -38,15 +38,15 @@
         path.append([x,y])
 
     if len(points)>0:
         hline = vedo.Line([x,y], points[-1], c='red5', lw=0.1)
         pline = vedo.Line(path, c='green5', lw=2)
         oline = vedo.Line(points, c='red4', lw=5)
         objs += [hline, pline, oline]
-        plt.add(objs, resetcam=False)
+        plt.add(objs).render()
     return [x, y]
 
 
 # Load some 2D shape and make it symmetric
 shape  = vedo.load(vedo.dataurl+'timecourse1d.npy')[55]
 shaper = vedo.Line(shape).mirror('x').reverse()
 shape = vedo.merge(shape, shaper)
```

### Comparing `vedo-2023.4.4/examples/pyplot/glyphs3.py` & `vedo-2023.4.5/examples/pyplot/glyphs3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/goniometer.py` & `vedo-2023.4.5/examples/pyplot/goniometer.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/graph_lineage.py` & `vedo-2023.4.5/examples/pyplot/graph_lineage.py`

 * *Files 7% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 #g = Graph(layout='2d', zrange=7)
 g = DirectedGraph(layout='cone')
 #g = DirectedGraph(layout='circular3d', height=1, radius=1.5)
 #g = DirectedGraph(layout='force')
 
 # Vertex generation is automatic,
 #  add a child to vertex0, so that now vertex1 exists
-g.add_child(0, edge_label="Mother giving birth\nto her baby cell")
+g.add_child(0, edge_label="Mother cell")
 g.add_child(1); g.add_child(1)
 g.add_child(2); g.add_child(2); g.add_child(2)
 g.add_child(3); g.add_child(3, edge_label="daughter_38")
 g.add_child(4); g.add_child(4)
 for i in range(7): g.add_child(5, node_label="cell5_"+str(i))
 g.add_child(7); g.add_child(7); g.add_child(7)
```

### Comparing `vedo-2023.4.4/examples/pyplot/graph_network.py` & `vedo-2023.4.5/examples/pyplot/graph_network.py`

 * *Files 14% similar despite different names*

```diff
@@ -29,15 +29,15 @@
 v1 = ['node'+str(n) for n in range(len(nodes))]
 v2 = [sin(x) for x in range(len(nodes))]
 labs1 = pts.labels(v1, scale=.02, italic=True).shift(.05,0.02,0).c('green')
 labs2 = pts.labels(v2, scale=.02, precision=3).shift(.05,-.02,0).c('red')
 
 # Interpolate the node value to color the edges:
 graph.cmap('viridis', v2).add_scalarbar3d(c='k')
-graph.scalarbar.shift(.3,0,0)
+graph.scalarbar.shift(0.15,0,0).use_bounds(True)
 pts.cmap('viridis', v2)
 
 # This would colorize the edges directly with solid color based on a v3 array:
 # v3 = [sin(x) for x in range(graph.ncells)]
 # graph.cmap('jet', v3).add_scalarbar()
 
-show(pts, graph, labs1, labs2, __doc__, axes=9, mode="image").close()
+show(pts, graph, labs1, labs2, __doc__, zoom='tight').close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/histo_1d_b.py` & `vedo-2023.4.5/examples/pyplot/histo_1d_b.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_1d_c.py` & `vedo-2023.4.5/examples/pyplot/histo_1d_c.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_1d_d.py` & `vedo-2023.4.5/examples/pyplot/histo_1d_d.py`

 * *Files 1% similar despite different names*

```diff
@@ -26,15 +26,15 @@
     density=True,
     outline=True,
     c='purple9',
     axes=dict(xygrid=True, xyplane_color='grey2', xyalpha=1, grid_linewidth=0),
     label='finer binning',
 )
 # let's add an asterix marker where the mean is
-fig2 += Marker('a', [fig2.mean,0.2,0.1], s=0.1).c('orange5')
+fig2 += Marker('a', [fig2.mean,0.2,0.1], s=0.02).c('orange5')
 
 # shift fig2 in vertical by 25, and in z by 0.1 (to make it show on top)
 fig2.shift(0, 25, 0.1)
 
 ################## Insert fig2 into fig1
 fig2.add_legend()
 fig1.insert(fig2)
```

### Comparing `vedo-2023.4.4/examples/pyplot/histo_2d_a.py` & `vedo-2023.4.5/examples/pyplot/histo_2d_a.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_2d_b.py` & `vedo-2023.4.5/examples/pyplot/histo_2d_b.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_3d.py` & `vedo-2023.4.5/examples/pyplot/histo_3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_gauss.py` & `vedo-2023.4.5/examples/pyplot/histo_gauss.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_hexagonal.py` & `vedo-2023.4.5/examples/pyplot/histo_hexagonal.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_manual.py` & `vedo-2023.4.5/examples/pyplot/histo_manual.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_pca.py` & `vedo-2023.4.5/examples/pyplot/histo_pca.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_polar.py` & `vedo-2023.4.5/examples/pyplot/histo_polar.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/histo_violin.py` & `vedo-2023.4.5/examples/pyplot/histo_violin.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/intersect2d.py` & `vedo-2023.4.5/examples/pyplot/intersect2d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/isolines.py` & `vedo-2023.4.5/examples/pyplot/isolines.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/latex.py` & `vedo-2023.4.5/examples/pyplot/latex.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/lines_intersect.py` & `vedo-2023.4.5/examples/pyplot/lines_intersect.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/np_matrix.py` & `vedo-2023.4.5/examples/pyplot/np_matrix.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_bars.py` & `vedo-2023.4.5/examples/pyplot/plot_bars.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_density2d.py` & `vedo-2023.4.5/examples/pyplot/plot_density2d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_density3d.py` & `vedo-2023.4.5/examples/pyplot/plot_density3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_density4d.py` & `vedo-2023.4.5/examples/pyplot/plot_density4d.py`

 * *Files 23% similar despite different names*

```diff
@@ -29,10 +29,10 @@
                 vol[i, j, k] = f(x, y, z, t)
     volf = fftn(vol)
     volf = fftshift(abs(volf))
     volf = np.log(12*volf/volf.max()+ 1) / 2.5
 
     vb = Volume(volf).mode(1).c("rainbow").alpha([0, 0.8, 1])
     vb.name = "MyVolume"
-    plt.remove("MyVolume").add(vb)
+    plt.remove("MyVolume").add(vb).render()
 
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/plot_empty.py` & `vedo-2023.4.5/examples/pyplot/plot_empty.py`

 * *Files 10% similar despite different names*

```diff
@@ -24,14 +24,14 @@
 
     fig += plot(x, y, '-0', c=i, splined=True)
 
 fig += Arrow([5,-1], [8,-1], s=0.5, c='green3')
 
 # Add any number of polygonal Meshes.
 # Use insert() to preserve the object aspect ratio inside the Figure coord system:
-mesh = Mesh(dataurl+'cessna.vtk').c('blue5').scale(0.5).pos(4, 0.5, 0.5)
-circle = Circle([5,0.5,-0.1], c='orange5')
+mesh = Mesh(dataurl+'cessna.vtk').c('blue5').scale(0.25).pos(4, 0.5, 0.5)
+circle = Circle([5,0.5,-0.1], r=0.5, c='orange5')
 fig.insert(mesh, circle)
 
 show(fig, __doc__, size=(800,700), zoom='tight').close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/plot_errband.py` & `vedo-2023.4.5/examples/pyplot/plot_errband.py`

 * *Files 10% similar despite different names*

```diff
@@ -7,34 +7,35 @@
 y = 2+2*np.sin(2*x)/(x+1)
 ye= y**2 / 10
 miny = np.min(y-ye)
 idx = np.argmax(y)
 
 # Plot the two variables, return a Plot(Assembly) object:
 fig = plot(
-    x,y,
+    x, y,
     yerrors=ye,
     xtitle='time in :museconds',
     ytitle='y oscillation [a.u.]',
     ylim=(0.5, 5),
-    aspect=5/3,      # aspect ratio (any float = xsize/ysize)
+    aspect=5/3,      # plot aspect ratio (xsize/ysize)
     error_band=True, # join errors on y into an error band
     lc="red2",       # line color
     ec="red7",       # error band color
     padding=0,       # no extra spaces around the content
     grid=0,          # no background grid
     axes=dict(axes_linewidth=2, xyframe_line=0),
 )
 
 # Add a grey transparent rectangle to represent an exclusion region:
 fig += Rectangle([1,0.5], [2.7,5], c='grey5').lighting('off')
 
 # Add some text (set z=2 so it stays on top):
-fig += Text3D("Excluded\ntime range!", s=.2, c='k', font="Quikhand").rotate_z(20).pos(1.3,3.6,0.1)
+fig += Text3D("Excluded\ntime range!",
+              s=0.2, c='k', font="Quikhand").rotate_z(20).pos(1.3,3.6)
 
 # Add a star marker at maximum of function (set z=0.1, so it stays on top):
 fig += Marker('*', c='blue4').pos(x[idx], y[idx], 0.1)
 
 # Add a dashed line to indicate the minimum
 fig += Line((x[0], miny), (x[-1], miny)).pattern('- . -').lw(3)
 
-fig.show(zoom='tight', mode="image", size=(900,600)).close()
+fig.show(zoom='tight', mode='image', size=(900,600)).close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/plot_errbars.py` & `vedo-2023.4.5/examples/pyplot/plot_errbars.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_extra_yaxis.py` & `vedo-2023.4.5/examples/pyplot/plot_extra_yaxis.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_fxy.py` & `vedo-2023.4.5/examples/pyplot/plot_fxy.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_hexcells.py` & `vedo-2023.4.5/examples/pyplot/plot_hexcells.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_multi.py` & `vedo-2023.4.5/examples/pyplot/plot_multi.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_pip.py` & `vedo-2023.4.5/examples/pyplot/plot_pip.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_polar.py` & `vedo-2023.4.5/examples/pyplot/plot_polar.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_spheric.py` & `vedo-2023.4.5/examples/pyplot/plot_spheric.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/plot_stream.py` & `vedo-2023.4.5/examples/pyplot/plot_stream.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 """Plot streamlines of the 2D field:
 
-u(x,y) = -1 - x\^2 + y
-v(x,y) =  1 + x  - y\^2
+u(x,y) = -1 - x:^2 + y
+v(x,y) =  1 + x  - y:^2
 """
 from vedo import Points, show
 from vedo.pyplot import streamplot
 import numpy as np
 
 # a grid with a vector field (U,V):
 X, Y = np.mgrid[-5:5 :15j, -4:4 :15j]
```

### Comparing `vedo-2023.4.4/examples/pyplot/scatter2.py` & `vedo-2023.4.5/examples/pyplot/scatter2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/pyplot/scatter3.py` & `vedo-2023.4.5/examples/pyplot/scatter3.py`

 * *Files 21% similar despite different names*

```diff
@@ -2,32 +2,38 @@
 three different distributions"""
 from vedo import *
 from numpy.random import randn
 
 ### first cloud in blue, place it at z=0:
 x = randn(2000) * 3
 y = randn(2000) * 2
-pts1 = Points([x,y], c="blue", alpha=0.5).z(0.0)
-bra1 = Brace([-7,-8], [7,-8],
-             comment='whole population', s=0.4, c='b')
+pts1 = Points([x, y], c="blue", alpha=0.5).z(0.0)
+bra1 = Brace([-7, -8], [7, -8], comment="whole population", s=0.4, c="b")
 
 ### second cloud in red
 x = randn(1200) + 4
 y = randn(1200) + 2
-pts2 = Points([x,y], c="red", alpha=0.5).z(0.1)
-bra2 = Brace([8,2,0.3], [6,5,0.3], comment='red zone',
-             angle=180, justify='bottom-center', c='r')
+pts2 = Points([x, y], c="red", alpha=0.5).z(0.1)
+bra2 = Brace(
+    [8, 2, 0.3],
+    [6, 5, 0.3],
+    comment="red zone",
+    angle=180,
+    justify="bottom-center",
+    c="r",
+)
 
 ### third cloud with a black marker
 x = randn(20) + 4
 y = randn(20) - 4
-mark = Marker('*', s=0.25)
-pts3 = Glyph([x,y], mark, c='k').z(0.2)
-bra3 = Brace([8,-6], [8,-2], comment='my stars').z(0.3)
+mark = Marker("*", s=0.25)
+pts3 = Glyph([x, y], mark, c="k").z(0.2)
+bra3 = Brace([8, -6], [8, -2], comment="my stars").z(0.3)
 
 # some text message
-msg = Text3D("preliminary\nresults!", font='Quikhand', s=1.5)
-msg.c('black').rotate_z(20).pos(-10,3,.2)
+msg = Text3D("preliminary\nresults!", font="Quikhand", s=1.5)
+msg.c("black").rotate_z(20).pos(-10, 3, 0.2)
 
-show(pts1, pts2, pts3, msg, bra1, bra2, bra3, __doc__,
-     axes=1, zoom=1.2, viewup="2d",
+show(
+    pts1, pts2, pts3, msg, bra1, bra2, bra3, __doc__,
+    axes=1, zoom=1.2, mode="image",
 ).close()
```

### Comparing `vedo-2023.4.4/examples/pyplot/whiskers.py` & `vedo-2023.4.5/examples/pyplot/whiskers.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/airplane2.py` & `vedo-2023.4.5/examples/simulations/airplane2.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,23 +1,26 @@
 """Draw the shadows and trailing lines of 2 planes. Not really
 a simulation.. just a way to illustrate how to move objects around!"""
 from vedo import *
 
 world = Box([0,0,0], 30, 16, 8).wireframe()
 
 plane1 = Mesh(dataurl+"cessna.vtk").c("green")
-plane1.pos(-15, 2, 0.14).add_trail(n=200)
+plane1.pos(-15, 2, 0.15).add_trail(n=100)
 plane1.add_shadow('z', -4).add_shadow('y', 8)
 
 plane2 = plane1.clone().c("tomato")
-plane2.pos(-15,-2,-0.21).add_trail(n=200)
+plane2.pos(-15,-2,-0.20).add_trail(n=100)
 plane2.add_shadow('z', -4).add_shadow('y', 8)
 
 # Setup the scene
-plt = Plotter(axes=1, interactive=False)
+plt = Plotter(interactive=False)
+plt.show(world, plane1, plane2, __doc__, viewup="z")
 
-for t in np.arange(0, 3.2, 0.02):
+for t in np.arange(0, 3.2, 0.04):
     plane1.pos(9*t-15, 2-t, sin(3-t)).rotate_x(0+t) # make up some movement
     plane2.pos(8*t-15, t-2, sin(t-3)).rotate_x(2-t) # for the 2 planes
-    plt.show(world, plane1, plane2, __doc__, viewup="z")
+    plane1.update_trail().update_shadows()
+    plane2.update_trail().update_shadows()
+    plt.render()
 
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/simulations/aspring.py` & `vedo-2023.4.5/examples/simulations/aspring1.py`

 * *Files 17% similar despite different names*

```diff
@@ -4,37 +4,33 @@
 L = 0.1    # spring x position at rest
 x0 = 0.85  # initial x-coordinate of the block
 k = 25     # spring constant
 m = 20     # block mass
 b = 0.5    # viscosity friction (proportional to velocity)
 dt = 0.15  # time step
 
-# initial conditions
-v = vector(0, 0, 0.2)
+v = vector(0, 0, 0.2)  # initial conditions
 x = vector(x0, 0, 0)
+x0 = vector(-0.8, 0, 0)
 xr = vector(L, 0, 0)
-sx0 = vector(-0.8, 0, 0)
-offx = vector(0, 0.3, 0)
-
-plt = Plotter(size=(1050, 600))
-
-plt += Box(pos=(0, -0.1, 0), size=(2.0, 0.02, 0.5))  # floor
-plt += Box(pos=(-0.82, 0.15, 0), size=(0.04,0.50,0.3))  # wall
-
-block = Cube(pos=x, side=0.2, c="tomato")
-spring = Spring(sx0, x, r1=0.06, thickness=0.01)
-plt += [block, spring, __doc__]
 
 def loop_func(event):
     global v, x
-    F = -k * (x - xr) - b*v  # Force and friction
-    a = F / m  # acceleration
-    v = v + a*dt  # velocity
+    F = -k * (x - xr) - b * v       # force and friction
+    a = F / m                       # acceleration
+    v = v + a*dt                    # velocity
     x = x + v*dt + 1/2 * a * dt**2  # position
 
     block.pos(x)  # update block position and trail
-    spring.stretch(sx0, x)  # stretch helix accordingly
+    spring.stretch(x0, x)  # stretch helix accordingly
     plt.render()
 
+block = Cube(pos=x, side=0.2, c="tomato")
+spring = Spring(x0, x, r1=0.06, thickness=0.01)
+
+plt = Plotter(size=(1050, 600))
+plt += Box(pos=(0, -0.1, 0), size=(2.0, 0.02, 0.5))    # floor
+plt += Box(pos=(-0.82, 0.15, 0), size=(0.04,0.50,0.3)) # wall
+plt += [block, spring, __doc__]
 plt.add_callback("timer", loop_func)
 plt.timer_callback("start")
 plt.show().close()
```

### Comparing `vedo-2023.4.4/examples/simulations/brownian2d.py` & `vedo-2023.4.5/examples/simulations/brownian2d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/doubleslit.py` & `vedo-2023.4.5/examples/simulations/doubleslit.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/drag_chain.py` & `vedo-2023.4.5/examples/simulations/drag_chain.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/gas.py` & `vedo-2023.4.5/examples/simulations/gas.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,15 +1,17 @@
 """A model of an ideal gas with hard-sphere collisions"""
 ## Based on gas.py by Bruce Sherwood for a cube as a container
 ## Slightly modified by Andrey Antonov for a torus.
 ## Adapted by M. Musy for vedo
 ## relevant points in the code are marked with '### <--'
 from random import random
-from vedo import Plotter, progressbar, mag, versor, Torus, Sphere
 import numpy as np
+from vedo import Plotter, progressbar, mag, versor, Torus, Sphere
+from vedo.addons import ProgressBarWidget
+
 
 #############################################################
 Natoms = 400  # change this to have more or fewer atoms
 Nsteps = 150  # nr of steps in the simulation
 Matom = 4e-3 / 6e23  # helium mass
 Ratom = 0.025  # wildly exaggerated size of helium atom
 RingThickness = 0.3  # thickness of the toroid
@@ -60,17 +62,20 @@
 radius = np.array(rlist)
 r = pos - pos[:, np.newaxis]  # all pairs of atom-to-atom vectors
 
 ds = (p / m) * (dt / 2.0)
 if "False" not in np.less_equal(mag(ds), radius).tolist():
     pos = pos + (p / mass) * (dt / 2.0)  # initial half-step
 
+pbw = ProgressBarWidget(Nsteps)
+plt += pbw
+
 plt.show()
 
-for i in progressbar(Nsteps):
+for it in range(Nsteps):
     # Update all positions
     ds = mag((p / m) * (dt / 2.0))
     if "False" not in np.less_equal(ds, radius).tolist():
         pos = pos + (p / m) * dt
 
     r = pos - pos[:, np.newaxis]  # all pairs of atom-to-atom vectors
     rmag = np.sqrt(np.sum(np.square(r), -1))  # atom-to-atom scalar distances
@@ -116,16 +121,15 @@
     outside = np.greater_equal(mag(poscircle - pos), RingThickness - 2 * Ratom)
 
     for k in range(len(outside)):
         if outside[k] == 1 and np.dot(p[k], pos[k] - poscircle[k]) > 0:
             p[k] = reflection(p[k], pos[k] - poscircle[k])
 
     # then update positions of display objects
-    for i in range(Natoms):
-        Atoms[i].pos(pos[i])  ### <--
+    for l in range(Natoms):
+        Atoms[l].pos(pos[l])  ### <--
     outside = np.greater_equal(mag(pos), RingRadius + RingThickness)
 
-    plt.render().reset_camera()  ### <--
-
-    plt.camera.Azimuth(0.5)
+    pbw.update()  # update progress bar
+    plt.render().reset_camera().azimuth(0.5)  ### <--
 
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/simulations/grayscott.py` & `vedo-2023.4.5/examples/simulations/grayscott.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/gyroscope1.py` & `vedo-2023.4.5/examples/simulations/gyroscope1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/gyroscope2.py` & `vedo-2023.4.5/examples/simulations/gyroscope2.py`

 * *Files 2% similar despite different names*

```diff
@@ -55,13 +55,13 @@
 
     v += a * dt  # update velocities
     x += v * dt  # update Lagrangian coordinates
 
     gaxis = (Lshaft + 0.03) * vector(st * sp, ct, st * cp)
     # set orientation along gaxis and rotate it around its axis by psidot*t degrees
     gyro.orientation(gaxis, rotation=psidot * t, rad=True)
-    plt.add(Point(gaxis, r=3, c="red4"))
+    plt.add(Point(gaxis, r=3, c="red4")).render()
 
 t = 0
 plt.add_callback("timer", loop_func)
 plt.timer_callback("start")
 plt.show().close()
```

### Comparing `vedo-2023.4.4/examples/simulations/hanoi3d.py` & `vedo-2023.4.5/examples/simulations/hanoi3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/koch_fractal.py` & `vedo-2023.4.5/examples/simulations/koch_fractal.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/mag_field1.py` & `vedo-2023.4.5/examples/simulations/mag_field1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/mag_field2.py` & `vedo-2023.4.5/examples/simulations/mag_field2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/multiple_pendulum.py` & `vedo-2023.4.5/examples/simulations/multiple_pendulum.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/optics_base.py` & `vedo-2023.4.5/examples/simulations/optics_base.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/optics_main1.py` & `vedo-2023.4.5/examples/simulations/optics_main1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/optics_main2.py` & `vedo-2023.4.5/examples/simulations/optics_main2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/optics_main3.py` & `vedo-2023.4.5/examples/simulations/optics_main3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/particle_simulator.py` & `vedo-2023.4.5/examples/simulations/particle_simulator.py`

 * *Files 5% similar despite different names*

```diff
@@ -55,16 +55,20 @@
                     if a.negligible and b.negligible or a == b:
                         continue
                     ab = a.pos - b.pos
                     ftot += ((K_COULOMB * a.charge * b.charge) / mag2(ab)) * versor(ab)
                 a.vel += ftot / a.mass * self.dt  # update velocity and position of a
                 a.pos += a.vel * self.dt
                 a.vsphere.pos(a.pos)
-            if plt:
-                plt.show(resetcam=not i, azimuth=1)
+                a.vsphere.update_trail()
+            if plt:                
+                if i==0:
+                    plt.reset_camera()
+                plt.azimuth(1)
+                plt.render()
 
 
 class Particle:
     def __init__(self, pos, charge, mass, radius, color, vel, fixed, negligible):
         """
         Creates a new particle with specified properties (in SI units)
 
@@ -82,16 +86,16 @@
         self.charge = charge
         self.mass = mass
         self.vel = vector(vel)
         self.fixed = fixed
         self.negligible = negligible
         self.color = color
         if plt:
-            self.vsphere = Sphere(pos, r=radius, c=color).add_trail(lw=0.1, n=100, alpha=0.2)
-            plt.add(self.vsphere, render=False)  # Sphere representing the particle
+            self.vsphere = Sphere(pos, r=radius, c=color).add_trail(lw=1, n=75, alpha=0.5)
+            plt.add(self.vsphere)  # Sphere representing the particle
 
 
 #####################################################################################################
 if __name__ == "__main__":
 
     plt = Plotter(title="Particle Simulator", bg="black", axes=0, interactive=False)
```

### Comparing `vedo-2023.4.4/examples/simulations/pendulum_ode.py` & `vedo-2023.4.5/examples/simulations/pendulum_ode.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/self_org_maps2d.py` & `vedo-2023.4.5/examples/simulations/self_org_maps2d.py`

 * *Files 8% similar despite different names*

```diff
@@ -45,16 +45,16 @@
                 x, y, z = [self.codebook[:,i].reshape(n,n) for i in range(3)]
                 grd.wireframe(False).lw(0.5).bc('blue9').flat()
                 grdpts = grd.points()
                 for i in range(n):
                     for j in range(n):
                         grdpts[i*n+j] = (x[i,j], y[i,j], z[i,j])
                 grd.points(grdpts)
-                plt.render()
-                plt.camera.Azimuth(1)
+                plt.azimuth(1.0).render()
+
         plt.interactive().close()
 
         return [self.codebook[:,i].reshape(n,n) for i in range(3)]
 
 # -------------------------------------------------------------------------------
 if __name__ == "__main__":
```

### Comparing `vedo-2023.4.4/examples/simulations/spline_ease.py` & `vedo-2023.4.5/examples/simulations/spline_ease.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/trail.py` & `vedo-2023.4.5/examples/simulations/trail.py`

 * *Files 21% similar despite different names*

```diff
@@ -12,12 +12,12 @@
 
 plt = Plotter(axes=6, interactive=False)
 
 # add meshes to Plotter list
 plt += [s, p, __doc__]
 
 for i in range(150):
-    p.pos(-2+i/100.0, sin(i/5.0)/15, 0)
+    p.pos(-2+i/100.0, sin(i/5.0)/15, 0).update_trail()
     plt.show(azimuth=-0.2)
 
 # stay interactive and after pressing q close
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/simulations/tunnelling1.py` & `vedo-2023.4.5/examples/simulations/tunnelling1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/tunnelling2.py` & `vedo-2023.4.5/examples/simulations/tunnelling2.py`

 * *Files 4% similar despite different names*

```diff
@@ -54,18 +54,18 @@
     coords = np.stack((x, A), axis=1)
     Aline = Line(coords, c="db", lw=3)
     plt.show(barrier, bck, Aline, box).remove(Aline)
     lines.append([Aline, A])   # store objects
 
 # now show the same lines along z representing time
 plt.actors= [] # clean up internal list of objects to show
-plt.camera.Elevation(20)
-plt.camera.Azimuth(20)
+plt.elevation(20)
+plt.azimuth(20)
 bck.alpha(1)
 for i in range(Nsteps):
     p = [0, 0, i*size/Nsteps]  # shift along z
     l, a = lines[i]
     l.cmap("gist_earth_r", a)
     plt.add(box, bck, l.pos(p), barrier.clone().alpha(0.3).pos(p))
-    plt.reset_camera()
+    plt.reset_camera().render()
 
 plt.interactive().close()
```

### Comparing `vedo-2023.4.4/examples/simulations/value_iteration.py` & `vedo-2023.4.5/examples/simulations/value_iteration.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/volterra.py` & `vedo-2023.4.5/examples/simulations/volterra.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/wave_equation1d.py` & `vedo-2023.4.5/examples/simulations/wave_equation1d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/simulations/wave_equation2d.py` & `vedo-2023.4.5/examples/simulations/wave_equation2d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/colorize_volume.py` & `vedo-2023.4.5/examples/volumetric/colorize_volume.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/delaunay3d.py` & `vedo-2023.4.5/examples/volumetric/delaunay3d.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/densifycloud.py` & `vedo-2023.4.5/examples/volumetric/densifycloud.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/earth_model.py` & `vedo-2023.4.5/examples/volumetric/earth_model.py`

 * *Files 8% similar despite different names*

```diff
@@ -31,15 +31,15 @@
 msh = tet.tomesh(shrink=0.95).cmap(lut, 'cell_scalars', on='cells')
 msh.add_scalarbar3d(
     categories=lut_table,
     pos=(505500, 6416900, -630),
     title='Units',
     title_size=1.25,
     label_size=1.5,
-    s=[100, 2200],
+    size=[100, 2200],
 )
 # put scalarbar vertical, tell camera to keep bounds into account
 msh.scalarbar.rotate_x(90, around='itself').rotate_z(60, around='itself')
 msh.scalarbar.use_bounds()
 
 # Create cmap for conductor
 cond = conductor.tomesh().cmap(lut, 'cell_scalars', on='cells')
```

### Comparing `vedo-2023.4.4/examples/volumetric/image_false_colors.py` & `vedo-2023.4.5/examples/volumetric/image_false_colors.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/image_fft.py` & `vedo-2023.4.5/examples/volumetric/image_fft.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/image_mask.py` & `vedo-2023.4.5/examples/volumetric/image_mask.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/image_probe.py` & `vedo-2023.4.5/examples/volumetric/image_probe.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/image_rgba.py` & `vedo-2023.4.5/examples/volumetric/image_rgba.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/image_to_mesh.py` & `vedo-2023.4.5/examples/volumetric/image_to_mesh.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/interpolate_volume.py` & `vedo-2023.4.5/examples/volumetric/interpolate_volume.py`

 * *Files 2% similar despite different names*

```diff
@@ -24,11 +24,11 @@
 
 # replace voxels of specific range with a new value
 vol.threshold(above=0.3, below=0.4, replace=0.9)
 # Note that scalar range now has changed (you may want to reapply vol.c().alpha())
 
 ch = CornerHistogram(vol, pos="bottom-left")
 
-vol.add_scalarbar3d('Height is the voxel scalar', s=[None,1])
+vol.add_scalarbar3d('Height is the voxel scalar', size=[None,1])
 vol.scalarbar.rotate_x(90).pos(1.15,1,0.5)
 
 show(pts, vol, ch, __doc__, axes=1, elevation=-90).close()
```

### Comparing `vedo-2023.4.4/examples/volumetric/lowpassfilter.py` & `vedo-2023.4.5/examples/volumetric/lowpassfilter.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/multiscalars.py` & `vedo-2023.4.5/examples/volumetric/multiscalars.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/numpy2volume1.py` & `vedo-2023.4.5/examples/volumetric/numpy2volume1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/numpy2volume2.py` & `vedo-2023.4.5/examples/volumetric/numpy2volume2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/numpy_imread.py` & `vedo-2023.4.5/examples/volumetric/numpy_imread.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/off_furniture.py` & `vedo-2023.4.5/examples/volumetric/off_furniture.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/office.py` & `vedo-2023.4.5/examples/volumetric/office.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/probePoints.py` & `vedo-2023.4.5/examples/volumetric/probe_points.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/probe_line1.py` & `vedo-2023.4.5/examples/volumetric/probe_line1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/probe_line2.py` & `vedo-2023.4.5/examples/volumetric/probe_line2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/read_volume1.py` & `vedo-2023.4.5/examples/volumetric/read_volume1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/read_volume2.py` & `vedo-2023.4.5/examples/volumetric/read_volume2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/read_volume3.py` & `vedo-2023.4.5/examples/volumetric/read_volume3.py`

 * *Files 9% similar despite different names*

```diff
@@ -6,21 +6,21 @@
 
 # use colorize("bw") to have black and white color scale
 # no argument will grab the existing cmap in vol (or use build_lut())
 vsl.colorize().lighting(window=100, level=25)
 
 usage = Text2D(
     f"Image-style interactor:\n"
-    f"SHIFT+Left click   \rightarrow rotate camera for oblique slicing\n"
-    f"SHIFT+Middle click \rightarrow slice perpendicularly through image\n"
-    f"Left click & drag  \rightarrow modify luminosity and contrast\n"
-    f"X                  \rightarrow Reset to sagittal view\n"
-    f"Y                  \rightarrow Reset to coronal view\n"
-    f"Z                  \rightarrow Reset to axial view\n"
-    f"R                  \rightarrow Reset the Window/Levels",
+    f"SHIFT+Left click   :rightarrow rotate camera for oblique slicing\n"
+    f"SHIFT+Middle click :rightarrow slice perpendicularly through image\n"
+    f"Left click & drag  :rightarrow modify luminosity and contrast\n"
+    f"X                  :rightarrow Reset to sagittal view\n"
+    f"Y                  :rightarrow Reset to coronal view\n"
+    f"Z                  :rightarrow Reset to axial view\n"
+    f"R                  :rightarrow Reset the Window/Levels",
     font="Calco", pos="bottom-left", s=0.9, bg='yellow', alpha=0.25
 )
 
 custom_shape = [ # define here the 2 rendering rectangle spaces
     dict(bottomleft=(0.0,0.0), topright=(1,1), bg='k9'), # the full window
     dict(bottomleft=(0.7,0.7), topright=(1,1), bg='k8', bg2='lb'),
 ]
```

### Comparing `vedo-2023.4.4/examples/volumetric/read_vts.py` & `vedo-2023.4.5/examples/volumetric/read_vts.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/slicePlane1.py` & `vedo-2023.4.5/examples/volumetric/slice_plane1.py`

 * *Files 2% similar despite different names*

```diff
@@ -8,15 +8,15 @@
     pid = evt.actor.closest_point(evt.picked3d, return_point_id=True)
     txt = f"Probing:\n{precision(evt.actor.picked3d, 3)}\nvalue = {arr[pid]}"
 
     pts = evt.actor.points()
     sph = Sphere(pts[pid], c='orange7').pickable(False)
     fp = sph.flagpole(txt, s=7, offset=(-150,15), font=2).follow_camera()
     # remove old and add the two new objects
-    plt.remove('Sphere', 'FlagPole').add(sph, fp)
+    plt.remove('Sphere', 'FlagPole').add(sph, fp).render()
 
 vol = Volume(dataurl+'embryo.slc').alpha([0,0,0.8]).c('w').pickable(False)
 vslice = vol.slice_plane(origin=vol.center(), normal=(0,1,1))
 vslice.cmap('Purples_r').lighting('off').add_scalarbar('Slice', c='w')
 arr = vslice.pointdata[0] # retrieve vertex array data
 
 plt = Plotter(axes=9, bg='k', bg2='bb')
```

### Comparing `vedo-2023.4.4/examples/volumetric/slicePlane2.py` & `vedo-2023.4.5/examples/volumetric/slice_plane2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/slicer1.py` & `vedo-2023.4.5/examples/volumetric/slicer1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/slicer2.py` & `vedo-2023.4.5/examples/volumetric/slicer2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/streamlines1.py` & `vedo-2023.4.5/examples/volumetric/streamlines1.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/streamlines2.py` & `vedo-2023.4.5/examples/volumetric/streamlines2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/streamlines3.py` & `vedo-2023.4.5/examples/volumetric/streamlines3.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/streamlines4.py` & `vedo-2023.4.5/examples/volumetric/streamlines4.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/streamribbons.py` & `vedo-2023.4.5/examples/volumetric/streamribbons.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/tensors.py` & `vedo-2023.4.5/examples/volumetric/tensors.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/tet_astyle.py` & `vedo-2023.4.5/examples/volumetric/tet_astyle.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/tet_build.py` & `vedo-2023.4.5/examples/volumetric/tet_build.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/tet_cutMesh2.py` & `vedo-2023.4.5/examples/volumetric/tet_cutMesh2.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/tet_explode.py` & `vedo-2023.4.5/examples/volumetric/tet_explode.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/tetralize_surface.py` & `vedo-2023.4.5/examples/volumetric/tetralize_surface.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/volume_operations.py` & `vedo-2023.4.5/examples/volumetric/volume_operations.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/examples/volumetric/volume_sharemap.py` & `vedo-2023.4.5/examples/volumetric/volume_sharemap.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/setup.py` & `vedo-2023.4.5/setup.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/__init__.py` & `vedo-2023.4.5/vedo/__init__.py`

 * *Files 2% similar despite different names*

```diff
@@ -24,26 +24,27 @@
 from vedo.settings import Settings
 settings = Settings(level=0)
 
 from vedo.colors import *
 from vedo.utils import *
 from vedo.base import *
 from vedo.shapes import *
-from vedo.io import *
+from vedo.file_io import *
 from vedo.ugrid import *
 from vedo.assembly import *
 from vedo.pointcloud import *
 from vedo.mesh import *
 from vedo.picture import *
 from vedo.volume import *
 from vedo.tetmesh import *
 from vedo.addons import *
 from vedo.plotter import *
 
 from vedo import applications
+from vedo import interactor_modes
 
 try:
     import platform
     sys_platform = platform.system()
 except (ModuleNotFoundError, AttributeError) as e:
     sys_platform = ""
 
@@ -85,15 +86,15 @@
 # pyplot module to remember last figure format
 last_figure = None
 
 
 ######################################################################### LOGGING
 class _LoggingCustomFormatter(logging.Formatter):
 
-    logformat = "[vedo.%(filename)s:%(lineno)d] %(levelname)s: %(message)s"
+    logformat = "[vedo.%(filename)s] %(levelname)s: %(message)s"
 
     white = "\x1b[1m"
     grey = "\x1b[2m\x1b[1m\x1b[38;20m"
     yellow = "\x1b[1m\x1b[33;20m"
     red = "\x1b[1m\x1b[31;20m"
     inv_red = "\x1b[7m\x1b[1m\x1b[31;1m"
     reset = "\x1b[0m"
@@ -105,15 +106,15 @@
         logging.ERROR: red + logformat + reset,
         logging.CRITICAL: inv_red + logformat + reset,
     }
 
     def format(self, record):
         log_fmt = self.FORMATS.get(record.levelno)
         formatter = logging.Formatter(log_fmt)
-        return formatter.format(record)
+        return formatter.format(record).replace(".py", "")
 
 logger = logging.getLogger("vedo")
 
 _chsh = logging.StreamHandler()
 _chsh.flush = sys.stdout.flush
 _chsh.setLevel(logging.DEBUG)
 _chsh.setFormatter(_LoggingCustomFormatter())
```

### Comparing `vedo-2023.4.4/vedo/addons.py` & `vedo-2023.4.5/vedo/addons.py`

 * *Files 8% similar despite different names*

```diff
@@ -8,16 +8,15 @@
     import vtkmodules.all as vtk
 
 import vedo
 from vedo import settings
 from vedo import utils
 from vedo import shapes
 from vedo.assembly import Assembly, Group
-from vedo.colors import get_color
-from vedo.colors import printc
+from vedo.colors import get_color, build_lut, color_map, printc
 from vedo.mesh import Mesh
 from vedo.pointcloud import Points, Point, merge
 from vedo.tetmesh import TetMesh
 from vedo.volume import Volume
 
 __docformat__ = "google"
 
@@ -41,26 +40,31 @@
     "RulerAxes",
     "Ruler2D",
     "DistanceTool",
     "SplineTool",
     "Goniometer",
     "Button",
     "Flagpost",
+    "ProgressBarWidget",
+    "BoxCutter",
+    "PlaneCutter",
+    "SphereCutter",
 ]
 
 ########################################################################################
 class Flagpost(vtk.vtkFlagpoleLabel):
     """
     Create a flag post style element to describe an object.
     """
+
     def __init__(
         self,
         txt="",
-        base=(0,0,0),
-        top=(0,0,1),
+        base=(0, 0, 0),
+        top=(0, 0, 1),
         s=1,
         c="k9",
         bc="k1",
         alpha=1,
         lw=0,
         font="Calco",
         justify="center-left",
@@ -69,17 +73,17 @@
         """
         Create a flag post style element to describe an object.
 
         Arguments:
             txt : (str)
                 Text to display. The default is the filename or the object name.
             base : (list)
-                position of the flag anchor point. 
+                position of the flag anchor point.
             top : (list)
-                a 3D displacement or offset. 
+                a 3D displacement or offset.
             s : (float)
                 size of the text to be shown
             c : (list)
                 color of text and line
             bc : (list)
                 color of the flag background
             alpha : (float)
@@ -90,35 +94,35 @@
                 font name. Use a monospace font for better rendering. The default is "Calco".
                 Type `vedo -r fonts` for a font demo.
                 Check [available fonts here](https://vedo.embl.es/fonts).
             justify : (str)
                 internal text justification. The default is "center-left".
             vspacing : (float)
                 vertical spacing between lines.
-        
+
         Examples:
             - [flag_labels2.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/other/flag_labels2.py)
 
             ![](https://vedo.embl.es/images/other/flag_labels2.png)
         """
 
         vtk.vtkFlagpoleLabel.__init__(self)
-        
+
         base = utils.make3d(base)
         top = utils.make3d(top)
 
         self.SetBasePosition(*base)
         self.SetTopPosition(*top)
-        
+
         self.SetFlagSize(s)
         self.SetInput(txt)
         self.PickableOff()
 
         self.GetProperty().LightingOff()
-        self.GetProperty().SetLineWidth(lw+1)
+        self.GetProperty().SetLineWidth(lw + 1)
 
         prop = self.GetTextProperty()
         if bc is not None:
             prop.SetBackgroundColor(get_color(bc))
 
         prop.SetOpacity(alpha)
         prop.SetBackgroundOpacity(alpha)
@@ -163,21 +167,21 @@
         return self
 
     def off(self):
         self.VisibilityOff()
         return self
 
     def toggle(self):
-        self.SetVisibility(not(self.GetVisibility()))
+        self.SetVisibility(not self.GetVisibility())
         return self
 
     def use_bounds(self, value=True):
         self.SetUseBounds(value)
         return self
-    
+
     def color(self, c):
         c = get_color(c)
         self.GetTextProperty().SetColor(c)
         self.GetProperty().SetColor(c)
         return self
 
     def pos(self, p):
@@ -245,23 +249,24 @@
                 opacity of the box
             pos : (str, list)
                 position of the box, can be either a string or a (x,y) screen position in range [0,1]
 
         Examples:
             - [legendbox.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/legendbox.py)
             - [flag_labels1.py](https://github.com/marcomusy/vedo/tree/master/examples/other/flag_labels1.py)
-            - [flag_labels2.py](examples/other/flag_labels2.py)
+            - [flag_labels2.py](https://github.com/marcomusy/vedo/tree/master/examples/other/flag_labels2.py)
 
                 ![](https://vedo.embl.es/images/other/flag_labels.png)
         """
         vtk.vtkLegendBoxActor.__init__(self)
         shapes.TextBase.__init__(self)
 
         self.name = "LegendBox"
         self.entries = entries[:nmax]
+        self.property = self.GetEntryTextProperty()
 
         n = 0
         texts = []
         for e in self.entries:
             ename = e.name
             if "legend" in e.info.keys():
                 if not e.info["legend"]:
@@ -279,15 +284,14 @@
         if not n:
             return
 
         self.ScalarVisibilityOff()
         self.PickableOff()
         self.SetPadding(padding)
 
-        self.property = self.GetEntryTextProperty()
         self.property.ShadowOff()
         self.property.BoldOff()
 
         # self.property.SetJustificationToLeft() # no effect
         # self.property.SetVerticalJustificationToTop()
 
         if not font:
@@ -308,17 +312,15 @@
             else:
                 col = get_color(c)
             if markers is None:  # default
                 poly = e.inputdata()
             else:
                 marker = markers[i] if utils.is_sequence(markers) else markers
                 if isinstance(marker, vedo.Points):
-                    poly = (
-                        marker.clone(deep=False).normalize().shift(0, 1, 0).polydata()
-                    )
+                    poly = marker.clone(deep=False).normalize().shift(0, 1, 0).polydata()
                 else:  # assume string marker
                     poly = vedo.shapes.Marker(marker, s=1).shift(0, 1, 0).polydata()
 
             self.SetEntry(n, poly, ti, col)
             n += 1
 
         self.SetWidth(width)
@@ -345,28 +347,16 @@
         self.LockBorderOn()
 
 
 class Button:
     """
     Build a Button object.
     """
-    def __init__(
-        self,
-        fnc,
-        states,
-        c,
-        bc,
-        pos,
-        size,
-        font,
-        bold,
-        italic,
-        alpha,
-        angle,
-    ):
+
+    def __init__(self, fnc, states, c, bc, pos, size, font, bold, italic, alpha, angle):
         """
         Build a Button object to be shown in the rendering window.
 
         Arguments:
             fnc : (function)
                 external function to be called by the widget
             states : (list)
@@ -391,32 +381,32 @@
                 anticlockwise rotation in degrees
 
         Examples:
             - [buttons.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/buttons.py)
 
         Examples:
             - [buttons.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/buttons.py)
-                
+
                 ![](https://user-images.githubusercontent.com/32848391/50738870-c0fe2500-11d8-11e9-9b78-92754f5c5968.jpg)
-            
+
             - [timer_callback2.py](https://github.com/marcomusy/vedo/tree/master/examples/advanced/timer_callback2.py)
 
                 ![](https://vedo.embl.es/images/advanced/timer_callback1.jpg)
         """
         self.status_idx = 0
         self.states = states
 
         if not utils.is_sequence(c):
             c = [c]
         self.colors = c
-        
+
         if not utils.is_sequence(bc):
             bc = [bc]
         self.bcolors = bc
-        
+
         assert len(c) == len(bc), "in Button color number mismatch!"
         self.function = fnc
         self.actor = vtk.vtkTextActor()
 
         self.actor.GetActualPositionCoordinate().SetCoordinateSystemToNormalizedViewport()
         self.actor.SetPosition(pos[0], pos[1])
 
@@ -497,15 +487,15 @@
         if s is None:
             return self.states[self.status_idx]
 
         if isinstance(s, str):
             s = self.states.index(s)
         self.status_idx = s
         self.text(self.states[s])
-        s = s % len(self.bcolors)  
+        s = s % len(self.bcolors)
         self.text(c=self.colors[s])
         self.backcolor(self.bcolors[s])
         return self
 
     def switch(self):
         """
         Change/cycle button status to the next defined status in states list.
@@ -516,17 +506,16 @@
 
 
 #####################################################################
 class SplineTool(vtk.vtkContourWidget):
     """
     Spline tool, draw a spline through a set of points interactively.
     """
-    def __init__(
-            self, points, pc="k", ps=8, lc="r4", ac="g5", lw=2, closed=False, ontop=True
-        ):
+
+    def __init__(self, points, pc="k", ps=8, lc="r4", ac="g5", lw=2, closed=False, ontop=True):
         """
         Spline tool, draw a spline through a set of points interactively.
 
         Arguments:
             points : (list), Points
                 initial set of points.
             pc : (str)
@@ -632,14 +621,15 @@
             pts.append(p)
         return np.array(pts)
 
 
 #####################################################################
 class SliderWidget(vtk.vtkSliderWidget):
     """Helper class for vtkSliderWidget"""
+
     def __init__(self):
         vtk.vtkSliderWidget.__init__(self)
 
     @property
     def interactor(self):
         return self.GetInteractor()
 
@@ -798,38 +788,31 @@
         msh.shift(0, 0, -r / 10000)  # to resolve 2d conflicts..
         acts.append(msh)
 
     asse = Assembly(acts)
     return asse
 
 
-def Light(
-        pos,
-        focal_point=(0, 0, 0),
-        angle=180,
-        c=None,
-        intensity=1,
-        remove_others=False,
-    ):
+def Light(pos, focal_point=(0, 0, 0), angle=180, c=None, intensity=1):
     """
     Generate a source of light placed at `pos` and directed to `focal point`.
     Returns a `vtkLight` object.
 
     Arguments:
         focal_point : (list)
             focal point, if a `vedo` object is passed then will grab its position.
         angle : (float)
             aperture angle of the light source, in degrees
         c : (color)
             set the light color
         intensity : (float)
             intensity value between 0 and 1.
-        remove_others : (bool)
-            remove all other lights in the scene
-            (in this case a `vedo.Plotter` object must already exist)
+
+    Check also:
+        `plotter.Plotter.remove_lights()`
 
     Examples:
         - [lights.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/lights.py)
 
             ![](https://vedo.embl.es/images/basic/lights.png)
     """
     if c is None:
@@ -847,38 +830,31 @@
     light = vtk.vtkLight()
     light.SetLightTypeToSceneLight()
     light.SetPosition(pos)
     light.SetConeAngle(angle)
     light.SetFocalPoint(focal_point)
     light.SetIntensity(intensity)
     light.SetColor(get_color(c))
-
-    if remove_others:
-        if vedo.plotter_instance and vedo.plotter_instance.renderer:
-            vedo.plotter_instance.renderer.RemoveAllLights()
-        else:
-            vedo.logger.error("in Light(remove_others=True): scene does not exist.")
-
     return light
 
 
 #####################################################################
 def ScalarBar(
-        obj,
-        title="",
-        pos=(0.8,0.05),
-        title_yoffset=15,
-        font_size=12,
-        size=(None,None),
-        nlabels=None,
-        c='k',
-        horizontal=False,
-        use_alpha=True,
-        label_format=':6.3g',
-    ):
+    obj,
+    title="",
+    pos=(0.8, 0.05),
+    title_yoffset=15,
+    font_size=12,
+    size=(None, None),
+    nlabels=None,
+    c="k",
+    horizontal=False,
+    use_alpha=True,
+    label_format=":6.3g",
+):
     """
     A 2D scalar bar for the specified obj.
 
     Arguments:
         pos : (list)
             fractional x and y position in the 2D window
         size : (list)
@@ -891,17 +867,14 @@
             show in horizontal layout
 
     Examples:
         - [scalarbars.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/scalarbars.py)
 
         ![](https://user-images.githubusercontent.com/32848391/62940174-4bdc7900-bdd3-11e9-9713-e4f3e2fdab63.png)
     """
-    if not hasattr(obj, "mapper"):
-        vedo.logger.error(f"in add_scalarbar(): input is invalid {type(obj)}. Skip.")
-        return None
 
     if isinstance(obj, Points):
         vtkscalars = obj.inputdata().GetPointData().GetScalars()
         if vtkscalars is None:
             vtkscalars = obj.inputdata().GetCellData().GetScalars()
         if not vtkscalars:
             return None
@@ -910,22 +883,34 @@
             lut = obj.mapper().GetLookupTable()
             if not lut:
                 return None
 
     elif isinstance(obj, (Volume, TetMesh)):
         lut = utils.ctf2lut(obj)
 
+    elif utils.is_sequence(obj) and len(obj) == 2:
+        x = np.linspace(obj[0], obj[1], 256)
+        data = []
+        for i in range(256):
+            rgb = color_map(i, c, 0, 256)
+            data.append([x[i], rgb])
+        lut = build_lut(data)
+        
+    elif not hasattr(obj, "mapper"):
+        vedo.logger.error(f"in add_scalarbar(): input is invalid {type(obj)}. Skip.")
+        return None
+
     else:
         return None
 
     c = get_color(c)
     sb = vtk.vtkScalarBarActor()
 
     # print(sb.GetLabelFormat())
-    label_format = label_format.replace(":","%-#")
+    label_format = label_format.replace(":", "%-#")
     sb.SetLabelFormat(label_format)
 
     sb.SetLookupTable(lut)
     sb.SetUseOpacity(use_alpha)
     sb.SetDrawFrame(0)
     sb.SetDrawBackground(0)
     if lut.GetUseBelowRangeColor():
@@ -991,50 +976,50 @@
     sb.SetAnnotationTextProperty(sctxt)
     sb.PickableOff()
     return sb
 
 
 #####################################################################
 def ScalarBar3D(
-        obj,
-        title='',
-        pos=None,
-        s=(None, None),
-        title_font="",
-        title_xoffset=-1.5,
-        title_yoffset=0.0,
-        title_size=1.5,
-        title_rotation=0.0,
-        nlabels=8,
-        label_font="",
-        label_size=1,
-        label_offset=0.375,
-        label_rotation=0,
-        label_format="",
-        italic=0,
-        c=None,
-        draw_box=True,
-        above_text=None,
-        below_text=None,
-        nan_text='NaN',
-        categories=None,
-    ):
+    obj,
+    title="",
+    pos=None,
+    size=(None, None),
+    title_font="",
+    title_xoffset=-1.5,
+    title_yoffset=0.0,
+    title_size=1.5,
+    title_rotation=0.0,
+    nlabels=8,
+    label_font="",
+    label_size=1,
+    label_offset=0.375,
+    label_rotation=0,
+    label_format="",
+    italic=0,
+    c=None,
+    draw_box=True,
+    above_text=None,
+    below_text=None,
+    nan_text="NaN",
+    categories=None,
+):
     """
     Create a 3D scalar bar for the specified object.
 
     Input `obj` input can be:
 
         - a list of numbers,
         - a list of two numbers in the form (min, max),
         - a Mesh already containing a set of scalars associated to vertices or cells,
         - if None the last object in the list of actors will be used.
 
     Arguments:
-        s : (list)
-            the tuple (thickness, length) of scalarbar
+        size : (list)
+            (thickness, length) of scalarbar
         title : (str)
             scalar bar title
         title_xoffset : (float)
             horizontal space btw title and color scalarbar
         title_yoffset : (float)
             vertical space offset
         title_size : (float)
@@ -1077,25 +1062,26 @@
         vmin, vmax = np.min(obj), np.max(obj)
 
     else:
         vedo.logger.error("in ScalarBar3D(): input must be a vedo object with bounds.")
         return obj
 
     bns = obj.bounds()
-    sx, sy = s
+    sx, sy = size
     if sy is None:
         sy = bns[3] - bns[2]
     if sx is None:
         sx = sy / 18
 
     if categories is not None:  ################################
         ncats = len(categories)
-        scale = shapes.Grid([-sx * label_offset, 0, 0], c=c, alpha=1, s=(sx,sy), res=(1,ncats))
-        cols, alphas= [], []
-        ticks_pos, ticks_txt = [0.0], ['']
+        scale = shapes.Grid([-float(sx) * label_offset, 0, 0],
+                            c=c, alpha=1, s=(sx, sy), res=(1, ncats))
+        cols, alphas = [], []
+        ticks_pos, ticks_txt = [0.0], [""]
         for i, cat in enumerate(categories):
             cl = get_color(cat[1])
             cols.append(cl)
             if len(cat) > 2:
                 alphas.append(cat[2])
             else:
                 alphas.append(1)
@@ -1109,17 +1095,18 @@
         rgba = np.c_[np.array(cols) * 255, np.array(alphas) * 255]
         scale.cell_individual_colors(rgba)
 
     else:  ########################################################
 
         # build the color scale part
         scale = shapes.Grid(
-            [-sx * label_offset, 0, 0], 
-            c=c, alpha=1, 
-            s=(sx,sy),
+            [-float(sx) * label_offset, 0, 0],
+            c=c,
+            alpha=1,
+            s=(sx, sy),
             res=(1, lut.GetTable().GetNumberOfTuples()),
         )
         cscals = np.linspace(vmin, vmax, lut.GetTable().GetNumberOfTuples())
 
         if lut.GetScale():  # logarithmic scale
             lut10 = vtk.vtkLookupTable()
             lut10.DeepCopy(lut)
@@ -1170,17 +1157,15 @@
                     italic=italic,
                     font=label_font,
                 )
 
             tacts.append(a)
 
             # build ticks
-            tic = shapes.Line(
-                [xbns[1], y, 0], [xbns[1] + sx * label_offset / 4, y, 0], lw=2, c=c
-            )
+            tic = shapes.Line([xbns[1], y, 0], [xbns[1] + sx * label_offset / 4, y, 0], lw=2, c=c)
             tacts.append(tic)
 
     # build title
     if title:
         t = shapes.Text3D(
             title,
             (0, 0, 0),
@@ -1193,14 +1178,16 @@
         t.RotateZ(90 + title_rotation)
         t.pos(sx * title_xoffset, title_yoffset, 0)
         tacts.append(t)
 
     # build below scale
     if lut.GetUseBelowRangeColor():
         r, g, b, alfa = lut.GetBelowRangeColor()
+        sx = float(sx)
+        sy = float(sy)
         brect = shapes.Rectangle(
             [-sx * label_offset - sx / 2, -sy / 2 - sx - sx * 0.1, 0],
             [-sx * label_offset + sx / 2, -sy / 2 - sx * 0.1, 0],
             c=(r, g, b),
             alpha=alfa,
         )
         brect.lw(1).lc(c).lighting("off")
@@ -1329,33 +1316,36 @@
 
 
 #####################################################################
 class Slider2D(SliderWidget):
     """
     Add a slider which can call an external custom function.
     """
-    def __init__(self,
-            sliderfunc,
-            xmin,
-            xmax,
-            value=None,
-            pos=4,
-            title="",
-            font="",
-            title_size=1,
-            c="k",
-            alpha=1,
-            show_value=True,
-            delayed=False,
-            **options,
-        ):
+    def __init__(
+        self,
+        sliderfunc,
+        xmin,
+        xmax,
+        value=None,
+        pos=4,
+        title="",
+        font="Calco",
+        title_size=1,
+        c="k",
+        alpha=1,
+        show_value=True,
+        delayed=False,
+        **options,
+    ):
         """
         Add a slider which can call an external custom function.
         Set any value as float to increase the number of significant digits above the slider.
 
+        Use `play()` to start an animation between the current slider value and the last value.
+
         Arguments:
             sliderfunc : (function)
                 external function to be called by the widget
             xmin : (float)
                 lower value of the slider
             xmax : (float)
                 upper value
@@ -1384,30 +1374,30 @@
             end_cap_length : (float)
                 length of the end cap
             end_cap_width : (float)
                 width of the end cap
             tube_width : (float)
                 width of the tube
             title_height : (float)
-                width of the title
+                height of the title
             tformat : (str)
                 format of the title
 
         Examples:
             - [sliders1.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/sliders1.py)
             - [sliders2.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/sliders2.py)
-            
+
             ![](https://user-images.githubusercontent.com/32848391/50738848-be033480-11d8-11e9-9b1a-c13105423a79.jpg)
         """
         slider_length = options.pop("slider_length",  0.015)
         slider_width  = options.pop("slider_width",   0.025)
         end_cap_length= options.pop("end_cap_length", 0.0015)
         end_cap_width = options.pop("end_cap_width",  0.0125)
         tube_width    = options.pop("tube_width",     0.0075)
-        title_height  = options.pop("title_height",   0.022)
+        title_height  = options.pop("title_height",   0.025)
         if options:
             vedo.logger.warning(f"in Slider2D unknown option(s): {options}")
 
         c = get_color(c)
 
         if value is None or value < xmin:
             value = xmin
@@ -1504,15 +1494,15 @@
             slider_rep.GetLabelProperty().SetOpacity(alpha)
             slider_rep.GetLabelProperty().SetColor(c)
             if isinstance(pos, int) and pos > 10:
                 slider_rep.GetLabelProperty().SetOrientation(90)
         else:
             slider_rep.ShowSliderLabelOff()
         slider_rep.GetTubeProperty().SetColor(c)
-        slider_rep.GetTubeProperty().SetOpacity(0.6)
+        slider_rep.GetTubeProperty().SetOpacity(0.75)
         slider_rep.GetSliderProperty().SetColor(c)
         slider_rep.GetSelectedProperty().SetColor(np.sqrt(np.array(c)))
         slider_rep.GetCapProperty().SetColor(c)
 
         slider_rep.SetTitleHeight(title_height * title_size)
         slider_rep.GetTitleProperty().SetShadow(0)
         slider_rep.GetTitleProperty().SetColor(c)
@@ -1554,29 +1544,30 @@
 
 
 #####################################################################
 class Slider3D(SliderWidget):
     """
     Add a 3D slider which can call an external custom function.
     """
+
     def __init__(
-            self,
-            sliderfunc,
-            pos1,
-            pos2,
-            xmin,
-            xmax,
-            value=None,
-            s=0.03,
-            t=1,
-            title="",
-            rotation=0,
-            c=None,
-            show_value=True,
-        ):
+        self,
+        sliderfunc,
+        pos1,
+        pos2,
+        xmin,
+        xmax,
+        value=None,
+        s=0.03,
+        t=1,
+        title="",
+        rotation=0,
+        c=None,
+        show_value=True,
+    ):
         """
         Add a 3D slider which can call an external custom function.
 
         Arguments:
             sliderfunc : (function)
                 external function to be called by the widget
             pos1 : (list)
@@ -1643,307 +1634,456 @@
 
         SliderWidget.__init__(self)
 
         self.SetRepresentation(slider_rep)
         self.SetAnimationModeToJump()
         self.AddObserver("InteractionEvent", sliderfunc)
 
-
-def add_cutter_tool(obj=None, mode="box", invert=False):
+class BaseCutter:
+    """
+    Base class for Cutter widgets.
     """
-    Create an interactive tool to cut away parts of a mesh or volume.
+    def __init__(self):
+        self._implicit_func = None
+        self.widget = None
+        self.clipper=None
+        self.cutter=None
+        self._alpha = 0.5
+        self._keypress_id = None
+
+    def invert(self):
+        """Invert selection."""
+        self.clipper.SetInsideOut(not self.clipper.GetInsideOut())
+        return self
 
-    Arguments:
-        mode : (str)
-            either "box", "plane" or "sphere"
-        invert : (bool)
-            invert selection (inside-out)
+    def bounds(self, value=None):
+        """Set or get the bounding box."""
+        if value is None:
+            return self.cutter.GetBounds()
+        else:
+            self._implicit_func.SetBounds(value)
+            return self
+    
+    def on(self):
+        """Switch the widget on or off."""
+        self.widget.On()
+        return self
 
-    Examples:
-        - [cutter.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/cutter.py)
+    def off(self):
+        """Switch the widget on or off."""
+        self.widget.Off()
+        return self    
+
+    def add_to(self, plt):
+        """Assign the widget to the provided `Plotter` instance."""
+        self.widget.SetInteractor(plt.interactor)
+        self.widget.SetCurrentRenderer(plt.renderer)
+        if self.widget not in plt.widgets:
+            plt.widgets.append(self.widget)
+
+        cpoly = self.clipper.GetOutput()
+        self.mesh._update(cpoly)
+
+        out = self.clipper.GetClippedOutputPort()
+        self.remnant.mapper().SetInputConnection(out)  
+        self.remnant.alpha(self._alpha).color((0.5, 0.5, 0.5))
+        self.remnant.lighting('off').wireframe()
+        plt.add(self.remnant)
+        self._keypress_id = plt.interactor.AddObserver("KeyPressEvent", self._keypress)
+        if plt.interactor and plt.interactor.GetInitialized():
+            self.widget.On()
+            self._select_polygons(self.widget, "InteractionEvent")
+            plt.interactor.Render()
+        return self
+    
+    def remove_from(self, plt):
+        """Remove the widget to the provided `Plotter` instance."""
+        self.widget.Off()
+        self.RemoveAllObservers()
+        plt.remove(self.remnant)
+        if self.widget in plt.widgets:
+            plt.widgets.remove(self.widget)
+        if self._keypress_id:
+            plt.interactor.RemoveObserver(self._keypress_id)
+        return self
 
-        ![](https://user-images.githubusercontent.com/32848391/50738866-c0658e80-11d8-11e9-955b-551d4d8b0db5.jpg)
+
+class PlaneCutter(vtk.vtkPlaneWidget, BaseCutter):
     """
-    if obj is None:
-        obj = vedo.plotter_instance.actors[0]
-    try:
-        if isinstance(obj, vedo.Volume):
-            return _addCutterToolVolumeWithBox(obj, invert)
+    Create a box widget to cut away parts of a Mesh.
+    """
+    def __init__(
+            self,
+            mesh,
+            invert=False,
+            can_translate=True,
+            can_scale=True,
+            c=(0.25, 0.25, 0.25),
+            origin=(),
+            normal=(),
+            padding=0.05,
+            alpha=0.05,
+    ):
+        """
+        Create a box widget to cut away parts of a Mesh.
 
-        if mode == "box":
-            return _addCutterToolMeshWithBox(obj, invert)
-        elif mode == "plane":
-            return _addCutterToolMeshWithPlane(obj, invert)
-        elif mode == "sphere":
-            return _addCutterToolMeshWithSphere(obj, invert)
+        Arguments:
+            mesh : (Mesh)
+                the input mesh
+            invert : (bool)
+                invert the clipping plane
+            can_translate : (bool)
+                enable translation of the widget
+            can_scale : (bool)
+                enable scaling of the widget
+            origin : (list)
+                origin of the plane
+            normal : (list)
+                normal to the plane
+            padding : (float)
+                padding around the input mesh
+            c : (color)
+                color of the box cutter widget
+            alpha : (float)
+                transparency of the cut-off part of the input mesh
+        """
+        super().__init__()
+
+        self.mesh = mesh
+        self.remnant = Mesh()
+        self.remnant.name = mesh.name + "Remnant"
+        self.remnant.pickable(False)
+        
+        self._alpha = alpha
+        self._keypress_id = None
+
+        self._implicit_func = vtk.vtkPlane()
+
+        poly = mesh.polydata()
+        self.clipper = vtk.vtkClipPolyData()
+        self.clipper.GenerateClipScalarsOff()
+        self.clipper.SetInputData(poly)
+        self.clipper.SetClipFunction(self._implicit_func)
+        self.clipper.SetInsideOut(invert)
+        self.clipper.GenerateClippedOutputOn()
+        self.clipper.Update()
+
+        self.widget = vtk.vtkImplicitPlaneWidget()
+
+        # self.widget.KeyPressActivationOff()
+        # self.widget.SetKeyPressActivationValue('i')
+
+        self.widget.SetOriginTranslation(can_translate)
+        self.widget.SetOutlineTranslation(can_translate)
+        self.widget.SetScaleEnabled(can_scale)
+
+        self.widget.GetOutlineProperty().SetColor(c)
+        self.widget.GetOutlineProperty().SetOpacity(0.25)
+        self.widget.GetOutlineProperty().SetLineWidth(1)
+        self.widget.GetOutlineProperty().LightingOff()
+
+        self.widget.GetSelectedOutlineProperty().SetColor(get_color("red3"))
+
+        self.widget.SetTubing(0)
+        self.widget.SetDrawPlane(1)
+        self.widget.GetPlaneProperty().LightingOff()
+        self.widget.GetPlaneProperty().SetOpacity(0.05)
+        self.widget.GetSelectedPlaneProperty().SetColor(get_color("red5"))
+        self.widget.GetSelectedPlaneProperty().LightingOff()
+
+        self.widget.SetPlaceFactor(1.0 + padding)
+        self.widget.SetInputData(poly)
+        self.widget.PlaceWidget()
+        self.widget.AddObserver("InteractionEvent", self._select_polygons)
+
+        if len(origin) == 3:
+            self.widget.SetOrigin(origin)
         else:
-            raise RuntimeError(f"Unknown mode: {mode}")
-    except:
-        return None
+            self.widget.SetOrigin(mesh.center_of_mass())
+        
+        if len(normal) == 3:
+            self.widget.SetNormal(normal)
+        else:
+            self.widget.SetNormal((1, 0, 0))
 
+        
+    def _select_polygons(self, vobj, event):
+        vobj.GetPlane(self._implicit_func)
 
-def _addCutterToolMeshWithSphere(mesh, invert):
-    plt = vedo.plotter_instance
+    def _keypress(self, vobj, event):
+        if vobj.GetKeySym() == "r": # reset planes
+            self.widget.GetPlane(self._implicit_func)
+            self.widget.PlaceWidget()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "u": # invert cut
+            self.invert()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "x": # set normal along x
+            self.widget.SetNormal((1, 0, 0))
+            self.widget.GetPlane(self._implicit_func)
+            self.widget.PlaceWidget()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "y": # set normal along y
+            self.widget.SetNormal((0, 1, 0))
+            self.widget.GetPlane(self._implicit_func)
+            self.widget.PlaceWidget()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "z": # set normal along z
+            self.widget.SetNormal((0, 0, 1))
+            self.widget.GetPlane(self._implicit_func)
+            self.widget.PlaceWidget()
+            self.widget.GetInteractor().Render()        
+        elif vobj.GetKeySym() == "s": # Ctrl+s to save mesh
+            if self.widget.GetInteractor():
+                if self.widget.GetInteractor().GetControlKey():
+                    printc(":save: saving mesh to vedo_clipped.vtk")
+                    self.mesh.write("vedo_clipped.vtk")
 
-    sph = vtk.vtkSphere()
-    cm = mesh.center_of_mass()
-    sph.SetCenter(cm)
-    aves = mesh.average_size()
-    sph.SetRadius(aves)
-    clipper = vtk.vtkClipPolyData()
-    clipper.SetInputData(mesh.polydata())
-    clipper.SetClipFunction(sph)
-    clipper.GenerateClippedOutputOn()
-    clipper.GenerateClipScalarsOff()
-    clipper.SetInsideOut(not invert)
-    clipper.Update()
-    mesh.mapper().SetInputConnection(clipper.GetOutputPort())
-
-    act0 = Mesh(clipper.GetOutput(), alpha=mesh.alpha())  # the main cut part
-    act0.mapper().SetLookupTable(mesh.mapper().GetLookupTable())
-    act0.mapper().SetScalarRange(mesh.mapper().GetScalarRange())
-
-    act1 = Mesh()
-    act1.mapper().SetInputConnection(clipper.GetClippedOutputPort())  # needs OutputPort
-    act1.color((0.5, 0.5, 0.5), 0.04).wireframe()
-
-    plt.remove(mesh, render=False)
-    plt.add([act0, act1])
-
-    def myCallback(obj, event):
-        obj.GetSphere(sph)
-
-    sphere_widget = vtk.vtkSphereWidget()
-    sphere_widget.SetThetaResolution(120)
-    sphere_widget.SetPhiResolution(60)
-    sphere_widget.SetRadius(aves)
-    sphere_widget.SetCenter(cm)
-    sphere_widget.SetRepresentation(2)
-    sphere_widget.HandleVisibilityOff()
-    sphere_widget.GetSphereProperty().SetOpacity(0.2)
-    sphere_widget.GetSelectedSphereProperty().SetOpacity(0.1)
-    sphere_widget.SetInteractor(plt.interactor)
-    sphere_widget.SetCurrentRenderer(plt.renderer)
-    sphere_widget.SetInputData(mesh.inputdata())
-    sphere_widget.AddObserver("InteractionEvent", myCallback)
-    plt.interactor.Render()
-    sphere_widget.On()
-    plt.widgets.append(sphere_widget)
-
-    plt.cutter_widget = sphere_widget
-    plt.clicked_actor = act0
-    if mesh in plt.actors:
-        ia = plt.actors.index(mesh)
-        plt.actors[ia] = act0
-
-    printc("Mesh Cutter Tool:", c="m", invert=True)
-    printc("  Move gray handles to cut away parts of the mesh", c="m")
-    printc("  Press X to save file to: clipped.vtk", c="m")
-    printc("  [Press space bar to continue]", c="m")
-
-    plt.interactor.Start()
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-
-    sphere_widget.Off()
-
-    plt.interactor.Start()  # allow extra interaction
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-    return act0
 
+class BoxCutter(vtk.vtkBoxWidget, BaseCutter):
+    """
+    Create a box widget to cut away parts of a Mesh.
+    """
+    def __init__(
+            self,
+            mesh,
+            invert=False,
+            can_rotate=True,
+            can_translate=True,
+            can_scale=True,
+            initial_bounds=(),
+            padding=0.025,
+            c=(0.25, 0.25, 0.25),
+            alpha=0.05,
+    ):
+        """
+        Create a box widget to cut away parts of a Mesh.
 
-def _addCutterToolMeshWithBox(mesh, invert):
-    plt = vedo.plotter_instance
-    if not plt:
-        vedo.logger.error("in add_cutter_tool() scene must be first rendered.")
-        raise RuntimeError()
-
-    apd = mesh.polydata()
-
-    planes = vtk.vtkPlanes()
-    planes.SetBounds(mesh.bounds())
-
-    clipper = vtk.vtkClipPolyData()
-    clipper.GenerateClipScalarsOff()
-    clipper.SetInputData(apd)
-    clipper.SetClipFunction(planes)
-    clipper.SetInsideOut(not invert)
-    clipper.GenerateClippedOutputOn()
-    clipper.Update()
-    cpoly = clipper.GetOutput()
-
-    act0 = Mesh(cpoly, alpha=mesh.alpha())  # the main cut part
-    act0.mapper().SetLookupTable(mesh.mapper().GetLookupTable())
-    act0.mapper().SetScalarRange(mesh.mapper().GetScalarRange())
-
-    act1 = Mesh()
-    act1.mapper().SetInputConnection(clipper.GetClippedOutputPort())  # needs OutputPort
-    act1.alpha(0.04).color((0.5, 0.5, 0.5)).wireframe()
-
-    plt.remove(mesh, render=False)
-    plt.add([act0, act1])
-
-    def selectPolygons(vobj, event):
-        vobj.GetPlanes(planes)
-
-    box_widget = vtk.vtkBoxWidget()
-    box_widget.OutlineCursorWiresOn()
-    box_widget.GetSelectedOutlineProperty().SetColor(1, 0, 1)
-    box_widget.GetOutlineProperty().SetColor(0.2, 0.2, 0.2)
-    box_widget.GetOutlineProperty().SetOpacity(1)
-    box_widget.SetPlaceFactor(1.025)
-    box_widget.SetInteractor(plt.interactor)
-    box_widget.SetCurrentRenderer(plt.renderer)
-    box_widget.SetInputData(apd)
-    box_widget.PlaceWidget()
-    box_widget.AddObserver("InteractionEvent", selectPolygons)
-    box_widget.On()
-    plt.widgets.append(box_widget)
-
-    plt.cutter_widget = box_widget
-    plt.clicked_actor = act0
-    if mesh in plt.actors:
-        ia = plt.actors.index(mesh)
-        plt.actors[ia] = act0
-
-    printc("Mesh Cutter Tool:", c="m", invert=True)
-    printc("  Move gray handles to cut away parts of the mesh", c="m")
-    printc("  Press X to save file to: clipped.vtk", c="m")
-    printc("  [Press space bar to continue]", c="m")
-    plt.interactor.Start()
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-    box_widget.Off()
-    plt.interactor.Start()  # allow extra interaction
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-    return act0
+        Arguments:
+            mesh : (Mesh)
+                the input mesh
+            invert : (bool)
+                invert the clipping plane
+            can_rotate : (bool)
+                enable rotation of the widget
+            can_translate : (bool)
+                enable translation of the widget
+            can_scale : (bool)
+                enable scaling of the widget
+            initial_bounds : (list)
+                initial bounds of the box widget
+            c : (color)
+                color of the box cutter widget
+            alpha : (float)
+                transparency of the cut-off part of the input mesh
+        """
+        super().__init__()
 
+        self.mesh = mesh
+        self.remnant = Mesh()
+        self.remnant.name = mesh.name + "Remnant"
+        self.remnant.pickable(False)
+
+        self._alpha = alpha
+        self._keypress_id = None
+        self._init_bounds = initial_bounds
+        if len(self._init_bounds) == 0:
+            self._init_bounds = mesh.bounds()
+        else:
+            self._init_bounds = initial_bounds
 
-def _addCutterToolMeshWithPlane(mesh, invert):
-    plt = vedo.plotter_instance
+        self._implicit_func = vtk.vtkPlanes()
+        self._implicit_func.SetBounds(self._init_bounds)
 
-    plane = vtk.vtkPlane()
-    plane.SetNormal(mesh.center_of_mass())
-    clipper = vtk.vtkClipPolyData()
-    clipper.SetInputData(mesh.polydata())
-    clipper.SetClipFunction(plane)
-    clipper.GenerateClipScalarsOff()
-    clipper.GenerateClippedOutputOn()
-    clipper.SetInsideOut(invert)
-    clipper.Update()
-    mesh.mapper().SetInputConnection(clipper.GetOutputPort())
-
-    act0 = Mesh(clipper.GetOutput(), alpha=mesh.alpha())  # the main cut part
-    act0.mapper().SetLookupTable(mesh.mapper().GetLookupTable())
-    act0.mapper().SetScalarRange(mesh.mapper().GetScalarRange())
-
-    act1 = Mesh()
-    act1.mapper().SetInputConnection(clipper.GetClippedOutputPort())  # needs OutputPort
-    act1.alpha(0.04).color((0.5, 0.5, 0.5)).wireframe()
-
-    plt.remove(mesh, render=False)
-    plt.add([act0, act1])
-
-    def myCallback(obj, event):
-        obj.GetPlane(plane)
-
-    plane_widget = vtk.vtkImplicitPlaneWidget()
-    plane_widget.SetNormal(1, 0, 0)
-    plane_widget.SetPlaceFactor(1.25)
-    plane_widget.SetInteractor(plt.interactor)
-    plane_widget.SetCurrentRenderer(plt.renderer)
-    plane_widget.SetInputData(mesh.inputdata())
-    plane_widget.PlaceWidget(mesh.bounds())
-    plane_widget.AddObserver("InteractionEvent", myCallback)
-    plane_widget.GetPlaneProperty().SetColor(get_color("grey"))
-    plane_widget.GetPlaneProperty().SetOpacity(0.5)
-    plane_widget.SetTubing(False)
-    plane_widget.SetOutlineTranslation(True)
-    plane_widget.SetOriginTranslation(True)
-    plane_widget.SetDrawPlane(False)
-    plane_widget.GetPlaneProperty().LightingOff()
-    plt.interactor.Render()
-    plane_widget.On()
-    plt.widgets.append(plane_widget)
-
-    plt.cutter_widget = plane_widget
-    plt.clicked_actor = act0
-    if mesh in plt.actors:
-        ia = plt.actors.index(mesh)
-        plt.actors[ia] = act0
-
-    printc("Mesh Cutter Tool:", c="m", invert=True)
-    printc("  Move gray handles to cut away parts of the mesh", c="m")
-    printc("  Press X to save file to: clipped.vtk", c="m")
-    printc("  [Press space bar to continue]", c="m")
-    plt.interactor.Start()
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-    plane_widget.Off()
-    plt.interactor.Start()  # allow extra interaction
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-    return act0
+        poly = mesh.polydata()
+        self.clipper = vtk.vtkClipPolyData()
+        self.clipper.GenerateClipScalarsOff()
+        self.clipper.SetInputData(poly)
+        self.clipper.SetClipFunction(self._implicit_func)
+        self.clipper.SetInsideOut(not invert)
+        self.clipper.GenerateClippedOutputOn()
+        self.clipper.Update()
+
+        self.widget = vtk.vtkBoxWidget()
+
+        self.widget.SetRotationEnabled(can_rotate)
+        self.widget.SetTranslationEnabled(can_translate)
+        self.widget.SetScalingEnabled(can_scale)
+
+        self.widget.OutlineCursorWiresOn()
+        self.widget.GetSelectedOutlineProperty().SetColor(get_color("red3"))
+        self.widget.GetSelectedHandleProperty().SetColor(get_color("red5"))
+       
+        self.widget.GetOutlineProperty().SetColor(c)
+        self.widget.GetOutlineProperty().SetOpacity(1)
+        self.widget.GetOutlineProperty().SetLineWidth(1)
+        self.widget.GetOutlineProperty().LightingOff()
+
+        self.widget.GetSelectedFaceProperty().LightingOff()
+        self.widget.GetSelectedFaceProperty().SetOpacity(0.1)
+
+        self.widget.SetPlaceFactor(1.0 + padding)
+        self.widget.SetInputData(poly)
+        self.widget.PlaceWidget()
+        self.widget.AddObserver("InteractionEvent", self._select_polygons)
+
+    def _select_polygons(self, vobj, event):
+        vobj.GetPlanes(self._implicit_func)
+
+    def _keypress(self, vobj, event):
+        if vobj.GetKeySym() == "r":  # reset planes
+            self._implicit_func.SetBounds(self._init_bounds)
+            self.widget.GetPlanes(self._implicit_func)
+            self.widget.PlaceWidget()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "u":
+            self.invert()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "s": # Ctrl+s to save mesh
+            if self.widget.GetInteractor():
+                if self.widget.GetInteractor().GetControlKey():
+                    printc(":save: saving mesh to vedo_clipped.vtk")
+                    self.mesh.write("vedo_clipped.vtk")
 
 
-def _addCutterToolVolumeWithBox(vol, invert):
-    plt = vedo.plotter_instance
+class SphereCutter(vtk.vtkSphereWidget, BaseCutter):
+    """
+    Create a box widget to cut away parts of a Mesh.
+    """
+    def __init__(
+            self,
+            mesh,
+            invert=False,
+            can_translate=True,
+            can_scale=True,
+            origin=(),
+            radius=0,
+            res=60,
+            c='white',
+            alpha=0.05,
+    ):
+        """
+        Create a box widget to cut away parts of a Mesh.
 
-    box_widget = vtk.vtkBoxWidget()
-    box_widget.SetInteractor(plt.interactor)
-    box_widget.SetPlaceFactor(1.0)
-
-    plt.cutter_widget = box_widget
-
-    plt.renderer.AddVolume(vol)
-
-    planes = vtk.vtkPlanes()
-
-    def _clip(obj, event):
-        obj.GetPlanes(planes)
-        vol.mapper().SetClippingPlanes(planes)
-
-    box_widget.SetInputData(vol.inputdata())
-    box_widget.OutlineCursorWiresOn()
-    box_widget.GetSelectedOutlineProperty().SetColor(1, 0, 1)
-    box_widget.GetOutlineProperty().SetColor(0.2, 0.2, 0.2)
-    box_widget.GetOutlineProperty().SetOpacity(0.7)
-    box_widget.SetPlaceFactor(1.0)
-    box_widget.PlaceWidget()
-    box_widget.SetInsideOut(not invert)
-    box_widget.AddObserver("InteractionEvent", _clip)
-
-    printc("Volume Cutter Tool:", c="m", invert=True)
-    printc("  Move gray handles to cut parts of the volume", c="m")
-
-    plt.interactor.Render()
-    box_widget.On()
-    plt.interactor.Start()
-    if vedo.vtk_version == (9,2,2): plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
-    box_widget.Off()
-    plt.widgets.append(box_widget)
-    return vol
+        Arguments:
+            mesh : Mesh
+                the input mesh
+            invert : bool
+                invert the clipping
+            can_translate : bool
+                enable translation of the widget
+            can_scale : bool
+                enable scaling of the widget
+            origin : list
+                initial position of the sphere widget
+            radius : float
+                initial radius of the sphere widget
+            res : int
+                resolution of the sphere widget
+            c : color
+                color of the box cutter widget
+            alpha : float
+                transparency of the cut-off part of the input mesh
+        """
+        super().__init__()
+
+        self.mesh = mesh
+        self.remnant = Mesh()
+        self.remnant.name = mesh.name + "Remnant"
+        self.remnant.pickable(False)
+
+        self._alpha = alpha
+        self._keypress_id = None
+
+        self._implicit_func = vtk.vtkSphere()
+
+        if len(origin) == 3:
+            self._implicit_func.SetCenter(origin)
+        else:
+            origin = mesh.center_of_mass()
+            self._implicit_func.SetCenter(origin)
+        
+        if radius > 0:
+            self._implicit_func.SetRadius(radius)
+        else:
+            radius = mesh.average_size() * 2
+            self._implicit_func.SetRadius(radius)
+            
+        poly = mesh.polydata()
+        self.clipper = vtk.vtkClipPolyData()
+        self.clipper.GenerateClipScalarsOff()
+        self.clipper.SetInputData(poly)
+        self.clipper.SetClipFunction(self._implicit_func)
+        self.clipper.SetInsideOut(not invert)
+        self.clipper.GenerateClippedOutputOn()
+        self.clipper.Update()
+
+        self.widget = vtk.vtkSphereWidget()
+
+        self.widget.SetThetaResolution(res*2)
+        self.widget.SetPhiResolution(res)
+        self.widget.SetRadius(radius)
+        self.widget.SetCenter(origin)
+        self.widget.SetRepresentation(2)
+        self.widget.HandleVisibilityOff()
+
+        self.widget.SetTranslation(can_translate)
+        self.widget.SetScale(can_scale)
+
+        self.widget.HandleVisibilityOff()
+        self.widget.GetSphereProperty().SetColor(get_color(c))
+        self.widget.GetSphereProperty().SetOpacity(0.2)
+        self.widget.GetSelectedSphereProperty().SetColor(get_color("red5"))
+        self.widget.GetSelectedSphereProperty().SetOpacity(0.2)
+
+        self.widget.SetPlaceFactor(1.0)
+        self.widget.SetInputData(poly)
+        self.widget.PlaceWidget()
+        self.widget.AddObserver("InteractionEvent", self._select_polygons)
+
+    def _select_polygons(self, vobj, event):
+        vobj.GetSphere(self._implicit_func)
+
+    def _keypress(self, vobj, event):
+        if vobj.GetKeySym() == "r":  # reset planes
+            self._implicit_func.SetBounds(self._init_bounds)
+            self.widget.GetPlanes(self._implicit_func)
+            self.widget.PlaceWidget()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "u":
+            self.invert()
+            self.widget.GetInteractor().Render()
+        elif vobj.GetKeySym() == "s": # Ctrl+s to save mesh
+            if self.widget.GetInteractor():
+                if self.widget.GetInteractor().GetControlKey():
+                    printc(":save: saving mesh to vedo_clipped.vtk")
+                    self.mesh.write("vedo_clipped.vtk")
 
 
 #####################################################################
 class RendererFrame(vtk.vtkActor2D):
     """
     Add a line around the renderer subwindow.
     """
-    def __init__(self, c='k', alpha=None, lw=None, padding=None):
+
+    def __init__(self, c="k", alpha=None, lw=None, padding=None):
         """
         Add a line around the renderer subwindow.
 
         Arguments:
             c : (color)
                 color of the line.
             alpha : (float)
                 opacity.
             lw : (int)
                 line width in pixels.
             padding : (int)
                 padding in pixel units.
         """
-    
+
         if lw is None:
             lw = settings.renderer_frame_width
         if lw == 0:
             return None
 
         if alpha is None:
             alpha = settings.renderer_frame_alpha
@@ -1951,21 +2091,15 @@
         if padding is None:
             padding = settings.renderer_frame_padding
 
         c = get_color(c)
 
         ppoints = vtk.vtkPoints()  # Generate the polyline
         xy = 1 - padding
-        psqr = [
-            [padding, padding],
-            [padding, xy],
-            [xy, xy],
-            [xy, padding],
-            [padding, padding],
-        ]
+        psqr = [[padding, padding], [padding, xy], [xy, xy], [xy, padding], [padding, padding]]
         for i, pt in enumerate(psqr):
             ppoints.InsertPoint(i, pt[0], pt[1], 0)
         lines = vtk.vtkCellArray()
         lines.InsertNextCell(len(psqr))
         for i in range(len(psqr)):
             lines.InsertCellPoint(i)
         pd = vtk.vtkPolyData()
@@ -1983,20 +2117,113 @@
         self.GetPositionCoordinate().SetValue(0, 0)
         self.GetPosition2Coordinate().SetValue(1, 1)
         self.SetMapper(mapper)
         self.GetProperty().SetColor(c)
         self.GetProperty().SetOpacity(alpha)
         self.GetProperty().SetLineWidth(lw)
 
+#####################################################################
+class ProgressBarWidget(vtk.vtkActor2D):
+    """
+    Add a progress bar in the rendering window.
+    """
+    def __init__(self, n=None, c="blue5", alpha=0.8, lw=10, autohide=True):
+        """
+        Add a progress bar window.
+
+        Arguments:
+            n : (int)
+                number of iterations. 
+                If None, you need to call `update(fraction)` manually.
+            c : (color)
+                color of the line.
+            alpha : (float)
+                opacity of the line.
+            lw : (int)
+                line width in pixels.
+            autohide : (bool)
+                if True, hide the progress bar when completed.
+        """
+        self.n = 0
+        self.iterations = n
+        self.autohide = autohide
+
+        ppoints = vtk.vtkPoints()  # Generate the line
+        psqr = [[0, 0, 0], [1, 0, 0]]
+        for i, pt in enumerate(psqr):
+            ppoints.InsertPoint(i, *pt)
+        lines = vtk.vtkCellArray()
+        lines.InsertNextCell(len(psqr))
+        for i in range(len(psqr)):
+            lines.InsertCellPoint(i)
+        pd = vtk.vtkPolyData()
+        pd.SetPoints(ppoints)
+        pd.SetLines(lines)
+        self._data = pd
+
+        mapper = vtk.vtkPolyDataMapper2D()
+        mapper.SetInputData(pd)
+        cs = vtk.vtkCoordinate()
+        cs.SetCoordinateSystemToNormalizedViewport()
+        mapper.SetTransformCoordinate(cs)
+
+        vtk.vtkActor2D.__init__(self)
+        
+        self.SetMapper(mapper)
+        self.GetProperty().SetOpacity(alpha)
+        self.GetProperty().SetColor(get_color(c))
+        self.GetProperty().SetLineWidth(lw*2)
+
+        
+    def lw(self, value):
+        """Set width."""
+        self.GetProperty().SetLineWidth(value*2)
+        return self
+
+    def c(self, color):
+        """Set color."""
+        c = get_color(color)
+        self.GetProperty().SetColor(c)
+        return self
+    
+    def alpha(self, value):
+        """Set opacity."""
+        self.GetProperty().SetOpacity(value)
+        return self
+
+    def update(self, fraction=None):
+        """Update progress bar to fraction of the window width."""
+        if fraction is None:
+            if self.iterations is None:
+                vedo.printc("Error in ProgressBarWindow: must specify iterations", c='r')
+                return self
+            self.n += 1
+            fraction = self.n / self.iterations
+
+        if fraction >= 1 and self.autohide:
+            fraction = 0
+
+        psqr = [[0, 0, 0], [fraction, 0, 0]]
+        vpts = utils.numpy2vtk(psqr, dtype=np.float32)
+        self._data.GetPoints().SetData(vpts)
+        return self
+    
+    def reset(self):
+        """Reset progress bar."""
+        self.n = 0
+        self.update(0)
+        return self
+
 
 #####################################################################
 class Icon(vtk.vtkOrientationMarkerWidget):
     """
     Add an inset icon mesh into the renderer.
     """
+
     def __init__(self, mesh, pos=3, size=0.08):
         """
         Arguments:
             pos : (list, int)
                 icon position in the range [1-4] indicating one of the 4 corners,
                 or it can be a tuple (x,y) as a fraction of the renderer size.
             size : (float)
@@ -2053,30 +2280,31 @@
         return [vbb, sizes, min_bns, max_bns]
     except:
         return [[0, 0, 0, 0, 0, 0], [0, 0, 0], 0, 0]
 
 
 #####################################################################
 def Ruler(
-        p1, p2,
-        units_scale=1,
-        label="",
-        s=None,
-        font=None,
-        italic=0,
-        prefix="",
-        units="",  #eg.'m'
-        c=(0.2, 0.1, 0.1),
-        alpha=1,
-        lw=1,
-        precision=3,
-        label_rotation=0,
-        axis_rotation=0,
-        tick_angle=90,
-    ):
+    p1,
+    p2,
+    units_scale=1,
+    label="",
+    s=None,
+    font=None,
+    italic=0,
+    prefix="",
+    units="",  # eg.'m'
+    c=(0.2, 0.1, 0.1),
+    alpha=1,
+    lw=1,
+    precision=3,
+    label_rotation=0,
+    axis_rotation=0,
+    tick_angle=90,
+):
     """
     Build a 3D ruler to indicate the distance of two points p1 and p2.
 
     Arguments:
         label : (str)
             alternative fixed label to be shown
         units_scale : (float)
@@ -2112,18 +2340,18 @@
         )
 
     if isinstance(p1, Points):
         p1 = p1.GetPosition()
     if isinstance(p2, Points):
         p2 = p2.GetPosition()
 
-    if len(p1)==2:
-        p1=[p1[0],p1[1],0.0]
-    if len(p2)==2:
-        p2=[p2[0],p2[1],0.0]
+    if len(p1) == 2:
+        p1 = [p1[0], p1[1], 0.0]
+    if len(p2) == 2:
+        p2 = [p2[0], p2[1], 0.0]
 
     p1, p2 = np.array(p1), np.array(p2)
     q1, q2 = [0, 0, 0], [utils.mag(p2 - p1), 0, 0]
     q1, q2 = np.array(q1), np.array(q2)
     v = q2 - q1
     d = utils.mag(v) * units_scale
 
@@ -2135,17 +2363,15 @@
         if precision:
             label = utils.precision(d, precision)
     if prefix:
         label = prefix + "~" + label
     if units:
         label += "~" + units
 
-    lb = shapes.Text3D(
-        label, pos=(q1 + q2) / 2, s=s, font=font, italic=italic, justify="center"
-    )
+    lb = shapes.Text3D(label, pos=(q1 + q2) / 2, s=s, font=font, italic=italic, justify="center")
     if label_rotation:
         lb.RotateZ(label_rotation)
 
     x0, x1 = lb.xbounds()
     gap = [(x1 - x0) / 2, 0, 0]
     pc1 = (v / 2 - gap) * 0.9 + q1
     pc2 = q2 - (v / 2 - gap) * 0.9
@@ -2170,38 +2396,38 @@
     macts.base = q1
     macts.top = q2
     macts.orientation(p2 - p1, rotation=axis_rotation).bc("t").pickable(False)
     return macts
 
 
 def RulerAxes(
-        inputobj,
-        xtitle="",
-        ytitle="",
-        ztitle="",
-        xlabel="",
-        ylabel="",
-        zlabel="",
-        xpadding=0.05,
-        ypadding=0.04,
-        zpadding=0,
-        font="Normografo",
-        s=None,
-        italic=0,
-        units="",
-        c=(0.2, 0, 0),
-        alpha=1,
-        lw=1,
-        precision=3,
-        label_rotation=0,
-        xaxis_rotation=0,
-        yaxis_rotation=0,
-        zaxis_rotation=0,
-        xycross=True,
-    ):
+    inputobj,
+    xtitle="",
+    ytitle="",
+    ztitle="",
+    xlabel="",
+    ylabel="",
+    zlabel="",
+    xpadding=0.05,
+    ypadding=0.04,
+    zpadding=0,
+    font="Normografo",
+    s=None,
+    italic=0,
+    units="",
+    c=(0.2, 0, 0),
+    alpha=1,
+    lw=1,
+    precision=3,
+    label_rotation=0,
+    xaxis_rotation=0,
+    yaxis_rotation=0,
+    zaxis_rotation=0,
+    xycross=True,
+):
     """
     A 3D ruler axes to indicate the sizes of the input scene or object.
 
     Arguments:
         xtitle : (str)
             name of the axis or title
         xlabel : (str)
@@ -2302,31 +2528,33 @@
     if not macts:
         return None
     macts.c(c).alpha(alpha).bc("t")
     macts.UseBoundsOff()
     macts.PickableOff()
     return macts
 
+
 #####################################################################
 class Ruler2D(vtk.vtkAxisActor2D):
     """
     Create a ruler with tick marks, labels and a title.
     """
+
     def __init__(
-            self,
-            lw=2,
-            ticks=True,
-            labels=False,
-            c="k",
-            alpha=1,
-            title="",
-            font="Calco",
-            font_size=24,
-            bc=None,
-        ):
+        self,
+        lw=2,
+        ticks=True,
+        labels=False,
+        c="k",
+        alpha=1,
+        title="",
+        font="Calco",
+        font_size=24,
+        bc=None,
+    ):
         """
         Create a ruler with tick marks, labels and a title.
 
         Ruler2D is a 2D actor; that is, it is drawn on the overlay
         plane and is not occluded by 3D geometry.
         To use this class, specify two points defining the start and end
         with update_points() as 3D points.
@@ -2374,20 +2602,20 @@
         vtk.vtkAxisActor2D.__init__(self)
 
         plt = vedo.plotter_instance
         if not plt:
             vedo.logger.error("Ruler2D need to initialize Plotter first.")
             raise RuntimeError()
 
-        self.p0 = [0,0,0]
-        self.p1 = [0,0,0]
+        self.p0 = [0, 0, 0]
+        self.p1 = [0, 0, 0]
         self.distance = 0
         self.title = title
 
-        prop  = self.GetProperty()
+        prop = self.GetProperty()
         tprop = self.GetTitleTextProperty()
 
         self.SetTitle(title)
         self.SetNumberOfLabels(9)
 
         if not font:
             font = settings.default_font
@@ -2411,26 +2639,22 @@
             tprop.SetBackgroundColor(bc)
             tprop.SetBackgroundOpacity(alpha)
 
         lprop = vtk.vtkTextProperty()
         lprop.ShallowCopy(tprop)
         self.SetLabelTextProperty(lprop)
 
-        self.SetLabelFormat('%0.3g')
+        self.SetLabelFormat("%0.3g")
         self.SetTickVisibility(ticks)
         self.SetLabelVisibility(labels)
         prop.SetLineWidth(lw)
         prop.SetColor(get_color(c))
 
         self.renderer = plt.renderer
-        self.cid = plt.interactor.AddObserver(
-            "RenderEvent",
-            self._update_viz,
-            1.0,
-        )
+        self.cid = plt.interactor.AddObserver("RenderEvent", self._update_viz, 1.0)
 
     def color(self, c):
         """Assign a new color."""
         c = get_color(c)
         self.GetTitleTextProperty().SetColor(c)
         self.GetLabelTextProperty().SetColor(c)
         self.GetProperty().SetColor(c)
@@ -2441,44 +2665,45 @@
         self.renderer.RemoveObserver(self.cid)
         self.renderer.RemoveActor(self)
 
     def set_points(self, p0, p1):
         """Set new values for the ruler start and end points."""
         self.p0 = np.asarray(p0)
         self.p1 = np.asarray(p1)
-        self._update_viz(0,0)
+        self._update_viz(0, 0)
         return self
 
     def _update_viz(self, evt, name):
         ren = self.renderer
         view_size = np.array(ren.GetSize())
 
         ren.SetWorldPoint(*self.p0, 1)
         ren.WorldToDisplay()
         disp_point1 = ren.GetDisplayPoint()[:2]
-        disp_point1 = np.array(disp_point1)/view_size
+        disp_point1 = np.array(disp_point1) / view_size
 
         ren.SetWorldPoint(*self.p1, 1)
         ren.WorldToDisplay()
         disp_point2 = ren.GetDisplayPoint()[:2]
-        disp_point2 = np.array(disp_point2)/view_size
+        disp_point2 = np.array(disp_point2) / view_size
 
         self.SetPoint1(*disp_point1)
         self.SetPoint2(*disp_point2)
-        self.distance = np.linalg.norm(self.p1-self.p0)
+        self.distance = np.linalg.norm(self.p1 - self.p0)
         self.SetRange(0, self.distance)
         if not self.title:
             self.SetTitle(utils.precision(self.distance, 3))
 
 
 #####################################################################
 class DistanceTool(Group):
     """
     Create a tool to measure the distance between two clicked points.
     """
+
     def __init__(self, plotter=None, c="k", lw=2):
         """
         Create a tool to measure the distance between two clicked points.
 
         Example:
             ```python
             from vedo import *
@@ -2489,37 +2714,37 @@
             plt.show(mesh, dtool)
             dtool.off()
             ```
             ![](https://vedo.embl.es/images/feats/dist_tool.png)
         """
         Group.__init__(self)
 
-        self.p0 = [0,0,0]
-        self.p1 = [0,0,0]
+        self.p0 = [0, 0, 0]
+        self.p1 = [0, 0, 0]
         self.distance = 0
         if plotter is None:
             plotter = vedo.plotter_instance
         self.plotter = plotter
         self.callback = None
         self.cid = None
         self.color = c
         self.linewidth = lw
         self.toggle = True
         self.ruler = None
         self.title = ""
 
     def on(self):
-        """Swicth tool on."""
+        """Switch tool on."""
         self.cid = self.plotter.add_callback("click", self._onclick)
         self.VisibilityOn()
         self.plotter.render()
         return self
 
     def off(self):
-        """Swicth tool off."""
+        """Switch tool off."""
         self.plotter.remove_callback(self.cid)
         self.VisibilityOff()
         self.ruler.off()
         self.plotter.render()
 
     def _onclick(self, event):
         if not event.actor:
@@ -3058,16 +3283,17 @@
     ################################################ arrow cone
     cones = []
 
     if tip_size:
 
         if xtitle:
             if x_inverted:
-                cx = shapes.Cone(r=tip_size, height=tip_size*2,
-                                 axis=(-1,0,0), c=xline_color, res=12)
+                cx = shapes.Cone(
+                    r=tip_size, height=tip_size * 2, axis=(-1, 0, 0), c=xline_color, res=12
+                )
             else:
                 cx = shapes.Cone((dx,0,0), r=tip_size, height=tip_size*2,
                                  axis=(1,0,0), c=xline_color, res=12)
             if xyshift: cx.shift(0,0,xyshift*dz)
             if zxshift: cx.shift(0,zxshift*dy,0)
             if xshift_along_y: cx.shift(0,xshift_along_y*dy,0)
             if xshift_along_z: cx.shift(0,0,xshift_along_z*dz)
@@ -3509,19 +3735,15 @@
         if yRot:
             xt.RotateY(yRot)
         shift = 0
         if xlab:  # xlab is the last created numeric text label..
             lt0, lt1 = xlab.GetBounds()[2:4]
             shift = lt1 - lt0
         xt.pos(
-            [
-                (xoffs + xtitle_position) * dx,
-                -(yoffs + xtick_length / 2) * dy - shift,
-                zoffs * dz,
-            ]
+            [(xoffs + xtitle_position) * dx, -(yoffs + xtick_length / 2) * dy - shift, zoffs * dz]
         )
         if xaxis_rotation:
             xt.rotate_x(xaxis_rotation)
         if xyshift:
             xt.shift(0, 0, xyshift * dz)
         if xshift_along_y:
             xt.shift(0, xshift_along_y * dy, 0)
@@ -3582,22 +3804,18 @@
         if xRot: yt.RotateX(xRot)
 
         shift = 0
         if ylab:  # this is the last created num label..
             lt0, lt1 = ylab.GetBounds()[0:2]
             shift = lt1 - lt0
 
-        yt.pos(
-            -(xoffs + ytick_length / 2) * dx - shift,
-            (yoffs + ytitle_position) * dy,
-            zoffs * dz,
-        )
+        yt.pos(-(xoffs + ytick_length / 2) * dx - shift, (yoffs + ytitle_position) * dy, zoffs * dz)
         if yaxis_rotation:
             yt.rotate_y(yaxis_rotation)
-        if xyshift:      yt.shift(0, 0, xyshift*dz)
+        if xyshift:        yt.shift(0, 0, xyshift*dz)
         if yshift_along_x: yt.shift(yshift_along_x*dx, 0, 0)
         if yshift_along_z: yt.shift(0, 0, yshift_along_z*dz)
         yt.SetUseBounds(y_use_bounds)
         if ytitle == " ":
             yt.SetUseBounds(False)
         yt.name = f"ytitle {ytitle}"
         titles.append(yt)
@@ -3682,19 +3900,15 @@
             c=htitle_color,
             justify=htitle_justify,
             depth=title_depth,
             italic=htitle_italic,
         )
         if htitle_rotation:
             htit.RotateX(htitle_rotation)
-        wpos = [
-            (0.5 + htitle_offset[0]) * dx,
-            (1 + htitle_offset[1]) * dy,
-            htitle_offset[2] * dz,
-        ]
+        wpos = [(0.5 + htitle_offset[0]) * dx, (1 + htitle_offset[1]) * dy, htitle_offset[2] * dz]
         htit.pos(wpos)
         if xyshift:
             htit.shift(0, 0, xyshift * dz)
         htit.name = f"htitle {htitle}"
         titles.append(htit)
 
     ######
@@ -3708,15 +3922,15 @@
     asse = Assembly(acts)
     asse.SetOrigin(orig)
     asse.PickableOff()
     asse.name = "Axes"
     return asse
 
 
-def add_global_axes(axtype=None, c=None):
+def add_global_axes(axtype=None, c=None, bounds=()):
     """
     Draw axes on scene. Available axes types are
 
     Parameters
     ----------
     axtype : (int)
         - 0,  no axes,
@@ -3775,23 +3989,39 @@
     if plt.axes_instances[r]:
         return None
 
     ############################################################
     # custom grid walls
     if plt.axes == 1 or plt.axes is True or isinstance(plt.axes, dict):
 
+        if len(bounds) == 6:
+            bnds = bounds
+            xrange = (bnds[0], bnds[1])
+            yrange = (bnds[2], bnds[3])
+            zrange = (bnds[4], bnds[5])
+        else:
+            xrange=None
+            yrange=None
+            zrange=None
+
         if isinstance(plt.axes, dict):
             plt.axes.update({"use_global": True})
             # protect from invalid camelCase options from vedo<=2.3
             for k in plt.axes:
                 if k.lower() != k:
                     return
-            asse = Axes(None, **plt.axes)
+            if "xrange" in plt.axes:
+                xrange = plt.axes.pop("xrange")
+            if "yrange" in plt.axes:
+                yrange = plt.axes.pop("yrange")
+            if "zrange" in plt.axes:
+                zrange = plt.axes.pop("zrange")
+            asse = Axes(**plt.axes, xrange=xrange, yrange=yrange, zrange=zrange)
         else:
-            asse = Axes(None, use_global=True)
+            asse = Axes(xrange=xrange, yrange=yrange, zrange=zrange)
 
         plt.renderer.AddActor(asse)
         plt.axes_instances[r] = asse
 
     elif plt.axes in (2, 3):
         x0, x1, y0, y1, z0, z1 = plt.renderer.ComputeVisiblePropBounds()
         xcol, ycol, zcol = "dr", "dg", "db"
@@ -3815,17 +4045,15 @@
         dx, dy, dz = x1 - x0, y1 - y0, z1 - z0
         acts = []
         if x0 * x1 <= 0 or y0 * z1 <= 0 or z0 * z1 <= 0:  # some ranges contain origin
             zero = shapes.Sphere(r=aves / 120 * s, c="k", alpha=alpha, res=10)
             acts += [zero]
 
         if dx > aves / 100:
-            xl = shapes.Cylinder(
-                [[x0, 0, 0], [x1, 0, 0]], r=aves / 250 * s, c=xcol, alpha=alpha
-            )
+            xl = shapes.Cylinder([[x0, 0, 0], [x1, 0, 0]], r=aves / 250 * s, c=xcol, alpha=alpha)
             xc = shapes.Cone(
                 pos=[x1, 0, 0],
                 c=xcol,
                 alpha=alpha,
                 r=aves / 100 * s,
                 height=aves / 25 * s,
                 axis=[1, 0, 0],
@@ -3834,17 +4062,15 @@
             wpos = [x1, -aves / 25 * s, 0]  # aligned to arrow tip
             if centered:
                 wpos = [(x0 + x1) / 2, -aves / 25 * s, 0]
             xt = shapes.Text3D("x", pos=wpos, s=aves / 40 * s, c=xcol)
             acts += [xl, xc, xt]
 
         if dy > aves / 100:
-            yl = shapes.Cylinder(
-                [[0, y0, 0], [0, y1, 0]], r=aves / 250 * s, c=ycol, alpha=alpha
-            )
+            yl = shapes.Cylinder([[0, y0, 0], [0, y1, 0]], r=aves / 250 * s, c=ycol, alpha=alpha)
             yc = shapes.Cone(
                 pos=[0, y1, 0],
                 c=ycol,
                 alpha=alpha,
                 r=aves / 100 * s,
                 height=aves / 25 * s,
                 axis=[0, 1, 0],
@@ -3854,17 +4080,15 @@
             if centered:
                 wpos = [-aves / 40 * s, (y0 + y1) / 2, 0]
             yt = shapes.Text3D("y", pos=(0, 0, 0), s=aves / 40 * s, c=ycol)
             yt.pos(wpos).RotateZ(90)
             acts += [yl, yc, yt]
 
         if dz > aves / 100:
-            zl = shapes.Cylinder(
-                [[0, 0, z0], [0, 0, z1]], r=aves / 250 * s, c=zcol, alpha=alpha
-            )
+            zl = shapes.Cylinder([[0, 0, z0], [0, 0, z1]], r=aves / 250 * s, c=zcol, alpha=alpha)
             zc = shapes.Cone(
                 pos=[0, 0, z1],
                 c=zcol,
                 alpha=alpha,
                 r=aves / 100 * s,
                 height=aves / 25 * s,
                 axis=[0, 0, 1],
@@ -3913,14 +4137,18 @@
         axact.GetZAxisCaptionActor2D().GetCaptionTextProperty().ShadowOff()
         axact.GetXAxisCaptionActor2D().GetCaptionTextProperty().SetColor(lc)
         axact.GetYAxisCaptionActor2D().GetCaptionTextProperty().SetColor(lc)
         axact.GetZAxisCaptionActor2D().GetCaptionTextProperty().SetColor(lc)
         axact.PickableOff()
         icn = Icon(axact, size=0.1)
         plt.axes_instances[r] = icn
+        icn.SetInteractor(plt.interactor)
+        icn.EnabledOn()
+        icn.InteractiveOff()
+        plt.widgets.append(icn)
 
     elif plt.axes == 5:
         axact = vtk.vtkAnnotatedCubeActor()
         axact.GetCubeProperty().SetColor(get_color(settings.annotated_cube_color))
         axact.SetTextEdgesVisibility(0)
         axact.SetFaceTextScale(settings.annotated_cube_text_scale)
         axact.SetXPlusFaceText(settings.annotated_cube_texts[0])  # XPlus
@@ -3946,14 +4174,18 @@
             axact.GetYMinusFaceProperty().SetColor(ac)
             axact.GetZPlusFaceProperty().SetColor(ac)
             axact.GetZMinusFaceProperty().SetColor(ac)
 
         axact.PickableOff()
         icn = Icon(axact, size=0.06)
         plt.axes_instances[r] = icn
+        icn.SetInteractor(plt.interactor)
+        icn.EnabledOn()
+        icn.InteractiveOff()
+        plt.widgets.append(icn)
 
     elif plt.axes == 6:
         ocf = vtk.vtkOutlineCornerFilter()
         ocf.SetCornerFactor(0.1)
         largestact, sz = None, -1
         for a in plt.actors:
             if a.GetPickable():
@@ -3965,36 +4197,37 @@
                     largestact = a
                     sz = d
         if isinstance(largestact, Assembly):
             ocf.SetInputData(largestact.unpack(0).GetMapper().GetInput())
         else:
             ocf.SetInputData(largestact.GetMapper().GetInput())
         ocf.Update()
-        ocMapper = vtk.vtkHierarchicalPolyDataMapper()
-        ocMapper.SetInputConnection(0, ocf.GetOutputPort(0))
-        ocActor = vtk.vtkActor()
-        ocActor.SetMapper(ocMapper)
+        oc_mapper = vtk.vtkHierarchicalPolyDataMapper()
+        oc_mapper.SetInputConnection(0, ocf.GetOutputPort(0))
+        oc_actor = vtk.vtkActor()
+        oc_actor.SetMapper(oc_mapper)
         bc = np.array(plt.renderer.GetBackground())
         if np.sum(bc) < 1.5:
             lc = (1, 1, 1)
         else:
             lc = (0, 0, 0)
-        ocActor.GetProperty().SetColor(lc)
-        ocActor.PickableOff()
-        ocActor.UseBoundsOff()
-        plt.renderer.AddActor(ocActor)
-        plt.axes_instances[r] = ocActor
+        oc_actor.GetProperty().SetColor(lc)
+        oc_actor.PickableOff()
+        oc_actor.UseBoundsOn()
+        plt.renderer.AddActor(oc_actor)
+        plt.axes_instances[r] = oc_actor
+        plt.renderer.AddActor(oc_actor)
 
     elif plt.axes == 7:
         vbb = compute_visible_bounds()[0]
         rulax = RulerAxes(vbb, c=c, xtitle="x - ", ytitle="y - ", ztitle="z - ")
         plt.axes_instances[r] = rulax
         if not rulax:
             return None
-        rulax.UseBoundsOff()
+        rulax.UseBoundsOn()
         rulax.PickableOff()
         plt.renderer.AddActor(rulax)
 
     elif plt.axes == 8:
         vbb = compute_visible_bounds()[0]
         ca = vtk.vtkCubeAxesActor()
         ca.SetBounds(vbb)
@@ -4006,41 +4239,32 @@
             ca.GetLabelTextProperty(i).SetColor(c)
             ca.GetTitleTextProperty(i).SetColor(c)
         ca.SetTitleOffset(5)
         ca.SetFlyMode(3)
         ca.SetXTitle("x")
         ca.SetYTitle("y")
         ca.SetZTitle("z")
-        #        if plt.xtitle == "":
-        #            ca.SetXAxisVisibility(0)
-        #            ca.XAxisLabelVisibilityOff()
-        #        if plt.ytitle == "":
-        #            ca.SetYAxisVisibility(0)
-        #            ca.YAxisLabelVisibilityOff()
-        #        if plt.ztitle == "":
-        #            ca.SetZAxisVisibility(0)
-        #            ca.ZAxisLabelVisibilityOff()
         ca.PickableOff()
         ca.UseBoundsOff()
-        plt.renderer.AddActor(ca)
         plt.axes_instances[r] = ca
+        plt.renderer.AddActor(ca)
 
     elif plt.axes == 9:
         vbb = compute_visible_bounds()[0]
         src = vtk.vtkCubeSource()
         src.SetXLength(vbb[1] - vbb[0])
         src.SetYLength(vbb[3] - vbb[2])
         src.SetZLength(vbb[5] - vbb[4])
         src.Update()
         ca = Mesh(src.GetOutput(), c, 0.5).wireframe(True)
         ca.pos((vbb[0] + vbb[1]) / 2, (vbb[3] + vbb[2]) / 2, (vbb[5] + vbb[4]) / 2)
         ca.PickableOff()
         ca.UseBoundsOff()
-        plt.renderer.AddActor(ca)
         plt.axes_instances[r] = ca
+        plt.renderer.AddActor(ca)
 
     elif plt.axes == 10:
         vbb = compute_visible_bounds()[0]
         x0 = (vbb[0] + vbb[1]) / 2, (vbb[3] + vbb[2]) / 2, (vbb[5] + vbb[4]) / 2
         rx, ry, rz = (vbb[1] - vbb[0]) / 2, (vbb[3] - vbb[2]) / 2, (vbb[5] - vbb[4]) / 2
         rm = max(rx, ry, rz)
         xc = shapes.Disc(x0, r1=rm, r2=rm, c="lr", res=(1, 72))
@@ -4049,27 +4273,27 @@
         zc = shapes.Disc(x0, r1=rm, r2=rm, c="lb", res=(1, 72))
         yc.RotateY(90)
         xc.clean().alpha(0.5).wireframe().linewidth(2).PickableOff()
         yc.clean().alpha(0.5).wireframe().linewidth(2).PickableOff()
         zc.clean().alpha(0.5).wireframe().linewidth(2).PickableOff()
         ca = xc + yc + zc
         ca.PickableOff()
-        ca.UseBoundsOff()
+        ca.UseBoundsOn()
         plt.renderer.AddActor(ca)
         plt.axes_instances[r] = ca
 
     elif plt.axes == 11:
         vbb, ss = compute_visible_bounds()[0:2]
         xpos, ypos = (vbb[1] + vbb[0]) / 2, (vbb[3] + vbb[2]) / 2
         gs = sum(ss) * 3
         gr = shapes.Grid((xpos, ypos, vbb[4]), s=(gs, gs), res=(11, 11), c=c, alpha=0.1)
         gr.lighting("off").PickableOff()
         gr.UseBoundsOff()
-        plt.renderer.AddActor(gr)
         plt.axes_instances[r] = gr
+        plt.renderer.AddActor(gr)
 
     elif plt.axes == 12:
         polaxes = vtk.vtkPolarAxesActor()
         vbb = compute_visible_bounds()[0]
 
         polaxes.SetPolarAxisTitle("radial distance")
         polaxes.SetPole(0, 0, vbb[4])
@@ -4089,38 +4313,43 @@
         polaxes.GetSecondaryRadialAxesTextProperty().SetColor(c)
         polaxes.GetSecondaryRadialAxesProperty().SetColor(c)
         polaxes.GetSecondaryPolarArcsProperty().SetColor(c)
 
         polaxes.SetMinimumAngle(0.0)
         polaxes.SetMaximumAngle(315.0)
         polaxes.SetNumberOfPolarAxisTicks(5)
-        polaxes.UseBoundsOff()
+        polaxes.UseBoundsOn()
         polaxes.PickableOff()
-        plt.renderer.AddActor(polaxes)
         plt.axes_instances[r] = polaxes
+        plt.renderer.AddActor(polaxes)
 
     elif plt.axes == 13:
         # draws a simple ruler at the bottom of the window
         ls = vtk.vtkLegendScaleActor()
         ls.RightAxisVisibilityOff()
         ls.TopAxisVisibilityOff()
-        ls.LegendVisibilityOff()
         ls.LeftAxisVisibilityOff()
+        ls.LegendVisibilityOff()
+        ls.SetBottomBorderOffset(50)
         ls.GetBottomAxis().SetNumberOfMinorTicks(1)
+        ls.GetBottomAxis().SetFontFactor(1.1)
         ls.GetBottomAxis().GetProperty().SetColor(c)
+        ls.GetBottomAxis().GetProperty().SetOpacity(1.0)
+        ls.GetBottomAxis().GetProperty().SetLineWidth(2)
         ls.GetBottomAxis().GetLabelTextProperty().SetColor(c)
         ls.GetBottomAxis().GetLabelTextProperty().BoldOff()
         ls.GetBottomAxis().GetLabelTextProperty().ItalicOff()
-        ls.GetBottomAxis().GetLabelTextProperty().ShadowOff()
         pr = ls.GetBottomAxis().GetLabelTextProperty()
         pr.SetFontFamily(vtk.VTK_FONT_FILE)
         pr.SetFontFile(utils.get_font_path(settings.default_font))
         ls.PickableOff()
-        plt.renderer.AddActor(ls)
+        # if not plt.renderer.GetActiveCamera().GetParallelProjection():
+        #     vedo.logger.warning("Axes type 13 should be used with parallel projection")
         plt.axes_instances[r] = ls
+        plt.renderer.AddActor(ls)
 
     elif plt.axes == 14:
         try:
             cow = vtk.vtkCameraOrientationWidget()
             cow.SetParentRenderer(plt.renderer)
             cow.On()
             plt.axes_instances[r] = cow
@@ -4134,19 +4363,19 @@
         e += "1 = draw three customizable gray grid walls\n"
         e += "2 = show cartesian axes from (0,0,0)\n"
         e += "3 = show positive range of cartesian axes from (0,0,0)\n"
         e += "4 = show a triad at bottom left\n"
         e += "5 = show a cube at bottom left\n"
         e += "6 = mark the corners of the bounding box\n"
         e += "7 = draw a 3D ruler at each side of the cartesian axes\n"
-        e += "8 = show the vtk default vtkCubeAxesActor object\n"
+        e += "8 = show the vtkCubeAxesActor object\n"
         e += "9 = show the bounding box outline\n"
         e += "10 = show three circles representing the maximum bounding box\n"
         e += "11 = show a large grid on the x-y plane (use with zoom=8)\n"
         e += "12 = show polar axes\n"
         e += "13 = draw a simple ruler at the bottom of the window\n"
-        e += "14 = show the vtk default vtkCameraOrientationWidget object"
+        e += "14 = show the CameraOrientationWidget object"
         vedo.logger.warning(e)
 
     if not plt.axes_instances[r]:
         plt.axes_instances[r] = True
     return None
```

### Comparing `vedo-2023.4.4/vedo/applications.py` & `vedo-2023.4.5/vedo/applications.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,28 +1,24 @@
 #!/usr/bin/env python3
 # -*- coding: utf-8 -*-
 import time
 import os
+from typing import Callable
+
 import numpy as np
 
 import vedo
-from vedo.colors import color_map
-from vedo.colors import get_color
-from vedo.utils import is_sequence
-from vedo.utils import lin_interpolate
-from vedo.utils import mag
-from vedo.utils import precision
-from vedo.plotter import Plotter
-from vedo.pointcloud import fit_plane
-from vedo.pointcloud import Points
-from vedo.shapes import Line
-from vedo.shapes import Ribbon
-from vedo.shapes import Spline
-from vedo.shapes import Text2D
+from vedo.colors import color_map, get_color
+from vedo.utils import is_sequence, lin_interpolate, mag, precision
+from vedo.plotter import Event, Plotter
+from vedo.pointcloud import fit_plane, Points
+from vedo.shapes import Line, Ribbon, Spline, Text2D
 from vedo.pyplot import CornerHistogram
+from vedo.addons import SliderWidget
+
 
 __docformat__ = "google"
 
 __doc__ = """
 This module contains vedo applications which provide some *ready-to-use* funcionalities
 
 <img src="https://vedo.embl.es/images/advanced/app_raycaster.gif" width="500">
@@ -32,47 +28,49 @@
     "Browser",
     "IsosurfaceBrowser",
     "FreeHandCutPlotter",
     "RayCastPlotter",
     "Slicer3DPlotter",
     "Slicer2DPlotter",
     "SplinePlotter",
+    "AnimationPlayer",
     "Clock",
 ]
 
 
 #################################
 class Slicer3DPlotter(Plotter):
     """
     Generate a rendering window with slicing planes for the input Volume.
     """
+
     def __init__(
-            self,
-            volume,
-            alpha=1,
-            cmaps=('gist_ncar_r', "hot_r", "bone_r", "jet", "Spectral_r"),
-            map2cells=False,  # buggy
-            clamp=True,
-            use_slider3d=False,
-            show_histo=True,
-            show_icon=True,
-            draggable=False,
-            pos=(0, 0),
-            size="auto",
-            screensize="auto",
-            title="",
-            bg="white",
-            bg2="lightblue",
-            axes=7,
-            resetcam=True,
-            interactive=True,
-        ):
+        self,
+        volume,
+        alpha=1,
+        cmaps=("gist_ncar_r", "hot_r", "bone_r", "jet", "Spectral_r"),
+        map2cells=False,  # buggy
+        clamp=True,
+        use_slider3d=False,
+        show_histo=True,
+        show_icon=True,
+        draggable=False,
+        pos=(0, 0),
+        size="auto",
+        screensize="auto",
+        title="",
+        bg="white",
+        bg2="lightblue",
+        axes=7,
+        resetcam=True,
+        interactive=True,
+    ):
         """
         Generate a rendering window with slicing planes for the input Volume.
-     
+
         Arguments:
             alpha : (float)
                 transparency of the slicing planes
             cmaps : (list)
                 list of color maps names to cycle when clicking button
             map2cells : (bool)
                 scalars are mapped to cells, not interpolated
@@ -88,15 +86,15 @@
                 make the icon draggable
 
         Examples:
             - [slicer1.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slicer1.py)
 
             <img src="https://vedo.embl.es/images/volumetric/slicer1.jpg" width="500">
         """
-        self._cmap_slicer= 'gist_ncar_r'
+        self._cmap_slicer = "gist_ncar_r"
 
         if not title:
             if volume.filename:
                 title = volume.filename
             else:
                 title = "Volume Slicer"
 
@@ -113,20 +111,15 @@
             axes=axes,
         )
         ################################
         box = volume.box().wireframe().alpha(0.1)
 
         self.show(box, viewup="z", resetcam=resetcam, interactive=False)
         if show_icon:
-            self.add_inset(
-                volume,
-                pos=(0.85, 0.85),
-                size=0.15, c="w",
-                draggable=draggable,
-            )
+            self.add_inset(volume, pos=(0.85, 0.85), size=0.15, c="w", draggable=draggable)
 
         # inits
         la, ld = 0.7, 0.3  # ambient, diffuse
         dims = volume.dimensions()
         data = volume.pointdata[0]
         rmin, rmax = volume.imagedata().GetScalarRange()
         if clamp:
@@ -150,37 +143,37 @@
         msh.cmap(self._cmap_slicer, vmin=rmin, vmax=rmax)
         if map2cells:
             msh.mapPointsToCells()
         self.renderer.AddActor(msh)
         visibles[2] = msh
         msh.add_scalarbar(pos=(0.04, 0.0), horizontal=True, font_size=0)
 
-        def sliderfunc_x(widget, event):
+        def slider_function_x(widget, event):
             i = int(widget.GetRepresentation().GetValue())
             msh = volume.xslice(i).alpha(alpha).lighting("", la, ld, 0)
             msh.cmap(self._cmap_slicer, vmin=rmin, vmax=rmax)
             if map2cells:
                 msh.mapPointsToCells()
             self.renderer.RemoveActor(visibles[0])
             if i and i < dims[0]:
                 self.renderer.AddActor(msh)
             visibles[0] = msh
 
-        def sliderfunc_y(widget, event):
+        def slider_function_y(widget, event):
             i = int(widget.GetRepresentation().GetValue())
             msh = volume.yslice(i).alpha(alpha).lighting("", la, ld, 0)
             msh.cmap(self._cmap_slicer, vmin=rmin, vmax=rmax)
             if map2cells:
                 msh.mapPointsToCells()
             self.renderer.RemoveActor(visibles[1])
             if i and i < dims[1]:
                 self.renderer.AddActor(msh)
             visibles[1] = msh
 
-        def sliderfunc_z(widget, event):
+        def slider_function_z(widget, event):
             i = int(widget.GetRepresentation().GetValue())
             msh = volume.zslice(i).alpha(alpha).lighting("", la, ld, 0)
             msh.cmap(self._cmap_slicer, vmin=rmin, vmax=rmax)
             if map2cells:
                 msh.mapPointsToCells()
             self.renderer.RemoveActor(visibles[2])
             if i and i < dims[2]:
@@ -190,68 +183,68 @@
         cx, cy, cz, ch = "dr", "dg", "db", (0.3, 0.3, 0.3)
         if np.sum(self.renderer.GetBackground()) < 1.5:
             cx, cy, cz = "lr", "lg", "lb"
             ch = (0.8, 0.8, 0.8)
 
         if not use_slider3d:
             self.add_slider(
-                sliderfunc_x,
+                slider_function_x,
                 0,
                 dims[0],
                 title="X",
                 title_size=0.5,
                 pos=[(0.8, 0.12), (0.95, 0.12)],
                 show_value=False,
                 c=cx,
             )
             self.add_slider(
-                sliderfunc_y,
+                slider_function_y,
                 0,
                 dims[1],
                 title="Y",
                 title_size=0.5,
                 pos=[(0.8, 0.08), (0.95, 0.08)],
                 show_value=False,
                 c=cy,
             )
             self.add_slider(
-                sliderfunc_z,
+                slider_function_z,
                 0,
                 dims[2],
                 title="Z",
                 title_size=0.6,
                 value=int(dims[2] / 2),
                 pos=[(0.8, 0.04), (0.95, 0.04)],
                 show_value=False,
                 c=cz,
             )
         else:  # 3d sliders attached to the axes bounds
             bs = box.bounds()
             self.add_slider3d(
-                sliderfunc_x,
+                slider_function_x,
                 pos1=(bs[0], bs[2], bs[4]),
                 pos2=(bs[1], bs[2], bs[4]),
                 xmin=0,
                 xmax=dims[0],
                 t=box.diagonal_size() / mag(box.xbounds()) * 0.6,
                 c=cx,
                 show_value=False,
             )
             self.add_slider3d(
-                sliderfunc_y,
+                slider_function_y,
                 pos1=(bs[1], bs[2], bs[4]),
                 pos2=(bs[1], bs[3], bs[4]),
                 xmin=0,
                 xmax=dims[1],
                 t=box.diagonal_size() / mag(box.ybounds()) * 0.6,
                 c=cy,
                 show_value=False,
             )
             self.add_slider3d(
-                sliderfunc_z,
+                slider_function_z,
                 pos1=(bs[0], bs[2], bs[4]),
                 pos2=(bs[0], bs[2], bs[5]),
                 xmin=0,
                 xmax=dims[2],
                 value=int(dims[2] / 2),
                 t=box.diagonal_size() / mag(box.zbounds()) * 0.6,
                 c=cz,
@@ -281,42 +274,30 @@
             bold=True,
         )
 
         #################
         hist = None
         if show_histo:
             hist = CornerHistogram(
-                data,
-                s=0.2,
-                bins=25,
-                logscale=1,
-                pos=(0.02, 0.02),
-                c=ch,
-                bg=ch,
-                alpha=0.7,
+                data, s=0.2, bins=25, logscale=1, pos=(0.02, 0.02), c=ch, bg=ch, alpha=0.7
             )
 
-        self.add([msh, hist], resetcam=False)
+        self.add([msh, hist])
         if interactive:
             self.interactive()
 
 
 ########################################################################################
 class Slicer2DPlotter(Plotter):
     """
     A single slice of a Volume which always faces the camera,
     but at the same time can be oriented arbitrarily in space.
     """
-    def __init__(
-        self,
-        volume,
-        levels=(None, None),
-        histo_color="red5",
-        **kwargs,
-    ):
+
+    def __init__(self, volume, levels=(None, None), histo_color="red5", **kwargs):
         """
         A single slice of a Volume which always faces the camera,
         but at the same time can be oriented arbitrarily in space.
 
         Arguments:
             levels : (list)
                 window and color levels
@@ -339,22 +320,24 @@
 
         # no argument will grab the existing cmap in vol (or use build_lut())
         vsl.colorize()
 
         if levels[0] and levels[1]:
             vsl.lighting(window=levels[0], level=levels[1])
 
-        usage = Text2D((
-            "Left click & drag  \rightarrow modify luminosity and contrast\n"
-            "SHIFT+Left click   \rightarrow slice image obliquely\n"
-            "SHIFT+Middle click \rightarrow slice image perpendicularly\n"
-            "R                  \rightarrow Reset the Window/Color levels\n"
-            "X                  \rightarrow Reset to sagittal view\n"
-            "Y                  \rightarrow Reset to coronal view\n"
-            "Z                  \rightarrow Reset to axial view"),
+        usage = Text2D(
+            (
+                "Left click & drag  :rightarrow modify luminosity and contrast\n"
+                "SHIFT+Left click   :rightarrow slice image obliquely\n"
+                "SHIFT+Middle click :rightarrow slice image perpendicularly\n"
+                "R                  :rightarrow Reset the Window/Color levels\n"
+                "X                  :rightarrow Reset to sagittal view\n"
+                "Y                  :rightarrow Reset to coronal view\n"
+                "Z                  :rightarrow Reset to axial view"
+            ),
             font="Calco",
             pos="top-left",
             s=0.8,
             bg="yellow",
             alpha=0.25,
         )
 
@@ -372,18 +355,18 @@
             # )
             hist = vedo.pyplot.histogram(
                 volume.pointdata[0],
                 bins=10,
                 logscale=True,
                 c=histo_color,
                 ytitle="log_10 (counts)",
-                axes=dict(text_scale=1.9)
+                axes=dict(text_scale=1.9),
             )
             hist = hist.as2d(pos="bottom-left", scale=0.5)
-        
+
         axes = kwargs.pop("axes", 7)
         interactive = kwargs.pop("interactive", True)
         if axes == 7:
             ax = vedo.addons.RulerAxes(vsl, xtitle="x - ", ytitle="y - ", ztitle="z - ")
 
         box = vsl.box().alpha(0.2)
         self.at(0).show(vsl, box, ax, usage, hist, mode="image")
@@ -391,14 +374,15 @@
 
 
 ########################################################################
 class RayCastPlotter(Plotter):
     """
     Generate Volume rendering using ray casting.
     """
+
     def __init__(self, volume, **kwargs):
         """
         Generate a window for Volume rendering using ray casting.
 
         Returns:
             `vedo.Plotter` object.
 
@@ -557,47 +541,49 @@
             dots=False,
             nmax=3.1415e06,  # subsample otherwise is too slow
         )
 
         plot.GetPosition2Coordinate().SetValue(0.197, 0.20, 0)
         plot.GetXAxisActor2D().SetFontFactor(0.7)
         plot.GetProperty().SetOpacity(0.5)
-        self.add([plot, volume], render=False)
+        self.add([plot, volume])
 
 
 #####################################################################################
 class IsosurfaceBrowser(Plotter):
     """
     Generate a Volume isosurfacing controlled by a slider.
     """
+
     def __init__(
-            self,
-            volume,
-            isovalue=None,
-            c=None,
-            alpha=1,
-            lego=False,
-            res=50,
-            precompute=False,
-            progress=False,
-            cmap='hot',
-            delayed=False,
-            sliderpos=4,
-            pos=(0,0),
-            size="auto",
-            screensize="auto",
-            title="",
-            bg="white",
-            bg2=None,
-            axes=1,
-            interactive=True,
-        ):
+        self,
+        volume,
+        isovalue=None,
+        c=None,
+        alpha=1,
+        lego=False,
+        res=50,
+        use_gpu=False,
+        precompute=False,
+        progress=False,
+        cmap="hot",
+        delayed=False,
+        sliderpos=4,
+        pos=(0, 0),
+        size="auto",
+        screensize="auto",
+        title="",
+        bg="white",
+        bg2=None,
+        axes=1,
+        interactive=True,
+    ):
         """
         Generate a `vedo.Plotter` for Volume isosurfacing using a slider.
-    
+
         Set `delayed=True` to delay slider update on mouse release.
 
         Set `res` to set the resolution, e.g. the number of desired isosurfaces to be
         generated on the fly.
 
         Set `precompute=True` to precompute the isosurfaces (so slider browsing will be smoother).
 
@@ -615,205 +601,249 @@
             size=size,
             screensize=screensize,
             title=title,
             interactive=interactive,
             axes=axes,
         )
 
-        self._prev_value = 1e30
+        ### GPU ################################
+        if use_gpu and hasattr(volume.GetProperty(), "GetIsoSurfaceValues"):
 
-        scrange = volume.scalar_range()
-        delta = scrange[1] - scrange[0]
-        if not delta:
-            return
+            scrange = volume.scalar_range()
+            delta = scrange[1] - scrange[0]
+            if not delta:
+                return
 
-        if lego:
-            res = int(res / 2)  # because lego is much slower
-            slidertitle = ""
-        else:
-            slidertitle = "scalar value"
+            if isovalue is None:
+                isovalue = delta / 3.0 + scrange[0]
 
-        allowed_vals = np.linspace(scrange[0], scrange[1], num=res)
+            ### isovalue slider callback
+            def slider_isovalue(widget, event):
+                value = widget.GetRepresentation().GetValue()
+                isovals.SetValue(0, value)
 
-        bacts = {}  # cache the meshes so we dont need to recompute
-        if precompute:
-            delayed = False  # no need to delay the slider in this case
-            if progress:
-                pb = vedo.ProgressBar(0, len(allowed_vals))
+            isovals = volume.GetProperty().GetIsoSurfaceValues()
+            isovals.SetValue(0, isovalue)
+            self.renderer.AddActor(volume.mode(5).alpha(alpha).c(c))
 
-            for value in allowed_vals:
-                value_name = precision(value, 2)
-                if lego:
-                    mesh = volume.legosurface(vmin=value)
-                    if mesh.ncells:
-                        mesh.cmap(cmap, vmin=scrange[0], vmax=scrange[1], on="cells")
-                else:
-                    mesh = volume.isosurface(value).color(c).alpha(alpha)
-                bacts.update({value_name: mesh})  # store it
-                if progress:
-                    pb.print("isosurfacing volume..")
+            self.add_slider(
+                slider_isovalue,
+                scrange[0] + 0.02 * delta,
+                scrange[1] - 0.02 * delta,
+                value=isovalue,
+                pos=sliderpos,
+                title="scalar value",
+                show_value=True,
+                delayed=delayed,
+            )
+
+        ### CPU ################################
+        else:
 
-        ############################## isovalue slider callback
-        def slider_isovalue(widget, event):
+            self._prev_value = 1e30
 
-            prevact = self.actors[0]
-            if isinstance(widget, float):
-                value = widget
+            scrange = volume.scalar_range()
+            delta = scrange[1] - scrange[0]
+            if not delta:
+                return
+
+            if lego:
+                res = int(res / 2)  # because lego is much slower
+                slidertitle = ""
             else:
-                value = widget.GetRepresentation().GetValue()
+                slidertitle = "scalar value"
 
-            # snap to the closest
-            idx = (np.abs(allowed_vals - value)).argmin()
-            value = allowed_vals[idx]
+            allowed_vals = np.linspace(scrange[0], scrange[1], num=res)
 
-            if abs(value - self._prev_value) / delta < 0.001:
-                return
-            self._prev_value = value
+            bacts = {}  # cache the meshes so we dont need to recompute
+            if precompute:
+                delayed = False  # no need to delay the slider in this case
+                if progress:
+                    pb = vedo.ProgressBar(0, len(allowed_vals), delay=1)
 
-            value_name = precision(value, 2)
-            if value_name in bacts:  # reusing the already existing mesh
-                # print('reusing')
-                mesh = bacts[value_name]
-            else:  # else generate it
-                # print('generating', value)
-                if lego:
-                    mesh = volume.legosurface(vmin=value)
-                    if mesh.ncells:
-                        mesh.cmap(cmap, vmin=scrange[0], vmax=scrange[1], on="cells")
+                for value in allowed_vals:
+                    value_name = precision(value, 2)
+                    if lego:
+                        mesh = volume.legosurface(vmin=value)
+                        if mesh.ncells:
+                            mesh.cmap(cmap, vmin=scrange[0], vmax=scrange[1], on="cells")
+                    else:
+                        mesh = volume.isosurface(value).color(c).alpha(alpha)
+                    bacts.update({value_name: mesh})  # store it
+                    if progress:
+                        pb.print("isosurfacing volume..")
+
+            ### isovalue slider callback
+            def slider_isovalue(widget, event):
+
+                prevact = self.actors[0]
+                if isinstance(widget, float):
+                    value = widget
                 else:
-                    mesh = volume.isosurface(value).color(c).alpha(alpha)
-                bacts.update({value_name: mesh})  # store it
+                    value = widget.GetRepresentation().GetValue()
 
-            self.renderer.RemoveActor(prevact)
-            self.renderer.AddActor(mesh)
-            self.actors[0] = mesh
-
-        ################################################
-
-        if isovalue is None:
-            isovalue = delta / 3.0 + scrange[0]
-
-        self.actors = [None]
-        slider_isovalue(isovalue, "")  # init call
-        if lego:
-            self.actors[0].add_scalarbar(pos=(0.8, 0.12))
+                # snap to the closest
+                idx = (np.abs(allowed_vals - value)).argmin()
+                value = allowed_vals[idx]
 
-        self.add_slider(
-            slider_isovalue,
-            scrange[0] + 0.02 * delta,
-            scrange[1] - 0.02 * delta,
-            value=isovalue,
-            pos=sliderpos,
-            title=slidertitle,
-            show_value=True,
-            delayed=delayed,
-        )
+                if abs(value - self._prev_value) / delta < 0.001:
+                    return
+                self._prev_value = value
+
+                value_name = precision(value, 2)
+                if value_name in bacts:  # reusing the already existing mesh
+                    # print('reusing')
+                    mesh = bacts[value_name]
+                else:  # else generate it
+                    # print('generating', value)
+                    if lego:
+                        mesh = volume.legosurface(vmin=value)
+                        if mesh.ncells:
+                            mesh.cmap(cmap, vmin=scrange[0], vmax=scrange[1], on="cells")
+                    else:
+                        mesh = volume.isosurface(value).color(c).alpha(alpha)
+                    bacts.update({value_name: mesh})  # store it
+
+                self.renderer.RemoveActor(prevact)
+                self.renderer.AddActor(mesh)
+                self.actors[0] = mesh
+
+            ################################################
+
+            if isovalue is None:
+                isovalue = delta / 3.0 + scrange[0]
+
+            self.actors = [None]
+            slider_isovalue(isovalue, "")  # init call
+            if lego:
+                self.actors[0].add_scalarbar(pos=(0.8, 0.12))
+
+            self.add_slider(
+                slider_isovalue,
+                scrange[0] + 0.02 * delta,
+                scrange[1] - 0.02 * delta,
+                value=isovalue,
+                pos=sliderpos,
+                title=slidertitle,
+                show_value=True,
+                delayed=delayed,
+            )
 
 
 ##############################################################################
 class Browser(Plotter):
     """
-    Browse a serie of vedo objects by using a simple slider.
+    Browse a series of vedo objects by using a simple slider.
     """
     def __init__(
-            self,
-            objects=(),
-            sliderpos=((0.55, 0.07),(0.96, 0.07)),
-            c=None,  # slider color
-            prefix="",
-            pos=(0, 0),
-            size="auto",
-            screensize="auto",
-            title="Browser",
-            bg="white",
-            bg2=None,
-            axes=4,
-            resetcam=False,
-            interactive=True,
-        ):
+        self,
+        objects=(),
+        sliderpos=((0.50, 0.07), (0.95, 0.07)),
+        c=None,  # slider color
+        prefix="",
+        font="Calco", # slider font
+        axes=1,
+        resetcam=False, # resetcam while using the slider
+        **kwargs,
+    ):
         """
-        Browse a serie of vedo objects by using a simple slider.
+        Browse a series of vedo objects by using a simple slider.
 
         Examples:
             ```python
-            import vedo
+            from vedo import load, dataurl
             from vedo.applications import Browser
-            meshes = vedo.load("data/2*0.vtk") # a python list of Meshes
-            plt = Browser(meshes, resetcam=1, axes=4) # a vedo.Plotter
-            plt.show().close()
+            meshes = load(dataurl+'timecourse1d.npy') # python list of Meshes
+            plt = Browser(meshes, bg='k')             # vedo.Plotter
+            plt.show(interactive=False, zoom='tight') # show the meshes
+            plt.play(dt=50)                           # delay in milliseconds
+            plt.close()
             ```
 
         - [morphomatics_tube.py](https://github.com/marcomusy/vedo/tree/master/examples/other/morphomatics_tube.py)
         """
-        Plotter.__init__(
-            self,
-            pos=pos,
-            size=size,
-            screensize=screensize,
-            title=title,
-            bg=bg,
-            bg2=bg2,
-            axes=axes,
-            interactive=interactive,
-        )
+        Plotter.__init__(self, axes=axes, **kwargs)
 
         self += objects
 
         self.slider = None
+        self.timer_callback_id = None
 
-        # define the slider
-        def sliderfunc(widget, event=None):
-            k = int(widget.GetRepresentation().GetValue())
+        # define the slider func ##########################
+        def slider_function(widget=None, event=None):
+
+            must_render = False
+            if isinstance(widget, vedo.plotter.Event):
+                if self.slider.value < len(self.actors)-1:
+                    self.slider.value = self.slider.value + 1
+                else:
+                    self.slider.value = 0
+                must_render = True
+
+            k = int(self.slider.value)
             ak = self.actors[k]
             for a in self.actors:
                 if a == ak:
                     a.on()
                 else:
                     a.off()
             if resetcam:
                 self.reset_camera()
             tx = str(k)
             if ak.filename:
                 tx = ak.filename.split("/")[-1]
                 tx = tx.split("\\")[-1]  # windows os
             elif ak.name:
                 tx = ak.name
-            widget.GetRepresentation().SetTitleText(prefix + tx)
 
+            self.slider.title = prefix + tx
+
+            if must_render:
+                self.render()
+        ##################################################
+
+        self.slider_function = slider_function
         self.slider = self.add_slider(
-            sliderfunc,
+            slider_function,
             0.5,
             len(objects) - 0.5,
             pos=sliderpos,
-            font="courier",
+            font=font,
             c=c,
             show_value=False,
         )
         self.slider.GetRepresentation().SetTitleHeight(0.020)
-        sliderfunc(self.slider)  # init call
+        slider_function(self.slider)  # init call
+    
+    def play(self, dt=100):
+        """Start playing the slides at a given speed."""
+        self.timer_callback_id = self.add_callback("timer", self.slider_function)
+        self.timer_callback("start", dt=dt)
+        self.interactive()
 
 
 #############################################################################################
 class FreeHandCutPlotter(Plotter):
     """A tool to edit meshes interactively."""
+
     # thanks to Jakub Kaminski for the original version of this script
     def __init__(
-            self,
-            mesh,
-            splined=True,
-            font="Bongas",
-            alpha=0.9,
-            lw=4,
-            lc="red5",
-            pc="red4",
-            c="green3",
-            tc="k9",
-            tol=0.008,
-            **options
-        ):
+        self,
+        mesh,
+        splined=True,
+        font="Bongas",
+        alpha=0.9,
+        lw=4,
+        lc="red5",
+        pc="red4",
+        c="green3",
+        tc="k9",
+        tol=0.008,
+        **options,
+    ):
         """
         A `vedo.Plotter` derived class which edits polygonal meshes interactively.
 
         Can also be invoked from command line with:
 
         ```bash
         vedo --edit https://vedo.embl.es/examples/data/porsche.ply
@@ -842,15 +872,15 @@
             lw : (str)
                 selection line width.
             lc : (str)
                 selection line color.
             pc : (str)
                 selection points color.
             c : (str)
-                backgound color of instructions.
+                background color of instructions.
             tc : (str)
                 text color of instructions.
             tol : (int)
                 tolerance of the point proximity.
 
         Examples:
             - [cut_freehand.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/cut_freehand.py)
@@ -902,71 +932,69 @@
         self.points = Points(self.cpoints, r=self.linewidth).c(self.pointcolor).pickable(0)
         if self.splined:
             self.spline = Spline(self.cpoints, res=len(self.cpoints) * 4)
         else:
             self.spline = Line(self.cpoints)
         self.spline.lw(self.linewidth).c(self.linecolor).pickable(False)
         self.jline = Line(self.cpoints[0], self.cpoints[-1], lw=1, c=self.linecolor).pickable(0)
-        self.add([self.points, self.spline, self.jline], render=False)
+        self.add([self.points, self.spline, self.jline]).render()
         return self
 
     def _on_right_click(self, evt):
         self.drawmode = not self.drawmode  # toggle mode
         if self.drawmode:
             self.txt2d.background(self.linecolor, self.alpha)
         else:
             self.txt2d.background(self.color, self.alpha)
             if len(self.cpoints) > 2:
                 self.remove([self.spline, self.jline])
                 if self.splined:  # show the spline closed
-                    self.spline = Spline(
-                        self.cpoints, closed=True, res=len(self.cpoints) * 4
-                    )
+                    self.spline = Spline(self.cpoints, closed=True, res=len(self.cpoints) * 4)
                 else:
                     self.spline = Line(self.cpoints, closed=True)
                 self.spline.lw(self.linewidth).c(self.linecolor).pickable(False)
                 self.add(self.spline)
 
     def _on_mouse_move(self, evt):
         if self.drawmode:
-            cpt = self.compute_world_coordinate(evt.picked2d) # make this 2d-screen point 3d
-            if self.cpoints and mag(cpt - self.cpoints[-1]) < self.mesh.diagonal_size()*self.tol:
+            cpt = self.compute_world_coordinate(evt.picked2d)  # make this 2d-screen point 3d
+            if self.cpoints and mag(cpt - self.cpoints[-1]) < self.mesh.diagonal_size() * self.tol:
                 return  # new point is too close to the last one. skip
             self.cpoints.append(cpt)
             if len(self.cpoints) > 2:
                 self.remove([self.points, self.spline, self.jline, self.topline])
                 self.points = Points(self.cpoints, r=self.linewidth).c(self.pointcolor).pickable(0)
                 if self.splined:
-                    self.spline = Spline(self.cpoints, res=len(self.cpoints)*4) # not closed here
+                    self.spline = Spline(self.cpoints, res=len(self.cpoints) * 4)  # not closed here
                 else:
                     self.spline = Line(self.cpoints)
 
                 if evt.actor:
                     self.top_pts.append(evt.picked3d)
                     self.topline = Points(self.top_pts, r=self.linewidth)
                     self.topline.c(self.linecolor).pickable(False)
 
                 self.spline.lw(self.linewidth).c(self.linecolor).pickable(False)
                 self.txt2d.background(self.linecolor)
                 self.jline = Line(self.cpoints[0], self.cpoints[-1], lw=1, c=self.linecolor).pickable(0)
-                self.add([self.points, self.spline, self.jline, self.topline])
+                self.add([self.points, self.spline, self.jline, self.topline]).render()
 
     def _on_keypress(self, evt):
-        if evt.keypress.lower() == 'z' and self.spline: # Cut mesh with a ribbon-like surface
+        if evt.keypress.lower() == "z" and self.spline:  # Cut mesh with a ribbon-like surface
             inv = False
             if evt.keypress == "Z":
                 inv = True
             self.txt2d.background("red8").text("  ... working ...  ")
             self.render()
             self.mesh_prev = self.mesh.clone()
             tol = self.mesh.diagonal_size() / 2  # size of ribbon (not shown)
             pts = self.spline.points()
             n = fit_plane(pts, signed=True).normal  # compute normal vector to points
             rb = Ribbon(pts - tol * n, pts + tol * n, closed=True)
-            self.mesh.cutWithMesh(rb, invert=inv)  # CUT
+            self.mesh.cut_with_mesh(rb, invert=inv)  # CUT
             self.txt2d.text(self.msg)  # put back original message
             if self.drawmode:
                 self._on_right_click(evt)  # toggle mode to normal
             else:
                 self.txt2d.background(self.color, self.alpha)
             self.remove([self.spline, self.points, self.jline, self.topline]).render()
             self.cpoints, self.points, self.spline = [], None, None
@@ -975,34 +1003,34 @@
         elif evt.keypress == "L":
             self.txt2d.background("red8")
             self.txt2d.text(" ... removing smaller ... \n ... parts of the mesh ... ")
             self.render()
             self.remove(self.mesh)
             self.mesh_prev = self.mesh
             mcut = self.mesh.extract_largest_region()
-            mcut.filename = self.mesh.filename          # copy over various properties
+            mcut.filename = self.mesh.filename  # copy over various properties
             mcut.name = self.mesh.name
             mcut.scalarbar = self.mesh.scalarbar
             mcut.info = self.mesh.info
             self.mesh = mcut                            # discard old mesh by overwriting it
             self.txt2d.text(self.msg).background(self.color)   # put back original message
             self.add(mcut)
 
-        elif evt.keypress == 'u':                     # Undo last action
+        elif evt.keypress == 'u':                       # Undo last action
             if self.drawmode:
-                self._on_right_click(evt)                 # toggle mode to normal
+                self._on_right_click(evt)               # toggle mode to normal
             else:
                 self.txt2d.background(self.color, self.alpha)
             self.remove([self.mesh, self.spline, self.jline, self.points, self.topline])
             self.mesh = self.mesh_prev
             self.cpoints, self.points, self.spline = [], None, None
             self.top_pts, self.topline = [], None
-            self.add(self.mesh)
+            self.add(self.mesh).render()
 
-        elif evt.keypress in ('c', 'Delete'):
+        elif evt.keypress in ("c", "Delete"):
             # clear all points
             self.remove([self.spline, self.points, self.jline, self.topline]).render()
             self.cpoints, self.points, self.spline = [], None, None
             self.top_pts, self.topline = [], None
 
         elif evt.keypress == "r":  # reset camera and axes
             try:
@@ -1032,94 +1060,95 @@
 
     def start(self, *args, **kwargs):
         """Start window interaction (with mouse and keyboard)"""
         acts = [self.txt2d, self.mesh, self.points, self.spline, self.jline]
         self.show(acts + list(args), **kwargs)
         return self
 
+
 ########################################################################
 class SplinePlotter(Plotter):
     """
     Interactive drawing of splined curves on meshes.
     """
-    def __init__(self, obj, init_points=(), **kwargs):
+
+    def __init__(self, obj, init_points=(), closed=False, splined=True, **kwargs):
         """
         Create an interactive application that allows the user to click points and
         retrieve the coordinates of such points and optionally a spline or line
         (open or closed).
 
         Input object can be a image file name or a 3D mesh.
         """
         super().__init__(**kwargs)
 
-        self.mode    = 'trackball'
+        self.mode = "trackball"
         self.verbose = True
-        self.splined = True
+        self.splined = splined
         self.resolution = None  # spline resolution (None = automatic)
-        self.closed  = False
-        self.lcolor  = 'yellow4'
-        self.lwidth  = 3
-        self.pcolor  = 'purple5'
-        self.psize   = 10
+        self.closed = closed
+        self.lcolor = "yellow4"
+        self.lwidth = 3
+        self.pcolor = "purple5"
+        self.psize = 10
 
         self.cpoints = list(init_points)
         self.vpoints = None
         self.line = None
 
         if isinstance(obj, str):
-            self.object = vedo.io.load(obj)
+            self.object = vedo.file_io.load(obj)
         else:
             self.object = obj
-        
+
         if isinstance(self.object, vedo.Picture):
-            self.mode = 'image'
+            self.mode = "image"
+            self.parallel_projection(True)
 
         t = (
             "Click to add a point\n"
             "Right-click to remove it\n"
-            "Drag mouse to change constrast\n"
+            "Drag mouse to change contrast\n"
             "Press c to clear points\n"
             "Press q to continue"
         )
-        self.instructions = Text2D(
-            t, pos='bottom-left', c='white', bg='green', font='Calco'
-        )
-        
+        self.instructions = Text2D(t, pos="bottom-left", c="white", bg="green", font="Calco")
+
         self += [self.object, self.instructions]
 
-        self.callid1 = self.add_callback('KeyPress', self._key_press)
-        self.callid2 = self.add_callback('LeftButtonPress', self._on_left_click)
-        self.callid3 = self.add_callback('RightButtonPress', self._on_right_click)
+        self.callid1 = self.add_callback("KeyPress", self._key_press)
+        self.callid2 = self.add_callback("LeftButtonPress", self._on_left_click)
+        self.callid3 = self.add_callback("RightButtonPress", self._on_right_click)
 
     def points(self, newpts=None):
         """Retrieve the 3D coordinates of the clicked points"""
         if newpts is not None:
             self.cpoints = newpts
             self._update()
             return self
         return np.array(self.cpoints)
 
     def _on_left_click(self, evt):
-        if not evt.actor: 
+        if not evt.actor:
             return
         if evt.actor.name == "points":
             # remove clicked point if clicked twice
             pid = self.vpoints.closest_point(evt.picked3d, return_point_id=True)
             self.cpoints.pop(pid)
             self._update()
             return
         p = evt.picked3d
         self.cpoints.append(p)
         self._update()
         if self.verbose:
-            vedo.colors.printc("Added point:", precision(p,4), c='g')
+            vedo.colors.printc("Added point:", precision(p, 4), c="g")
 
     def _on_right_click(self, evt):
-        if evt.actor and len(self.cpoints)>0:
-            self.cpoints.pop() # pop removes from the list the last pt
+        if evt.actor and len(self.cpoints) > 0:
+            self.cpoints.pop()  # pop removes from the list the last pt
             self._update()
             if self.verbose:
                 vedo.colors.printc("Deleted last point", c="r")
 
     def _update(self):
         self.remove(self.line, self.vpoints)  # remove old points and spline
         self.vpoints = Points(self.cpoints).ps(self.psize).c(self.pcolor)
@@ -1140,15 +1169,15 @@
                 self.line = Line(self.cpoints, closed=self.closed)
             self.line.c(self.lcolor).lw(self.lwidth).pickable(False)
             self.add(self.vpoints, self.line)
         else:
             self.add(self.vpoints)
 
     def _key_press(self, evt):
-        if evt.keypress == 'c':
+        if evt.keypress == "c":
             self.cpoints = []
             self.remove(self.line, self.vpoints).render()
             if self.verbose:
                 vedo.colors.printc("==== Cleared all points ====", c="r", invert=True)
 
     def start(self):
         """Start the interaction"""
@@ -1362,15 +1391,15 @@
         if self.bookingMode:
             acts, t, duration, rng = self._parse(acts, t, duration)
             for tt in rng:
                 inputvalues = []
                 for a in acts:
                     newlw = lin_interpolate(tt, [t, t + duration], [a.lw(), lw])
                     inputvalues.append(newlw)
-                self.events.append((tt, self.changeLineWidth, acts, inputvalues))
+                self.events.append((tt, self.change_line_width, acts, inputvalues))
         else:
             for i, a in enumerate(self._performers):
                 a.lw(self._inputvalues[i])
         return self
 
     def change_line_color(self, c, acts=None, t=None, duration=None):
         """Gradually change line color of the mesh edges for the input list of meshes."""
@@ -1505,19 +1534,17 @@
                 (x0, y1, z1),
             ]
             pcl = acts[0].closest_point(corners[corner])
             dmin = np.linalg.norm(pcl - corners[corner])
             for tt in rng:
                 d = lin_interpolate(tt, [t, t + duration], [dmin, diag * 1.01])
                 if d > 0:
-                    ids = acts[0].closest_point(
-                        corners[corner], radius=d, return_point_id=True
-                    )
+                    ids = acts[0].closest_point(corners[corner], radius=d, return_point_id=True)
                     if len(ids) <= acts[0].npoints:
-                        self.events.append((tt, self.meshErode, acts, ids))
+                        self.events.append((tt, self.mesh_erode, acts, ids))
         return self
 
     def play(self):
         """Play the internal list of events and save a video."""
 
         self.events = sorted(self.events, key=lambda x: x[0])
         self.bookingMode = False
@@ -1536,18 +1563,20 @@
 
             tt, action, self._performers, self._inputvalues = e
             action(0, 0)
 
             dt = tt - ttlast
             if dt > self.eps:
                 self.show(interactive=False, resetcam=self.resetcam)
-                if self.video_filename: vd.add_frame()
+                if self.video_filename:
+                    vd.add_frame()
 
-                if dt > self.time_resolution+self.eps:
-                    if self.video_filename: vd.pause(dt)
+                if dt > self.time_resolution + self.eps:
+                    if self.video_filename:
+                        vd.pause(dt)
 
             ttlast = tt
 
             if self.show_progressbar:
                 pb.print("t=" + str(int(tt * 100) / 100) + "s,  " + action.__name__)
 
         self.show(interactive=False, resetcam=self.resetcam)
@@ -1555,25 +1584,216 @@
             vd.add_frame()
             vd.close()
 
         self.show(interactive=True, resetcam=self.resetcam)
         self.bookingMode = True
 
 
+########################################################################
+class AnimationPlayer(vedo.Plotter):
+    """
+    A Plotter with play/pause, step forward/backward and slider functionalties.
+    Useful for inspecting time series. 
+
+    The user has the responsibility to update all actors in the callback function. 
+    Pay attention to that the idx can both increment and decrement,
+    as well as make large jumps.
+    
+    Arguments:
+        func :  (Callable)
+            a function that passes an integer as input and updates the scene
+        irange : (tuple)
+            the range of the integer input representing the time series index
+        dt : (float)
+            the time interval between two calls to `func` in milliseconds
+        loop : (bool)
+            whether to loop the animation
+        c : (list, str)
+            the color of the play/pause button
+        bc : (list)
+            the background color of the play/pause button and the slider
+        button_size : (int)
+            the size of the play/pause buttons
+        button_pos : (float, float)
+            the position of the play/pause buttons as a fraction of the window size
+        button_gap : (float)
+            the gap between the buttons
+        slider_length : (float)
+            the length of the slider as a fraction of the window size
+        slider_pos : (float, float)
+            the position of the slider as a fraction of the window size
+        kwargs: (dict)
+            keyword arguments to be passed to `Plotter`
+
+    Examples:
+        - [aspring2_player.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/aspring2_player.py)
+    """
+    # Original class contributed by @mikaeltulldahl (Mikael Tulldahl)
+
+    PLAY_SYMBOL        = "    \u23F5   "
+    PAUSE_SYMBOL       = "   \u23F8   "
+    ONE_BACK_SYMBOL    = " \u29CF"
+    ONE_FORWARD_SYMBOL = "\u29D0 "
+
+    def __init__(
+        self,
+        func: Callable[[int],None],
+        irange: tuple,
+        dt: float = 1.0,
+        loop: bool = True,
+        c=("white", "white"),
+        bc=("green3","red4"),
+        button_size=25,
+        button_pos=(0.5,0.08),
+        button_gap=0.055,
+        slider_length=0.5,
+        slider_pos=(0.5,0.055),
+        **kwargs,
+    ):
+        super().__init__(**kwargs)
+
+        min_value, max_value = np.array(irange).astype(int)
+        button_pos = np.array(button_pos)
+        slider_pos = np.array(slider_pos)
+
+        self._func = func
+
+        self.value = min_value-1
+        self.min_value = min_value
+        self.max_value = max_value
+        self.dt = max(dt, 1)
+        self.is_playing = False
+        self._loop = loop
+
+        self.timer_callback_id = self.add_callback("timer", self._handle_timer)
+        self.timer_id = None
+
+        self.play_pause_button = self.add_button(
+            self.toggle,
+            pos=button_pos,  # x,y fraction from bottom left corner
+            states=[self.PLAY_SYMBOL, self.PAUSE_SYMBOL],
+            font="Kanopus",
+            size=button_size,
+            bc=bc,
+        )
+        self.button_oneback = self.add_button(
+            self.onebackward,
+            pos=(-button_gap, 0) + button_pos,
+            states=[self.ONE_BACK_SYMBOL],
+            font="Kanopus",
+            size=button_size,
+            c=c,
+            bc=bc,
+        )
+        self.button_oneforward = self.add_button(
+            self.oneforward,
+            pos=(button_gap, 0) + button_pos,
+            states=[self.ONE_FORWARD_SYMBOL],
+            font="Kanopus",
+            size=button_size,
+            bc=bc,
+        )
+        d = (1-slider_length)/2
+        self.slider: SliderWidget = self.add_slider(
+            self._slider_callback,
+            self.min_value,
+            self.max_value - 1,
+            value=self.min_value,
+            pos=[(d-0.5, 0)+slider_pos, (0.5-d, 0)+slider_pos],
+            show_value=False,
+            c=bc[0],
+            alpha=1,
+        )
+
+    def pause(self) -> None:
+        """Pause the animation."""
+        self.is_playing = False
+        if self.timer_id is not None:
+            self.timer_callback("destroy", self.timer_id)
+            self.timer_id = None
+        self.play_pause_button.status(self.PLAY_SYMBOL)
+
+    def resume(self) -> None:
+        """Resume the animation."""
+        if self.timer_id is not None:
+            self.timer_callback("destroy", self.timer_id)
+        self.timer_id = self.timer_callback("create", dt=int(self.dt))
+        self.is_playing = True
+        self.play_pause_button.status(self.PAUSE_SYMBOL)
+
+    def toggle(self) -> None:
+        """Toggle between play and pause."""
+        if not self.is_playing:
+            self.resume()
+        else:
+            self.pause()
+
+    def oneforward(self) -> None:
+        """Advance the animation by one frame."""
+        self.pause()
+        self.set_frame(self.value + 1)
+
+    def onebackward(self) -> None:
+        """Go back one frame in the animation."""
+        self.pause()
+        self.set_frame(self.value - 1)
+
+    def set_frame(self, value: int) -> None:
+        """Set the current value of the animation."""
+        if self._loop:
+            if value < self.min_value:
+                value = self.max_value - 1
+            elif value >= self.max_value:
+                value = self.min_value
+        else:
+            if value < self.min_value:
+                self.pause()
+                value = self.min_value
+            elif value >= self.max_value - 1:
+                value = self.max_value - 1
+                self.pause()
+
+        if self.value != value:
+            self.value = value
+            self.slider.value = value
+            self._func(value)
+
+    def _slider_callback(self, widget: SliderWidget, _: str) -> None:
+        self.pause()
+        self.set_frame(int(round(widget.value)))
+
+    def _handle_timer(self, _: Event = None) -> None:
+        self.set_frame(self.value + 1)
+
+    def stop(self) -> "AnimationPlayer":
+        """
+        Stop the animation timers, remove buttons and slider.
+        Behave like a normal `Plotter` after this.
+        """
+        # stop timer
+        if self.timer_id is not None:
+            self.timer_callback("destroy", self.timer_id)
+            self.timer_id = None
+
+        # remove callbacks
+        self.remove_callback(self.timer_callback_id)
+
+        # remove buttons
+        self.slider.off()
+        self.renderer.RemoveActor(self.play_pause_button.actor)
+        self.renderer.RemoveActor(self.button_oneback.actor)
+        self.renderer.RemoveActor(self.button_oneforward.actor)
+        return self
+
+
+########################################################################
 class Clock(vedo.Assembly):
     """Clock animation."""
-    def __init__(
-            self,
-            h=None,
-            m=None,
-            s=None,
-            font="Quikhand",
-            title="",
-            c="k",
-        ):
+
+    def __init__(self, h=None, m=None, s=None, font="Quikhand", title="", c="k"):
         """
         Create a clock with current time or user provided time.
 
         Arguments:
             h : (int)
                 hours in range [0,23]
             m : (int)
@@ -1608,54 +1828,42 @@
         wd = ""
         if h is None and m is None:
             t = time.localtime()
             h = t.tm_hour
             m = t.tm_min
             s = t.tm_sec
             if not title:
-                d = ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]
+                d = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
                 wd = f"{d[t.tm_wday]} {t.tm_mday}/{t.tm_mon}/{t.tm_year} "
 
         h = int(h) % 24
         m = int(m) % 60
-        t = (h*60+m) / 12 / 60
+        t = (h * 60 + m) / 12 / 60
 
-        alpha = 2*np.pi*t + np.pi/2
-        beta  = 12*2*np.pi*t + np.pi/2
+        alpha = 2 * np.pi * t + np.pi / 2
+        beta = 12 * 2 * np.pi * t + np.pi / 2
 
-        x1,y1 = np.cos(alpha), np.sin(alpha)
-        x2,y2 = np.cos(beta),  np.sin(beta)
+        x1, y1 = np.cos(alpha), np.sin(alpha)
+        x2, y2 = np.cos(beta), np.sin(beta)
         if s is not None:
             s = int(s) % 60
-            gamma = s*2*np.pi /60 + np.pi/2
-            x3,y3 = np.cos(gamma), np.sin(gamma)
+            gamma = s * 2 * np.pi / 60 + np.pi / 2
+            x3, y3 = np.cos(gamma), np.sin(gamma)
 
-        ore = Line([0,0], [x1,y1], lw=14, c='red4').scale(0.5).mirror()
-        minu= Line([0,0], [x2,y2], lw=7, c='blue3').scale(0.75).mirror()
+        ore = Line([0, 0], [x1, y1], lw=14, c="red4").scale(0.5).mirror()
+        minu = Line([0, 0], [x2, y2], lw=7, c="blue3").scale(0.75).mirror()
         secs = None
         if s is not None:
-            secs= Line([0,0], [x3,y3], lw=1, c='k').scale(0.95).mirror()
+            secs = Line([0, 0], [x3, y3], lw=1, c="k").scale(0.95).mirror()
             secs.z(0.003)
         back1 = vedo.shapes.Circle(res=180, c="k5")
-        back2 = vedo.shapes.Circle(res=12).mirror().scale(0.84).rotate_z(-360/12)
-        labels = back2.labels(
-            range(1,13),
-            justify="center",
-            font=font,
-            c=c,
-            scale=0.14,
-        )
-        txt = vedo.shapes.Text3D(
-            wd + title,
-            font="VictorMono",
-            justify="top-center",
-            s=0.07,
-            c=c,
-        )
-        txt.pos(0,-0.25, 0.001)
+        back2 = vedo.shapes.Circle(res=12).mirror().scale(0.84).rotate_z(-360 / 12)
+        labels = back2.labels(range(1, 13), justify="center", font=font, c=c, scale=0.14)
+        txt = vedo.shapes.Text3D(wd + title, font="VictorMono", justify="top-center", s=0.07, c=c)
+        txt.pos(0, -0.25, 0.001)
         labels.z(0.001)
         minu.z(0.002)
         vedo.Assembly.__init__(self, [back1, labels, ore, minu, secs, txt])
         self.name = "Clock"
 
     def update(self, h=None, m=None, s=None):
         """Update clock with current or user time."""
@@ -1666,36 +1874,33 @@
             t = time.localtime()
             h = t.tm_hour
             m = t.tm_min
             s = t.tm_sec
 
         h = int(h) % 24
         m = int(m) % 60
-        t = (h*60+m) / 12 / 60
+        t = (h * 60 + m) / 12 / 60
 
-        alpha = 2*np.pi*t + np.pi/2
-        beta  = 12*2*np.pi*t + np.pi/2
+        alpha = 2 * np.pi * t + np.pi / 2
+        beta = 12 * 2 * np.pi * t + np.pi / 2
 
-        x1,y1 = np.cos(alpha), np.sin(alpha)
-        x2,y2 = np.cos(beta),  np.sin(beta)
+        x1, y1 = np.cos(alpha), np.sin(alpha)
+        x2, y2 = np.cos(beta), np.sin(beta)
         if s is not None:
             s = int(s) % 60
-            gamma = s*2*np.pi /60 + np.pi/2
-            x3,y3 = np.cos(gamma), np.sin(gamma)
+            gamma = s * 2 * np.pi / 60 + np.pi / 2
+            x3, y3 = np.cos(gamma), np.sin(gamma)
 
         pts2 = parts[2].points()
-        pts2[1] = [-x1*0.5,y1*0.5, 0.001]
+        pts2[1] = [-x1 * 0.5, y1 * 0.5, 0.001]
         parts[2].points(pts2)
 
         pts3 = parts[3].points()
-        pts3[1] = [-x2*0.75,y2*0.75, 0.002]
+        pts3[1] = [-x2 * 0.75, y2 * 0.75, 0.002]
         parts[3].points(pts3)
 
         if s is not None:
             pts4 = parts[4].points()
-            pts4[1] = [-x3*0.95,y3*0.95, 0.003]
+            pts4[1] = [-x3 * 0.95, y3 * 0.95, 0.003]
             parts[4].points(pts4)
 
         return self
-
-
-
```

### Comparing `vedo-2023.4.4/vedo/assembly.py` & `vedo-2023.4.5/vedo/assembly.py`

 * *Files 6% similar despite different names*

```diff
@@ -13,19 +13,15 @@
 
 __doc__ = """
 Submodule for managing groups of vedo objects
 
 ![](https://vedo.embl.es/images/basic/align4.png)
 """
 
-__all__ = [
-    "Group",
-    "Assembly",
-    "procrustes_alignment",
-]
+__all__ = ["Group", "Assembly", "procrustes_alignment"]
 
 
 #################################################
 def procrustes_alignment(sources, rigid=False):
     """
     Return an ``Assembly`` of aligned source meshes with the `Procrustes` algorithm.
     The output ``Assembly`` is normalized in size.
@@ -73,14 +69,15 @@
     assem.info["mean"] = vedo.utils.vtk2numpy(procrustes.GetMeanPoints().GetData())
     return assem
 
 
 #################################################
 class Group(vtk.vtkPropAssembly):
     """Form groups of generic objects (not necessarily meshes)."""
+
     def __init__(self, objects=()):
         """Form groups of generic objects (not necessarily meshes)."""
 
         vtk.vtkPropAssembly.__init__(self)
 
         self.name = ""
         self.created = ""
@@ -158,15 +155,14 @@
     def draggable(self, value=None):
         """Set/get the draggability property of an object."""
         if value is None:
             return self.GetDragable()
         self.SetDragable(value)
         return self
 
-
     def pos(self, x=None, y=None):
         """Set/Get object position."""
         if x is None:  # get functionality
             return np.array(self.GetPosition())
 
         if y is None:  # assume x is of the form (x,y)
             x, y = x
@@ -188,15 +184,14 @@
         return self.GetBounds()
 
     def diagonal_size(self):
         """Get the length of the diagonal"""
         b = self.GetBounds()
         return np.sqrt((b[1] - b[0]) ** 2 + (b[3] - b[2]) ** 2)
 
-
     def show(self, **options):
         """
         Create on the fly an instance of class ``Plotter`` or use the last existing one to
         show one single object.
 
         This method is meant as a shortcut. If more than one object needs to be visualised
         please use the syntax `show(mesh1, mesh2, volume, ..., options)`.
@@ -207,14 +202,15 @@
 
 
 #################################################
 class Assembly(vedo.base.Base3DProp, vtk.vtkAssembly):
     """
     Group many objects and treat them as a single new object.
     """
+
     def __init__(self, *meshs):
         """
         Group many objects and treat them as a single new object,
         keeping track of internal transformations.
 
         Examples:
             - [gyroscope1.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/gyroscope1.py)
@@ -247,22 +243,22 @@
 
         if len(scalarbars) > 1:
             self.scalarbar = Group(scalarbars)
         elif len(scalarbars) == 1:
             self.scalarbar = scalarbars[0]
 
         self.pipeline = vedo.utils.OperationNode(
-            "Assembly", parents=meshs, comment=f"#meshes {len(meshs)}", c="#f08080",
+            "Assembly", parents=meshs, comment=f"#meshes {len(meshs)}", c="#f08080"
         )
         ###################################################################
 
     def _repr_html_(self):
         """
         HTML representation of the Assembly object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -277,43 +273,50 @@
         encoded = base64.b64encode(buffered.getvalue()).decode("utf-8")
         url = "data:image/png;base64," + encoded
         image = f"<img src='{url}'></img>"
 
         # statisitics
         bounds = "<br/>".join(
             [
-                vedo.utils.precision(min_x,4) + " ... " + vedo.utils.precision(max_x,4)
+                vedo.utils.precision(min_x, 4) + " ... " + vedo.utils.precision(max_x, 4)
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
-        all = [
+
+        allt = [
             "<table>",
-            "<tr>", 
-            "<td>", image, "</td>",
-            "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
+            "<tr>",
+            "<td>",
+            image,
+            "</td>",
+            "<td style='text-align: center; vertical-align: center;'><br/>",
+            help_text,
             "<table>",
-            "<tr><td><b> nr. of objects </b></td><td>" + str(self.GetNumberOfPaths()) + "</td></tr>",
+            "<tr><td><b> nr. of objects </b></td><td>"
+            + str(self.GetNumberOfPaths())
+            + "</td></tr>",
             "<tr><td><b> position </b></td><td>" + str(self.GetPosition()) + "</td></tr>",
-            "<tr><td><b> diagonal size </b></td><td>" + vedo.utils.precision(self.diagonal_size(), 5) + "</td></tr>",
+            "<tr><td><b> diagonal size </b></td><td>"
+            + vedo.utils.precision(self.diagonal_size(), 5)
+            + "</td></tr>",
             "<tr><td><b> bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
             "</table>",
             "</table>",
         ]
-        return "\n".join(all)
+        return "\n".join(allt)
 
     def __add__(self, obj):
         """
         Add an object to the assembly
         """
         if isinstance(obj, vtk.vtkProp3D):
             self.AddPart(obj)
@@ -330,22 +333,18 @@
                     return scalarbar.unpack()
                 else:
                     return scalarbar
 
             if isinstance(self.scalarbar, Group):
                 self.scalarbar += unpack_group(obj.scalarbar)
             else:
-                self.scalarbar = Group(
-                    [unpack_group(self.scalarbar), unpack_group(obj.scalarbar)]
-                )
-        self.pipeline = vedo.utils.OperationNode(
-            "add mesh", parents=[self, obj], c="#f08080",
-        )
+                self.scalarbar = Group([unpack_group(self.scalarbar), unpack_group(obj.scalarbar)])
+        self.pipeline = vedo.utils.OperationNode("add mesh", parents=[self, obj], c="#f08080")
         return self
-    
+
     def __contains__(self, obj):
         """Allows to use ``in`` to check if an object is in the Assembly."""
         return obj in self.actors
 
     def clone(self):
         """Make a clone copy of the object."""
         newlist = []
@@ -375,7 +374,31 @@
         elif isinstance(i, int):
             return actors[i]
         elif isinstance(i, str):
             for m in actors:
                 if i in m.name:
                     return m
 
+    def recursive_unpack(self):
+        """Flatten out an Assembly."""
+
+        def _genflatten(lst):
+            if not lst:
+                return []
+            ##
+            if isinstance(lst[0], Assembly):
+                lst = lst[0].unpack()
+            ##
+            for elem in lst:
+                if isinstance(elem, Assembly):
+                    apos = elem.GetPosition()
+                    asum = np.sum(apos)
+                    for x in elem.unpack():
+                        if asum:
+                            yield x.clone().shift(apos)
+                        else:
+                            yield x
+                else:
+                    yield elem
+
+        return list(_genflatten([self]))
+
```

### Comparing `vedo-2023.4.4/vedo/backends.py` & `vedo-2023.4.5/vedo/backends.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,22 +1,20 @@
 #!/usr/bin/env python3
 # -*- coding: utf-8 -*-
 import os
-import numpy
+import numpy as np
 
 try:
     import vedo.vtkclasses as vtk
 except ImportError:
     import vtkmodules.all as vtk
 
 import vedo
 from vedo import settings
-from vedo import colors
 from vedo import utils
-from vedo import shapes
 from vedo.pointcloud import Points
 from vedo.mesh import Mesh
 from vedo.volume import Volume
 
 __doc__ = """Submodule to delegate jupyter notebook rendering"""
 
 __all__ = []
@@ -46,243 +44,310 @@
     return None
 
 
 #####################################################################################
 def start_2d():
     try:
         import PIL.Image
-        import IPython
+        # import IPython
     except ImportError:
         print("PIL or IPython not available")
         return None
 
     plt = vedo.plotter_instance
 
     if hasattr(plt, "window") and plt.window:
         if plt.renderer == plt.renderers[-1]:
-            nn = vedo.io.screenshot(asarray=True, scale=settings.screeshot_scale)
+            nn = vedo.file_io.screenshot(asarray=True, scale=1)
             pil_img = PIL.Image.fromarray(nn)
-            notebook_plotter = IPython.display.display(pil_img)
-            vedo.notebook_plotter = notebook_plotter
+            # IPython.display.display(pil_img)
+            vedo.notebook_plotter = pil_img
             if settings.backend_autoclose:
                 plt.close()
-            return notebook_plotter
+            return pil_img
 
 
 ####################################################################################
 def start_k3d(actors2show):
-    # https://github.com/K3D-tools/K3D-jupyter
+
     try:
+        # https://github.com/K3D-tools/K3D-jupyter
         import k3d
     except ModuleNotFoundError:
         print("Cannot find k3d, install with:  pip install k3d")
         return None
 
     plt = vedo.plotter_instance
+    if not plt:
+        return None
 
     actors2show2 = []
     for ia in actors2show:
         if not ia:
             continue
-        if isinstance(ia, vtk.vtkAssembly):  # unpack assemblies
-            acass = ia.unpack()
-            actors2show2 += acass
+        if isinstance(ia, vedo.Assembly):  # unpack assemblies
+            actors2show2 += ia.recursive_unpack()
         else:
             actors2show2.append(ia)
 
     vedo.notebook_plotter = k3d.plot(
         axes=["x", "y", "z"],
         menu_visibility=settings.k3d_menu_visibility,
         height=settings.k3d_plot_height,
         antialias=settings.k3d_antialias,
+        background_color=_rgb2int(vedo.get_color(plt._bg)),
+        camera_fov=30.0,  # deg (this is the vtk default)
+        lighting=settings.k3d_lighting,
+        grid_color=_rgb2int(vedo.get_color(settings.k3d_axes_color)),
+        label_color=_rgb2int(vedo.get_color(settings.k3d_axes_color)),
+        axes_helper=settings.k3d_axes_helper,
+        # axes_helper_colors=[_rgb2int(vedo.get_color("red5")), # not working
+        #                     _rgb2int(vedo.get_color("green5")),
+        #                     _rgb2int(vedo.get_color("blue5"))],
     )
-    # vedo.notebook_plotter.grid = kgrid
-    vedo.notebook_plotter.lighting = settings.k3d_lighting
+    # vedo.notebook_plotter.axes_helper_colors = [
+    #     vedo.backends._rgb2int(vedo.get_color("red5")), # not working
+    #     vedo.backends._rgb2int(vedo.get_color("green5")),
+    #     vedo.backends._rgb2int(vedo.get_color("blue5"))
+    # ]
 
     # set k3d camera
     vedo.notebook_plotter.camera_auto_fit = settings.k3d_camera_autofit
     vedo.notebook_plotter.grid_auto_fit = settings.k3d_grid_autofit
     vedo.notebook_plotter.axes_helper = settings.k3d_axes_helper
 
-    if plt and plt.camera:
-        k3dc = utils.vtkCameraToK3D(plt.camera)
-        vedo.notebook_plotter.camera = k3dc
+    if plt.camera:
+        vedo.notebook_plotter.camera = utils.vtkCameraToK3D(plt.camera)
 
-    if plt and not plt.axes:
+    if not plt.axes:
         vedo.notebook_plotter.grid_visible = False
 
     for ia in actors2show2:
 
-        if isinstance(ia, (vtk.vtkCornerAnnotation, vtk.vtkAssembly)):
+        if isinstance(ia, (vtk.vtkCornerAnnotation,
+                           vtk.vtkAssembly,
+                           vtk.vtkActor2D)):
             continue
 
+        iacloned = ia
+
         kobj = None
         kcmap = None
+        color_attribute = None
+        vtkscals = None
         name = None
         if hasattr(ia, "filename"):
             if ia.filename:
                 name = os.path.basename(ia.filename)
             if ia.name:
                 name = os.path.basename(ia.name)
 
-        #####################################################################scalars
+        ################################################################## scalars
         # work out scalars first, Points Lines are also Mesh objs
-        if isinstance(ia, (Mesh, shapes.Line, Points)):
+        if isinstance(ia, Points):
             # print('scalars', ia.name, ia.npoints)
             iap = ia.GetProperty()
 
-            if isinstance(ia, (shapes.Line, Points)):
-                iapoly = ia.polydata()
+            if ia.inputdata().GetNumberOfPolys():
+                iacloned = ia.clone()
+                iapoly = iacloned.clean().triangulate().compute_normals().polydata()
             else:
-                iapoly = ia.clone().clean().triangulate().compute_normals().polydata()
+                iapoly = ia.polydata()
+
+            if ia.mapper().GetScalarVisibility() and ia.mapper().GetColorMode() > 0:
 
-            vtkscals = None
-            color_attribute = None
-            if ia.mapper().GetScalarVisibility():
                 vtkdata = iapoly.GetPointData()
                 vtkscals = vtkdata.GetScalars()
 
                 if vtkscals is None:
                     vtkdata = iapoly.GetCellData()
                     vtkscals = vtkdata.GetScalars()
                     if vtkscals is not None:
                         c2p = vtk.vtkCellDataToPointData()
                         c2p.SetInputData(iapoly)
                         c2p.Update()
                         iapoly = c2p.GetOutput()
                         vtkdata = iapoly.GetPointData()
                         vtkscals = vtkdata.GetScalars()
 
-                if vtkscals is not None:
+                else:
+
                     if not vtkscals.GetName():
                         vtkscals.SetName("scalars")
                     scals_min, scals_max = ia.mapper().GetScalarRange()
                     color_attribute = (vtkscals.GetName(), scals_min, scals_max)
                     lut = ia.mapper().GetLookupTable()
                     lut.Build()
                     kcmap = []
                     nlut = lut.GetNumberOfTableValues()
                     for i in range(nlut):
                         r, g, b, _ = lut.GetTableValue(i)
                         kcmap += [i / (nlut - 1), r, g, b]
 
+            else:
+                color_attribute = ia.color()
+
         #####################################################################Volume
         if isinstance(ia, Volume):
             # print('Volume', ia.name, ia.dimensions())
             kx, ky, _ = ia.dimensions()
             arr = ia.pointdata[0]
             kimage = arr.reshape(-1, ky, kx)
 
             colorTransferFunction = ia.GetProperty().GetRGBTransferFunction()
             kcmap = []
             for i in range(128):
                 r, g, b = colorTransferFunction.GetColor(i / 127)
                 kcmap += [i / 127, r, g, b]
 
-            kbounds = numpy.array(ia.imagedata().GetBounds()) + numpy.repeat(
-                numpy.array(ia.imagedata().GetSpacing()) / 2.0, 2
-            ) * numpy.array([-1, 1] * 3)
+            kbounds = np.array(ia.imagedata().GetBounds()) + np.repeat(
+                np.array(ia.imagedata().GetSpacing()) / 2.0, 2
+            ) * np.array([-1, 1] * 3)
 
             kobj = k3d.volume(
-                kimage.astype(numpy.float32),
+                kimage.astype(np.float32),
                 color_map=kcmap,
                 # color_range=ia.imagedata().GetScalarRange(),
                 alpha_coef=10,
                 bounds=kbounds,
                 name=name,
             )
             vedo.notebook_plotter += kobj
 
-        #####################################################################text
-        elif hasattr(ia, "info") and "formula" in ia.info.keys():
-            pos = (ia.GetPosition()[0], ia.GetPosition()[1])
-            kobj = k3d.text2d(ia.info["formula"], position=pos)
+        ################################################################ Text2D
+        elif isinstance(ia, vedo.Text2D):
+            # print('Text2D', ia.GetPosition())
+            pos = (ia.GetPosition()[0], 1.0 - ia.GetPosition()[1])
+
+            kobj = k3d.text2d(
+                ia.text(),
+                position=pos,
+                color=_rgb2int(vedo.get_color(ia.c())),
+                is_html=True,
+                size=ia.property.GetFontSize() / 22.5 * 1.5,
+                label_box=bool(ia.property.GetFrame()),
+                # reference_point='bl',
+            )
             vedo.notebook_plotter += kobj
 
-        #####################################################################Mesh
-        elif isinstance(ia, Mesh) and ia.npoints and len(ia.faces()):
+        ################################################################# Lines
+        elif (hasattr(ia, "polydata") 
+              and ia.polydata(False).GetNumberOfLines() 
+              and ia.polydata(False).GetNumberOfPolys() == 0):
+
+            for i, ln_idx in enumerate(ia.lines()):
+
+                if i > 200:
+                    vedo.logger.warning("in k3d, nr. of lines is limited to 200.")
+                    break
+
+                pts = ia.points()[ln_idx]
+
+                aves = ia.diagonal_size() * iap.GetLineWidth() / 100
+
+                kobj = k3d.line(
+                    pts.astype(np.float32),
+                    color=_rgb2int(iap.GetColor()),
+                    opacity=iap.GetOpacity(),
+                    shader=settings.k3d_line_shader,
+                    width=aves,
+                    name=name,
+                )
+                vedo.notebook_plotter += kobj
+
+        ################################################################## Mesh
+        elif isinstance(ia, Mesh) and ia.npoints and ia.polydata(False).GetNumberOfPolys():
             # print('Mesh', ia.name, ia.npoints, len(ia.faces()))
-            kobj = k3d.vtk_poly_data(
-                iapoly,
-                name=name,
-                # color=_rgb2int(iap.GetColor()),
-                color_attribute=color_attribute,
-                color_map=kcmap,
-                opacity=iap.GetOpacity(),
-                wireframe=(iap.GetRepresentation() == 1),
-            )
+
+            if not vtkscals:
+                color_attribute = None
+
+            cols = []
+            if ia.mapper().GetColorMode() == 0:
+                # direct RGB colors
+
+                vcols = ia.inputdata().GetPointData().GetScalars()
+                if vcols and vcols.GetNumberOfComponents() == 3:
+                    cols = utils.vtk2numpy(vcols)
+                    cols = 65536 * cols[:, 0] + 256 * cols[:, 1] + cols[:, 2]
+                # print("GetColor",iap.GetColor(), _rgb2int(iap.GetColor()) )
+                # print("colors", len(cols))
+                # print("color_attribute", color_attribute)
+                # if kcmap is not None: print("color_map", len(kcmap))
+                # TODO:
+                # https://k3d-jupyter.org/reference/factory.mesh.html#colormap
+
+                kobj = k3d.mesh(
+                    iacloned.points(),
+                    iacloned.faces(),
+                    colors=cols,
+                    name=name,
+                    color=_rgb2int(iap.GetColor()),
+                    opacity=iap.GetOpacity(),
+                    side="double",
+                    wireframe=(iap.GetRepresentation() == 1),
+                )
+
+            else:
+
+                kobj = k3d.vtk_poly_data(
+                    iapoly,
+                    name=name,
+                    color=_rgb2int(iap.GetColor()),
+                    color_attribute=color_attribute,
+                    color_map=kcmap,
+                    opacity=iap.GetOpacity(),
+                    side="double",
+                    wireframe=(iap.GetRepresentation() == 1),
+                )
 
             if iap.GetInterpolation() == 0:
                 kobj.flat_shading = True
+
             vedo.notebook_plotter += kobj
 
         #####################################################################Points
         elif isinstance(ia, Points):
             # print('Points', ia.name, ia.npoints)
             kcols = []
-            if color_attribute is not None:
+            if kcmap is not None and vtkscals:
                 scals = utils.vtk2numpy(vtkscals)
                 kcols = k3d.helpers.map_colors(scals, kcmap, [scals_min, scals_max]).astype(
-                    numpy.uint32
+                    np.uint32
                 )
-            # sqsize = numpy.sqrt(numpy.dot(sizes, sizes))
+
+            aves = ia.average_size() * iap.GetPointSize() / 200
 
             kobj = k3d.points(
-                ia.points().astype(numpy.float32),
+                ia.points().astype(np.float32),
                 color=_rgb2int(iap.GetColor()),
                 colors=kcols,
                 opacity=iap.GetOpacity(),
                 shader=settings.k3d_point_shader,
-                point_size=iap.GetPointSize(),
+                point_size=aves,
                 name=name,
             )
             vedo.notebook_plotter += kobj
 
-        #####################################################################Lines
+        #####################################################################
         elif isinstance(ia, vedo.Picture):
             vedo.logger.error("Sorry Picture objects are not supported in k3d.")
 
-        #####################################################################Lines
-        elif ia.polydata(False).GetNumberOfLines():
-            # print('Line', ia.name, ia.npoints, len(ia.faces()),
-            #       ia.polydata(False).GetNumberOfLines(), len(ia.lines()),
-            #       color_attribute, [vtkscals])
-            # kcols=[]
-            # if color_attribute is not None:
-            #     scals = utils.vtk2numpy(vtkscals)
-            #     kcols = k3d.helpers.map_colors(scals, kcmap,
-            #                                    [scals_min,scals_max]).astype(numpy.uint32)
-            # sqsize = numpy.sqrt(numpy.dot(sizes, sizes))
-
-            for i, ln_idx in enumerate(ia.lines()):
-                if i > 200:
-                    print("WARNING: K3D nr of line segments is limited to 200.")
-                    break
-                pts = ia.points()[ln_idx]
-                kobj = k3d.line(
-                    pts.astype(numpy.float32),
-                    color=_rgb2int(iap.GetColor()),
-                    opacity=iap.GetOpacity(),
-                    shader=settings.k3d_line_shader,
-                    # width=iap.GetLineWidth()*sqsize/1000,
-                    name=name,
-                )
-                vedo.notebook_plotter += kobj
     if plt and settings.backend_autoclose:
         plt.close()
     return vedo.notebook_plotter
 
 
 #####################################################################################
 def start_trame():
 
     try:
         from trame.app import get_server, jupyter
         from trame.ui.vuetify import VAppLayout
-        from trame.widgets import vtk, vuetify
+        from trame.widgets import vtk as t_vtk, vuetify
     except ImportError:
         print("trame is not installed, try:\n> pip install trame")
         return None
 
     plt = vedo.plotter_instance
     if hasattr(plt, "window") and plt.window:
         plt.renderer.ResetCamera()
@@ -294,15 +359,15 @@
 
         with VAppLayout(server) as layout:
 
             with layout.root:
 
                 with vuetify.VContainer(fluid=True, classes="pa-0 fill-height"):
                     plt.reset_camera()
-                    view = vtk.VtkLocalView(plt.window)
+                    view = t_vtk.VtkLocalView(plt.window)
                     ctrl.view_update = view.update
                     ctrl.view_reset_camera = view.reset_camera
 
         ctrl.on_server_exited.add(lambda **_: print("trame server exited"))
         vedo.notebook_plotter = jupyter.show(server)
         return vedo.notebook_plotter
     vedo.logger.error("No window present for the trame backend.")
@@ -317,18 +382,15 @@
         print("ipyvtklink is not installed, try:\n> pip install ipyvtklink")
         return None
 
     plt = vedo.plotter_instance
     if hasattr(plt, "window") and plt.window:
         plt.renderer.ResetCamera()
         vedo.notebook_plotter = ViewInteractiveWidget(
-            plt.window,
-            allow_wheel=True,
-            quality=100,
-            quick_quality=50,
+            plt.window, allow_wheel=True, quality=100, quick_quality=50
         )
         return vedo.notebook_plotter
     vedo.logger.error("No window present for the ipyvtklink backend.")
     return None
 
 
 #####################################################################################
```

### Comparing `vedo-2023.4.4/vedo/base.py` & `vedo-2023.4.5/vedo/base.py`

 * *Files 3% similar despite different names*

```diff
@@ -108,15 +108,15 @@
                         f" (first item must be a string in this case)\n"
                         f"  hint: use k = np.array(json.loads(k)) to convert strings\n"
                         f"- numpy arrays of any shape"
                     )
                     raise e
 
             data.AddArray(varr)
-            return ############
+            return  ############
 
         else:
             raise RuntimeError()
 
         if len(input_array) != n:
             vedo.logger.error(
                 f"Error in point/cell data: length of input {len(input_array)}"
@@ -138,78 +138,195 @@
 
     def keys(self):
         """Return the list of available data array names"""
         if self.association == 0:
             data = self.actor.inputdata().GetPointData()
         elif self.association == 1:
             data = self.actor.inputdata().GetCellData()
-        elif  self.association == 2:
+        elif self.association == 2:
             data = self.actor.inputdata().GetFieldData()
         arrnames = []
         for i in range(data.GetNumberOfArrays()):
             name = data.GetArray(i).GetName()
             if name:
                 arrnames.append(name)
         return arrnames
 
     def remove(self, key):
         """Remove a data array by name or number"""
         if self.association == 0:
             self.actor.inputdata().GetPointData().RemoveArray(key)
         elif self.association == 1:
             self.actor.inputdata().GetCellData().RemoveArray(key)
-        elif  self.association == 2:
+        elif self.association == 2:
             self.actor.inputdata().GetFieldData().RemoveArray(key)
 
+    def clear(self):
+        """Remove all data associated to this object"""
+        if self.association == 0:
+            data = self.actor.inputdata().GetPointData()
+        elif self.association == 1:
+            data = self.actor.inputdata().GetCellData()
+        elif self.association == 2:
+            data = self.actor.inputdata().GetFieldData()
+        for i in range(data.GetNumberOfArrays()):
+            name = data.GetArray(i).GetName()
+            data.RemoveArray(name)
+
     def rename(self, oldname, newname):
         """Rename an array"""
         if self.association == 0:
             varr = self.actor.inputdata().GetPointData().GetArray(oldname)
         elif self.association == 1:
             varr = self.actor.inputdata().GetCellData().GetArray(oldname)
         elif self.association == 2:
             varr = self.actor.inputdata().GetFieldData().GetArray(oldname)
         if varr:
             varr.SetName(newname)
         else:
-            vedo.logger.warning(
-                f"Cannot rename non existing array {oldname} to {newname}"
-            )
+            vedo.logger.warning(f"Cannot rename non existing array {oldname} to {newname}")
 
     def select(self, key):
         """Select one specific array by its name to make it the `active` one."""
         if self.association == 0:
             data = self.actor.inputdata().GetPointData()
             self.actor.mapper().SetScalarModeToUsePointData()
         else:
             data = self.actor.inputdata().GetCellData()
             self.actor.mapper().SetScalarModeToUseCellData()
 
         if isinstance(key, int):
             key = data.GetArrayName(key)
+
+        arr = data.GetArray(key)
+        if not arr:
+            return
+
+        nc = arr.GetNumberOfComponents()
+        if nc == 1:
+            data.SetActiveScalars(key)
+        elif nc >= 2:
+            if "rgb" in key.lower():
+                data.SetActiveScalars(key)
+                # try:
+                #     self.actor.mapper().SetColorModeToDirectScalars()
+                # except AttributeError:
+                #     pass
+            else:
+                data.SetActiveVectors(key)
+        elif nc >= 4:
+            data.SetActiveTensors(key)
+
+        try:
+            self.actor.mapper().SetArrayName(key)
+            self.actor.mapper().ScalarVisibilityOn()
+            # .. could be a volume mapper
+        except AttributeError:
+            pass
+
+    def select_scalars(self, key):
+        """Select one specific scalar array by its name to make it the `active` one."""
+        if self.association == 0:
+            data = self.actor.inputdata().GetPointData()
+            self.actor.mapper().SetScalarModeToUsePointData()
+        else:
+            data = self.actor.inputdata().GetCellData()
+            self.actor.mapper().SetScalarModeToUseCellData()
+
+        if isinstance(key, int):
+            key = data.GetArrayName(key)
+
         data.SetActiveScalars(key)
 
-        if hasattr(self.actor.mapper(), "SetArrayName"):
+        try:
             self.actor.mapper().SetArrayName(key)
+            self.actor.mapper().ScalarVisibilityOn()
+        except AttributeError:
+            pass
+
+    def select_vectors(self, key):
+        """Select one specific vector array by its name to make it the `active` one."""
+        if self.association == 0:
+            data = self.actor.inputdata().GetPointData()
+            self.actor.mapper().SetScalarModeToUsePointData()
+        else:
+            data = self.actor.inputdata().GetCellData()
+            self.actor.mapper().SetScalarModeToUseCellData()
 
-        if hasattr(self.actor.mapper(), "ScalarVisibilityOn"):  # could be volume mapper
+        if isinstance(key, int):
+            key = data.GetArrayName(key)
+
+        data.SetActiveVectors(key)
+
+        try:
+            self.actor.mapper().SetArrayName(key)
             self.actor.mapper().ScalarVisibilityOn()
+        except AttributeError:
+            pass
 
     def print(self, **kwargs):
         """Print the array names available to terminal"""
         colors.printc(self.keys(), **kwargs)
 
+    def __repr__(self) -> str:
+        """Representation"""
+
+        def _get_str(pd, header):
+            if pd.GetNumberOfArrays():
+                out = f"\x1b[2m\x1b[1m\x1b[7m{header}"
+                if self.actor.name:
+                    out += f" in {self.actor.name}"
+                out += f" contains {pd.GetNumberOfArrays()} array(s)\x1b[0m"
+                for i in range(pd.GetNumberOfArrays()):
+                    varr = pd.GetArray(i)
+                    out += f"\n\x1b[1m\x1b[4mArray name    : {varr.GetName()}\x1b[0m"
+                    out += "\nindex".ljust(15) + f": {i}"
+                    t = varr.GetDataType()
+                    if t in vedo.utils.array_types:
+                        out += f"\ntype".ljust(15)
+                        out += f": {vedo.utils.array_types[t][1]} ({vedo.utils.array_types[t][0]})"
+                    shape = (varr.GetNumberOfTuples(), varr.GetNumberOfComponents())
+                    out += "\nshape".ljust(15) + f": {shape}"
+                    out += "\nrange".ljust(15) + f": {np.array(varr.GetRange())}"
+                    out += "\nmax id".ljust(15) + f": {varr.GetMaxId()}"
+                    out += "\nlook up table".ljust(15) + f": {bool(varr.GetLookupTable())}"
+                    out += "\nin-memory size".ljust(15) + f": {varr.GetActualMemorySize()} KB"
+            else:
+                out += " has no associated data."
+            return out
+
+        if self.association == 0:
+            out = _get_str(self.actor._data.GetPointData(), "Point Data")
+        elif self.association == 1:
+            out = _get_str(self.actor._data.GetCellData(), "Cell Data")
+        elif self.association == 2:
+            pd = self.actor._data.GetFieldData()
+            if pd.GetNumberOfArrays():
+                out = f"\x1b[2m\x1b[1m\x1b[7mMeta Data"
+                if self.actor.name:
+                    out += f" in {self.actor.name}"
+                out += f" contains {pd.GetNumberOfArrays()} entries\x1b[0m"
+                for i in range(pd.GetNumberOfArrays()):
+                    varr = pd.GetAbstractArray(i)
+                    out += f"\n\x1b[1m\x1b[4mEntry name    : {varr.GetName()}\x1b[0m"
+                    out += "\nindex".ljust(15) + f": {i}"
+                    shape = (varr.GetNumberOfTuples(), varr.GetNumberOfComponents())
+                    out += "\nshape".ljust(15) + f": {shape}"
+
+        return out
+
 
 ###############################################################################
 class Base3DProp:
     """
     Base class to manage positioning and size of the objects in space and other properties.
 
-    .. warning:: Do not use this class to instanciate objects
+    .. warning:: Do not use this class to instantiate objects
     """
+
     def __init__(self):
         """
         Base class to manage positioning and size of the objects in space and other properties.
         """
         self.filename = ""
         self.name = ""
         self.file_size = ""
@@ -233,15 +350,14 @@
         self.point_locator = None
         self.cell_locator = None
 
         self.scalarbar = None
         # self.scalarbars = dict() #TODO
         self.pipeline = None
 
-
     def address(self):
         """
         Return a unique memory address integer which may serve as the ID of the
         object, or passed to c++ code.
         """
         # https://www.linkedin.com/pulse/speedup-your-code-accessing-python-vtk-objects-from-c-pletzer/
         # https://github.com/tfmoraes/polydata_connectivity
@@ -413,18 +529,20 @@
         self.cell_locator = None
         return self
 
     @deprecated(reason=vedo.colors.red + "Please use rotate_x()" + vedo.colors.reset)
     def rotateX(self, *a, **b):
         """Deprecated. Please use `rotate_x()`."""
         return self.rotate_x(*a, **b)
+
     @deprecated(reason=vedo.colors.red + "Please use rotate_y()" + vedo.colors.reset)
     def rotateY(self, *a, **b):
         """Deprecated. Please use `rotate_y()`."""
         return self.rotate_y(*a, **b)
+
     @deprecated(reason=vedo.colors.red + "Please use rotate_z()" + vedo.colors.reset)
     def rotateZ(self, *a, **b):
         """Deprecated. Please use `rotate_z()`."""
         return self.rotate_z(*a, **b)
 
     def rotate_x(self, angle, rad=False, around=None):
         """
@@ -454,15 +572,15 @@
         """
         Set/Get object orientation.
 
         Arguments:
             rotation : (float)
                 rotate object around newaxis.
             concatenate : (bool)
-                concatenate the orietation operation with the previous existing transform (if any)
+                concatenate the orientation operation with the previous existing transform (if any)
             xyplane : (bool)
                 make an extra rotation to keep the object aligned to the xy-plane
             rad : (bool)
                 set to True if angle is expressed in radians.
 
         Example:
             ```python
@@ -507,15 +625,15 @@
         T.Translate(-p)
         if rotation:
             if rad:
                 rotation *= 180.0 / np.pi
             T.RotateWXYZ(rotation, initaxis)
         if xyplane:
             angleph = np.arctan2(newaxis[1], newaxis[0])
-            T.RotateWXYZ(np.rad2deg(angleph + angleth), initaxis) # compensation
+            T.RotateWXYZ(np.rad2deg(angleph + angleth), initaxis)  # compensation
         T.RotateWXYZ(np.rad2deg(angleth), crossvec)
         T.Translate(p)
 
         self.SetOrientation(T.GetOrientation())
 
         self.point_locator = None
         self.cell_locator = None
@@ -531,15 +649,14 @@
         # if rotation:
         #     T.RotateWXYZ(rotation, initaxis)
         # T.RotateWXYZ(np.rad2deg(angle), crossvec)
         # T.Translate(pos)
         # self.SetUserTransform(T)
         # self.transform = T
 
-
     def scale(self, s=None, reset=False):
         """
         Set/get object's scaling factor.
 
         Arguments:
             s : (list, float)
                 scaling factor(s).
@@ -600,19 +717,18 @@
         T = self.GetMatrix()
         tr = vtk.vtkTransform()
         tr.SetMatrix(T)
         if invert:
             tr = tr.GetInverse()
         return tr
 
-
     @deprecated(reason=vedo.colors.red + "Please use apply_transform()" + vedo.colors.reset)
     def applyTransform(self, T, reset=False, concatenate=False):
         """Deprecated. Please use `apply_transform()`"""
-        return self.apply_transform(T,reset,concatenate)
+        return self.apply_transform(T, reset, concatenate)
 
     def apply_transform(self, T, reset=False, concatenate=False):
         """
         Transform object position and orientation.
 
         Arguments:
             reset : (bool)
@@ -698,15 +814,15 @@
             self.trail.VisibilityOn()
         except AttributeError:
             pass
         try:
             for sh in self.shadows:
                 sh.VisibilityOn()
         except AttributeError:
-            pass        
+            pass
         return self
 
     def off(self):
         """Switch off object visibility. Object is not removed."""
         self.VisibilityOff()
         try:
             self.scalarbar.VisibilityOff()
@@ -716,17 +832,17 @@
             self.trail.VisibilityOff()
         except AttributeError:
             pass
         try:
             for sh in self.shadows:
                 sh.VisibilityOff()
         except AttributeError:
-            pass        
+            pass
         return self
-    
+
     def toggle(self):
         """Toggle object visibility on/off."""
         v = self.GetVisibility()
         if v:
             self.off()
         else:
             self.on()
@@ -750,15 +866,15 @@
             padding = [padding, padding, padding]
         length, width, height = b[1] - b[0], b[3] - b[2], b[5] - b[4]
         tol = (length + width + height) / 30000  # useful for boxing 2D text
         pos = [(b[0] + b[1]) / 2, (b[3] + b[2]) / 2, (b[5] + b[4]) / 2 - tol]
         bx = vedo.shapes.Box(
             pos,
             length * scale + padding[0],
-            width  * scale + padding[1],
+            width * scale + padding[1],
             height * scale + padding[2],
             c="gray",
         )
         if hasattr(self, "GetProperty"):  # could be Assembly
             if isinstance(self.GetProperty(), vtk.vtkProperty):  # could be volume
                 pr = vtk.vtkProperty()
                 pr.DeepCopy(self.GetProperty())
@@ -781,15 +897,15 @@
         Get the object bounds.
         Returns a list in format `[xmin,xmax, ymin,ymax, zmin,zmax]`.
         """
         try:
             pts = self.points()
             xmin, ymin, zmin = np.min(pts, axis=0)
             xmax, ymax, zmax = np.max(pts, axis=0)
-            return [xmin,xmax, ymin,ymax, zmin,zmax]
+            return [xmin, xmax, ymin, ymax, zmin, zmax]
         except (AttributeError, ValueError):
             return self.GetBounds()
 
     def xbounds(self, i=None):
         """Get the bounds `[xmin,xmax]`. Can specify upper or lower with i (0,1)."""
         b = self.bounds()
         if i is not None:
@@ -804,16 +920,18 @@
         if i == 1:
             return b[3]
         return (b[2], b[3])
 
     def zbounds(self, i=None):
         """Get the bounds `[zmin,zmax]`. Can specify upper or lower with i (0,1)."""
         b = self.bounds()
-        if i == 0: return b[4]
-        if i == 1: return b[5]
+        if i == 0:
+            return b[4]
+        if i == 1:
+            return b[5]
         return (b[4], b[5])
 
     @deprecated(reason=vedo.colors.red + "Please use diagonal_size()" + vedo.colors.reset)
     def diagonalSize(self):
         """Deprecated. Please use `diagonal_size()`."""
         return self.diagonal_size()
 
@@ -822,20 +940,20 @@
         b = self.bounds()
         return np.sqrt((b[1] - b[0]) ** 2 + (b[3] - b[2]) ** 2 + (b[5] - b[4]) ** 2)
         # return self.GetLength() # ???different???
 
 
     def copy_data_from(self, obj):
         """Copy all data (point and cell data) from this input object"""
-        self._data.GetPointData().PassData(obj._data.GetPointData())
-        self._data.GetCellData().PassData(obj._data.GetCellData())
+        self.inputdata().GetPointData().PassData(obj.inputdata().GetPointData())
+        self.inputdata().GetCellData().PassData(obj.inputdata().GetCellData())
         self.pipeline = utils.OperationNode(
-            f"copy_data_from\n{obj.__class__.__name__}", 
+            f"copy_data_from\n{obj.__class__.__name__}",
             parents=[self, obj],
-            shape='note',
+            shape="note",
             c="#ccc5b9",
         )
         return self
 
     def print(self):
         """Print information about an object."""
         utils.print_info(self)
@@ -849,23 +967,15 @@
         This method is meant as a shortcut. If more than one object needs to be visualised
         please use the syntax `show(mesh1, mesh2, volume, ..., options)`.
 
         Returns the `Plotter` class instance.
         """
         return vedo.plotter.show(self, **options)
 
-    def thumbnail(
-            self, 
-            zoom=1.25,
-            size=(200, 200),
-            bg="white", 
-            azimuth=0, 
-            elevation=0, 
-            axes=False,
-        ):
+    def thumbnail(self, zoom=1.25, size=(200, 200), bg="white", azimuth=0, elevation=0, axes=False):
         """Build a thumbnail of the object and return it as an array."""
         # speed is about 20Hz for size=[200,200]
         ren = vtk.vtkRenderer()
         ren.AddActor(self)
         if axes:
             axes = vedo.addons.Axes(self)
             ren.AddActor(axes)
@@ -880,15 +990,15 @@
         ren_win.SetSize(size)
         ren.SetBackground(colors.get_color(bg))
         ren_win.AddRenderer(ren)
         ren_win.Render()
 
         nx, ny = ren_win.GetSize()
         arr = vtk.vtkUnsignedCharArray()
-        ren_win.GetRGBACharPixelData(0, 0, nx-1, ny-1, 0, arr)
+        ren_win.GetRGBACharPixelData(0, 0, nx - 1, ny - 1, 0, arr)
         narr = utils.vtk2numpy(arr).T[:3].T.reshape([ny, nx, 3])
         narr = np.ascontiguousarray(np.flip(narr, axis=0))
 
         ren.RemoveActor(self)
         if axes:
             ren.RemoveActor(axes)
         ren_win.Finalize()
@@ -897,16 +1007,17 @@
 
 
 ########################################################################################
 class BaseActor2D(vtk.vtkActor2D):
     """
     Base class.
 
-    .. warning:: Do not use this class to instanciate objects.
+    .. warning:: Do not use this class to instantiate objects.
     """
+
     def __init__(self):
         """Manage 2D objects."""
         super().__init__()
         self._mapper = None
         self.property = self.GetProperty()
         self.filename = ""
 
@@ -916,30 +1027,30 @@
             return self.GetLayerNumber()
         self.SetLayerNumber(value)
         return self
 
     def pos(self, px=None, py=None):
         """Set/Get the screen-coordinate position."""
         if isinstance(px, str):
-            vedo.logger.error("Use string descriptors only inside the contructor")
+            vedo.logger.error("Use string descriptors only inside the constructor")
             return self
         if px is None:
             return np.array(self.GetPosition(), dtype=int)
-        if  py is not None:
-            p = [px,py]
+        if py is not None:
+            p = [px, py]
         else:
             p = px
         assert len(p) == 2, "Error: len(pos) must be 2 for BaseActor2D"
         self.SetPosition(p)
         return self
 
     def coordinate_system(self, value=None):
         """
         Set/get the coordinate system which this coordinate is defined in.
-        
+
         The options are:
             0. Display
             1. Normalized Display
             2. Viewport
             3. Normalized Viewport
             4. View
             5. Pose
@@ -959,15 +1070,15 @@
     def off(self):
         """Set object visibility."""
         self.VisibilityOn()
         return self
 
     def toggle(self):
         """Toggle object visibility."""
-        self.SetVisibility(not(self.GetVisibility()))
+        self.SetVisibility(not self.GetVisibility())
         return self
 
     def pickable(self, value=True):
         self.SetPickable(value)
         return self
 
     def alpha(self, value=None):
@@ -978,44 +1089,44 @@
         return self
 
     def ps(self, point_size=None):
         if point_size is None:
             return self.GetProperty().GetPointSize()
         self.GetProperty().SetPointSize(point_size)
         return self
-    
+
     def ontop(self, value=True):
-        """Keep the object always on top of everithing else."""
+        """Keep the object always on top of everything else."""
         if value:
             self.GetProperty().SetDisplayLocationToForeground()
         else:
             self.GetProperty().SetDisplayLocationToBackground()
         return self
 
 
 ########################################################################################
 class BaseActor(Base3DProp):
     """
     Base class.
 
-    .. warning:: Do not use this class to instanciate objects, use one the above instead.
+    .. warning:: Do not use this class to instantiate objects, use one the above instead.
     """
+
     def __init__(self):
         """
         Base class to add operative and data
         functionality to `Mesh`, `Assembly`, `Volume` and `Picture` objects.
         """
-        
+
         super().__init__()
 
         self._mapper = None
         self._caption = None
         self.property = None
 
-
     def mapper(self, new_mapper=None):
         """Return the `vtkMapper` data object, or update it with a new one."""
         if new_mapper:
             self.SetMapper(new_mapper)
             if self._mapper:
                 iptdata = self._mapper.GetInput()
                 if iptdata:
@@ -1060,15 +1171,14 @@
         return self.inputdata().GetNumberOfPoints()
 
     @property
     def ncells(self):
         """Retrieve the number of cells."""
         return self.inputdata().GetNumberOfCells()
 
-
     def points(self, pts=None, transformed=True):
         """
         Set/Get the vertex coordinates of a mesh or point cloud.
         Argument can be an index, a set of indices
         or a complete new set of points to update the mesh.
 
         Set `transformed=False` to ignore any previous transformation applied to the mesh.
@@ -1136,21 +1246,23 @@
         data.BuildLinks()
         for cid in ids:
             data.DeleteCell(cid)
         data.RemoveDeletedCells()
         data.Modified()
         self._mapper.Modified()
         self.pipeline = utils.OperationNode(
-            "delete_cells", parents=[self],
-            comment=f"#cells {self._data.GetNumberOfCells()}",
+            "delete_cells", parents=[self], comment=f"#cells {self._data.GetNumberOfCells()}"
         )
         return self
 
     def mark_boundaries(self):
-        """Mark cells and vertices of the mesh if they lie on a boundary."""
+        """
+        Mark cells and vertices of the mesh if they lie on a boundary.
+        A new array called `BoundaryCells` is added to the mesh.
+        """
         mb = vtk.vtkMarkBoundaryFilter()
         mb.SetInputData(self._data)
         mb.Update()
         out = self._update(mb.GetOutput())
         out.pipeline = utils.OperationNode("mark_boundaries", parents=[self])
         return out
 
@@ -1259,17 +1371,15 @@
             elif style=='plastic' : pars = [0.3, 0.4, 0.3,  5, c]
             elif style=='shiny'   : pars = [0.2, 0.6, 0.8, 50, c]
             elif style=='glossy'  : pars = [0.1, 0.7, 0.9, 90, (1,1,0.99)]
             elif style=='ambient' : pars = [0.8, 0.1, 0.0,  1, (1,1,1)]
             elif style=='default' : pars = [0.1, 1.0, 0.05, 5, c]
             else:
                 vedo.logger.error("in lighting(): Available styles are")
-                vedo.logger.error(
-                    "[default, metallic, plastic, shiny, glossy, ambient, off]"
-                )
+                vedo.logger.error("[default, metallic, plastic, shiny, glossy, ambient, off]")
                 raise RuntimeError()
             pr.SetAmbient(pars[0])
             pr.SetDiffuse(pars[1])
             pr.SetSpecular(pars[2])
             pr.SetSpecularPower(pars[3])
             if hasattr(pr, "GetColor"):
                 pr.SetSpecularColor(pars[4])
@@ -1386,24 +1496,23 @@
 
             `myobj.metadata.select(name)` to make this array the active one
 
             `myobj.metadata.remove(name)` to remove this array
         """
         return _DataArrayHelper(self, 2)
 
-
     def map_cells_to_points(self, arrays=(), move=False):
         """
         Interpolate cell data (i.e., data specified per cell or face)
         into point data (i.e., data specified at each vertex).
         The method of transformation is based on averaging the data values
         of all cells using a particular point.
-        
+
         A custom list of arrays to be mapped can be passed in input.
- 
+
         Set `move=True` to delete the original `celldata` array.
         """
         c2p = vtk.vtkCellDataToPointData()
         c2p.SetInputData(self.inputdata())
         if not move:
             c2p.PassCellDataOn()
         if arrays:
@@ -1475,29 +1584,29 @@
         # print(m2.pointdata["xvalues"])
         show(m1, m2 , N=2, axes=1)
         ```
         """
         rs = vtk.vtkResampleWithDataSet()
         rs.SetInputData(self.inputdata())
         rs.SetSourceData(source.inputdata())
-        
+
         rs.SetPassPointArrays(True)
         rs.SetPassCellArrays(True)
         rs.SetPassFieldArrays(True)
         rs.SetCategoricalData(categorical)
 
         rs.SetComputeTolerance(True)
         if tol:
             rs.SetComputeTolerance(False)
             rs.SetTolerance(tol)
         rs.Update()
         self._update(rs.GetOutput())
         self.pipeline = utils.OperationNode(
-            f"resample_data_from\n{source.__class__.__name__}",
-            parents=[self, source])
+            f"resample_data_from\n{source.__class__.__name__}", parents=[self, source]
+        )
         return self
 
     def add_ids(self):
         """Generate point and cell ids arrays."""
         ids = vtk.vtkIdFilter()
         ids.SetInputData(self.inputdata())
         ids.PointIdsOn()
@@ -1591,18 +1700,18 @@
         div.SetInputScalars(tp, array_name)
         div.ComputeDivergenceOn()
         div.ComputeGradientOff()
         div.ComputeVorticityOff()
         div.SetDivergenceArrayName("Divergence")
         div.SetFasterApproximation(fast)
         div.Update()
-        if on.startswith('p'):
-            dvecs = utils.vtk2numpy(div.GetOutput().GetPointData().GetArray('Divergence'))
+        if on.startswith("p"):
+            dvecs = utils.vtk2numpy(div.GetOutput().GetPointData().GetArray("Divergence"))
         else:
-            dvecs = utils.vtk2numpy(div.GetOutput().GetCellData().GetArray('Divergence'))
+            dvecs = utils.vtk2numpy(div.GetOutput().GetCellData().GetArray("Divergence"))
         return dvecs
 
     def vorticity(self, array_name=None, on="points", fast=False):
         """
         Compute and return the vorticity of a vector field as a numpy array.
 
         Arguments:
@@ -1634,39 +1743,38 @@
         vort.SetInputScalars(tp, array_name)
         vort.ComputeDivergenceOff()
         vort.ComputeGradientOff()
         vort.ComputeVorticityOn()
         vort.SetVorticityArrayName("Vorticity")
         vort.SetFasterApproximation(fast)
         vort.Update()
-        if on.startswith('p'):
-            vvecs = utils.vtk2numpy(vort.GetOutput().GetPointData().GetArray('Vorticity'))
+        if on.startswith("p"):
+            vvecs = utils.vtk2numpy(vort.GetOutput().GetPointData().GetArray("Vorticity"))
         else:
-            vvecs = utils.vtk2numpy(vort.GetOutput().GetCellData().GetArray('Vorticity'))
+            vvecs = utils.vtk2numpy(vort.GetOutput().GetCellData().GetArray("Vorticity"))
         return vvecs
 
-
     @deprecated(reason=vedo.colors.red + "Please use method add_scalarbar()" + vedo.colors.reset)
     def addScalarBar(self, *a, **b):
         """Deprecated. Please use method `add_scalarbar()`"""
         return self.add_scalarbar(*a, **b)
 
     def add_scalarbar(
-            self,
-            title="",
-            pos=(0.8,0.05),
-            title_yoffset=15,
-            font_size=12,
-            size=(None,None),
-            nlabels=None,
-            c=None,
-            horizontal=False,
-            use_alpha=True,
-            label_format=':6.3g',
-        ):
+        self,
+        title="",
+        pos=(0.8, 0.05),
+        title_yoffset=15,
+        font_size=12,
+        size=(None, None),
+        nlabels=None,
+        c=None,
+        horizontal=False,
+        use_alpha=True,
+        label_format=":6.3g",
+    ):
         """
         Add a 2D scalar bar for the specified obj.
 
         Examples:
             - [mesh_coloring.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/mesh_coloring.py)
             - [scalarbars.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/scalarbars.py)
         """
@@ -1705,15 +1813,15 @@
         """Deprecated. Please use method `add_scalarbar3d()`"""
         return self.add_scalarbar3d(*a, **b)
 
     def add_scalarbar3d(
         self,
         title="",
         pos=None,
-        s=(None, None),
+        size=(None, None),
         title_font="",
         title_xoffset=-1.5,
         title_yoffset=0.0,
         title_size=1.5,
         title_rotation=0.0,
         nlabels=9,
         label_font="",
@@ -1730,15 +1838,15 @@
         categories=None,
     ):
         """
         Associate a 3D scalar bar to the object and add it to the scene.
         The new scalarbar object (Assembly) will be accessible as obj.scalarbar
 
         Arguments:
-            s : (list)
+            size : (list)
                 (thickness, length) of scalarbar
             title : (str)
                 scalar bar title
             title_xoffset : (float)
                 horizontal space btw title and color scalarbar
             title_yoffset : (float)
                 vertical space offset
@@ -1776,15 +1884,15 @@
             c = (0, 0, 0)
         c = vedo.get_color(c)
 
         self.scalarbar = vedo.addons.ScalarBar3D(
             self,
             title,
             pos,
-            s,
+            size,
             title_font,
             title_xoffset,
             title_yoffset,
             title_size,
             title_rotation,
             nlabels,
             label_font,
@@ -1801,40 +1909,38 @@
             categories,
         )
         return self
 
     ###################################################################################
     def write(self, filename, binary=True):
         """Write object to file."""
-        out = vedo.io.write(self, filename, binary)
+        out = vedo.file_io.write(self, filename, binary)
         out.pipeline = utils.OperationNode(
-            "write", parents=[self],
-            comment=filename[:15],
-            shape="folder",
-            c="#8a817c",
+            "write", parents=[self], comment=filename[:15], shape="folder", c="#8a817c"
         )
         return out
 
 
 ########################################################################################
 class BaseGrid(BaseActor):
     """
     Base class for grid datasets.
 
-    .. warning:: Do not use this class to instanciate objects.
+    .. warning:: Do not use this class to instantiate objects.
     """
+
     def __init__(self):
         """Base class for grid datasets."""
 
         super().__init__()
 
         self._data = None
         self.useCells = True
         self._color = None
-        self._alpha = [0,1]
+        self._alpha = [0, 1]
 
         # -----------------------------------------------------------
 
     def _update(self, data):
         self._data = data
         self._mapper.SetInputData(self.tomesh().polydata())
         self._mapper.Modified()
@@ -1878,19 +1984,17 @@
         lut = utils.ctf2lut(self)
         if lut:
             msh.mapper().SetLookupTable(lut)
         if self.useCells:
             msh.mapper().SetScalarModeToUseCellData()
         else:
             msh.mapper().SetScalarModeToUsePointData()
-        
+
         msh.pipeline = utils.OperationNode(
-            "tomesh", parents=[self], 
-            comment=f"fill={fill}",
-            c="#9e2a2b:#e9c46a",
+            "tomesh", parents=[self], comment=f"fill={fill}", c="#9e2a2b:#e9c46a"
         )
         return msh
 
     def cells(self):
         """
         Get the cells connectivity ids as a numpy array.
 
@@ -2003,15 +2107,15 @@
             _, vmax = self._data.GetScalarRange()
         otf = self.GetProperty().GetScalarOpacity()
         otf.RemoveAllPoints()
         self._alpha = alpha
 
         if utils.is_sequence(alpha):
             alpha = np.array(alpha)
-            if len(alpha.shape)==1: # user passing a flat list e.g. (0.0, 0.3, 0.9, 1)
+            if len(alpha.shape) == 1:  # user passing a flat list e.g. (0.0, 0.3, 0.9, 1)
                 for i, al in enumerate(alpha):
                     xalpha = vmin + (vmax - vmin) * i / (len(alpha) - 1)
                     # Create transfer mapping scalar value to opacity
                     otf.AddPoint(xalpha, al)
                     # colors.printc("alpha at", round(xalpha, 1), "\tset to", al)
             elif len(alpha.shape) == 2:  # user passing [(x0,alpha0), ...]
                 otf.AddPoint(vmin, alpha[0][1])
@@ -2041,24 +2145,25 @@
             return self.GetProperty().GetScalarOpacityUnitDistance()
         self.GetProperty().SetScalarOpacityUnitDistance(u)
         return self
 
     def shrink(self, fraction=0.8):
         """
         Shrink the individual cells to improve visibility.
-        
+
         ![](https://vedo.embl.es/images/feats/shrink_hex.png)
         """
         sf = vtk.vtkShrinkFilter()
         sf.SetInputData(self.inputdata())
         sf.SetShrinkFactor(fraction)
         sf.Update()
         self._update(sf.GetOutput())
         self.pipeline = utils.OperationNode(
-            "shrink", comment=f"by {fraction}", parents=[self], c='#9e2a2b')
+            "shrink", comment=f"by {fraction}", parents=[self], c="#9e2a2b"
+        )
         return self
 
     def isosurface(self, value=None, flying_edges=True):
         """
         Return an `Mesh` isosurface extracted from the `Volume` object.
 
         Set `value` as single float or list of values to draw the isosurface(s).
@@ -2094,24 +2199,23 @@
         cf.Update()
         poly = cf.GetOutput()
 
         out = vedo.mesh.Mesh(poly, c=None).phong()
         out.mapper().SetScalarRange(scrange[0], scrange[1])
 
         out.pipeline = utils.OperationNode(
-            "isosurface", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+            "isosurface",
+            parents=[self],
+            comment=f"#pts {out.inputdata().GetNumberOfPoints()}",
             c="#4cc9f0:#e9c46a",
         )
         return out
 
     def legosurface(
-        self, vmin=None, vmax=None, 
-        invert=False, boundary=False,
-        array_name='input_scalars',
+        self, vmin=None, vmax=None, invert=False, boundary=False, array_name="input_scalars"
     ):
         """
         Represent an object - typically a `Volume` - as lego blocks (voxels).
         By default colors correspond to the volume's scalar.
         Returns an `Mesh` object.
 
         Arguments:
@@ -2156,17 +2260,15 @@
         gf.Update()
 
         m = vedo.mesh.Mesh(gf.GetOutput()).lw(0.1).flat()
         m.map_points_to_cells()
         m.celldata.select(array_name)
 
         m.pipeline = utils.OperationNode(
-            "legosurface", parents=[self], 
-            comment=f"array: {array_name}",
-            c="#4cc9f0:#e9c46a",
+            "legosurface", parents=[self], comment=f"array: {array_name}", c="#4cc9f0:#e9c46a"
         )
         return m
 
     @deprecated(reason=vedo.colors.red + "Please use cut_with_plane()" + vedo.colors.reset)
     def cutWithPlane(self, origin=(0, 0, 0), normal=(1, 0, 0)):
         """Deprecated. Please use cut_with_plane()"""
         return self.cut_with_plane(origin, normal)
@@ -2196,16 +2298,15 @@
         clipper.SetClipFunction(plane)
         clipper.GenerateClipScalarsOff()
         clipper.GenerateClippedOutputOff()
         clipper.SetValue(0)
         clipper.Update()
         cout = clipper.GetOutput()
         self._update(cout)
-        self.pipeline = utils.OperationNode(
-            "cut_with_plane", parents=[self], c='#9e2a2b')
+        self.pipeline = utils.OperationNode("cut_with_plane", parents=[self], c="#9e2a2b")
         return self
 
     def cut_with_box(self, box):
         """
         Cut the grid with the specified bounding box.
 
         Parameter box has format [xmin, xmax, ymin, ymax, zmin, zmax].
@@ -2226,16 +2327,15 @@
         if isinstance(box, vtk.vtkProp):
             boxb = box.GetBounds()
         else:
             boxb = box
         bc.SetBoxClip(*boxb)
         bc.Update()
         self._update(bc.GetOutput())
-        self.pipeline = utils.OperationNode(
-            "cut_with_box", parents=[self, box], c='#9e2a2b')
+        self.pipeline = utils.OperationNode("cut_with_box", parents=[self, box], c="#9e2a2b")
         return self
 
     def cut_with_mesh(self, mesh, invert=False, whole_cells=False, only_boundary=False):
         """
         Cut a UGrid, TetMesh or Volume with a Mesh.
 
         Use `invert` to return cut off part of the input object.
@@ -2278,16 +2378,15 @@
             if scalname:  # not working
                 if self.useCells:
                     self.celldata.select(scalname)
                 else:
                     self.pointdata.select(scalname)
 
         self._update(cug)
-        self.pipeline = utils.OperationNode(
-            "cut_with_mesh", parents=[self, mesh], c='#9e2a2b')
+        self.pipeline = utils.OperationNode("cut_with_mesh", parents=[self, mesh], c="#9e2a2b")
         return self
 
     def extract_cells_on_plane(self, origin, normal):
         """
         Extract cells that are lying of the specified surface.
         """
         bf = vtk.vtk3DLinearGridCrinkleExtractor()
@@ -2300,16 +2399,18 @@
         plane.SetOrigin(origin)
         plane.SetNormal(normal)
         bf.SetImplicitFunction(plane)
         bf.Update()
 
         self._update(bf.GetOutput())
         self.pipeline = utils.OperationNode(
-            "extract_cells_on_plane", parents=[self],
-            comment=f"#cells {self._data.GetNumberOfCells()}", c='#9e2a2b',
+            "extract_cells_on_plane",
+            parents=[self],
+            comment=f"#cells {self._data.GetNumberOfCells()}",
+            c="#9e2a2b",
         )
         return self
 
     def extract_cells_on_sphere(self, center, radius):
         """
         Extract cells that are lying of the specified surface.
         """
@@ -2323,16 +2424,18 @@
         sph.SetRadius(radius)
         sph.SetCenter(center)
         bf.SetImplicitFunction(sph)
         bf.Update()
 
         self._update(bf.GetOutput())
         self.pipeline = utils.OperationNode(
-            "extract_cells_on_sphere", parents=[self],
-            comment=f"#cells {self._data.GetNumberOfCells()}", c='#9e2a2b',
+            "extract_cells_on_sphere",
+            parents=[self],
+            comment=f"#cells {self._data.GetNumberOfCells()}",
+            c="#9e2a2b",
         )
         return self
 
     def extract_cells_on_cylinder(self, center, axis, radius):
         """
         Extract cells that are lying of the specified surface.
         """
@@ -2346,52 +2449,50 @@
         cyl.SetRadius(radius)
         cyl.SetCenter(center)
         cyl.SetAxis(axis)
         bf.SetImplicitFunction(cyl)
         bf.Update()
 
         self.pipeline = utils.OperationNode(
-            "extract_cells_on_cylinder", parents=[self],
-            comment=f"#cells {self._data.GetNumberOfCells()}", c='#9e2a2b',
+            "extract_cells_on_cylinder",
+            parents=[self],
+            comment=f"#cells {self._data.GetNumberOfCells()}",
+            c="#9e2a2b",
         )
         self._update(bf.GetOutput())
         return self
 
     def clean(self):
         """
         Cleanup unused points and empty cells
         """
         cl = vtk.vtkStaticCleanUnstructuredGrid()
         cl.SetInputData(self._data)
         cl.RemoveUnusedPointsOn()
         cl.ProduceMergeMapOff()
         cl.AveragePointDataOff()
         cl.Update()
-        
+
         self._update(cl.GetOutput())
         self.pipeline = utils.OperationNode(
-            "clean", parents=[self],
-            comment=f"#cells {self._data.GetNumberOfCells()}",
-            c='#9e2a2b',
+            "clean", parents=[self], comment=f"#cells {self._data.GetNumberOfCells()}", c="#9e2a2b"
         )
         return self
 
-
     def find_cell(self, p):
         """Locate the cell that contains a point and return the cell ID."""
         cell = vtk.vtkTetra()
         cellId = vtk.mutable(0)
         tol2 = vtk.mutable(0)
         subId = vtk.mutable(0)
-        pcoords = [0,0,0]
-        weights = [0,0,0]
+        pcoords = [0, 0, 0]
+        weights = [0, 0, 0]
         cid = self._data.FindCell(p, cell, cellId, tol2, subId, pcoords, weights)
         return cid
 
-
     def extract_cells_by_id(self, idlist, use_point_ids=False):
         """Return a new UGrid composed of the specified subset of indices."""
         selectionNode = vtk.vtkSelectionNode()
         if use_point_ids:
             selectionNode.SetFieldType(vtk.vtkSelectionNode.POINT)
             contcells = vtk.vtkSelectionNode.CONTAINING_CELLS()
             selectionNode.GetProperties().Set(contcells, 1)
@@ -2416,15 +2517,16 @@
         # assign the same transformation to the copy
         ug.SetOrigin(self.GetOrigin())
         ug.SetScale(self.GetScale())
         ug.SetOrientation(self.GetOrientation())
         ug.SetPosition(self.GetPosition())
         ug.mapper().SetLookupTable(utils.ctf2lut(self))
         ug.pipeline = utils.OperationNode(
-            "extract_cells_by_id", parents=[self],
+            "extract_cells_by_id",
+            parents=[self],
             comment=f"#cells {self._data.GetNumberOfCells()}",
             c="#9e2a2b",
         )
         return ug
 
 
 ############################################################################### funcs
@@ -2489,15 +2591,15 @@
 
     Use `res` to set the nr of points along the line
 
     Examples:
         - [probe_line1.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/probe_line1.py)
         - [probe_line2.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/probe_line2.py)
 
-            ![](https://vedo.embl.es/images/volumetric/probeLine2.png) 
+            ![](https://vedo.embl.es/images/volumetric/probeLine2.png)
     """
     line = vtk.vtkLineSource()
     line.SetResolution(res)
     line.SetPoint1(p1)
     line.SetPoint2(p2)
     img = _getinput(dataset)
     probeFilter = vtk.vtkProbeFilter()
@@ -2513,16 +2615,16 @@
 
 def probe_plane(dataset, origin=(0, 0, 0), normal=(1, 0, 0)):
     """
     Takes a `Volume` (or any other vtk data set)
     and probes its scalars on a plane defined by a point and a normal.
 
     Examples:
-        - [slicePlane1.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slicePlane1.py)
-        - [slicePlane2.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slicePlane2.py)
+        - [slice_plane1.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slice_plane1.py)
+        - [slice_plane2.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slice_plane2.py)
 
             ![](https://vedo.embl.es/images/volumetric/slicePlane2.png)
     """
     img = _getinput(dataset)
     plane = vtk.vtkPlane()
     plane.SetOrigin(origin)
     plane.SetNormal(normal)
@@ -2531,8 +2633,7 @@
     planeCut.SetCutFunction(plane)
     planeCut.Update()
     poly = planeCut.GetOutput()
     cutmesh = vedo.mesh.Mesh(poly)
     cutmesh.name = "ProbePlane"
     cutmesh.pipeline = utils.OperationNode("probe_plane", parents=[dataset])
     return cutmesh
-
```

### Comparing `vedo-2023.4.4/vedo/cli.py` & `vedo-2023.4.5/vedo/cli.py`

 * *Files 5% similar despite different names*

```diff
@@ -33,15 +33,15 @@
     import vtkmodules.all as vtk
 
 import vedo
 from vedo.utils import humansort
 from vedo.utils import is_sequence
 from vedo.utils import print_info
 from vedo import __version__
-from vedo import io
+from vedo import file_io
 from vedo import load
 from vedo import settings
 from vedo.colors import get_color, printc
 from vedo.mesh import Mesh
 from vedo.picture import Picture
 from vedo.plotter import Plotter
 from vedo.tetmesh import TetMesh
@@ -82,15 +82,18 @@
         exe_convert(args)
 
     elif args.eog:
         exe_eog(args)
 
     elif len(args.files) == 0:
         system_info()
-        printc("No input files. Try:\n> vedo https://vedo.embl.es/examples/data/panther.stl.gz", c="y")
+        printc(
+            ":idea: No input files. Try:\n> vedo https://vedo.embl.es/examples/data/panther.stl.gz",
+            c="y",
+        )
 
     else:
         draw_scene(args)
 
 
 ##############################################################################################
 def get_parser():
@@ -179,33 +182,25 @@
     try:
         from screeninfo import get_monitors
 
         for m in get_monitors():
             pr = "         "
             if m.is_primary:
                 pr = "(primary)"
-            printc(
-                f"monitor {pr} : {m.name}, resolution=({m.width}, {m.height}), x={m.x}, y={m.y}"
-            )
+            printc(f"monitor {pr} : {m.name}, resolution=({m.width}, {m.height}), x={m.x}, y={m.y}")
     except ModuleNotFoundError:
         printc('monitor           : info is unavailable. Try "pip install screeninfo".')
 
     try:
         import k3d
 
         printc("k3d version       :", k3d.__version__, bold=0, dim=1)
     except ModuleNotFoundError:
         pass
 
-    try:
-        import ipyvtk_simple
-
-        printc("ipyvtk version    :", ipyvtk_simple.__version__, bold=0, dim=1)
-    except ModuleNotFoundError:
-        pass
     # try:
     #     import trame
     #     printc("trame version     :", trame.__version__, bold=0, dim=1)
     # except ModuleNotFoundError:
     #     pass
 
 
@@ -213,38 +208,43 @@
 def exe_run(args):
     expath = os.path.join(vedo.installdir, "examples", "**", "*.py")
     exfiles = list(glob.glob(expath, recursive=True))
     f2search = os.path.basename(args.run).lower()
     matching = [
         s
         for s in exfiles
-        if (f2search in os.path.basename(s).lower() 
-            and "__" not in s and "dolfin" not in s and "trimesh" not in s
+        if (
+            f2search in os.path.basename(s).lower()
+            and "__" not in s
+            and "dolfin" not in s
+            and "trimesh" not in s
         )
     ]
     matching = list(sorted(matching))
     nmat = len(matching)
     if nmat == 0:
-        printc("No matching example found containing string:", args.run, c=1)
+        printc(f":sad: No matching example found containing string: {args.run}", c=1)
         printc(" Current installation directory is:", vedo.installdir, c=1)
         sys.exit(1)
 
     if nmat > 1:
-        printc("\nSelect one of", nmat, "matching scripts:", c="y", italic=1)
+        printc(f"\n:target: Found {nmat} matching scripts:", c="y", italic=1)
         args.full_screen = True  # to print out the one line description
 
     if args.full_screen:  # -f option not to dump the full code but just the first line
         for mat in matching[:25]:
             printc(os.path.basename(mat).replace(".py", ""), c="y", italic=1, end=" ")
-            with open(mat, 'r', encoding='UTF-8') as fm:
-                lline = ''.join(fm.readlines(60))
-                lline = lline.replace('\n',' ').replace('\'','').replace('\"','').replace('-','')
-                line = lline[:56] #cut
-                if line.startswith('from'): line=''
-                if line.startswith('import'): line=''
+            with open(mat, "r", encoding="UTF-8") as fm:
+                lline = "".join(fm.readlines(60))
+                lline = lline.replace("\n", " ").replace("'", "").replace('"', "").replace("-", "")
+                line = lline[:56]  # cut
+                if line.startswith("from"):
+                    line = ""
+                if line.startswith("import"):
+                    line = ""
                 if len(lline) > len(line):
                     line += ".."
                 if len(line) > 5:
                     printc("-", line, c="y", bold=0, italic=1)
                 else:
                     print()
 
@@ -296,15 +296,15 @@
     nfiles = len(args.convert)
     if nfiles == 0:
         sys.exit()
 
     target_ext = args.to.lower()
 
     if target_ext not in allowedexts:
-        printc("Sorry target cannot be", target_ext, "\nMust be", allowedexts, c=1)
+        printc(f":sad: Sorry target cannot be {target_ext}\nMust be {allowedexts}", c=1)
         sys.exit()
 
     for f in args.convert:
         source_ext = f.split(".")[-1]
 
         if target_ext == source_ext:
             continue
@@ -335,21 +335,33 @@
                     else:
                         bline = line
                     if pattern in bline:
                         if fflag:
                             name = os.path.basename(ifile)
                             try:
                                 etype = ifile.split("/")[-2]
-                                printc("--> examples/"+etype+"/"+name+":", c='y', italic=1, invert=1)
+                                printc(
+                                    "--> examples/" + etype + "/" + name + ":",
+                                    c="y",
+                                    italic=1,
+                                    invert=1,
+                                )
                             except IndexError:
                                 etype = ifile.split("\\")[-2]
-                                printc("--> examples\\"+etype+"\\"+name+":", c='y', italic=1, invert=1)
+                                printc(
+                                    "--> examples\\" + etype + "\\" + name + ":",
+                                    c="y",
+                                    italic=1,
+                                    invert=1,
+                                )
                             fflag = False
-                        line = line.replace(pattern, "\x1b[4m\x1b[1m"+pattern+"\x1b[0m\u001b[33m")
-                        print(f"\u001b[33m{i}\t{line}\x1b[0m", end='')
+                        line = line.replace(
+                            pattern, "\x1b[4m\x1b[1m" + pattern + "\x1b[0m\u001b[33m"
+                        )
+                        print(f"\u001b[33m{i}\t{line}\x1b[0m", end="")
                         # printc(i, line, c='o', bold=False, end='')
     else:
         printc("Please use at least 4 letters in keyword search!", c="r")
 
 
 ##############################################################################################
 def exe_search_code(args):
@@ -404,32 +416,28 @@
 
                 sname = inspect.getmodule(mm).__name__ + " -> " + name
                 if sname in snames:
                     continue
                 snames.append(sname)
 
                 printc(
-                    "Found matching",
+                    ":checked:Found matching",
                     mm,
                     "in module",
                     os.path.basename(inspect.getfile(mm)),
                     c="y",
                     invert=True,
                 )
                 mmdoc = mmdoc.replace("``", '"').replace("`", '"')
                 mmdoc = mmdoc.replace(".. warning::", "Warning!")
-                result = highlight(
-                    mmdoc,
-                    Python3Lexer(),
-                    Terminal256Formatter(style=style),
-                )
+                result = highlight(mmdoc, Python3Lexer(), Terminal256Formatter(style=style))
                 idcomment = result.rfind('"""')
                 print(result[: idcomment + 3], "\x1b[0m\n")
 
-    printc("..parsing source code, please wait", c="y", bold=False)
+    # printc("..parsing source code, please wait", c="y", bold=False)
     content = inspect.getmembers(vedo)
     snames = []
     for name, m in content:
         if name.startswith("_"):
             continue
         if not inspect.isclass(m) and not inspect.isfunction(m):
             continue
@@ -473,15 +481,15 @@
                 raise RuntimeError(f"Failed to download {dl_url}. {e.reason}")
         return path
 
     def get_examples(d, vtk_class, lang):
         try:
             kv = d[vtk_class][lang].items()
         except KeyError as e:
-            print(f'For the combination {vtk_class} and {lang}, this key does not exist: {e}')
+            print(f"For the combination {vtk_class} and {lang}, this key does not exist: {e}")
             return None, None
         total = len(kv)
         samples = list(kv)
         return total, [f"{s[1]}" for s in samples]
 
     vtk_class, language, all_values, number = args.search_vtk, "Python", True, 10000
     tmp_dir = tempfile.gettempdir()
@@ -564,16 +572,16 @@
                 p.enhance()
             elif event.keypress == "s":
                 p.smooth(sigma=1)
             elif event.keypress == "S":
                 ahl = plt.hover_legends[-1]
                 plt.remove(ahl)
                 plt.screenshot()  # writer
-                printc("Picture saved as screenshot.png")
-                plt.add(ahl, render=False)
+                printc(":camera: Picture saved as screenshot.png")
+                plt.add(ahl)
                 return
             elif event.keypress == "h":
                 printc("---------------------------------------------")
                 printc("Press:")
                 printc("  up/down     to modify level (or drag mouse)")
                 printc("  left/right  to modify window")
                 printc("  m           to mirror image horizontally")
@@ -631,17 +639,15 @@
             shape[1] = shape[1] / shape[0] * 1500
             shape[0] = 1500
 
         if shape[1] > 1200:
             shape[0] = shape[0] / shape[1] * 1200
             shape[1] = 1200
 
-        plt = Plotter(
-            title=files[0], size=shape, bg=args.background, bg2=args.background_grad
-        )
+        plt = Plotter(title=files[0], size=shape, bg=args.background, bg2=args.background_grad)
         plt.add_callback("key press", vfunc)
         plt.add_hover_legend(c="k8", bg="k2", alpha=0.4)
         plt.show(pic, mode="image", interactive=False)
         plt.reset_camera(tight=0.0)
         plt.interactor.Start()
         if vedo.vtk_version == (9, 2, 2):
             plt.interactor.GetRenderWindow().SetDisplayId("_0_p_void")
@@ -677,57 +683,59 @@
         applications.Browser(frames).show(bg=args.background, bg2=args.background_grad)
         return  ##########################################################
 
     if args.scrolling_mode:
         args.multirenderer_mode = False
     settings.default_font = args.font
 
+    sharecam = args.no_camera_share
+
     N = None
     if args.multirenderer_mode:
         if nfiles < 201:
             N = nfiles
         if nfiles > 200:
-            printc("Warning: option '-n' allows a maximum of 200 files", c=1)
+            printc(":lightning: Warning: option '-n' allows a maximum of 200 files", c=1)
             printc("         you are trying to load ", nfiles, " files.\n", c=1)
             N = 200
         if N > 4:
             settings.use_depth_peeling = False
 
-        plt = Plotter(size=wsize, N=N, bg=args.background, bg2=args.background_grad)
+        plt = Plotter(size=wsize, N=N, 
+                      bg=args.background, bg2=args.background_grad,
+                      sharecam=sharecam)
         settings.immediate_rendering = False
         plt.axes = args.axes_type
         for i in range(N):
             plt.add_hover_legend(at=i)
         if args.axes_type in (4, 5):
             plt.axes = 0
     else:
         N = nfiles
         plt = Plotter(size=wsize, bg=args.background, bg2=args.background_grad)
         plt.axes = args.axes_type
         plt.add_hover_legend()
 
-    plt.sharecam = not args.no_camera_share
-
     wire = False
     if args.wireframe:
         wire = True
 
     ##########################################################
     # special case of SLC/TIFF volumes with -g option
     if args.ray_cast_mode:
         # print('DEBUG special case of SLC/TIFF volumes with -g option')
 
-        vol = io.load(args.files[0], force=args.reload)
+        vol = file_io.load(args.files[0], force=args.reload)
 
         if not isinstance(vol, Volume):
             vedo.logger.error(f"expected a Volume but loaded a {type(vol)} object")
             return
 
         sp = vol.spacing()
-        vol.spacing([sp[0]*args.x_spacing, sp[1]*args.y_spacing, sp[2]*args.z_spacing])
+        vol.spacing([sp[0] * args.x_spacing, sp[1] * args.y_spacing, sp[2] * args.z_spacing])
         vol.mode(int(args.mode)).color(args.cmap).jittering(True)
         vol.lighting(args.lighting)
         plt = applications.RayCastPlotter(vol)
         plt.show(viewup="z", interactive=True).close()
         return
 
     ##########################################################
@@ -738,20 +746,18 @@
         useSlider3D = False
         if args.axes_type == 4:
             args.axes_type = 1
         elif args.axes_type == 3:
             args.axes_type = 1
             useSlider3D = True
 
-        vol = io.load(args.files[0], force=args.reload)
+        vol = file_io.load(args.files[0], force=args.reload)
 
         sp = vol.spacing()
-        vol.spacing(
-            [sp[0] * args.x_spacing, sp[1] * args.y_spacing, sp[2] * args.z_spacing]
-        )
+        vol.spacing([sp[0] * args.x_spacing, sp[1] * args.y_spacing, sp[2] * args.z_spacing])
 
         vedo.plotter_instance = None  # reset
 
         plt = applications.Slicer3DPlotter(
             vol,
             bg="white",
             bg2="lb",
@@ -769,33 +775,35 @@
         # print('edit mode for meshes and pointclouds')
         vedo.plotter_instance = None  # reset
         settings.use_parallel_projection = True
 
         try:
             m = Mesh(args.files[0], alpha=args.alpha / 2, c=args.color)
         except AttributeError:
-            vedo.logger.critical("In edit mode, input file must be a point cloud or polygonal mesh.")
+            vedo.logger.critical(
+                "In edit mode, input file must be a point cloud or polygonal mesh."
+            )
             return
 
         plt = applications.FreeHandCutPlotter(m, splined=True)
         plt.add_hover_legend()
         if not args.background_grad:
             args.background_grad = None
         plt.start(axes=1, bg=args.background, bg2=args.background_grad)
 
     ########################################################################
     elif args.slicer2d:
         # print('DEBUG special case of SLC/TIFF/DICOM volumes with --slicer2d option')
-        vol = io.load(args.files[0], force=args.reload)
+        vol = file_io.load(args.files[0], force=args.reload)
         if not vol:
             return
         vol.cmap("bone_r")
         sp = vol.spacing()
-        vol.spacing([sp[0]*args.x_spacing, sp[1]*args.y_spacing, sp[2]*args.z_spacing])
-        vedo.plotter_instance = None # reset
+        vol.spacing([sp[0] * args.x_spacing, sp[1] * args.y_spacing, sp[2] * args.z_spacing])
+        vedo.plotter_instance = None  # reset
 
         plt = applications.Slicer2DPlotter(vol, axes=7)
         plt.close()
         return
 
     ########################################################################
     # normal mode for single VOXEL file with Isosurface Slider mode
@@ -804,27 +812,24 @@
         or ".vti" in args.files[0].lower()
         or ".tif" in args.files[0].lower()
         or ".mhd" in args.files[0].lower()
         or ".nrrd" in args.files[0].lower()
         or ".dem" in args.files[0].lower()
     ):
         # print('DEBUG normal mode for single VOXEL file with Isosurface Slider mode')
-        vol = io.load(args.files[0], force=args.reload)
+        vol = file_io.load(args.files[0], force=args.reload)
         sp = vol.spacing()
-        vol.spacing(
-            [sp[0] * args.x_spacing, sp[1] * args.y_spacing, sp[2] * args.z_spacing]
-        )
+        vol.spacing([sp[0] * args.x_spacing, 
+                     sp[1] * args.y_spacing, 
+                     sp[2] * args.z_spacing])
         if not args.color:
             args.color = "gold"
         plt = applications.IsosurfaceBrowser(
-            vol,
-            c=args.color,
-            cmap=args.cmap,
-            precompute=True,
-            progress=True,
+            vol, c=args.color, cmap=args.cmap, 
+            precompute=False, progress=True, use_gpu=True,
         )
         plt.show(zoom=args.zoom, viewup="z")
         return
 
     ########################################################################
     # NORMAL mode for single or multiple files, or multiren mode, or numpy scene
     elif nfiles == 1 or (not args.scrolling_mode):
@@ -834,15 +839,15 @@
         if args.image:
             interactor_mode = "image"
 
         ##########################################################
         # loading a full scene
         if ".npy" in args.files[0] or ".npz" in args.files[0] and nfiles == 1:
 
-            objct = io.load(args.files[0], force=args.reload)
+            objct = file_io.load(args.files[0], force=args.reload)
             if isinstance(objct, Plotter):  # loading a full scene
                 objct.show(mode=interactor_mode)
             else:  # loading a set of meshes
                 plt.show(objct, mode=interactor_mode)
             return
         #########################################################
 
@@ -887,15 +892,16 @@
 
             actors.append(actor)
 
             if args.multirenderer_mode:
                 try:
                     ds = actor.diagonal_size() * 3
                     plt.camera.SetClippingRange(0, ds)
-                    plt.show(actor, at=i, interactive=False, zoom=args.zoom, mode=interactor_mode)
+                    plt.show(actor, at=i, interactive=False,
+                             zoom=args.zoom, mode=interactor_mode)
                     plt.actors = actors
                 except AttributeError:
                     # wildcards in quotes make glob return actor as a list :(
                     vedo.logger.error("Please do not use wildcards within single or double quotes")
 
         if args.multirenderer_mode:
             plt.interactor.Start()
@@ -904,15 +910,14 @@
 
         else:
 
             # scene is empty
             if all(a is None for a in actors):
                 vedo.logger.error("Could not load file(s). Quit.")
                 return
-
             plt.show(actors, interactive=True, zoom=args.zoom, mode=interactor_mode)
         return
 
     ########################################################################
     # scrolling mode  -s
     else:
         # print("DEBUG simple browser mode  -s")
```

### Comparing `vedo-2023.4.4/vedo/cmaps.py` & `vedo-2023.4.5/vedo/cmaps.py`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/colors.py` & `vedo-2023.4.5/vedo/colors.py`

 * *Files 4% similar despite different names*

```diff
@@ -25,17 +25,17 @@
     "printc",
     "printd",
     "get_color",
     "get_color_name",
     "color_map",
     "build_palette",
     "build_lut",
-    "getColor", # deprecated will disappear
-    "colorMap", # deprecated
-    "buildLUT", # deprecated
+    "getColor",  # deprecated will disappear
+    "colorMap",  # deprecated
+    "buildLUT",  # deprecated
 ]
 
 
 try:
     import matplotlib.cm as _cm_mpl
     _has_matplotlib = True
     cmaps = {}
@@ -409,55 +409,176 @@
     "y": "yellow",
     "w": "white",
 }
 
 
 # available colormap names:
 cmaps_names = (
-    "Accent",    "Accent_r",    "Blues",     "Blues_r",
-    "BrBG",      "BrBG_r",      "BuGn",      "BuGn_r",
-    "BuPu",      "BuPu_r",      "CMRmap",    "CMRmap_r",
-    "Dark2",     "Dark2_r",     "GnBu",      "GnBu_r",
-    "Greens",    "Greens_r",    "Greys",     "Greys_r",
-    "OrRd",      "OrRd_r",      "Oranges",   "Oranges_r",
-    "PRGn",      "PRGn_r",      "Paired",    "Paired_r",
-    "Pastel1",   "Pastel1_r",   "Pastel2",   "Pastel2_r",
-    "PiYG",      "PiYG_r",      "PuBu",      "PuBuGn",
-    "PuBuGn_r",  "PuBu_r",      "PuOr",      "PuOr_r",
-    "PuRd",      "PuRd_r",      "Purples",   "Purples_r",
-    "RdBu",      "RdBu_r",      "RdGy",      "RdGy_r",
-    "RdPu",      "RdPu_r",      "RdYlBu",    "RdYlBu_r",
-    "RdYlGn",    "RdYlGn_r",    "Reds",      "Reds_r",
-    "Set1",      "Set1_r",      "Set2",      "Set2_r",
-    "Set3",      "Set3_r",      "Spectral",  "Spectral_r",
-    "Wistia",    "Wistia_r",    "YlGn",      "YlGnBu",
-    "YlGnBu_r",  "YlGn_r",      "YlOrBr",    "YlOrBr_r",
-    "YlOrRd",    "YlOrRd_r",    "afmhot",    "afmhot_r",
-    "autumn",    "autumn_r",    "binary",    "binary_r",
-    "bone",      "bone_r",      "brg",       "brg_r",
-    "bwr",       "bwr_r",       "cividis",   "cividis_r",
-    "cool",      "cool_r",      "coolwarm",  "coolwarm_r",
-    "copper",    "copper_r",    "cubehelix", "cubehelix_r",
-    "flag",      "flag_r",      "gist_earth","gist_earth_r",
-    "gist_gray", "gist_gray_r", "gist_heat", "gist_heat_r",
-    "gist_ncar", "gist_ncar_r", "gist_rainbow", "gist_rainbow_r",
-    "gist_stern","gist_stern_r","gist_yarg",  "gist_yarg_r",
-    "gnuplot",   "gnuplot2",    "gnuplot2_r", "gnuplot_r",
-    "gray_r",      "hot",        "hot_r",
-    "hsv",       "hsv_r",       "inferno",    "inferno_r",
-    "jet",       "jet_r",       "magma",      "magma_r",
-    "nipy_spectral", "nipy_spectral_r", "ocean", "ocean_r",
-    "pink_r",      "plasma",     "plasma_r",
-    "prism",     "prism_r",     "rainbow",    "rainbow_r",
-    "seismic",   "seismic_r",   "spring",     "spring_r",
-    "summer",    "summer_r",    "tab10",      "tab10_r",
-    "tab20",     "tab20_r",     "tab20b",     "tab20b_r",
-    "tab20c",    "tab20c_r",    "terrain",    "terrain_r",
-    "twilight",  "twilight_r",  "twilight_shifted", "twilight_shifted_r",
-    "viridis",   "viridis_r",   "winter",     "winter_r"
+    "Accent",
+    "Accent_r",
+    "Blues",
+    "Blues_r",
+    "BrBG",
+    "BrBG_r",
+    "BuGn",
+    "BuGn_r",
+    "BuPu",
+    "BuPu_r",
+    "CMRmap",
+    "CMRmap_r",
+    "Dark2",
+    "Dark2_r",
+    "GnBu",
+    "GnBu_r",
+    "Greens",
+    "Greens_r",
+    "Greys",
+    "Greys_r",
+    "OrRd",
+    "OrRd_r",
+    "Oranges",
+    "Oranges_r",
+    "PRGn",
+    "PRGn_r",
+    "Paired",
+    "Paired_r",
+    "Pastel1",
+    "Pastel1_r",
+    "Pastel2",
+    "Pastel2_r",
+    "PiYG",
+    "PiYG_r",
+    "PuBu",
+    "PuBuGn",
+    "PuBuGn_r",
+    "PuBu_r",
+    "PuOr",
+    "PuOr_r",
+    "PuRd",
+    "PuRd_r",
+    "Purples",
+    "Purples_r",
+    "RdBu",
+    "RdBu_r",
+    "RdGy",
+    "RdGy_r",
+    "RdPu",
+    "RdPu_r",
+    "RdYlBu",
+    "RdYlBu_r",
+    "RdYlGn",
+    "RdYlGn_r",
+    "Reds",
+    "Reds_r",
+    "Set1",
+    "Set1_r",
+    "Set2",
+    "Set2_r",
+    "Set3",
+    "Set3_r",
+    "Spectral",
+    "Spectral_r",
+    "Wistia",
+    "Wistia_r",
+    "YlGn",
+    "YlGnBu",
+    "YlGnBu_r",
+    "YlGn_r",
+    "YlOrBr",
+    "YlOrBr_r",
+    "YlOrRd",
+    "YlOrRd_r",
+    "afmhot",
+    "afmhot_r",
+    "autumn",
+    "autumn_r",
+    "binary",
+    "binary_r",
+    "bone",
+    "bone_r",
+    "brg",
+    "brg_r",
+    "bwr",
+    "bwr_r",
+    "cividis",
+    "cividis_r",
+    "cool",
+    "cool_r",
+    "coolwarm",
+    "coolwarm_r",
+    "copper",
+    "copper_r",
+    "cubehelix",
+    "cubehelix_r",
+    "flag",
+    "flag_r",
+    "gist_earth",
+    "gist_earth_r",
+    "gist_gray",
+    "gist_gray_r",
+    "gist_heat",
+    "gist_heat_r",
+    "gist_ncar",
+    "gist_ncar_r",
+    "gist_rainbow",
+    "gist_rainbow_r",
+    "gist_stern",
+    "gist_stern_r",
+    "gist_yarg",
+    "gist_yarg_r",
+    "gnuplot",
+    "gnuplot2",
+    "gnuplot2_r",
+    "gnuplot_r",
+    "gray_r",
+    "hot",
+    "hot_r",
+    "hsv",
+    "hsv_r",
+    "inferno",
+    "inferno_r",
+    "jet",
+    "jet_r",
+    "magma",
+    "magma_r",
+    "nipy_spectral",
+    "nipy_spectral_r",
+    "ocean",
+    "ocean_r",
+    "pink_r",
+    "plasma",
+    "plasma_r",
+    "prism",
+    "prism_r",
+    "rainbow",
+    "rainbow_r",
+    "seismic",
+    "seismic_r",
+    "spring",
+    "spring_r",
+    "summer",
+    "summer_r",
+    "tab10",
+    "tab10_r",
+    "tab20",
+    "tab20_r",
+    "tab20b",
+    "tab20b_r",
+    "tab20c",
+    "tab20c_r",
+    "terrain",
+    "terrain_r",
+    "twilight",
+    "twilight_r",
+    "twilight_shifted",
+    "twilight_shifted_r",
+    "viridis",
+    "viridis_r",
+    "winter",
+    "winter_r",
 )
 
 
 # default color palettes when using an index
 palettes = (
     (
         (1.0, 0.832, 0.000),  # gold
@@ -531,46 +652,52 @@
         (0.094, 0.537, 0.690),
         (0.035, 0.231, 0.294),  #  -> cyan1
     ),
 )
 
 
 emoji = {
-    r"\bomb": "\U0001F4A5",
-    r"\sparks": "\U00002728",
-    r"\ethumbup": "\U0001F44d",
-    r"\etarget": "\U0001F3af",
-    r"\save": "\U0001F4be",
-    r"\noentry": "\U000026d4",
-    r"\video": "\U0001F4fd ",
-    r"\lightning": "\U000026a1",
-    r"\camera": "\U0001F4f8",
-    r"\times": "\U0000274c",
-    r"\world": "\U0001F30d",
-    r"\erainbow": "\U0001F308",
-    r"\idea": "\U0001F4a1",
-    r"\pin": "\U0001F4CC",
-    r"\construction": "\U0001F6A7",
-    r"\rightarrow": "\U000027a1",
-    r"\erocket": "\U0001F680",
-    r"\hourglass": "\U000023f3",
-    r"\prohibited": "\U0001F6ab",
-    r"\checked": "\U00002705",
-    r"\smile": "\U0001F642",
-    r"\sad": "\U0001F612",
-    r"\star": "\U00002B50",
-    r"\zzz": "\U0001F4a4",
-    r"\mu": "\U000003BC",
-    r"\pi": "\U000003C0",
-    r"\sigma": "\U000003C3",
+    ":bomb:": "\U0001F4A5",
+    ":sparks:": "\U00002728",
+    ":thumbup:": "\U0001F44D",
+    ":target:": "\U0001F3AF",
+    ":save:": "\U0001F4BE",
+    ":noentry:": "\U000026D4",
+    ":video:": "\U0001F4FD",
+    ":lightning:": "\U000026A1",
+    ":camera:": "\U0001F4F8",
+    ":times:": "\U0000274C",
+    ":world:": "\U0001F30D",
+    ":rainbow:": "\U0001F308",
+    ":idea:": "\U0001F4A1",
+    ":pin:": "\U0001F4CC",
+    ":construction:": "\U0001F6A7",
+    ":rocket:": "\U0001F680",
+    ":hourglass:": "\U000023F3",
+    ":prohibited:": "\U0001F6AB",
+    ":checked:": "\U00002705",
+    ":smile:": "\U0001F642",
+    ":sad:": "\U0001F612",
+    ":star:": "\U00002B50",
+    ":zzz:": "\U0001F4A4",
+    ":mu:": "\U000003BC",
+    ":pi:": "\U000003C0",
+    ":sigma:": "\U000003C3",
+    ":rightarrow:": "\U000027A1",
 }
 
 
-# terminal color print
+# terminal or notebook can do color print
 def _has_colors(stream):
+    try:
+        import IPython
+        return True
+    except:
+        pass
+
     if not hasattr(stream, "isatty"):
         return False
     if not stream.isatty():
         return False
     return True
 _terminal_has_colors = _has_colors(sys.stdout)
 
@@ -586,14 +713,15 @@
     return False
 
 
 def getColor(rgb=None, hsv=None):
     """Deprecated. Use `get_color()`"""
     return get_color(rgb, hsv)
 
+
 def get_color(rgb=None, hsv=None):
     """
     Convert a color or list of colors to (r,g,b) format from many different input formats.
 
     Set `hsv` to input as (hue, saturation, value).
 
     Example:
@@ -689,14 +817,15 @@
         ci = np.array(get_color(key))
         d = np.linalg.norm(c - ci)
         if d < mdist:
             mdist = d
             kclosest = str(key)
     return kclosest
 
+
 def hsv2rgb(hsv):
     """Convert HSV to RGB color."""
     ma = vtk.vtkMath()
     rgb = [0, 0, 0]
     ma.HSVToRGB(hsv, rgb)
     return rgb
 
@@ -723,14 +852,15 @@
 
 
 def colorMap(value, name="jet", vmin=None, vmax=None):
     """Deprecated, use `color_map()`"""
     print("Deprecated call to colorMap(), use color_map() instead")
     return color_map(value, name, vmin, vmax)
 
+
 def color_map(value, name="jet", vmin=None, vmax=None):
     """
     Map a real value in range [vmin, vmax] to a (r,g,b) color scale.
 
     Return the (r,g,b) color, or a list of (r,g,b) colors.
 
     Arguments:
@@ -763,16 +893,18 @@
             <img src="https://vedo.embl.es/images/pyplot/plot_bars.png" width="400"/>
 
     """
     cut = _is_sequence(value)  # to speed up later
 
     if cut:
         values = np.asarray(value)
-        if vmin is None: vmin = np.min(values)
-        if vmax is None: vmax = np.max(values)
+        if vmin is None:
+            vmin = np.min(values)
+        if vmax is None:
+            vmax = np.max(values)
         values = np.clip(values, vmin, vmax)
         values = (values - vmin) / (vmax - vmin)
     else:
         if vmin is None:
             vedo.logger.warning("in color_map() you must specify vmin! Assume 0.")
             vmin = 0
         if vmax is None:
@@ -845,14 +977,15 @@
     for f in np.linspace(0, 1, n, endpoint=True):
         c = c1 * (1 - f) + c2 * f
         if hsv:
             c = np.array(hsv2rgb(c))
         cols.append(c)
     return np.array(cols)
 
+
 def buildLUT(
     colorlist,
     vmin=None,
     vmax=None,
     belowColor=None,
     aboveColor=None,
     nanColor=None,
@@ -872,14 +1005,15 @@
         nanColor,
         belowAlpha,
         aboveAlpha,
         nanAlpha,
         interpolate,
     )
 
+
 def build_lut(
     colorlist,
     vmin=None,
     vmax=None,
     below_color=None,
     above_color=None,
     nan_color=None,
@@ -1031,33 +1165,29 @@
         ```
 
     Examples:
         - [printc.py](https://github.com/marcomusy/vedo/tree/master/examples/other/printc.py)
 
         ![](https://user-images.githubusercontent.com/32848391/50739010-2bfc2b80-11da-11e9-94de-011e50a86e61.jpg)
     """
-    if not vedo.settings.enable_print_color:
+
+    if not vedo.settings.enable_print_color or not _terminal_has_colors:
         print(*strings, end=end, flush=flush)
         return
 
-    if not vedo.notebook_backend:
-        if not _terminal_has_colors:
-            print(*strings, end=end, flush=flush)
-            return
-
     try:  # -------------------------------------------------------------
 
         txt = str()
         ns = len(strings) - 1
         separator = " "
         offset = 0
         for i, s in enumerate(strings):
             if i == ns:
                 separator = ""
-            if "\\" in repr(s):  # "in" for some reasons changes s
+            if ":" in repr(s):
                 for k in emoji:
                     if k in str(s):
                         s = s.replace(k, emoji[k])
                         offset += 1
                 for k, rp in vedo.shapes._reps:  # check symbols in shapes._reps
                     if k in str(s):
                         s = s.replace(k, rp)
@@ -1115,15 +1245,15 @@
 
         if box and "\n" not in txt:
             box = box[0]
             boxv = box
             if box in ["_", "=", "-", "+", "~"]:
                 boxv = "|"
 
-            if box in ('_', '.'):
+            if box in ("_", "."):
                 outtxt = special + cseq + " " + box * (len(txt) + offset + 2) + " \n"
                 outtxt += boxv + " " * (len(txt) + 2) + boxv + "\n"
             else:
                 outtxt = special + cseq + box * (len(txt) + offset + 4) + "\n"
 
             outtxt += boxv + " " + txt + " " + boxv + "\n"
 
@@ -1160,16 +1290,16 @@
     """
     from inspect import currentframe, getframeinfo
 
     cf = currentframe().f_back
     cfi = getframeinfo(cf)
 
     fname = os.path.basename(getframeinfo(cf).filename)
-    print("\x1b[7m\x1b[3m\x1b[37m"+fname+" line:\x1b[1m"+str(cfi.lineno)+reset, end='')
-    print('\x1b[3m\x1b[37m\x1b[2m', "\U00002501"*30, time.ctime(), reset)
+    print("\x1b[7m\x1b[3m\x1b[37m" + fname + " line:\x1b[1m" + str(cfi.lineno) + reset, end="")
+    print("\x1b[3m\x1b[37m\x1b[2m", "\U00002501" * 30, time.ctime(), reset)
     if strings:
         print("    \x1b[37m\x1b[1mMessage : ", *strings)
     print("    \x1b[37m\x1b[1mFunction:\x1b[0m\x1b[37m " + str(cfi.function))
     print("    \x1b[1mLocals  :" + reset)
     for loc in cf.f_locals.keys():
         obj = cf.f_locals[loc]
         var = repr(obj)
```

### Comparing `vedo-2023.4.4/vedo/dolfin.py` & `vedo-2023.4.5/vedo/dolfin.py`

 * *Files 1% similar despite different names*

```diff
@@ -32,17 +32,15 @@
 ![](https://user-images.githubusercontent.com/32848391/53026243-d2d31900-3462-11e9-9dde-518218c241b6.jpg)
 
 .. note::
     Find many more examples in directory    
     [vedo/examples/dolfin](https://github.com/marcomusy/vedo/blob/master/examples/other/dolfin).
 """
 
-__all__ = [
-    "plot",
-]
+__all__ = ["plot"]
 
 
 ##########################################################################
 def _inputsort(obj):
 
     import dolfin
 
@@ -59,18 +57,18 @@
         if "vedo" in inputtype:  # skip vtk objects, will be added later
             continue
 
         if "dolfin" in inputtype or "ufl" in inputtype:
             if "MeshFunction" in inputtype:
                 mesh = ob.mesh()
 
-                if ob.dim()>0:
-                    printc('MeshFunction of dim>0 not supported.', c='r')
-                    printc('Try e.g.:  MeshFunction("size_t", mesh, 0)', c='r', italic=1)
-                    printc('instead of MeshFunction("size_t", mesh, 1)', c='r', strike=1)
+                if ob.dim() > 0:
+                    printc("MeshFunction of dim>0 not supported.", c="r")
+                    printc('Try e.g.:  MeshFunction("size_t", mesh, 0)', c="r", italic=1)
+                    printc('instead of MeshFunction("size_t", mesh, 1)', c="r", strike=1)
                 else:
                     # printc(ob.dim(), mesh.num_cells(), len(mesh.coordinates()), len(ob.array()))
                     V = dolfin.FunctionSpace(mesh, "CG", 1)
                     u = dolfin.Function(V)
                     v2d = dolfin.vertex_to_dof_map(V)
                     u.vector()[v2d] = ob.array()
             elif "Function" in inputtype or "Expression" in inputtype:
@@ -108,15 +106,15 @@
     #    print('u',u)
 
     if hasattr(u, "compute_vertex_values"):  # old dolfin, works fine
         u_values = u.compute_vertex_values(mesh)
 
         if u.value_rank() and u.value_dimension(0) > 1:
             l = u_values.shape[0]
-            u_values = u_values.reshape(u.value_dimension(0), int(l/u.value_dimension(0))).T
+            u_values = u_values.reshape(u.value_dimension(0), int(l / u.value_dimension(0))).T
 
     elif hasattr(u, "compute_point_values"):  # dolfinx
         u_values = u.compute_point_values()
 
         try:
             from dolfin import fem
 
@@ -379,78 +377,66 @@
                 aet[at].SetYTitle(ytitle)
         if ztitle != "z":
             aet = vedo.plotter_instance.axes_instances
             if len(aet) > at and isinstance(aet[at], vtk.vtkCubeAxesActor):
                 aet[at].SetZTitle(ztitle)
 
     # change some default to emulate standard behaviours
-    if style in (0, 'vtk'):
+    if style in (0, "vtk"):
         axes = options.pop("axes", None)
         if axes is None:
-            options["axes"] = {
-                "xygrid": False,
-                "yzgrid": False,
-                "zxgrid": False,
-            }
+            options["axes"] = {"xygrid": False, "yzgrid": False, "zxgrid": False}
         else:
             options["axes"] = axes  # put back
         if cmap is None:
             cmap = "rainbow"
-    elif style in (1, 'matplotlib'):
+    elif style in (1, "matplotlib"):
         bg = options.pop("bg", None)
         if bg is None:
             options["bg"] = "white"
         else:
             options["bg"] = bg
         axes = options.pop("axes", None)
         if axes is None:
-            options["axes"] = {
-                "xygrid": False,
-                "yzgrid": False,
-                "zxgrid": False,
-            }
+            options["axes"] = {"xygrid": False, "yzgrid": False, "zxgrid": False}
         else:
             options["axes"] = axes  # put back
         if cmap is None:
             cmap = "viridis"
-    elif style in (2, 'paraview'):
+    elif style in (2, "paraview"):
         bg = options.pop("bg", None)
         if bg is None:
             options["bg"] = (82, 87, 110)
         else:
             options["bg"] = bg
         if cmap is None:
             cmap = "coolwarm"
-    elif style in (3, 'meshlab'):
+    elif style in (3, "meshlab"):
         bg = options.pop("bg", None)
         if bg is None:
             options["bg"] = (8, 8, 16)
             options["bg2"] = (117, 117, 234)
         else:
             options["bg"] = bg
         axes = options.pop("axes", None)
         if axes is None:
             options["axes"] = 10
         else:
             options["axes"] = axes  # put back
         if cmap is None:
             cmap = "afmhot"
-    elif style in (4, 'bw'):
+    elif style in (4, "bw"):
         bg = options.pop("bg", None)
         if bg is None:
             options["bg"] = (217, 255, 238)
         else:
             options["bg"] = bg
         axes = options.pop("axes", None)
         if axes is None:
-            options["axes"] = {
-                "xygrid": False,
-                "yzgrid": False,
-                "zxgrid": False,
-            }
+            options["axes"] = {"xygrid": False, "yzgrid": False, "zxgrid": False}
         else:
             options["axes"] = axes  # put back
         if cmap is None:
             cmap = "binary"
 
     #################################################################
     actors = []
@@ -491,28 +477,28 @@
                 actor.flat()
             elif shading[0] == "g":
                 actor.gouraud()
 
         if "displace" in mode:
             actor.move(u)
 
-        if cmap and (actor.u_values is not None) and len(actor.u_values) and c is None:
+        if cmap and (actor.u_values is not None) and len(actor.u_values)>0 and c is None:
             if actor.u_values.ndim > 1:
                 actor.cmap(cmap, utils.mag(actor.u_values), vmin=vmin, vmax=vmax)
             else:
                 actor.cmap(cmap, actor.u_values, vmin=vmin, vmax=vmax)
 
         if warpYfactor:
             scals = actor.pointdata[0]
-            if len(scals):
+            if len(scals) > 0:
                 pts_act = actor.points()
                 pts_act[:, 1] = scals * warpYfactor * scaleMeshFactors[1]
         if warpZfactor:
             scals = actor.pointdata[0]
-            if len(scals):
+            if len(scals) > 0:
                 pts_act = actor.points()
                 pts_act[:, 2] = scals * warpZfactor * scaleMeshFactors[2]
         if warpYfactor or warpZfactor:
             actor.points(pts_act)
             if vmin is not None and vmax is not None:
                 actor.mapper().SetScalarRange(vmin, vmax)
 
@@ -600,14 +586,15 @@
 
     return show(actors, **options)
 
 
 ###################################################################################
 class MeshActor(Mesh):
     """MeshActor for dolfin support."""
+
     def __init__(self, *inputobj, **options):
         """MeshActor, a `vedo.Mesh` derived object for dolfin support."""
 
         c = options.pop("c", None)
         alpha = options.pop("alpha", 1)
         exterior = options.pop("exterior", False)
         compute_normals = options.pop("compute_normals", False)
@@ -689,20 +676,15 @@
                 source_polygons.InsertNextCell(ele3)
 
             poly.SetPolys(source_polygons)
 
         else:
             poly = utils.buildPolyData(coords, cells)
 
-        Mesh.__init__(
-            self,
-            poly,
-            c=c,
-            alpha=alpha,
-        )
+        Mesh.__init__(self, poly, c=c, alpha=alpha)
         if compute_normals:
             self.compute_normals()
 
         self.mesh = mesh  # holds a dolfin Mesh obj
         self.u = u  # holds a dolfin function_data
         # holds the actual values of u on the mesh
         self.u_values = _compute_uvalues(u, mesh)
```

### Comparing `vedo-2023.4.4/vedo/fonts/Bongas.npz` & `vedo-2023.4.5/vedo/fonts/Bongas.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Bongas.ttf` & `vedo-2023.4.5/vedo/fonts/Bongas.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Calco.npz` & `vedo-2023.4.5/vedo/fonts/Calco.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Calco.ttf` & `vedo-2023.4.5/vedo/fonts/Calco.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Comae.npz` & `vedo-2023.4.5/vedo/fonts/Comae.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Comae.ttf` & `vedo-2023.4.5/vedo/fonts/Comae.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Glasgo.npz` & `vedo-2023.4.5/vedo/fonts/Glasgo.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Glasgo.ttf` & `vedo-2023.4.5/vedo/fonts/Glasgo.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Kanopus.npz` & `vedo-2023.4.5/vedo/fonts/Kanopus.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Kanopus.ttf` & `vedo-2023.4.5/vedo/fonts/Kanopus.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Normografo.npz` & `vedo-2023.4.5/vedo/fonts/Normografo.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Normografo.ttf` & `vedo-2023.4.5/vedo/fonts/Normografo.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Quikhand.npz` & `vedo-2023.4.5/vedo/fonts/Quikhand.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Quikhand.ttf` & `vedo-2023.4.5/vedo/fonts/Quikhand.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/SmartCouric.npz` & `vedo-2023.4.5/vedo/fonts/SmartCouric.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/SmartCouric.ttf` & `vedo-2023.4.5/vedo/fonts/SmartCouric.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Theemim.npz` & `vedo-2023.4.5/vedo/fonts/Theemim.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/Theemim.ttf` & `vedo-2023.4.5/vedo/fonts/Theemim.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/VictorMono.npz` & `vedo-2023.4.5/vedo/fonts/VictorMono.npz`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/fonts/VictorMono.ttf` & `vedo-2023.4.5/vedo/fonts/VictorMono.ttf`

 * *Files identical despite different names*

### Comparing `vedo-2023.4.4/vedo/io.py` & `vedo-2023.4.5/vedo/file_io.py`

 * *Files 1% similar despite different names*

```diff
@@ -353,19 +353,24 @@
         read = vtk.vtkXMLMultiBlockDataReader()
         read.SetFileName(filename)
         read.Update()
         mb = read.GetOutput()
         if unpack:
             acts = []
             for i in range(mb.GetNumberOfBlocks()):
-                b =  mb.GetBlock(i)
-                if isinstance(b, (vtk.vtkPolyData,
-                                  vtk.vtkUnstructuredGrid,
-                                  vtk.vtkStructuredGrid,
-                                  vtk.vtkRectilinearGrid)):
+                b = mb.GetBlock(i)
+                if isinstance(
+                    b,
+                    (
+                        vtk.vtkPolyData,
+                        vtk.vtkUnstructuredGrid,
+                        vtk.vtkStructuredGrid,
+                        vtk.vtkRectilinearGrid,
+                    ),
+                ):
                     acts.append(Mesh(b))
                 elif isinstance(b, vtk.vtkImageData):
                     acts.append(Volume(b))
                 elif isinstance(b, vtk.vtkUnstructuredGrid):
                     acts.append(vedo.UGrid(b))
             return acts
         return mb
@@ -444,15 +449,15 @@
 
         else:
             actor = Mesh(routput)
             if fl.endswith(".txt") or fl.endswith(".xyz"):
                 actor.GetProperty().SetPointSize(4)
 
     actor.filename = filename
-    actor.file_size, actor.created = fileInfo(filename)
+    actor.file_size, actor.created = file_info(filename)
     return actor
 
 
 def download(url, force=False, verbose=True):
     """Retrieve a file from a URL, save it locally and return its path.
     Use `force` to force reload and discard cached copies."""
 
@@ -479,28 +484,30 @@
         return tmp_file.name
 
     try:
         from urllib.request import urlopen, Request
 
         req = Request(url, headers={"User-Agent": "Mozilla/5.0"})
         if verbose:
-            colors.printc('reading', basename, 'from', url.split('/')[2][:40],'...', end='')
+            colors.printc("reading", basename, "from", url.split("/")[2][:40], "...", end="")
+
     except ImportError:
         import urllib2
         import contextlib
 
         urlopen = lambda url_: contextlib.closing(urllib2.urlopen(url_))
         req = url
         if verbose:
-            colors.printc('reading', basename, 'from', url.split('/')[2][:40],'...', end='')
+            colors.printc("reading", basename, "from", url.split("/")[2][:40], "...", end="")
 
     with urlopen(req) as response, open(tmp_file.name, "wb") as output:
         output.write(response.read())
 
-    if verbose: colors.printc(' done.')
+    if verbose:
+        colors.printc(" done.")
     return tmp_file.name
 
 
 def gunzip(filename):
     """Unzip a `.gz` file to a temporary file and returns its path."""
     if not filename.endswith(".gz"):
         # colors.printc("gunzip() error: file must end with .gz", c='r')
@@ -514,15 +521,15 @@
     inF = gzip.open(filename, "rb")
     with open(tmp_file.name, "wb") as outF:
         outF.write(inF.read())
     inF.close()
     return tmp_file.name
 
 
-def fileInfo(file_path):
+def file_info(file_path):
     """Return the file size and creation time of input file"""
     sz, created = "", ""
     if os.path.isfile(file_path):
         file_info = os.stat(file_path)
         num = file_info.st_size
         for x in ["B", "KB", "MB", "GB", "TB"]:
             if num < 1024.0:
@@ -606,15 +613,15 @@
         acts.append(a)
     del renWin
     return Assembly(acts)
 
 
 def loadOFF(filename):
     """Read the OFF file format (polygonal mesh)."""
-    with open(filename, "r", encoding='UTF-8') as f:
+    with open(filename, "r", encoding="UTF-8") as f:
         lines = f.readlines()
 
     vertices = []
     faces = []
     NumberOfVertices = None
     i = -1
     for text in lines:
@@ -706,37 +713,37 @@
     if len(listofobjs) == 0:
         return None
     return listofobjs
 
 
 def loadNeutral(filename):
     """Reads a `Neutral` tetrahedral file format. Return an `Mesh` object."""
-    with open(filename, "r", encoding='UTF-8') as f:
+    with open(filename, "r", encoding="UTF-8") as f:
         lines = f.readlines()
 
     ncoords = int(lines[0])
     coords = []
     for i in range(1, ncoords + 1):
         x, y, z = lines[i].split()
         coords.append([float(x), float(y), float(z)])
 
     ntets = int(lines[ncoords + 1])
     idolf_tets = []
     for i in range(ncoords + 2, ncoords + ntets + 2):
         text = lines[i].split()
-        v0, v1, v2, v3 = int(text[1])-1, int(text[2])-1, int(text[3])-1, int(text[4])-1
+        v0, v1, v2, v3 = int(text[1]) - 1, int(text[2]) - 1, int(text[3]) - 1, int(text[4]) - 1
         idolf_tets.append([v0, v1, v2, v3])
 
     poly = utils.buildPolyData(coords, idolf_tets)
     return Mesh(poly)
 
 
 def loadGmesh(filename):
     """Reads a `gmesh` file format. Return an `Mesh` object."""
-    with open(filename, "r", encoding='UTF-8') as f:
+    with open(filename, "r", encoding="UTF-8") as f:
         lines = f.readlines()
 
     nnodes = 0
     index_nodes = 0
     for i, line in enumerate(lines):
         if "$Nodes" in line:
             index_nodes = i + 1
@@ -762,15 +769,15 @@
     poly = utils.buildPolyData(node_coords, elements, indexOffset=1)
     return Mesh(poly)
 
 
 def loadPCD(filename):
     """Return a `Mesh` made of only vertex points
     from `Point Cloud` file format. Return an `Points` object."""
-    with open(filename, "r", encoding='UTF-8') as f:
+    with open(filename, "r", encoding="UTF-8") as f:
         lines = f.readlines()
 
     start = False
     pts = []
     N, expN = 0, 0
     for text in lines:
         if start:
@@ -799,15 +806,15 @@
     def _fillcommon(obj, adict):
         adict["filename"] = obj.filename
         adict["name"] = obj.name
         adict["time"] = obj.time
         adict["rendered_at"] = obj.rendered_at
         adict["position"] = obj.pos()
         adict["info"] = obj.info
-        
+
         try:
             # GetMatrix might not exist for non linear transforms
             m = np.eye(4)
             vm = obj.get_transform().GetMatrix()
             for i in [0, 1, 2, 3]:
                 for j in [0, 1, 2, 3]:
                     m[i, j] = vm.GetElement(i, j)
@@ -818,26 +825,25 @@
                 for j in [0, 1, 2, 3]:
                     minv[i, j] = vm.GetElement(i, j)
             adict["transform_inverse"] = minv
         except AttributeError:
             adict["transform"] = []
             adict["transform_inverse"] = []
 
-
     ########################################################
     def _fillmesh(obj, adict):
 
         adict["points"] = obj.points(transformed=True).astype(float)
         poly = obj.polydata()
 
         adict["cells"] = None
         if poly.GetNumberOfPolys():
             try:
                 adict["cells"] = np.array(obj.faces(), dtype=np.uint32)
-            except ValueError: # in case of inhomogeneous shape
+            except ValueError:  # in case of inhomogeneous shape
                 adict["cells"] = obj.faces()
 
         adict["lines"] = None
         if poly.GetNumberOfLines():
             adict["lines"] = obj.lines()
 
         adict["pointdata"] = []
@@ -856,17 +862,17 @@
             if "Normals" in iname.lower():
                 continue
             arr = poly.GetCellData().GetArray(iname)
             adict["celldata"].append([utils.vtk2numpy(arr), iname])
 
         adict["activedata"] = None
         if poly.GetPointData().GetScalars():
-            adict['activedata'] = ['pointdata', poly.GetPointData().GetScalars().GetName()]
+            adict["activedata"] = ["pointdata", poly.GetPointData().GetScalars().GetName()]
         elif poly.GetCellData().GetScalars():
-            adict['activedata'] = ['celldata',  poly.GetCellData().GetScalars().GetName()]
+            adict["activedata"] = ["celldata", poly.GetCellData().GetScalars().GetName()]
 
         adict["LUT"] = None
         adict["LUT_range"] = None
         lut = obj.mapper().GetLookupTable()
         if lut:
             nlut = lut.GetNumberOfTableValues()
             lutvals = []
@@ -996,19 +1002,22 @@
 
     else:
         data = inobj
 
     ######################################################
     def _load_common(obj, d):
         keys = d.keys()
-        if 'time' in keys: 
-            obj.time = d['time']
-        if 'name' in keys: obj.name = d['name']
-        if 'filename' in keys: obj.filename = d['filename']
-        if 'info' in keys: obj.info = d['info']
+        if "time" in keys:
+            obj.time = d["time"]
+        if "name" in keys:
+            obj.name = d["name"]
+        if "filename" in keys:
+            obj.filename = d["filename"]
+        if "info" in keys:
+            obj.info = d["info"]
 
         # if "transform" in keys and len(d["transform"]) == 4:
         #     vm = vtk.vtkMatrix4x4()
         #     for i in [0, 1, 2, 3]:
         #         for j in [0, 1, 2, 3]:
         #             vm.SetElement(i, j, d["transform"][i, j])
         #     obj.apply_transform(vm)
@@ -1102,58 +1111,58 @@
     ######################################################
 
     objs = []
     for d in data:
         # print('loadnumpy:', d['type'], d)
 
         ### Mesh
-        if "mesh" == d["type"].lower():
+        if d['type'].lower() == 'mesh':
             a = _buildmesh(d)
             if a:
                 objs.append(a)
 
         ### Assembly
-        elif "assembly" == d["type"].lower():
+        elif d['type'].lower() == 'assembly':
             assacts = []
             for ad in d["actors"]:
                 assacts.append(_buildmesh(ad))
             asse = Assembly(assacts)
             _load_common(asse, d)
             objs.append(asse)
 
         ### Volume
-        elif "volume" == d["type"].lower():
+        elif d['type'].lower() == 'volume':
             vol = Volume(d["array"])
             _load_common(vol, d)
             if "jittering" in d.keys():
                 vol.jittering(d["jittering"])
             # print(d['mode'])
             vol.mode(d["mode"])
             vol.color(d["color"])
             vol.alpha(d["alpha"])
             vol.alpha_gradient(d["alphagrad"])
             objs.append(vol)
 
         ### Picture
-        elif "picture" == d["type"].lower():
+        elif d['type'].lower() == 'picture':
             vimg = Picture(d["array"])
             _load_common(vimg, d)
             objs.append(vimg)
 
         ### Text2D
-        elif "text2d" == d["type"].lower():
+        elif d['type'].lower() == 'text2d':
             t = vedo.shapes.Text2D(d["text"], font=d["font"], c=d["color"])
             t.pos(d["position"]).size(d["size"])
             t.background(d["bgcol"], d["alpha"])
             if d["frame"]:
                 t.frame(d["bgcol"])
             objs.append(t)
 
         ### Annotation ## backward compatibility - will disappear
-        elif "annotation" == d["type"].lower():
+        elif d['type'].lower() == 'annotation':
 
             pos = d["position"]
             if isinstance(pos, int):
                 pos = "top-left"
                 d["size"] *= 2.7
             t = vedo.shapes.Text2D(d["text"], font=d["font"], c=d["color"]).pos(pos)
             t.background(d["bgcol"], d["alpha"]).size(d["size"]).frame(d["bgcol"])
@@ -1275,50 +1284,51 @@
         dicts2save = []
         for obj in objslist:
             dicts2save.append(tonumpy(obj))
         np.save(fileoutput, dicts2save)
         return dicts2save
 
     elif fr.endswith(".obj"):
-        with open(fileoutput, "w", encoding='UTF-8') as outF:
+        with open(fileoutput, "w", encoding="UTF-8") as outF:
             outF.write("# OBJ file format with ext .obj\n")
             outF.write("# File generated by vedo\n")
 
             for p in objct.points():
                 outF.write("v {:.5g} {:.5g} {:.5g}\n".format(*p))
 
             ptxt = objct.polydata().GetPointData().GetTCoords()
             if ptxt:
                 ntxt = utils.vtk2numpy(ptxt)
                 for vt in ntxt:
-                    outF.write('vt '+ str(vt[0]) +" "+ str(vt[1])+ ' 0.0\n')
+                    outF.write("vt " + str(vt[0]) + " " + str(vt[1]) + " 0.0\n")
 
-            for i, f in enumerate(objct.faces()):
-                fs = ""
-                for fi in f:
-                    if ptxt:
-                        fs += f" {fi+1}/{fi+1}"
-                    else:
-                        fs += f" {fi+1}"
-                outF.write(f"f{fs}\n")
-
-            for l in objct.lines():
-                ls = ""
-                for li in l:
-                    ls += str(li + 1) + " "
-                outF.write(f"l {ls}\n")
+            if isinstance(objct, Mesh):
 
-        return objct
+                for i, f in enumerate(objct.faces()):
+                    fs = ""
+                    for fi in f:
+                        if ptxt:
+                            fs += f" {fi+1}/{fi+1}"
+                        else:
+                            fs += f" {fi+1}"
+                    outF.write(f"f{fs}\n")
+
+                for l in objct.lines():
+                    ls = ""
+                    for li in l:
+                        ls += str(li + 1) + " "
+                    outF.write(f"l {ls}\n")
 
+        return objct
 
     elif fr.endswith(".xml"):  # write tetrahedral dolfin xml
         vertices = objct.points().astype(str)
         faces = np.array(objct.faces()).astype(str)
         ncoords = vertices.shape[0]
-        with open(fileoutput, "w", encoding='UTF-8') as outF:
+        with open(fileoutput, "w", encoding="UTF-8") as outF:
             outF.write('<?xml version="1.0" encoding="UTF-8"?>\n')
             outF.write('<dolfin xmlns:dolfin="http://www.fenicsproject.org">\n')
 
             if len(faces[0]) == 4:  # write tetrahedral mesh
                 ntets = faces.shape[0]
                 outF.write('  <mesh celltype="tetrahedron" dim="3">\n')
                 outF.write('    <vertices size="' + str(ncoords) + '">\n')
@@ -1366,14 +1376,15 @@
         writer.SetInputData(obj)
         writer.SetFileName(fileoutput)
         writer.Write()
     except:
         vedo.logger.error(f"could not save {fileoutput}")
     return objct
 
+
 def write_transform(inobj, filename="transform.mat", comment=""):
     """
     Save a transformation for a mesh or pointcloud to ASCII file.
 
     Arguments:
         filename : (str)
             output file name
@@ -1383,19 +1394,17 @@
     if isinstance(inobj, Points):
         M = inobj.get_transform().GetMatrix()
     elif isinstance(inobj, vtk.vtkTransform):
         M = inobj.GetMatrix()
     elif isinstance(inobj, vtk.vtkMatrix4x4):
         M = inobj
     else:
-        vedo.logger.error(
-            f"in write_transform(), cannot understand input type {type(inobj)}"
-        )
+        vedo.logger.error(f"in write_transform(), cannot understand input type {type(inobj)}")
 
-    with open(filename, "w", encoding='UTF-8') as f:
+    with open(filename, "w", encoding="UTF-8") as f:
         if comment:
             f.write("# " + comment + "\n")
         for i in range(4):
             f.write(
                 str(M.GetElement(i,0))+' '+
                 str(M.GetElement(i,1))+' '+
                 str(M.GetElement(i,2))+' '+
@@ -1409,15 +1418,15 @@
     Load a transformation from a file `.mat`.
 
     Returns:
         - `vtkTransform`
             The transformation to be applied to some object (`use apply_transform()`).
         - `str`, a comment string associated to this transformation file.
     """
-    with open(filename, "r", encoding='UTF-8') as f:
+    with open(filename, "r", encoding="UTF-8") as f:
         lines = f.readlines()
         M = vtk.vtkMatrix4x4()
         i = 0
         comment = ""
         for l in lines:
             if l.startswith("#"):
                 comment = l.replace("#", "").replace("\n", "")
@@ -1436,15 +1445,15 @@
 ###############################################################################
 def export_window(fileoutput, binary=False):
     """
     Exporter which writes out the rendered scene into an HTML, X3D
     or Numpy file.
 
     Example:
-        - [export_x3d.py](examples/other/export_x3d.py)
+        - [export_x3d.py](https://github.com/marcomusy/vedo/tree/master/examples/other/export_x3d.py)
 
         Check out the HTML generated webpage [here](https://vedo.embl.es/examples/embryo.html).
 
         <img src='https://user-images.githubusercontent.com/32848391/57160341-c6ffbd80-6de8-11e9-95ff-7215ce642bc5.jpg' width="600"/>
 
     .. note::
         the rendering window can also be exported to `numpy` file `scene.npz`
@@ -1499,24 +1508,22 @@
         if fr.endswith(".npz"):
             np.savez_compressed(fileoutput, vedo_scenes=[sdict])
         else:
             np.save(fileoutput, [sdict])
 
     ####################################################################
     elif fr.endswith(".x3d"):
-        obj = list(
-            set(vedo.plotter_instance.get_meshes() + vedo.plotter_instance.actors)
-        )
+        obj = list(set(vedo.plotter_instance.get_meshes() + vedo.plotter_instance.actors))
         if vedo.plotter_instance.axes_instances:
             obj.append(vedo.plotter_instance.axes_instances[0])
 
         for a in obj:
             if isinstance(a, Mesh):
                 newa = a.clone(transformed=True)
-                vedo.plotter_instance.remove(a).add(newa, render=False)
+                vedo.plotter_instance.remove(a).add(newa)
 
             elif isinstance(a, Assembly):
                 vedo.plotter_instance.remove(a)
                 for b in a.unpack():
                     if b:
                         if a.name == "Axes":
                             newb = b.clone(transformed=True)
@@ -1526,70 +1533,68 @@
                             newb = b.clone(transformed=False)
                             tt = vtk.vtkTransform()
                             tt.Concatenate(a.GetMatrix())
                             tt.Concatenate(b.GetMatrix())
                             newb.PokeMatrix(vtk.vtkMatrix4x4())
                             newb.SetUserTransform(tt)
 
-                        vedo.plotter_instance.add(newb, render=False)
+                        vedo.plotter_instance.add(newb)
 
         vedo.plotter_instance.render()
 
         exporter = vtk.vtkX3DExporter()
         exporter.SetBinary(binary)
         exporter.FastestOff()
         exporter.SetInput(vedo.plotter_instance.window)
         exporter.SetFileName(fileoutput)
         # exporter.WriteToOutputStringOn() # see below
         exporter.Update()
         exporter.Write()
 
-# this can reduce the size by more than half...
-#        outstring = exporter.GetOutputString().decode("utf-8") # this fails though
-#        from vedo.utils import isInteger, isNumber, precision
-#        newlines = []
-#        for l in outstring.splitlines(True):
-#            ls = l.lstrip()
-#            content = ls.split()
-#            newls = ""
-#            for c in content:
-#                c2 = c.replace(',','')
-#                if isNumber(c2) and not isInteger(c2):
-#                    newc = precision(float(c2), 4)
-#                    if ',' in c:
-#                        newls += newc + ','
-#                    else:
-#                        newls += newc + ' '
-#                else:
-#                    newls += c + ' '
-#        newlines.append(newls.lstrip()+'\n')
-#        with open("fileoutput", 'w', encoding='UTF-8') as f:
-#            l = "".join(newlines)
-#            f.write(l)
+        # this can reduce the size by more than half...
+        #        outstring = exporter.GetOutputString().decode("utf-8") # this fails though
+        #        from vedo.utils import isInteger, isNumber, precision
+        #        newlines = []
+        #        for l in outstring.splitlines(True):
+        #            ls = l.lstrip()
+        #            content = ls.split()
+        #            newls = ""
+        #            for c in content:
+        #                c2 = c.replace(',','')
+        #                if isNumber(c2) and not isInteger(c2):
+        #                    newc = precision(float(c2), 4)
+        #                    if ',' in c:
+        #                        newls += newc + ','
+        #                    else:
+        #                        newls += newc + ' '
+        #                else:
+        #                    newls += c + ' '
+        #        newlines.append(newls.lstrip()+'\n')
+        #        with open("fileoutput", 'w', encoding='UTF-8') as f:
+        #            l = "".join(newlines)
+        #            f.write(l)
 
         x3d_html = _x3d_html.replace("~fileoutput", fileoutput)
         wsize = vedo.plotter_instance.window.GetSize()
         x3d_html = x3d_html.replace("~width", str(wsize[0]))
         x3d_html = x3d_html.replace("~height", str(wsize[1]))
-        with open(fileoutput.replace(".x3d", ".html"), "w", encoding='UTF-8') as outF:
+        with open(fileoutput.replace(".x3d", ".html"), "w", encoding="UTF-8") as outF:
             outF.write(x3d_html)
-            vedo.logger.info(
-                f"Saved files {fileoutput} and {fileoutput.replace('.x3d','.html')}"
-            )
+            vedo.logger.info(f"Saved files {fileoutput} and {fileoutput.replace('.x3d','.html')}")
 
     ####################################################################
     elif fr.endswith(".html"):
         savebk = vedo.notebook_backend
         vedo.notebook_backend = "k3d"
         vedo.settings.default_backend = "k3d"
         plt = vedo.backends.get_notebook_backend(vedo.plotter_instance.actors)
- 
-        with open(fileoutput, "w", encoding='UTF-8') as fp:
-             fp.write(plt.get_snapshot())
- 
+
+        with open(fileoutput, "w", encoding="UTF-8") as fp:
+            fp.write(plt.get_snapshot())
+
         vedo.notebook_backend = savebk
         vedo.settings.default_backend = savebk
 
     else:
         vedo.logger.error(f"export extension {fr.split('.')[-1]} is not supported")
 
     return vedo.plotter_instance
@@ -1678,68 +1683,75 @@
                 objs = [objs]
         else:
             # colors.printc("Trying to import a single mesh.. use load() instead.", c='r')
             # colors.printc(" -> try to load a single object with load().", c='r')
             objs = [loadnumpy(fileinput)]
 
         plt.actors = objs
-        plt.add(objs, render=False)
+        plt.add(objs)
         return plt
 
     elif ".obj" in fileinput.lower():
 
-        plt = vedo.Plotter()
+        window = vtk.vtkRenderWindow()
+        window.SetOffScreenRendering(1)
+        renderer = vtk.vtkRenderer()
+        window.AddRenderer(renderer)
 
         importer = vtk.vtkOBJImporter()
         importer.SetFileName(fileinput)
         if mtl_file is not False:
             if mtl_file is None:
                 mtl_file = fileinput.replace(".obj", ".mtl").replace(".OBJ", ".MTL")
             importer.SetFileNameMTL(mtl_file)
         if texture_path is not False:
             if texture_path is None:
                 texture_path = fileinput.replace(".obj", ".txt").replace(".OBJ", ".TXT")
             importer.SetTexturePath(texture_path)
-        importer.SetRenderWindow(plt.window)
+        importer.SetRenderWindow(window)
         importer.Update()
 
-        actors = plt.renderer.GetActors()
+        plt = vedo.Plotter()
+
+        actors = renderer.GetActors()
         actors.InitTraversal()
         for _ in range(actors.GetNumberOfItems()):
             vactor = actors.GetNextActor()
             act = Mesh(vactor)
             act_tu = vactor.GetTexture()
             if act_tu:
-                act_tu.InterpolateOn()
                 act.texture(act_tu)
             plt.actors.append(act)
         return plt
+
     return None
 
 
 ##########################################################
-def screenshot(filename="screenshot.png", scale=None, asarray=False):
+def screenshot(filename="screenshot.png", scale=1, asarray=False):
     """
     Save a screenshot of the current rendering window.
 
     Arguments:
         scale : (int)
-            set image magnification as an integer multiplicative factor
+            Set image magnification as an integer multiplicative factor.
+            E.g. setting a magnification of 2 produces an image twice as large,
+            but 10x slower to generate.
         asarray : (bool)
-            return a numpy array of the image
+            Return a numpy array of the image
     """
     if not vedo.plotter_instance or not vedo.plotter_instance.window:
-        #vedo.logger.error("in screenshot(), rendering window is not present, skip.")
+        # vedo.logger.error("in screenshot(), rendering window is not present, skip.")
         return vedo.plotter_instance  ##########
 
-    if asarray:
+    if asarray and scale == 1:
         nx, ny = vedo.plotter_instance.window.GetSize()
         arr = vtk.vtkUnsignedCharArray()
         vedo.plotter_instance.window.GetRGBACharPixelData(0, 0, nx-1, ny-1, 0, arr)
-        narr = vedo.vtk2numpy(arr).T[:3].T.reshape([ny,nx,3])
+        narr = vedo.vtk2numpy(arr).T[:3].T.reshape([ny, nx, 3])
         narr = np.flip(narr, axis=0)
         return narr  ##########
 
     filename = str(filename)
 
     if filename.endswith(".pdf"):
         writer = vtk.vtkGL2PSExporter()
@@ -1747,62 +1759,59 @@
         writer.Write3DPropsAsRasterImageOff()
         writer.SilentOn()
         writer.SetSortToBSP()
         writer.SetFileFormatToPDF()
         writer.SetFilePrefix(filename.replace(".pdf", ""))
         writer.Write()
         return vedo.plotter_instance  ##########
-    
+
     elif filename.endswith(".svg"):
         writer = vtk.vtkGL2PSExporter()
         writer.SetRenderWindow(vedo.plotter_instance.window)
         writer.Write3DPropsAsRasterImageOff()
         writer.SilentOn()
         writer.SetSortToBSP()
         writer.SetFileFormatToSVG()
         writer.SetFilePrefix(filename.replace(".svg", ""))
         writer.Write()
         return vedo.plotter_instance  ##########
-    
+
     elif filename.endswith(".eps"):
         writer = vtk.vtkGL2PSExporter()
         writer.SetRenderWindow(vedo.plotter_instance.window)
         writer.Write3DPropsAsRasterImageOff()
         writer.SilentOn()
         writer.SetSortToBSP()
         writer.SetFileFormatToEPS()
         writer.SetFilePrefix(filename.replace(".eps", ""))
         writer.Write()
         return vedo.plotter_instance  ##########
 
-    if scale is None:
-        scale = settings.screeshot_scale
-
     if settings.screeshot_large_image:
         w2if = vtk.vtkRenderLargeImage()
         w2if.SetInput(vedo.plotter_instance.renderer)
         w2if.SetMagnification(scale)
-        w2if.Update()
     else:
         w2if = vtk.vtkWindowToImageFilter()
         w2if.SetInput(vedo.plotter_instance.window)
         if hasattr(w2if, "SetScale"):
-            w2if.SetScale(scale, scale)
+            w2if.SetScale(int(scale), int(scale))
         if settings.screenshot_transparent_background:
             w2if.SetInputBufferTypeToRGBA()
         w2if.ReadFrontBufferOff()  # read from the back buffer
-        w2if.Update()
+    w2if.Update()
 
-    # if asarray:
-    #     npdata = utils.vtk2numpy(w2if.GetOutput().GetPointData().GetArray("ImageScalars"))
-    #     npdata = npdata[:, [0, 1, 2]]
-    #     ydim, xdim, _ = w2if.GetOutput().GetDimensions()
-    #     npdata = npdata.reshape([xdim, ydim, -1])
-    #     npdata = np.flip(npdata, axis=0)
-    #     return npdata
+    if asarray and scale != 1:
+        pd = w2if.GetOutput().GetPointData()
+        npdata = utils.vtk2numpy(pd.GetArray("ImageScalars"))
+        npdata = npdata[:, [0, 1, 2]]
+        ydim, xdim, _ = w2if.GetOutput().GetDimensions()
+        npdata = npdata.reshape([xdim, ydim, -1])
+        npdata = np.flip(npdata, axis=0)
+        return npdata
 
     if filename.lower().endswith(".png"):
         writer = vtk.vtkPNGWriter()
         writer.SetFileName(filename)
         writer.SetInputData(w2if.GetOutput())
         writer.Write()
     elif filename.lower().endswith(".jpg") or filename.lower().endswith(".jpeg"):
@@ -1828,15 +1837,15 @@
             a python list of possible answers to choose from.
         default : (str)
             the default answer when just hitting return.
 
     Example:
         ```python
         import vedo
-        res = vedo.io.ask("Continue?", options=['Y','n'], default='Y', c='g')
+        res = vedo.file_io.ask("Continue?", options=['Y','n'], default='Y', c='g')
         print(res)
         ```
     """
     kwarg.update({"end": " "})
     if "invert" not in kwarg:
         kwarg.update({"invert": True})
     if "box" in kwarg:
@@ -1866,21 +1875,16 @@
 
 
 ##############################################################################################
 class Video:
     """
     Generate a video from a rendering window.
     """
-    def __init__(
-            self,
-            name="movie.mp4",
-            duration=None,
-            fps=24,
-            backend="imageio",
-        ):
+
+    def __init__(self, name="movie.mp4", duration=None, fps=24, backend="imageio"):
         """
         Class to generate a video from the specified rendering window.
         Program `ffmpeg` is used to create video from each generated frame.
 
         Arguments:
             name : (str)
                 name of the output file.
@@ -1888,29 +1892,29 @@
                 set the number of frames per second.
             duration : (float)
                 set the total `duration` of the video and recalculates `fps` accordingly.
             backend : (str)
                 the backend engine to be used `['imageio', 'ffmpeg', 'cv']`
 
         Examples:
-            - [make_video.py](examples/other/make_video.py)
+            - [make_video.py](https://github.com/marcomusy/vedo/tree/master/examples/other/make_video.py)
 
             ![](https://user-images.githubusercontent.com/32848391/50739007-2bfc2b80-11da-11e9-97e6-620a3541a6fa.jpg)
         """
         self.name = name
         self.duration = duration
         self.backend = backend
         self.fps = float(fps)
         self.command = "ffmpeg -loglevel panic -y -r"
         self.options = "-b:v 8000k"
 
         self.frames = []
         self.tmp_dir = TemporaryDirectory()
         self.get_filename = lambda x: os.path.join(self.tmp_dir.name, x)
-        colors.printc("Video file", self.name, "is open... ", c="m", end="")
+        colors.printc(":video: Video file", self.name, "is open... ", c="m", end="")
 
     def add_frame(self):
         """Add frame to current video."""
         fr = self.get_filename(str(len(self.frames)) + ".png")
         screenshot(fr)
         self.frames.append(fr)
         return self
@@ -1921,21 +1925,15 @@
         n = int(self.fps * pause)
         for _ in range(n):
             fr2 = self.get_filename(str(len(self.frames)) + ".png")
             self.frames.append(fr2)
             os.system("cp -f %s %s" % (fr, fr2))
         return self
 
-    def action(
-        self,
-        elevation=(0, 80),
-        azimuth=(0, 359),
-        cameras=(),
-        resetcam=False,
-    ):
+    def action(self, elevation=(0, 80), azimuth=(0, 359), cameras=(), resetcam=False):
         """
         Automatic shooting of a static scene by specifying rotation and elevation ranges.
 
         Arguments:
             elevation : list
                 initial and final elevation angles
             azimuth_range : list
@@ -1973,16 +1971,16 @@
         return self
 
     def close(self):
         """
         Render the video and write it to file.
         """
         if self.duration:
-            self.fps = int(len(self.frames) / float(self.duration) +0.5)
-            colors.printc("recalculated fps:", self.fps, c="m", end='')
+            self.fps = int(len(self.frames) / float(self.duration) + 0.5)
+            colors.printc("recalculated fps:", self.fps, c="m", end="")
         else:
             self.fps = int(self.fps)
 
         ########################################
         if self.backend == "ffmpeg":
             out = os.system(
                 self.command
@@ -1993,39 +1991,36 @@
                 + os.sep
                 + "%01d.png "
                 + self.options
                 + " "
                 + f"'{self.name}'"
             )
             if out:
-                vedo.logger.error(f"backend {self.backend} returning error: {out}")
+                vedo.logger.error(f":noentry: backend {self.backend} returning error: {out}")
             else:
-                colors.printc(f"saved as {self.name}", c="m")
+                colors.printc(f":save: saved to {self.name}", c="m")
 
         ########################################
         elif "cv" in self.backend:
             try:
                 import cv2
             except ImportError:
                 vedo.logger.error("opencv is not installed")
                 return
 
             cap = cv2.VideoCapture(os.path.join(self.tmp_dir.name, "%1d.png"))
             fourcc = cv2.VideoWriter_fourcc(*"mp4v")
             w, h = vedo.plotter_instance.window.GetSize()
-            w, h = w * settings.screeshot_scale, h * settings.screeshot_scale
             writer = cv2.VideoWriter(self.name, fourcc, self.fps, (w, h), True)
 
-            found = False
             while True:
                 ret, frame = cap.read()
                 if not ret:
                     break
                 writer.write(frame)
-                found = True
 
             cap.release()
             writer.release()
 
         ########################################
         elif "imageio" in self.backend:
             try:
@@ -2033,54 +2028,48 @@
             except ImportError:
                 vedo.logger.error("Please install imageio with:\n pip install imageio[ffmpeg]")
                 return
 
             if self.name.endswith(".mp4"):
                 writer = imageio.get_writer(self.name, fps=self.fps)
             elif self.name.endswith(".gif"):
-                writer = imageio.get_writer(self.name, mode='I', duration=1/self.fps)
+                writer = imageio.get_writer(self.name, mode="I", duration=1 / self.fps)
             elif self.name.endswith(".webm"):
                 writer = imageio.get_writer(self.name, format="webm", fps=self.fps)
             else:
                 vedo.logger.error(f"Unknown format of {self.name}.")
                 return
 
             for f in utils.humansort(self.frames):
                 image = imageio.v3.imread(f)
                 writer.append_data(image)
             try:
                 writer.close()
                 colors.printc(f"... saved as {self.name}", c="m")
             except:
-                colors.printc(f"Could not save video {self.name}", c="r")
+                colors.printc(f":noentry: Could not save video {self.name}", c="r")
 
         # finalize cleanup
         self.tmp_dir.cleanup()
 
-    def split_frames(self, output_dir='video_frames', prefix="frame_", format="png"):
+    def split_frames(self, output_dir="video_frames", prefix="frame_", format="png"):
         """Split an existing video file into frames."""
         try:
             import imageio
         except ImportError:
             vedo.logger.error("\nPlease install imageio with:\n pip install imageio")
             return
-        
+
         # Create the output directory if it doesn't exist
         if not os.path.exists(output_dir):
             os.makedirs(output_dir)
 
         # Create a reader object to read the video
         reader = imageio.get_reader(self.name)
 
         # Loop through each frame of the video and save it as image
         print()
         for i, frame in utils.progressbar(
-                enumerate(reader), 
-                title=f"writing {format} frames",
-                c='m',
-                width=20,
-            ):
-            output_file = os.path.join(
-                output_dir, 
-                f'{prefix}{str(i).zfill(5)}.{format}'
-            )
+            enumerate(reader), title=f"writing {format} frames", c="m", width=20
+        ):
+            output_file = os.path.join(output_dir, f"{prefix}{str(i).zfill(5)}.{format}")
             imageio.imwrite(output_file, frame, format=format)
```

### Comparing `vedo-2023.4.4/vedo/mesh.py` & `vedo-2023.4.5/vedo/mesh.py`

 * *Files 2% similar despite different names*

```diff
@@ -28,20 +28,16 @@
 
 
 ####################################################
 class Mesh(Points):
     """
     Build an instance of object `Mesh` derived from `vedo.PointCloud`.
     """
-    def __init__(
-        self,
-        inputobj=None,
-        c=None,
-        alpha=1,
-    ):
+
+    def __init__(self, inputobj=None, c=None, alpha=1):
         """
         Input can be a list of vertices and their connectivity (faces of the polygonal mesh),
         or directly a `vtkPolydata` object.
         For point clouds - e.i. no faces - just substitute the `faces` list with `None`.
 
         Example:
             `Mesh( [ [[x1,y1,z1],[x2,y2,z2], ...],  [[0,1,2], [1,2,3], ...] ] )`
@@ -64,18 +60,15 @@
 
         self._mapper.SetInterpolateScalarsBeforeMapping(
             vedo.settings.interpolate_scalars_before_mapping
         )
 
         if vedo.settings.use_polygon_offset:
             self._mapper.SetResolveCoincidentTopologyToPolygonOffset()
-            pof, pou = (
-                vedo.settings.polygon_offset_factor,
-                vedo.settings.polygon_offset_units,
-            )
+            pof, pou = (vedo.settings.polygon_offset_factor, vedo.settings.polygon_offset_units)
             self._mapper.SetResolveCoincidentTopologyPolygonOffsetParameters(pof, pou)
 
         inputtype = str(type(inputobj))
 
         if inputobj is None:
             pass
 
@@ -106,25 +99,25 @@
             self._data = gf.GetOutput()
 
         elif "trimesh" in inputtype:
             tact = vedo.utils.trimesh2vedo(inputobj)
             self._data = tact.polydata()
 
         elif "meshio" in inputtype:
-            if len(inputobj.cells):
+            if len(inputobj.cells) > 0:
                 mcells = []
                 for cellblock in inputobj.cells:
                     if cellblock.type in ("triangle", "quad"):
                         mcells += cellblock.data.tolist()
                 self._data = buildPolyData(inputobj.points, mcells)
             else:
                 self._data = buildPolyData(inputobj.points, None)
             # add arrays:
             try:
-                if len(inputobj.point_data):
+                if len(inputobj.point_data) > 0:
                     for k in inputobj.point_data.keys():
                         vdata = numpy2vtk(inputobj.point_data[k])
                         vdata.SetName(str(k))
                         self._data.GetPointData().AddArray(vdata)
             except AssertionError:
                 print("Could not add meshio point data, skip.")
             # try:
@@ -158,15 +151,15 @@
             else:
                 gf = vtk.vtkGeometryFilter()
                 gf.SetInputData(inputobj.GetOutput())
                 gf.Update()
                 self._data = gf.GetOutput()
 
         elif isinstance(inputobj, str):
-            dataset = vedo.io.load(inputobj)
+            dataset = vedo.file_io.load(inputobj)
             self.filename = inputobj
             if "TetMesh" in str(type(dataset)):
                 self._data = dataset.tomesh().polydata(False)
             else:
                 self._data = dataset.polydata(False)
 
         else:
@@ -234,22 +227,22 @@
                 self.property.SetDiffuse(1)
                 self.property.SetSpecular(0.05)
                 self.property.SetSpecularPower(5)
                 self._mapper.ScalarVisibilityOff()
 
         if alpha is not None:
             self.property.SetOpacity(alpha)
-        
+
         n = self._data.GetNumberOfPoints()
         self.pipeline = OperationNode(self, comment=f"#pts {n}")
 
     def _repr_html_(self):
         """
         HTML representation of the Mesh object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -260,63 +253,69 @@
         im = Image.fromarray(arr)
         buffered = io.BytesIO()
         im.save(buffered, format="PNG", quality=100)
         encoded = base64.b64encode(buffered.getvalue()).decode("utf-8")
         url = "data:image/png;base64," + encoded
         image = f"<img src='{url}'></img>"
 
-        # mesh statisitics
         bounds = "<br/>".join(
             [
-                precision(min_x,4) + " ... " + precision(max_x,4)
+                precision(min_x, 4) + " ... " + precision(max_x, 4)
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
         average_size = "{size:.3f}".format(size=self.average_size())
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         pdata = ""
         if self._data.GetPointData().GetScalars():
             if self._data.GetPointData().GetScalars().GetName():
                 name = self._data.GetPointData().GetScalars().GetName()
                 pdata = "<tr><td><b> point data array </b></td><td>" + name + "</td></tr>"
 
         cdata = ""
         if self._data.GetCellData().GetScalars():
             if self._data.GetCellData().GetScalars().GetName():
                 name = self._data.GetCellData().GetScalars().GetName()
                 cdata = "<tr><td><b> cell data array </b></td><td>" + name + "</td></tr>"
 
-        all = [
+        allt = [
             "<table>",
-            "<tr>", 
-            "<td>", image, "</td>",
-            "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
+            "<tr>",
+            "<td>",
+            image,
+            "</td>",
+            "<td style='text-align: center; vertical-align: center;'><br/>",
+            help_text,
             "<table>",
             "<tr><td><b> bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
-            "<tr><td><b> center of mass </b></td><td>" + precision(self.center_of_mass(),3) + "</td></tr>",
+            "<tr><td><b> center of mass </b></td><td>"
+            + precision(self.center_of_mass(), 3)
+            + "</td></tr>",
             "<tr><td><b> average size </b></td><td>" + str(average_size) + "</td></tr>",
-            "<tr><td><b> nr. points&nbsp/&nbspfaces </b></td><td>" 
-            + str(self.npoints) + "&nbsp/&nbsp" + str(self.ncells) + "</td></tr>",
+            "<tr><td><b> nr. points&nbsp/&nbspfaces </b></td><td>"
+            + str(self.npoints)
+            + "&nbsp/&nbsp"
+            + str(self.ncells)
+            + "</td></tr>",
             pdata,
             cdata,
             "</table>",
             "</table>",
         ]
-        return "\n".join(all)
-
+        return "\n".join(allt)
 
     def faces(self):
         """
         Get cell polygonal connectivity ids as a python `list`.
         The output format is: `[[id0 ... idn], [id0 ... idm],  etc]`.
         """
         arr1d = vtk2numpy(self._data.GetPolys().GetData())
@@ -443,38 +442,38 @@
 
         Examples:
             - [texturecubes.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/texturecubes.py)
 
             ![](https://vedo.embl.es/images/basic/texturecubes.png)
         """
         pd = self.polydata(False)
+        outimg = None
 
         if tname is None:  # disable texture
             pd.GetPointData().SetTCoords(None)
             pd.GetPointData().Modified()
             return self  ######################################
 
         if isinstance(tname, vtk.vtkTexture):
             tu = tname
-            outimg = self._data
 
         elif isinstance(tname, vedo.Picture):
             tu = vtk.vtkTexture()
             outimg = tname.inputdata()
 
         elif is_sequence(tname):
             tu = vtk.vtkTexture()
             outimg = vedo.picture._get_img(tname)
 
         elif isinstance(tname, str):
             tu = vtk.vtkTexture()
 
             if "https://" in tname:
                 try:
-                    tname = vedo.io.download(tname, verbose=False)
+                    tname = vedo.file_io.download(tname, verbose=False)
                 except:
                     vedo.logger.error(f"texture {tname} could not be downloaded")
                     return self
 
             fn = tname + ".jpg"
             if os.path.exists(tname):
                 fn = tname
@@ -486,17 +485,15 @@
             if ".jpg" in fnl or ".jpeg" in fnl:
                 reader = vtk.vtkJPEGReader()
             elif ".png" in fnl:
                 reader = vtk.vtkPNGReader()
             elif ".bmp" in fnl:
                 reader = vtk.vtkBMPReader()
             else:
-                vedo.logger.error(
-                    "in texture() supported files are only PNG, BMP or JPG"
-                )
+                vedo.logger.error("in texture() supported files are only PNG, BMP or JPG")
                 return self
             reader.SetFileName(fn)
             reader.Update()
             outimg = reader.GetOutput()
 
         else:
             vedo.logger.error(f"in texture() cannot understand input {type(tname)}")
@@ -560,15 +557,16 @@
                         ntc[:, 0] += ushift
                     if vshift:
                         ntc[:, 1] += vshift
                     tc = numpy2vtk(tc)
                 pd.GetPointData().SetTCoords(tc)
                 pd.GetPointData().Modified()
 
-        tu.SetInputData(outimg)
+        if outimg:
+            tu.SetInputData(outimg)
         tu.SetInterpolate(interpolate)
         tu.SetRepeat(repeat)
         tu.SetEdgeClamp(edge_clamp)
 
         self.property.SetColor(1, 1, 1)
         self._mapper.ScalarVisibilityOff()
         self.SetTexture(tu)
@@ -785,15 +783,19 @@
         mass = vtk.vtkMassProperties()
         mass.SetGlobalWarningDisplay(0)
         mass.SetInputData(self.polydata())
         mass.Update()
         return mass.GetVolume()
 
     def area(self):
-        """Get/set the surface area of mesh."""
+        """
+        Compute the surface area of mesh.
+        The mesh must be triangular for this to work.
+        See also `mesh.triangulate()`.
+        """
         mass = vtk.vtkMassProperties()
         mass.SetGlobalWarningDisplay(0)
         mass.SetInputData(self.polydata())
         mass.Update()
         return mass.GetSurfaceArea()
 
     def is_closed(self):
@@ -817,27 +819,24 @@
         fe.Update()
         ne = fe.GetOutput().GetNumberOfCells()
         return not bool(ne)
 
     def non_manifold_faces(self, remove=True, tol="auto"):
         """
         Detect and (try to) remove non-manifold faces of a triangular mesh.
-        
+
         Set `remove` to `False` to mark cells without removing them.
         Set `tol=0` for zero-tolerance, the result will be manifold but with holes.
         Set `tol>0` to cut off non-manifold faces, and try to recover the good ones.
         Set `tol="auto"` to make an automatic choice of the tolerance.
         """
         # mark original point and cell ids
         self.add_ids()
         toremove = self.boundaries(
-            boundary_edges=False, 
-            non_manifold_edges=True,
-            cell_edge=True,
-            return_cell_ids=True,
+            boundary_edges=False, non_manifold_edges=True, cell_edge=True, return_cell_ids=True
         )
         if len(toremove) == 0:
             return self
 
         points = self.points()
         faces = self.faces()
         centers = self.cell_centers()
@@ -854,30 +853,30 @@
             n = np.mean(norms, axis=0)
             dn = np.linalg.norm(n)
             if not dn:
                 continue
             n = n / dn
 
             p0, p1, p2 = points[faces[i]][:3]
-            v = np.cross(p1-p0, p2-p0)
+            v = np.cross(p1 - p0, p2 - p0)
             lv = np.linalg.norm(v)
             if not lv:
                 continue
             v = v / lv
 
             cosa = 1 - np.dot(n, v)
             deltas.append(cosa)
             deltas_i.append(i)
 
         recover = []
-        if len(deltas):
+        if len(deltas) > 0:
             mean_delta = np.mean(deltas)
             err_delta = np.std(deltas)
             txt = ""
-            if tol == "auto": #automatic choice
+            if tol == "auto":  # automatic choice
                 tol = mean_delta / 5
                 txt = f"\n Automatic tol. : {tol: .4f}"
             for i, cosa in zip(deltas_i, deltas):
                 if cosa < tol:
                     recover.append(i)
 
             vedo.logger.info(
@@ -892,18 +891,17 @@
         if not remove:
             mark = np.zeros(self.ncells, dtype=np.uint8)
             mark[recover] = 1
             mark[toremove] = 2
             self.celldata["NonManifoldCell"] = mark
         else:
             self.delete_cells(toremove)
- 
+
         self.pipeline = OperationNode(
-            "non_manifold_faces", parents=[self], 
-            comment=f"#cells {self._data.GetNumberOfCells()}",
+            "non_manifold_faces", parents=[self], comment=f"#cells {self._data.GetNumberOfCells()}"
         )
         return self
 
     def shrink(self, fraction=0.85):
         """Shrink the triangle polydata in the representation of the input mesh.
 
         Examples:
@@ -923,25 +921,23 @@
         return out
 
     def stretch(self, q1, q2):
         """
         Stretch mesh between points `q1` and `q2`.
 
         Examples:
-            - [aspring.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/aspring.py)
+            - [aspring1.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/aspring1.py)
 
             ![](https://vedo.embl.es/images/simulations/50738955-7e891800-11d9-11e9-85cd-02bd4f3f13ea.gif)
 
         .. note::
             for `Mesh` objects, two vectors `mesh.base`, and `mesh.top` must be defined.
         """
         if self.base is None:
-            vedo.logger.error(
-                "in stretch() must define vectors mesh.base and mesh.top at creation"
-            )
+            vedo.logger.error("in stretch() must define vectors mesh.base and mesh.top at creation")
             raise RuntimeError()
 
         p1, p2 = self.base, self.top
         q1, q2, z = np.asarray(q1), np.asarray(q2), np.array([0, 0, 1])
         a = p2 - p1
         b = q2 - q1
         plength = np.linalg.norm(a)
@@ -957,30 +953,22 @@
 
         cosa = np.dot(b, z) / qlength
         n = np.cross(b, z)
         if np.linalg.norm(n):
             T.RotateWXYZ(-np.rad2deg(np.arccos(cosa)), n)
         else:
             if np.dot(b, z) < 0:
-                T.RotateWXYZ(180, [1,0,0])
+                T.RotateWXYZ(180, [1, 0, 0])
 
         T.Translate(q1)
 
         self.SetUserMatrix(T.GetMatrix())
         return self
 
-    def crop(
-        self,
-        top=None,
-        bottom=None,
-        right=None,
-        left=None,
-        front=None,
-        back=None,
-    ):
+    def crop(self, top=None, bottom=None, right=None, left=None, front=None, back=None):
         """
         Crop an `Mesh` object.
         Use this method at creation (before moving the object).
 
         Arguments:
             top : (float)
                 fraction to crop from the top plane (positive z)
@@ -1033,20 +1021,18 @@
         clipper.GenerateClipScalarsOff()
         clipper.SetValue(0)
         clipper.Update()
         self._update(clipper.GetOutput())
         self.point_locator = None
 
         self.pipeline = OperationNode(
-            "crop", parents=[self], 
-            comment=f"#pts {self._data.GetNumberOfPoints()}",
+            "crop", parents=[self], comment=f"#pts {self._data.GetNumberOfPoints()}"
         )
         return self
 
-
     def cap(self, return_cap=False):
         """
         Generate a "cap" on a clipped mesh, or caps sharp edges.
 
         Examples:
             - [cut_and_cap.py](https://github.com/marcomusy/vedo/tree/master/examples/advanced/cut_and_cap.py)
 
@@ -1087,28 +1073,26 @@
             # assign the same transformation to the copy
             m.SetOrigin(self.GetOrigin())
             m.SetScale(self.GetScale())
             m.SetOrientation(self.GetOrientation())
             m.SetPosition(self.GetPosition())
 
             m.pipeline = OperationNode(
-                "cap", parents=[self], 
-                comment=f"#pts {m._data.GetNumberOfPoints()}",
+                "cap", parents=[self], comment=f"#pts {m._data.GetNumberOfPoints()}"
             )
             return m
 
         polyapp = vtk.vtkAppendPolyData()
         polyapp.AddInputData(poly)
         polyapp.AddInputData(tf.GetOutput())
         polyapp.Update()
         out = self._update(polyapp.GetOutput()).clean()
 
         out.pipeline = OperationNode(
-            "capped", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+            "capped", parents=[self], comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     def join(self, polys=True, reset=False):
         """
         Generate triangle strips and/or polylines from
         input polygons, triangle strips, and lines.
@@ -1163,39 +1147,39 @@
             cpd.Update()
             poly = cpd.GetOutput()
             vpts = poly.GetCell(0).GetPoints().GetData()
             poly.GetPoints().SetData(vpts)
             return self._update(poly)
 
         out = self._update(sf.GetOutput())
-        out.pipeline = OperationNode("join", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+        out.pipeline = OperationNode(
+            "join", parents=[self], comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     def join_segments(self, closed=True, tol=1e-03):
         """
         Join line segments into contiguous lines.
         Useful to call with `triangulate()` method.
 
         Returns:
             list of `shapes.Lines`
-        
+
         Example:
             ```python
             from vedo import *
             msh = Torus().alpha(0.1).wireframe()
             intersection = msh.intersect_with_plane(normal=[1,1,1]).c('purple5')
             slices = [s.triangulate() for s in intersection.join_segments()]
             show(msh, intersection, merge(slices), axes=1, viewup='z')
             ```
             ![](https://vedo.embl.es/images/feats/join_segments.jpg)
         """
         vlines = []
-        for ipiece, outline in enumerate(self.split()):
+        for ipiece, outline in enumerate(self.split(must_share_edge=False)):
 
             outline.clean()
             pts = outline.points()
             if len(pts) < 3:
                 continue
             avesize = outline.average_size()
             lines = outline.lines()
@@ -1218,34 +1202,36 @@
                         # joinedpts.append(p1)
                         k = id1
                         lines.pop(j)
                         break
 
                     elif np.linalg.norm(p1 - pk) < tol:
                         n = len(line)
-                        for m in reversed(range(0, n-1)):
+                        for m in reversed(range(0, n - 1)):
                             joinedpts.append(pts[line[m]])
                         # joinedpts.append(p0)
                         k = id0
                         lines.pop(j)
                         break
 
             if len(joinedpts) > 1:
                 newline = vedo.shapes.Line(joinedpts, closed=closed)
                 newline.clean()
                 newline.SetProperty(self.GetProperty())
                 newline.property = self.GetProperty()
-                newline.pipeline = OperationNode("join_segments", parents=[self], 
+                newline.pipeline = OperationNode(
+                    "join_segments",
+                    parents=[self],
                     comment=f"#pts {newline._data.GetNumberOfPoints()}",
                 )
                 vlines.append(newline)
 
         return vlines
 
-    def slice(self, origin=[0,0,0], normal=[1,0,0]):
+    def slice(self, origin=(0, 0, 0), normal=(1, 0, 0)):
         """
         Slice a mesh with a plane and fill the contour.
 
         Example:
             ```python
             from vedo import *
             msh = Mesh(dataurl+"bunny.obj").alpha(0.1).wireframe()
@@ -1258,19 +1244,17 @@
         See also: `join()`, `join_segments()`, `cap()`, `cut_with_plane()`.
         """
         intersection = self.intersect_with_plane(origin=origin, normal=normal)
         slices = [s.triangulate() for s in intersection.join_segments()]
         mslices = vedo.pointcloud.merge(slices)
         if mslices:
             mslices.name = "MeshSlice"
-            mslices.pipeline = OperationNode(
-                "slice", parents=[self], comment=f"normal = {normal}")
+            mslices.pipeline = OperationNode("slice", parents=[self], comment=f"normal = {normal}")
         return mslices
 
-
     def triangulate(self, verts=True, lines=True):
         """
         Converts mesh polygons into triangles.
 
         If the input mesh is only made of 2D lines (no faces) the output will be a triangulation
         that fills the internal area. The contours may be concave, and may even contain holes,
         i.e. a contour may contain an internal contour winding in the opposite
@@ -1281,35 +1265,38 @@
                 if True, break input vertex cells into individual vertex cells
                 (one point per cell). If False, the input vertex cells will be ignored.
             lines : (bool)
                 if True, break input polylines into line segments.
                 If False, input lines will be ignored and the output will have no lines.
         """
         if self._data.GetNumberOfPolys() or self._data.GetNumberOfStrips():
+            # print("vtkTriangleFilter")
             tf = vtk.vtkTriangleFilter()
             tf.SetPassLines(lines)
             tf.SetPassVerts(verts)
 
         elif self._data.GetNumberOfLines():
+            # print("vtkContourTriangulator")
             tf = vtk.vtkContourTriangulator()
-        
+            tf.TriangulationErrorDisplayOn()
+
         else:
             vedo.logger.debug("input in triangulate() seems to be void! Skip.")
             return self
 
         tf.SetInputData(self._data)
         tf.Update()
-        out = self._update(tf.GetOutput())
+        out = self._update(tf.GetOutput()).lw(0).lighting("default")
+        out.PickableOn()
 
         out.pipeline = OperationNode(
-            "triangulate", parents=[self], comment=f"#cells {out._data.GetNumberOfCells()}",
+            "triangulate", parents=[self], comment=f"#cells {out.inputdata().GetNumberOfCells()}"
         )
         return out
 
-
     def compute_cell_area(self, name="Area"):
         """Add to this mesh a cell data array containing the areas of the polygonal faces"""
         csf = vtk.vtkCellSizeFilter()
         csf.SetInputData(self.polydata(False))
         csf.SetComputeArea(True)
         csf.SetComputeVolume(False)
         csf.SetComputeLength(False)
@@ -1407,20 +1394,14 @@
         if tol:
             vald.SetTolerance(tol)
         vald.SetInputData(self._data)
         vald.Update()
         varr = vald.GetOutput().GetCellData().GetArray("ValidityState")
         return vtk2numpy(varr)
 
-
-    @deprecated(reason=vedo.colors.red + "Please use compute_curvature()" + vedo.colors.reset)
-    def addCurvatureScalars(self, method=0):
-        """Deprecated. Please use `compute_curvature()`"""
-        return self.compute_curvature(method)
-
     def compute_curvature(self, method=0):
         """
         Add scalars to `Mesh` that contains the curvature calculated in three different ways.
 
         Variable `method` can be:
         - 0 = gaussian
         - 1 = mean curvature
@@ -1438,26 +1419,14 @@
         curve.SetInputData(self._data)
         curve.SetCurvatureType(method)
         curve.Update()
         self._update(curve.GetOutput())
         self._mapper.ScalarVisibilityOn()
         return self
 
-    def compute_connectivity(self):
-        """
-        Flag a mesh by connectivity: each disconnected region will receive a different Id.
-        You can access the array of ids through `mesh.pointdata["RegionId"]`.
-        """
-        cf = vtk.vtkConnectivityFilter()
-        cf.SetInputData(self.polydata(False))
-        cf.SetExtractionModeToAllRegions()
-        cf.ColorRegionsOn()
-        cf.Update()
-        return self._update(cf.GetOutput())
-
     def compute_elevation(self, low=(0, 0, 0), high=(0, 0, 1), vrange=(0, 1)):
         """
         Add to `Mesh` a scalar array that contains distance along a specified direction.
 
         Arguments:
             low : (list)
                 one end of the line (small scalar values)
@@ -1480,96 +1449,14 @@
         ef.SetHighPoint(high)
         ef.SetScalarRange(vrange)
         ef.Update()
         self._update(ef.GetOutput())
         self._mapper.ScalarVisibilityOn()
         return self
 
-    @deprecated(reason=vedo.colors.red + "Please use add_shadow()" + vedo.colors.reset)
-    def addShadow(self, *a, **b):
-        """Please use `add_shadow()`"""
-        return self.add_shadow(*a, **b)
-
-    def add_shadow(
-        self,
-        plane,
-        point,
-        direction=None,
-        c=(0.6, 0.6, 0.6),
-        alpha=1,
-        culling=0,
-    ):
-        """
-        Generate a shadow out of an `Mesh` on one of the three Cartesian planes.
-        The output is a new `Mesh` representing the shadow.
-        This new mesh is accessible through `mesh.shadow`.
-        By default the shadow mesh is placed on the bottom wall of the bounding box.
-
-        See also `pointcloud.project_on_plane()`.
-
-        Arguments:
-            plane : (str, Plane)
-                if plane is `str`, plane can be one of `['x', 'y', 'z']`,
-                represents x-plane, y-plane and z-plane, respectively.
-                Otherwise, plane should be an instance of `vedo.shapes.Plane`
-            point : (float, array)
-                if plane is `str`, point should be a float represents the intercept.
-                Otherwise, point is the camera point of perspective projection
-            direction : (list)
-                direction of oblique projection
-            culling : (int)
-                choose between front [1] or backface [-1] culling or None.
-
-        Examples:
-            - [shadow1.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/shadow1.py)
-            - [airplane1.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/airplane1.py)
-            - [airplane2.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/airplane2.py)
-
-            ![](https://vedo.embl.es/images/simulations/57341963-b8910900-713c-11e9-898a-84b6d3712bce.gif)
-        """
-        shad = self.clone()
-        shad.name = "Shadow"
-        pts = shad.points()
-        if "x" == plane:
-            # shad = shad.project_on_plane('x')
-            # instead do it manually so in case of alpha<1 we dont see glitches due to coplanar points
-            # we leave a small tolerance of 0.1% in thickness
-            x0, x1 = self.xbounds()
-            pts[:, 0] = (pts[:, 0] - (x0 + x1) / 2) / 1000 + self.GetOrigin()[0]
-            shad.points(pts)
-            shad.x(point)
-        elif "y" == plane:
-            x0, x1 = self.ybounds()
-            pts[:, 1] = (pts[:, 1] - (x0 + x1) / 2) / 1000 + self.GetOrigin()[1]
-            shad.points(pts)
-            shad.y(point)
-        elif "z" == plane:
-            x0, x1 = self.zbounds()
-            pts[:, 2] = (pts[:, 2] - (x0 + x1) / 2) / 1000 + self.GetOrigin()[2]
-            shad.points(pts)
-            shad.z(point)
-        else:
-            shad = shad.project_on_plane(plane, point, direction)
-
-        shad.c(c).alpha(alpha).flat()
-
-        if culling in (1, True):
-            shad.frontface_culling()
-        elif culling == -1:
-            shad.backface_culling()
-
-        shad.GetProperty().LightingOff()
-        shad.SetPickable(False)
-        shad.SetUseBounds(True)
-
-        if shad not in self.shadows:
-            self.shadows.append(shad)
-            shad.info = dict(plane=plane, point=point, direction=direction)
-        return self
-
     def subdivide(self, n=1, method=0, mel=None):
         """
         Increase the number of vertices of a surface mesh.
 
         Arguments:
             n : (int)
                 number of subdivisions.
@@ -1603,15 +1490,15 @@
             sdf.SetNumberOfSubdivisions(n)
 
         sdf.SetInputData(originalMesh)
         sdf.Update()
         out = sdf.GetOutput()
 
         self.pipeline = OperationNode(
-            "subdivide", parents=[self], comment=f"#pts {out.GetNumberOfPoints()}",
+            "subdivide", parents=[self], comment=f"#pts {out.GetNumberOfPoints()}"
         )
         return self._update(out)
 
     def decimate(self, fraction=0.5, n=None, method="quadric", boundaries=False):
         """
         Downsample the number of vertices in a mesh to `fraction`.
 
@@ -1650,28 +1537,26 @@
                 decimate.BoundaryVertexDeletionOn()
         decimate.SetInputData(poly)
         decimate.SetTargetReduction(1 - fraction)
         decimate.Update()
         out = decimate.GetOutput()
 
         self.pipeline = OperationNode(
-            "decimate", parents=[self], comment=f"#pts {out.GetNumberOfPoints()}",
+            "decimate", parents=[self], comment=f"#pts {out.GetNumberOfPoints()}"
         )
         return self._update(out)
 
     def collapse_edges(self, distance, iterations=1):
         """Collapse mesh edges so that are all above distance."""
         self.clean()
         x0, x1, y0, y1, z0, z1 = self.bounds()
         fs = min(x1 - x0, y1 - y0, z1 - z0) / 10
         d2 = distance * distance
         if distance > fs:
-            vedo.logger.error(
-                f"distance parameter is too large, should be < {fs}, skip!"
-            )
+            vedo.logger.error(f"distance parameter is too large, should be < {fs}, skip!")
             return self
         for _ in range(iterations):
             medges = self.edges()
             pts = self.points()
             newpts = np.array(pts)
             moved = []
             for e in medges:
@@ -1686,23 +1571,19 @@
                         moved += [id0, id1]
 
             self.points(newpts)
             self.clean()
         self.compute_normals()
 
         self.pipeline = OperationNode(
-            "collapse_edges", parents=[self], 
-            comment=f"#pts {self._data.GetNumberOfPoints()}",
+            "collapse_edges", parents=[self], comment=f"#pts {self._data.GetNumberOfPoints()}"
         )
         return self
 
-
-    def smooth(
-        self, niter=15, pass_band=0.1, edge_angle=15, feature_angle=60, boundary=False
-    ):
+    def smooth(self, niter=15, pass_band=0.1, edge_angle=15, feature_angle=60, boundary=False):
         """
         Adjust mesh point positions using the `Windowed Sinc` function interpolation kernel.
 
         Arguments:
             niter : (int)
                 number of iterations.
             pass_band : (float)
@@ -1732,16 +1613,16 @@
         smf.NormalizeCoordinatesOn()
         smf.NonManifoldSmoothingOn()
         smf.FeatureEdgeSmoothingOn()
         smf.SetBoundarySmoothing(boundary)
         smf.Update()
         out = self._update(smf.GetOutput())
 
-        out.pipeline = OperationNode("smooth", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+        out.pipeline = OperationNode(
+            "smooth", parents=[self], comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     @deprecated(reason=vedo.colors.red + "Please use fill_holes()" + vedo.colors.reset)
     def fillHoles(self, size=None):
         """Deprecated. Please use `fill_holes()`"""
         return self.fill_holes(size)
@@ -1763,18 +1644,17 @@
         if not size:
             mb = self.diagonal_size()
             size = mb / 10
         fh.SetHoleSize(size)
         fh.SetInputData(self._data)
         fh.Update()
         out = self._update(fh.GetOutput())
-        
+
         out.pipeline = OperationNode(
-            "fill_holes", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+            "fill_holes", parents=[self], comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     def is_inside(self, point, tol=1e-05):
         """Return True if point is inside a polydata closed surface."""
         poly = self.polydata()
         points = vtk.vtkPoints()
@@ -1833,16 +1713,16 @@
         if return_ids:
             return ids
 
         pcl = Points(ptsa[ids])
         pcl.name = "InsidePoints"
 
         pcl.pipeline = OperationNode(
-            "inside_points", parents=[self, ptsa], 
-            comment=f"#pts {pcl._data.GetNumberOfPoints()}",
+            "inside_points", parents=[self, ptsa],
+            comment=f"#pts {pcl.inputdata().GetNumberOfPoints()}"
         )
         return pcl
 
     def boundaries(
         self,
         boundary_edges=True,
         manifold_edges=False,
@@ -1866,15 +1746,15 @@
             feature_angle : (bool)
                 Specify the min angle btw 2 faces for extracting edges.
             return_point_ids : (bool)
                 return a numpy array of point indices
             return_cell_ids : (bool)
                 return a numpy array of cell indices
             cell_edge : (bool)
-                set to `True` if a cell need to share an edge with 
+                set to `True` if a cell need to share an edge with
                 the boundary line, or `False` if a single vertex is enough
 
         Examples:
             - [boundaries.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/boundaries.py)
 
             ![](https://vedo.embl.es/images/basic/boundaries.png)
         """
@@ -1924,31 +1804,31 @@
         else:
 
             fe.SetInputData(self.polydata())
             fe.Update()
             msh = Mesh(fe.GetOutput(), c="p").lw(5).lighting("off")
 
             msh.pipeline = OperationNode(
-                "boundaries", 
-                parents=[self], 
+                "boundaries",
+                parents=[self],
                 shape="octagon",
-                comment=f"#pts {msh._data.GetNumberOfPoints()}",
+                comment=f"#pts {msh.inputdata().GetNumberOfPoints()}",
             )
             return msh
 
-
     def imprint(self, loopline, tol=0.01):
         """
         Imprint the contact surface of one object onto another surface.
 
         Arguments:
             loopline : vedo.shapes.Line
                 a Line object to be imprinted onto the mesh.
             tol : (float), optional
-                projection tolerance which controls how close the imprint surface must be to the target.
+                projection tolerance which controls how close the imprint
+                surface must be to the target.
 
         Example:
             ```python
             from vedo import *
             grid = Grid()#.triangulate()
             circle = Circle(r=0.3, res=24).pos(0.11,0.12)
             line = Line(circle, closed=True, lw=4, c='r4')
@@ -1970,16 +1850,16 @@
         imp.SetImprintData(clean_loop.GetOutput())
         imp.SetTolerance(tol)
         imp.BoundaryEdgeInsertionOn()
         imp.TriangulateOutputOn()
         imp.Update()
         out = self._update(imp.GetOutput())
 
-        out.pipeline = OperationNode("imprint", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+        out.pipeline = OperationNode(
+            "imprint", parents=[self], comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     def connected_vertices(self, index):
         """Find all vertices connected to an input vertex specified by its index.
 
         Examples:
@@ -2035,15 +1915,14 @@
         extractSelection.SetInputData(1, selection)
         extractSelection.Update()
         gf = vtk.vtkGeometryFilter()
         gf.SetInputData(extractSelection.GetOutput())
         gf.Update()
         return Mesh(gf.GetOutput()).lw(1)
 
-
     def silhouette(self, direction=None, border_edges=True, feature_angle=False):
         """
         Return a new line `Mesh` which corresponds to the outer `silhouette`
         of the input as seen along a specified `direction`, this can also be
         a `vtkCamera` object.
 
         Arguments:
@@ -2127,15 +2006,15 @@
             factor.SetCamera(camera)
         else:
             plt = vedo.plotter_instance
             if plt and plt.renderer and plt.renderer.GetActiveCamera():
                 factor.SetCamera(plt.renderer.GetActiveCamera())
             else:
                 factor._isfollower = True  # postpone to show() call
-        
+
         return factor
 
     def isobands(self, n=10, vmin=None, vmax=None):
         """
         Return a new `Mesh` representing the isobands of the active scalars.
         This is a new mesh where the scalar is now associated to cell faces and
         used to colorize the mesh.
@@ -2290,73 +2169,99 @@
         m.SetProperty(prop)
         m.property = prop
         # assign the same transformation
         m.SetOrigin(self.GetOrigin())
         m.SetScale(self.GetScale())
         m.SetOrientation(self.GetOrientation())
         m.SetPosition(self.GetPosition())
-        
+
         m.compute_normals(cells=False).flat().lighting("default")
 
         m.pipeline = OperationNode(
-            "extrude", parents=[self], 
-            comment=f"#pts {m._data.GetNumberOfPoints()}",
+            "extrude", parents=[self],
+            comment=f"#pts {m.inputdata().GetNumberOfPoints()}"
         )
         return m
 
-    def split(self, maxdepth=1000, flag=False):
+    def split(self, maxdepth=1000, flag=False, must_share_edge=False, sort_by_area=True):
         """
         Split a mesh by connectivity and order the pieces by increasing area.
 
         Arguments:
             maxdepth : (int)
                 only consider this maximum number of mesh parts.
             flag : (bool)
                 if set to True return the same single object,
                 but add a "RegionId" array to flag the mesh subparts
+            must_share_edge : (bool)
+                if True, mesh regions that only share single points will be split.
+            sort_by_area : (bool)
+                if True, sort the mesh parts by decreasing area.
 
         Examples:
             - [splitmesh.py](https://github.com/marcomusy/vedo/tree/master/examples/advanced/splitmesh.py)
 
             ![](https://vedo.embl.es/images/advanced/splitmesh.png)
         """
         pd = self.polydata(False)
-        cf = vtk.vtkConnectivityFilter()
+        if must_share_edge:
+            if pd.GetNumberOfPolys() == 0:
+                vedo.logger.warning("in split(): no polygons found. Skip.")
+                return [self]
+            cf = vtk.vtkPolyDataEdgeConnectivityFilter()
+            cf.BarrierEdgesOff()
+        else:
+            cf = vtk.vtkPolyDataConnectivityFilter()
+
         cf.SetInputData(pd)
         cf.SetExtractionModeToAllRegions()
         cf.SetColorRegions(True)
         cf.Update()
+        out = cf.GetOutput()
+
+        if not out.GetNumberOfPoints():
+            return [self]
 
         if flag:
-            return self._update(cf.GetOutput())
+            self.pipeline = OperationNode("split mesh", parents=[self])
+            return self._update(out)
 
-        if not cf.GetOutput().GetNumberOfPoints():
-            return []
+        a = Mesh(out)
+        if must_share_edge:
+            arr = a.celldata["RegionId"]
+            on = "cells"
+        else:
+            arr = a.pointdata["RegionId"]
+            on = "points"
 
-        a = Mesh(cf.GetOutput())
         alist = []
-        for t in range(max(a.pointdata["RegionId"]) + 1):
+        for t in range(max(arr) + 1):
             if t == maxdepth:
                 break
-            suba = a.clone().threshold("RegionId", t - 0.1, t + 0.1)
-            area = suba.area()
+            suba = a.clone().threshold("RegionId", t, t, on=on)
+            if sort_by_area:
+                area = suba.area()
+            else:
+                area = 0  # dummy
             alist.append([suba, area])
 
-        alist.sort(key=lambda x: x[1])
-        alist.reverse()
+        if sort_by_area:
+            alist.sort(key=lambda x: x[1])
+            alist.reverse()
+
         blist = []
         for i, l in enumerate(alist):
             l[0].color(i + 1).phong()
             l[0].mapper().ScalarVisibilityOff()
             blist.append(l[0])
-        
-            if i<10:
+            if i < 10:
                 l[0].pipeline = OperationNode(
-                    f"split mesh {i}", parents=[self], 
-                    comment=f"#pts {l[0]._data.GetNumberOfPoints()}",
+                    f"split mesh {i}",
+                    parents=[self],
+                    comment=f"#pts {l[0].inputdata().GetNumberOfPoints()}",
                 )
         return blist
 
     @deprecated(reason=vedo.colors.red + "Please use extract_largest_region()" + vedo.colors.reset)
     def extractLargestRegion(self):
         "Deprecated. Please use `extract_largest_region()`"
         return self.extract_largest_region()
@@ -2364,15 +2269,15 @@
     def extract_largest_region(self):
         """
         Extract the largest connected part of a mesh and discard all the smaller pieces.
 
         Examples:
             - [largestregion.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/largestregion.py)
         """
-        conn = vtk.vtkConnectivityFilter()
+        conn = vtk.vtkPolyDataConnectivityFilter()
         conn.SetExtractionModeToLargestRegion()
         conn.ScalarConnectivityOff()
         conn.SetInputData(self._data)
         conn.Update()
         m = Mesh(conn.GetOutput())
         pr = vtk.vtkProperty()
         pr.DeepCopy(self.property)
@@ -2383,16 +2288,16 @@
         m.SetScale(self.GetScale())
         m.SetOrientation(self.GetOrientation())
         m.SetPosition(self.GetPosition())
         vis = self._mapper.GetScalarVisibility()
         m.mapper().SetScalarVisibility(vis)
 
         m.pipeline = OperationNode(
-            "extract_largest_region", parents=[self], 
-            comment=f"#pts {m._data.GetNumberOfPoints()}",
+            "extract_largest_region", parents=[self],
+            comment=f"#pts {m.inputdata().GetNumberOfPoints()}"
         )
         return m
 
     def boolean(self, operation, mesh2, method=0, tol=None):
         """Volumetric union, intersection and subtraction of surfaces.
 
         Use `operation` for the allowed operations `['plus', 'intersect', 'minus']`.
@@ -2429,18 +2334,18 @@
         bf.Update()
 
         msh = Mesh(bf.GetOutput(), c=None)
         msh.flat()
         msh.name = self.name + operation + mesh2.name
 
         msh.pipeline = OperationNode(
-            "boolean " + operation, 
-            parents=[self, mesh2], 
+            "boolean " + operation,
+            parents=[self, mesh2],
             shape="cylinder",
-            comment=f"#pts {msh._data.GetNumberOfPoints()}",
+            comment=f"#pts {msh.inputdata().GetNumberOfPoints()}",
         )
         return msh
 
     @deprecated(reason=vedo.colors.red + "Please use intersect_with()" + vedo.colors.reset)
     def intersectWith(self, mesh2, tol=1e-06):
         "Deprecated. Please use `intersect_with()`"
         return self.intersect_with(mesh2, tol)
@@ -2466,17 +2371,17 @@
         bf.SetTolerance(tol)
         bf.SetInputData(0, poly1)
         bf.SetInputData(1, poly2)
         bf.Update()
         msh = Mesh(bf.GetOutput(), "k", 1).lighting("off")
         msh.GetProperty().SetLineWidth(3)
         msh.name = "SurfaceIntersection"
-        
+
         msh.pipeline = OperationNode(
-            "intersect_with", parents=[self, mesh2], comment=f"#pts {msh.npoints}",
+            "intersect_with", parents=[self, mesh2], comment=f"#pts {msh.npoints}"
         )
         return msh
 
     def intersect_with_line(self, p0, p1=None, return_ids=False, tol=0):
         """
         Return the list of points intersecting the mesh
         along the segment defined by two points `p0` and `p1`.
@@ -2501,34 +2406,34 @@
             self.line_locator = vtk.vtkOBBTree()
             self.line_locator.SetDataSet(self.polydata())
             if not tol:
                 tol = mag(np.asarray(p1) - np.asarray(p0)) / 10000
             self.line_locator.SetTolerance(tol)
             self.line_locator.BuildLocator()
 
-        intersectPoints = vtk.vtkPoints()
+        vpts = vtk.vtkPoints()
         idlist = vtk.vtkIdList()
-        self.line_locator.IntersectWithLine(p0, p1, intersectPoints, idlist)
+        self.line_locator.IntersectWithLine(p0, p1, vpts, idlist)
         pts = []
-        for i in range(intersectPoints.GetNumberOfPoints()):
+        for i in range(vpts.GetNumberOfPoints()):
             intersection = [0, 0, 0]
-            intersectPoints.GetPoint(i, intersection)
+            vpts.GetPoint(i, intersection)
             pts.append(intersection)
         pts = np.array(pts)
 
         if return_ids:
             pts_ids = []
             for i in range(idlist.GetNumberOfIds()):
                 cid = idlist.GetId(i)
                 pts_ids.append(cid)
             return (pts, np.array(pts_ids).astype(np.uint32))
 
         return pts
 
-    def intersect_with_plane(self, origin=[0,0,0], normal=[1,0,0]):
+    def intersect_with_plane(self, origin=(0, 0, 0), normal=(1, 0, 0)):
         """
         Intersect this Mesh with a plane to return a set of lines.
 
         Example:
             ```python
             from vedo import *
             sph = Sphere()
@@ -2550,70 +2455,54 @@
         cutter.Update()
 
         msh = Mesh(cutter.GetOutput(), "k", 1).lighting("off")
         msh.GetProperty().SetLineWidth(3)
         msh.name = "PlaneIntersection"
 
         msh.pipeline = OperationNode(
-            "intersect_with_plan", parents=[self], 
-            comment=f"#pts {msh._data.GetNumberOfPoints()}",
+            "intersect_with_plan", parents=[self],
+            comment=f"#pts {msh.inputdata().GetNumberOfPoints()}"
         )
         return msh
 
-    def intersect_with_multiplanes(self, origin=(0,0,0), normal=(1,0,0), dmin=-1, dmax=1, n=10):
-        """
-        Generate a set of lines from cutting a mesh in n intervals
-        between a minimum and maximum distance from a plane of given origin and normal.
-
-        Arguments:
-            origin : (list)
-                the point of the cutting plane
-            normal : (list)
-                normal vector to the cutting plane
-            dmin : (float)
-                negative distance below the plane
-            dmax : (float)
-                positive distance above the plane
-            n : (int)
-                number of cuts
-        """
-        plane = vtk.vtkPlane()
-        poly = self.polydata()
-        plane.SetOrigin(poly.GetCenter())
-        plane.SetNormal(normal)
-
-        bounds = np.array(self.bounds())
-        min_bound = bounds[[0,2,4]]
-        max_bound = bounds[[1,3,5]]
-
-        center = np.array(poly.GetCenter())
-        distance_min = np.linalg.norm(min_bound - center)
-        distance_max = np.linalg.norm(max_bound - center)
-
-        cutter = vtk.vtkCutter()
-        cutter.SetCutFunction(plane)
-        cutter.SetInputData(poly)
-        cutter.GenerateValues(n, -distance_min, distance_max)
-        cutter.Update()
-
-        stripper = vtk.vtkStripper()
-        stripper.SetJoinContiguousSegments(True)
-        stripper.SetInputData(cutter.GetOutput())
-        stripper.Update()
-
-        msh = Mesh(stripper.GetOutput())
-        msh.property.LightingOff()
-        msh.property.SetColor(get_color("k2"))
-        msh.lw(2)
-
-        msh.pipeline = OperationNode(
-            "intersect_with_multiplanes", parents=[self], 
-            comment=f"#pts {msh._data.GetNumberOfPoints()}",
-        )
-        return msh
+    # def intersect_with_multiplanes(self, origins, normals): ## WRONG
+    #     """
+    #     Generate a set of lines from cutting a mesh in n intervals
+    #     between a minimum and maximum distance from a plane of given origin and normal.
+
+    #     Arguments:
+    #         origin : (list)
+    #             the point of the cutting plane
+    #         normal : (list)
+    #             normal vector to the cutting plane
+    #         n : (int)
+    #             number of cuts
+    #     """
+    #     poly = self.polydata()
+
+    #     planes = vtk.vtkPlanes()
+    #     planes.SetOrigin(numpy2vtk(origins))
+    #     planes.SetNormals(numpy2vtk(normals))
+
+    #     cutter = vtk.vtkCutter()
+    #     cutter.SetCutFunction(planes)
+    #     cutter.SetInputData(poly)
+    #     cutter.SetValue(0, 0.0)
+    #     cutter.Update()
+
+    #     msh = Mesh(cutter.GetOutput())
+    #     msh.property.LightingOff()
+    #     msh.property.SetColor(get_color("k2"))
+
+    #     msh.pipeline = OperationNode(
+    #         "intersect_with_multiplanes",
+    #         parents=[self],
+    #         comment=f"#pts {msh.inputdata().GetNumberOfPoints()}",
+    #     )
+    #     return msh
 
     def collide_with(self, mesh2, tol=0, return_bool=False):
         """
         Collide this Mesh with the input surface.
         Information is stored in `ContactCells1` and `ContactCells2`.
         """
         ipdf = vtk.vtkCollisionDetectionFilter()
@@ -2634,22 +2523,26 @@
             ipdf.SetCollisionModeToAllContacts()
         ipdf.Update()
 
         if return_bool:
             return bool(ipdf.GetNumberOfContacts())
 
         msh = Mesh(ipdf.GetContactsOutput(), "k", 1).lighting("off")
-        msh.metadata["ContactCells1"] = vtk2numpy(ipdf.GetOutput(0).GetFieldData().GetArray("ContactCells"))
-        msh.metadata["ContactCells2"] = vtk2numpy(ipdf.GetOutput(1).GetFieldData().GetArray("ContactCells"))
+        msh.metadata["ContactCells1"] = vtk2numpy(
+            ipdf.GetOutput(0).GetFieldData().GetArray("ContactCells")
+        )
+        msh.metadata["ContactCells2"] = vtk2numpy(
+            ipdf.GetOutput(1).GetFieldData().GetArray("ContactCells")
+        )
         msh.GetProperty().SetLineWidth(3)
         msh.name = "SurfaceCollision"
- 
+
         msh.pipeline = OperationNode(
-            "collide_with", parents=[self, mesh2], 
-            comment=f"#pts {msh._data.GetNumberOfPoints()}",
+            "collide_with", parents=[self, mesh2],
+            comment=f"#pts {msh.inputdata().GetNumberOfPoints()}"
         )
         return msh
 
     def geodesic(self, start, end):
         """
         Dijkstra algorithm to compute the geodesic line.
         Takes as input a polygonal mesh and performs a single source shortest path calculation.
@@ -2705,24 +2598,31 @@
         prop.SetLineWidth(3)
         prop.SetOpacity(1)
         dmesh.SetProperty(prop)
         dmesh.property = prop
         dmesh.name = "GeodesicLine"
 
         dmesh.pipeline = OperationNode(
-            "GeodesicLine", parents=[self], 
-            comment=f"#pts {dmesh._data.GetNumberOfPoints()}",
+            "GeodesicLine", parents=[self], comment=f"#pts {dmesh._data.GetNumberOfPoints()}"
         )
         return dmesh
 
     #####################################################################
     ### Stuff returning a Volume
     ###
-    def binarize(self, spacing=(1, 1, 1), invert=False, direction_matrix=None,
-                 image_size=None, origin=None, fg_val=255, bg_val=0):
+    def binarize(
+        self,
+        spacing=(1, 1, 1),
+        invert=False,
+        direction_matrix=None,
+        image_size=None,
+        origin=None,
+        fg_val=255,
+        bg_val=0,
+    ):
         """
         Convert a `Mesh` into a `Volume`
         where the foreground (exterior) voxels value is fg_val (255 by default)
         and the background (interior) voxels value is bg_val (0 by default).
 
         Examples:
             - [mesh2volume.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/mesh2volume.py)
@@ -2738,17 +2638,15 @@
 
         dim = [0, 0, 0] if not image_size else image_size
 
         bounds = self.bounds()
         if not image_size:  # compute dimensions
             dim = [0, 0, 0]
             for i in [0, 1, 2]:
-                dim[i] = int(
-                    np.ceil((bounds[i * 2 + 1] - bounds[i * 2]) / spacing[i])
-                )
+                dim[i] = int(np.ceil((bounds[i * 2 + 1] - bounds[i * 2]) / spacing[i]))
 
         whiteImage.SetDimensions(dim)
         whiteImage.SetSpacing(spacing)
         whiteImage.SetExtent(0, dim[0] - 1, 0, dim[1] - 1, 0, dim[2] - 1)
 
         if not origin:
             origin = [0, 0, 0]
@@ -2778,22 +2676,21 @@
         imgstenc.SetStencilConnection(pol2stenc.GetOutputPort())
         imgstenc.SetReverseStencil(invert)
         imgstenc.SetBackgroundValue(outval)
         imgstenc.Update()
         vol = vedo.Volume(imgstenc.GetOutput())
 
         vol.pipeline = OperationNode(
-            "binarize", 
-            parents=[self], 
+            "binarize",
+            parents=[self],
             comment=f"dim = {tuple(vol.dimensions())}",
-            c="#e9c46a:#0096c7"
+            c="#e9c46a:#0096c7",
         )
         return vol
 
-
     @deprecated(reason=vedo.colors.red + "Please use signed_distance()" + vedo.colors.reset)
     def signedDistance(self, **k):
         "Deprecated. Please use `signed_distance()`"
         return self.signed_distance(**k)
 
     def signed_distance(self, bounds=None, dims=(20, 20, 20), invert=False, maxradius=None):
         """
@@ -2843,29 +2740,23 @@
                         v = -v
                     img.SetScalarComponentFromFloat(i, j, k, 0, v)
 
         vol = vedo.Volume(img)
         vol.name = "SignedVolume"
 
         vol.pipeline = OperationNode(
-            "signed_distance", parents=[self], 
+            "signed_distance",
+            parents=[self],
             comment=f"dim = {tuple(vol.dimensions())}",
-            c="#e9c46a:#0096c7"
+            c="#e9c46a:#0096c7",
         )
         return vol
 
     def tetralize(
-        self,
-        side=0.02,
-        nmax=300_000,
-        gap=None,
-        subsample=False,
-        uniform=True,
-        seed=0,
-        debug=False,
+        self, side=0.02, nmax=300_000, gap=None, subsample=False, uniform=True, seed=0, debug=False
     ):
         """
         Tetralize a closed polygonal mesh. Return a `TetMesh`.
 
         Arguments:
             side : (float)
                 desired side of the single tetras as fraction of the bounding box diagonal.
@@ -2883,15 +2774,15 @@
             seed : (int)
                 random number generator seed
             debug : (bool)
                 show an intermediate plot with sampled points
 
         Examples:
             - [tetralize_surface.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/tetralize_surface.py)
-        
+
                 ![](https://vedo.embl.es/images/volumetric/tetralize_surface.jpg)
         """
         surf = self.clone().clean().compute_normals()
         d = surf.diagonal_size()
         if gap is None:
             gap = side * d * np.sqrt(2 / 3)
         n = int(min((1 / side) ** 3, nmax))
@@ -2901,17 +2792,15 @@
 
         if uniform:
             pts = vedo.utils.pack_spheres([x0, x1, y0, y1, z0, z1], side * d * 1.42)
             pts += np.random.randn(len(pts), 3) * side * d * 1.42 / 100  # some small jitter
         else:
             disp = np.array([x0 + x1, y0 + y1, z0 + z1]) / 2
             np.random.seed(seed)
-            pts = (np.random.rand(n, 3) - 0.5) * np.array(
-                [x1 - x0, y1 - y0, z1 - z0]
-            ) + disp
+            pts = (np.random.rand(n, 3) - 0.5) * np.array([x1 - x0, y1 - y0, z1 - z0]) + disp
 
         normals = surf.celldata["Normals"]
         cc = surf.cell_centers()
         subpts = cc - normals * gap * 1.05
         pts = pts.tolist() + subpts.tolist()
 
         if debug:
@@ -2938,23 +2827,24 @@
             # vedo.pyplot.histogram(fillpts.pointdata["Distance"], xtitle=f"gap={gap}").show().close()
             edges = self.edges()
             points = self.points()
             elen = mag(points[edges][:, 0, :] - points[edges][:, 1, :])
             histo = vedo.pyplot.histogram(elen, xtitle="edge length", xlim=(0, 3 * side * d))
             print(".. edges min, max", elen.min(), elen.max())
             fillpts.cmap("bone")
-            vedo.show([
-                    [   f"This is a debug plot.\n\nGenerated points: {n}\ngap: {gap}",
+            vedo.show(
+                [
+                    [
+                        f"This is a debug plot.\n\nGenerated points: {n}\ngap: {gap}",
                         surf.wireframe().alpha(0.2),
                         vedo.addons.Axes(surf),
                         fillpts,
                         Points(subpts).c("r4").ps(3),
                     ],
-                    [   f"Edges mean length: {np.mean(elen)}\n\nPress q to continue", histo
-                    ],
+                    [f"Edges mean length: {np.mean(elen)}\n\nPress q to continue", histo],
                 ],
                 N=2,
                 sharecam=False,
                 new=True,
             ).close()
             print(".. thresholding")
 
@@ -2962,46 +2852,39 @@
         tmesh.threshold("inside", above=0.9)
         tmesh.celldata.remove("inside")
 
         if debug:
             print(f".. tetralize() completed, ntets = {tmesh.ncells}")
 
         tmesh.pipeline = OperationNode(
-            "tetralize", 
-            parents=[self], 
-            comment=f"#tets = {tmesh.ncells}",
-            c="#e9c46a:#9e2a2b"
-        )        
+            "tetralize", parents=[self], comment=f"#tets = {tmesh.ncells}", c="#e9c46a:#9e2a2b"
+        )
         return tmesh
 
+
 ####################################################
 class Follower(vedo.base.BaseActor, vtk.vtkFollower):
-    
+
     def __init__(self, actor, camera=None):
 
         vtk.vtkFollower.__init__(self)
         vedo.base.BaseActor.__init__(self)
-        
+
         self.name = actor.name
         self._isfollower = False
 
         self.SetMapper(actor.GetMapper())
-        
+
         self.SetProperty(actor.GetProperty())
         self.SetBackfaceProperty(actor.GetBackfaceProperty())
         self.SetTexture(actor.GetTexture())
 
         self.SetCamera(camera)
         self.SetOrigin(actor.GetOrigin())
         self.SetScale(actor.GetScale())
         self.SetOrientation(actor.GetOrientation())
         self.SetPosition(actor.GetPosition())
         self.SetUseBounds(actor.GetUseBounds())
 
         self.PickableOff()
 
-        self.pipeline = OperationNode(
-            "Follower", 
-            parents=[actor],
-            shape='component',
-            c="#d9ed92",
-        )        
+        self.pipeline = OperationNode("Follower", parents=[actor], shape="component", c="#d9ed92")
```

### Comparing `vedo-2023.4.4/vedo/picture.py` & `vedo-2023.4.5/vedo/picture.py`

 * *Files 1% similar despite different names*

```diff
@@ -24,15 +24,15 @@
 
 #################################################
 def _get_img(obj, flip=False, translate=()):
     # get vtkImageData from numpy array or filename
 
     if isinstance(obj, str):
         if "https://" in obj:
-            obj = vedo.io.download(obj, verbose=False)
+            obj = vedo.file_io.download(obj, verbose=False)
 
         fname = obj.lower()
         if fname.endswith(".png"):
             picr = vtk.vtkPNGReader()
         elif fname.endswith(".jpg") or fname.endswith(".jpeg"):
             picr = vtk.vtkJPEGReader()
         elif fname.endswith(".bmp"):
@@ -42,15 +42,15 @@
             picr.SetOrientationType(vedo.settings.tiff_orientation_type)
         else:
             colors.printc("Cannot understand picture format", obj, c="r")
             return
         picr.SetFileName(obj)
         picr.Update()
         img = picr.GetOutput()
-    
+
     else:
         obj = np.asarray(obj)
 
         if obj.ndim == 3:  # has shape (nx,ny, ncolor_alpha_chan)
             iac = vtk.vtkImageAppendComponents()
             nchan = obj.shape[2]  # get number of channels in inputimage (L/LA/RGB/RGBA)
             for i in range(nchan):
@@ -77,109 +77,102 @@
             varb = utils.numpy2vtk(arr, dtype=np.uint8, name="RGBA")
             img = vtk.vtkImageData()
             img.SetDimensions(obj.shape[1], obj.shape[0], 1)
 
             img.GetPointData().AddArray(varb)
             img.GetPointData().SetActiveScalars("RGBA")
 
-    if len(translate):
+    if len(translate) > 0:
         translate_extent = vtk.vtkImageTranslateExtent()
         translate_extent.SetTranslation(-translate[0], -translate[1], 0)
         translate_extent.SetInputData(img)
         translate_extent.Update()
         img.DeepCopy(translate_extent.GetOutput())
 
     return img
 
 
 def _set_justification(img, pos):
 
     if not isinstance(pos, str):
         return img, pos
-    
+
     sx, sy = img.GetDimensions()[:2]
     translate = ()
     if "top" in pos:
         if "left" in pos:
             pos = (0, 1)
             translate = (0, sy)
         elif "right" in pos:
             pos = (1, 1)
             translate = (sx, sy)
         elif "mid" in pos or "cent" in pos:
             pos = (0.5, 1)
-            translate = (sx/2, sy)
+            translate = (sx / 2, sy)
     elif "bottom" in pos:
         if "left" in pos:
             pos = (0, 0)
         elif "right" in pos:
             pos = (1, 0)
             translate = (sx, 0)
         elif "mid" in pos or "cent" in pos:
             pos = (0.5, 0)
-            translate = (sx/2, 0)
+            translate = (sx / 2, 0)
     elif "mid" in pos or "cent" in pos:
         if "left" in pos:
             pos = (0, 0.5)
-            translate = (0, sy/2)
+            translate = (0, sy / 2)
         elif "right" in pos:
             pos = (1, 0.5)
-            translate = (sx, sy/2)
+            translate = (sx, sy / 2)
         else:
-            pos = (0.5, 0.5)           
-            translate = (sx/2, sy/2)
+            pos = (0.5, 0.5)
+            translate = (sx / 2, sy / 2)
 
-    if len(translate):
+    if len(translate) > 0:
         translate = np.array(translate).astype(int)
         translate_extent = vtk.vtkImageTranslateExtent()
         translate_extent.SetTranslation(-translate[0], -translate[1], 0)
         translate_extent.SetInputData(img)
         translate_extent.Update()
         img = translate_extent.GetOutput()
-    
+
     return img, pos
 
 
 #################################################
 class Picture2D(vedo.BaseActor2D):
     """
     Embed an image as a static 2D image in the canvas.
     """
-    def __init__(
-        self, 
-        fig, 
-        pos=(0,0), 
-        scale=1, 
-        ontop=False, 
-        padding=1, 
-        justify="",    
-    ):
+
+    def __init__(self, fig, pos=(0, 0), scale=1, ontop=False, padding=1, justify=""):
         """
         Embed an image as a static 2D image in the canvas.
 
         Arguments:
             fig : Picture, matplotlib.Figure, matplotlib.pyplot, vtkImageData
                 the input image
             pos : (list)
-                2D (x,y) position in range [0,1], 
+                2D (x,y) position in range [0,1],
                 [0,0] being the bottom-left corner
             scale : (float)
                 apply a scaling factor to the image
             ontop : (bool)
                 keep image on top or not
             padding : (int)
                 an internal padding space as a fraction of size
                 (matplotlib only)
             justify : (str)
                 define the anchor point ("top-left", "top-center", ...)
         """
         vedo.BaseActor2D.__init__(self)
         # print("input type:", fig.__class__)
-        
-        self.array = None 
+
+        self.array = None
 
         if utils.is_sequence(fig):
             self.array = fig
             self._data = _get_img(self.array)
 
         elif isinstance(fig, Picture):
             self._data = fig.inputdata()
@@ -188,25 +181,24 @@
             assert fig.GetDimensions()[2] == 1, "Cannot create an Picture2D from Volume"
             self._data = fig
 
         elif isinstance(fig, str):
             self._data = _get_img(fig)
             self.filename = fig
 
-        elif 'matplotlib' in str(fig.__class__):
+        elif "matplotlib" in str(fig.__class__):
             if hasattr(fig, "gcf"):
                 fig = fig.gcf()
             fig.tight_layout(pad=padding)
             fig.canvas.draw()
 
             # self.array = np.frombuffer(fig.canvas.tostring_rgb(), dtype=np.uint8)
             # self.array = self.array.reshape(fig.canvas.get_width_height()[::-1] + (3,))
             width, height = fig.get_size_inches() * fig.get_dpi()
-            self.array = np.frombuffer(
-                fig.canvas.buffer_rgba(), dtype=np.uint8).reshape(
+            self.array = np.frombuffer(fig.canvas.buffer_rgba(), dtype=np.uint8).reshape(
                 (int(height), int(width), 4)
             )
             self.array = self.array[:, :, :3]
 
             self._data = _get_img(self.array)
 
         #############
@@ -215,17 +207,17 @@
             newsize = newsize.astype(int)
             rsz = vtk.vtkImageResize()
             rsz.SetInputData(self._data)
             rsz.SetResizeMethodToOutputDimensions()
             rsz.SetOutputDimensions(newsize[0], newsize[1], 1)
             rsz.Update()
             self._data = rsz.GetOutput()
-        
+
         if padding:
-            pass # TODO
+            pass  # TODO
 
         if justify:
             self._data, pos = _set_justification(self._data, justify)
         else:
             self._data, pos = _set_justification(self._data, pos)
 
         self._mapper = vtk.vtkImageMapper()
@@ -243,14 +235,15 @@
         else:
             self.GetProperty().SetDisplayLocationToBackground()
 
     @property
     def shape(self):
         return np.array(self._data.GetDimensions()[:2]).astype(int)
 
+
 #################################################
 class Picture(vedo.base.Base3DProp, vtk.vtkImageActor):
     """
     Derived class of `vtkImageActor`. Used to represent 2D pictures in a 3D world.
     """
 
     def __init__(self, obj=None, channels=3, flip=False):
@@ -268,15 +261,15 @@
             flip : (bool)
                 flip xy axis convention (when input is a numpy array)
         """
 
         vtk.vtkImageActor.__init__(self)
         vedo.base.Base3DProp.__init__(self)
 
-        if utils.is_sequence(obj) and len(obj):  # passing array
+        if utils.is_sequence(obj) and len(obj) > 0:  # passing array
             img = _get_img(obj, flip)
 
         elif isinstance(obj, vtk.vtkImageData):
             img = obj
 
         elif isinstance(obj, str):
             img = _get_img(obj)
@@ -309,23 +302,21 @@
         self.SetInputData(img)
 
         sx, sy, _ = img.GetDimensions()
         self.shape = np.array([sx, sy])
 
         self._mapper = self.GetMapper()
 
-        self.pipeline = utils.OperationNode(
-            "Picture", comment=f"#shape {self.shape}", c="#f28482",
-        )
+        self.pipeline = utils.OperationNode("Picture", comment=f"#shape {self.shape}", c="#f28482")
         ######################################################################
 
     def _repr_html_(self):
         """
         HTML representation of the Picture object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -340,52 +331,60 @@
         encoded = base64.b64encode(buffered.getvalue()).decode("utf-8")
         url = "data:image/png;base64," + encoded
         image = f"<img src='{url}'></img>"
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         pdata = ""
         if self._data.GetPointData().GetScalars():
             if self._data.GetPointData().GetScalars().GetName():
                 name = self._data.GetPointData().GetScalars().GetName()
                 pdata = "<tr><td><b> point data array </b></td><td>" + name + "</td></tr>"
 
         cdata = ""
         if self._data.GetCellData().GetScalars():
             if self._data.GetCellData().GetScalars().GetName():
                 name = self._data.GetCellData().GetScalars().GetName()
                 cdata = "<tr><td><b> voxel data array </b></td><td>" + name + "</td></tr>"
 
         img = self.GetMapper().GetInput()
 
-        all = [
+        allt = [
             "<table>",
-            "<tr>", 
-            "<td>", image, "</td>",
-            "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
+            "<tr>",
+            "<td>",
+            image,
+            "</td>",
+            "<td style='text-align: center; vertical-align: center;'><br/>",
+            help_text,
             "<table>",
             "<tr><td><b> shape </b></td><td>" + str(img.GetDimensions()[:2]) + "</td></tr>",
-            "<tr><td><b> in memory size </b></td><td>" + str(int(img.GetActualMemorySize() / 1024)) + "MB</td></tr>",
+            "<tr><td><b> in memory size </b></td><td>"
+            + str(int(img.GetActualMemorySize()))
+            + " KB</td></tr>",
             pdata,
             cdata,
             "<tr><td><b> intensity range </b></td><td>" + str(img.GetScalarRange()) + "</td></tr>",
-            "<tr><td><b> level&nbsp/&nbspwindow </b></td><td>" 
-            + str(self.level()) + "&nbsp/&nbsp" + str(self.window())+ "</td></tr>",
+            "<tr><td><b> level&nbsp/&nbspwindow </b></td><td>"
+            + str(self.level())
+            + "&nbsp/&nbsp"
+            + str(self.window())
+            + "</td></tr>",
             "</table>",
             "</table>",
         ]
-        return "\n".join(all)
+        return "\n".join(allt)
 
     def inputdata(self):
         """Return the underlying ``vtkImagaData`` object."""
         return self._data
 
     def dimensions(self):
         """Return the picture dimension as number of pixels in x and y"""
@@ -413,17 +412,16 @@
         pic = Picture(img)
         if transformed:
             # assign the same transformation to the copy
             pic.SetOrigin(self.GetOrigin())
             pic.SetScale(self.GetScale())
             pic.SetOrientation(self.GetOrientation())
             pic.SetPosition(self.GetPosition())
-        
-        pic.pipeline = utils.OperationNode(
-            "clone", parents=[self], c="#f7dada", shape="diamond")
+
+        pic.pipeline = utils.OperationNode("clone", parents=[self], c="#f7dada", shape="diamond")
         return pic
 
     def cmap(self, name, vmin=None, vmax=None):
         """Colorize a picture with a colormap representing pixel intensity"""
         n = self._data.GetPointData().GetNumberOfComponents()
         if n > 1:
             ecr = vtk.vtkImageExtractComponents()
@@ -454,15 +452,16 @@
 
         imap = vtk.vtkImageMapToColors()
         imap.SetLookupTable(lut)
         imap.SetInputData(img)
         imap.Update()
         self._update(imap.GetOutput())
         self.pipeline = utils.OperationNode(
-            f"cmap", comment=f'"{name}"', parents=[self], c="#f28482")
+            f"cmap", comment=f'"{name}"', parents=[self], c="#f28482"
+        )
         return self
 
     def extent(self, ext=None):
         """
         Get or set the physical extent that the picture spans.
         Format is `ext=[minx, maxx, miny, maxy]`.
         """
@@ -511,55 +510,63 @@
         """
         extractVOI = vtk.vtkExtractVOI()
         extractVOI.SetInputData(self._data)
         extractVOI.IncludeBoundaryOn()
 
         d = self.GetInput().GetDimensions()
         if pixels:
-            extractVOI.SetVOI(left, d[0]-right-1, bottom, d[1]-top-1, 0, 0)
+            extractVOI.SetVOI(left, d[0] - right - 1, bottom, d[1] - top - 1, 0, 0)
         else:
             bx0, bx1, by0, by1 = 0, d[0]-1, 0, d[1]-1
             if left is not None:   bx0 = int((d[0]-1)*left)
             if right is not None:  bx1 = int((d[0]-1)*(1-right))
             if bottom is not None: by0 = int((d[1]-1)*bottom)
             if top is not None:    by1 = int((d[1]-1)*(1-top))
             extractVOI.SetVOI(bx0, bx1, by0, by1, 0, 0)
         extractVOI.Update()
 
         self.shape = extractVOI.GetOutput().GetDimensions()[:2]
         self._update(extractVOI.GetOutput())
         self.pipeline = utils.OperationNode(
-            "crop", comment=f"shape={tuple(self.shape)}", parents=[self], c="#f28482")
+            "crop", comment=f"shape={tuple(self.shape)}", parents=[self], c="#f28482"
+        )
         return self
 
     def pad(self, pixels=10, value=255):
         """
         Add the specified number of pixels at the picture borders.
         Pixels can be a list formatted as [left,right,bottom,top].
 
         Arguments:
-            pixels : (int),list , optional
+            pixels : (int, list)
                 number of pixels to be added (or a list of length 4)
-            value : (int), optional
+            value : (int)
                 intensity value (gray-scale color) of the padding
         """
         x0, x1, y0, y1, _z0, _z1 = self._data.GetExtent()
         pf = vtk.vtkImageConstantPad()
         pf.SetInputData(self._data)
         pf.SetConstant(value)
         if utils.is_sequence(pixels):
             pf.SetOutputWholeExtent(
-                x0 - pixels[0], x1 + pixels[1], y0 - pixels[2], y1 + pixels[3], 0, 0
+                x0 - pixels[0], x1 + pixels[1], 
+                y0 - pixels[2], y1 + pixels[3], 
+                0, 0
             )
         else:
-            pf.SetOutputWholeExtent(x0 - pixels, x1 + pixels, y0 - pixels, y1 + pixels, 0, 0)
+            pf.SetOutputWholeExtent(
+                x0 - pixels, x1 + pixels, 
+                y0 - pixels, y1 + pixels, 
+                0, 0
+            )
         pf.Update()
         self._update(pf.GetOutput())
         self.pipeline = utils.OperationNode(
-            "pad", comment=f"{pixels} pixels", parents=[self], c="#f28482")
+            "pad", comment=f"{pixels} pixels", parents=[self], c="#f28482"
+        )
         return self
 
     def tile(self, nx=4, ny=4, shift=(0, 0)):
         """
         Generate a tiling from the current picture by mirroring and repeating it.
 
         Arguments:
@@ -581,15 +588,16 @@
             z0,
             z1,
         )
         constant_pad.Update()
         pic = Picture(constant_pad.GetOutput())
 
         pic.pipeline = utils.OperationNode(
-            "tile", comment=f"by {nx}x{ny}", parents=[self], c="#f28482")
+            "tile", comment=f"by {nx}x{ny}", parents=[self], c="#f28482"
+        )
         return pic
 
     def append(self, pictures, axis="z", preserve_extents=False):
         """
         Append the input images to the current one along the specified axis.
         Except for the append axis, all inputs must have the same extent.
         All inputs must have the same number of scalar components.
@@ -630,15 +638,16 @@
             axis = 0
         elif axis == "y":
             axis = 1
         ima.SetAppendAxis(axis)
         ima.Update()
         self._update(ima.GetOutput())
         self.pipeline = utils.OperationNode(
-            "append", comment=f"axis={axis}", parents=[self, *pictures], c="#f28482")
+            "append", comment=f"axis={axis}", parents=[self, *pictures], c="#f28482"
+        )
         return self
 
     def resize(self, newsize):
         """Resize the image resolution by specifying the number of pixels in width and height.
         If left to zero, it will be automatically calculated to keep the original aspect ratio.
 
         newsize is the shape of picture as [npx, npy], or it can be also expressed as a fraction.
@@ -661,15 +670,16 @@
         rsz.SetResizeMethodToOutputDimensions()
         rsz.SetOutputDimensions(newsize)
         rsz.Update()
         out = rsz.GetOutput()
         out.SetSpacing(1, 1, 1)
         self._update(out)
         self.pipeline = utils.OperationNode(
-            "resize", comment=f"shape={tuple(self.shape)}", parents=[self], c="#f28482")
+            "resize", comment=f"shape={tuple(self.shape)}", parents=[self], c="#f28482"
+        )
         return self
 
     def mirror(self, axis="x"):
         """Mirror picture along x or y axis. Same as `flip()`."""
         ff = vtk.vtkImageFlip()
         ff.SetInputData(self.inputdata())
         if axis.lower() == "x":
@@ -725,27 +735,28 @@
         reslice.SetOutputSpacing(self._data.GetSpacing())
         reslice.SetOutputOrigin(self._data.GetOrigin())
         reslice.SetOutputExtent(self._data.GetExtent())
         reslice.Update()
         self._update(reslice.GetOutput())
 
         self.pipeline = utils.OperationNode(
-            "rotate", comment=f"angle={angle}", parents=[self], c="#f28482")
+            "rotate", comment=f"angle={angle}", parents=[self], c="#f28482"
+        )
         return self
 
     def select(self, component):
         """Select one single component of the rgb image."""
         ec = vtk.vtkImageExtractComponents()
         ec.SetInputData(self._data)
         ec.SetComponents(component)
         ec.Update()
         pic = Picture(ec.GetOutput())
         pic.pipeline = utils.OperationNode(
-            "select", comment=f"component {component}",
-            parents=[self], c="#f28482")
+            "select", comment=f"component {component}", parents=[self], c="#f28482"
+        )
         return pic
 
     def bw(self):
         """Make it black and white using luminance calibration."""
         n = self._data.GetPointData().GetNumberOfComponents()
         if n == 4:
             ecr = vtk.vtkImageExtractComponents()
@@ -785,15 +796,16 @@
         if utils.is_sequence(sigma):
             gsf.SetStandardDeviations(sigma[0], sigma[1])
         else:
             gsf.SetStandardDeviation(sigma)
         gsf.Update()
         self._update(gsf.GetOutput())
         self.pipeline = utils.OperationNode(
-            "smooth", comment=f"sigma={sigma}", parents=[self], c="#f28482")
+            "smooth", comment=f"sigma={sigma}", parents=[self], c="#f28482"
+        )
         return self
 
     def median(self):
         """
         Median filter that preserves thin lines and corners.
 
         It operates on a 5x5 pixel neighborhood. It computes two values initially:
@@ -844,16 +856,15 @@
         original_color = vtk.vtkImageMapToWindowLevelColors()
         original_color.SetWindow(color_window)
         original_color.SetLevel(color_level)
         original_color.SetInputData(subtr.GetOutput())
         original_color.Update()
         self._update(original_color.GetOutput())
 
-        self.pipeline = utils.OperationNode(
-            "enhance", parents=[self], c="#f28482")
+        self.pipeline = utils.OperationNode("enhance", parents=[self], c="#f28482")
         return self
 
     def fft(self, mode="magnitude", logscale=12, center=True):
         """
         Fast Fourier transform of a picture.
 
         Arguments:
@@ -1059,15 +1070,15 @@
             if isinstance(target_pts, vedo.Points):
                 parents.append(target_pts)
                 target_pts = target_pts.points()
 
             ns = len(source_pts)
             nt = len(target_pts)
             if ns != nt:
-                colors.printc("Error in picture.warp(): #source != #target points", ns, nt, c='r')
+                colors.printc("Error in picture.warp(): #source != #target points", ns, nt, c="r")
                 raise RuntimeError()
 
             ptsou = vtk.vtkPoints()
             ptsou.SetNumberOfPoints(ns)
 
             pttar = vtk.vtkPoints()
             pttar.SetNumberOfPoints(nt)
@@ -1145,17 +1156,18 @@
         if invert:
             data += 255
             data[mask] = 0
         else:
             data[mask] = 255
 
         self._update(_get_img(data, flip=True))
-        
+
         self.pipeline = utils.OperationNode(
-            "binarize", comment=f"threshold={threshold}", parents=[self], c="#f28482")
+            "binarize", comment=f"threshold={threshold}", parents=[self], c="#f28482"
+        )
         return self
 
     def threshold(self, value=None, flip=False):
         """
         Create a polygonal Mesh from a Picture by filling regions with pixels
         luminosity above a specified value.
 
@@ -1189,15 +1201,16 @@
             output = msq.GetOutput()
         ctr = vtk.vtkContourTriangulator()
         ctr.SetInputData(output)
         ctr.Update()
         out = vedo.Mesh(ctr.GetOutput(), c="k").bc("t").lighting("off")
 
         out.pipeline = utils.OperationNode(
-            "threshold", comment=f"{value: .2f}", parents=[self], c="#f28482:#e9c46a")
+            "threshold", comment=f"{value: .2f}", parents=[self], c="#f28482:#e9c46a"
+        )
         return out
 
     def tomesh(self):
         """
         Convert an image to polygonal data (quads),
         with each polygon vertex assigned a RGBA value.
         """
@@ -1226,15 +1239,15 @@
 
         If the array is modified call:
         ``picture.modified()``
         when all your modifications are completed.
         """
         nx, ny, _ = self._data.GetDimensions()
         nchan = self._data.GetPointData().GetScalars().GetNumberOfComponents()
-        narray = utils.vtk2numpy(self._data.GetPointData().GetScalars()).reshape(ny,nx,nchan)
+        narray = utils.vtk2numpy(self._data.GetPointData().GetScalars()).reshape(ny, nx, nchan)
         narray = np.flip(narray, axis=0).astype(np.uint8)
         return narray.squeeze()
 
     def rectangle(self, xspan, yspan, c="green5", alpha=1):
         """Draw a rectangle box on top of current image. Units are pixels.
 
         Example:
@@ -1258,16 +1271,18 @@
         alpha = min(alpha, 1)
         if alpha <= 0:
             return self
         alpha2 = alpha
         alpha1 = 1 - alpha
 
         nx, ny = self.dimensions()
-        if x2>nx : x2=nx-1
-        if y2>ny : y2=ny-1
+        if x2 > nx:
+            x2 = nx - 1
+        if y2 > ny:
+            y2 = ny - 1
 
         nchan = self.channels()
         narrayA = self.tonumpy()
 
         canvas_source = vtk.vtkImageCanvasSource2D()
         canvas_source.SetExtent(0, nx - 1, 0, ny - 1, 0, 0)
         canvas_source.SetScalarTypeToUnsignedChar()
@@ -1297,16 +1312,18 @@
         alpha = min(alpha, 1)
         if alpha <= 0:
             return self
         alpha2 = alpha
         alpha1 = 1 - alpha
 
         nx, ny = self.dimensions()
-        if x2>nx : x2=nx-1
-        if y2>ny : y2=ny-1
+        if x2 > nx:
+            x2 = nx - 1
+        if y2 > ny:
+            y2 = ny - 1
 
         nchan = self.channels()
         narrayA = self.tonumpy()
 
         canvas_source = vtk.vtkImageCanvasSource2D()
         canvas_source.SetExtent(0, nx - 1, 0, ny - 1, 0, 0)
         canvas_source.SetScalarTypeToUnsignedChar()
@@ -1368,15 +1385,15 @@
         self._update(_get_img(narrayC))
         self.pipeline = utils.OperationNode("triangle", parents=[self], c="#f28482")
         return self
 
     def add_text(
         self,
         txt,
-        pos=(0, 0), # TODO
+        # pos=(0, 0),  # TODO
         width=400,
         height=200,
         alpha=1,
         c="black",
         bg=None,
         alpha_bg=1,
         font="Theemim",
@@ -1434,22 +1451,23 @@
         blf.SetOpacity(0, 1)
         blf.SetOpacity(1, alpha)
         blf.SetBlendModeToNormal()
         blf.Update()
 
         self._update(blf.GetOutput())
         self.pipeline = utils.OperationNode(
-            "add_text", comment=f"{txt}", parents=[self], c="#f28482")
+            "add_text", comment=f"{txt}", parents=[self], c="#f28482"
+        )
         return self
 
     def modified(self):
         """Use in conjunction with ``tonumpy()`` to update any modifications to the picture array"""
         self._data.GetPointData().GetScalars().Modified()
         return self
 
     def write(self, filename):
         """Write picture to file as png or jpg."""
-        vedo.io.write(self._data, filename)
+        vedo.file_io.write(self._data, filename)
         self.pipeline = utils.OperationNode(
-            "write", comment=filename[:15], parents=[self], 
-            c="#8a817c", shape='cylinder')
+            "write", comment=filename[:15], parents=[self], c="#8a817c", shape="cylinder"
+        )
         return self
```

### Comparing `vedo-2023.4.4/vedo/plotter.py` & `vedo-2023.4.5/vedo/plotter.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,9603 +1,9492 @@
 00000000: 2321 2f75 7372 2f62 696e 2f65 6e76 2070  #!/usr/bin/env p
 00000010: 7974 686f 6e33 0a23 202d 2a2d 2063 6f64  ython3.# -*- cod
 00000020: 696e 673a 2075 7466 2d38 202d 2a2d 0a69  ing: utf-8 -*-.i
 00000030: 6d70 6f72 7420 6f73 2e70 6174 680a 696d  mport os.path.im
 00000040: 706f 7274 2073 7973 0a69 6d70 6f72 7420  port sys.import 
-00000050: 7469 6d65 0a69 6d70 6f72 7420 6e75 6d70  time.import nump
-00000060: 7920 6173 206e 700a 6672 6f6d 2064 6570  y as np.from dep
-00000070: 7265 6361 7465 6420 696d 706f 7274 2064  recated import d
-00000080: 6570 7265 6361 7465 640a 0a74 7279 3a0a  eprecated..try:.
-00000090: 2020 2020 696d 706f 7274 2076 6564 6f2e      import vedo.
-000000a0: 7674 6b63 6c61 7373 6573 2061 7320 7674  vtkclasses as vt
-000000b0: 6b0a 6578 6365 7074 2049 6d70 6f72 7445  k.except ImportE
-000000c0: 7272 6f72 3a0a 2020 2020 696d 706f 7274  rror:.    import
-000000d0: 2076 746b 6d6f 6475 6c65 732e 616c 6c20   vtkmodules.all 
-000000e0: 6173 2076 746b 0a0a 696d 706f 7274 2076  as vtk..import v
-000000f0: 6564 6f0a 6672 6f6d 2076 6564 6f20 696d  edo.from vedo im
-00000100: 706f 7274 2073 6574 7469 6e67 730a 6672  port settings.fr
-00000110: 6f6d 2076 6564 6f20 696d 706f 7274 2075  om vedo import u
-00000120: 7469 6c73 0a66 726f 6d20 7665 646f 2069  tils.from vedo i
-00000130: 6d70 6f72 7420 6261 636b 656e 6473 0a66  mport backends.f
-00000140: 726f 6d20 7665 646f 2069 6d70 6f72 7420  rom vedo import 
-00000150: 6164 646f 6e73 0a0a 0a5f 5f64 6f63 666f  addons...__docfo
-00000160: 726d 6174 5f5f 203d 2022 676f 6f67 6c65  rmat__ = "google
-00000170: 220a 0a5f 5f64 6f63 5f5f 203d 2022 2222  "..__doc__ = """
-00000180: 0a54 6869 7320 6d6f 6475 6c65 2064 6566  .This module def
-00000190: 696e 6573 2074 6865 206d 6169 6e20 636c  ines the main cl
-000001a0: 6173 7320 506c 6f74 7465 7220 746f 206d  ass Plotter to m
-000001b0: 616e 6167 6520 6163 746f 7273 2061 6e64  anage actors and
-000001c0: 2033 4420 7265 6e64 6572 696e 672e 0a0a   3D rendering...
-000001d0: 215b 5d28 6874 7470 733a 2f2f 7665 646f  ![](https://vedo
-000001e0: 2e65 6d62 6c2e 6573 2f69 6d61 6765 732f  .embl.es/images/
-000001f0: 6261 7369 632f 6d75 6c74 6972 656e 6465  basic/multirende
-00000200: 7265 7273 2e70 6e67 290a 2222 220a 0a5f  rers.png).""".._
-00000210: 5f61 6c6c 5f5f 203d 205b 0a20 2020 2022  _all__ = [.    "
-00000220: 506c 6f74 7465 7222 2c0a 2020 2020 2273  Plotter",.    "s
-00000230: 686f 7722 2c0a 2020 2020 2263 6c6f 7365  how",.    "close
-00000240: 222c 0a5d 0a0a 2323 2323 2323 2323 2323  ",.]..##########
-00000250: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00000050: 7469 6d65 0a66 726f 6d20 7479 7069 6e67  time.from typing
+00000060: 2069 6d70 6f72 7420 4361 6c6c 6162 6c65   import Callable
+00000070: 0a69 6d70 6f72 7420 6e75 6d70 7920 6173  .import numpy as
+00000080: 206e 700a 6672 6f6d 2064 6570 7265 6361   np.from depreca
+00000090: 7465 6420 696d 706f 7274 2064 6570 7265  ted import depre
+000000a0: 6361 7465 640a 0a74 7279 3a0a 2020 2020  cated..try:.    
+000000b0: 696d 706f 7274 2076 6564 6f2e 7674 6b63  import vedo.vtkc
+000000c0: 6c61 7373 6573 2061 7320 7674 6b0a 6578  lasses as vtk.ex
+000000d0: 6365 7074 2049 6d70 6f72 7445 7272 6f72  cept ImportError
+000000e0: 3a0a 2020 2020 696d 706f 7274 2076 746b  :.    import vtk
+000000f0: 6d6f 6475 6c65 732e 616c 6c20 6173 2076  modules.all as v
+00000100: 746b 0a0a 696d 706f 7274 2076 6564 6f0a  tk..import vedo.
+00000110: 6672 6f6d 2076 6564 6f20 696d 706f 7274  from vedo import
+00000120: 2073 6574 7469 6e67 730a 6672 6f6d 2076   settings.from v
+00000130: 6564 6f20 696d 706f 7274 2075 7469 6c73  edo import utils
+00000140: 0a66 726f 6d20 7665 646f 2069 6d70 6f72  .from vedo impor
+00000150: 7420 6261 636b 656e 6473 0a66 726f 6d20  t backends.from 
+00000160: 7665 646f 2069 6d70 6f72 7420 6164 646f  vedo import addo
+00000170: 6e73 0a0a 0a5f 5f64 6f63 666f 726d 6174  ns...__docformat
+00000180: 5f5f 203d 2022 676f 6f67 6c65 220a 0a5f  __ = "google".._
+00000190: 5f64 6f63 5f5f 203d 2022 2222 0a54 6869  _doc__ = """.Thi
+000001a0: 7320 6d6f 6475 6c65 2064 6566 696e 6573  s module defines
+000001b0: 2074 6865 206d 6169 6e20 636c 6173 7320   the main class 
+000001c0: 506c 6f74 7465 7220 746f 206d 616e 6167  Plotter to manag
+000001d0: 6520 6163 746f 7273 2061 6e64 2033 4420  e actors and 3D 
+000001e0: 7265 6e64 6572 696e 672e 0a0a 215b 5d28  rendering...![](
+000001f0: 6874 7470 733a 2f2f 7665 646f 2e65 6d62  https://vedo.emb
+00000200: 6c2e 6573 2f69 6d61 6765 732f 6261 7369  l.es/images/basi
+00000210: 632f 6d75 6c74 6972 656e 6465 7265 7273  c/multirenderers
+00000220: 2e70 6e67 290a 2222 220a 0a5f 5f61 6c6c  .png)."""..__all
+00000230: 5f5f 203d 205b 2250 6c6f 7474 6572 222c  __ = ["Plotter",
+00000240: 2022 7368 6f77 222c 2022 636c 6f73 6522   "show", "close"
+00000250: 5d0a 0a23 2323 2323 2323 2323 2323 2323  ]..#############
 00000260: 2323 2323 2323 2323 2323 2323 2323 2323  ################
 00000270: 2323 2323 2323 2323 2323 2323 2323 2323  ################
 00000280: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00000290: 2323 2323 2323 2323 2323 2323 2323 0a63  ##############.c
-000002a0: 6c61 7373 2045 7665 6e74 3a0a 2020 2020  lass Event:.    
-000002b0: 2222 220a 2020 2020 5468 6973 2063 6c61  """.    This cla
-000002c0: 7373 2068 6f6c 6473 2074 6865 2069 6e66  ss holds the inf
-000002d0: 6f20 6672 6f6d 2061 6e20 6576 656e 7420  o from an event 
-000002e0: 696e 2074 6865 2077 696e 646f 772c 2077  in the window, w
-000002f0: 6f72 6b73 2061 7320 6469 6374 696f 6e61  orks as dictiona
-00000300: 7279 2074 6f6f 0a20 2020 2022 2222 0a20  ry too.    """. 
-00000310: 2020 205f 5f73 6c6f 7473 5f5f 203d 205b     __slots__ = [
-00000320: 0a20 2020 2020 2020 2022 6e61 6d65 222c  .        "name",
-00000330: 0a20 2020 2020 2020 2022 7469 746c 6522  .        "title"
-00000340: 2c0a 2020 2020 2020 2020 2269 6422 2c0a  ,.        "id",.
-00000350: 2020 2020 2020 2020 2274 696d 6522 2c0a          "time",.
-00000360: 2020 2020 2020 2020 2270 7269 6f72 6974          "priorit
-00000370: 7922 2c0a 2020 2020 2020 2020 2261 7422  y",.        "at"
-00000380: 2c0a 2020 2020 2020 2020 2261 6374 6f72  ,.        "actor
-00000390: 222c 0a20 2020 2020 2020 2022 7069 636b  ",.        "pick
-000003a0: 6564 3364 222c 0a20 2020 2020 2020 2022  ed3d",.        "
-000003b0: 6b65 7950 7265 7373 6564 222c 2023 206f  keyPressed", # o
-000003c0: 6273 6f6c 6574 652c 2077 696c 6c20 6469  bsolete, will di
-000003d0: 7361 7070 6561 722e 2055 7365 2022 6b65  sappear. Use "ke
-000003e0: 7970 7265 7373 220a 2020 2020 2020 2020  ypress".        
-000003f0: 226b 6579 7072 6573 7322 2c0a 2020 2020  "keypress",.    
-00000400: 2020 2020 2270 6963 6b65 6432 6422 2c0a      "picked2d",.
-00000410: 2020 2020 2020 2020 2264 656c 7461 3264          "delta2d
-00000420: 222c 0a20 2020 2020 2020 2022 616e 676c  ",.        "angl
-00000430: 6532 6422 2c0a 2020 2020 2020 2020 2273  e2d",.        "s
-00000440: 7065 6564 3264 222c 0a20 2020 2020 2020  peed2d",.       
-00000450: 2022 6465 6c74 6133 6422 2c0a 2020 2020   "delta3d",.    
-00000460: 2020 2020 2273 7065 6564 3364 222c 0a20      "speed3d",. 
-00000470: 2020 2020 2020 2022 6973 506f 696e 7473         "isPoints
-00000480: 222c 0a20 2020 2020 2020 2022 6973 4d65  ",.        "isMe
-00000490: 7368 222c 0a20 2020 2020 2020 2022 6973  sh",.        "is
-000004a0: 4173 7365 6d62 6c79 222c 0a20 2020 2020  Assembly",.     
-000004b0: 2020 2022 6973 566f 6c75 6d65 222c 0a20     "isVolume",. 
-000004c0: 2020 2020 2020 2022 6973 5069 6374 7572         "isPictur
-000004d0: 6522 2c0a 2020 2020 2020 2020 2269 7341  e",.        "isA
-000004e0: 6374 6f72 3244 222c 0a20 2020 205d 0a0a  ctor2D",.    ]..
-000004f0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00000500: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00000510: 7265 7475 726e 0a0a 2020 2020 6465 6620  return..    def 
-00000520: 5f5f 6765 7469 7465 6d5f 5f28 7365 6c66  __getitem__(self
-00000530: 2c20 6b65 7929 3a0a 2020 2020 2020 2020  , key):.        
-00000540: 2222 224d 616b 6520 7468 6520 636c 6173  """Make the clas
-00000550: 7320 776f 726b 206c 696b 6520 6120 6469  s work like a di
-00000560: 6374 696f 6e61 7279 2074 6f6f 2222 220a  ctionary too""".
-00000570: 2020 2020 2020 2020 7265 7475 726e 2067          return g
-00000580: 6574 6174 7472 2873 656c 662c 206b 6579  etattr(self, key
-00000590: 290a 0a20 2020 2064 6566 205f 5f73 6574  )..    def __set
-000005a0: 6974 656d 5f5f 2873 656c 662c 206b 6579  item__(self, key
-000005b0: 2c20 7661 6c75 6529 3a0a 2020 2020 2020  , value):.      
-000005c0: 2020 2222 224d 616b 6520 7468 6520 636c    """Make the cl
-000005d0: 6173 7320 776f 726b 206c 696b 6520 6120  ass work like a 
-000005e0: 6469 6374 696f 6e61 7279 2074 6f6f 2222  dictionary too""
-000005f0: 220a 2020 2020 2020 2020 7365 7461 7474  ".        setatt
-00000600: 7228 7365 6c66 2c20 6b65 792c 2076 616c  r(self, key, val
-00000610: 7565 290a 0a20 2020 2064 6566 205f 5f72  ue)..    def __r
-00000620: 6570 725f 5f28 7365 6c66 293a 0a20 2020  epr__(self):.   
-00000630: 2020 2020 2066 203d 2022 2d2d 2d2d 2d2d       f = "------
-00000640: 2d2d 2d2d 203c 7665 646f 2e70 6c6f 7474  ---- <vedo.plott
-00000650: 6572 2e45 7665 6e74 206f 626a 6563 743e  er.Event object>
-00000660: 202d 2d2d 2d2d 2d2d 2d2d 2d5c 6e22 0a20   ----------\n". 
-00000670: 2020 2020 2020 2066 6f72 206e 2069 6e20         for n in 
-00000680: 7365 6c66 2e5f 5f73 6c6f 7473 5f5f 3a0a  self.__slots__:.
-00000690: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-000006a0: 203d 3d20 2261 6374 6f72 2220 616e 6420   == "actor" and 
-000006b0: 7365 6c66 2e61 6374 6f72 2061 6e64 2073  self.actor and s
-000006c0: 656c 662e 6163 746f 722e 6e61 6d65 3a0a  elf.actor.name:.
-000006d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006e0: 6620 2b3d 2066 2265 7665 6e74 2e7b 6e7d  f += f"event.{n}
-000006f0: 203d 207b 7365 6c66 2e61 6374 6f72 2e6e   = {self.actor.n
-00000700: 616d 657d 2028 7b73 656c 662e 6163 746f  ame} ({self.acto
-00000710: 722e 6e70 6f69 6e74 737d 2070 6f69 6e74  r.npoints} point
-00000720: 7329 5c6e 220a 2020 2020 2020 2020 2020  s)\n".          
-00000730: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00000740: 2020 2020 2020 2020 6620 2b3d 2066 2265          f += f"e
-00000750: 7665 6e74 2e7b 6e7d 203d 2022 202b 2073  vent.{n} = " + s
-00000760: 7472 2873 656c 665b 6e5d 292e 7265 706c  tr(self[n]).repl
-00000770: 6163 6528 275c 6e27 2c27 2729 5b3a 3630  ace('\n','')[:60
-00000780: 5d20 2b20 225c 6e22 0a20 2020 2020 2020  ] + "\n".       
-00000790: 2072 6574 7572 6e20 660a 0a20 2020 2064   return f..    d
-000007a0: 6566 206b 6579 7328 7365 6c66 293a 0a20  ef keys(self):. 
-000007b0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-000007c0: 6c66 2e5f 5f73 6c6f 7473 5f5f 0a0a 0a23  lf.__slots__...#
-000007d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000007e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000007f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00000800: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00000810: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00000820: 2323 2323 2323 2323 2323 2323 230a 6465  #############.de
-00000830: 6620 7368 6f77 280a 2020 2020 2020 2020  f show(.        
-00000840: 2a61 6374 6f72 732c 0a20 2020 2020 2020  *actors,.       
-00000850: 2061 743d 4e6f 6e65 2c0a 2020 2020 2020   at=None,.      
-00000860: 2020 7368 6170 653d 2831 2c20 3129 2c0a    shape=(1, 1),.
-00000870: 2020 2020 2020 2020 4e3d 4e6f 6e65 2c0a          N=None,.
-00000880: 2020 2020 2020 2020 706f 733d 2830 2c20          pos=(0, 
-00000890: 3029 2c0a 2020 2020 2020 2020 7369 7a65  0),.        size
-000008a0: 3d22 6175 746f 222c 0a20 2020 2020 2020  ="auto",.       
-000008b0: 2073 6372 6565 6e73 697a 653d 2261 7574   screensize="aut
-000008c0: 6f22 2c0a 2020 2020 2020 2020 7469 746c  o",.        titl
-000008d0: 653d 2276 6564 6f22 2c0a 2020 2020 2020  e="vedo",.      
-000008e0: 2020 6267 3d22 7768 6974 6522 2c0a 2020    bg="white",.  
-000008f0: 2020 2020 2020 6267 323d 4e6f 6e65 2c0a        bg2=None,.
-00000900: 2020 2020 2020 2020 6178 6573 3d4e 6f6e          axes=Non
-00000910: 652c 0a20 2020 2020 2020 2069 6e74 6572  e,.        inter
-00000920: 6163 7469 7665 3d4e 6f6e 652c 0a20 2020  active=None,.   
-00000930: 2020 2020 206f 6666 7363 7265 656e 3d46       offscreen=F
-00000940: 616c 7365 2c0a 2020 2020 2020 2020 7368  alse,.        sh
-00000950: 6172 6563 616d 3d54 7275 652c 0a20 2020  arecam=True,.   
-00000960: 2020 2020 2072 6573 6574 6361 6d3d 5472       resetcam=Tr
-00000970: 7565 2c0a 2020 2020 2020 2020 7a6f 6f6d  ue,.        zoom
-00000980: 3d4e 6f6e 652c 0a20 2020 2020 2020 2076  =None,.        v
-00000990: 6965 7775 703d 2222 2c0a 2020 2020 2020  iewup="",.      
-000009a0: 2020 617a 696d 7574 683d 302c 0a20 2020    azimuth=0,.   
-000009b0: 2020 2020 2065 6c65 7661 7469 6f6e 3d30       elevation=0
-000009c0: 2c0a 2020 2020 2020 2020 726f 6c6c 3d30  ,.        roll=0
-000009d0: 2c0a 2020 2020 2020 2020 6361 6d65 7261  ,.        camera
-000009e0: 3d4e 6f6e 652c 0a20 2020 2020 2020 206d  =None,.        m
-000009f0: 6f64 653d 302c 0a20 2020 2020 2020 2071  ode=0,.        q
-00000a00: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
-00000a10: 6e65 773d 4661 6c73 652c 0a20 2020 2020  new=False,.     
-00000a20: 2020 2062 6163 6b65 6e64 3d22 222c 2023     backend="", #
-00000a30: 2044 4550 5245 4341 5445 440a 2020 2020   DEPRECATED.    
-00000a40: 293a 0a20 2020 2022 2222 0a20 2020 2043  ):.    """.    C
-00000a50: 7265 6174 6520 6f6e 2074 6865 2066 6c79  reate on the fly
-00000a60: 2061 6e20 696e 7374 616e 6365 206f 6620   an instance of 
-00000a70: 636c 6173 7320 506c 6f74 7465 7220 616e  class Plotter an
-00000a80: 6420 7368 6f77 2074 6865 206f 626a 6563  d show the objec
-00000a90: 7428 7329 2070 726f 7669 6465 642e 0a0a  t(s) provided...
-00000aa0: 2020 2020 416c 6c6f 7765 6420 696e 7075      Allowed inpu
-00000ab0: 7420 6f62 6a65 6374 7320 7479 7065 7320  t objects types 
-00000ac0: 6172 653a 0a20 2020 2020 2020 2060 6073  are:.        ``s
-00000ad0: 7472 2c20 4d65 7368 2c20 566f 6c75 6d65  tr, Mesh, Volume
-00000ae0: 2c20 5069 6374 7572 652c 2041 7373 656d  , Picture, Assem
-00000af0: 626c 790a 2020 2020 2020 2020 7674 6b50  bly.        vtkP
-00000b00: 6f6c 7944 6174 612c 2076 746b 4163 746f  olyData, vtkActo
-00000b10: 722c 2076 746b 4163 746f 7232 442c 2076  r, vtkActor2D, v
-00000b20: 746b 496d 6167 6541 6374 6f72 2c0a 2020  tkImageActor,.  
-00000b30: 2020 2020 2020 7674 6b41 7373 656d 626c        vtkAssembl
-00000b40: 7920 6f72 2076 746b 566f 6c75 6d65 6060  y or vtkVolume``
-00000b50: 0a0a 2020 2020 4172 6775 6d65 6e74 733a  ..    Arguments:
-00000b60: 0a20 2020 2020 2020 2061 7420 3a20 2869  .        at : (i
-00000b70: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
-00000b80: 6e75 6d62 6572 206f 6620 7468 6520 7265  number of the re
-00000b90: 6e64 6572 6572 2074 6f20 706c 6f74 2074  nderer to plot t
-00000ba0: 6f2c 2069 6e20 6361 7365 206f 6620 6d6f  o, in case of mo
-00000bb0: 7265 2074 6861 6e20 6f6e 6520 6578 6973  re than one exis
-00000bc0: 7473 0a20 2020 2020 2020 2073 6861 7065  ts.        shape
-00000bd0: 203a 2028 6c69 7374 2c20 7374 7229 0a20   : (list, str). 
-00000be0: 2020 2020 2020 2020 2020 204e 756d 6265             Numbe
-00000bf0: 7220 6f66 2073 7562 2d72 656e 6465 7220  r of sub-render 
-00000c00: 7769 6e64 6f77 7320 696e 7369 6465 206f  windows inside o
-00000c10: 6620 7468 6520 6d61 696e 2077 696e 646f  f the main windo
-00000c20: 772e 2045 2e67 2e3a 0a20 2020 2020 2020  w. E.g.:.       
-00000c30: 2020 2020 2073 7065 6369 6679 2074 776f       specify two
-00000c40: 2061 6372 6f73 7320 7769 7468 2073 6861   across with sha
-00000c50: 7065 3d28 322c 3129 2061 6e64 2061 2074  pe=(2,1) and a t
-00000c60: 776f 2062 7920 7477 6f20 6772 6964 0a20  wo by two grid. 
-00000c70: 2020 2020 2020 2020 2020 2077 6974 6820             with 
-00000c80: 7368 6170 653d 2832 2c20 3229 2e20 2042  shape=(2, 2).  B
-00000c90: 7920 6465 6661 756c 7420 7468 6572 6520  y default there 
-00000ca0: 6973 206f 6e6c 7920 6f6e 6520 7265 6e64  is only one rend
-00000cb0: 6572 6572 2e0a 0a20 2020 2020 2020 2020  erer...         
-00000cc0: 2020 2043 616e 2061 6c73 6f20 6163 6365     Can also acce
-00000cd0: 7074 2061 2073 6861 7065 2061 7320 7374  pt a shape as st
-00000ce0: 7269 6e67 2064 6573 6372 6970 746f 722e  ring descriptor.
-00000cf0: 2045 2e67 2e3a 0a20 2020 2020 2020 2020   E.g.:.         
-00000d00: 2020 202d 2073 6861 7065 3d22 337c 3122     - shape="3|1"
-00000d10: 206d 6561 6e73 2033 2070 6c6f 7473 206f   means 3 plots o
-00000d20: 6e20 7468 6520 6c65 6674 2061 6e64 2031  n the left and 1
-00000d30: 206f 6e20 7468 6520 7269 6768 742c 0a20   on the right,. 
-00000d40: 2020 2020 2020 2020 2020 202d 2073 6861             - sha
-00000d50: 7065 3d22 342f 3222 206d 6561 6e73 2034  pe="4/2" means 4
-00000d60: 2070 6c6f 7473 206f 6e20 746f 7020 6f66   plots on top of
-00000d70: 2032 2061 7420 626f 7474 6f6d 2e0a 0a20   2 at bottom... 
-00000d80: 2020 2020 2020 2061 7865 7320 3a20 2869         axes : (i
-00000d90: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
-00000da0: 7365 7420 7468 6520 7479 7065 206f 6620  set the type of 
-00000db0: 6178 6573 2074 6f20 6265 2073 686f 776e  axes to be shown
-00000dc0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-00000dd0: 302c 2020 6e6f 2061 7865 730a 2020 2020  0,  no axes.    
-00000de0: 2020 2020 2020 2020 2d20 312c 2020 6472          - 1,  dr
-00000df0: 6177 2074 6872 6565 2067 7261 7920 6772  aw three gray gr
-00000e00: 6964 2077 616c 6c73 0a20 2020 2020 2020  id walls.       
-00000e10: 2020 2020 202d 2032 2c20 2073 686f 7720       - 2,  show 
-00000e20: 6361 7274 6573 6961 6e20 6178 6573 2066  cartesian axes f
-00000e30: 726f 6d20 2830 2c30 2c30 290a 2020 2020  rom (0,0,0).    
-00000e40: 2020 2020 2020 2020 2d20 332c 2020 7368          - 3,  sh
-00000e50: 6f77 2070 6f73 6974 6976 6520 7261 6e67  ow positive rang
-00000e60: 6520 6f66 2063 6172 7465 7369 616e 2061  e of cartesian a
-00000e70: 7865 7320 6672 6f6d 2028 302c 302c 3029  xes from (0,0,0)
-00000e80: 0a20 2020 2020 2020 2020 2020 202d 2034  .            - 4
-00000e90: 2c20 2073 686f 7720 6120 7472 6961 6420  ,  show a triad 
-00000ea0: 6174 2062 6f74 746f 6d20 6c65 6674 0a20  at bottom left. 
-00000eb0: 2020 2020 2020 2020 2020 202d 2035 2c20             - 5, 
-00000ec0: 2073 686f 7720 6120 6375 6265 2061 7420   show a cube at 
-00000ed0: 626f 7474 6f6d 206c 6566 740a 2020 2020  bottom left.    
-00000ee0: 2020 2020 2020 2020 2d20 362c 2020 6d61          - 6,  ma
-00000ef0: 726b 2074 6865 2063 6f72 6e65 7273 206f  rk the corners o
-00000f00: 6620 7468 6520 626f 756e 6469 6e67 2062  f the bounding b
-00000f10: 6f78 0a20 2020 2020 2020 2020 2020 202d  ox.            -
-00000f20: 2037 2c20 2064 7261 7720 6120 3344 2072   7,  draw a 3D r
-00000f30: 756c 6572 2061 7420 6561 6368 2073 6964  uler at each sid
-00000f40: 6520 6f66 2074 6865 2063 6172 7465 7369  e of the cartesi
-00000f50: 616e 2061 7865 730a 2020 2020 2020 2020  an axes.        
-00000f60: 2020 2020 2d20 382c 2020 7368 6f77 2074      - 8,  show t
-00000f70: 6865 2060 7674 6b43 7562 6541 7865 7341  he `vtkCubeAxesA
-00000f80: 6374 6f72 6020 6f62 6a65 6374 0a20 2020  ctor` object.   
-00000f90: 2020 2020 2020 2020 202d 2039 2c20 2073           - 9,  s
-00000fa0: 686f 7720 7468 6520 626f 756e 6469 6e67  how the bounding
-00000fb0: 2062 6f78 206f 7574 4c69 6e65 0a20 2020   box outLine.   
-00000fc0: 2020 2020 2020 2020 202d 2031 302c 2073           - 10, s
-00000fd0: 686f 7720 7468 7265 6520 6369 7263 6c65  how three circle
-00000fe0: 7320 7265 7072 6573 656e 7469 6e67 2074  s representing t
-00000ff0: 6865 206d 6178 696d 756d 2062 6f75 6e64  he maximum bound
-00001000: 696e 6720 626f 780a 2020 2020 2020 2020  ing box.        
-00001010: 2020 2020 2d20 3131 2c20 7368 6f77 2061      - 11, show a
-00001020: 206c 6172 6765 2067 7269 6420 6f6e 2074   large grid on t
-00001030: 6865 2078 2d79 2070 6c61 6e65 0a20 2020  he x-y plane.   
-00001040: 2020 2020 2020 2020 202d 2031 322c 2073           - 12, s
-00001050: 686f 7720 706f 6c61 7220 6178 6573 0a20  how polar axes. 
-00001060: 2020 2020 2020 2020 2020 202d 2031 332c             - 13,
-00001070: 2064 7261 7720 6120 7369 6d70 6c65 2072   draw a simple r
-00001080: 756c 6572 2061 7420 7468 6520 626f 7474  uler at the bott
-00001090: 6f6d 206f 6620 7468 6520 7769 6e64 6f77  om of the window
-000010a0: 0a0a 2020 2020 2020 2020 2020 2020 4178  ..            Ax
-000010b0: 6973 2074 7970 652d 3120 6361 6e20 6265  is type-1 can be
-000010c0: 2066 756c 6c79 2063 7573 746f 6d69 7a65   fully customize
-000010d0: 6420 6279 2070 6173 7369 6e67 2061 2064  d by passing a d
-000010e0: 6963 7469 6f6e 6172 792e 0a20 2020 2020  ictionary..     
-000010f0: 2020 2020 2020 2043 6865 636b 2060 7665         Check `ve
-00001100: 646f 2e61 6464 6f6e 732e 4178 6573 2829  do.addons.Axes()
-00001110: 6020 666f 7220 7468 6520 6675 6c6c 206c  ` for the full l
-00001120: 6973 7420 6f66 206f 7074 696f 6e73 2e0a  ist of options..
-00001130: 2020 2020 2020 2020 617a 696d 7574 682f          azimuth/
-00001140: 656c 6576 6174 696f 6e2f 726f 6c6c 203a  elevation/roll :
-00001150: 2028 666c 6f61 7429 0a20 2020 2020 2020   (float).       
-00001160: 2020 2020 206d 6f76 6520 6361 6d65 7261       move camera
-00001170: 2061 6363 6f72 6469 6e67 6c79 2074 6865   accordingly the
-00001180: 2073 7065 6369 6669 6564 2076 616c 7565   specified value
-00001190: 0a20 2020 2020 2020 2076 6965 7775 7020  .        viewup 
-000011a0: 3a20 2873 7472 2c20 6c69 7374 290a 2020  : (str, list).  
-000011b0: 2020 2020 2020 2020 2020 6569 7468 6572            either
-000011c0: 2060 5b27 7827 2c20 2779 272c 2027 7a27   `['x', 'y', 'z'
-000011d0: 5d60 206f 7220 6120 7665 6374 6f72 2074  ]` or a vector t
-000011e0: 6f20 7365 7420 7665 7274 6963 616c 2064  o set vertical d
-000011f0: 6972 6563 7469 6f6e 0a20 2020 2020 2020  irection.       
-00001200: 2072 6573 6574 6361 6d20 3a20 2862 6f6f   resetcam : (boo
-00001210: 6c29 0a20 2020 2020 2020 2020 2020 2072  l).            r
-00001220: 652d 6164 6a75 7374 2063 616d 6572 6120  e-adjust camera 
-00001230: 706f 7369 7469 6f6e 2074 6f20 6669 7420  position to fit 
-00001240: 6f62 6a65 6374 730a 2020 2020 2020 2020  objects.        
-00001250: 6361 6d65 7261 203a 2028 6469 6374 2c20  camera : (dict, 
-00001260: 7674 6b43 616d 6572 6129 0a20 2020 2020  vtkCamera).     
-00001270: 2020 2020 2020 2063 616d 6572 6120 7061         camera pa
-00001280: 7261 6d65 7465 7273 2063 616e 2066 7572  rameters can fur
-00001290: 7468 6572 2062 6520 7370 6563 6966 6965  ther be specifie
-000012a0: 6420 7769 7468 2061 2064 6963 7469 6f6e  d with a diction
-000012b0: 6172 790a 2020 2020 2020 2020 2020 2020  ary.            
-000012c0: 6173 7369 676e 6564 2074 6f20 7468 6520  assigned to the 
-000012d0: 6063 616d 6572 6160 206b 6579 776f 7264  `camera` keyword
-000012e0: 2028 452e 672e 2060 7368 6f77 2863 616d   (E.g. `show(cam
-000012f0: 6572 613d 7b27 706f 7327 3a28 312c 322c  era={'pos':(1,2,
-00001300: 3329 2c20 2774 6869 636b 6e65 7373 273a  3), 'thickness':
-00001310: 3130 3030 2c7d 2960 293a 0a20 2020 2020  1000,})`):.     
-00001320: 2020 2020 2020 202d 202a 2a70 6f73 2a2a         - **pos**
-00001330: 2028 6c69 7374 292c 2020 7468 6520 706f   (list),  the po
-00001340: 7369 7469 6f6e 206f 6620 7468 6520 6361  sition of the ca
-00001350: 6d65 7261 2069 6e20 776f 726c 6420 636f  mera in world co
-00001360: 6f72 6469 6e61 7465 730a 2020 2020 2020  ordinates.      
-00001370: 2020 2020 2020 2d20 2a2a 666f 6361 6c5f        - **focal_
-00001380: 706f 696e 742a 2a20 286c 6973 7429 2c20  point** (list), 
-00001390: 7468 6520 666f 6361 6c20 706f 696e 7420  the focal point 
-000013a0: 6f66 2074 6865 2063 616d 6572 6120 696e  of the camera in
-000013b0: 2077 6f72 6c64 2063 6f6f 7264 696e 6174   world coordinat
-000013c0: 6573 0a20 2020 2020 2020 2020 2020 202d  es.            -
-000013d0: 202a 2a76 6965 7775 702a 2a20 286c 6973   **viewup** (lis
-000013e0: 7429 2c20 7468 6520 7669 6577 2075 7020  t), the view up 
-000013f0: 6469 7265 6374 696f 6e20 666f 7220 7468  direction for th
-00001400: 6520 6361 6d65 7261 0a20 2020 2020 2020  e camera.       
-00001410: 2020 2020 202d 202a 2a64 6973 7461 6e63       - **distanc
-00001420: 652a 2a20 2866 6c6f 6174 292c 2073 6574  e** (float), set
-00001430: 2074 6865 2066 6f63 616c 2070 6f69 6e74   the focal point
-00001440: 2074 6f20 7468 6520 7370 6563 6966 6965   to the specifie
-00001450: 6420 6469 7374 616e 6365 2066 726f 6d20  d distance from 
-00001460: 7468 6520 6361 6d65 7261 2070 6f73 6974  the camera posit
-00001470: 696f 6e2e 0a20 2020 2020 2020 2020 2020  ion..           
-00001480: 202d 202a 2a63 6c69 7070 696e 675f 7261   - **clipping_ra
-00001490: 6e67 652a 2a20 2866 6c6f 6174 292c 2064  nge** (float), d
-000014a0: 6973 7461 6e63 6520 6f66 2074 6865 206e  istance of the n
-000014b0: 6561 7220 616e 6420 6661 7220 636c 6970  ear and far clip
-000014c0: 7069 6e67 2070 6c61 6e65 7320 616c 6f6e  ping planes alon
-000014d0: 6720 7468 6520 6469 7265 6374 696f 6e20  g the direction 
-000014e0: 6f66 2070 726f 6a65 6374 696f 6e2e 0a20  of projection.. 
-000014f0: 2020 2020 2020 2020 2020 202d 202a 2a70             - **p
-00001500: 6172 616c 6c65 6c5f 7363 616c 652a 2a20  arallel_scale** 
-00001510: 2866 6c6f 6174 292c 0a20 2020 2020 2020  (float),.       
-00001520: 2020 2020 2073 6361 6c69 6e67 2075 7365       scaling use
-00001530: 6420 666f 7220 6120 7061 7261 6c6c 656c  d for a parallel
-00001540: 2070 726f 6a65 6374 696f 6e2c 2069 2e65   projection, i.e
-00001550: 2e20 7468 6520 6865 6967 6874 206f 6620  . the height of 
-00001560: 7468 6520 7669 6577 706f 7274 0a20 2020  the viewport.   
-00001570: 2020 2020 2020 2020 2069 6e20 776f 726c           in worl
-00001580: 642d 636f 6f72 6469 6e61 7465 2064 6973  d-coordinate dis
-00001590: 7461 6e63 6573 2e20 5468 6520 6465 6661  tances. The defa
-000015a0: 756c 7420 6973 2031 2e20 4e6f 7465 2074  ult is 1. Note t
-000015b0: 6861 7420 7468 6520 2273 6361 6c65 2220  hat the "scale" 
-000015c0: 7061 7261 6d65 7465 7220 776f 726b 7320  parameter works 
-000015d0: 6173 0a20 2020 2020 2020 2020 2020 2061  as.            a
-000015e0: 6e20 2269 6e76 6572 7365 2073 6361 6c65  n "inverse scale
-000015f0: 222c 206c 6172 6765 7220 6e75 6d62 6572  ", larger number
-00001600: 7320 7072 6f64 7563 6520 736d 616c 6c65  s produce smalle
-00001610: 7220 696d 6167 6573 2e0a 2020 2020 2020  r images..      
-00001620: 2020 2020 2020 5468 6973 206d 6574 686f        This metho
-00001630: 6420 6861 7320 6e6f 2065 6666 6563 7420  d has no effect 
-00001640: 696e 2070 6572 7370 6563 7469 7665 2070  in perspective p
-00001650: 726f 6a65 6374 696f 6e20 6d6f 6465 2e0a  rojection mode..
-00001660: 2020 2020 2020 2020 2020 2020 2d20 2a2a              - **
-00001670: 7468 6963 6b6e 6573 732a 2a20 2866 6c6f  thickness** (flo
-00001680: 6174 292c 0a20 2020 2020 2020 2020 2020  at),.           
-00001690: 2073 6574 2074 6865 2064 6973 7461 6e63   set the distanc
-000016a0: 6520 6265 7477 6565 6e20 636c 6970 7069  e between clippi
-000016b0: 6e67 2070 6c61 6e65 732e 2054 6869 7320  ng planes. This 
-000016c0: 6d65 7468 6f64 2061 646a 7573 7473 2074  method adjusts t
-000016d0: 6865 2066 6172 2063 6c69 7070 696e 670a  he far clipping.
-000016e0: 2020 2020 2020 2020 2020 2020 706c 616e              plan
-000016f0: 6520 746f 2062 6520 7365 7420 6120 6469  e to be set a di
-00001700: 7374 616e 6365 2027 7468 6963 6b6e 6573  stance 'thicknes
-00001710: 7327 2062 6579 6f6e 6420 7468 6520 6e65  s' beyond the ne
-00001720: 6172 2063 6c69 7070 696e 6720 706c 616e  ar clipping plan
-00001730: 652e 0a20 2020 2020 2020 2020 2020 202d  e..            -
-00001740: 202a 2a76 6965 775f 616e 676c 652a 2a20   **view_angle** 
-00001750: 2866 6c6f 6174 292c 0a20 2020 2020 2020  (float),.       
-00001760: 2020 2020 2074 6865 2063 616d 6572 6120       the camera 
-00001770: 7669 6577 2061 6e67 6c65 2c20 7768 6963  view angle, whic
-00001780: 6820 6973 2074 6865 2061 6e67 756c 6172  h is the angular
-00001790: 2068 6569 6768 7420 6f66 2074 6865 2063   height of the c
-000017a0: 616d 6572 6120 7669 6577 0a20 2020 2020  amera view.     
-000017b0: 2020 2020 2020 206d 6561 7375 7265 6420         measured 
-000017c0: 696e 2064 6567 7265 6573 2e20 5468 6520  in degrees. The 
-000017d0: 6465 6661 756c 7420 616e 676c 6520 6973  default angle is
-000017e0: 2033 3020 6465 6772 6565 732e 0a20 2020   30 degrees..   
-000017f0: 2020 2020 2020 2020 2054 6869 7320 6d65           This me
-00001800: 7468 6f64 2068 6173 206e 6f20 6566 6665  thod has no effe
-00001810: 6374 2069 6e20 7061 7261 6c6c 656c 2070  ct in parallel p
-00001820: 726f 6a65 6374 696f 6e20 6d6f 6465 2e0a  rojection mode..
-00001830: 2020 2020 2020 2020 2020 2020 5468 6520              The 
-00001840: 666f 726d 756c 6120 666f 7220 7365 7474  formula for sett
-00001850: 696e 6720 7468 6520 616e 676c 6520 7570  ing the angle up
-00001860: 2066 6f72 2070 6572 6665 6374 2070 6572   for perfect per
-00001870: 7370 6563 7469 7665 2076 6965 7769 6e67  spective viewing
-00001880: 2069 733a 0a20 2020 2020 2020 2020 2020   is:.           
-00001890: 2061 6e67 6c65 203d 2032 2a61 7461 6e28   angle = 2*atan(
-000018a0: 2868 2f32 292f 6429 2077 6865 7265 2068  (h/2)/d) where h
-000018b0: 2069 7320 7468 6520 6865 6967 6874 206f   is the height o
-000018c0: 6620 7468 6520 5265 6e64 6572 5769 6e64  f the RenderWind
-000018d0: 6f77 0a20 2020 2020 2020 2020 2020 2028  ow.            (
-000018e0: 6d65 6173 7572 6564 2062 7920 686f 6c64  measured by hold
-000018f0: 696e 6720 6120 7275 6c65 7220 7570 2074  ing a ruler up t
-00001900: 6f20 796f 7572 2073 6372 6565 6e29 2061  o your screen) a
-00001910: 6e64 2064 2069 7320 7468 6520 6469 7374  nd d is the dist
-00001920: 616e 6365 0a20 2020 2020 2020 2020 2020  ance.           
-00001930: 2066 726f 6d20 796f 7572 2065 7965 7320   from your eyes 
-00001940: 746f 2074 6865 2073 6372 6565 6e2e 0a20  to the screen.. 
-00001950: 2020 2020 2020 2069 6e74 6572 6163 7469         interacti
-00001960: 7665 203a 2028 626f 6f6c 290a 2020 2020  ve : (bool).    
-00001970: 2020 2020 2020 2020 7061 7573 6520 616e          pause an
-00001980: 6420 696e 7465 7261 6374 2077 6974 6820  d interact with 
-00001990: 7769 6e64 6f77 2028 5472 7565 2920 6f72  window (True) or
-000019a0: 2063 6f6e 7469 6e75 6520 6578 6563 7574   continue execut
-000019b0: 696f 6e20 2846 616c 7365 290a 2020 2020  ion (False).    
-000019c0: 2020 2020 7261 7465 203a 2028 666c 6f61      rate : (floa
-000019d0: 7429 0a20 2020 2020 2020 2020 2020 206d  t).            m
-000019e0: 6178 696d 756d 2072 6174 6520 6f66 2060  aximum rate of `
-000019f0: 7368 6f77 2829 6020 696e 2048 6572 747a  show()` in Hertz
-00001a00: 0a20 2020 2020 2020 206d 6f64 6520 3a20  .        mode : 
-00001a10: 2869 6e74 2c20 7374 7229 0a20 2020 2020  (int, str).     
-00001a20: 2020 2020 2020 2073 6574 2074 6865 2074         set the t
-00001a30: 7970 6520 6f66 2069 6e74 6572 6163 7469  ype of interacti
-00001a40: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-00001a50: 2d20 3020 3d20 5472 6163 6b62 616c 6c43  - 0 = TrackballC
-00001a60: 616d 6572 6120 5b64 6566 6175 6c74 5d0a  amera [default].
-00001a70: 2020 2020 2020 2020 2020 2020 2d20 3120              - 1 
-00001a80: 3d20 5472 6163 6b62 616c 6c41 6374 6f72  = TrackballActor
-00001a90: 0a20 2020 2020 2020 2020 2020 202d 2032  .            - 2
-00001aa0: 203d 204a 6f79 7374 6963 6b43 616d 6572   = JoystickCamer
-00001ab0: 610a 2020 2020 2020 2020 2020 2020 2d20  a.            - 
-00001ac0: 3320 3d20 4a6f 7973 7469 636b 4163 746f  3 = JoystickActo
-00001ad0: 720a 2020 2020 2020 2020 2020 2020 2d20  r.            - 
-00001ae0: 3420 3d20 466c 6967 6874 0a20 2020 2020  4 = Flight.     
-00001af0: 2020 2020 2020 202d 2035 203d 2052 7562         - 5 = Rub
-00001b00: 6265 7242 616e 6432 440a 2020 2020 2020  berBand2D.      
-00001b10: 2020 2020 2020 2d20 3620 3d20 5275 6262        - 6 = Rubb
-00001b20: 6572 4261 6e64 3344 0a20 2020 2020 2020  erBand3D.       
-00001b30: 2020 2020 202d 2037 203d 2052 7562 6265       - 7 = Rubbe
-00001b40: 7242 616e 645a 6f6f 6d0a 2020 2020 2020  rBandZoom.      
-00001b50: 2020 2020 2020 2d20 3820 3d20 436f 6e74        - 8 = Cont
-00001b60: 6578 740a 2020 2020 2020 2020 2020 2020  ext.            
-00001b70: 2d20 3920 3d20 3344 0a20 2020 2020 2020  - 9 = 3D.       
-00001b80: 2020 2020 202d 2031 3020 3d20 5465 7272       - 10 = Terr
-00001b90: 6169 6e0a 2020 2020 2020 2020 2020 2020  ain.            
-00001ba0: 2d20 3131 203d 2055 6e69 6361 6d0a 2020  - 11 = Unicam.  
-00001bb0: 2020 2020 2020 6e65 7720 3a20 2862 6f6f        new : (boo
-00001bc0: 6c29 0a20 2020 2020 2020 2020 2020 2069  l).            i
-00001bd0: 6620 7365 7420 746f 2060 5472 7565 602c  f set to `True`,
-00001be0: 2061 2063 616c 6c20 746f 2073 686f 7720   a call to show 
-00001bf0: 7769 6c6c 2069 6e73 7461 6e74 6961 7465  will instantiate
-00001c00: 0a20 2020 2020 2020 2020 2020 2061 206e  .            a n
-00001c10: 6577 2050 6c6f 7474 6572 206f 626a 6563  ew Plotter objec
-00001c20: 7420 2861 206e 6577 2077 696e 646f 7729  t (a new window)
-00001c30: 2069 6e73 7465 6164 206f 6620 7265 7573   instead of reus
-00001c40: 696e 6720 7468 6520 6669 7273 7420 6372  ing the first cr
-00001c50: 6561 7465 642e 0a20 2020 2022 2222 0a20  eated..    """. 
-00001c60: 2020 2069 6620 6c65 6e28 6163 746f 7273     if len(actors
-00001c70: 2920 3d3d 2030 3a0a 2020 2020 2020 2020  ) == 0:.        
-00001c80: 6163 746f 7273 203d 204e 6f6e 650a 2020  actors = None.  
-00001c90: 2020 656c 6966 206c 656e 2861 6374 6f72    elif len(actor
-00001ca0: 7329 203d 3d20 313a 0a20 2020 2020 2020  s) == 1:.       
-00001cb0: 2061 6374 6f72 7320 3d20 6163 746f 7273   actors = actors
-00001cc0: 5b30 5d0a 2020 2020 656c 7365 3a0a 2020  [0].    else:.  
-00001cd0: 2020 2020 2020 6163 746f 7273 203d 2075        actors = u
-00001ce0: 7469 6c73 2e66 6c61 7474 656e 2861 6374  tils.flatten(act
-00001cf0: 6f72 7329 0a0a 2020 2020 6966 2076 6564  ors)..    if ved
-00001d00: 6f2e 706c 6f74 7465 725f 696e 7374 616e  o.plotter_instan
-00001d10: 6365 2061 6e64 206e 6f74 206e 6577 3a20  ce and not new: 
-00001d20: 2023 2050 6c6f 7474 6572 2065 7869 7374   # Plotter exist
-00001d30: 730a 2020 2020 2020 2020 706c 7420 3d20  s.        plt = 
-00001d40: 7665 646f 2e70 6c6f 7474 6572 5f69 6e73  vedo.plotter_ins
-00001d50: 7461 6e63 650a 0a20 2020 2065 6c73 653a  tance..    else:
-00001d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d80: 2023 2050 6c6f 7474 6572 206d 7573 7420   # Plotter must 
-00001d90: 6265 2063 7265 6174 6564 0a0a 2020 2020  be created..    
-00001da0: 2020 2020 6966 2075 7469 6c73 2e69 735f      if utils.is_
-00001db0: 7365 7175 656e 6365 2861 7429 3a20 2020  sequence(at):   
-00001dc0: 2020 2020 2020 2023 2075 7365 7220 7061         # user pa
-00001dd0: 7373 6564 2061 2073 6571 7565 6e63 6520  ssed a sequence 
-00001de0: 666f 7220 2261 7422 0a0a 2020 2020 2020  for "at"..      
-00001df0: 2020 2020 2020 6966 206e 6f74 2075 7469        if not uti
-00001e00: 6c73 2e69 735f 7365 7175 656e 6365 2861  ls.is_sequence(a
-00001e10: 6374 6f72 7329 3a0a 2020 2020 2020 2020  ctors):.        
-00001e20: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
-00001e30: 6765 722e 6572 726f 7228 2269 6e20 7368  ger.error("in sh
-00001e40: 6f77 2829 2069 6e70 7574 206d 7573 7420  ow() input must 
-00001e50: 6265 2061 206c 6973 742e 2229 0a20 2020  be a list.").   
-00001e60: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00001e70: 7365 2052 756e 7469 6d65 4572 726f 7228  se RuntimeError(
-00001e80: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00001e90: 206c 656e 2861 7429 2021 3d20 6c65 6e28   len(at) != len(
-00001ea0: 6163 746f 7273 293a 0a20 2020 2020 2020  actors):.       
-00001eb0: 2020 2020 2020 2020 2076 6564 6f2e 6c6f           vedo.lo
-00001ec0: 6767 6572 2e65 7272 6f72 2822 696e 2073  gger.error("in s
-00001ed0: 686f 7728 2920 6c69 7374 7320 2769 6e70  how() lists 'inp
-00001ee0: 7574 2720 616e 6420 2761 7427 206d 7573  ut' and 'at' mus
-00001ef0: 7420 6861 7665 2065 7175 616c 206c 656e  t have equal len
-00001f00: 6774 6873 2229 0a20 2020 2020 2020 2020  gths").         
-00001f10: 2020 2020 2020 2072 6169 7365 2052 756e         raise Run
-00001f20: 7469 6d65 4572 726f 7228 290a 2020 2020  timeError().    
-00001f30: 2020 2020 2020 2020 6966 2073 6861 7065          if shape
-00001f40: 203d 3d20 2831 2c20 3129 2061 6e64 204e   == (1, 1) and N
-00001f50: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-00001f60: 2020 2020 2020 2020 2020 4e20 3d20 6d61            N = ma
-00001f70: 7828 6174 2920 2b20 310a 0a20 2020 2020  x(at) + 1..     
-00001f80: 2020 2065 6c69 6620 6174 2069 7320 4e6f     elif at is No
-00001f90: 6e65 2061 6e64 2028 4e20 6f72 2073 6861  ne and (N or sha
-00001fa0: 7065 2021 3d20 2831 2c20 3129 293a 0a0a  pe != (1, 1)):..
-00001fb0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00001fc0: 6f74 2075 7469 6c73 2e69 735f 7365 7175  ot utils.is_sequ
-00001fd0: 656e 6365 2861 6374 6f72 7329 3a0a 2020  ence(actors):.  
-00001fe0: 2020 2020 2020 2020 2020 2020 2020 6520                e 
-00001ff0: 3d20 2269 6e20 7368 6f77 2829 2c20 4e20  = "in show(), N 
-00002000: 6f72 2073 6861 7065 2069 7320 7365 742c  or shape is set,
-00002010: 2062 7574 2069 6e70 7574 2069 7320 6e6f   but input is no
-00002020: 7420 6120 7365 7175 656e 6365 5c6e 220a  t a sequence\n".
-00002030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002040: 6520 2b3d 2022 2020 2020 2020 2020 2020  e += "          
-00002050: 2020 2020 796f 7520 6d61 7920 6e65 6564      you may need
-00002060: 2074 6f20 7370 6563 6966 7920 652e 672e   to specify e.g.
-00002070: 2061 743d 3022 0a20 2020 2020 2020 2020   at=0".         
-00002080: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
-00002090: 6572 2e65 7272 6f72 2865 290a 2020 2020  er.error(e).    
-000020a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000020b0: 6520 5275 6e74 696d 6545 7272 6f72 2829  e RuntimeError()
-000020c0: 0a20 2020 2020 2020 2020 2020 2061 7420  .            at 
-000020d0: 3d20 6c69 7374 2872 616e 6765 286c 656e  = list(range(len
-000020e0: 2861 6374 6f72 7329 2929 0a0a 2020 2020  (actors)))..    
-000020f0: 2020 2020 706c 7420 3d20 506c 6f74 7465      plt = Plotte
-00002100: 7228 0a20 2020 2020 2020 2020 2020 2073  r(.            s
-00002110: 6861 7065 3d73 6861 7065 2c0a 2020 2020  hape=shape,.    
-00002120: 2020 2020 2020 2020 4e3d 4e2c 0a20 2020          N=N,.   
-00002130: 2020 2020 2020 2020 2070 6f73 3d70 6f73           pos=pos
-00002140: 2c0a 2020 2020 2020 2020 2020 2020 7369  ,.            si
-00002150: 7a65 3d73 697a 652c 0a20 2020 2020 2020  ze=size,.       
-00002160: 2020 2020 2073 6372 6565 6e73 697a 653d       screensize=
-00002170: 7363 7265 656e 7369 7a65 2c0a 2020 2020  screensize,.    
-00002180: 2020 2020 2020 2020 7469 746c 653d 7469          title=ti
-00002190: 746c 652c 0a20 2020 2020 2020 2020 2020  tle,.           
-000021a0: 2061 7865 733d 6178 6573 2c0a 2020 2020   axes=axes,.    
-000021b0: 2020 2020 2020 2020 7368 6172 6563 616d          sharecam
-000021c0: 3d73 6861 7265 6361 6d2c 0a20 2020 2020  =sharecam,.     
-000021d0: 2020 2020 2020 2072 6573 6574 6361 6d3d         resetcam=
-000021e0: 7265 7365 7463 616d 2c0a 2020 2020 2020  resetcam,.      
-000021f0: 2020 2020 2020 696e 7465 7261 6374 6976        interactiv
-00002200: 653d 696e 7465 7261 6374 6976 652c 0a20  e=interactive,. 
-00002210: 2020 2020 2020 2020 2020 206f 6666 7363             offsc
-00002220: 7265 656e 3d6f 6666 7363 7265 656e 2c0a  reen=offscreen,.
-00002230: 2020 2020 2020 2020 2020 2020 6267 3d62              bg=b
-00002240: 672c 0a20 2020 2020 2020 2020 2020 2062  g,.            b
-00002250: 6732 3d62 6732 2c0a 2020 2020 2020 2020  g2=bg2,.        
-00002260: 2020 2020 6261 636b 656e 643d 6261 636b      backend=back
-00002270: 656e 642c 2023 2044 4550 5245 4341 5445  end, # DEPRECATE
-00002280: 440a 2020 2020 2020 2020 290a 0a20 2020  D.        )..   
-00002290: 2023 2075 7365 205f 706c 745f 746f 5f72   # use _plt_to_r
-000022a0: 6574 7572 6e20 6265 6361 7573 6520 706c  eturn because pl
-000022b0: 742e 7368 6f77 2829 2063 616e 2072 6574  t.show() can ret
-000022c0: 7572 6e20 6120 6b33 6420 706c 6f74 0a20  urn a k3d plot. 
-000022d0: 2020 205f 706c 745f 746f 5f72 6574 7572     _plt_to_retur
-000022e0: 6e20 3d20 4e6f 6e65 0a0a 2020 2020 6966  n = None..    if
-000022f0: 2075 7469 6c73 2e69 735f 7365 7175 656e   utils.is_sequen
-00002300: 6365 2861 7429 3a0a 0a20 2020 2020 2020  ce(at):..       
-00002310: 2066 6f72 2069 2c20 6163 7420 696e 2065   for i, act in e
-00002320: 6e75 6d65 7261 7465 2861 6374 6f72 7329  numerate(actors)
-00002330: 3a0a 2020 2020 2020 2020 2020 2020 5f70  :.            _p
-00002340: 6c74 5f74 6f5f 7265 7475 726e 203d 2070  lt_to_return = p
-00002350: 6c74 2e73 686f 7728 0a20 2020 2020 2020  lt.show(.       
-00002360: 2020 2020 2020 2020 2061 6374 2c0a 2020           act,.  
-00002370: 2020 2020 2020 2020 2020 2020 2020 6174                at
-00002380: 3d69 2c0a 2020 2020 2020 2020 2020 2020  =i,.            
-00002390: 2020 2020 7a6f 6f6d 3d7a 6f6f 6d2c 0a20      zoom=zoom,. 
-000023a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000023b0: 6573 6574 6361 6d3d 7265 7365 7463 616d  esetcam=resetcam
-000023c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000023d0: 2020 7669 6577 7570 3d76 6965 7775 702c    viewup=viewup,
-000023e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000023f0: 2061 7a69 6d75 7468 3d61 7a69 6d75 7468   azimuth=azimuth
-00002400: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00002410: 2020 656c 6576 6174 696f 6e3d 656c 6576    elevation=elev
-00002420: 6174 696f 6e2c 0a20 2020 2020 2020 2020  ation,.         
-00002430: 2020 2020 2020 2072 6f6c 6c3d 726f 6c6c         roll=roll
-00002440: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00002450: 2020 6361 6d65 7261 3d63 616d 6572 612c    camera=camera,
-00002460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002470: 2069 6e74 6572 6163 7469 7665 3d46 616c   interactive=Fal
-00002480: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-00002490: 2020 2020 6d6f 6465 3d6d 6f64 652c 0a20      mode=mode,. 
-000024a0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-000024b0: 673d 6267 2c0a 2020 2020 2020 2020 2020  g=bg,.          
-000024c0: 2020 2020 2020 6267 323d 6267 322c 0a20        bg2=bg2,. 
-000024d0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000024e0: 7865 733d 6178 6573 2c0a 2020 2020 2020  xes=axes,.      
-000024f0: 2020 2020 2020 2020 2020 713d 712c 0a20            q=q,. 
-00002500: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-00002510: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-00002520: 2020 2020 2020 2069 6e74 6572 6163 7469         interacti
-00002530: 7665 0a20 2020 2020 2020 2020 2020 206f  ve.            o
-00002540: 7220 6c65 6e28 6174 2920 3d3d 204e 0a20  r len(at) == N. 
-00002550: 2020 2020 2020 2020 2020 206f 7220 2869             or (i
-00002560: 7369 6e73 7461 6e63 6528 7368 6170 655b  sinstance(shape[
-00002570: 305d 2c20 696e 7429 2061 6e64 206c 656e  0], int) and len
-00002580: 2861 7429 203d 3d20 7368 6170 655b 305d  (at) == shape[0]
-00002590: 202a 2073 6861 7065 5b31 5d29 0a20 2020   * shape[1]).   
-000025a0: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
-000025b0: 2020 2020 2320 6e6f 7465 2074 6861 7420      # note that 
-000025c0: 7368 6170 6520 6361 6e20 6265 2061 2073  shape can be a s
-000025d0: 7472 696e 670a 2020 2020 2020 2020 2020  tring.          
-000025e0: 2020 6966 2070 6c74 2e69 6e74 6572 6163    if plt.interac
-000025f0: 746f 7220 616e 6420 6e6f 7420 6f66 6673  tor and not offs
-00002600: 6372 6565 6e20 616e 6420 2869 6e74 6572  creen and (inter
-00002610: 6163 7469 7665 2069 7320 4e6f 6e65 206f  active is None o
-00002620: 7220 696e 7465 7261 6374 6976 6529 3a0a  r interactive):.
-00002630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002640: 706c 742e 696e 7465 7261 6374 6f72 2e53  plt.interactor.S
-00002650: 7461 7274 2829 0a20 2020 2020 2020 2020  tart().         
-00002660: 2020 2020 2020 2069 6620 7665 646f 2e76         if vedo.v
-00002670: 746b 5f76 6572 7369 6f6e 203d 3d20 2839  tk_version == (9
-00002680: 2c32 2c32 293a 2070 6c74 2e69 6e74 6572  ,2,2): plt.inter
-00002690: 6163 746f 722e 4765 7452 656e 6465 7257  actor.GetRenderW
-000026a0: 696e 646f 7728 292e 5365 7444 6973 706c  indow().SetDispl
-000026b0: 6179 4964 2822 5f30 5f70 5f76 6f69 6422  ayId("_0_p_void"
-000026c0: 2920 2323 4841 434b 0a0a 2020 2020 656c  ) ##HACK..    el
-000026d0: 7365 3a0a 0a20 2020 2020 2020 205f 706c  se:..        _pl
-000026e0: 745f 746f 5f72 6574 7572 6e20 3d20 706c  t_to_return = pl
-000026f0: 742e 7368 6f77 280a 2020 2020 2020 2020  t.show(.        
-00002700: 2020 2020 6163 746f 7273 2c0a 2020 2020      actors,.    
-00002710: 2020 2020 2020 2020 6174 3d61 742c 0a20          at=at,. 
-00002720: 2020 2020 2020 2020 2020 207a 6f6f 6d3d             zoom=
-00002730: 7a6f 6f6d 2c0a 2020 2020 2020 2020 2020  zoom,.          
-00002740: 2020 7265 7365 7463 616d 3d72 6573 6574    resetcam=reset
-00002750: 6361 6d2c 0a20 2020 2020 2020 2020 2020  cam,.           
-00002760: 2076 6965 7775 703d 7669 6577 7570 2c0a   viewup=viewup,.
-00002770: 2020 2020 2020 2020 2020 2020 617a 696d              azim
-00002780: 7574 683d 617a 696d 7574 682c 0a20 2020  uth=azimuth,.   
-00002790: 2020 2020 2020 2020 2065 6c65 7661 7469           elevati
-000027a0: 6f6e 3d65 6c65 7661 7469 6f6e 2c0a 2020  on=elevation,.  
-000027b0: 2020 2020 2020 2020 2020 726f 6c6c 3d72            roll=r
-000027c0: 6f6c 6c2c 0a20 2020 2020 2020 2020 2020  oll,.           
-000027d0: 2063 616d 6572 613d 6361 6d65 7261 2c0a   camera=camera,.
-000027e0: 2020 2020 2020 2020 2020 2020 696e 7465              inte
-000027f0: 7261 6374 6976 653d 696e 7465 7261 6374  ractive=interact
-00002800: 6976 652c 0a20 2020 2020 2020 2020 2020  ive,.           
-00002810: 206d 6f64 653d 6d6f 6465 2c0a 2020 2020   mode=mode,.    
-00002820: 2020 2020 2020 2020 6267 3d62 672c 0a20          bg=bg,. 
-00002830: 2020 2020 2020 2020 2020 2062 6732 3d62             bg2=b
-00002840: 6732 2c0a 2020 2020 2020 2020 2020 2020  g2,.            
-00002850: 6178 6573 3d61 7865 732c 0a20 2020 2020  axes=axes,.     
-00002860: 2020 2020 2020 2071 3d71 2c0a 2020 2020         q=q,.    
-00002870: 2020 2020 290a 0a20 2020 2072 6574 7572      )..    retur
-00002880: 6e20 5f70 6c74 5f74 6f5f 7265 7475 726e  n _plt_to_return
-00002890: 0a0a 0a64 6566 2063 6c6f 7365 2829 3a0a  ...def close():.
-000028a0: 2020 2020 2222 2243 6c6f 7365 2074 6865      """Close the
-000028b0: 206c 6173 7420 6372 6561 7465 6420 506c   last created Pl
-000028c0: 6f74 7465 7220 696e 7374 616e 6365 2069  otter instance i
-000028d0: 6620 6974 2065 7869 7374 732e 2222 220a  f it exists.""".
-000028e0: 2020 2020 6966 206e 6f74 2076 6564 6f2e      if not vedo.
-000028f0: 706c 6f74 7465 725f 696e 7374 616e 6365  plotter_instance
-00002900: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00002910: 0a20 2020 2076 6564 6f2e 706c 6f74 7465  .    vedo.plotte
-00002920: 725f 696e 7374 616e 6365 2e63 6c6f 7365  r_instance.close
-00002930: 2829 0a20 2020 2072 6574 7572 6e0a 0a0a  ().    return...
-00002940: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002950: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002960: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002970: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002980: 2323 2323 2323 2323 0a63 6c61 7373 2050  ########.class P
-00002990: 6c6f 7474 6572 3a0a 2020 2020 2222 224d  lotter:.    """M
-000029a0: 6169 6e20 636c 6173 7320 746f 206d 616e  ain class to man
-000029b0: 6167 6520 6163 746f 7273 2e22 2222 0a20  age actors.""". 
-000029c0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-000029d0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000029e0: 662c 0a20 2020 2020 2020 2020 2020 2073  f,.            s
-000029f0: 6861 7065 3d28 312c 2031 292c 0a20 2020  hape=(1, 1),.   
-00002a00: 2020 2020 2020 2020 204e 3d4e 6f6e 652c           N=None,
-00002a10: 0a20 2020 2020 2020 2020 2020 2070 6f73  .            pos
-00002a20: 3d28 302c 2030 292c 0a20 2020 2020 2020  =(0, 0),.       
-00002a30: 2020 2020 2073 697a 653d 2261 7574 6f22       size="auto"
-00002a40: 2c0a 2020 2020 2020 2020 2020 2020 7363  ,.            sc
-00002a50: 7265 656e 7369 7a65 3d22 6175 746f 222c  reensize="auto",
-00002a60: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
-00002a70: 6c65 3d22 7665 646f 222c 0a20 2020 2020  le="vedo",.     
-00002a80: 2020 2020 2020 2062 673d 2277 6869 7465         bg="white
-00002a90: 222c 0a20 2020 2020 2020 2020 2020 2062  ",.            b
-00002aa0: 6732 3d4e 6f6e 652c 0a20 2020 2020 2020  g2=None,.       
-00002ab0: 2020 2020 2061 7865 733d 4e6f 6e65 2c0a       axes=None,.
-00002ac0: 2020 2020 2020 2020 2020 2020 7368 6172              shar
-00002ad0: 6563 616d 3d54 7275 652c 0a20 2020 2020  ecam=True,.     
-00002ae0: 2020 2020 2020 2072 6573 6574 6361 6d3d         resetcam=
-00002af0: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
-00002b00: 2020 696e 7465 7261 6374 6976 653d 4e6f    interactive=No
-00002b10: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00002b20: 6f66 6673 6372 6565 6e3d 4661 6c73 652c  offscreen=False,
-00002b30: 0a20 2020 2020 2020 2020 2020 2071 745f  .            qt_
-00002b40: 7769 6467 6574 3d4e 6f6e 652c 0a20 2020  widget=None,.   
-00002b50: 2020 2020 2020 2020 2077 785f 7769 6467           wx_widg
-00002b60: 6574 3d4e 6f6e 652c 0a20 2020 2020 2020  et=None,.       
-00002b70: 2020 2020 2062 6163 6b65 6e64 3d22 222c       backend="",
-00002b80: 2023 2044 4550 5245 4341 5445 440a 2020   # DEPRECATED.  
-00002b90: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
-00002ba0: 2022 2222 0a20 2020 2020 2020 2041 7267   """.        Arg
-00002bb0: 756d 656e 7473 3a0a 2020 2020 2020 2020  uments:.        
-00002bc0: 2020 2020 7368 6170 6520 3a20 2873 7472      shape : (str
-00002bd0: 2c20 6c69 7374 290a 2020 2020 2020 2020  , list).        
-00002be0: 2020 2020 2020 2020 7368 6170 6520 6f66          shape of
-00002bf0: 2074 6865 2067 7269 6420 6f66 2072 656e   the grid of ren
-00002c00: 6465 7265 7273 2069 6e20 666f 726d 6174  derers in format
-00002c10: 2028 726f 7773 2c20 636f 6c75 6d6e 7329   (rows, columns)
-00002c20: 2e20 4967 6e6f 7265 6420 6966 204e 2069  . Ignored if N i
-00002c30: 7320 7370 6563 6966 6965 642e 0a20 2020  s specified..   
-00002c40: 2020 2020 2020 2020 204e 203a 2028 696e           N : (in
-00002c50: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
-00002c60: 2020 206e 756d 6265 7220 6f66 2064 6573     number of des
-00002c70: 6972 6564 2072 656e 6465 7265 7273 2061  ired renderers a
-00002c80: 7272 616e 6765 6420 696e 2061 2067 7269  rranged in a gri
-00002c90: 6420 6175 746f 6d61 7469 6361 6c6c 792e  d automatically.
-00002ca0: 0a20 2020 2020 2020 2020 2020 2070 6f73  .            pos
-00002cb0: 203a 2028 6c69 7374 290a 2020 2020 2020   : (list).      
-00002cc0: 2020 2020 2020 2020 2020 2878 2c79 2920            (x,y) 
-00002cd0: 706f 7369 7469 6f6e 2069 6e20 7069 7865  position in pixe
-00002ce0: 6c73 206f 6620 746f 702d 6c65 6674 2063  ls of top-left c
-00002cf0: 6f72 6e65 7220 6f66 2074 6865 2072 656e  orner of the ren
-00002d00: 6465 7269 6e67 2077 696e 646f 7720 6f6e  dering window on
-00002d10: 2074 6865 2073 6372 6565 6e0a 2020 2020   the screen.    
-00002d20: 2020 2020 2020 2020 7369 7a65 203a 2028          size : (
-00002d30: 7374 722c 206c 6973 7429 0a20 2020 2020  str, list).     
-00002d40: 2020 2020 2020 2020 2020 2073 697a 6520             size 
-00002d50: 6f66 2074 6865 2072 656e 6465 7269 6e67  of the rendering
-00002d60: 2077 696e 646f 772e 2049 6620 2761 7574   window. If 'aut
-00002d70: 6f27 2c20 6775 6573 7320 6974 2062 6173  o', guess it bas
-00002d80: 6564 206f 6e20 7363 7265 656e 7369 7a65  ed on screensize
-00002d90: 2e0a 2020 2020 2020 2020 2020 2020 7363  ..            sc
-00002da0: 7265 656e 7369 7a65 203a 2028 6c69 7374  reensize : (list
-00002db0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00002dc0: 2020 7068 7973 6963 616c 2073 697a 6520    physical size 
-00002dd0: 6f66 2074 6865 206d 6f6e 6974 6f72 2073  of the monitor s
-00002de0: 6372 6565 6e20 696e 2070 6978 656c 730a  creen in pixels.
-00002df0: 2020 2020 2020 2020 2020 2020 6267 203a              bg :
-00002e00: 2028 636f 6c6f 722c 2073 7472 290a 2020   (color, str).  
-00002e10: 2020 2020 2020 2020 2020 2020 2020 6261                ba
-00002e20: 636b 6772 6f75 6e64 2063 6f6c 6f72 206f  ckground color o
-00002e30: 7220 7370 6563 6966 7920 6a70 6720 696d  r specify jpg im
-00002e40: 6167 6520 6669 6c65 206e 616d 6520 7769  age file name wi
-00002e50: 7468 2070 6174 680a 2020 2020 2020 2020  th path.        
-00002e60: 2020 2020 6267 3220 3a20 2863 6f6c 6f72      bg2 : (color
-00002e70: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00002e80: 2020 6261 636b 6772 6f75 6e64 2063 6f6c    background col
-00002e90: 6f72 206f 6620 6120 6772 6164 6965 6e74  or of a gradient
-00002ea0: 2074 6f77 6172 6473 2074 6865 2074 6f70   towards the top
-00002eb0: 0a20 2020 2020 2020 2020 2020 2061 7865  .            axe
-00002ec0: 7320 3a20 2869 6e74 290a 0a20 2020 2020  s : (int)..     
-00002ed0: 2020 2020 2020 2020 2020 204e 6f74 6520             Note 
-00002ee0: 7468 6174 2041 7865 7320 7479 7065 2d31  that Axes type-1
-00002ef0: 2063 616e 2062 6520 6675 6c6c 7920 6375   can be fully cu
-00002f00: 7374 6f6d 697a 6564 2062 7920 7061 7373  stomized by pass
-00002f10: 696e 6720 6120 6469 6374 696f 6e61 7279  ing a dictionary
-00002f20: 2060 6178 6573 3d64 6963 7428 2960 2e0a   `axes=dict()`..
-00002f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f40: 4368 6563 6b20 6f75 7420 6076 6564 6f2e  Check out `vedo.
-00002f50: 6164 646f 6e73 2e41 7865 7328 2960 2066  addons.Axes()` f
-00002f60: 6f72 2074 6865 2061 7661 696c 6162 6c65  or the available
-00002f70: 206f 7074 696f 6e73 2e0a 2020 2020 2020   options..      
-00002f80: 2020 2020 2020 2020 2020 2d20 302c 2020            - 0,  
-00002f90: 6e6f 2061 7865 730a 2020 2020 2020 2020  no axes.        
-00002fa0: 2020 2020 2020 2020 2d20 312c 2020 6472          - 1,  dr
-00002fb0: 6177 2074 6872 6565 2067 7261 7920 6772  aw three gray gr
-00002fc0: 6964 2077 616c 6c73 0a20 2020 2020 2020  id walls.       
-00002fd0: 2020 2020 2020 2020 202d 2032 2c20 2073           - 2,  s
-00002fe0: 686f 7720 6361 7274 6573 6961 6e20 6178  how cartesian ax
-00002ff0: 6573 2066 726f 6d20 2830 2c30 2c30 290a  es from (0,0,0).
-00003000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003010: 2d20 332c 2020 7368 6f77 2070 6f73 6974  - 3,  show posit
-00003020: 6976 6520 7261 6e67 6520 6f66 2063 6172  ive range of car
-00003030: 7465 7369 616e 2061 7865 7320 6672 6f6d  tesian axes from
-00003040: 2028 302c 302c 3029 0a20 2020 2020 2020   (0,0,0).       
-00003050: 2020 2020 2020 2020 202d 2034 2c20 2073           - 4,  s
-00003060: 686f 7720 6120 7472 6961 6420 6174 2062  how a triad at b
-00003070: 6f74 746f 6d20 6c65 6674 0a20 2020 2020  ottom left.     
-00003080: 2020 2020 2020 2020 2020 202d 2035 2c20             - 5, 
-00003090: 2073 686f 7720 6120 6375 6265 2061 7420   show a cube at 
-000030a0: 626f 7474 6f6d 206c 6566 740a 2020 2020  bottom left.    
-000030b0: 2020 2020 2020 2020 2020 2020 2d20 362c              - 6,
-000030c0: 2020 6d61 726b 2074 6865 2063 6f72 6e65    mark the corne
-000030d0: 7273 206f 6620 7468 6520 626f 756e 6469  rs of the boundi
-000030e0: 6e67 2062 6f78 0a20 2020 2020 2020 2020  ng box.         
-000030f0: 2020 2020 2020 202d 2037 2c20 2064 7261         - 7,  dra
-00003100: 7720 6120 3344 2072 756c 6572 2061 7420  w a 3D ruler at 
-00003110: 6561 6368 2073 6964 6520 6f66 2074 6865  each side of the
-00003120: 2063 6172 7465 7369 616e 2061 7865 730a   cartesian axes.
-00003130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003140: 2d20 382c 2020 7368 6f77 2074 6865 2056  - 8,  show the V
-00003150: 544b 2043 7562 6541 7865 7341 6374 6f72  TK CubeAxesActor
-00003160: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00003170: 2020 2020 2020 2020 2d20 392c 2020 7368          - 9,  sh
-00003180: 6f77 2074 6865 2062 6f75 6e64 696e 6720  ow the bounding 
-00003190: 626f 7820 6f75 744c 696e 652c 0a20 2020  box outLine,.   
-000031a0: 2020 2020 2020 2020 2020 2020 202d 2031               - 1
-000031b0: 302c 2073 686f 7720 7468 7265 6520 6369  0, show three ci
-000031c0: 7263 6c65 7320 7265 7072 6573 656e 7469  rcles representi
-000031d0: 6e67 2074 6865 206d 6178 696d 756d 2062  ng the maximum b
-000031e0: 6f75 6e64 696e 6720 626f 782c 0a20 2020  ounding box,.   
-000031f0: 2020 2020 2020 2020 2020 2020 202d 2031               - 1
-00003200: 312c 2073 686f 7720 6120 6c61 7267 6520  1, show a large 
-00003210: 6772 6964 206f 6e20 7468 6520 782d 7920  grid on the x-y 
-00003220: 706c 616e 6520 2875 7365 2077 6974 6820  plane (use with 
-00003230: 7a6f 6f6d 3d38 290a 2020 2020 2020 2020  zoom=8).        
-00003240: 2020 2020 2020 2020 2d20 3132 2c20 7368          - 12, sh
-00003250: 6f77 2070 6f6c 6172 2061 7865 732e 0a20  ow polar axes.. 
-00003260: 2020 2020 2020 2020 2020 2020 2020 202d                 -
-00003270: 2031 332c 2064 7261 7720 6120 7369 6d70   13, draw a simp
-00003280: 6c65 2072 756c 6572 2061 7420 7468 6520  le ruler at the 
-00003290: 626f 7474 6f6d 206f 6620 7468 6520 7769  bottom of the wi
-000032a0: 6e64 6f77 0a0a 2020 2020 2020 2020 2020  ndow..          
-000032b0: 2020 7368 6172 6563 616d 203a 2028 626f    sharecam : (bo
-000032c0: 6f6c 290a 2020 2020 2020 2020 2020 2020  ol).            
-000032d0: 2020 2020 6966 2046 616c 7365 2065 6163      if False eac
-000032e0: 6820 7265 6e64 6572 6572 2077 696c 6c20  h renderer will 
-000032f0: 6861 7665 2061 6e20 696e 6465 7065 6e64  have an independ
-00003300: 656e 7420 7674 6b43 616d 6572 610a 2020  ent vtkCamera.  
-00003310: 2020 2020 2020 2020 2020 696e 7465 7261            intera
-00003320: 6374 6976 6520 3a20 2862 6f6f 6c29 0a20  ctive : (bool). 
-00003330: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00003340: 6620 5472 7565 2077 696c 6c20 7374 6f70  f True will stop
-00003350: 2061 6674 6572 2073 686f 7728 2920 746f   after show() to
-00003360: 2061 6c6c 6f77 2069 6e74 6572 6163 7469   allow interacti
-00003370: 6f6e 2077 2f20 7769 6e64 6f77 0a20 2020  on w/ window.   
-00003380: 2020 2020 2020 2020 206f 6666 7363 7265           offscre
-00003390: 656e 203a 2028 626f 6f6c 290a 2020 2020  en : (bool).    
-000033a0: 2020 2020 2020 2020 2020 2020 6966 2054              if T
-000033b0: 7275 6520 7769 6c6c 206e 6f74 2073 686f  rue will not sho
-000033c0: 7720 7468 6520 7265 6e64 6572 696e 6720  w the rendering 
-000033d0: 7769 6e64 6f77 0a20 2020 2020 2020 2020  window.         
-000033e0: 2020 2071 745f 7769 6467 6574 203a 2028     qt_widget : (
-000033f0: 5156 544b 5265 6e64 6572 5769 6e64 6f77  QVTKRenderWindow
-00003400: 496e 7465 7261 6374 6f72 290a 2020 2020  Interactor).    
-00003410: 2020 2020 2020 2020 2020 2020 7265 6e64              rend
-00003420: 6572 2069 6e20 6120 5174 2d57 6964 6765  er in a Qt-Widge
-00003430: 7420 7573 696e 6720 616e 2051 5654 4b52  t using an QVTKR
-00003440: 656e 6465 7257 696e 646f 7749 6e74 6572  enderWindowInter
-00003450: 6163 746f 722e 0a20 2020 2020 2020 2020  actor..         
-00003460: 2020 2020 2020 204f 7665 7272 6964 6573         Overrides
-00003470: 206f 6666 7363 7265 656e 2074 6f20 5472   offscreen to Tr
-00003480: 7565 2e0a 2020 2020 2020 2020 2020 2020  ue..            
-00003490: 2020 2020 4f76 6572 7269 6465 7320 696e      Overrides in
-000034a0: 7465 7261 6374 6976 6520 746f 2046 616c  teractive to Fal
-000034b0: 7365 2e0a 2020 2020 2020 2020 2020 2020  se..            
-000034c0: 2020 2020 5365 6520 6578 616d 706c 6573      See examples
-000034d0: 2060 7174 5f77 696e 646f 7773 312e 7079   `qt_windows1.py
-000034e0: 6020 616e 6420 6071 745f 7769 6e64 6f77  ` and `qt_window
-000034f0: 7332 2e70 7960 0a20 2020 2020 2020 2022  s2.py`.        "
-00003500: 2222 0a0a 2020 2020 2020 2020 6966 2062  ""..        if b
-00003510: 6163 6b65 6e64 2021 3d20 2222 3a0a 2020  ackend != "":.  
-00003520: 2020 2020 2020 2020 2020 7665 646f 2e6c            vedo.l
-00003530: 6f67 6765 722e 6572 726f 7228 6622 6f62  ogger.error(f"ob
-00003540: 736f 6c65 7465 2027 6261 636b 656e 6427  solete 'backend'
-00003550: 206b 6579 776f 7264 2c20 7573 6520 7365   keyword, use se
-00003560: 7474 696e 6773 2e64 6566 6175 6c74 5f62  ttings.default_b
-00003570: 6163 6b65 6e64 203d 2027 7b62 6163 6b65  ackend = '{backe
-00003580: 6e64 7d27 2229 0a20 2020 2020 2020 2020  nd}'").         
-00003590: 2020 2073 6574 7469 6e67 732e 6465 6661     settings.defa
-000035a0: 756c 745f 6261 636b 656e 6420 3d20 6261  ult_backend = ba
-000035b0: 636b 656e 640a 0a20 2020 2020 2020 2076  ckend..        v
-000035c0: 6564 6f2e 706c 6f74 7465 725f 696e 7374  edo.plotter_inst
-000035d0: 616e 6365 203d 2073 656c 660a 0a20 2020  ance = self..   
-000035e0: 2020 2020 2069 6620 7174 5f77 6964 6765       if qt_widge
-000035f0: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
-00003600: 2020 2020 2020 2020 2020 2023 206f 7665             # ove
-00003610: 7272 6964 6573 2074 6865 2069 6e74 6572  rrides the inter
-00003620: 6163 7469 7665 2061 6e64 206f 6666 7363  active and offsc
-00003630: 7265 656e 2070 726f 7065 7274 6965 730a  reen properties.
-00003640: 2020 2020 2020 2020 2020 2020 696e 7465              inte
-00003650: 7261 6374 6976 6520 3d20 4661 6c73 650a  ractive = False.
-00003660: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-00003670: 6372 6565 6e20 3d20 5472 7565 0a0a 2020  creen = True..  
-00003680: 2020 2020 2020 6966 2077 785f 7769 6467        if wx_widg
-00003690: 6574 2069 7320 6e6f 7420 4e6f 6e65 3a0a  et is not None:.
-000036a0: 2020 2020 2020 2020 2020 2020 2320 6f76              # ov
-000036b0: 6572 7269 6465 7320 7468 6520 696e 7465  errides the inte
-000036c0: 7261 6374 6976 6520 7072 6f70 6572 7479  ractive property
-000036d0: 0a20 2020 2020 2020 2020 2020 2069 6e74  .            int
-000036e0: 6572 6163 7469 7665 203d 2046 616c 7365  eractive = False
-000036f0: 0a0a 2020 2020 2020 2020 6966 2069 6e74  ..        if int
-00003700: 6572 6163 7469 7665 2069 7320 4e6f 6e65  eractive is None
-00003710: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00003720: 204e 203d 3d20 313a 0a20 2020 2020 2020   N == 1:.       
-00003730: 2020 2020 2020 2020 2069 6e74 6572 6163           interac
-00003740: 7469 7665 203d 2054 7275 650a 2020 2020  tive = True.    
-00003750: 2020 2020 2020 2020 656c 6966 204e 206f          elif N o
-00003760: 7220 7368 6170 6520 213d 2028 312c 2031  r shape != (1, 1
-00003770: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00003780: 2020 2069 6e74 6572 6163 7469 7665 203d     interactive =
-00003790: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-000037a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000037b0: 2020 2020 2020 2020 2069 6e74 6572 6163           interac
-000037c0: 7469 7665 203d 2054 7275 650a 0a20 2020  tive = True..   
-000037d0: 2020 2020 2073 656c 662e 6163 746f 7273       self.actors
-000037e0: 203d 205b 5d20 2023 206c 6973 7420 6f66   = []  # list of
-000037f0: 2061 6374 6f72 7320 746f 2062 6520 7368   actors to be sh
-00003800: 6f77 6e0a 2020 2020 2020 2020 7365 6c66  own.        self
-00003810: 2e63 6c69 636b 6564 5f61 6374 6f72 203d  .clicked_actor =
-00003820: 204e 6f6e 6520 2023 2068 6f6c 6473 2074   None  # holds t
-00003830: 6865 2061 6374 6f72 2074 6861 7420 6861  he actor that ha
-00003840: 7320 6265 656e 2063 6c69 636b 6564 0a20  s been clicked. 
-00003850: 2020 2020 2020 2073 656c 662e 7265 6e64         self.rend
-00003860: 6572 6572 203d 204e 6f6e 6520 2023 2063  erer = None  # c
-00003870: 7572 7265 6e74 2072 656e 6465 7265 720a  urrent renderer.
-00003880: 2020 2020 2020 2020 7365 6c66 2e72 656e          self.ren
-00003890: 6465 7265 7273 203d 205b 5d20 2023 206c  derers = []  # l
-000038a0: 6973 7420 6f66 2072 656e 6465 7265 7273  ist of renderers
-000038b0: 0a20 2020 2020 2020 2073 656c 662e 7368  .        self.sh
-000038c0: 6170 6520 3d20 7368 6170 6520 2023 2064  ape = shape  # d
-000038d0: 6f6e 2774 2072 656d 6f76 6520 7468 6973  on't remove this
-000038e0: 206c 696e 650a 2020 2020 2020 2020 7365   line.        se
-000038f0: 6c66 2e5f 696e 7465 7261 6374 6976 6520  lf._interactive 
-00003900: 3d20 696e 7465 7261 6374 6976 6520 2023  = interactive  #
-00003910: 2061 6c6c 6f77 7320 746f 2069 6e74 6572   allows to inter
-00003920: 6163 7420 7769 7468 2072 656e 6465 7265  act with rendere
-00003930: 720a 2020 2020 2020 2020 7365 6c66 2e61  r.        self.a
-00003940: 7865 7320 3d20 6178 6573 2020 2320 7368  xes = axes  # sh
-00003950: 6f77 2061 7865 7320 7479 7065 206e 722e  ow axes type nr.
-00003960: 0a20 2020 2020 2020 2073 656c 662e 7469  .        self.ti
-00003970: 746c 6520 3d20 7469 746c 6520 2023 2077  tle = title  # w
-00003980: 696e 646f 7720 7469 746c 650a 2020 2020  indow title.    
-00003990: 2020 2020 7365 6c66 2e73 6861 7265 6361      self.shareca
-000039a0: 6d20 3d20 7368 6172 6563 616d 2020 2320  m = sharecam  # 
-000039b0: 7368 6172 6520 7468 6520 7361 6d65 2063  share the same c
-000039c0: 616d 6572 6120 6966 206d 756c 7469 706c  amera if multipl
-000039d0: 6520 7265 6e64 6572 6572 730a 2020 2020  e renderers.    
-000039e0: 2020 2020 7365 6c66 2e70 6963 6b65 7220      self.picker 
-000039f0: 3d20 4e6f 6e65 2020 2320 7468 6520 7674  = None  # the vt
-00003a00: 6b50 6963 6b65 7220 6f62 6a65 6374 0a20  kPicker object. 
-00003a10: 2020 2020 2020 2073 656c 662e 7069 636b         self.pick
-00003a20: 6564 3264 203d 204e 6f6e 6520 2023 2032  ed2d = None  # 2
-00003a30: 6420 636f 6f72 6473 206f 6620 6120 636c  d coords of a cl
-00003a40: 6963 6b65 6420 706f 696e 7420 6f6e 2074  icked point on t
-00003a50: 6865 2072 656e 6465 7269 6e67 2077 696e  he rendering win
-00003a60: 646f 770a 2020 2020 2020 2020 7365 6c66  dow.        self
-00003a70: 2e70 6963 6b65 6433 6420 3d20 4e6f 6e65  .picked3d = None
-00003a80: 2020 2320 3364 2063 6f6f 7264 7320 6f66    # 3d coords of
-00003a90: 2061 2063 6c69 636b 6564 2070 6f69 6e74   a clicked point
-00003aa0: 206f 6e20 616e 2061 6374 6f72 0a20 2020   on an actor.   
-00003ab0: 2020 2020 2073 656c 662e 6f66 6673 6372       self.offscr
-00003ac0: 6565 6e20 3d20 6f66 6673 6372 6565 6e0a  een = offscreen.
-00003ad0: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00003ae0: 6574 6361 6d20 3d20 7265 7365 7463 616d  etcam = resetcam
-00003af0: 0a20 2020 2020 2020 2073 656c 662e 6c61  .        self.la
-00003b00: 7374 5f65 7665 6e74 203d 204e 6f6e 650a  st_event = None.
-00003b10: 0a20 2020 2020 2020 2073 656c 662e 7174  .        self.qt
-00003b20: 5f77 6964 6765 7420 3d20 7174 5f77 6964  _widget = qt_wid
-00003b30: 6765 7420 2023 2020 5156 544b 5265 6e64  get  #  QVTKRend
-00003b40: 6572 5769 6e64 6f77 496e 7465 7261 6374  erWindowInteract
-00003b50: 6f72 0a20 2020 2020 2020 2073 656c 662e  or.        self.
-00003b60: 7778 5f77 6964 6765 7420 3d20 7778 5f77  wx_widget = wx_w
-00003b70: 6964 6765 7420 2023 2077 7856 544b 5265  idget  # wxVTKRe
-00003b80: 6e64 6572 5769 6e64 6f77 496e 7465 7261  nderWindowIntera
-00003b90: 6374 6f72 0a0a 2020 2020 2020 2020 7365  ctor..        se
-00003ba0: 6c66 2e73 6b79 626f 7820 3d20 4e6f 6e65  lf.skybox = None
-00003bb0: 0a0a 2020 2020 2020 2020 2320 6d6f 7374  ..        # most
-00003bc0: 6c79 2069 6e74 6572 6e61 6c20 7374 7566  ly internal stuf
-00003bd0: 663a 0a20 2020 2020 2020 2073 656c 662e  f:.        self.
-00003be0: 686f 7665 725f 6c65 6765 6e64 7320 3d20  hover_legends = 
-00003bf0: 5b5d 0a20 2020 2020 2020 2073 656c 662e  [].        self.
-00003c00: 6261 636b 6772 636f 6c20 3d20 6267 0a20  backgrcol = bg. 
-00003c10: 2020 2020 2020 2073 656c 662e 706f 7320         self.pos 
-00003c20: 3d20 706f 7320 2023 2075 7365 6420 6279  = pos  # used by
-00003c30: 2076 6564 6f2e 696f 0a20 2020 2020 2020   vedo.io.       
-00003c40: 2073 656c 662e 6a75 7374 7265 6d6f 7665   self.justremove
-00003c50: 6420 3d20 4e6f 6e65 0a20 2020 2020 2020  d = None.       
-00003c60: 2073 656c 662e 6178 6573 5f69 6e73 7461   self.axes_insta
-00003c70: 6e63 6573 203d 205b 5d0a 2020 2020 2020  nces = [].      
-00003c80: 2020 7365 6c66 2e63 6c6f 636b 203d 2030    self.clock = 0
-00003c90: 0a20 2020 2020 2020 2073 656c 662e 736c  .        self.sl
-00003ca0: 6964 6572 7320 3d20 5b5d 0a20 2020 2020  iders = [].     
-00003cb0: 2020 2073 656c 662e 6275 7474 6f6e 7320     self.buttons 
-00003cc0: 3d20 5b5d 0a20 2020 2020 2020 2073 656c  = [].        sel
-00003cd0: 662e 7769 6467 6574 7320 3d20 5b5d 0a20  f.widgets = []. 
-00003ce0: 2020 2020 2020 2073 656c 662e 6375 7474         self.cutt
-00003cf0: 6572 5f77 6964 6765 7420 3d20 4e6f 6e65  er_widget = None
-00003d00: 0a20 2020 2020 2020 2073 656c 662e 6869  .        self.hi
-00003d10: 6e74 5f77 6964 6765 7420 3d20 4e6f 6e65  nt_widget = None
-00003d20: 0a20 2020 2020 2020 2073 656c 662e 6261  .        self.ba
-00003d30: 636b 6772 6f75 6e64 5f72 656e 6465 7265  ckground_rendere
-00003d40: 7220 3d20 4e6f 6e65 0a20 2020 2020 2020  r = None.       
-00003d50: 2073 656c 662e 7369 7a65 203d 2073 697a   self.size = siz
-00003d60: 650a 2020 2020 2020 2020 7365 6c66 2e69  e.        self.i
-00003d70: 6e74 6572 6163 746f 7220 3d20 4e6f 6e65  nteractor = None
-00003d80: 0a20 2020 2020 2020 2073 656c 662e 6361  .        self.ca
-00003d90: 6d65 7261 203d 204e 6f6e 650a 0a20 2020  mera = None..   
-00003da0: 2020 2020 2073 656c 662e 5f69 636f 6c20       self._icol 
-00003db0: 3d20 300a 2020 2020 2020 2020 7365 6c66  = 0.        self
-00003dc0: 2e5f 636c 6f63 6b74 3020 3d20 7469 6d65  ._clockt0 = time
-00003dd0: 2e74 696d 6528 290a 2020 2020 2020 2020  .time().        
-00003de0: 7365 6c66 2e5f 6669 7273 745f 7669 6577  self._first_view
-00003df0: 7570 203d 2054 7275 650a 2020 2020 2020  up = True.      
-00003e00: 2020 7365 6c66 2e5f 6578 7472 616c 6967    self._extralig
-00003e10: 6874 203d 204e 6f6e 650a 2020 2020 2020  ht = None.      
-00003e20: 2020 7365 6c66 2e5f 636f 636f 615f 696e    self._cocoa_in
-00003e30: 6974 6961 6c69 7a65 6420 3d20 4661 6c73  itialized = Fals
-00003e40: 650a 0a20 2020 2020 2020 2023 2323 2323  e..        #####
-00003e50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003e60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003e70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003e80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003e90: 0a20 2020 2020 2020 2069 6620 7365 7474  .        if sett
-00003ea0: 696e 6773 2e64 6566 6175 6c74 5f62 6163  ings.default_bac
-00003eb0: 6b65 6e64 2021 3d20 2776 746b 273a 0a20  kend != 'vtk':. 
-00003ec0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-00003ed0: 7474 696e 6773 2e64 6566 6175 6c74 5f62  ttings.default_b
-00003ee0: 6163 6b65 6e64 203d 3d20 2232 6422 3a0a  ackend == "2d":.
-00003ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f00: 7365 6c66 2e6f 6666 7363 7265 656e 203d  self.offscreen =
-00003f10: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
-00003f20: 2020 2020 2020 6966 2073 656c 662e 7369        if self.si
-00003f30: 7a65 203d 3d20 2261 7574 6f22 3a0a 2020  ze == "auto":.  
-00003f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f50: 2020 7365 6c66 2e73 697a 6520 3d20 2838    self.size = (8
-00003f60: 3030 2c20 3630 3029 0a0a 2020 2020 2020  00, 600)..      
-00003f70: 2020 2020 2020 656c 6966 2073 6574 7469        elif setti
-00003f80: 6e67 732e 6465 6661 756c 745f 6261 636b  ngs.default_back
-00003f90: 656e 6420 3d3d 2022 6b33 6422 3a0a 2020  end == "k3d":.  
-00003fa0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00003fb0: 6c66 2e5f 696e 7465 7261 6374 6976 6520  lf._interactive 
-00003fc0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-00003fd0: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
-00003fe0: 6572 6163 746f 7220 3d20 4e6f 6e65 0a20  eractor = None. 
-00003ff0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00004000: 656c 662e 7769 6e64 6f77 203d 204e 6f6e  elf.window = Non
-00004010: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00004020: 2020 7365 6c66 2e63 616d 6572 6120 3d20    self.camera = 
-00004030: 4e6f 6e65 2020 2320 6c65 7420 7468 6520  None  # let the 
-00004040: 6261 636b 656e 6420 6368 6f6f 7365 0a20  backend choose. 
-00004050: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00004060: 6620 7365 6c66 2e73 697a 6520 3d3d 2022  f self.size == "
-00004070: 6175 746f 223a 0a20 2020 2020 2020 2020  auto":.         
-00004080: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00004090: 7369 7a65 203d 2028 3130 3030 2c20 3130  size = (1000, 10
-000040a0: 3030 290a 2020 2020 2020 2020 2020 2020  00).            
-000040b0: 2020 2020 2323 2323 2323 2323 2323 2323      ############
-000040c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000040d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000040e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000040f0: 230a 2020 2020 2020 2020 2020 2020 2020  #.              
-00004100: 2020 7265 7475 726e 2020 2323 2323 2323    return  ######
-00004110: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004120: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004130: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004150: 2023 2323 2323 2323 2323 2323 2323 2323   ###############
-00004160: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004170: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004180: 2323 2323 2323 2323 2323 2323 2323 0a20  ##############. 
-00004190: 2020 2020 2020 2023 2323 2323 2323 2323         #########
-000041a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000041b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000041c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000041d0: 2323 2323 2323 2323 2323 2323 0a0a 2020  ############..  
-000041e0: 2020 2020 2020 2320 6275 696c 6420 7468        # build th
-000041f0: 6520 7265 6e64 6572 696e 6720 7769 6e64  e rendering wind
-00004200: 6f77 3a0a 2020 2020 2020 2020 7365 6c66  ow:.        self
-00004210: 2e77 696e 646f 7720 3d20 7674 6b2e 7674  .window = vtk.vt
-00004220: 6b52 656e 6465 7257 696e 646f 7728 290a  kRenderWindow().
-00004230: 0a20 2020 2020 2020 2073 656c 662e 7769  .        self.wi
-00004240: 6e64 6f77 2e47 6c6f 6261 6c57 6172 6e69  ndow.GlobalWarni
-00004250: 6e67 4469 7370 6c61 794f 6666 2829 0a20  ngDisplayOff(). 
-00004260: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
-00004270: 6f77 2e53 6574 5769 6e64 6f77 4e61 6d65  ow.SetWindowName
-00004280: 2873 656c 662e 7469 746c 6529 0a0a 2020  (self.title)..  
-00004290: 2020 2020 2020 2320 6d6f 7265 2073 6574        # more set
-000042a0: 7469 6e67 730a 2020 2020 2020 2020 6966  tings.        if
-000042b0: 2073 6574 7469 6e67 732e 7573 655f 6465   settings.use_de
-000042c0: 7074 685f 7065 656c 696e 673a 0a20 2020  pth_peeling:.   
-000042d0: 2020 2020 2020 2020 2073 656c 662e 7769           self.wi
-000042e0: 6e64 6f77 2e53 6574 416c 7068 6142 6974  ndow.SetAlphaBit
-000042f0: 506c 616e 6573 2873 6574 7469 6e67 732e  Planes(settings.
-00004300: 616c 7068 615f 6269 745f 706c 616e 6573  alpha_bit_planes
-00004310: 290a 2020 2020 2020 2020 7365 6c66 2e77  ).        self.w
-00004320: 696e 646f 772e 5365 744d 756c 7469 5361  indow.SetMultiSa
-00004330: 6d70 6c65 7328 7365 7474 696e 6773 2e6d  mples(settings.m
-00004340: 756c 7469 5f73 616d 706c 6573 290a 0a20  ulti_samples).. 
-00004350: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
-00004360: 6f77 2e53 6574 506f 6c79 676f 6e53 6d6f  ow.SetPolygonSmo
-00004370: 6f74 6869 6e67 2873 6574 7469 6e67 732e  othing(settings.
-00004380: 706f 6c79 676f 6e5f 736d 6f6f 7468 696e  polygon_smoothin
-00004390: 6729 0a20 2020 2020 2020 2073 656c 662e  g).        self.
-000043a0: 7769 6e64 6f77 2e53 6574 4c69 6e65 536d  window.SetLineSm
-000043b0: 6f6f 7468 696e 6728 7365 7474 696e 6773  oothing(settings
-000043c0: 2e6c 696e 655f 736d 6f6f 7468 696e 6729  .line_smoothing)
-000043d0: 0a20 2020 2020 2020 2073 656c 662e 7769  .        self.wi
-000043e0: 6e64 6f77 2e53 6574 506f 696e 7453 6d6f  ndow.SetPointSmo
-000043f0: 6f74 6869 6e67 2873 6574 7469 6e67 732e  othing(settings.
-00004400: 706f 696e 745f 736d 6f6f 7468 696e 6729  point_smoothing)
-00004410: 0a0a 2020 2020 2020 2020 2320 736f 7274  ..        # sort
-00004420: 206f 7574 2073 6372 6565 6e20 7369 7a65   out screen size
-00004430: 0a20 2020 2020 2020 2069 6620 7363 7265  .        if scre
-00004440: 656e 7369 7a65 203d 3d20 2261 7574 6f22  ensize == "auto"
-00004450: 3a0a 2020 2020 2020 2020 2020 2020 7363  :.            sc
-00004460: 7265 656e 7369 7a65 203d 2028 3231 3630  reensize = (2160
-00004470: 2c20 3134 3430 2920 2023 206d 6967 6874  , 1440)  # might
-00004480: 2067 6f20 7772 6f6e 672c 2075 7365 2061   go wrong, use a
-00004490: 2064 6566 6175 6c74 2031 2e35 2072 6174   default 1.5 rat
-000044a0: 696f 0a0a 2020 2020 2020 2020 2020 2020  io..            
-000044b0: 2323 2320 4255 4720 696e 2047 6574 5363  ### BUG in GetSc
-000044c0: 7265 656e 5369 7a65 2069 6e20 5654 4b20  reenSize in VTK 
-000044d0: 392e 312e 300a 2020 2020 2020 2020 2020  9.1.0.          
-000044e0: 2020 2323 2320 6874 7470 733a 2f2f 6469    ### https://di
-000044f0: 7363 6f75 7273 652e 7674 6b2e 6f72 672f  scourse.vtk.org/
-00004500: 742f 7674 6b39 2d31 2d30 2d70 726f 626c  t/vtk9-1-0-probl
-00004510: 656d 732f 3730 3934 2f33 0a20 2020 2020  ems/7094/3.     
-00004520: 2020 2020 2020 2069 6620 7365 7474 696e         if settin
-00004530: 6773 2e68 6163 6b5f 6361 6c6c 5f73 6372  gs.hack_call_scr
-00004540: 6565 6e5f 7369 7a65 3a20 2023 2054 7275  een_size:  # Tru
-00004550: 650a 0a20 2020 2020 2020 2020 2020 2020  e..             
-00004560: 2020 2076 746b 7665 7273 203d 2076 6564     vtkvers = ved
-00004570: 6f2e 7674 6b5f 7665 7273 696f 6e0a 2020  o.vtk_version.  
-00004580: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00004590: 206e 6f74 2073 656c 662e 6f66 6673 6372   not self.offscr
-000045a0: 6565 6e20 616e 6420 2876 746b 7665 7273  een and (vtkvers
-000045b0: 5b30 5d3c 3920 6f72 2076 746b 7665 7273  [0]<9 or vtkvers
-000045c0: 5b30 5d3d 3d39 2061 6e64 2076 746b 7665  [0]==9 and vtkve
-000045d0: 7273 5b31 5d3d 3d30 293a 0a20 2020 2020  rs[1]==0):.     
-000045e0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000045f0: 7573 203d 2073 656c 662e 7769 6e64 6f77  us = self.window
-00004600: 2e47 6574 5363 7265 656e 5369 7a65 2829  .GetScreenSize()
-00004610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004620: 2020 2020 2069 6620 6175 7320 616e 6420       if aus and 
-00004630: 6c65 6e28 6175 7329 203d 3d20 3220 616e  len(aus) == 2 an
-00004640: 6420 6175 735b 305d 203e 2031 3030 2061  d aus[0] > 100 a
-00004650: 6e64 2061 7573 5b31 5d20 3e20 3130 303a  nd aus[1] > 100:
-00004660: 2020 2320 7365 656d 7320 6f6b 0a20 2020    # seems ok.   
-00004670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004680: 2020 2020 2069 6620 6175 735b 305d 202f       if aus[0] /
-00004690: 2061 7573 5b31 5d20 3e20 323a 2020 2320   aus[1] > 2:  # 
-000046a0: 6c6f 6f6b 7320 6c69 6b65 2074 6865 7265  looks like there
-000046b0: 2061 7265 2032 206f 7220 6d6f 7265 2073   are 2 or more s
-000046c0: 6372 6565 6e73 0a20 2020 2020 2020 2020  creens.         
-000046d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046e0: 2020 2073 6372 6565 6e73 697a 6520 3d20     screensize = 
-000046f0: 2869 6e74 2861 7573 5b30 5d20 2f20 3229  (int(aus[0] / 2)
-00004700: 2c20 6175 735b 315d 290a 2020 2020 2020  , aus[1]).      
-00004710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004720: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00004730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004740: 2020 2020 7363 7265 656e 7369 7a65 203d      screensize =
-00004750: 2061 7573 0a0a 2020 2020 2020 2020 782c   aus..        x,
-00004760: 2079 203d 2073 6372 6565 6e73 697a 650a   y = screensize.
-00004770: 0a20 2020 2020 2020 2069 6620 4e3a 2020  .        if N:  
-00004780: 2320 4e20 3d20 6e75 6d62 6572 206f 6620  # N = number of 
-00004790: 7265 6e64 6572 6572 732e 2046 696e 6420  renderers. Find 
-000047a0: 6f75 7420 7468 6520 6265 7374 0a0a 2020  out the best..  
-000047b0: 2020 2020 2020 2020 2020 6966 2073 6861            if sha
-000047c0: 7065 2021 3d20 2831 2c20 3129 3a20 2023  pe != (1, 1):  #
-000047d0: 2061 7272 616e 6765 6d65 6e74 2062 6173   arrangement bas
-000047e0: 6564 206f 6e20 6d69 6e69 6d75 6d20 6e72  ed on minimum nr
-000047f0: 2e20 6f66 2065 6d70 7479 2072 656e 6465  . of empty rende
-00004800: 7265 7273 0a20 2020 2020 2020 2020 2020  rers.           
-00004810: 2020 2020 2076 6564 6f2e 6c6f 6767 6572       vedo.logger
-00004820: 2e77 6172 6e69 6e67 2822 6861 7669 6e67  .warning("having
-00004830: 2073 6574 204e 2c20 7368 6170 6520 6973   set N, shape is
-00004840: 2069 676e 6f72 6564 2e22 290a 0a20 2020   ignored.")..   
-00004850: 2020 2020 2020 2020 206e 7820 3d20 696e           nx = in
-00004860: 7428 6e70 2e73 7172 7428 696e 7428 4e20  t(np.sqrt(int(N 
-00004870: 2a20 7920 2f20 7829 202b 2031 2929 0a20  * y / x) + 1)). 
-00004880: 2020 2020 2020 2020 2020 206e 7920 3d20             ny = 
-00004890: 696e 7428 6e70 2e73 7172 7428 696e 7428  int(np.sqrt(int(
-000048a0: 4e20 2a20 7820 2f20 7929 202b 2031 2929  N * x / y) + 1))
-000048b0: 0a20 2020 2020 2020 2020 2020 206c 6d20  .            lm 
-000048c0: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
-000048d0: 2020 2020 286e 782c 206e 7929 2c0a 2020      (nx, ny),.  
-000048e0: 2020 2020 2020 2020 2020 2020 2020 286e                (n
-000048f0: 782c 206e 7920 2b20 3129 2c0a 2020 2020  x, ny + 1),.    
-00004900: 2020 2020 2020 2020 2020 2020 286e 7820              (nx 
-00004910: 2d20 312c 206e 7929 2c0a 2020 2020 2020  - 1, ny),.      
-00004920: 2020 2020 2020 2020 2020 286e 7820 2b20            (nx + 
-00004930: 312c 206e 7929 2c0a 2020 2020 2020 2020  1, ny),.        
-00004940: 2020 2020 2020 2020 286e 782c 206e 7920          (nx, ny 
-00004950: 2d20 3129 2c0a 2020 2020 2020 2020 2020  - 1),.          
-00004960: 2020 2020 2020 286e 7820 2d20 312c 206e        (nx - 1, n
-00004970: 7920 2b20 3129 2c0a 2020 2020 2020 2020  y + 1),.        
-00004980: 2020 2020 2020 2020 286e 7820 2b20 312c          (nx + 1,
-00004990: 206e 7920 2d20 3129 2c0a 2020 2020 2020   ny - 1),.      
-000049a0: 2020 2020 2020 2020 2020 286e 7820 2b20            (nx + 
-000049b0: 312c 206e 7920 2b20 3129 2c0a 2020 2020  1, ny + 1),.    
-000049c0: 2020 2020 2020 2020 2020 2020 286e 7820              (nx 
-000049d0: 2d20 312c 206e 7920 2d20 3129 2c0a 2020  - 1, ny - 1),.  
-000049e0: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
-000049f0: 2020 2020 2020 2020 696e 642c 206d 696e          ind, min
-00004a00: 6c20 3d20 302c 2031 3030 300a 2020 2020  l = 0, 1000.    
-00004a10: 2020 2020 2020 2020 666f 7220 692c 206d          for i, m
-00004a20: 2069 6e20 656e 756d 6572 6174 6528 6c6d   in enumerate(lm
-00004a30: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00004a40: 2020 206c 203d 206d 5b30 5d20 2a20 6d5b     l = m[0] * m[
-00004a50: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
-00004a60: 2020 2069 6620 4e20 3c3d 206c 203c 206d     if N <= l < m
-00004a70: 696e 6c3a 0a20 2020 2020 2020 2020 2020  inl:.           
-00004a80: 2020 2020 2020 2020 2069 6e64 203d 2069           ind = i
-00004a90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004aa0: 2020 2020 206d 696e 6c20 3d20 6c0a 2020       minl = l.  
-00004ab0: 2020 2020 2020 2020 2020 7368 6170 6520            shape 
-00004ac0: 3d20 6c6d 5b69 6e64 5d0a 0a20 2020 2020  = lm[ind]..     
-00004ad0: 2020 2023 2323 2323 2323 2323 2323 2323     #############
-00004ae0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004af0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004b00: 2323 2323 230a 2020 2020 2020 2020 6966  #####.        if
-00004b10: 2069 7369 6e73 7461 6e63 6528 7368 6170   isinstance(shap
-00004b20: 652c 2073 7472 293a 0a0a 2020 2020 2020  e, str):..      
-00004b30: 2020 2020 2020 6966 2022 7c22 2069 6e20        if "|" in 
-00004b40: 7368 6170 653a 0a20 2020 2020 2020 2020  shape:.         
-00004b50: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
-00004b60: 697a 6520 3d3d 2022 6175 746f 223a 0a20  ize == "auto":. 
-00004b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b80: 2020 2073 656c 662e 7369 7a65 203d 2028     self.size = (
-00004b90: 3830 302c 2031 3230 3029 0a20 2020 2020  800, 1200).     
-00004ba0: 2020 2020 2020 2020 2020 206e 203d 2069             n = i
-00004bb0: 6e74 2873 6861 7065 2e73 706c 6974 2822  nt(shape.split("
-00004bc0: 7c22 295b 305d 290a 2020 2020 2020 2020  |")[0]).        
-00004bd0: 2020 2020 2020 2020 6d20 3d20 696e 7428          m = int(
-00004be0: 7368 6170 652e 7370 6c69 7428 227c 2229  shape.split("|")
-00004bf0: 5b31 5d29 0a20 2020 2020 2020 2020 2020  [1]).           
-00004c00: 2020 2020 2072 616e 6765 6e20 3d20 7265       rangen = re
-00004c10: 7665 7273 6564 2872 616e 6765 286e 2929  versed(range(n))
-00004c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004c30: 2072 616e 6765 6d20 3d20 7265 7665 7273   rangem = revers
-00004c40: 6564 2872 616e 6765 286d 2929 0a20 2020  ed(range(m)).   
-00004c50: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00004c60: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00004c70: 6620 7365 6c66 2e73 697a 6520 3d3d 2022  f self.size == "
-00004c80: 6175 746f 223a 0a20 2020 2020 2020 2020  auto":.         
-00004c90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00004ca0: 7369 7a65 203d 2028 3132 3030 2c20 3830  size = (1200, 80
-00004cb0: 3029 0a20 2020 2020 2020 2020 2020 2020  0).             
-00004cc0: 2020 206d 203d 2069 6e74 2873 6861 7065     m = int(shape
-00004cd0: 2e73 706c 6974 2822 2f22 295b 305d 290a  .split("/")[0]).
-00004ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004cf0: 6e20 3d20 696e 7428 7368 6170 652e 7370  n = int(shape.sp
-00004d00: 6c69 7428 222f 2229 5b31 5d29 0a20 2020  lit("/")[1]).   
-00004d10: 2020 2020 2020 2020 2020 2020 2072 616e               ran
-00004d20: 6765 6e20 3d20 7261 6e67 6528 6e29 0a20  gen = range(n). 
-00004d30: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00004d40: 616e 6765 6d20 3d20 7261 6e67 6528 6d29  angem = range(m)
-00004d50: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-00004d60: 206e 203e 3d20 6d3a 0a20 2020 2020 2020   n >= m:.       
-00004d70: 2020 2020 2020 2020 2078 7370 6c69 7420           xsplit 
-00004d80: 3d20 6d20 2f20 286e 202b 206d 290a 2020  = m / (n + m).  
-00004d90: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00004da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004db0: 7873 706c 6974 203d 2031 202d 206e 202f  xsplit = 1 - n /
-00004dc0: 2028 6e20 2b20 6d29 0a20 2020 2020 2020   (n + m).       
-00004dd0: 2020 2020 2069 6620 7365 7474 696e 6773       if settings
-00004de0: 2e77 696e 646f 775f 7370 6c69 7474 696e  .window_splittin
-00004df0: 675f 706f 7369 7469 6f6e 3a0a 2020 2020  g_position:.    
-00004e00: 2020 2020 2020 2020 2020 2020 7873 706c              xspl
-00004e10: 6974 203d 2073 6574 7469 6e67 732e 7769  it = settings.wi
-00004e20: 6e64 6f77 5f73 706c 6974 7469 6e67 5f70  ndow_splitting_p
-00004e30: 6f73 6974 696f 6e0a 0a20 2020 2020 2020  osition..       
-00004e40: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-00004e50: 6e67 656e 3a0a 2020 2020 2020 2020 2020  ngen:.          
-00004e60: 2020 2020 2020 6172 656e 6465 7265 7220        arenderer 
-00004e70: 3d20 7674 6b2e 7674 6b52 656e 6465 7265  = vtk.vtkRendere
-00004e80: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
-00004e90: 2020 2020 6966 2022 7c22 2069 6e20 7368      if "|" in sh
-00004ea0: 6170 653a 0a20 2020 2020 2020 2020 2020  ape:.           
-00004eb0: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
-00004ec0: 6572 2e53 6574 5669 6577 706f 7274 2830  er.SetViewport(0
-00004ed0: 2c20 6920 2f20 6e2c 2078 7370 6c69 742c  , i / n, xsplit,
-00004ee0: 2028 6920 2b20 3129 202f 206e 290a 2020   (i + 1) / n).  
-00004ef0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00004f00: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00004f10: 2020 2020 2020 2020 6172 656e 6465 7265          arendere
-00004f20: 722e 5365 7456 6965 7770 6f72 7428 6920  r.SetViewport(i 
-00004f30: 2f20 6e2c 2030 2c20 2869 202b 2031 2920  / n, 0, (i + 1) 
-00004f40: 2f20 6e2c 2078 7370 6c69 7429 0a20 2020  / n, xsplit).   
-00004f50: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00004f60: 662e 7265 6e64 6572 6572 732e 6170 7065  f.renderers.appe
-00004f70: 6e64 2861 7265 6e64 6572 6572 290a 0a20  nd(arenderer).. 
-00004f80: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
-00004f90: 2069 6e20 7261 6e67 656d 3a0a 2020 2020   in rangem:.    
-00004fa0: 2020 2020 2020 2020 2020 2020 6172 656e              aren
-00004fb0: 6465 7265 7220 3d20 7674 6b2e 7674 6b52  derer = vtk.vtkR
-00004fc0: 656e 6465 7265 7228 290a 0a20 2020 2020  enderer()..     
-00004fd0: 2020 2020 2020 2020 2020 2069 6620 227c             if "|
-00004fe0: 2220 696e 2073 6861 7065 3a0a 2020 2020  " in shape:.    
-00004ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005000: 6172 656e 6465 7265 722e 5365 7456 6965  arenderer.SetVie
-00005010: 7770 6f72 7428 7873 706c 6974 2c20 6920  wport(xsplit, i 
-00005020: 2f20 6d2c 2031 2c20 2869 202b 2031 2920  / m, 1, (i + 1) 
-00005030: 2f20 6d29 0a20 2020 2020 2020 2020 2020  / m).           
-00005040: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00005050: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00005060: 7265 6e64 6572 6572 2e53 6574 5669 6577  renderer.SetView
-00005070: 706f 7274 2869 202f 206d 2c20 7873 706c  port(i / m, xspl
-00005080: 6974 2c20 2869 202b 2031 2920 2f20 6d2c  it, (i + 1) / m,
-00005090: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
-000050a0: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
-000050b0: 7273 2e61 7070 656e 6428 6172 656e 6465  rs.append(arende
-000050c0: 7265 7229 0a0a 2020 2020 2020 2020 2020  rer)..          
-000050d0: 2020 666f 7220 7220 696e 2073 656c 662e    for r in self.
-000050e0: 7265 6e64 6572 6572 733a 0a20 2020 2020  renderers:.     
-000050f0: 2020 2020 2020 2020 2020 2072 2e53 6574             r.Set
-00005100: 5573 6548 6964 6465 6e4c 696e 6552 656d  UseHiddenLineRem
-00005110: 6f76 616c 2873 6574 7469 6e67 732e 6869  oval(settings.hi
-00005120: 6464 656e 5f6c 696e 655f 7265 6d6f 7661  dden_line_remova
-00005130: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
-00005140: 2020 2072 2e53 6574 4c69 6768 7446 6f6c     r.SetLightFol
-00005150: 6c6f 7743 616d 6572 6128 7365 7474 696e  lowCamera(settin
-00005160: 6773 2e6c 6967 6874 5f66 6f6c 6c6f 7773  gs.light_follows
-00005170: 5f63 616d 6572 6129 0a0a 2020 2020 2020  _camera)..      
-00005180: 2020 2020 2020 2020 2020 722e 5365 7455            r.SetU
-00005190: 7365 4465 7074 6850 6565 6c69 6e67 2873  seDepthPeeling(s
-000051a0: 6574 7469 6e67 732e 7573 655f 6465 7074  ettings.use_dept
-000051b0: 685f 7065 656c 696e 6729 0a20 2020 2020  h_peeling).     
-000051c0: 2020 2020 2020 2020 2020 2023 2072 2e53             # r.S
-000051d0: 6574 5573 6544 6570 7468 5065 656c 696e  etUseDepthPeelin
-000051e0: 6746 6f72 566f 6c75 6d65 7328 7365 7474  gForVolumes(sett
-000051f0: 696e 6773 2e75 7365 5f64 6570 7468 5f70  ings.use_depth_p
-00005200: 6565 6c69 6e67 290a 2020 2020 2020 2020  eeling).        
-00005210: 2020 2020 2020 2020 6966 2073 6574 7469          if setti
-00005220: 6e67 732e 7573 655f 6465 7074 685f 7065  ngs.use_depth_pe
-00005230: 656c 696e 673a 0a20 2020 2020 2020 2020  eling:.         
-00005240: 2020 2020 2020 2020 2020 2072 2e53 6574             r.Set
-00005250: 4d61 7869 6d75 6d4e 756d 6265 724f 6650  MaximumNumberOfP
-00005260: 6565 6c73 2873 6574 7469 6e67 732e 6d61  eels(settings.ma
-00005270: 785f 6e75 6d62 6572 5f6f 665f 7065 656c  x_number_of_peel
-00005280: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-00005290: 2020 2020 2020 2072 2e53 6574 4f63 636c         r.SetOccl
-000052a0: 7573 696f 6e52 6174 696f 2873 6574 7469  usionRatio(setti
-000052b0: 6e67 732e 6f63 636c 7573 696f 6e5f 7261  ngs.occlusion_ra
-000052c0: 7469 6f29 0a20 2020 2020 2020 2020 2020  tio).           
-000052d0: 2020 2020 2072 2e53 6574 5573 6546 5841       r.SetUseFXA
-000052e0: 4128 7365 7474 696e 6773 2e75 7365 5f66  A(settings.use_f
-000052f0: 7861 6129 0a20 2020 2020 2020 2020 2020  xaa).           
-00005300: 2020 2020 2072 2e53 6574 5072 6573 6572       r.SetPreser
-00005310: 7665 4465 7074 6842 7566 6665 7228 7365  veDepthBuffer(se
-00005320: 7474 696e 6773 2e70 7265 7365 7276 655f  ttings.preserve_
-00005330: 6465 7074 685f 6275 6666 6572 290a 0a20  depth_buffer).. 
-00005340: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00005350: 2e53 6574 4261 636b 6772 6f75 6e64 2876  .SetBackground(v
-00005360: 6564 6f2e 6765 745f 636f 6c6f 7228 7365  edo.get_color(se
-00005370: 6c66 2e62 6163 6b67 7263 6f6c 2929 0a0a  lf.backgrcol))..
-00005380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005390: 7365 6c66 2e61 7865 735f 696e 7374 616e  self.axes_instan
-000053a0: 6365 732e 6170 7065 6e64 284e 6f6e 6529  ces.append(None)
-000053b0: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
-000053c0: 6c66 2e73 6861 7065 203d 2028 6e20 2b20  lf.shape = (n + 
-000053d0: 6d2c 290a 0a20 2020 2020 2020 2065 6c69  m,)..        eli
-000053e0: 6620 7574 696c 732e 6973 5f73 6571 7565  f utils.is_seque
-000053f0: 6e63 6528 7368 6170 6529 2061 6e64 2069  nce(shape) and i
-00005400: 7369 6e73 7461 6e63 6528 7368 6170 655b  sinstance(shape[
-00005410: 305d 2c20 6469 6374 293a 0a20 2020 2020  0], dict):.     
-00005420: 2020 2020 2020 2023 2070 6173 7369 6e67         # passing
-00005430: 2061 2073 6571 7565 6e63 6520 6f66 2064   a sequence of d
-00005440: 6963 7473 2066 6f72 2072 656e 6465 7265  icts for rendere
-00005450: 7273 2073 7065 6369 6669 6361 7469 6f6e  rs specification
-00005460: 730a 0a20 2020 2020 2020 2020 2020 2069  s..            i
-00005470: 6620 7365 6c66 2e73 697a 6520 3d3d 2022  f self.size == "
-00005480: 6175 746f 223a 0a20 2020 2020 2020 2020  auto":.         
-00005490: 2020 2020 2020 2073 656c 662e 7369 7a65         self.size
-000054a0: 203d 2028 3132 3030 2c20 3930 3029 0a0a   = (1200, 900)..
-000054b0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-000054c0: 7264 2069 6e20 7368 6170 653a 0a20 2020  rd in shape:.   
-000054d0: 2020 2020 2020 2020 2020 2020 2078 302c               x0,
-000054e0: 2079 3020 3d20 7264 5b22 626f 7474 6f6d   y0 = rd["bottom
-000054f0: 6c65 6674 225d 0a20 2020 2020 2020 2020  left"].         
-00005500: 2020 2020 2020 2078 312c 2079 3120 3d20         x1, y1 = 
-00005510: 7264 5b22 746f 7072 6967 6874 225d 0a20  rd["topright"]. 
-00005520: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00005530: 675f 203d 2072 642e 706f 7028 2262 6722  g_ = rd.pop("bg"
-00005540: 2c20 2277 6869 7465 2229 0a20 2020 2020  , "white").     
-00005550: 2020 2020 2020 2020 2020 2062 6732 5f20             bg2_ 
-00005560: 3d20 7264 2e70 6f70 2822 6267 3222 2c20  = rd.pop("bg2", 
-00005570: 4e6f 6e65 290a 0a20 2020 2020 2020 2020  None)..         
-00005580: 2020 2020 2020 2061 7265 6e64 6572 6572         arenderer
-00005590: 203d 2076 746b 2e76 746b 5265 6e64 6572   = vtk.vtkRender
-000055a0: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
-000055b0: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
-000055c0: 6574 5573 6548 6964 6465 6e4c 696e 6552  etUseHiddenLineR
-000055d0: 656d 6f76 616c 2873 6574 7469 6e67 732e  emoval(settings.
-000055e0: 6869 6464 656e 5f6c 696e 655f 7265 6d6f  hidden_line_remo
-000055f0: 7661 6c29 0a20 2020 2020 2020 2020 2020  val).           
-00005600: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
-00005610: 6574 4c69 6768 7446 6f6c 6c6f 7743 616d  etLightFollowCam
-00005620: 6572 6128 7365 7474 696e 6773 2e6c 6967  era(settings.lig
-00005630: 6874 5f66 6f6c 6c6f 7773 5f63 616d 6572  ht_follows_camer
-00005640: 6129 0a0a 2020 2020 2020 2020 2020 2020  a)..            
-00005650: 2020 2020 6172 656e 6465 7265 722e 5365      arenderer.Se
-00005660: 7455 7365 4465 7074 6850 6565 6c69 6e67  tUseDepthPeeling
-00005670: 2873 6574 7469 6e67 732e 7573 655f 6465  (settings.use_de
-00005680: 7074 685f 7065 656c 696e 6729 0a20 2020  pth_peeling).   
-00005690: 2020 2020 2020 2020 2020 2020 2023 2061               # a
-000056a0: 7265 6e64 6572 6572 2e53 6574 5573 6544  renderer.SetUseD
-000056b0: 6570 7468 5065 656c 696e 6746 6f72 566f  epthPeelingForVo
-000056c0: 6c75 6d65 7328 7365 7474 696e 6773 2e75  lumes(settings.u
-000056d0: 7365 5f64 6570 7468 5f70 6565 6c69 6e67  se_depth_peeling
-000056e0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000056f0: 2020 6966 2073 6574 7469 6e67 732e 7573    if settings.us
-00005700: 655f 6465 7074 685f 7065 656c 696e 673a  e_depth_peeling:
-00005710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005720: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
-00005730: 6574 4d61 7869 6d75 6d4e 756d 6265 724f  etMaximumNumberO
-00005740: 6650 6565 6c73 2873 6574 7469 6e67 732e  fPeels(settings.
-00005750: 6d61 785f 6e75 6d62 6572 5f6f 665f 7065  max_number_of_pe
-00005760: 656c 7329 0a20 2020 2020 2020 2020 2020  els).           
-00005770: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
-00005780: 6572 2e53 6574 4f63 636c 7573 696f 6e52  er.SetOcclusionR
-00005790: 6174 696f 2873 6574 7469 6e67 732e 6f63  atio(settings.oc
-000057a0: 636c 7573 696f 6e5f 7261 7469 6f29 0a20  clusion_ratio). 
-000057b0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000057c0: 7265 6e64 6572 6572 2e53 6574 5573 6546  renderer.SetUseF
-000057d0: 5841 4128 7365 7474 696e 6773 2e75 7365  XAA(settings.use
-000057e0: 5f66 7861 6129 0a20 2020 2020 2020 2020  _fxaa).         
-000057f0: 2020 2020 2020 2061 7265 6e64 6572 6572         arenderer
-00005800: 2e53 6574 5072 6573 6572 7665 4465 7074  .SetPreserveDept
-00005810: 6842 7566 6665 7228 7365 7474 696e 6773  hBuffer(settings
-00005820: 2e70 7265 7365 7276 655f 6465 7074 685f  .preserve_depth_
-00005830: 6275 6666 6572 290a 0a20 2020 2020 2020  buffer)..       
-00005840: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
-00005850: 6572 2e53 6574 5669 6577 706f 7274 2878  er.SetViewport(x
-00005860: 302c 2079 302c 2078 312c 2079 3129 0a20  0, y0, x1, y1). 
-00005870: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00005880: 7265 6e64 6572 6572 2e53 6574 4261 636b  renderer.SetBack
-00005890: 6772 6f75 6e64 2876 6564 6f2e 6765 745f  ground(vedo.get_
-000058a0: 636f 6c6f 7228 6267 5f29 290a 2020 2020  color(bg_)).    
-000058b0: 2020 2020 2020 2020 2020 2020 6966 2062              if b
-000058c0: 6732 5f3a 0a20 2020 2020 2020 2020 2020  g2_:.           
-000058d0: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
-000058e0: 6572 2e47 7261 6469 656e 7442 6163 6b67  er.GradientBackg
-000058f0: 726f 756e 644f 6e28 290a 2020 2020 2020  roundOn().      
-00005900: 2020 2020 2020 2020 2020 2020 2020 6172                ar
-00005910: 656e 6465 7265 722e 5365 7442 6163 6b67  enderer.SetBackg
-00005920: 726f 756e 6432 2876 6564 6f2e 6765 745f  round2(vedo.get_
-00005930: 636f 6c6f 7228 6267 325f 2929 0a0a 2020  color(bg2_))..  
-00005940: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00005950: 6c66 2e72 656e 6465 7265 7273 2e61 7070  lf.renderers.app
-00005960: 656e 6428 6172 656e 6465 7265 7229 0a20  end(arenderer). 
-00005970: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00005980: 656c 662e 6178 6573 5f69 6e73 7461 6e63  elf.axes_instanc
-00005990: 6573 2e61 7070 656e 6428 4e6f 6e65 290a  es.append(None).
-000059a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000059b0: 662e 7368 6170 6520 3d20 286c 656e 2873  f.shape = (len(s
-000059c0: 6861 7065 292c 290a 0a20 2020 2020 2020  hape),)..       
-000059d0: 2065 6c73 653a 0a0a 2020 2020 2020 2020   else:..        
-000059e0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-000059f0: 6528 7365 6c66 2e73 697a 652c 2073 7472  e(self.size, str
-00005a00: 2920 616e 6420 7365 6c66 2e73 697a 6520  ) and self.size 
-00005a10: 3d3d 2022 6175 746f 223a 0a20 2020 2020  == "auto":.     
-00005a20: 2020 2020 2020 2020 2020 2023 2066 6967             # fig
-00005a30: 7572 6520 6f75 7420 6120 7265 6173 6f6e  ure out a reason
-00005a40: 6162 6c65 2077 696e 646f 7720 7369 7a65  able window size
-00005a50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005a60: 2066 203d 2031 2e35 0a20 2020 2020 2020   f = 1.5.       
-00005a70: 2020 2020 2020 2020 2078 7320 3d20 7920           xs = y 
-00005a80: 2f20 6620 2a20 7368 6170 655b 315d 2020  / f * shape[1]  
-00005a90: 2320 6265 6361 7573 6520 793c 780a 2020  # because y<x.  
-00005aa0: 2020 2020 2020 2020 2020 2020 2020 7973                ys
-00005ab0: 203d 2079 202f 2066 202a 2073 6861 7065   = y / f * shape
-00005ac0: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
-00005ad0: 2020 2020 6966 2078 7320 3e20 7820 2f20      if xs > x / 
-00005ae0: 663a 2020 2320 7368 7269 6e6b 0a20 2020  f:  # shrink.   
-00005af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b00: 2078 7320 3d20 7820 2f20 660a 2020 2020   xs = x / f.    
-00005b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b20: 7973 203d 2078 7320 2f20 7368 6170 655b  ys = xs / shape[
-00005b30: 315d 202a 2073 6861 7065 5b30 5d0a 2020  1] * shape[0].  
-00005b40: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00005b50: 2079 7320 3e20 7920 2f20 663a 0a20 2020   ys > y / f:.   
-00005b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b70: 2079 7320 3d20 7920 2f20 660a 2020 2020   ys = y / f.    
-00005b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b90: 7873 203d 2079 7320 2f20 7368 6170 655b  xs = ys / shape[
-00005ba0: 305d 202a 2073 6861 7065 5b31 5d0a 2020  0] * shape[1].  
-00005bb0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00005bc0: 6c66 2e73 697a 6520 3d20 2869 6e74 2878  lf.size = (int(x
-00005bd0: 7329 2c20 696e 7428 7973 2929 0a20 2020  s), int(ys)).   
-00005be0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00005bf0: 7368 6170 6520 3d3d 2028 312c 2031 293a  shape == (1, 1):
-00005c00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005c10: 2020 2020 2073 656c 662e 7369 7a65 203d       self.size =
-00005c20: 2028 696e 7428 7920 2f20 6629 2c20 696e   (int(y / f), in
-00005c30: 7428 7920 2f20 6629 2920 2023 2062 6563  t(y / f))  # bec
-00005c40: 6175 7365 2079 3c78 0a20 2020 2020 2020  ause y<x.       
-00005c50: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00005c60: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00005c70: 7369 7a65 203d 2028 7365 6c66 2e73 697a  size = (self.siz
-00005c80: 655b 305d 2c20 7365 6c66 2e73 697a 655b  e[0], self.size[
-00005c90: 315d 290a 0a20 2020 2020 2020 2020 2020  1])..           
-00005ca0: 2069 6d61 6765 5f61 6374 6f72 203d 204e   image_actor = N
-00005cb0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
-00005cc0: 6267 6e61 6d65 203d 2073 7472 2873 656c  bgname = str(sel
-00005cd0: 662e 6261 636b 6772 636f 6c29 2e6c 6f77  f.backgrcol).low
-00005ce0: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
-00005cf0: 2069 6620 222e 6a70 6722 2069 6e20 6267   if ".jpg" in bg
-00005d00: 6e61 6d65 206f 7220 222e 6a70 6567 2220  name or ".jpeg" 
-00005d10: 696e 2062 676e 616d 6520 6f72 2022 2e70  in bgname or ".p
-00005d20: 6e67 2220 696e 2062 676e 616d 653a 0a20  ng" in bgname:. 
-00005d30: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00005d40: 656c 662e 7769 6e64 6f77 2e53 6574 4e75  elf.window.SetNu
-00005d50: 6d62 6572 4f66 4c61 7965 7273 2832 290a  mberOfLayers(2).
-00005d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d70: 7365 6c66 2e62 6163 6b67 726f 756e 645f  self.background_
-00005d80: 7265 6e64 6572 6572 203d 2076 746b 2e76  renderer = vtk.v
-00005d90: 746b 5265 6e64 6572 6572 2829 0a20 2020  tkRenderer().   
-00005da0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00005db0: 662e 6261 636b 6772 6f75 6e64 5f72 656e  f.background_ren
-00005dc0: 6465 7265 722e 5365 744c 6179 6572 2830  derer.SetLayer(0
-00005dd0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00005de0: 2020 7365 6c66 2e62 6163 6b67 726f 756e    self.backgroun
-00005df0: 645f 7265 6e64 6572 6572 2e49 6e74 6572  d_renderer.Inter
-00005e00: 6163 7469 7665 4f66 6628 290a 2020 2020  activeOff().    
-00005e10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00005e20: 2e62 6163 6b67 726f 756e 645f 7265 6e64  .background_rend
-00005e30: 6572 6572 2e53 6574 4261 636b 6772 6f75  erer.SetBackgrou
-00005e40: 6e64 2876 6564 6f2e 6765 745f 636f 6c6f  nd(vedo.get_colo
-00005e50: 7228 6267 3229 290a 2020 2020 2020 2020  r(bg2)).        
-00005e60: 2020 2020 2020 2020 696d 6167 655f 6163          image_ac
-00005e70: 746f 7220 3d20 7665 646f 2e50 6963 7475  tor = vedo.Pictu
-00005e80: 7265 2873 656c 662e 6261 636b 6772 636f  re(self.backgrco
-00005e90: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
-00005ea0: 2020 2073 656c 662e 7769 6e64 6f77 2e41     self.window.A
-00005eb0: 6464 5265 6e64 6572 6572 2873 656c 662e  ddRenderer(self.
-00005ec0: 6261 636b 6772 6f75 6e64 5f72 656e 6465  background_rende
-00005ed0: 7265 7229 0a20 2020 2020 2020 2020 2020  rer).           
-00005ee0: 2020 2020 2073 656c 662e 6261 636b 6772       self.backgr
-00005ef0: 6f75 6e64 5f72 656e 6465 7265 722e 4164  ound_renderer.Ad
-00005f00: 6441 6374 6f72 2869 6d61 6765 5f61 6374  dActor(image_act
-00005f10: 6f72 290a 0a20 2020 2020 2020 2020 2020  or)..           
-00005f20: 2066 6f72 2069 2069 6e20 7265 7665 7273   for i in revers
-00005f30: 6564 2872 616e 6765 2873 6861 7065 5b30  ed(range(shape[0
-00005f40: 5d29 293a 0a20 2020 2020 2020 2020 2020  ])):.           
-00005f50: 2020 2020 2066 6f72 206a 2069 6e20 7261       for j in ra
-00005f60: 6e67 6528 7368 6170 655b 315d 293a 0a20  nge(shape[1]):. 
-00005f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f80: 2020 2061 7265 6e64 6572 6572 203d 2076     arenderer = v
-00005f90: 746b 2e76 746b 5265 6e64 6572 6572 2829  tk.vtkRenderer()
-00005fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005fb0: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
-00005fc0: 6574 5573 6548 6964 6465 6e4c 696e 6552  etUseHiddenLineR
-00005fd0: 656d 6f76 616c 2873 6574 7469 6e67 732e  emoval(settings.
-00005fe0: 6869 6464 656e 5f6c 696e 655f 7265 6d6f  hidden_line_remo
-00005ff0: 7661 6c29 0a20 2020 2020 2020 2020 2020  val).           
-00006000: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
-00006010: 6572 2e53 6574 4c69 6768 7446 6f6c 6c6f  er.SetLightFollo
-00006020: 7743 616d 6572 6128 7365 7474 696e 6773  wCamera(settings
-00006030: 2e6c 6967 6874 5f66 6f6c 6c6f 7773 5f63  .light_follows_c
-00006040: 616d 6572 6129 0a20 2020 2020 2020 2020  amera).         
-00006050: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
-00006060: 6572 6572 2e53 6574 5477 6f53 6964 6564  erer.SetTwoSided
-00006070: 4c69 6768 7469 6e67 2873 6574 7469 6e67  Lighting(setting
-00006080: 732e 7477 6f5f 7369 6465 645f 6c69 6768  s.two_sided_ligh
-00006090: 7469 6e67 290a 0a20 2020 2020 2020 2020  ting)..         
-000060a0: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
-000060b0: 6572 6572 2e53 6574 5573 6544 6570 7468  erer.SetUseDepth
-000060c0: 5065 656c 696e 6728 7365 7474 696e 6773  Peeling(settings
-000060d0: 2e75 7365 5f64 6570 7468 5f70 6565 6c69  .use_depth_peeli
-000060e0: 6e67 290a 2020 2020 2020 2020 2020 2020  ng).            
-000060f0: 2020 2020 2020 2020 2320 6172 656e 6465          # arende
-00006100: 7265 722e 5365 7455 7365 4465 7074 6850  rer.SetUseDepthP
-00006110: 6565 6c69 6e67 466f 7256 6f6c 756d 6573  eelingForVolumes
-00006120: 2873 6574 7469 6e67 732e 7573 655f 6465  (settings.use_de
-00006130: 7074 685f 7065 656c 696e 6729 0a20 2020  pth_peeling).   
-00006140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006150: 2069 6620 7365 7474 696e 6773 2e75 7365   if settings.use
-00006160: 5f64 6570 7468 5f70 6565 6c69 6e67 3a0a  _depth_peeling:.
-00006170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006180: 2020 2020 2020 2020 6172 656e 6465 7265          arendere
-00006190: 722e 5365 744d 6178 696d 756d 4e75 6d62  r.SetMaximumNumb
-000061a0: 6572 4f66 5065 656c 7328 7365 7474 696e  erOfPeels(settin
-000061b0: 6773 2e6d 6178 5f6e 756d 6265 725f 6f66  gs.max_number_of
-000061c0: 5f70 6565 6c73 290a 2020 2020 2020 2020  _peels).        
-000061d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061e0: 6172 656e 6465 7265 722e 5365 744f 6363  arenderer.SetOcc
-000061f0: 6c75 7369 6f6e 5261 7469 6f28 7365 7474  lusionRatio(sett
-00006200: 696e 6773 2e6f 6363 6c75 7369 6f6e 5f72  ings.occlusion_r
-00006210: 6174 696f 290a 2020 2020 2020 2020 2020  atio).          
-00006220: 2020 2020 2020 2020 2020 6172 656e 6465            arende
-00006230: 7265 722e 5365 7455 7365 4658 4141 2873  rer.SetUseFXAA(s
-00006240: 6574 7469 6e67 732e 7573 655f 6678 6161  ettings.use_fxaa
-00006250: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00006260: 2020 2020 2020 6172 656e 6465 7265 722e        arenderer.
-00006270: 5365 7450 7265 7365 7276 6544 6570 7468  SetPreserveDepth
-00006280: 4275 6666 6572 2873 6574 7469 6e67 732e  Buffer(settings.
-00006290: 7072 6573 6572 7665 5f64 6570 7468 5f62  preserve_depth_b
-000062a0: 7566 6665 7229 0a0a 2020 2020 2020 2020  uffer)..        
-000062b0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-000062c0: 6d61 6765 5f61 6374 6f72 3a0a 2020 2020  mage_actor:.    
-000062d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062e0: 2020 2020 6172 656e 6465 7265 722e 5365      arenderer.Se
-000062f0: 744c 6179 6572 2831 290a 0a20 2020 2020  tLayer(1)..     
-00006300: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00006310: 7265 6e64 6572 6572 2e53 6574 4261 636b  renderer.SetBack
-00006320: 6772 6f75 6e64 2876 6564 6f2e 6765 745f  ground(vedo.get_
-00006330: 636f 6c6f 7228 7365 6c66 2e62 6163 6b67  color(self.backg
-00006340: 7263 6f6c 2929 0a20 2020 2020 2020 2020  rcol)).         
-00006350: 2020 2020 2020 2020 2020 2069 6620 6267             if bg
-00006360: 323a 0a20 2020 2020 2020 2020 2020 2020  2:.             
-00006370: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
-00006380: 6572 6572 2e47 7261 6469 656e 7442 6163  erer.GradientBac
-00006390: 6b67 726f 756e 644f 6e28 290a 2020 2020  kgroundOn().    
-000063a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000063b0: 2020 2020 6172 656e 6465 7265 722e 5365      arenderer.Se
-000063c0: 7442 6163 6b67 726f 756e 6432 2876 6564  tBackground2(ved
-000063d0: 6f2e 6765 745f 636f 6c6f 7228 6267 3229  o.get_color(bg2)
-000063e0: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-000063f0: 2020 2020 2020 2078 3020 3d20 6920 2f20         x0 = i / 
-00006400: 7368 6170 655b 305d 0a20 2020 2020 2020  shape[0].       
-00006410: 2020 2020 2020 2020 2020 2020 2079 3020               y0 
-00006420: 3d20 6a20 2f20 7368 6170 655b 315d 0a20  = j / shape[1]. 
-00006430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006440: 2020 2078 3120 3d20 2869 202b 2031 2920     x1 = (i + 1) 
-00006450: 2f20 7368 6170 655b 305d 0a20 2020 2020  / shape[0].     
-00006460: 2020 2020 2020 2020 2020 2020 2020 2079                 y
-00006470: 3120 3d20 286a 202b 2031 2920 2f20 7368  1 = (j + 1) / sh
-00006480: 6170 655b 315d 0a20 2020 2020 2020 2020  ape[1].         
-00006490: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
-000064a0: 6572 6572 2e53 6574 5669 6577 706f 7274  erer.SetViewport
-000064b0: 2879 302c 2078 302c 2079 312c 2078 3129  (y0, x0, y1, x1)
-000064c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000064d0: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-000064e0: 6572 732e 6170 7065 6e64 2861 7265 6e64  ers.append(arend
-000064f0: 6572 6572 290a 2020 2020 2020 2020 2020  erer).          
-00006500: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-00006510: 7865 735f 696e 7374 616e 6365 732e 6170  xes_instances.ap
-00006520: 7065 6e64 284e 6f6e 6529 0a20 2020 2020  pend(None).     
-00006530: 2020 2020 2020 2073 656c 662e 7368 6170         self.shap
-00006540: 6520 3d20 7368 6170 650a 0a20 2020 2020  e = shape..     
-00006550: 2020 2069 6620 7365 6c66 2e72 656e 6465     if self.rende
-00006560: 7265 7273 3a0a 2020 2020 2020 2020 2020  rers:.          
-00006570: 2020 7365 6c66 2e72 656e 6465 7265 7220    self.renderer 
-00006580: 3d20 7365 6c66 2e72 656e 6465 7265 7273  = self.renderers
-00006590: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
-000065a0: 7365 6c66 2e63 616d 6572 6120 3d20 7365  self.camera = se
-000065b0: 6c66 2e72 656e 6465 7265 722e 4765 7441  lf.renderer.GetA
-000065c0: 6374 6976 6543 616d 6572 6128 290a 2020  ctiveCamera().  
-000065d0: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-000065e0: 616d 6572 612e 5365 7450 6172 616c 6c65  amera.SetParalle
-000065f0: 6c50 726f 6a65 6374 696f 6e28 7365 7474  lProjection(sett
-00006600: 696e 6773 2e75 7365 5f70 6172 616c 6c65  ings.use_paralle
-00006610: 6c5f 7072 6f6a 6563 7469 6f6e 290a 0a20  l_projection).. 
-00006620: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
-00006630: 697a 655b 305d 203d 3d20 2266 223a 2020  ize[0] == "f":  
-00006640: 2320 6675 6c6c 2073 6372 6565 6e0a 2020  # full screen.  
-00006650: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00006660: 697a 6520 3d20 2266 756c 6c73 6372 6565  ize = "fullscree
-00006670: 6e22 0a20 2020 2020 2020 2020 2020 2073  n".            s
-00006680: 656c 662e 7769 6e64 6f77 2e53 6574 4675  elf.window.SetFu
-00006690: 6c6c 5363 7265 656e 2854 7275 6529 0a20  llScreen(True). 
-000066a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000066b0: 7769 6e64 6f77 2e42 6f72 6465 7273 4f6e  window.BordersOn
-000066c0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
-000066d0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000066e0: 662e 7769 6e64 6f77 2e53 6574 5369 7a65  f.window.SetSize
-000066f0: 2869 6e74 2873 656c 662e 7369 7a65 5b30  (int(self.size[0
-00006700: 5d29 2c20 696e 7428 7365 6c66 2e73 697a  ]), int(self.siz
-00006710: 655b 315d 2929 0a0a 2020 2020 2020 2020  e[1]))..        
-00006720: 6966 2073 656c 662e 7778 5f77 6964 6765  if self.wx_widge
-00006730: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
-00006740: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-00006750: 6e67 732e 696d 6d65 6469 6174 655f 7265  ngs.immediate_re
-00006760: 6e64 6572 696e 6720 3d20 4661 6c73 6520  ndering = False 
-00006770: 2023 206f 7665 7272 6964 650a 2020 2020   # override.    
-00006780: 2020 2020 2020 2020 7365 6c66 2e77 696e          self.win
-00006790: 646f 7720 3d20 7365 6c66 2e77 785f 7769  dow = self.wx_wi
-000067a0: 6467 6574 2e47 6574 5265 6e64 6572 5769  dget.GetRenderWi
-000067b0: 6e64 6f77 2829 2020 2320 6f76 6572 7772  ndow()  # overwr
-000067c0: 6974 650a 2020 2020 2020 2020 2020 2020  ite.            
-000067d0: 7365 6c66 2e69 6e74 6572 6163 746f 7220  self.interactor 
-000067e0: 3d20 7365 6c66 2e77 696e 646f 772e 4765  = self.window.Ge
-000067f0: 7449 6e74 6572 6163 746f 7228 290a 2020  tInteractor().  
-00006800: 2020 2020 2020 2020 2020 666f 7220 7220            for r 
-00006810: 696e 2073 656c 662e 7265 6e64 6572 6572  in self.renderer
-00006820: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00006830: 2020 2073 656c 662e 7769 6e64 6f77 2e41     self.window.A
-00006840: 6464 5265 6e64 6572 6572 2872 290a 2020  ddRenderer(r).  
-00006850: 2020 2020 2020 2020 2020 7365 6c66 2e77            self.w
-00006860: 785f 7769 6467 6574 2e53 6574 496e 7465  x_widget.SetInte
-00006870: 7261 6374 6f72 5374 796c 6528 7674 6b2e  ractorStyle(vtk.
-00006880: 7674 6b49 6e74 6572 6163 746f 7253 7479  vtkInteractorSty
-00006890: 6c65 5472 6163 6b62 616c 6c43 616d 6572  leTrackballCamer
-000068a0: 6128 2929 0a20 2020 2020 2020 2020 2020  a()).           
-000068b0: 2073 656c 662e 6361 6d65 7261 203d 2073   self.camera = s
-000068c0: 656c 662e 7265 6e64 6572 6572 2e47 6574  elf.renderer.Get
-000068d0: 4163 7469 7665 4361 6d65 7261 2829 0a20  ActiveCamera(). 
-000068e0: 2020 2020 2020 2020 2020 2023 2323 2323             #####
-000068f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00006900: 2323 230a 2020 2020 2020 2020 2020 2020  ###.            
-00006910: 7265 7475 726e 2023 2323 2323 2323 2323  return #########
-00006920: 2323 2323 2323 2323 0a20 2020 2020 2020  ########.       
-00006930: 2020 2020 2023 2323 2323 2323 2323 2323       ###########
-00006940: 2323 2323 2323 2323 2323 2323 230a 0a20  #############.. 
-00006950: 2020 2020 2020 2069 6620 7365 6c66 2e71         if self.q
-00006960: 745f 7769 6467 6574 2069 7320 6e6f 7420  t_widget is not 
-00006970: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00006980: 2020 7365 6c66 2e69 6e74 6572 6163 746f    self.interacto
-00006990: 7220 3d20 7365 6c66 2e71 745f 7769 6467  r = self.qt_widg
-000069a0: 6574 2e47 6574 5265 6e64 6572 5769 6e64  et.GetRenderWind
-000069b0: 6f77 2829 2e47 6574 496e 7465 7261 6374  ow().GetInteract
-000069c0: 6f72 2829 0a20 2020 2020 2020 2020 2020  or().           
-000069d0: 2073 656c 662e 7769 6e64 6f77 203d 2073   self.window = s
-000069e0: 656c 662e 7174 5f77 6964 6765 742e 4765  elf.qt_widget.Ge
-000069f0: 7452 656e 6465 7257 696e 646f 7728 2920  tRenderWindow() 
-00006a00: 2023 206f 7665 7277 7269 7465 0a20 2020   # overwrite.   
-00006a10: 2020 2020 2020 2020 2023 2323 2323 2323           #######
-00006a20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00006a30: 230a 2020 2020 2020 2020 2020 2020 7265  #.            re
-00006a40: 7475 726e 2023 2323 2323 2323 2323 2323  turn ###########
-00006a50: 2323 2323 2323 0a20 2020 2020 2020 2020  ######.         
-00006a60: 2020 2023 2323 2323 2323 2323 2323 2323     #############
-00006a70: 2323 2323 2323 2323 2323 230a 0a20 2020  ###########..   
-00006a80: 2020 2020 2073 656c 662e 7769 6e64 6f77       self.window
-00006a90: 2e53 6574 506f 7369 7469 6f6e 2870 6f73  .SetPosition(pos
-00006aa0: 290a 0a20 2020 2020 2020 2066 6f72 2072  )..        for r
-00006ab0: 2069 6e20 7365 6c66 2e72 656e 6465 7265   in self.rendere
-00006ac0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00006ad0: 7365 6c66 2e77 696e 646f 772e 4164 6452  self.window.AddR
-00006ae0: 656e 6465 7265 7228 7229 0a0a 2020 2020  enderer(r)..    
-00006af0: 2020 2020 6966 2073 656c 662e 6f66 6673      if self.offs
-00006b00: 6372 6565 6e3a 0a20 2020 2020 2020 2020  creen:.         
-00006b10: 2020 2069 6620 7365 6c66 2e61 7865 7320     if self.axes 
-00006b20: 696e 2028 342c 2035 293a 0a20 2020 2020  in (4, 5):.     
-00006b30: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00006b40: 6178 6573 203d 2030 2020 2320 646f 6573  axes = 0  # does
-00006b50: 6e27 7420 776f 726b 2077 6974 6820 7468  n't work with th
-00006b60: 6f73 650a 2020 2020 2020 2020 2020 2020  ose.            
-00006b70: 7365 6c66 2e77 696e 646f 772e 5365 744f  self.window.SetO
-00006b80: 6666 5363 7265 656e 5265 6e64 6572 696e  ffScreenRenderin
-00006b90: 6728 5472 7565 290a 2020 2020 2020 2020  g(True).        
-00006ba0: 2020 2020 7365 6c66 2e5f 696e 7465 7261      self._intera
-00006bb0: 6374 6976 6520 3d20 4661 6c73 650a 2020  ctive = False.  
-00006bc0: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-00006bd0: 6e74 6572 6163 746f 7220 3d20 4e6f 6e65  nteractor = None
-00006be0: 0a20 2020 2020 2020 2020 2020 2023 2323  .            ###
-00006bf0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00006c00: 2323 2323 230a 2020 2020 2020 2020 2020  #####.          
-00006c10: 2020 7265 7475 726e 2023 2323 2323 2323    return #######
-00006c20: 2323 2323 2323 2323 2323 0a20 2020 2020  ##########.     
-00006c30: 2020 2020 2020 2023 2323 2323 2323 2323         #########
-00006c40: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
-00006c50: 0a20 2020 2020 2020 2073 656c 662e 696e  .        self.in
-00006c60: 7465 7261 6374 6f72 203d 2076 746b 2e76  teractor = vtk.v
-00006c70: 746b 5265 6e64 6572 5769 6e64 6f77 496e  tkRenderWindowIn
-00006c80: 7465 7261 6374 6f72 2829 0a0a 2020 2020  teractor()..    
-00006c90: 2020 2020 7365 6c66 2e69 6e74 6572 6163      self.interac
-00006ca0: 746f 722e 5365 7452 656e 6465 7257 696e  tor.SetRenderWin
-00006cb0: 646f 7728 7365 6c66 2e77 696e 646f 7729  dow(self.window)
-00006cc0: 0a20 2020 2020 2020 2076 7374 7920 3d20  .        vsty = 
-00006cd0: 7674 6b2e 7674 6b49 6e74 6572 6163 746f  vtk.vtkInteracto
-00006ce0: 7253 7479 6c65 5472 6163 6b62 616c 6c43  rStyleTrackballC
-00006cf0: 616d 6572 6128 290a 2020 2020 2020 2020  amera().        
-00006d00: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-00006d10: 5365 7449 6e74 6572 6163 746f 7253 7479  SetInteractorSty
-00006d20: 6c65 2876 7374 7929 0a0a 2020 2020 2020  le(vsty)..      
-00006d30: 2020 6966 2073 6574 7469 6e67 732e 656e    if settings.en
-00006d40: 6162 6c65 5f64 6566 6175 6c74 5f6d 6f75  able_default_mou
-00006d50: 7365 5f63 616c 6c62 6163 6b73 3a0a 2020  se_callbacks:.  
-00006d60: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-00006d70: 6e74 6572 6163 746f 722e 4164 644f 6273  nteractor.AddObs
-00006d80: 6572 7665 7228 224c 6566 7442 7574 746f  erver("LeftButto
-00006d90: 6e50 7265 7373 4576 656e 7422 2c20 7365  nPressEvent", se
-00006da0: 6c66 2e5f 6d6f 7573 656c 6566 7463 6c69  lf._mouseleftcli
-00006db0: 636b 290a 0a20 2020 2020 2020 2069 6620  ck)..        if 
-00006dc0: 7365 7474 696e 6773 2e65 6e61 626c 655f  settings.enable_
-00006dd0: 6465 6661 756c 745f 6b65 7962 6f61 7264  default_keyboard
-00006de0: 5f63 616c 6c62 6163 6b73 3a0a 2020 2020  _callbacks:.    
-00006df0: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
-00006e00: 6572 6163 746f 722e 4164 644f 6273 6572  eractor.AddObser
-00006e10: 7665 7228 224b 6579 5072 6573 7345 7665  ver("KeyPressEve
-00006e20: 6e74 222c 2073 656c 662e 5f6b 6579 7072  nt", self._keypr
-00006e30: 6573 7329 0a0a 2020 2020 2020 2020 2320  ess)..        # 
-00006e40: 7365 6c66 2e5f 7469 6d65 725f 6576 656e  self._timer_even
-00006e50: 745f 6964 203d 204e 6f6e 650a 2020 2020  t_id = None.    
-00006e60: 2020 2020 2320 6966 2073 6574 7469 6e67      # if setting
-00006e70: 732e 616c 6c6f 775f 696e 7465 7261 6374  s.allow_interact
-00006e80: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-00006e90: 2023 2064 6566 2077 696e 5f69 6e74 6572   # def win_inter
-00006ea0: 6163 7428 6972 656e 2c20 6576 656e 7429  act(iren, event)
-00006eb0: 3a20 2023 2066 6c75 7368 696e 6720 696e  :  # flushing in
-00006ec0: 7465 7261 6374 6f72 2065 7665 6e74 730a  teractor events.
-00006ed0: 2020 2020 2020 2020 2020 2020 2320 2020              #   
-00006ee0: 2020 6966 2065 7665 6e74 203d 3d20 2254    if event == "T
-00006ef0: 696d 6572 4576 656e 7422 3a0a 2020 2020  imerEvent":.    
-00006f00: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00006f10: 2020 6972 656e 2e45 7869 7443 616c 6c62    iren.ExitCallb
-00006f20: 6163 6b28 290a 2020 2020 2020 2020 2020  ack().          
-00006f30: 2020 2320 7365 6c66 2e5f 7469 6d65 725f    # self._timer_
-00006f40: 6576 656e 745f 6964 203d 2073 656c 662e  event_id = self.
-00006f50: 696e 7465 7261 6374 6f72 2e41 6464 4f62  interactor.AddOb
-00006f60: 7365 7276 6572 2822 5469 6d65 7245 7665  server("TimerEve
-00006f70: 6e74 222c 2077 696e 5f69 6e74 6572 6163  nt", win_interac
-00006f80: 7429 0a0a 2020 2020 2323 2323 2323 2323  t)..    ########
-00006f90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00006fa0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00006fb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00006fc0: 2323 2323 2323 2323 2323 2323 2320 2e2e  ############# ..
-00006fd0: 696e 6974 2065 6e64 7320 6865 7265 2e0a  init ends here..
-00006fe0: 0a0a 2020 2020 2320 6465 6620 616c 6c6f  ..    # def allo
-00006ff0: 775f 696e 7465 7261 6374 696f 6e28 7365  w_interaction(se
-00007000: 6c66 293a 0a20 2020 2023 2020 2020 2022  lf):.    #     "
-00007010: 2222 4361 6c6c 2074 6869 7320 6d65 7468  ""Call this meth
-00007020: 6f64 2066 726f 6d20 696e 7369 6465 2061  od from inside a
-00007030: 206c 6f6f 7020 746f 2061 6c6c 6f77 206d   loop to allow m
-00007040: 6f75 7365 2061 6e64 206b 6579 626f 6172  ouse and keyboar
-00007050: 6420 696e 7465 7261 6374 696f 6e2e 2222  d interaction.""
-00007060: 220a 2020 2020 2320 2020 2020 6966 2028  ".    #     if (
-00007070: 0a20 2020 2023 2020 2020 2020 2020 2073  .    #         s
-00007080: 656c 662e 696e 7465 7261 6374 6f72 0a20  elf.interactor. 
-00007090: 2020 2023 2020 2020 2020 2020 2061 6e64     #         and
-000070a0: 2073 656c 662e 5f74 696d 6572 5f65 7665   self._timer_eve
-000070b0: 6e74 5f69 6420 6973 206e 6f74 204e 6f6e  nt_id is not Non
-000070c0: 650a 2020 2020 2320 2020 2020 2020 2020  e.    #         
-000070d0: 616e 6420 7365 7474 696e 6773 2e69 6d6d  and settings.imm
-000070e0: 6564 6961 7465 5f72 656e 6465 7269 6e67  ediate_rendering
-000070f0: 0a20 2020 2023 2020 2020 2029 3a0a 2020  .    #     ):.  
-00007100: 2020 2320 2020 2020 2020 2020 7365 6c66    #         self
-00007110: 2e5f 7265 7065 6174 696e 6774 696d 6572  ._repeatingtimer
-00007120: 5f69 6420 3d20 7365 6c66 2e69 6e74 6572  _id = self.inter
-00007130: 6163 746f 722e 4372 6561 7465 5265 7065  actor.CreateRepe
-00007140: 6174 696e 6754 696d 6572 2831 290a 2020  atingTimer(1).  
-00007150: 2020 2320 2020 2020 2020 2020 7365 6c66    #         self
-00007160: 2e69 6e74 6572 6163 746f 722e 5374 6172  .interactor.Star
-00007170: 7428 290a 2020 2020 2320 2020 2020 2020  t().    #       
-00007180: 2020 6966 2076 6564 6f2e 7674 6b5f 7665    if vedo.vtk_ve
-00007190: 7273 696f 6e20 3d3d 2028 392c 322c 3229  rsion == (9,2,2)
-000071a0: 3a0a 2020 2020 2320 2020 2020 2020 2020  :.    #         
-000071b0: 2020 2020 7365 6c66 2e69 6e74 6572 6163      self.interac
-000071c0: 746f 722e 4765 7452 656e 6465 7257 696e  tor.GetRenderWin
-000071d0: 646f 7728 292e 5365 7444 6973 706c 6179  dow().SetDisplay
-000071e0: 4964 2822 5f30 5f70 5f76 6f69 6422 2920  Id("_0_p_void") 
-000071f0: 2323 4841 434b 0a20 2020 2023 2020 2020  ##HACK.    #    
-00007200: 2020 2020 2069 6620 7365 6c66 2e69 6e74       if self.int
-00007210: 6572 6163 746f 723a 0a20 2020 2023 2020  eractor:.    #  
-00007220: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00007230: 696e 7465 7261 6374 6f72 2e44 6573 7472  interactor.Destr
-00007240: 6f79 5469 6d65 7228 7365 6c66 2e5f 7265  oyTimer(self._re
-00007250: 7065 6174 696e 6774 696d 6572 5f69 6429  peatingtimer_id)
-00007260: 0a20 2020 2023 2020 2020 2020 2020 2073  .    #         s
-00007270: 656c 662e 5f72 6570 6561 7469 6e67 7469  elf._repeatingti
-00007280: 6d65 725f 6964 203d 204e 6f6e 650a 2020  mer_id = None.  
-00007290: 2020 2320 2020 2020 7265 7475 726e 2073    #     return s
-000072a0: 656c 660a 0a20 2020 2064 6566 205f 5f69  elf..    def __i
-000072b0: 6164 645f 5f28 7365 6c66 2c20 6163 746f  add__(self, acto
-000072c0: 7273 293a 0a20 2020 2020 2020 2073 656c  rs):.        sel
-000072d0: 662e 6164 6428 6163 746f 7273 2c20 7265  f.add(actors, re
-000072e0: 6e64 6572 3d46 616c 7365 290a 2020 2020  nder=False).    
-000072f0: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-00007300: 0a20 2020 2064 6566 205f 5f69 7375 625f  .    def __isub_
-00007310: 5f28 7365 6c66 2c20 6163 746f 7273 293a  _(self, actors):
-00007320: 0a20 2020 2020 2020 2073 656c 662e 7265  .        self.re
-00007330: 6d6f 7665 2861 6374 6f72 732c 2072 656e  move(actors, ren
-00007340: 6465 723d 4661 6c73 6529 0a20 2020 2020  der=False).     
-00007350: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00007360: 2020 2020 6465 6620 5f5f 656e 7465 725f      def __enter_
-00007370: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
-00007380: 2023 2063 6f6e 7465 7874 206d 616e 6167   # context manag
-00007390: 6572 206c 696b 6520 696e 2022 7769 7468  er like in "with
-000073a0: 2050 6c6f 7474 6572 2829 2061 7320 706c   Plotter() as pl
-000073b0: 743a 220a 2020 2020 2020 2020 7265 7475  t:".        retu
-000073c0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-000073d0: 205f 5f65 7869 745f 5f28 7365 6c66 2c20   __exit__(self, 
-000073e0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-000073f0: 3a0a 2020 2020 2020 2020 2320 636f 6e74  :.        # cont
-00007400: 6578 7420 6d61 6e61 6765 7220 6c69 6b65  ext manager like
-00007410: 2069 6e20 2277 6974 6820 506c 6f74 7465   in "with Plotte
-00007420: 7228 2920 6173 2070 6c74 3a22 0a20 2020  r() as plt:".   
-00007430: 2020 2020 2073 656c 662e 636c 6f73 6528       self.close(
-00007440: 290a 0a20 2020 2064 6566 2070 726f 6365  )..    def proce
-00007450: 7373 5f65 7665 6e74 7328 7365 6c66 293a  ss_events(self):
-00007460: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00007470: 2e69 6e74 6572 6163 746f 723a 0a20 2020  .interactor:.   
-00007480: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
-00007490: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000074a0: 6c66 2e69 6e74 6572 6163 746f 722e 5072  lf.interactor.Pr
-000074b0: 6f63 6573 7345 7665 6e74 7328 290a 2020  ocessEvents().  
-000074c0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000074d0: 2041 7474 7269 6275 7465 4572 726f 723a   AttributeError:
-000074e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000074f0: 2070 6173 730a 2020 2020 2020 2020 7265   pass.        re
-00007500: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00007510: 6566 2061 7428 7365 6c66 2c20 6e72 656e  ef at(self, nren
-00007520: 2c20 7972 656e 3d4e 6f6e 6529 3a0a 2020  , yren=None):.  
-00007530: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00007540: 2020 5365 6c65 6374 2074 6865 2063 7572    Select the cur
-00007550: 7265 6e74 2072 656e 6465 7265 7220 6e75  rent renderer nu
-00007560: 6d62 6572 2061 7320 616e 2069 6e74 2e0a  mber as an int..
-00007570: 2020 2020 2020 2020 4361 6e20 616c 736f          Can also
-00007580: 2075 7365 2074 6865 205b 6e78 2c20 6e79   use the [nx, ny
-00007590: 5d20 666f 726d 6174 2e0a 2020 2020 2020  ] format..      
-000075a0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-000075b0: 2079 7265 6e20 6973 206e 6f74 204e 6f6e   yren is not Non
-000075c0: 653a 0a20 2020 2020 2020 2020 2020 206e  e:.            n
-000075d0: 7265 6e20 3d20 2879 7265 6e29 202a 2073  ren = (yren) * s
-000075e0: 656c 662e 7368 6170 655b 315d 202b 2028  elf.shape[1] + (
-000075f0: 6e72 656e 290a 2020 2020 2020 2020 2020  nren).          
-00007600: 2020 6966 206e 7265 6e20 3c20 3020 6f72    if nren < 0 or
-00007610: 206e 7265 6e20 3e20 6c65 6e28 7365 6c66   nren > len(self
-00007620: 2e72 656e 6465 7265 7273 293a 0a20 2020  .renderers):.   
-00007630: 2020 2020 2020 2020 2020 2020 2076 6564               ved
-00007640: 6f2e 6c6f 6767 6572 2e65 7272 6f72 2866  o.logger.error(f
-00007650: 2261 7428 7b6e 7265 6e2c 2079 7265 6e7d  "at({nren, yren}
-00007660: 2920 6973 206d 616c 666f 726d 6564 2122  ) is malformed!"
-00007670: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00007680: 2020 7261 6973 6520 5275 6e74 696d 6545    raise RuntimeE
-00007690: 7272 6f72 0a0a 2020 2020 2020 2020 7365  rror..        se
-000076a0: 6c66 2e72 656e 6465 7265 7220 3d20 7365  lf.renderer = se
-000076b0: 6c66 2e72 656e 6465 7265 7273 5b6e 7265  lf.renderers[nre
-000076c0: 6e5d 0a20 2020 2020 2020 2073 656c 662e  n].        self.
-000076d0: 6361 6d65 7261 203d 2073 656c 662e 7265  camera = self.re
-000076e0: 6e64 6572 6572 2e47 6574 4163 7469 7665  nderer.GetActive
-000076f0: 4361 6d65 7261 2829 0a20 2020 2020 2020  Camera().       
-00007700: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00007710: 2020 6465 6620 6164 6428 7365 6c66 2c20    def add(self, 
-00007720: 2a61 6374 6f72 732c 2061 743d 4e6f 6e65  *actors, at=None
-00007730: 2c20 7265 6e64 6572 3d54 7275 652c 2072  , render=True, r
-00007740: 6573 6574 6361 6d3d 4661 6c73 6529 3a0a  esetcam=False):.
-00007750: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00007760: 2020 2020 4170 7065 6e64 2074 6865 2069      Append the i
-00007770: 6e70 7574 206f 626a 6563 7473 2074 6f20  nput objects to 
-00007780: 7468 6520 696e 7465 726e 616c 206c 6973  the internal lis
-00007790: 7420 6f66 2061 6374 6f72 7320 746f 2062  t of actors to b
-000077a0: 6520 7368 6f77 6e2e 0a20 2020 2020 2020  e shown..       
-000077b0: 2054 6869 7320 6d65 7468 6f64 2069 7320   This method is 
-000077c0: 7479 7069 6361 6c6c 7920 7573 6564 2069  typically used i
-000077d0: 6e20 6c6f 6f70 7320 6f72 2063 616c 6c62  n loops or callb
-000077e0: 6163 6b20 6675 6e63 7469 6f6e 732e 0a0a  ack functions...
-000077f0: 2020 2020 2020 2020 4172 6775 6d65 6e74          Argument
-00007800: 733a 0a20 2020 2020 2020 2020 2020 2061  s:.            a
-00007810: 7420 3a20 2869 6e74 290a 2020 2020 2020  t : (int).      
-00007820: 2020 2020 2020 2020 2020 6164 6420 7468            add th
-00007830: 6520 6f62 6a65 6374 2061 7420 7468 6520  e object at the 
-00007840: 7370 6563 6966 6965 6420 7265 6e64 6572  specified render
-00007850: 6572 0a20 2020 2020 2020 2020 2020 2072  er.            r
-00007860: 656e 6465 7220 3a20 2862 6f6f 6c29 0a20  ender : (bool). 
-00007870: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00007880: 656e 6465 7220 7468 6520 7363 656e 6520  ender the scene 
-00007890: 6166 7465 7220 6164 6469 6e67 2074 6865  after adding the
-000078a0: 206f 626a 6563 7473 2028 5472 7565 2062   objects (True b
-000078b0: 7920 6465 6661 756c 7429 0a20 2020 2020  y default).     
-000078c0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-000078d0: 6620 6174 2069 7320 6e6f 7420 4e6f 6e65  f at is not None
-000078e0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-000078f0: 6e20 3d20 7365 6c66 2e72 656e 6465 7265  n = self.rendere
-00007900: 7273 5b61 745d 0a20 2020 2020 2020 2065  rs[at].        e
-00007910: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00007920: 2072 656e 203d 2073 656c 662e 7265 6e64   ren = self.rend
-00007930: 6572 6572 0a0a 2020 2020 2020 2020 6163  erer..        ac
-00007940: 746f 7273 203d 2075 7469 6c73 2e66 6c61  tors = utils.fla
-00007950: 7474 656e 2861 6374 6f72 7329 0a20 2020  tten(actors).   
-00007960: 2020 2020 2061 6374 6f72 7320 3d20 7365       actors = se
-00007970: 6c66 2e5f 7363 616e 5f69 6e70 7574 2861  lf._scan_input(a
-00007980: 6374 6f72 7329 0a0a 2020 2020 2020 2020  ctors)..        
-00007990: 666f 7220 6120 696e 2061 6374 6f72 733a  for a in actors:
-000079a0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000079b0: 6120 6e6f 7420 696e 2073 656c 662e 6163  a not in self.ac
-000079c0: 746f 7273 3a0a 2020 2020 2020 2020 2020  tors:.          
-000079d0: 2020 2020 2020 7365 6c66 2e61 6374 6f72        self.actor
-000079e0: 732e 6170 7065 6e64 2861 290a 2020 2020  s.append(a).    
-000079f0: 2020 2020 2020 2020 6966 2072 656e 3a0a          if ren:.
-00007a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a10: 7265 6e2e 4164 6441 6374 6f72 2861 290a  ren.AddActor(a).
-00007a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a30: 6966 2068 6173 6174 7472 2861 2c20 2273  if hasattr(a, "s
-00007a40: 6361 6c61 7262 6172 2229 2061 6e64 2061  calarbar") and a
-00007a50: 2e73 6361 6c61 7262 6172 3a0a 2020 2020  .scalarbar:.    
-00007a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a70: 7265 6e2e 4164 6441 6374 6f72 2861 2e73  ren.AddActor(a.s
-00007a80: 6361 6c61 7262 6172 290a 2020 2020 2020  calarbar).      
-00007a90: 2020 6966 2072 656e 6465 723a 0a20 2020    if render:.   
-00007aa0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-00007ab0: 2e69 6e74 6572 6163 746f 723a 0a20 2020  .interactor:.   
-00007ac0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00007ad0: 6e6f 7420 7365 6c66 2e69 6e74 6572 6163  not self.interac
-00007ae0: 746f 722e 4765 7449 6e69 7469 616c 697a  tor.GetInitializ
-00007af0: 6564 2829 3a0a 2020 2020 2020 2020 2020  ed():.          
-00007b00: 2020 2020 2020 2020 2020 2320 7665 646f            # vedo
-00007b10: 2e6c 6f67 6765 722e 7761 726e 696e 6728  .logger.warning(
-00007b20: 2263 616c 6c20 746f 2061 6464 2829 2062  "call to add() b
-00007b30: 7574 2050 6c6f 7474 6572 2077 6173 206e  ut Plotter was n
-00007b40: 6f74 2069 6e69 7469 616c 697a 6564 2077  ot initialized w
-00007b50: 6974 6820 7368 6f77 2829 2229 0a20 2020  ith show()").   
-00007b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b70: 2070 6173 730a 2020 2020 2020 2020 2020   pass.          
-00007b80: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00007b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ba0: 7365 6c66 2e72 656e 6465 7228 7265 7365  self.render(rese
-00007bb0: 7463 616d 3d72 6573 6574 6361 6d29 0a20  tcam=resetcam). 
-00007bc0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00007bd0: 6c66 0a0a 2020 2020 6465 6620 7265 6d6f  lf..    def remo
-00007be0: 7665 2873 656c 662c 202a 6163 746f 7273  ve(self, *actors
-00007bf0: 2c20 6174 3d4e 6f6e 652c 2072 656e 6465  , at=None, rende
-00007c00: 723d 4661 6c73 652c 2072 6573 6574 6361  r=False, resetca
-00007c10: 6d3d 4661 6c73 6529 3a0a 2020 2020 2020  m=False):.      
-00007c20: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
-00007c30: 6d6f 7665 2069 6e70 7574 206f 626a 6563  move input objec
-00007c40: 7420 746f 2074 6865 2069 6e74 6572 6e61  t to the interna
-00007c50: 6c20 6c69 7374 206f 6620 6163 746f 7273  l list of actors
-00007c60: 2074 6f20 6265 2073 686f 776e 2e0a 2020   to be shown..  
-00007c70: 2020 2020 2020 5468 6973 206d 6574 686f        This metho
-00007c80: 6420 6973 2074 7970 6963 616c 6c79 2075  d is typically u
-00007c90: 7365 6420 696e 206c 6f6f 7073 206f 7220  sed in loops or 
-00007ca0: 6361 6c6c 6261 636b 2066 756e 6374 696f  callback functio
-00007cb0: 6e73 2e0a 2020 2020 2020 2020 4f62 6a65  ns..        Obje
-00007cc0: 6374 7320 746f 2062 6520 7265 6d6f 7665  cts to be remove
-00007cd0: 6420 6361 6e20 6265 2072 6566 6572 656e  d can be referen
-00007ce0: 6365 6420 6279 2074 6865 6972 2061 7373  ced by their ass
-00007cf0: 6967 6e65 6420 6e61 6d65 2e0a 0a20 2020  igned name...   
-00007d00: 2020 2020 2041 7267 756d 656e 7473 3a0a       Arguments:.
-00007d10: 2020 2020 2020 2020 2020 2020 6174 203a              at :
-00007d20: 2028 696e 7429 0a20 2020 2020 2020 2020   (int).         
-00007d30: 2020 2020 2020 2072 656d 6f76 6520 7468         remove th
-00007d40: 6520 6f62 6a65 6374 2061 7420 7468 6520  e object at the 
-00007d50: 7370 6563 6966 6965 6420 7265 6e64 6572  specified render
-00007d60: 6572 0a20 2020 2020 2020 2020 2020 2072  er.            r
-00007d70: 656e 6465 7220 3a20 2862 6f6f 6c29 0a20  ender : (bool). 
-00007d80: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00007d90: 656e 6465 7220 7468 6520 7363 656e 6520  ender the scene 
-00007da0: 6166 7465 7220 7265 6d6f 7669 6e67 2074  after removing t
-00007db0: 6865 206f 626a 6563 7473 2028 4661 6c73  he objects (Fals
-00007dc0: 6520 6279 2064 6566 6175 6c74 292e 0a20  e by default).. 
-00007dd0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00007de0: 2020 2069 6620 6174 2069 7320 6e6f 7420     if at is not 
-00007df0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00007e00: 2020 7265 6e20 3d20 7365 6c66 2e72 656e    ren = self.ren
-00007e10: 6465 7265 7273 5b61 745d 0a20 2020 2020  derers[at].     
-00007e20: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00007e30: 2020 2020 2072 656e 203d 2073 656c 662e       ren = self.
-00007e40: 7265 6e64 6572 6572 0a0a 2020 2020 2020  renderer..      
-00007e50: 2020 6163 746f 7273 203d 2075 7469 6c73    actors = utils
-00007e60: 2e66 6c61 7474 656e 2861 6374 6f72 7329  .flatten(actors)
-00007e70: 0a20 2020 2020 2020 2023 2061 6374 6f72  .        # actor
-00007e80: 7320 2b3d 2073 656c 662e 6765 745f 6d65  s += self.get_me
-00007e90: 7368 6573 2869 6e63 6c75 6465 5f6e 6f6e  shes(include_non
-00007ea0: 5f70 6963 6b61 626c 6573 3d54 7275 6529  _pickables=True)
-00007eb0: 0a20 2020 2020 2020 2061 6374 6f72 735f  .        actors_
-00007ec0: 7220 3d20 5b5d 0a20 2020 2020 2020 2066  r = [].        f
-00007ed0: 6f72 2069 2c20 6120 696e 2065 6e75 6d65  or i, a in enume
-00007ee0: 7261 7465 2861 6374 6f72 7329 3a0a 2020  rate(actors):.  
-00007ef0: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-00007f00: 6e73 7461 6e63 6528 612c 2073 7472 293a  nstance(a, str):
-00007f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007f20: 2066 6f72 2062 2069 6e20 7365 6c66 2e61   for b in self.a
-00007f30: 6374 6f72 733a 0a20 2020 2020 2020 2020  ctors:.         
-00007f40: 2020 2020 2020 2020 2020 2069 6620 6861             if ha
-00007f50: 7361 7474 7228 622c 2022 6e61 6d65 2229  sattr(b, "name")
-00007f60: 2061 6e64 2061 2069 6e20 622e 6e61 6d65   and a in b.name
-00007f70: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00007f80: 2020 2020 2020 2020 2020 6163 746f 7273            actors
-00007f90: 5f72 2e61 7070 656e 6428 6229 0a20 2020  _r.append(b).   
-00007fa0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00007fb0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00007fc0: 6374 6f72 735f 722e 6170 7065 6e64 2861  ctors_r.append(a
-00007fd0: 290a 0a20 2020 2020 2020 2066 6f72 2061  )..        for a
-00007fe0: 2069 6e20 7365 7428 6163 746f 7273 5f72   in set(actors_r
-00007ff0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-00008000: 6620 7265 6e3a 0a20 2020 2020 2020 2020  f ren:.         
-00008010: 2020 2020 2020 2072 656e 2e52 656d 6f76         ren.Remov
-00008020: 6541 6374 6f72 2861 290a 2020 2020 2020  eActor(a).      
-00008030: 2020 2020 2020 2020 2020 6966 2068 6173            if has
-00008040: 6174 7472 2861 2c20 2272 656e 6465 7265  attr(a, "rendere
-00008050: 645f 6174 2229 3a0a 2020 2020 2020 2020  d_at"):.        
-00008060: 2020 2020 2020 2020 2020 2020 6972 203d              ir =
-00008070: 2073 656c 662e 7265 6e64 6572 6572 732e   self.renderers.
-00008080: 696e 6465 7828 7265 6e29 0a20 2020 2020  index(ren).     
-00008090: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000080a0: 2e72 656e 6465 7265 645f 6174 2e64 6973  .rendered_at.dis
-000080b0: 6361 7264 2869 7229 0a20 2020 2020 2020  card(ir).       
-000080c0: 2020 2020 2020 2020 2069 6620 6861 7361           if hasa
-000080d0: 7474 7228 612c 2022 7363 616c 6172 6261  ttr(a, "scalarba
-000080e0: 7222 2920 616e 6420 612e 7363 616c 6172  r") and a.scalar
-000080f0: 6261 723a 0a20 2020 2020 2020 2020 2020  bar:.           
-00008100: 2020 2020 2020 2020 2072 656e 2e52 656d           ren.Rem
-00008110: 6f76 6541 6374 6f72 2861 2e73 6361 6c61  oveActor(a.scala
-00008120: 7262 6172 290a 2020 2020 2020 2020 2020  rbar).          
-00008130: 2020 2020 2020 6966 2068 6173 6174 7472        if hasattr
-00008140: 2861 2c20 225f 6361 7074 696f 6e22 2920  (a, "_caption") 
-00008150: 616e 6420 612e 5f63 6170 7469 6f6e 3a0a  and a._caption:.
-00008160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008170: 2020 2020 7265 6e2e 5265 6d6f 7665 4163      ren.RemoveAc
-00008180: 746f 7228 612e 5f63 6170 7469 6f6e 290a  tor(a._caption).
-00008190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000081a0: 6966 2068 6173 6174 7472 2861 2c20 2274  if hasattr(a, "t
-000081b0: 7261 696c 2229 2061 6e64 2061 2e74 7261  rail") and a.tra
-000081c0: 696c 3a0a 2020 2020 2020 2020 2020 2020  il:.            
-000081d0: 2020 2020 2020 2020 7265 6e2e 5265 6d6f          ren.Remo
-000081e0: 7665 4163 746f 7228 612e 7472 6169 6c29  veActor(a.trail)
-000081f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008200: 2020 2020 2061 2e74 7261 696c 5f70 6f69       a.trail_poi
-00008210: 6e74 7320 3d20 5b5d 0a20 2020 2020 2020  nts = [].       
-00008220: 2020 2020 2069 6620 6120 696e 2073 656c       if a in sel
-00008230: 662e 6163 746f 7273 3a0a 2020 2020 2020  f.actors:.      
-00008240: 2020 2020 2020 2020 2020 6920 3d20 7365            i = se
-00008250: 6c66 2e61 6374 6f72 732e 696e 6465 7828  lf.actors.index(
-00008260: 6129 0a20 2020 2020 2020 2020 2020 2020  a).             
-00008270: 2020 2064 656c 2073 656c 662e 6163 746f     del self.acto
-00008280: 7273 5b69 5d0a 0a20 2020 2020 2020 2069  rs[i]..        i
-00008290: 6620 7265 6e64 6572 3a0a 2020 2020 2020  f render:.      
-000082a0: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-000082b0: 662e 696e 7465 7261 6374 6f72 2e47 6574  f.interactor.Get
-000082c0: 496e 6974 6961 6c69 7a65 6428 293a 0a20  Initialized():. 
-000082d0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-000082e0: 6564 6f2e 6c6f 6767 6572 2e77 6172 6e69  edo.logger.warni
-000082f0: 6e67 2822 6361 6c6c 2074 6f20 7265 6d6f  ng("call to remo
-00008300: 7665 2872 6573 6574 6361 6d3d 5472 7565  ve(resetcam=True
-00008310: 2920 6275 7420 506c 6f74 7465 7220 7761  ) but Plotter wa
-00008320: 7320 6e6f 7420 696e 6974 6961 6c69 7a65  s not initialize
-00008330: 6420 7769 7468 2073 686f 7728 2922 290a  d with show()").
-00008340: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00008350: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00008360: 2020 7365 6c66 2e72 656e 6465 7228 7265    self.render(re
-00008370: 7365 7463 616d 3d72 6573 6574 6361 6d29  setcam=resetcam)
-00008380: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00008390: 7365 6c66 0a0a 2020 2020 6465 6620 706f  self..    def po
-000083a0: 7028 7365 6c66 2c20 6174 3d4e 6f6e 6529  p(self, at=None)
-000083b0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-000083c0: 2020 2020 2020 5265 6d6f 7665 2074 6865        Remove the
-000083d0: 206c 6173 7420 6164 6465 6420 6f62 6a65   last added obje
-000083e0: 6374 2066 726f 6d20 7468 6520 7265 6e64  ct from the rend
-000083f0: 6572 696e 6720 7769 6e64 6f77 2e0a 2020  ering window..  
-00008400: 2020 2020 2020 5468 6973 206d 6574 686f        This metho
-00008410: 6420 6973 2074 7970 6963 616c 6c79 2075  d is typically u
-00008420: 7365 6420 696e 206c 6f6f 7073 206f 7220  sed in loops or 
-00008430: 6361 6c6c 6261 636b 2066 756e 6374 696f  callback functio
-00008440: 6e73 2e0a 2020 2020 2020 2020 2222 220a  ns..        """.
-00008450: 2020 2020 2020 2020 6966 2061 7420 6973          if at is
-00008460: 206e 6f74 204e 6f6e 6520 616e 6420 6e6f   not None and no
-00008470: 7420 6973 696e 7374 616e 6365 2861 742c  t isinstance(at,
-00008480: 2069 6e74 293a 0a20 2020 2020 2020 2020   int):.         
-00008490: 2020 2023 2077 726f 6e67 2075 7361 6765     # wrong usage
-000084a0: 2070 6974 6661 6c6c 0a20 2020 2020 2020   pitfall.       
-000084b0: 2020 2020 2076 6564 6f2e 6c6f 6767 6572       vedo.logger
-000084c0: 2e65 7272 6f72 2822 6172 6775 6d65 6e74  .error("argument
-000084d0: 206f 6620 706f 7028 2920 6d75 7374 2062   of pop() must b
-000084e0: 6520 616e 2069 6e74 6567 6572 2229 0a20  e an integer"). 
-000084f0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00008500: 2052 756e 7469 6d65 4572 726f 7228 290a   RuntimeError().
-00008510: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00008520: 2e61 6374 6f72 733a 0a20 2020 2020 2020  .actors:.       
-00008530: 2020 2020 2073 656c 662e 7265 6d6f 7665       self.remove
-00008540: 2873 656c 662e 6163 746f 7273 5b2d 315d  (self.actors[-1]
-00008550: 2c20 6174 290a 2020 2020 2020 2020 7265  , at).        re
-00008560: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00008570: 6566 2072 656e 6465 7228 7365 6c66 2c20  ef render(self, 
-00008580: 7265 7365 7463 616d 3d46 616c 7365 293a  resetcam=False):
-00008590: 0a20 2020 2020 2020 2022 2222 5265 6e64  .        """Rend
-000085a0: 6572 2074 6865 2073 6365 6e65 2e20 5468  er the scene. Th
-000085b0: 6973 206d 6574 686f 6420 6973 2074 7970  is method is typ
-000085c0: 6963 616c 6c79 2075 7365 6420 696e 206c  ically used in l
-000085d0: 6f6f 7073 206f 7220 6361 6c6c 6261 636b  oops or callback
-000085e0: 2066 756e 6374 696f 6e73 2e22 2222 0a20   functions.""". 
-000085f0: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
-00008600: 6c66 2e77 696e 646f 773a 0a20 2020 2020  lf.window:.     
-00008610: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00008620: 6c66 0a0a 2020 2020 2020 2020 6966 2073  lf..        if s
-00008630: 656c 662e 7778 5f77 6964 6765 743a 0a20  elf.wx_widget:. 
-00008640: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00008650: 7365 7463 616d 3a0a 2020 2020 2020 2020  setcam:.        
-00008660: 2020 2020 2020 2020 7365 6c66 2e72 656e          self.ren
-00008670: 6465 7265 722e 5265 7365 7443 616d 6572  derer.ResetCamer
-00008680: 6128 290a 2020 2020 2020 2020 2020 2020  a().            
-00008690: 7365 6c66 2e77 785f 7769 6467 6574 2e52  self.wx_widget.R
-000086a0: 656e 6465 7228 290a 2020 2020 2020 2020  ender().        
-000086b0: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-000086c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000086d0: 2e71 745f 7769 6467 6574 3a0a 2020 2020  .qt_widget:.    
-000086e0: 2020 2020 2020 2020 6966 2072 6573 6574          if reset
-000086f0: 6361 6d3a 0a20 2020 2020 2020 2020 2020  cam:.           
-00008700: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-00008710: 6572 2e52 6573 6574 4361 6d65 7261 2829  er.ResetCamera()
-00008720: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00008730: 662e 7174 5f77 6964 6765 742e 5265 6e64  f.qt_widget.Rend
-00008740: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
-00008750: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00008760: 2020 2020 2020 6966 2073 656c 662e 696e        if self.in
-00008770: 7465 7261 6374 6f72 3a0a 2020 2020 2020  teractor:.      
-00008780: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-00008790: 662e 696e 7465 7261 6374 6f72 2e47 6574  f.interactor.Get
-000087a0: 496e 6974 6961 6c69 7a65 6428 293a 0a20  Initialized():. 
-000087b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000087c0: 656c 662e 696e 7465 7261 6374 6f72 2e49  elf.interactor.I
-000087d0: 6e69 7469 616c 697a 6528 290a 0a20 2020  nitialize()..   
-000087e0: 2020 2020 2073 656c 662e 6361 6d65 7261       self.camera
-000087f0: 203d 2073 656c 662e 7265 6e64 6572 6572   = self.renderer
-00008800: 2e47 6574 4163 7469 7665 4361 6d65 7261  .GetActiveCamera
-00008810: 2829 0a20 2020 2020 2020 2069 6620 7265  ().        if re
-00008820: 7365 7463 616d 3a0a 2020 2020 2020 2020  setcam:.        
-00008830: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
-00008840: 722e 5265 7365 7443 616d 6572 6128 290a  r.ResetCamera().
-00008850: 0a20 2020 2020 2020 2073 656c 662e 7769  .        self.wi
-00008860: 6e64 6f77 2e52 656e 6465 7228 290a 2020  ndow.Render().  
-00008870: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00008880: 660a 0a20 2020 2064 6566 2069 6e74 6572  f..    def inter
-00008890: 6163 7469 7665 2873 656c 6629 3a0a 2020  active(self):.  
-000088a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000088b0: 2020 5374 6172 7420 7769 6e64 6f77 2069    Start window i
-000088c0: 6e74 6572 6163 7469 6f6e 2e0a 2020 2020  nteraction..    
-000088d0: 2020 2020 416e 616c 6f67 6f75 7320 746f      Analogous to
-000088e0: 2060 7368 6f77 282e 2e2e 2c20 696e 7465   `show(..., inte
-000088f0: 7261 6374 6976 653d 5472 7565 2960 2e0a  ractive=True)`..
-00008900: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00008910: 2020 2020 6966 2073 656c 662e 696e 7465      if self.inte
-00008920: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
-00008930: 2020 2020 7365 6c66 2e69 6e74 6572 6163      self.interac
-00008940: 746f 722e 5374 6172 7428 290a 2020 2020  tor.Start().    
-00008950: 2020 2020 2020 2020 6966 2076 6564 6f2e          if vedo.
-00008960: 7674 6b5f 7665 7273 696f 6e20 3d3d 2028  vtk_version == (
-00008970: 392c 322c 3229 3a0a 2020 2020 2020 2020  9,2,2):.        
-00008980: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
-00008990: 6572 6163 746f 722e 4765 7452 656e 6465  eractor.GetRende
-000089a0: 7257 696e 646f 7728 292e 5365 7444 6973  rWindow().SetDis
-000089b0: 706c 6179 4964 2822 5f30 5f70 5f76 6f69  playId("_0_p_voi
-000089c0: 6422 2920 2323 4841 434b 0a20 2020 2020  d") ##HACK.     
-000089d0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-000089e0: 2020 2020 6465 6620 7573 655f 6465 7074      def use_dept
-000089f0: 685f 7065 656c 696e 6728 7365 6c66 2c20  h_peeling(self, 
-00008a00: 6174 3d4e 6f6e 652c 2076 616c 7565 3d54  at=None, value=T
-00008a10: 7275 6529 3a0a 2020 2020 2020 2020 2222  rue):.        ""
-00008a20: 220a 2020 2020 2020 2020 5370 6563 6966  ".        Specif
-00008a30: 7920 7768 6574 6865 7220 7573 6520 6465  y whether use de
-00008a40: 7074 6820 7065 656c 696e 6720 616c 676f  pth peeling algo
-00008a50: 7269 7468 6d20 6174 2074 6869 7320 7370  rithm at this sp
-00008a60: 6563 6966 6963 2072 656e 6465 7265 720a  ecific renderer.
-00008a70: 2020 2020 2020 2020 4361 6c6c 2074 6869          Call thi
-00008a80: 7320 6d65 7468 6f64 2062 6566 6f72 6520  s method before 
-00008a90: 7468 6520 6669 7273 7420 7265 6e64 6572  the first render
-00008aa0: 696e 672e 0a20 2020 2020 2020 2022 2222  ing..        """
-00008ab0: 0a20 2020 2020 2020 2069 6620 6174 2069  .        if at i
-00008ac0: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00008ad0: 2020 2020 7265 6e20 3d20 7365 6c66 2e72      ren = self.r
-00008ae0: 656e 6465 7265 720a 2020 2020 2020 2020  enderer.        
-00008af0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00008b00: 2020 7265 6e20 3d20 7365 6c66 2e72 656e    ren = self.ren
-00008b10: 6465 7265 7273 5b61 745d 0a20 2020 2020  derers[at].     
-00008b20: 2020 2072 656e 2e53 6574 5573 6544 6570     ren.SetUseDep
-00008b30: 7468 5065 656c 696e 6728 7661 6c75 6529  thPeeling(value)
-00008b40: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00008b50: 7365 6c66 0a0a 2020 2020 6465 6620 6261  self..    def ba
-00008b60: 636b 6772 6f75 6e64 2873 656c 662c 2063  ckground(self, c
-00008b70: 313d 4e6f 6e65 2c20 6332 3d4e 6f6e 652c  1=None, c2=None,
-00008b80: 2061 743d 4e6f 6e65 293a 0a20 2020 2020   at=None):.     
-00008b90: 2020 2022 2222 5365 7420 7468 6520 636f     """Set the co
-00008ba0: 6c6f 7220 6f66 2074 6865 2062 6163 6b67  lor of the backg
-00008bb0: 726f 756e 6420 666f 7220 7468 6520 6375  round for the cu
-00008bc0: 7272 656e 7420 7265 6e64 6572 6572 2e0a  rrent renderer..
-00008bd0: 2020 2020 2020 2020 4120 6469 6666 6572          A differ
-00008be0: 656e 7420 7265 6e64 6572 6572 2069 6e64  ent renderer ind
-00008bf0: 6578 2063 616e 2062 6520 7370 6563 6966  ex can be specif
-00008c00: 6965 6420 6279 206b 6579 776f 7264 2060  ied by keyword `
-00008c10: 6061 7460 602e 0a0a 2020 2020 2020 2020  `at``...        
-00008c20: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
-00008c30: 2020 2020 2020 2063 3120 3a20 286c 6973         c1 : (lis
-00008c40: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
-00008c50: 2020 2062 6163 6b67 726f 756e 6420 6d61     background ma
-00008c60: 696e 2063 6f6c 6f72 2e0a 2020 2020 2020  in color..      
-00008c70: 2020 2020 2020 6332 203a 2028 6c69 7374        c2 : (list
-00008c80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00008c90: 2020 6261 636b 6772 6f75 6e64 2063 6f6c    background col
-00008ca0: 6f72 2066 6f72 2074 6865 2075 7070 6572  or for the upper
-00008cb0: 2070 6172 7420 6f66 2074 6865 2077 696e   part of the win
-00008cc0: 646f 772e 0a20 2020 2020 2020 2020 2020  dow..           
-00008cd0: 2061 7420 3a20 2869 6e74 290a 2020 2020   at : (int).    
-00008ce0: 2020 2020 2020 2020 2020 2020 7265 6e64              rend
-00008cf0: 6572 6572 2069 6e64 6578 2e0a 2020 2020  erer index..    
-00008d00: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00008d10: 6966 206e 6f74 2073 656c 662e 7265 6e64  if not self.rend
-00008d20: 6572 6572 733a 0a20 2020 2020 2020 2020  erers:.         
-00008d30: 2020 2072 6574 7572 6e20 7365 6c66 0a20     return self. 
-00008d40: 2020 2020 2020 2069 6620 6174 2069 7320         if at is 
-00008d50: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00008d60: 2020 7220 3d20 7365 6c66 2e72 656e 6465    r = self.rende
-00008d70: 7265 720a 2020 2020 2020 2020 656c 7365  rer.        else
-00008d80: 3a0a 2020 2020 2020 2020 2020 2020 7220  :.            r 
-00008d90: 3d20 7365 6c66 2e72 656e 6465 7265 7273  = self.renderers
-00008da0: 5b61 745d 0a20 2020 2020 2020 2069 6620  [at].        if 
-00008db0: 723a 0a20 2020 2020 2020 2020 2020 2069  r:.            i
-00008dc0: 6620 6331 2069 7320 6e6f 7420 4e6f 6e65  f c1 is not None
-00008dd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00008de0: 2020 722e 5365 7442 6163 6b67 726f 756e    r.SetBackgroun
-00008df0: 6428 7665 646f 2e67 6574 5f63 6f6c 6f72  d(vedo.get_color
-00008e00: 2863 3129 290a 2020 2020 2020 2020 2020  (c1)).          
-00008e10: 2020 6966 2063 3220 6973 206e 6f74 204e    if c2 is not N
-00008e20: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00008e30: 2020 2020 2072 2e47 7261 6469 656e 7442       r.GradientB
-00008e40: 6163 6b67 726f 756e 644f 6e28 290a 2020  ackgroundOn().  
-00008e50: 2020 2020 2020 2020 2020 2020 2020 722e                r.
-00008e60: 5365 7442 6163 6b67 726f 756e 6432 2876  SetBackground2(v
-00008e70: 6564 6f2e 6765 745f 636f 6c6f 7228 6332  edo.get_color(c2
-00008e80: 2929 0a20 2020 2020 2020 2020 2020 2065  )).            e
-00008e90: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00008ea0: 2020 2020 2072 2e47 7261 6469 656e 7442       r.GradientB
-00008eb0: 6163 6b67 726f 756e 644f 6666 2829 0a20  ackgroundOff(). 
-00008ec0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00008ed0: 6c66 0a0a 2020 2020 2323 2323 2323 2323  lf..    ########
-00008ee0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008ef0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008f00: 2323 2323 2323 2323 2323 2323 0a20 2020  ############.   
-00008f10: 2040 6465 7072 6563 6174 6564 2872 6561   @deprecated(rea
-00008f20: 736f 6e3d 7665 646f 2e63 6f6c 6f72 732e  son=vedo.colors.
-00008f30: 7265 6420 2b20 2250 6c65 6173 6520 7573  red + "Please us
-00008f40: 6520 6765 745f 6d65 7368 6573 2829 2220  e get_meshes()" 
-00008f50: 2b20 7665 646f 2e63 6f6c 6f72 732e 7265  + vedo.colors.re
-00008f60: 7365 7429 0a20 2020 2064 6566 2067 6574  set).    def get
-00008f70: 4d65 7368 6573 2873 656c 662c 202a 612c  Meshes(self, *a,
-00008f80: 202a 2a62 293a 0a20 2020 2020 2020 2022   **b):.        "
-00008f90: 2222 4465 7072 6563 6174 6564 2c20 7573  ""Deprecated, us
-00008fa0: 6520 6765 745f 6d65 7368 6573 2829 2222  e get_meshes()""
-00008fb0: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-00008fc0: 2073 656c 662e 6765 745f 6d65 7368 6573   self.get_meshes
-00008fd0: 282a 612c 202a 2a62 290a 0a20 2020 2064  (*a, **b)..    d
-00008fe0: 6566 2067 6574 5f6d 6573 6865 7328 7365  ef get_meshes(se
-00008ff0: 6c66 2c20 6174 3d4e 6f6e 652c 2069 6e63  lf, at=None, inc
-00009000: 6c75 6465 5f6e 6f6e 5f70 6963 6b61 626c  lude_non_pickabl
-00009010: 6573 3d46 616c 7365 293a 0a20 2020 2020  es=False):.     
-00009020: 2020 2022 2222 0a20 2020 2020 2020 2052     """.        R
-00009030: 6574 7572 6e20 6120 6c69 7374 206f 6620  eturn a list of 
-00009040: 4d65 7368 6573 2066 726f 6d20 7468 6520  Meshes from the 
-00009050: 7370 6563 6966 6965 6420 7265 6e64 6572  specified render
-00009060: 6572 2e0a 0a20 2020 2020 2020 2041 7267  er...        Arg
-00009070: 756d 656e 7473 3a0a 2020 2020 2020 2020  uments:.        
-00009080: 2020 2020 6174 203a 2028 696e 7429 0a20      at : (int). 
-00009090: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000090a0: 7065 6369 6679 2077 6869 6368 2072 656e  pecify which ren
-000090b0: 6465 7265 7220 746f 206c 6f6f 6b20 6174  derer to look at
-000090c0: 2e0a 2020 2020 2020 2020 2020 2020 696e  ..            in
-000090d0: 636c 7564 655f 6e6f 6e5f 7069 636b 6162  clude_non_pickab
-000090e0: 6c65 7320 3a20 2862 6f6f 6c29 0a20 2020  les : (bool).   
-000090f0: 2020 2020 2020 2020 2020 2020 2069 6e63               inc
-00009100: 6c75 6465 206e 6f6e 2d70 6963 6b61 626c  lude non-pickabl
-00009110: 6520 6f62 6a65 6374 730a 2020 2020 2020  e objects.      
-00009120: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-00009130: 2061 7420 6973 204e 6f6e 653a 0a20 2020   at is None:.   
-00009140: 2020 2020 2020 2020 2072 656e 6465 7265           rendere
-00009150: 7220 3d20 7365 6c66 2e72 656e 6465 7265  r = self.rendere
-00009160: 720a 2020 2020 2020 2020 2020 2020 6174  r.            at
-00009170: 203d 2073 656c 662e 7265 6e64 6572 6572   = self.renderer
-00009180: 732e 696e 6465 7828 7265 6e64 6572 6572  s.index(renderer
-00009190: 290a 2020 2020 2020 2020 656c 6966 2069  ).        elif i
-000091a0: 7369 6e73 7461 6e63 6528 6174 2c20 696e  sinstance(at, in
-000091b0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-000091c0: 7265 6e64 6572 6572 203d 2073 656c 662e  renderer = self.
-000091d0: 7265 6e64 6572 6572 735b 6174 5d0a 0a20  renderers[at].. 
-000091e0: 2020 2020 2020 2068 6173 5f67 6c6f 6261         has_globa
-000091f0: 6c5f 6178 6573 203d 2046 616c 7365 0a20  l_axes = False. 
-00009200: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-00009210: 616e 6365 2873 656c 662e 6178 6573 5f69  ance(self.axes_i
-00009220: 6e73 7461 6e63 6573 5b61 745d 2c20 7665  nstances[at], ve
-00009230: 646f 2e41 7373 656d 626c 7929 3a0a 2020  do.Assembly):.  
-00009240: 2020 2020 2020 2020 2020 6861 735f 676c            has_gl
-00009250: 6f62 616c 5f61 7865 7320 3d20 5472 7565  obal_axes = True
-00009260: 0a0a 2020 2020 2020 2020 6163 746f 7273  ..        actors
-00009270: 203d 205b 5d0a 2020 2020 2020 2020 6163   = [].        ac
-00009280: 7320 3d20 7265 6e64 6572 6572 2e47 6574  s = renderer.Get
-00009290: 4163 746f 7273 2829 0a20 2020 2020 2020  Actors().       
-000092a0: 2061 6373 2e49 6e69 7454 7261 7665 7273   acs.InitTravers
-000092b0: 616c 2829 0a20 2020 2020 2020 2066 6f72  al().        for
-000092c0: 205f 2069 6e20 7261 6e67 6528 6163 732e   _ in range(acs.
-000092d0: 4765 744e 756d 6265 724f 6649 7465 6d73  GetNumberOfItems
-000092e0: 2829 293a 0a20 2020 2020 2020 2020 2020  ()):.           
-000092f0: 2061 203d 2061 6373 2e47 6574 4e65 7874   a = acs.GetNext
-00009300: 4974 656d 2829 0a20 2020 2020 2020 2020  Item().         
-00009310: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00009320: 2861 2c20 7674 6b2e 7674 6b56 6f6c 756d  (a, vtk.vtkVolum
-00009330: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00009340: 2020 2020 636f 6e74 696e 7565 0a20 2020      continue.   
-00009350: 2020 2020 2020 2020 2069 6620 696e 636c           if incl
-00009360: 7564 655f 6e6f 6e5f 7069 636b 6162 6c65  ude_non_pickable
-00009370: 7320 6f72 2061 2e47 6574 5069 636b 6162  s or a.GetPickab
-00009380: 6c65 2829 3a0a 2020 2020 2020 2020 2020  le():.          
-00009390: 2020 2020 2020 6966 2061 203d 3d20 7365        if a == se
-000093a0: 6c66 2e61 7865 735f 696e 7374 616e 6365  lf.axes_instance
-000093b0: 735b 6174 5d3a 0a20 2020 2020 2020 2020  s[at]:.         
-000093c0: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-000093d0: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-000093e0: 2020 2020 6966 2068 6173 5f67 6c6f 6261      if has_globa
-000093f0: 6c5f 6178 6573 2061 6e64 2061 2069 6e20  l_axes and a in 
-00009400: 7365 6c66 2e61 7865 735f 696e 7374 616e  self.axes_instan
-00009410: 6365 735b 6174 5d2e 6163 746f 7273 3a0a  ces[at].actors:.
-00009420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009430: 2020 2020 636f 6e74 696e 7565 0a20 2020      continue.   
-00009440: 2020 2020 2020 2020 2020 2020 2061 6374               act
-00009450: 6f72 732e 6170 7065 6e64 2861 290a 2020  ors.append(a).  
-00009460: 2020 2020 2020 7265 7475 726e 2061 6374        return act
-00009470: 6f72 730a 0a20 2020 2064 6566 2067 6574  ors..    def get
-00009480: 5f76 6f6c 756d 6573 2873 656c 662c 2061  _volumes(self, a
-00009490: 743d 4e6f 6e65 2c20 696e 636c 7564 655f  t=None, include_
-000094a0: 6e6f 6e5f 7069 636b 6162 6c65 733d 4661  non_pickables=Fa
-000094b0: 6c73 6529 3a0a 2020 2020 2020 2020 2222  lse):.        ""
-000094c0: 220a 2020 2020 2020 2020 5265 7475 726e  ".        Return
-000094d0: 2061 206c 6973 7420 6f66 2056 6f6c 756d   a list of Volum
-000094e0: 6573 2066 726f 6d20 7468 6520 7370 6563  es from the spec
-000094f0: 6966 6965 6420 7265 6e64 6572 6572 2e0a  ified renderer..
-00009500: 0a20 2020 2020 2020 2041 7267 756d 656e  .        Argumen
-00009510: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-00009520: 6174 203a 2028 696e 7429 0a20 2020 2020  at : (int).     
-00009530: 2020 2020 2020 2020 2020 2073 7065 6369             speci
-00009540: 6679 2077 6869 6368 2072 656e 6465 7265  fy which rendere
-00009550: 7220 746f 206c 6f6f 6b20 6174 0a20 2020  r to look at.   
-00009560: 2020 2020 2020 2020 2069 6e63 6c75 6465           include
-00009570: 5f6e 6f6e 5f70 6963 6b61 626c 6573 203a  _non_pickables :
-00009580: 2028 626f 6f6c 290a 2020 2020 2020 2020   (bool).        
-00009590: 2020 2020 2020 2020 696e 636c 7564 6520          include 
-000095a0: 6e6f 6e2d 7069 636b 6162 6c65 206f 626a  non-pickable obj
-000095b0: 6563 7473 0a20 2020 2020 2020 2022 2222  ects.        """
-000095c0: 0a20 2020 2020 2020 2069 6620 6174 2069  .        if at i
-000095d0: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-000095e0: 2020 2020 7265 6e64 6572 6572 203d 2073      renderer = s
-000095f0: 656c 662e 7265 6e64 6572 6572 0a20 2020  elf.renderer.   
-00009600: 2020 2020 2020 2020 2061 7420 3d20 7365           at = se
-00009610: 6c66 2e72 656e 6465 7265 7273 2e69 6e64  lf.renderers.ind
-00009620: 6578 2872 656e 6465 7265 7229 0a20 2020  ex(renderer).   
-00009630: 2020 2020 2065 6c69 6620 6973 696e 7374       elif isinst
-00009640: 616e 6365 2861 742c 2069 6e74 293a 0a20  ance(at, int):. 
-00009650: 2020 2020 2020 2020 2020 2072 656e 6465             rende
-00009660: 7265 7220 3d20 7365 6c66 2e72 656e 6465  rer = self.rende
-00009670: 7265 7273 5b61 745d 0a0a 2020 2020 2020  rers[at]..      
-00009680: 2020 766f 6c73 203d 205b 5d0a 2020 2020    vols = [].    
-00009690: 2020 2020 6163 7320 3d20 7265 6e64 6572      acs = render
-000096a0: 6572 2e47 6574 566f 6c75 6d65 7328 290a  er.GetVolumes().
-000096b0: 2020 2020 2020 2020 6163 732e 496e 6974          acs.Init
-000096c0: 5472 6176 6572 7361 6c28 290a 2020 2020  Traversal().    
-000096d0: 2020 2020 666f 7220 5f20 696e 2072 616e      for _ in ran
-000096e0: 6765 2861 6373 2e47 6574 4e75 6d62 6572  ge(acs.GetNumber
-000096f0: 4f66 4974 656d 7328 2929 3a0a 2020 2020  OfItems()):.    
-00009700: 2020 2020 2020 2020 6120 3d20 6163 732e          a = acs.
-00009710: 4765 744e 6578 7449 7465 6d28 290a 2020  GetNextItem().  
-00009720: 2020 2020 2020 2020 2020 6966 2069 6e63            if inc
-00009730: 6c75 6465 5f6e 6f6e 5f70 6963 6b61 626c  lude_non_pickabl
-00009740: 6573 206f 7220 612e 4765 7450 6963 6b61  es or a.GetPicka
-00009750: 626c 6528 293a 0a20 2020 2020 2020 2020  ble():.         
-00009760: 2020 2020 2020 2076 6f6c 732e 6170 7065         vols.appe
-00009770: 6e64 2861 290a 2020 2020 2020 2020 7265  nd(a).        re
-00009780: 7475 726e 2076 6f6c 730a 0a20 2020 2040  turn vols..    @
-00009790: 6465 7072 6563 6174 6564 2872 6561 736f  deprecated(reaso
-000097a0: 6e3d 7665 646f 2e63 6f6c 6f72 732e 7265  n=vedo.colors.re
-000097b0: 6420 2b20 2250 6c65 6173 6520 7573 6520  d + "Please use 
-000097c0: 7265 7365 745f 6361 6d65 7261 2829 2220  reset_camera()" 
-000097d0: 2b20 7665 646f 2e63 6f6c 6f72 732e 7265  + vedo.colors.re
-000097e0: 7365 7429 0a20 2020 2064 6566 2072 6573  set).    def res
-000097f0: 6574 4361 6d65 7261 2873 656c 662c 2074  etCamera(self, t
-00009800: 6967 6874 3d4e 6f6e 6529 3a0a 2020 2020  ight=None):.    
-00009810: 2020 2020 2244 6570 7265 6361 7465 642c      "Deprecated,
-00009820: 2070 6c65 6173 6520 7573 6520 7265 7365   please use rese
-00009830: 745f 6361 6d65 7261 2829 220a 2020 2020  t_camera()".    
-00009840: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00009850: 7265 7365 745f 6361 6d65 7261 2874 6967  reset_camera(tig
-00009860: 6874 290a 0a20 2020 2064 6566 2072 6573  ht)..    def res
-00009870: 6574 5f63 616d 6572 6128 7365 6c66 2c20  et_camera(self, 
-00009880: 7469 6768 743d 4e6f 6e65 293a 0a20 2020  tight=None):.   
-00009890: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000098a0: 2052 6573 6574 2074 6865 2063 616d 6572   Reset the camer
-000098b0: 6120 706f 7369 7469 6f6e 2061 6e64 207a  a position and z
-000098c0: 6f6f 6d69 6e67 2e0a 2020 2020 2020 2020  ooming..        
-000098d0: 4966 2074 6967 6874 2028 666c 6f61 7429  If tight (float)
-000098e0: 2069 7320 7370 6563 6966 6965 6420 7468   is specified th
-000098f0: 6520 7a6f 6f6d 696e 6720 7265 7365 7276  e zooming reserv
-00009900: 6573 2061 2070 6164 6469 6e67 2073 7061  es a padding spa
-00009910: 6365 2069 6e20 7468 6520 7879 2d70 6c61  ce in the xy-pla
-00009920: 6e65 0a20 2020 2020 2020 2065 7870 7265  ne.        expre
-00009930: 7373 6564 2069 6e20 7065 7263 656e 7420  ssed in percent 
-00009940: 6f66 2074 6865 2061 7665 7261 6765 2073  of the average s
-00009950: 697a 652e 0a20 2020 2020 2020 2022 2222  ize..        """
-00009960: 0a20 2020 2020 2020 2069 6620 7469 6768  .        if tigh
-00009970: 7420 6973 204e 6f6e 653a 0a20 2020 2020  t is None:.     
-00009980: 2020 2020 2020 2073 656c 662e 7265 6e64         self.rend
-00009990: 6572 6572 2e52 6573 6574 4361 6d65 7261  erer.ResetCamera
-000099a0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
-000099b0: 0a20 2020 2020 2020 2020 2020 2078 302c  .            x0,
-000099c0: 2078 312c 2079 302c 2079 312c 207a 302c   x1, y0, y1, z0,
-000099d0: 207a 3120 3d20 7365 6c66 2e72 656e 6465   z1 = self.rende
-000099e0: 7265 722e 436f 6d70 7574 6556 6973 6962  rer.ComputeVisib
-000099f0: 6c65 5072 6f70 426f 756e 6473 2829 0a0a  lePropBounds()..
-00009a00: 2020 2020 2020 2020 2020 2020 6361 6d20              cam 
-00009a10: 3d20 7365 6c66 2e72 656e 6465 7265 722e  = self.renderer.
-00009a20: 4765 7441 6374 6976 6543 616d 6572 6128  GetActiveCamera(
-00009a30: 290a 0a20 2020 2020 2020 2020 2020 2073  )..            s
-00009a40: 656c 662e 7265 6e64 6572 6572 2e43 6f6d  elf.renderer.Com
-00009a50: 7075 7465 4173 7065 6374 2829 0a20 2020  puteAspect().   
-00009a60: 2020 2020 2020 2020 2061 7370 6563 7420           aspect 
-00009a70: 3d20 7365 6c66 2e72 656e 6465 7265 722e  = self.renderer.
-00009a80: 4765 7441 7370 6563 7428 290a 2020 2020  GetAspect().    
-00009a90: 2020 2020 2020 2020 616e 676c 6520 3d20          angle = 
-00009aa0: 6e70 2e70 6920 2a20 6361 6d2e 4765 7456  np.pi * cam.GetV
-00009ab0: 6965 7741 6e67 6c65 2829 202f 2031 3830  iewAngle() / 180
-00009ac0: 2e30 0a20 2020 2020 2020 2020 2020 2064  .0.            d
-00009ad0: 782c 2064 7920 3d20 2878 3120 2d20 7830  x, dy = (x1 - x0
-00009ae0: 2920 2a20 302e 3939 392c 2028 7931 202d  ) * 0.999, (y1 -
-00009af0: 2079 3029 202a 2030 2e39 3939 0a20 2020   y0) * 0.999.   
-00009b00: 2020 2020 2020 2020 2064 6973 7420 3d20           dist = 
-00009b10: 6d61 7828 6478 202f 2061 7370 6563 745b  max(dx / aspect[
-00009b20: 305d 2c20 6479 2920 2f20 6e70 2e73 696e  0], dy) / np.sin
-00009b30: 2861 6e67 6c65 202f 2032 2920 2f20 320a  (angle / 2) / 2.
-00009b40: 0a20 2020 2020 2020 2020 2020 2063 616d  .            cam
-00009b50: 2e53 6574 5669 6577 5570 2830 2c20 312c  .SetViewUp(0, 1,
-00009b60: 2030 290a 2020 2020 2020 2020 2020 2020   0).            
-00009b70: 6361 6d2e 5365 7450 6f73 6974 696f 6e28  cam.SetPosition(
-00009b80: 7830 202b 2064 7820 2f20 322c 2079 3020  x0 + dx / 2, y0 
-00009b90: 2b20 6479 202f 2032 2c20 6469 7374 202a  + dy / 2, dist *
-00009ba0: 2028 3120 2b20 7469 6768 7429 290a 2020   (1 + tight)).  
-00009bb0: 2020 2020 2020 2020 2020 6361 6d2e 5365            cam.Se
-00009bc0: 7446 6f63 616c 506f 696e 7428 7830 202b  tFocalPoint(x0 +
-00009bd0: 2064 7820 2f20 322c 2079 3020 2b20 6479   dx / 2, y0 + dy
-00009be0: 202f 2032 2c20 3029 0a20 2020 2020 2020   / 2, 0).       
-00009bf0: 2020 2020 2069 6620 6361 6d2e 4765 7450       if cam.GetP
-00009c00: 6172 616c 6c65 6c50 726f 6a65 6374 696f  arallelProjectio
-00009c10: 6e28 293a 0a20 2020 2020 2020 2020 2020  n():.           
-00009c20: 2020 2020 2070 7320 3d20 6d61 7828 6478       ps = max(dx
-00009c30: 202f 2061 7370 6563 745b 305d 2c20 6479   / aspect[0], dy
-00009c40: 2920 2f20 320a 2020 2020 2020 2020 2020  ) / 2.          
-00009c50: 2020 2020 2020 6361 6d2e 5365 7450 6172        cam.SetPar
-00009c60: 616c 6c65 6c53 6361 6c65 2870 7320 2a20  allelScale(ps * 
-00009c70: 2831 202b 2074 6967 6874 2929 0a20 2020  (1 + tight)).   
-00009c80: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-00009c90: 6e64 6572 6572 2e52 6573 6574 4361 6d65  nderer.ResetCame
-00009ca0: 7261 436c 6970 7069 6e67 5261 6e67 6528  raClippingRange(
-00009cb0: 7830 2c20 7831 2c20 7930 2c20 7931 2c20  x0, x1, y0, y1, 
-00009cc0: 7a30 2c20 7a31 290a 2020 2020 2020 2020  z0, z1).        
-00009cd0: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00009ce0: 2064 6566 2072 6573 6574 5f76 6965 7775   def reset_viewu
-00009cf0: 7028 7365 6c66 2c20 736d 6f6f 7468 3d54  p(self, smooth=T
-00009d00: 7275 6529 3a0a 2020 2020 2020 2020 2222  rue):.        ""
-00009d10: 220a 2020 2020 2020 2020 5265 7365 7420  ".        Reset 
-00009d20: 7468 6520 6f72 6965 6e74 6174 696f 6e20  the orientation 
-00009d30: 6f66 2074 6865 2063 616d 6572 6120 746f  of the camera to
-00009d40: 2074 6865 2063 6c6f 7365 7374 206f 7274   the closest ort
-00009d50: 686f 676f 6e61 6c20 6469 7265 6374 696f  hogonal directio
-00009d60: 6e20 616e 6420 7669 6577 2d75 702e 0a20  n and view-up.. 
-00009d70: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00009d80: 2020 2076 6262 2c20 7369 7a65 732c 205f     vbb, sizes, _
-00009d90: 2c20 5f20 3d20 6164 646f 6e73 2e63 6f6d  , _ = addons.com
-00009da0: 7075 7465 5f76 6973 6962 6c65 5f62 6f75  pute_visible_bou
-00009db0: 6e64 7328 290a 2020 2020 2020 2020 7830  nds().        x0
-00009dc0: 2c78 312c 2079 302c 7931 2c20 7a30 2c7a  ,x1, y0,y1, z0,z
-00009dd0: 3120 3d20 7662 620a 2020 2020 2020 2020  1 = vbb.        
-00009de0: 6d78 2c20 6d79 2c20 6d7a 203d 2028 7830  mx, my, mz = (x0
-00009df0: 2b78 3129 2f32 2c20 2879 302b 7931 292f  +x1)/2, (y0+y1)/
-00009e00: 322c 2028 7a30 2b7a 3129 2f32 0a20 2020  2, (z0+z1)/2.   
-00009e10: 2020 2020 2064 203d 2073 656c 662e 6361       d = self.ca
-00009e20: 6d65 7261 2e47 6574 4469 7374 616e 6365  mera.GetDistance
-00009e30: 2829 0a0a 2020 2020 2020 2020 7669 6577  ()..        view
-00009e40: 7570 7320 3d20 6e70 2e61 7272 6179 285b  ups = np.array([
-00009e50: 0a20 2020 2020 2020 2020 2020 2028 302c  .            (0,
-00009e60: 2031 2c20 3029 2c20 2820 302c 202d 312c   1, 0), ( 0, -1,
-00009e70: 2020 3029 2c0a 2020 2020 2020 2020 2020    0),.          
-00009e80: 2020 2830 2c20 302c 2031 292c 2028 2030    (0, 0, 1), ( 0
-00009e90: 2c20 2030 2c20 2d31 292c 0a20 2020 2020  ,  0, -1),.     
-00009ea0: 2020 2020 2020 2028 312c 2030 2c20 3029         (1, 0, 0)
-00009eb0: 2c20 282d 312c 2020 302c 2020 3029 2c0a  , (-1,  0,  0),.
-00009ec0: 2020 2020 2020 2020 5d29 0a20 2020 2020          ]).     
-00009ed0: 2020 2070 6f73 6974 696f 6e73 203d 206e     positions = n
-00009ee0: 702e 6172 7261 7928 5b0a 2020 2020 2020  p.array([.      
-00009ef0: 2020 2020 2020 286d 782c 206d 792c 206d        (mx, my, m
-00009f00: 7a2b 6429 2c20 286d 782c 206d 792c 206d  z+d), (mx, my, m
-00009f10: 7a2d 6429 2c0a 2020 2020 2020 2020 2020  z-d),.          
-00009f20: 2020 286d 782c 206d 792b 642c 206d 7a29    (mx, my+d, mz)
-00009f30: 2c20 286d 782c 206d 792d 642c 206d 7a29  , (mx, my-d, mz)
-00009f40: 2c0a 2020 2020 2020 2020 2020 2020 286d  ,.            (m
-00009f50: 782b 642c 206d 792c 206d 7a29 2c20 286d  x+d, my, mz), (m
-00009f60: 782d 642c 206d 792c 206d 7a29 2c0a 2020  x-d, my, mz),.  
-00009f70: 2020 2020 2020 5d29 0a0a 2020 2020 2020        ])..      
-00009f80: 2020 7675 203d 206e 702e 6172 7261 7928    vu = np.array(
-00009f90: 7365 6c66 2e63 616d 6572 612e 4765 7456  self.camera.GetV
-00009fa0: 6965 7755 7028 2929 0a20 2020 2020 2020  iewUp()).       
-00009fb0: 2076 7569 203d 206e 702e 6172 676d 696e   vui = np.argmin
-00009fc0: 286e 702e 6c69 6e61 6c67 2e6e 6f72 6d28  (np.linalg.norm(
-00009fd0: 7669 6577 7570 732d 7675 2c20 6178 6973  viewups-vu, axis
-00009fe0: 3d31 2929 0a0a 2020 2020 2020 2020 706f  =1))..        po
-00009ff0: 6320 3d20 6e70 2e61 7272 6179 2873 656c  c = np.array(sel
-0000a000: 662e 6361 6d65 7261 2e47 6574 506f 7369  f.camera.GetPosi
-0000a010: 7469 6f6e 2829 290a 2020 2020 2020 2020  tion()).        
-0000a020: 666f 6320 3d20 6e70 2e61 7272 6179 2873  foc = np.array(s
-0000a030: 656c 662e 6361 6d65 7261 2e47 6574 466f  elf.camera.GetFo
-0000a040: 6361 6c50 6f69 6e74 2829 290a 2020 2020  calPoint()).    
-0000a050: 2020 2020 6120 3d20 706f 6320 2d20 666f      a = poc - fo
-0000a060: 630a 2020 2020 2020 2020 6220 3d20 706f  c.        b = po
-0000a070: 7369 7469 6f6e 7320 2d20 666f 630a 2020  sitions - foc.  
-0000a080: 2020 2020 2020 6120 3d20 6120 2f20 6e70        a = a / np
-0000a090: 2e6c 696e 616c 672e 6e6f 726d 2861 290a  .linalg.norm(a).
-0000a0a0: 2020 2020 2020 2020 6220 3d20 622e 5420          b = b.T 
-0000a0b0: 2a20 2831 2f6e 702e 6c69 6e61 6c67 2e6e  * (1/np.linalg.n
-0000a0c0: 6f72 6d28 622c 2061 7869 733d 3129 290a  orm(b, axis=1)).
-0000a0d0: 2020 2020 2020 2020 7075 6920 3d20 6e70          pui = np
-0000a0e0: 2e61 7267 6d69 6e28 6e70 2e6c 696e 616c  .argmin(np.linal
-0000a0f0: 672e 6e6f 726d 2862 2e54 202d 2061 2c20  g.norm(b.T - a, 
-0000a100: 6178 6973 3d31 2929 0a0a 2020 2020 2020  axis=1))..      
-0000a110: 2020 6966 2073 6d6f 6f74 683a 0a20 2020    if smooth:.   
-0000a120: 2020 2020 2020 2020 206f 7574 7469 6d65           outtime
-0000a130: 7320 3d20 6e70 2e6c 696e 7370 6163 6528  s = np.linspace(
-0000a140: 302c 312c 206e 756d 3d31 312c 2065 6e64  0,1, num=11, end
-0000a150: 706f 696e 743d 5472 7565 290a 2020 2020  point=True).    
-0000a160: 2020 2020 2020 2020 666f 7220 7420 696e          for t in
-0000a170: 206f 7574 7469 6d65 733a 0a20 2020 2020   outtimes:.     
-0000a180: 2020 2020 2020 2020 2020 2076 7620 3d20             vv = 
-0000a190: 7675 2020 2a20 2831 2d74 2920 2b20 7669  vu  * (1-t) + vi
-0000a1a0: 6577 7570 735b 7675 695d 202a 2074 0a20  ewups[vui] * t. 
-0000a1b0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0000a1c0: 7020 3d20 706f 6320 2a20 2831 2d74 2920  p = poc * (1-t) 
-0000a1d0: 2b20 706f 7369 7469 6f6e 735b 7075 695d  + positions[pui]
-0000a1e0: 202a 2074 0a20 2020 2020 2020 2020 2020   * t.           
-0000a1f0: 2020 2020 2066 6620 3d20 666f 6320 2a20       ff = foc * 
-0000a200: 2831 2d74 2920 2b20 6e70 2e61 7272 6179  (1-t) + np.array
-0000a210: 285b 6d78 2c6d 792c 6d7a 5d29 202a 2074  ([mx,my,mz]) * t
-0000a220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a230: 2073 656c 662e 6361 6d65 7261 2e53 6574   self.camera.Set
-0000a240: 5669 6577 5570 2876 7629 0a20 2020 2020  ViewUp(vv).     
-0000a250: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000a260: 6361 6d65 7261 2e53 6574 506f 7369 7469  camera.SetPositi
-0000a270: 6f6e 2870 7029 0a20 2020 2020 2020 2020  on(pp).         
-0000a280: 2020 2020 2020 2073 656c 662e 6361 6d65         self.came
-0000a290: 7261 2e53 6574 466f 6361 6c50 6f69 6e74  ra.SetFocalPoint
-0000a2a0: 2866 6629 0a20 2020 2020 2020 2020 2020  (ff).           
-0000a2b0: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-0000a2c0: 2829 0a0a 2020 2020 2020 2020 2020 2020  ()..            
-0000a2d0: 2320 696e 7465 7270 6f6c 6174 6f72 2064  # interpolator d
-0000a2e0: 6f65 7320 6e6f 7420 7265 7370 6563 7420  oes not respect 
-0000a2f0: 7061 7261 6c6c 656c 2076 6965 772e 2e2e  parallel view...
-0000a300: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
-0000a310: 6361 6d31 203d 2064 6963 7428 0a20 2020  cam1 = dict(.   
-0000a320: 2020 2020 2020 2020 2023 2020 2020 2070           #     p
-0000a330: 6f73 3d70 6f63 2c0a 2020 2020 2020 2020  os=poc,.        
-0000a340: 2020 2020 2320 2020 2020 7669 6577 7570      #     viewup
-0000a350: 3d76 752c 0a20 2020 2020 2020 2020 2020  =vu,.           
-0000a360: 2023 2020 2020 2066 6f63 616c 5f70 6f69   #     focal_poi
-0000a370: 6e74 3d28 6d78 2c6d 792c 6d7a 292c 0a20  nt=(mx,my,mz),. 
-0000a380: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0000a390: 2063 6c69 7070 696e 675f 7261 6e67 653d   clipping_range=
-0000a3a0: 7365 6c66 2e63 616d 6572 612e 4765 7443  self.camera.GetC
-0000a3b0: 6c69 7070 696e 6752 616e 6765 2829 0a20  lippingRange(). 
-0000a3c0: 2020 2020 2020 2020 2020 2023 2029 0a20             # ). 
-0000a3d0: 2020 2020 2020 2020 2020 2023 2023 2063             # # c
-0000a3e0: 616d 3120 3d20 7365 6c66 2e63 616d 6572  am1 = self.camer
-0000a3f0: 610a 2020 2020 2020 2020 2020 2020 2320  a.            # 
-0000a400: 6361 6d32 203d 2064 6963 7428 0a20 2020  cam2 = dict(.   
-0000a410: 2020 2020 2020 2020 2023 2020 2020 2070           #     p
-0000a420: 6f73 3d70 6f73 6974 696f 6e73 5b70 7569  os=positions[pui
-0000a430: 5d2c 0a20 2020 2020 2020 2020 2020 2023  ],.            #
-0000a440: 2020 2020 2076 6965 7775 703d 7669 6577       viewup=view
-0000a450: 7570 735b 7675 695d 2c0a 2020 2020 2020  ups[vui],.      
-0000a460: 2020 2020 2020 2320 2020 2020 666f 6361        #     foca
-0000a470: 6c5f 706f 696e 743d 286d 782c 6d79 2c6d  l_point=(mx,my,m
-0000a480: 7a29 2c0a 2020 2020 2020 2020 2020 2020  z),.            
-0000a490: 2320 2020 2020 636c 6970 7069 6e67 5f72  #     clipping_r
-0000a4a0: 616e 6765 3d73 656c 662e 6361 6d65 7261  ange=self.camera
-0000a4b0: 2e47 6574 436c 6970 7069 6e67 5261 6e67  .GetClippingRang
-0000a4c0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-0000a4d0: 2320 290a 2020 2020 2020 2020 2020 2020  # ).            
-0000a4e0: 2320 7663 616d 7320 3d20 7365 6c66 2e6d  # vcams = self.m
-0000a4f0: 6f76 655f 6361 6d65 7261 285b 6361 6d31  ove_camera([cam1
-0000a500: 2c20 6361 6d32 5d2c 206f 7574 7075 745f  , cam2], output_
-0000a510: 7469 6d65 733d 6f75 7474 696d 6573 2c20  times=outtimes, 
-0000a520: 736d 6f6f 7468 3d30 290a 2020 2020 2020  smooth=0).      
-0000a530: 2020 2020 2020 2320 666f 7220 6320 696e        # for c in
-0000a540: 2076 6361 6d73 3a0a 2020 2020 2020 2020   vcams:.        
-0000a550: 2020 2020 2320 2020 2020 7365 6c66 2e72      #     self.r
-0000a560: 656e 6465 7265 722e 5365 7441 6374 6976  enderer.SetActiv
-0000a570: 6543 616d 6572 6128 6329 0a20 2020 2020  eCamera(c).     
-0000a580: 2020 2020 2020 2023 2020 2020 2073 656c         #     sel
-0000a590: 662e 7265 6e64 6572 2829 0a20 2020 2020  f.render().     
-0000a5a0: 2020 2065 6c73 653a 0a0a 2020 2020 2020     else:..      
-0000a5b0: 2020 2020 2020 7365 6c66 2e63 616d 6572        self.camer
-0000a5c0: 612e 5365 7456 6965 7755 7028 7669 6577  a.SetViewUp(view
-0000a5d0: 7570 735b 7675 695d 290a 2020 2020 2020  ups[vui]).      
-0000a5e0: 2020 2020 2020 7365 6c66 2e63 616d 6572        self.camer
-0000a5f0: 612e 5365 7450 6f73 6974 696f 6e28 706f  a.SetPosition(po
-0000a600: 7369 7469 6f6e 735b 7075 695d 290a 2020  sitions[pui]).  
-0000a610: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-0000a620: 616d 6572 612e 5365 7446 6f63 616c 506f  amera.SetFocalPo
-0000a630: 696e 7428 6d78 2c6d 792c 6d7a 290a 2020  int(mx,my,mz).  
-0000a640: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-0000a650: 656e 6465 7228 290a 0a20 2020 2020 2020  ender()..       
-0000a660: 2073 656c 662e 7265 6e64 6572 6572 2e52   self.renderer.R
-0000a670: 6573 6574 4361 6d65 7261 436c 6970 7069  esetCameraClippi
-0000a680: 6e67 5261 6e67 6528 290a 2020 2020 2020  ngRange().      
-0000a690: 2020 7365 6c66 2e72 656e 6465 7228 290a    self.render().
-0000a6a0: 2020 2020 2020 2020 2320 7662 622c 205f          # vbb, _
-0000a6b0: 2c20 5f2c 205f 203d 2061 6464 6f6e 732e  , _, _ = addons.
-0000a6c0: 636f 6d70 7574 655f 7669 7369 626c 655f  compute_visible_
-0000a6d0: 626f 756e 6473 2829 0a20 2020 2020 2020  bounds().       
-0000a6e0: 2023 2078 302c 7831 2c20 7930 2c79 312c   # x0,x1, y0,y1,
-0000a6f0: 207a 302c 7a31 203d 2076 6262 0a20 2020   z0,z1 = vbb.   
-0000a700: 2020 2020 2023 2073 656c 662e 7265 6e64       # self.rend
-0000a710: 6572 6572 2e52 6573 6574 4361 6d65 7261  erer.ResetCamera
-0000a720: 436c 6970 7069 6e67 5261 6e67 6528 7830  ClippingRange(x0
-0000a730: 2c20 7831 2c20 7930 2c20 7931 2c20 7a30  , x1, y0, y1, z0
-0000a740: 2c20 7a31 290a 2020 2020 2020 2020 2320  , z1).        # 
-0000a750: 7365 6c66 2e72 656e 6465 7228 290a 0a20  self.render().. 
-0000a760: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-0000a770: 6c66 0a0a 2020 2020 6465 6620 6d6f 7665  lf..    def move
-0000a780: 5f63 616d 6572 6128 7365 6c66 2c20 6361  _camera(self, ca
-0000a790: 6d65 7261 732c 2074 3d30 2c20 7469 6d65  meras, t=0, time
-0000a7a0: 733d 2829 2c20 736d 6f6f 7468 3d54 7275  s=(), smooth=Tru
-0000a7b0: 652c 206f 7574 7075 745f 7469 6d65 733d  e, output_times=
-0000a7c0: 2829 293a 0a20 2020 2020 2020 2022 2222  ()):.        """
-0000a7d0: 0a20 2020 2020 2020 2054 616b 6573 2061  .        Takes a
-0000a7e0: 7320 696e 7075 7420 7477 6f20 6361 6d65  s input two came
-0000a7f0: 7261 7320 7365 7420 6361 6d65 7261 2061  ras set camera a
-0000a800: 7420 616e 2069 6e74 6572 706f 6c61 7465  t an interpolate
-0000a810: 6420 706f 7369 7469 6f6e 3a0a 0a20 2020  d position:..   
-0000a820: 2020 2020 2043 616d 6572 6173 2063 616e       Cameras can
-0000a830: 2062 6520 7674 6b43 616d 6572 6120 6f72   be vtkCamera or
-0000a840: 2064 6963 7469 6f6e 6172 6965 7320 696e   dictionaries in
-0000a850: 2066 6f72 6d61 743a 0a0a 2020 2020 2020   format:..      
-0000a860: 2020 2020 2020 6064 6963 7428 706f 733d        `dict(pos=
-0000a870: 2e2e 2e2c 2066 6f63 616c 5f70 6f69 6e74  ..., focal_point
-0000a880: 3d2e 2e2e 2c20 7669 6577 7570 3d2e 2e2e  =..., viewup=...
-0000a890: 2c20 6469 7374 616e 6365 3d2e 2e2e 2c20  , distance=..., 
-0000a8a0: 636c 6970 7069 6e67 5f72 616e 6765 3d2e  clipping_range=.
-0000a8b0: 2e2e 2960 0a0a 2020 2020 2020 2020 5072  ..)`..        Pr
-0000a8c0: 6573 7320 6073 6869 6674 2d43 6020 6b65  ess `shift-C` ke
-0000a8d0: 7920 696e 2069 6e74 6572 6163 7469 7665  y in interactive
-0000a8e0: 206d 6f64 6520 746f 2064 756d 7020 6120   mode to dump a 
-0000a8f0: 7079 7468 6f6e 2073 6e69 7070 6c65 740a  python snipplet.
-0000a900: 2020 2020 2020 2020 6f66 2070 6172 616d          of param
-0000a910: 6574 6572 7320 666f 7220 7468 6520 6375  eters for the cu
-0000a920: 7272 656e 7420 6361 6d65 7261 2076 6965  rrent camera vie
-0000a930: 772e 0a20 2020 2020 2020 2022 2222 0a20  w..        """. 
-0000a940: 2020 2020 2020 206e 6320 3d20 6c65 6e28         nc = len(
-0000a950: 6361 6d65 7261 7329 0a20 2020 2020 2020  cameras).       
-0000a960: 2069 6620 6c65 6e28 7469 6d65 7329 203d   if len(times) =
-0000a970: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
-0000a980: 2074 696d 6573 203d 206e 702e 6c69 6e73   times = np.lins
-0000a990: 7061 6365 2830 2c20 312c 206e 756d 3d6e  pace(0, 1, num=n
-0000a9a0: 632c 2065 6e64 706f 696e 743d 5472 7565  c, endpoint=True
-0000a9b0: 290a 0a20 2020 2020 2020 2061 7373 6572  )..        asser
-0000a9c0: 7420 6c65 6e28 7469 6d65 7329 203d 3d20  t len(times) == 
-0000a9d0: 6e63 0a0a 2020 2020 2020 2020 6369 6e20  nc..        cin 
-0000a9e0: 3d20 7674 6b2e 7674 6b43 616d 6572 6149  = vtk.vtkCameraI
-0000a9f0: 6e74 6572 706f 6c61 746f 7228 290a 0a20  nterpolator().. 
-0000aa00: 2020 2020 2020 2023 2063 696e 2e53 6574         # cin.Set
-0000aa10: 496e 7465 7270 6f6c 6174 696f 6e54 7970  InterpolationTyp
-0000aa20: 6554 6f4c 696e 6561 7228 2920 2320 6275  eToLinear() # bu
-0000aa30: 6767 6564 3f0a 2020 2020 2020 2020 6966  gged?.        if
-0000aa40: 206e 6320 3e20 3220 616e 6420 736d 6f6f   nc > 2 and smoo
-0000aa50: 7468 3a0a 2020 2020 2020 2020 2020 2020  th:.            
-0000aa60: 6369 6e2e 5365 7449 6e74 6572 706f 6c61  cin.SetInterpola
-0000aa70: 7469 6f6e 5479 7065 546f 5370 6c69 6e65  tionTypeToSpline
-0000aa80: 2829 0a0a 2020 2020 2020 2020 666f 7220  ()..        for 
-0000aa90: 692c 2063 616d 2069 6e20 656e 756d 6572  i, cam in enumer
-0000aaa0: 6174 6528 6361 6d65 7261 7329 3a0a 2020  ate(cameras):.  
-0000aab0: 2020 2020 2020 2020 2020 7663 616d 203d            vcam =
-0000aac0: 2063 616d 0a20 2020 2020 2020 2020 2020   cam.           
-0000aad0: 2069 6620 6973 696e 7374 616e 6365 2863   if isinstance(c
-0000aae0: 616d 2c20 6469 6374 293a 0a20 2020 2020  am, dict):.     
-0000aaf0: 2020 2020 2020 2020 2020 2076 6361 6d20             vcam 
-0000ab00: 3d20 7574 696c 732e 6361 6d65 7261 5f66  = utils.camera_f
-0000ab10: 726f 6d5f 6469 6374 2863 616d 290a 2020  rom_dict(cam).  
-0000ab20: 2020 2020 2020 2020 2020 6369 6e2e 4164            cin.Ad
-0000ab30: 6443 616d 6572 6128 7469 6d65 735b 695d  dCamera(times[i]
-0000ab40: 2c20 7663 616d 290a 0a20 2020 2020 2020  , vcam)..       
-0000ab50: 206d 696e 742c 206d 6178 7420 3d20 6369   mint, maxt = ci
-0000ab60: 6e2e 4765 744d 696e 696d 756d 5428 292c  n.GetMinimumT(),
-0000ab70: 2063 696e 2e47 6574 4d61 7869 6d75 6d54   cin.GetMaximumT
-0000ab80: 2829 0a20 2020 2020 2020 2072 6e67 203d  ().        rng =
-0000ab90: 206d 6178 7420 2d20 6d69 6e74 0a0a 2020   maxt - mint..  
-0000aba0: 2020 2020 2020 6966 206c 656e 286f 7574        if len(out
-0000abb0: 7075 745f 7469 6d65 7329 203d 3d20 303a  put_times) == 0:
-0000abc0: 0a20 2020 2020 2020 2020 2020 2063 696e  .            cin
-0000abd0: 2e49 6e74 6572 706f 6c61 7465 4361 6d65  .InterpolateCame
-0000abe0: 7261 2874 202a 2072 6e67 2c20 7365 6c66  ra(t * rng, self
-0000abf0: 2e63 616d 6572 6129 0a20 2020 2020 2020  .camera).       
-0000ac00: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-0000ac10: 6572 2e53 6574 4163 7469 7665 4361 6d65  er.SetActiveCame
-0000ac20: 7261 2873 656c 662e 6361 6d65 7261 290a  ra(self.camera).
-0000ac30: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000ac40: 726e 205b 7365 6c66 2e63 616d 6572 615d  rn [self.camera]
-0000ac50: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0000ac60: 2020 2020 2020 2020 2020 2076 6361 6d73             vcams
-0000ac70: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
-0000ac80: 2020 666f 7220 7420 696e 206f 7574 7075    for t in outpu
-0000ac90: 745f 7469 6d65 733a 0a20 2020 2020 2020  t_times:.       
-0000aca0: 2020 2020 2020 2020 2063 203d 2076 746b           c = vtk
-0000acb0: 2e76 746b 4361 6d65 7261 2829 0a20 2020  .vtkCamera().   
-0000acc0: 2020 2020 2020 2020 2020 2020 2063 696e               cin
-0000acd0: 2e49 6e74 6572 706f 6c61 7465 4361 6d65  .InterpolateCame
-0000ace0: 7261 2874 202a 2072 6e67 2c20 6329 0a20  ra(t * rng, c). 
-0000acf0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0000ad00: 6361 6d73 2e61 7070 656e 6428 6329 0a20  cams.append(c). 
-0000ad10: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000ad20: 6e20 7663 616d 730a 0a20 2020 2064 6566  n vcams..    def
-0000ad30: 2066 6c79 5f74 6f28 7365 6c66 2c20 706f   fly_to(self, po
-0000ad40: 696e 7429 3a0a 2020 2020 2020 2020 2222  int):.        ""
-0000ad50: 220a 2020 2020 2020 2020 466c 7920 6361  ".        Fly ca
-0000ad60: 6d65 7261 2074 6f20 7468 6520 7370 6563  mera to the spec
-0000ad70: 6966 6965 6420 706f 696e 742e 0a0a 2020  ified point...  
-0000ad80: 2020 2020 2020 4172 6775 6d65 6e74 733a        Arguments:
-0000ad90: 0a20 2020 2020 2020 2020 2020 2070 6f69  .            poi
-0000ada0: 6e74 203a 2028 6c69 7374 290a 2020 2020  nt : (list).    
-0000adb0: 2020 2020 2020 2020 2020 2020 706f 696e              poin
-0000adc0: 7420 696e 2073 7061 6365 2074 6f20 706c  t in space to pl
-0000add0: 6163 6520 6361 6d65 7261 2e0a 0a20 2020  ace camera...   
-0000ade0: 2020 2020 2045 7861 6d70 6c65 3a0a 2020       Example:.  
-0000adf0: 2020 2020 2020 2020 2020 6060 6070 7974            ```pyt
-0000ae00: 686f 6e0a 2020 2020 2020 2020 2020 2020  hon.            
-0000ae10: 6672 6f6d 2076 6564 6f20 696d 706f 7274  from vedo import
-0000ae20: 202a 0a20 2020 2020 2020 2020 2020 2063   *.            c
-0000ae30: 6f6e 6520 3d20 436f 6e65 2829 0a20 2020  one = Cone().   
-0000ae40: 2020 2020 2020 2020 2070 6c74 203d 2050           plt = P
-0000ae50: 6c6f 7474 6572 2861 7865 733d 3129 0a20  lotter(axes=1). 
-0000ae60: 2020 2020 2020 2020 2020 2070 6c74 2e73             plt.s
-0000ae70: 686f 7728 636f 6e65 290a 2020 2020 2020  how(cone).      
-0000ae80: 2020 2020 2020 706c 742e 666c 795f 746f        plt.fly_to
-0000ae90: 285b 312c 302c 305d 290a 2020 2020 2020  ([1,0,0]).      
-0000aea0: 2020 2020 2020 706c 742e 696e 7465 7261        plt.intera
-0000aeb0: 6374 6976 6528 292e 636c 6f73 6528 290a  ctive().close().
-0000aec0: 2020 2020 2020 2020 2020 2020 6060 600a              ```.
-0000aed0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000aee0: 2020 2020 6966 2073 656c 662e 696e 7465      if self.inte
-0000aef0: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
-0000af00: 2020 2020 7365 6c66 2e72 6573 6574 6361      self.resetca
-0000af10: 6d20 3d20 4661 6c73 650a 2020 2020 2020  m = False.      
-0000af20: 2020 2020 2020 7365 6c66 2e69 6e74 6572        self.inter
-0000af30: 6163 746f 722e 466c 7954 6f28 7365 6c66  actor.FlyTo(self
-0000af40: 2e72 656e 6465 7265 722c 2070 6f69 6e74  .renderer, point
-0000af50: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0000af60: 6c66 2e63 616d 6572 6120 3d20 7365 6c66  lf.camera = self
-0000af70: 2e72 656e 6465 7265 722e 4765 7441 6374  .renderer.GetAct
-0000af80: 6976 6543 616d 6572 6128 290a 2020 2020  iveCamera().    
-0000af90: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-0000afa0: 0a20 2020 2064 6566 206c 6f6f 6b5f 6174  .    def look_at
-0000afb0: 2873 656c 662c 2070 6c61 6e65 3d22 7879  (self, plane="xy
-0000afc0: 2229 3a0a 2020 2020 2020 2020 2222 224d  "):.        """M
-0000afd0: 6f76 6520 7468 6520 6361 6d65 7261 2073  ove the camera s
-0000afe0: 6f20 7468 6174 2069 7420 6c6f 6f6b 7320  o that it looks 
-0000aff0: 6174 2074 6865 2073 7065 6369 6669 6564  at the specified
-0000b000: 2063 6172 7465 7369 616e 2070 6c61 6e65   cartesian plane
-0000b010: 2222 220a 2020 2020 2020 2020 6361 6d20  """.        cam 
-0000b020: 3d20 7365 6c66 2e72 656e 6465 7265 722e  = self.renderer.
-0000b030: 4765 7441 6374 6976 6543 616d 6572 6128  GetActiveCamera(
-0000b040: 290a 2020 2020 2020 2020 6670 203d 206e  ).        fp = n
-0000b050: 702e 6172 7261 7928 6361 6d2e 4765 7446  p.array(cam.GetF
-0000b060: 6f63 616c 506f 696e 7428 2929 0a20 2020  ocalPoint()).   
-0000b070: 2020 2020 2070 203d 206e 702e 6172 7261       p = np.arra
-0000b080: 7928 6361 6d2e 4765 7450 6f73 6974 696f  y(cam.GetPositio
-0000b090: 6e28 2929 0a20 2020 2020 2020 2064 6973  n()).        dis
-0000b0a0: 7420 3d20 6e70 2e6c 696e 616c 672e 6e6f  t = np.linalg.no
-0000b0b0: 726d 2866 7020 2d20 7029 0a20 2020 2020  rm(fp - p).     
-0000b0c0: 2020 2070 6c61 6e65 203d 2070 6c61 6e65     plane = plane
-0000b0d0: 2e6c 6f77 6572 2829 0a20 2020 2020 2020  .lower().       
-0000b0e0: 2069 6620 2278 2220 696e 2070 6c61 6e65   if "x" in plane
-0000b0f0: 2061 6e64 2022 7922 2069 6e20 706c 616e   and "y" in plan
-0000b100: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
-0000b110: 616d 2e53 6574 506f 7369 7469 6f6e 2866  am.SetPosition(f
-0000b120: 705b 305d 2c20 6670 5b31 5d2c 2066 705b  p[0], fp[1], fp[
-0000b130: 325d 202b 2064 6973 7429 0a20 2020 2020  2] + dist).     
-0000b140: 2020 2020 2020 2063 616d 2e53 6574 5669         cam.SetVi
-0000b150: 6577 5570 2830 2e30 2c20 312e 302c 2030  ewUp(0.0, 1.0, 0
-0000b160: 2e30 290a 2020 2020 2020 2020 656c 6966  .0).        elif
-0000b170: 2022 7822 2069 6e20 706c 616e 6520 616e   "x" in plane an
-0000b180: 6420 227a 2220 696e 2070 6c61 6e65 3a0a  d "z" in plane:.
-0000b190: 2020 2020 2020 2020 2020 2020 6361 6d2e              cam.
-0000b1a0: 5365 7450 6f73 6974 696f 6e28 6670 5b30  SetPosition(fp[0
-0000b1b0: 5d2c 2066 705b 315d 202d 2064 6973 742c  ], fp[1] - dist,
-0000b1c0: 2066 705b 325d 290a 2020 2020 2020 2020   fp[2]).        
-0000b1d0: 2020 2020 6361 6d2e 5365 7456 6965 7755      cam.SetViewU
-0000b1e0: 7028 302e 302c 2030 2e30 2c20 312e 3029  p(0.0, 0.0, 1.0)
-0000b1f0: 0a20 2020 2020 2020 2065 6c69 6620 2279  .        elif "y
-0000b200: 2220 696e 2070 6c61 6e65 2061 6e64 2022  " in plane and "
-0000b210: 7a22 2069 6e20 706c 616e 653a 0a20 2020  z" in plane:.   
-0000b220: 2020 2020 2020 2020 2063 616d 2e53 6574           cam.Set
-0000b230: 506f 7369 7469 6f6e 2866 705b 305d 202b  Position(fp[0] +
-0000b240: 2064 6973 742c 2066 705b 315d 2c20 6670   dist, fp[1], fp
-0000b250: 5b32 5d29 0a20 2020 2020 2020 2020 2020  [2]).           
-0000b260: 2063 616d 2e53 6574 5669 6577 5570 2830   cam.SetViewUp(0
-0000b270: 2e30 2c20 302e 302c 2031 2e30 290a 2020  .0, 0.0, 1.0).  
-0000b280: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000b290: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
-0000b2a0: 6765 722e 6572 726f 7228 6622 696e 2070  ger.error(f"in p
-0000b2b0: 6c6f 7474 6572 2e6c 6f6f 6b28 2920 6361  lotter.look() ca
-0000b2c0: 6e6e 6f74 2075 6e64 6572 7374 616e 6420  nnot understand 
-0000b2d0: 6172 6775 6d65 6e74 207b 706c 616e 657d  argument {plane}
-0000b2e0: 2229 0a20 2020 2020 2020 2072 6574 7572  ").        retur
-0000b2f0: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
-0000b300: 7265 636f 7264 2873 656c 662c 2066 696c  record(self, fil
-0000b310: 656e 616d 653d 222e 7665 646f 5f72 6563  ename=".vedo_rec
-0000b320: 6f72 6465 645f 6576 656e 7473 2e6c 6f67  orded_events.log
-0000b330: 2229 3a0a 2020 2020 2020 2020 2222 220a  "):.        """.
-0000b340: 2020 2020 2020 2020 5265 636f 7264 2063          Record c
-0000b350: 616d 6572 612c 206d 6f75 7365 2c20 6b65  amera, mouse, ke
-0000b360: 7973 7472 6f6b 6573 2061 6e64 2061 6c6c  ystrokes and all
-0000b370: 206f 7468 6572 2065 7665 6e74 732e 0a20   other events.. 
-0000b380: 2020 2020 2020 2052 6563 6f72 6469 6e67         Recording
-0000b390: 2063 616e 2062 6520 746f 6767 6c65 6420   can be toggled 
-0000b3a0: 6f6e 2f6f 6666 2062 7920 7072 6573 7369  on/off by pressi
-0000b3b0: 6e67 206b 6579 2022 5222 2e0a 0a20 2020  ng key "R"...   
-0000b3c0: 2020 2020 2041 7267 756d 656e 7473 3a0a       Arguments:.
-0000b3d0: 2020 2020 2020 2020 2020 2020 6669 6c65              file
-0000b3e0: 6e61 6d65 203a 2028 7374 7229 0a20 2020  name : (str).   
-0000b3f0: 2020 2020 2020 2020 2020 2020 2061 7363               asc
-0000b400: 6969 2066 696c 6520 746f 2073 746f 7265  ii file to store
-0000b410: 2065 7665 6e74 732e 2054 6865 2064 6566   events. The def
-0000b420: 6175 6c74 2069 7320 272e 7665 646f 5f72  ault is '.vedo_r
-0000b430: 6563 6f72 6465 645f 6576 656e 7473 2e6c  ecorded_events.l
-0000b440: 6f67 272e 0a0a 2020 2020 2020 2020 5265  og'...        Re
-0000b450: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0000b460: 2020 2061 2073 7472 696e 6720 6465 7363     a string desc
-0000b470: 7269 7074 6f72 206f 6620 6576 656e 7473  riptor of events
-0000b480: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
-0000b490: 6c65 733a 0a20 2020 2020 2020 2020 2020  les:.           
-0000b4a0: 202d 205b 7265 636f 7264 5f70 6c61 792e   - [record_play.
-0000b4b0: 7079 5d28 6874 7470 733a 2f2f 6769 7468  py](https://gith
-0000b4c0: 7562 2e63 6f6d 2f6d 6172 636f 6d75 7379  ub.com/marcomusy
-0000b4d0: 2f76 6564 6f2f 7472 6565 2f6d 6173 7465  /vedo/tree/maste
-0000b4e0: 722f 6578 616d 706c 6573 2f62 6173 6963  r/examples/basic
-0000b4f0: 2f72 6563 6f72 645f 706c 6179 2e70 7929  /record_play.py)
-0000b500: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000b510: 2020 2020 2065 7265 6320 3d20 7674 6b2e       erec = vtk.
-0000b520: 7674 6b49 6e74 6572 6163 746f 7245 7665  vtkInteractorEve
-0000b530: 6e74 5265 636f 7264 6572 2829 0a20 2020  ntRecorder().   
-0000b540: 2020 2020 2065 7265 632e 5365 7449 6e74       erec.SetInt
-0000b550: 6572 6163 746f 7228 7365 6c66 2e69 6e74  eractor(self.int
-0000b560: 6572 6163 746f 7229 0a20 2020 2020 2020  eractor).       
-0000b570: 2065 7265 632e 5365 7446 696c 654e 616d   erec.SetFileNam
-0000b580: 6528 6669 6c65 6e61 6d65 290a 2020 2020  e(filename).    
-0000b590: 2020 2020 6572 6563 2e53 6574 4b65 7950      erec.SetKeyP
-0000b5a0: 7265 7373 4163 7469 7661 7469 6f6e 5661  ressActivationVa
-0000b5b0: 6c75 6528 2252 2229 0a20 2020 2020 2020  lue("R").       
-0000b5c0: 2065 7265 632e 456e 6162 6c65 644f 6e28   erec.EnabledOn(
-0000b5d0: 290a 2020 2020 2020 2020 6572 6563 2e52  ).        erec.R
-0000b5e0: 6563 6f72 6428 290a 2020 2020 2020 2020  ecord().        
-0000b5f0: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-0000b600: 5374 6172 7428 290a 2020 2020 2020 2020  Start().        
-0000b610: 6966 2076 6564 6f2e 7674 6b5f 7665 7273  if vedo.vtk_vers
-0000b620: 696f 6e20 3d3d 2028 392c 322c 3229 3a20  ion == (9,2,2): 
-0000b630: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-0000b640: 4765 7452 656e 6465 7257 696e 646f 7728  GetRenderWindow(
-0000b650: 292e 5365 7444 6973 706c 6179 4964 2822  ).SetDisplayId("
-0000b660: 5f30 5f70 5f76 6f69 6422 2920 2323 4841  _0_p_void") ##HA
-0000b670: 434b 0a20 2020 2020 2020 2065 7265 632e  CK.        erec.
-0000b680: 5374 6f70 2829 0a20 2020 2020 2020 2065  Stop().        e
-0000b690: 7265 632e 456e 6162 6c65 644f 6666 2829  rec.EnabledOff()
-0000b6a0: 0a20 2020 2020 2020 2077 6974 6820 6f70  .        with op
-0000b6b0: 656e 2866 696c 656e 616d 652c 2022 7222  en(filename, "r"
-0000b6c0: 2c20 656e 636f 6469 6e67 3d27 5554 462d  , encoding='UTF-
-0000b6d0: 3827 2920 6173 2066 6c3a 0a20 2020 2020  8') as fl:.     
-0000b6e0: 2020 2020 2020 2065 7665 6e74 7320 3d20         events = 
-0000b6f0: 666c 2e72 6561 6428 290a 2020 2020 2020  fl.read().      
-0000b700: 2020 6572 6563 203d 204e 6f6e 650a 2020    erec = None.  
-0000b710: 2020 2020 2020 7265 7475 726e 2065 7665        return eve
-0000b720: 6e74 730a 0a20 2020 2064 6566 2070 6c61  nts..    def pla
-0000b730: 7928 7365 6c66 2c20 6576 656e 7473 3d22  y(self, events="
-0000b740: 2e76 6564 6f5f 7265 636f 7264 6564 5f65  .vedo_recorded_e
-0000b750: 7665 6e74 732e 6c6f 6722 2c20 7265 7065  vents.log", repe
-0000b760: 6174 733d 3029 3a0a 2020 2020 2020 2020  ats=0):.        
-0000b770: 2222 220a 2020 2020 2020 2020 506c 6179  """.        Play
-0000b780: 2063 616d 6572 612c 206d 6f75 7365 2c20   camera, mouse, 
-0000b790: 6b65 7973 7472 6f6b 6573 2061 6e64 2061  keystrokes and a
-0000b7a0: 6c6c 206f 7468 6572 2065 7665 6e74 732e  ll other events.
-0000b7b0: 0a0a 2020 2020 2020 2020 4172 6775 6d65  ..        Argume
-0000b7c0: 6e74 733a 0a20 2020 2020 2020 2020 2020  nts:.           
-0000b7d0: 2065 7665 6e74 7320 3a20 2873 7472 290a   events : (str).
-0000b7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b7f0: 6669 6c65 206f 2073 7472 696e 6720 6f66  file o string of
-0000b800: 2065 7665 6e74 732e 2054 6865 2064 6566   events. The def
-0000b810: 6175 6c74 2069 7320 272e 7665 646f 5f72  ault is '.vedo_r
-0000b820: 6563 6f72 6465 645f 6576 656e 7473 2e6c  ecorded_events.l
-0000b830: 6f67 272e 0a20 2020 2020 2020 2020 2020  og'..           
-0000b840: 2072 6570 6561 7473 203a 2028 696e 7429   repeats : (int)
-0000b850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b860: 206e 756d 6265 7220 6f66 2065 7874 7261   number of extra
-0000b870: 2072 6570 6561 7473 206f 6620 7468 6520   repeats of the 
-0000b880: 7361 6d65 2065 7665 6e74 732e 2054 6865  same events. The
-0000b890: 2064 6566 6175 6c74 2069 7320 302e 0a0a   default is 0...
-0000b8a0: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
-0000b8b0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-0000b8c0: 5b72 6563 6f72 645f 706c 6179 2e70 795d  [record_play.py]
-0000b8d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000b8e0: 636f 6d2f 6d61 7263 6f6d 7573 792f 7665  com/marcomusy/ve
-0000b8f0: 646f 2f74 7265 652f 6d61 7374 6572 2f65  do/tree/master/e
-0000b900: 7861 6d70 6c65 732f 6261 7369 632f 7265  xamples/basic/re
-0000b910: 636f 7264 5f70 6c61 792e 7079 290a 2020  cord_play.py).  
-0000b920: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000b930: 2020 6572 6563 203d 2076 746b 2e76 746b    erec = vtk.vtk
-0000b940: 496e 7465 7261 6374 6f72 4576 656e 7452  InteractorEventR
-0000b950: 6563 6f72 6465 7228 290a 2020 2020 2020  ecorder().      
-0000b960: 2020 6572 6563 2e53 6574 496e 7465 7261    erec.SetIntera
-0000b970: 6374 6f72 2873 656c 662e 696e 7465 7261  ctor(self.intera
-0000b980: 6374 6f72 290a 0a20 2020 2020 2020 2069  ctor)..        i
-0000b990: 6620 6576 656e 7473 2e65 6e64 7377 6974  f events.endswit
-0000b9a0: 6828 222e 6c6f 6722 293a 0a20 2020 2020  h(".log"):.     
-0000b9b0: 2020 2020 2020 2065 7265 632e 5265 6164         erec.Read
-0000b9c0: 4672 6f6d 496e 7075 7453 7472 696e 674f  FromInputStringO
-0000b9d0: 6666 2829 0a20 2020 2020 2020 2020 2020  ff().           
-0000b9e0: 2065 7265 632e 5365 7446 696c 654e 616d   erec.SetFileNam
-0000b9f0: 6528 6576 656e 7473 290a 2020 2020 2020  e(events).      
-0000ba00: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0000ba10: 2020 2020 6572 6563 2e52 6561 6446 726f      erec.ReadFro
-0000ba20: 6d49 6e70 7574 5374 7269 6e67 4f6e 2829  mInputStringOn()
-0000ba30: 0a20 2020 2020 2020 2020 2020 2065 7265  .            ere
-0000ba40: 632e 5365 7449 6e70 7574 5374 7269 6e67  c.SetInputString
-0000ba50: 2865 7665 6e74 7329 0a0a 2020 2020 2020  (events)..      
-0000ba60: 2020 6572 6563 2e50 6c61 7928 290a 2020    erec.Play().  
-0000ba70: 2020 2020 2020 666f 7220 5f69 2069 6e20        for _i in 
-0000ba80: 7261 6e67 6528 7265 7065 6174 7329 3a0a  range(repeats):.
-0000ba90: 2020 2020 2020 2020 2020 2020 6572 6563              erec
-0000baa0: 2e52 6577 696e 6428 290a 2020 2020 2020  .Rewind().      
-0000bab0: 2020 2020 2020 6572 6563 2e50 6c61 7928        erec.Play(
-0000bac0: 290a 2020 2020 2020 2020 6572 6563 2e45  ).        erec.E
-0000bad0: 6e61 626c 6564 4f66 6628 290a 2020 2020  nabledOff().    
-0000bae0: 2020 2020 6572 6563 203d 204e 6f6e 650a      erec = None.
-0000baf0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0000bb00: 656c 660a 0a20 2020 2064 6566 2070 6172  elf..    def par
-0000bb10: 616c 6c65 6c5f 7072 6f6a 6563 7469 6f6e  allel_projection
-0000bb20: 2873 656c 662c 2076 616c 7565 3d54 7275  (self, value=Tru
-0000bb30: 652c 2061 743d 4e6f 6e65 293a 0a20 2020  e, at=None):.   
-0000bb40: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000bb50: 2055 7365 2070 6172 616c 6c65 6c20 7072   Use parallel pr
-0000bb60: 6f6a 6563 7469 6f6e 2060 6174 6020 6120  ojection `at` a 
-0000bb70: 7370 6563 6966 6965 6420 7265 6e64 6572  specified render
-0000bb80: 6572 2e0a 2020 2020 2020 2020 4f62 6a65  er..        Obje
-0000bb90: 6374 2069 7320 7365 656e 2066 726f 6d20  ct is seen from 
-0000bba0: 2269 6e66 696e 6974 6522 2064 6973 7461  "infinite" dista
-0000bbb0: 6e63 652c 2065 2e69 2e20 7265 6d6f 7665  nce, e.i. remove
-0000bbc0: 2061 6e79 2070 6572 7370 6563 7469 7665   any perspective
-0000bbd0: 2065 6666 6563 7473 2e0a 2020 2020 2020   effects..      
-0000bbe0: 2020 416e 2069 6e70 7574 2076 616c 7565    An input value
-0000bbf0: 2065 7175 616c 2074 6f20 2d31 2077 696c   equal to -1 wil
-0000bc00: 6c20 746f 6767 6c65 2069 7420 6f6e 2f6f  l toggle it on/o
-0000bc10: 6666 2e0a 2020 2020 2020 2020 2222 220a  ff..        """.
-0000bc20: 2020 2020 2020 2020 6966 2061 7420 6973          if at is
-0000bc30: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-0000bc40: 2020 2020 2020 2072 203d 2073 656c 662e         r = self.
-0000bc50: 7265 6e64 6572 6572 735b 6174 5d0a 2020  renderers[at].  
-0000bc60: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000bc70: 2020 2020 2020 2020 7220 3d20 7365 6c66          r = self
-0000bc80: 2e72 656e 6465 7265 720a 2020 2020 2020  .renderer.      
-0000bc90: 2020 6966 2076 616c 7565 203d 3d20 2d31    if value == -1
-0000bca0: 3a0a 2020 2020 2020 2020 2020 2020 7661  :.            va
-0000bcb0: 6c20 3d20 722e 4765 7441 6374 6976 6543  l = r.GetActiveC
-0000bcc0: 616d 6572 6128 292e 4765 7450 6172 616c  amera().GetParal
-0000bcd0: 6c65 6c50 726f 6a65 6374 696f 6e28 290a  lelProjection().
-0000bce0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
-0000bcf0: 6520 3d20 6e6f 7420 7661 6c0a 2020 2020  e = not val.    
-0000bd00: 2020 2020 722e 4765 7441 6374 6976 6543      r.GetActiveC
-0000bd10: 616d 6572 6128 292e 5365 7450 6172 616c  amera().SetParal
-0000bd20: 6c65 6c50 726f 6a65 6374 696f 6e28 7661  lelProjection(va
-0000bd30: 6c75 6529 0a20 2020 2020 2020 2072 2e4d  lue).        r.M
-0000bd40: 6f64 6966 6965 6428 290a 2020 2020 2020  odified().      
-0000bd50: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-0000bd60: 2020 2023 2323 2323 2323 2323 2323 2323     #############
-0000bd70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000bd80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000bd90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000bda0: 2323 2323 230a 2020 2020 4064 6570 7265  #####.    @depre
-0000bdb0: 6361 7465 6428 7265 6173 6f6e 3d76 6564  cated(reason=ved
-0000bdc0: 6f2e 636f 6c6f 7273 2e72 6564 202b 2022  o.colors.red + "
-0000bdd0: 506c 6561 7365 2075 7365 2061 6464 5f73  Please use add_s
-0000bde0: 6c69 6465 7228 2922 202b 2076 6564 6f2e  lider()" + vedo.
-0000bdf0: 636f 6c6f 7273 2e72 6573 6574 290a 2020  colors.reset).  
-0000be00: 2020 6465 6620 6164 6453 6c69 6465 7232    def addSlider2
-0000be10: 4428 7365 6c66 2c20 2a61 2c20 2a2a 6229  D(self, *a, **b)
-0000be20: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-0000be30: 2073 656c 662e 6164 645f 736c 6964 6572   self.add_slider
-0000be40: 282a 612c 202a 2a62 290a 0a20 2020 2064  (*a, **b)..    d
-0000be50: 6566 2061 6464 5f73 6c69 6465 7228 0a20  ef add_slider(. 
-0000be60: 2020 2020 2020 2020 2020 2073 656c 662c             self,
-0000be70: 0a20 2020 2020 2020 2020 2020 2073 6c69  .            sli
-0000be80: 6465 7266 756e 632c 0a20 2020 2020 2020  derfunc,.       
-0000be90: 2020 2020 2078 6d69 6e2c 0a20 2020 2020       xmin,.     
-0000bea0: 2020 2020 2020 2078 6d61 782c 0a20 2020         xmax,.   
-0000beb0: 2020 2020 2020 2020 2076 616c 7565 3d4e           value=N
-0000bec0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-0000bed0: 2070 6f73 3d34 2c0a 2020 2020 2020 2020   pos=4,.        
-0000bee0: 2020 2020 7469 746c 653d 2222 2c0a 2020      title="",.  
-0000bef0: 2020 2020 2020 2020 2020 666f 6e74 3d22            font="
-0000bf00: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
-0000bf10: 6974 6c65 5f73 697a 653d 312c 0a20 2020  itle_size=1,.   
-0000bf20: 2020 2020 2020 2020 2063 3d4e 6f6e 652c           c=None,
-0000bf30: 0a20 2020 2020 2020 2020 2020 2061 6c70  .            alp
-0000bf40: 6861 3d31 2c0a 2020 2020 2020 2020 2020  ha=1,.          
-0000bf50: 2020 7368 6f77 5f76 616c 7565 3d54 7275    show_value=Tru
-0000bf60: 652c 0a20 2020 2020 2020 2020 2020 2064  e,.            d
-0000bf70: 656c 6179 6564 3d46 616c 7365 2c0a 2020  elayed=False,.  
-0000bf80: 2020 2020 2020 2020 2020 2a2a 6f70 7469            **opti
-0000bf90: 6f6e 732c 0a20 2020 2020 2020 2029 3a0a  ons,.        ):.
-0000bfa0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000bfb0: 2020 2020 4164 6420 6120 6076 6564 6f2e      Add a `vedo.
-0000bfc0: 6164 646f 6e73 2e53 6c69 6465 7232 4460  addons.Slider2D`
-0000bfd0: 2077 6869 6368 2063 616e 2063 616c 6c20   which can call 
-0000bfe0: 616e 2065 7874 6572 6e61 6c20 6375 7374  an external cust
-0000bff0: 6f6d 2066 756e 6374 696f 6e2e 0a0a 2020  om function...  
-0000c000: 2020 2020 2020 4172 6775 6d65 6e74 733a        Arguments:
-0000c010: 0a20 2020 2020 2020 2020 2020 2073 6c69  .            sli
-0000c020: 6465 7266 756e 6320 3a20 2866 756e 6374  derfunc : (funct
-0000c030: 696f 6e29 0a20 2020 2020 2020 2020 2020  ion).           
-0000c040: 2020 2020 2065 7874 6572 6e61 6c20 6675       external fu
-0000c050: 6e63 7469 6f6e 2074 6f20 6265 2063 616c  nction to be cal
-0000c060: 6c65 6420 6279 2074 6865 2077 6964 6765  led by the widge
-0000c070: 740a 2020 2020 2020 2020 2020 2020 786d  t.            xm
-0000c080: 696e 203a 2028 666c 6f61 7429 0a20 2020  in : (float).   
-0000c090: 2020 2020 2020 2020 2020 2020 206c 6f77               low
-0000c0a0: 6572 2076 616c 7565 206f 6620 7468 6520  er value of the 
-0000c0b0: 736c 6964 6572 0a20 2020 2020 2020 2020  slider.         
-0000c0c0: 2020 2078 6d61 7820 3a20 2866 6c6f 6174     xmax : (float
-0000c0d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000c0e0: 2020 7570 7065 7220 7661 6c75 650a 2020    upper value.  
-0000c0f0: 2020 2020 2020 2020 2020 7661 6c75 6520            value 
-0000c100: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
-0000c110: 2020 2020 2020 2020 2020 6375 7272 656e            curren
-0000c120: 7420 7661 6c75 650a 2020 2020 2020 2020  t value.        
-0000c130: 2020 2020 706f 7320 3a20 286c 6973 742c      pos : (list,
-0000c140: 2073 7472 290a 2020 2020 2020 2020 2020   str).          
-0000c150: 2020 2020 2020 706f 7369 7469 6f6e 2063        position c
-0000c160: 6f72 6e65 7220 6e75 6d62 6572 3a20 686f  orner number: ho
-0000c170: 7269 7a6f 6e74 616c 205b 312d 355d 206f  rizontal [1-5] o
-0000c180: 7220 7665 7274 6963 616c 205b 3131 2d31  r vertical [11-1
-0000c190: 355d 0a20 2020 2020 2020 2020 2020 2020  5].             
-0000c1a0: 2020 2069 7420 6361 6e20 616c 736f 2062     it can also b
-0000c1b0: 6520 7370 6563 6966 6965 6420 6279 2063  e specified by c
-0000c1c0: 6f72 6e65 7273 2063 6f6f 7264 696e 6174  orners coordinat
-0000c1d0: 6573 205b 2878 312c 7931 292c 2028 7832  es [(x1,y1), (x2
-0000c1e0: 2c79 3229 5d0a 2020 2020 2020 2020 2020  ,y2)].          
-0000c1f0: 2020 2020 2020 616e 6420 616c 736f 2062        and also b
-0000c200: 7920 6120 7374 7269 6e67 2064 6573 6372  y a string descr
-0000c210: 6970 746f 7220 2865 672e 2022 626f 7474  iptor (eg. "bott
-0000c220: 6f6d 2d6c 6566 7422 290a 2020 2020 2020  om-left").      
-0000c230: 2020 2020 2020 7469 746c 6520 3a20 2873        title : (s
-0000c240: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
-0000c250: 2020 2020 7469 746c 6520 7465 7874 0a20      title text. 
-0000c260: 2020 2020 2020 2020 2020 2066 6f6e 7420             font 
-0000c270: 3a20 2873 7472 290a 2020 2020 2020 2020  : (str).        
-0000c280: 2020 2020 2020 2020 7469 746c 6520 666f          title fo
-0000c290: 6e74 2066 6163 652e 2043 6865 636b 205b  nt face. Check [
-0000c2a0: 6176 6169 6c61 626c 6520 666f 6e74 7320  available fonts 
-0000c2b0: 6865 7265 5d28 6874 7470 733a 2f2f 7665  here](https://ve
-0000c2c0: 646f 2e65 6d62 6c2e 6573 2f66 6f6e 7473  do.embl.es/fonts
-0000c2d0: 292e 0a20 2020 2020 2020 2020 2020 2074  )..            t
-0000c2e0: 6974 6c65 5f73 697a 6520 3a20 2866 6c6f  itle_size : (flo
-0000c2f0: 6174 290a 2020 2020 2020 2020 2020 2020  at).            
-0000c300: 2020 2020 7469 746c 6520 7465 7874 2073      title text s
-0000c310: 6361 6c65 205b 312e 305d 0a20 2020 2020  cale [1.0].     
-0000c320: 2020 2020 2020 2073 686f 775f 7661 6c75         show_valu
-0000c330: 6520 3a20 2862 6f6f 6c29 0a20 2020 2020  e : (bool).     
-0000c340: 2020 2020 2020 2020 2020 2069 6620 5472             if Tr
-0000c350: 7565 2063 7572 7265 6e74 2076 616c 7565  ue current value
-0000c360: 2069 7320 7368 6f77 6e0a 2020 2020 2020   is shown.      
-0000c370: 2020 2020 2020 6465 6c61 7965 6420 3a20        delayed : 
-0000c380: 2862 6f6f 6c29 0a20 2020 2020 2020 2020  (bool).         
-0000c390: 2020 2020 2020 2069 6620 5472 7565 2074         if True t
-0000c3a0: 6865 2063 616c 6c62 6163 6b20 6973 2064  he callback is d
-0000c3b0: 656c 6179 6564 2075 6e74 696c 2077 6865  elayed until whe
-0000c3c0: 6e20 7468 6520 6d6f 7573 6520 6275 7474  n the mouse butt
-0000c3d0: 6f6e 2069 7320 7265 6c65 6173 6564 0a20  on is released. 
-0000c3e0: 2020 2020 2020 2020 2020 2061 6c70 6861             alpha
-0000c3f0: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
-0000c400: 2020 2020 2020 2020 2020 206f 7061 6369             opaci
-0000c410: 7479 206f 6620 7468 6520 7363 616c 6172  ty of the scalar
-0000c420: 2062 6172 2074 6578 7473 0a20 2020 2020   bar texts.     
-0000c430: 2020 2020 2020 2073 6c69 6465 725f 6c65         slider_le
-0000c440: 6e67 7468 203a 2028 666c 6f61 7429 0a20  ngth : (float). 
-0000c450: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000c460: 6c69 6465 7220 6c65 6e67 7468 0a20 2020  lider length.   
-0000c470: 2020 2020 2020 2020 2073 6c69 6465 725f           slider_
-0000c480: 7769 6474 6820 3a20 2866 6c6f 6174 290a  width : (float).
-0000c490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c4a0: 736c 6964 6572 2077 6964 7468 0a20 2020  slider width.   
-0000c4b0: 2020 2020 2020 2020 2065 6e64 5f63 6170           end_cap
-0000c4c0: 5f6c 656e 6774 6820 3a20 2866 6c6f 6174  _length : (float
-0000c4d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000c4e0: 2020 6c65 6e67 7468 206f 6620 7468 6520    length of the 
-0000c4f0: 656e 6420 6361 700a 2020 2020 2020 2020  end cap.        
-0000c500: 2020 2020 656e 645f 6361 705f 7769 6474      end_cap_widt
-0000c510: 6820 3a20 2866 6c6f 6174 290a 2020 2020  h : (float).    
-0000c520: 2020 2020 2020 2020 2020 2020 7769 6474              widt
-0000c530: 6820 6f66 2074 6865 2065 6e64 2063 6170  h of the end cap
-0000c540: 0a20 2020 2020 2020 2020 2020 2074 7562  .            tub
-0000c550: 655f 7769 6474 6820 3a20 2866 6c6f 6174  e_width : (float
-0000c560: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000c570: 2020 7769 6474 6820 6f66 2074 6865 2074    width of the t
-0000c580: 7562 650a 2020 2020 2020 2020 2020 2020  ube.            
-0000c590: 7469 746c 655f 6865 6967 6874 203a 2028  title_height : (
-0000c5a0: 666c 6f61 7429 0a20 2020 2020 2020 2020  float).         
-0000c5b0: 2020 2020 2020 2077 6964 7468 206f 6620         width of 
-0000c5c0: 7468 6520 7469 746c 650a 2020 2020 2020  the title.      
-0000c5d0: 2020 2020 2020 7466 6f72 6d61 7420 3a20        tformat : 
-0000c5e0: 2873 7472 290a 2020 2020 2020 2020 2020  (str).          
-0000c5f0: 2020 2020 2020 666f 726d 6174 206f 6620        format of 
-0000c600: 7468 6520 7469 746c 650a 0a20 2020 2020  the title..     
-0000c610: 2020 2045 7861 6d70 6c65 733a 0a20 2020     Examples:.   
-0000c620: 2020 2020 2020 2020 202d 205b 736c 6964           - [slid
-0000c630: 6572 7331 2e70 795d 2868 7474 7073 3a2f  ers1.py](https:/
-0000c640: 2f67 6974 6875 622e 636f 6d2f 6d61 7263  /github.com/marc
-0000c650: 6f6d 7573 792f 7665 646f 2f74 7265 652f  omusy/vedo/tree/
-0000c660: 6d61 7374 6572 2f65 7861 6d70 6c65 732f  master/examples/
-0000c670: 6261 7369 632f 736c 6964 6572 7331 2e70  basic/sliders1.p
-0000c680: 7929 0a20 2020 2020 2020 2020 2020 202d  y).            -
-0000c690: 205b 736c 6964 6572 7332 2e70 795d 2868   [sliders2.py](h
-0000c6a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000c6b0: 6d2f 6d61 7263 6f6d 7573 792f 7665 646f  m/marcomusy/vedo
-0000c6c0: 2f74 7265 652f 6d61 7374 6572 2f65 7861  /tree/master/exa
-0000c6d0: 6d70 6c65 732f 6261 7369 632f 736c 6964  mples/basic/slid
-0000c6e0: 6572 7332 2e70 7929 0a20 2020 2020 2020  ers2.py).       
-0000c6f0: 2020 2020 200a 2020 2020 2020 2020 2020       .          
-0000c700: 2020 215b 5d28 6874 7470 733a 2f2f 7573    ![](https://us
-0000c710: 6572 2d69 6d61 6765 732e 6769 7468 7562  er-images.github
-0000c720: 7573 6572 636f 6e74 656e 742e 636f 6d2f  usercontent.com/
-0000c730: 3332 3834 3833 3931 2f35 3037 3338 3834  32848391/5073884
-0000c740: 382d 6265 3033 3334 3830 2d31 3164 382d  8-be033480-11d8-
-0000c750: 3131 6539 2d39 6231 612d 6331 3331 3035  11e9-9b1a-c13105
-0000c760: 3432 3361 3739 2e6a 7067 290a 2020 2020  423a79.jpg).    
-0000c770: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000c780: 6966 2063 2069 7320 4e6f 6e65 3a20 2023  if c is None:  #
-0000c790: 2061 7574 6f6d 6174 6963 2062 6c61 636b   automatic black
-0000c7a0: 206f 7220 7768 6974 650a 2020 2020 2020   or white.      
-0000c7b0: 2020 2020 2020 6320 3d20 2830 2e38 2c20        c = (0.8, 
-0000c7c0: 302e 382c 2030 2e38 290a 2020 2020 2020  0.8, 0.8).      
-0000c7d0: 2020 2020 2020 6966 206e 702e 7375 6d28        if np.sum(
-0000c7e0: 7665 646f 2e67 6574 5f63 6f6c 6f72 2873  vedo.get_color(s
-0000c7f0: 656c 662e 6261 636b 6772 636f 6c29 2920  elf.backgrcol)) 
-0000c800: 3e20 312e 353a 0a20 2020 2020 2020 2020  > 1.5:.         
-0000c810: 2020 2020 2020 2063 203d 2028 302e 322c         c = (0.2,
-0000c820: 2030 2e32 2c20 302e 3229 0a20 2020 2020   0.2, 0.2).     
-0000c830: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000c840: 2020 2020 2063 203d 2076 6564 6f2e 6765       c = vedo.ge
-0000c850: 745f 636f 6c6f 7228 6329 0a0a 2020 2020  t_color(c)..    
-0000c860: 2020 2020 736c 6964 6572 3264 203d 2061      slider2d = a
-0000c870: 6464 6f6e 732e 536c 6964 6572 3244 280a  ddons.Slider2D(.
-0000c880: 2020 2020 2020 2020 2020 2020 736c 6964              slid
-0000c890: 6572 6675 6e63 2c0a 2020 2020 2020 2020  erfunc,.        
-0000c8a0: 2020 2020 786d 696e 2c0a 2020 2020 2020      xmin,.      
-0000c8b0: 2020 2020 2020 786d 6178 2c0a 2020 2020        xmax,.    
-0000c8c0: 2020 2020 2020 2020 7661 6c75 652c 0a20          value,. 
-0000c8d0: 2020 2020 2020 2020 2020 2070 6f73 2c0a             pos,.
-0000c8e0: 2020 2020 2020 2020 2020 2020 7469 746c              titl
-0000c8f0: 652c 0a20 2020 2020 2020 2020 2020 2066  e,.            f
-0000c900: 6f6e 742c 0a20 2020 2020 2020 2020 2020  ont,.           
-0000c910: 2074 6974 6c65 5f73 697a 652c 0a20 2020   title_size,.   
-0000c920: 2020 2020 2020 2020 2063 2c0a 2020 2020           c,.    
-0000c930: 2020 2020 2020 2020 616c 7068 612c 0a20          alpha,. 
-0000c940: 2020 2020 2020 2020 2020 2073 686f 775f             show_
-0000c950: 7661 6c75 652c 0a20 2020 2020 2020 2020  value,.         
-0000c960: 2020 2064 656c 6179 6564 2c0a 2020 2020     delayed,.    
-0000c970: 2020 2020 2020 2020 2a2a 6f70 7469 6f6e          **option
-0000c980: 732c 0a20 2020 2020 2020 2029 0a0a 2020  s,.        )..  
-0000c990: 2020 2020 2020 6966 2073 656c 662e 7265        if self.re
-0000c9a0: 6e64 6572 6572 3a0a 2020 2020 2020 2020  nderer:.        
-0000c9b0: 2020 2020 736c 6964 6572 3264 2e72 656e      slider2d.ren
-0000c9c0: 6465 7265 7220 3d20 7365 6c66 2e72 656e  derer = self.ren
-0000c9d0: 6465 7265 720a 2020 2020 2020 2020 2020  derer.          
-0000c9e0: 2020 6966 2073 656c 662e 696e 7465 7261    if self.intera
-0000c9f0: 6374 6f72 3a0a 2020 2020 2020 2020 2020  ctor:.          
-0000ca00: 2020 2020 2020 736c 6964 6572 3264 2e69        slider2d.i
-0000ca10: 6e74 6572 6163 746f 7220 3d20 7365 6c66  nteractor = self
-0000ca20: 2e69 6e74 6572 6163 746f 720a 2020 2020  .interactor.    
-0000ca30: 2020 2020 2020 2020 2020 2020 736c 6964              slid
-0000ca40: 6572 3264 2e6f 6e28 290a 2020 2020 2020  er2d.on().      
-0000ca50: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-0000ca60: 6c69 6465 7273 2e61 7070 656e 6428 5b73  liders.append([s
-0000ca70: 6c69 6465 7232 642c 2073 6c69 6465 7266  lider2d, sliderf
-0000ca80: 756e 635d 290a 2020 2020 2020 2020 7265  unc]).        re
-0000ca90: 7475 726e 2073 6c69 6465 7232 640a 0a0a  turn slider2d...
-0000caa0: 2020 2020 6465 6620 6164 645f 736c 6964      def add_slid
-0000cab0: 6572 3364 280a 2020 2020 2020 2020 7365  er3d(.        se
-0000cac0: 6c66 2c0a 2020 2020 2020 2020 736c 6964  lf,.        slid
-0000cad0: 6572 6675 6e63 2c0a 2020 2020 2020 2020  erfunc,.        
-0000cae0: 706f 7331 2c0a 2020 2020 2020 2020 706f  pos1,.        po
-0000caf0: 7332 2c0a 2020 2020 2020 2020 786d 696e  s2,.        xmin
-0000cb00: 2c0a 2020 2020 2020 2020 786d 6178 2c0a  ,.        xmax,.
-0000cb10: 2020 2020 2020 2020 7661 6c75 653d 4e6f          value=No
-0000cb20: 6e65 2c0a 2020 2020 2020 2020 733d 302e  ne,.        s=0.
-0000cb30: 3033 2c0a 2020 2020 2020 2020 743d 312c  03,.        t=1,
-0000cb40: 0a20 2020 2020 2020 2074 6974 6c65 3d22  .        title="
-0000cb50: 222c 0a20 2020 2020 2020 2072 6f74 6174  ",.        rotat
-0000cb60: 696f 6e3d 302c 0a20 2020 2020 2020 2063  ion=0,.        c
-0000cb70: 3d4e 6f6e 652c 0a20 2020 2020 2020 2073  =None,.        s
-0000cb80: 686f 775f 7661 6c75 653d 5472 7565 2c0a  how_value=True,.
-0000cb90: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
-0000cba0: 2222 0a20 2020 2020 2020 2041 6464 2061  "".        Add a
-0000cbb0: 2033 4420 736c 6964 6572 2077 6964 6765   3D slider widge
-0000cbc0: 7420 7768 6963 6820 6361 6e20 6361 6c6c  t which can call
-0000cbd0: 2061 6e20 6578 7465 726e 616c 2063 7573   an external cus
-0000cbe0: 746f 6d20 6675 6e63 7469 6f6e 2e0a 0a20  tom function... 
-0000cbf0: 2020 2020 2020 2041 7267 756d 656e 7473         Arguments
-0000cc00: 3a0a 2020 2020 2020 2020 2020 2020 736c  :.            sl
-0000cc10: 6964 6572 6675 6e63 203a 2028 6675 6e63  iderfunc : (func
-0000cc20: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
-0000cc30: 2020 2020 2020 6578 7465 726e 616c 2066        external f
-0000cc40: 756e 6374 696f 6e20 746f 2062 6520 6361  unction to be ca
-0000cc50: 6c6c 6564 2062 7920 7468 6520 7769 6467  lled by the widg
-0000cc60: 6574 0a20 2020 2020 2020 2020 2020 2070  et.            p
-0000cc70: 6f73 3120 3a20 286c 6973 7429 0a20 2020  os1 : (list).   
-0000cc80: 2020 2020 2020 2020 2020 2020 2066 6972               fir
-0000cc90: 7374 2070 6f73 6974 696f 6e20 3344 2063  st position 3D c
-0000cca0: 6f6f 7264 696e 6174 6573 0a20 2020 2020  oordinates.     
-0000ccb0: 2020 2020 2020 2070 6f73 3220 3a20 286c         pos2 : (l
-0000ccc0: 6973 7429 0a20 2020 2020 2020 2020 2020  ist).           
-0000ccd0: 2020 2020 2073 6563 6f6e 6420 706f 7369       second posi
-0000cce0: 7469 6f6e 2063 6f6f 7264 696e 6174 6573  tion coordinates
-0000ccf0: 0a20 2020 2020 2020 2020 2020 2078 6d69  .            xmi
-0000cd00: 6e20 3a20 2866 6c6f 6174 290a 2020 2020  n : (float).    
-0000cd10: 2020 2020 2020 2020 2020 2020 6c6f 7765              lowe
-0000cd20: 7220 7661 6c75 650a 2020 2020 2020 2020  r value.        
-0000cd30: 2020 2020 786d 6178 203a 2028 666c 6f61      xmax : (floa
-0000cd40: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
-0000cd50: 2020 2075 7070 6572 2076 616c 7565 0a20     upper value. 
-0000cd60: 2020 2020 2020 2020 2020 2076 616c 7565             value
-0000cd70: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
-0000cd80: 2020 2020 2020 2020 2020 2069 6e69 7469             initi
-0000cd90: 616c 2076 616c 7565 0a20 2020 2020 2020  al value.       
-0000cda0: 2020 2020 2073 203a 2028 666c 6f61 7429       s : (float)
-0000cdb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000cdc0: 206c 6162 656c 2073 6361 6c69 6e67 2066   label scaling f
-0000cdd0: 6163 746f 720a 2020 2020 2020 2020 2020  actor.          
-0000cde0: 2020 7420 3a20 2866 6c6f 6174 290a 2020    t : (float).  
-0000cdf0: 2020 2020 2020 2020 2020 2020 2020 7475                tu
-0000ce00: 6265 2073 6361 6c69 6e67 2066 6163 746f  be scaling facto
-0000ce10: 720a 2020 2020 2020 2020 2020 2020 7469  r.            ti
-0000ce20: 746c 6520 3a20 2873 7472 290a 2020 2020  tle : (str).    
-0000ce30: 2020 2020 2020 2020 2020 2020 7469 746c              titl
-0000ce40: 6520 7465 7874 0a20 2020 2020 2020 2020  e text.         
-0000ce50: 2020 2063 203a 2028 636f 6c6f 7229 0a20     c : (color). 
-0000ce60: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000ce70: 6c69 6465 7220 636f 6c6f 720a 2020 2020  lider color.    
-0000ce80: 2020 2020 2020 2020 726f 7461 7469 6f6e          rotation
-0000ce90: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
-0000cea0: 2020 2020 2020 2020 2020 2074 6974 6c65             title
-0000ceb0: 2072 6f74 6174 696f 6e20 6172 6f75 6e64   rotation around
-0000cec0: 2073 6c69 6465 7220 6178 6973 0a20 2020   slider axis.   
-0000ced0: 2020 2020 2020 2020 2073 686f 775f 7661           show_va
-0000cee0: 6c75 6520 3a20 2862 6f6f 6c29 0a20 2020  lue : (bool).   
-0000cef0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000cf00: 5472 7565 2063 7572 7265 6e74 2076 616c  True current val
-0000cf10: 7565 2069 7320 7368 6f77 6e0a 0a20 2020  ue is shown..   
-0000cf20: 2020 2020 2045 7861 6d70 6c65 733a 0a20       Examples:. 
-0000cf30: 2020 2020 2020 2020 2020 202d 205b 736c             - [sl
-0000cf40: 6964 6572 7333 642e 7079 5d28 6874 7470  iders3d.py](http
-0000cf50: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000cf60: 6172 636f 6d75 7379 2f76 6564 6f2f 7472  arcomusy/vedo/tr
-0000cf70: 6565 2f6d 6173 7465 722f 6578 616d 706c  ee/master/exampl
-0000cf80: 6573 2f62 6173 6963 2f73 6c69 6465 7273  es/basic/sliders
-0000cf90: 3364 2e70 7929 0a0a 2020 2020 2020 2020  3d.py)..        
-0000cfa0: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
-0000cfb0: 7573 6572 2d69 6d61 6765 732e 6769 7468  user-images.gith
-0000cfc0: 7562 7573 6572 636f 6e74 656e 742e 636f  ubusercontent.co
-0000cfd0: 6d2f 3332 3834 3833 3931 2f35 3238 3539  m/32848391/52859
-0000cfe0: 3535 352d 3465 6663 6632 3030 2d33 3132  555-4efcf200-312
-0000cff0: 642d 3131 6539 2d39 3239 302d 3639 3838  d-11e9-9290-6988
-0000d000: 6338 3239 3531 3633 2e70 6e67 290a 2020  c8295163.png).  
-0000d010: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000d020: 2020 6966 2063 2069 7320 4e6f 6e65 3a20    if c is None: 
-0000d030: 2023 2061 7574 6f6d 6174 6963 2062 6c61   # automatic bla
-0000d040: 636b 206f 7220 7768 6974 650a 2020 2020  ck or white.    
-0000d050: 2020 2020 2020 2020 6320 3d20 2830 2e38          c = (0.8
-0000d060: 2c20 302e 382c 2030 2e38 290a 2020 2020  , 0.8, 0.8).    
-0000d070: 2020 2020 2020 2020 6966 206e 702e 7375          if np.su
-0000d080: 6d28 7665 646f 2e67 6574 5f63 6f6c 6f72  m(vedo.get_color
-0000d090: 2873 656c 662e 6261 636b 6772 636f 6c29  (self.backgrcol)
-0000d0a0: 2920 3e20 312e 353a 0a20 2020 2020 2020  ) > 1.5:.       
-0000d0b0: 2020 2020 2020 2020 2063 203d 2028 302e           c = (0.
-0000d0c0: 322c 2030 2e32 2c20 302e 3229 0a20 2020  2, 0.2, 0.2).   
-0000d0d0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0000d0e0: 2020 2020 2020 2063 203d 2076 6564 6f2e         c = vedo.
-0000d0f0: 6765 745f 636f 6c6f 7228 6329 0a20 2020  get_color(c).   
-0000d100: 2020 2020 200a 2020 2020 2020 2020 736c       .        sl
-0000d110: 6964 6572 3364 203d 2061 6464 6f6e 732e  ider3d = addons.
-0000d120: 536c 6964 6572 3344 2873 6c69 6465 7266  Slider3D(sliderf
-0000d130: 756e 632c 2070 6f73 312c 2070 6f73 322c  unc, pos1, pos2,
-0000d140: 2078 6d69 6e2c 2078 6d61 782c 2076 616c   xmin, xmax, val
-0000d150: 7565 2c20 732c 2074 2c20 7469 746c 652c  ue, s, t, title,
-0000d160: 2072 6f74 6174 696f 6e2c 2063 2c20 7368   rotation, c, sh
-0000d170: 6f77 5f76 616c 7565 290a 2020 2020 2020  ow_value).      
-0000d180: 2020 736c 6964 6572 3364 2e72 656e 6465    slider3d.rende
-0000d190: 7265 7220 3d20 7365 6c66 2e72 656e 6465  rer = self.rende
-0000d1a0: 7265 720a 2020 2020 2020 2020 736c 6964  rer.        slid
-0000d1b0: 6572 3364 2e69 6e74 6572 6163 746f 7220  er3d.interactor 
-0000d1c0: 3d20 7365 6c66 2e69 6e74 6572 6163 746f  = self.interacto
-0000d1d0: 720a 2020 2020 2020 2020 736c 6964 6572  r.        slider
-0000d1e0: 3364 2e6f 6e28 290a 2020 2020 2020 2020  3d.on().        
-0000d1f0: 7365 6c66 2e73 6c69 6465 7273 2e61 7070  self.sliders.app
-0000d200: 656e 6428 5b73 6c69 6465 7233 642c 2073  end([slider3d, s
-0000d210: 6c69 6465 7266 756e 635d 290a 2020 2020  liderfunc]).    
-0000d220: 2020 2020 7265 7475 726e 2073 6c69 6465      return slide
-0000d230: 7233 640a 0a0a 2020 2020 4064 6570 7265  r3d...    @depre
-0000d240: 6361 7465 6428 7265 6173 6f6e 3d76 6564  cated(reason=ved
-0000d250: 6f2e 636f 6c6f 7273 2e72 6564 202b 2022  o.colors.red + "
-0000d260: 506c 6561 7365 2075 7365 2061 6464 5f62  Please use add_b
-0000d270: 7574 746f 6e28 2922 202b 2076 6564 6f2e  utton()" + vedo.
-0000d280: 636f 6c6f 7273 2e72 6573 6574 290a 2020  colors.reset).  
-0000d290: 2020 6465 6620 6164 6442 7574 746f 6e28    def addButton(
-0000d2a0: 7365 6c66 2c20 2a61 2c20 2a2a 6229 3a0a  self, *a, **b):.
-0000d2b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0000d2c0: 656c 662e 6164 645f 6275 7474 6f6e 282a  elf.add_button(*
-0000d2d0: 612c 202a 2a62 290a 0a20 2020 2064 6566  a, **b)..    def
-0000d2e0: 2061 6464 5f62 7574 746f 6e28 0a20 2020   add_button(.   
-0000d2f0: 2020 2020 2020 2020 2073 656c 662c 0a20           self,. 
-0000d300: 2020 2020 2020 2020 2020 2066 6e63 2c0a             fnc,.
-0000d310: 2020 2020 2020 2020 2020 2020 7374 6174              stat
-0000d320: 6573 3d28 224f 6e22 2c20 224f 6666 2229  es=("On", "Off")
-0000d330: 2c0a 2020 2020 2020 2020 2020 2020 633d  ,.            c=
-0000d340: 2822 7722 2c20 2277 2229 2c0a 2020 2020  ("w", "w"),.    
-0000d350: 2020 2020 2020 2020 6263 3d28 2264 6722          bc=("dg"
-0000d360: 2c20 2264 7222 292c 0a20 2020 2020 2020  , "dr"),.       
-0000d370: 2020 2020 2070 6f73 3d28 302e 372c 2030       pos=(0.7, 0
-0000d380: 2e30 3529 2c0a 2020 2020 2020 2020 2020  .05),.          
-0000d390: 2020 7369 7a65 3d32 342c 0a20 2020 2020    size=24,.     
-0000d3a0: 2020 2020 2020 2066 6f6e 743d 4e6f 6e65         font=None
-0000d3b0: 2c0a 2020 2020 2020 2020 2020 2020 626f  ,.            bo
-0000d3c0: 6c64 3d46 616c 7365 2c0a 2020 2020 2020  ld=False,.      
-0000d3d0: 2020 2020 2020 6974 616c 6963 3d46 616c        italic=Fal
-0000d3e0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-0000d3f0: 616c 7068 613d 312c 0a20 2020 2020 2020  alpha=1,.       
-0000d400: 2020 2020 2061 6e67 6c65 3d30 2c0a 2020       angle=0,.  
-0000d410: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
-0000d420: 2022 2222 0a20 2020 2020 2020 2041 6464   """.        Add
-0000d430: 2061 2062 7574 746f 6e20 746f 2074 6865   a button to the
-0000d440: 2072 656e 6465 7265 7220 7769 6e64 6f77   renderer window
-0000d450: 2e0a 0a20 2020 2020 2020 2041 7267 756d  ...        Argum
-0000d460: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
-0000d470: 2020 7374 6174 6573 203a 2028 6c69 7374    states : (list
-0000d480: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000d490: 2020 6120 6c69 7374 206f 6620 706f 7373    a list of poss
-0000d4a0: 6962 6c65 2073 7461 7465 732c 2065 2e67  ible states, e.g
-0000d4b0: 2e20 5b27 4f6e 272c 2027 4f66 6627 5d0a  . ['On', 'Off'].
-0000d4c0: 2020 2020 2020 2020 2020 2020 6320 3a20              c : 
-0000d4d0: 286c 6973 7429 0a20 2020 2020 2020 2020  (list).         
-0000d4e0: 2020 2020 2020 2061 206c 6973 7420 6f66         a list of
-0000d4f0: 2063 6f6c 6f72 7320 666f 7220 6561 6368   colors for each
-0000d500: 2073 7461 7465 0a20 2020 2020 2020 2020   state.         
-0000d510: 2020 2062 6320 3a20 286c 6973 7429 0a20     bc : (list). 
-0000d520: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0000d530: 206c 6973 7420 6f66 2062 6163 6b67 726f   list of backgro
-0000d540: 756e 6420 636f 6c6f 7273 2066 6f72 2065  und colors for e
-0000d550: 6163 6820 7374 6174 650a 2020 2020 2020  ach state.      
-0000d560: 2020 2020 2020 706f 7320 3a20 286c 6973        pos : (lis
-0000d570: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
-0000d580: 2020 2032 4420 706f 7369 7469 6f6e 2069     2D position i
-0000d590: 6e20 7069 7865 6c73 2066 726f 6d20 6c65  n pixels from le
-0000d5a0: 6674 2d62 6f74 746f 6d20 636f 726e 6572  ft-bottom corner
-0000d5b0: 0a20 2020 2020 2020 2020 2020 2073 697a  .            siz
-0000d5c0: 6520 3a20 2866 6c6f 6174 290a 2020 2020  e : (float).    
-0000d5d0: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-0000d5e0: 206f 6620 6275 7474 6f6e 2066 6f6e 740a   of button font.
-0000d5f0: 2020 2020 2020 2020 2020 2020 666f 6e74              font
-0000d600: 203a 2028 7374 7229 0a20 2020 2020 2020   : (str).       
-0000d610: 2020 2020 2020 2020 2066 6f6e 7420 7479           font ty
-0000d620: 7065 2e20 4368 6563 6b20 5b61 7661 696c  pe. Check [avail
-0000d630: 6162 6c65 2066 6f6e 7473 2068 6572 655d  able fonts here]
-0000d640: 2868 7474 7073 3a2f 2f76 6564 6f2e 656d  (https://vedo.em
-0000d650: 626c 2e65 732f 666f 6e74 7329 2e0a 2020  bl.es/fonts)..  
-0000d660: 2020 2020 2020 2020 2020 626f 6c64 203a            bold :
-0000d670: 2028 626f 6f6c 290a 2020 2020 2020 2020   (bool).        
-0000d680: 2020 2020 2020 2020 626f 6c64 2066 6f6e          bold fon
-0000d690: 7420 6661 6365 2028 4661 6c73 6529 0a20  t face (False). 
-0000d6a0: 2020 2020 2020 2020 2020 2069 7461 6c69             itali
-0000d6b0: 6320 3a20 2862 6f6f 6c29 0a20 2020 2020  c : (bool).     
-0000d6c0: 2020 2020 2020 2020 2020 2069 7461 6c69             itali
-0000d6d0: 6320 666f 6e74 2066 6163 6520 2846 616c  c font face (Fal
-0000d6e0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-0000d6f0: 616c 7068 6120 3a20 2866 6c6f 6174 290a  alpha : (float).
-0000d700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d710: 6f70 6163 6974 7920 6c65 7665 6c0a 2020  opacity level.  
-0000d720: 2020 2020 2020 2020 2020 616e 676c 6520            angle 
-0000d730: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
-0000d740: 2020 2020 2020 2020 2020 616e 7469 636c            anticl
-0000d750: 6f63 6b77 6973 6520 726f 7461 7469 6f6e  ockwise rotation
-0000d760: 2069 6e20 6465 6772 6565 730a 2020 2020   in degrees.    
-0000d770: 2020 2020 0a20 2020 2020 2020 2052 6574      .        Ret
-0000d780: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0000d790: 2020 6076 6564 6f2e 6164 646f 6e73 2e42    `vedo.addons.B
-0000d7a0: 7574 746f 6e60 206f 626a 6563 742e 0a0a  utton` object...
-0000d7b0: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
-0000d7c0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-0000d7d0: 5b62 7574 746f 6e73 2e70 795d 2868 7474  [buttons.py](htt
-0000d7e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000d7f0: 6d61 7263 6f6d 7573 792f 7665 646f 2f62  marcomusy/vedo/b
-0000d800: 6c6f 622f 6d61 7374 6572 2f65 7861 6d70  lob/master/examp
-0000d810: 6c65 732f 6261 7369 632f 6275 7474 6f6e  les/basic/button
-0000d820: 732e 7079 290a 0a20 2020 2020 2020 2020  s.py)..         
-0000d830: 2020 2021 5b5d 2868 7474 7073 3a2f 2f75     ![](https://u
-0000d840: 7365 722d 696d 6167 6573 2e67 6974 6875  ser-images.githu
-0000d850: 6275 7365 7263 6f6e 7465 6e74 2e63 6f6d  busercontent.com
-0000d860: 2f33 3238 3438 3339 312f 3530 3733 3838  /32848391/507388
-0000d870: 3730 2d63 3066 6532 3530 302d 3131 6438  70-c0fe2500-11d8
-0000d880: 2d31 3165 392d 3962 3738 2d39 3237 3534  -11e9-9b78-92754
-0000d890: 6635 6335 3936 382e 6a70 6729 0a20 2020  f5c5968.jpg).   
-0000d8a0: 2020 2020 2022 2222 2020 2020 2020 2020       """        
-0000d8b0: 2020 2020 2020 0a20 2020 2020 2020 2062        .        b
-0000d8c0: 7520 3d20 6164 646f 6e73 2e42 7574 746f  u = addons.Butto
-0000d8d0: 6e28 666e 632c 2073 7461 7465 732c 2063  n(fnc, states, c
-0000d8e0: 2c20 6263 2c20 706f 732c 2073 697a 652c  , bc, pos, size,
-0000d8f0: 2066 6f6e 742c 2062 6f6c 642c 2069 7461   font, bold, ita
-0000d900: 6c69 632c 2061 6c70 6861 2c20 616e 676c  lic, alpha, angl
-0000d910: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
-0000d920: 7265 6e64 6572 6572 2e41 6464 4163 746f  renderer.AddActo
-0000d930: 7232 4428 6275 2e61 6374 6f72 290a 2020  r2D(bu.actor).  
-0000d940: 2020 2020 2020 7365 6c66 2e62 7574 746f        self.butto
-0000d950: 6e73 2e61 7070 656e 6428 6275 290a 2020  ns.append(bu).  
-0000d960: 2020 2020 2020 7265 7475 726e 2062 750a        return bu.
-0000d970: 0a0a 2020 2020 4064 6570 7265 6361 7465  ..    @deprecate
-0000d980: 6428 7265 6173 6f6e 3d76 6564 6f2e 636f  d(reason=vedo.co
-0000d990: 6c6f 7273 2e72 6564 202b 2022 506c 6561  lors.red + "Plea
-0000d9a0: 7365 2075 7365 2061 6464 5f73 706c 696e  se use add_splin
-0000d9b0: 655f 746f 6f6c 2829 2220 2b20 7665 646f  e_tool()" + vedo
-0000d9c0: 2e63 6f6c 6f72 732e 7265 7365 7429 0a20  .colors.reset). 
-0000d9d0: 2020 2064 6566 2061 6464 5370 6c69 6e65     def addSpline
-0000d9e0: 546f 6f6c 2873 656c 662c 202a 612c 202a  Tool(self, *a, *
-0000d9f0: 2a62 293a 0a20 2020 2020 2020 2022 2222  *b):.        """
-0000da00: 4465 7072 6563 6174 6564 2e20 5573 6520  Deprecated. Use 
-0000da10: 6061 6464 5f73 706c 696e 655f 746f 6f6c  `add_spline_tool
-0000da20: 2829 6022 2222 0a20 2020 2020 2020 2072  ()`""".        r
-0000da30: 6574 7572 6e20 7365 6c66 2e61 6464 5f73  eturn self.add_s
-0000da40: 706c 696e 655f 746f 6f6c 282a 612c 202a  pline_tool(*a, *
-0000da50: 2a62 290a 0a20 2020 2064 6566 2061 6464  *b)..    def add
-0000da60: 5f73 706c 696e 655f 746f 6f6c 2873 656c  _spline_tool(sel
-0000da70: 662c 2070 6f69 6e74 732c 2070 633d 276b  f, points, pc='k
-0000da80: 272c 2070 733d 382c 206c 633d 2772 3427  ', ps=8, lc='r4'
-0000da90: 2c20 6163 3d27 6735 272c 206c 773d 322c  , ac='g5', lw=2,
-0000daa0: 2063 6c6f 7365 643d 4661 6c73 652c 2069   closed=False, i
-0000dab0: 6e74 6572 6163 7469 7665 3d46 616c 7365  nteractive=False
-0000dac0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-0000dad0: 2020 2020 2020 2041 6464 2061 2073 706c         Add a spl
-0000dae0: 696e 6520 746f 6f6c 2074 6f20 7468 6520  ine tool to the 
-0000daf0: 6375 7272 656e 7420 706c 6f74 7465 722e  current plotter.
-0000db00: 0a20 2020 2020 2020 204e 6f64 6573 206f  .        Nodes o
-0000db10: 6620 7468 6520 7370 6c69 6e65 2063 616e  f the spline can
-0000db20: 2062 6520 6472 6167 6765 6420 696e 2073   be dragged in s
-0000db30: 7061 6365 2077 6974 6820 7468 6520 6d6f  pace with the mo
-0000db40: 7573 652e 0a20 2020 2020 2020 2043 6c69  use..        Cli
-0000db50: 636b 696e 6720 6f6e 2074 6865 206c 696e  cking on the lin
-0000db60: 6520 6974 7365 6c66 2061 6464 7320 616e  e itself adds an
-0000db70: 2065 7874 7261 2070 6f69 6e74 2e0a 2020   extra point..  
-0000db80: 2020 2020 2020 5365 6c65 6374 696e 6720        Selecting 
-0000db90: 6120 706f 696e 7420 616e 6420 7072 6573  a point and pres
-0000dba0: 7369 6e67 2064 656c 2072 656d 6f76 6573  sing del removes
-0000dbb0: 2069 742e 0a0a 2020 2020 2020 2020 4172   it...        Ar
-0000dbc0: 6775 6d65 6e74 733a 0a20 2020 2020 2020  guments:.       
-0000dbd0: 2020 2020 2070 6f69 6e74 7320 3a20 284d       points : (M
-0000dbe0: 6573 682c 2050 6f69 6e74 732c 2061 7272  esh, Points, arr
-0000dbf0: 6179 290a 2020 2020 2020 2020 2020 2020  ay).            
-0000dc00: 2020 2020 7468 6520 7365 7420 6f66 2076      the set of v
-0000dc10: 6572 7469 6365 7320 666f 726d 696e 6720  ertices forming 
-0000dc20: 7468 6520 7370 6c69 6e65 206e 6f64 6573  the spline nodes
-0000dc30: 2e0a 2020 2020 2020 2020 2020 2020 7063  ..            pc
-0000dc40: 203a 2028 7374 7229 0a20 2020 2020 2020   : (str).       
-0000dc50: 2020 2020 2020 2020 2070 6f69 6e74 2063           point c
-0000dc60: 6f6c 6f72 2e20 5468 6520 6465 6661 756c  olor. The defaul
-0000dc70: 7420 6973 2027 6b27 2e0a 2020 2020 2020  t is 'k'..      
-0000dc80: 2020 2020 2020 7073 203a 2028 7374 7229        ps : (str)
-0000dc90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000dca0: 2070 6f69 6e74 2073 697a 652e 2054 6865   point size. The
-0000dcb0: 2064 6566 6175 6c74 2069 7320 382e 0a20   default is 8.. 
-0000dcc0: 2020 2020 2020 2020 2020 206c 6320 3a20             lc : 
-0000dcd0: 2873 7472 290a 2020 2020 2020 2020 2020  (str).          
-0000dce0: 2020 2020 2020 6c69 6e65 2063 6f6c 6f72        line color
-0000dcf0: 2e20 5468 6520 6465 6661 756c 7420 6973  . The default is
-0000dd00: 2027 7234 272e 0a20 2020 2020 2020 2020   'r4'..         
-0000dd10: 2020 2061 6320 3a20 2873 7472 290a 2020     ac : (str).  
-0000dd20: 2020 2020 2020 2020 2020 2020 2020 6163                ac
-0000dd30: 7469 7665 2070 6f69 6e74 206d 6172 6b65  tive point marke
-0000dd40: 7220 636f 6c6f 722e 2054 6865 2064 6566  r color. The def
-0000dd50: 6175 6c74 2069 7320 2767 3527 2e0a 2020  ault is 'g5'..  
-0000dd60: 2020 2020 2020 2020 2020 6c77 203a 2028            lw : (
-0000dd70: 696e 7429 0a20 2020 2020 2020 2020 2020  int).           
-0000dd80: 2020 2020 206c 696e 6520 7769 6474 682e       line width.
-0000dd90: 2054 6865 2064 6566 6175 6c74 2069 7320   The default is 
-0000dda0: 322e 0a20 2020 2020 2020 2020 2020 2063  2..            c
-0000ddb0: 6c6f 7365 6420 3a20 2862 6f6f 6c29 0a20  losed : (bool). 
-0000ddc0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000ddd0: 706c 696e 6520 6973 206d 6561 6e74 2074  pline is meant t
-0000dde0: 6f20 6265 2063 6c6f 7365 642e 2054 6865  o be closed. The
-0000ddf0: 2064 6566 6175 6c74 2069 7320 4661 6c73   default is Fals
-0000de00: 652e 0a0a 2020 2020 2020 2020 5265 7475  e...        Retu
-0000de10: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0000de20: 2061 2060 5370 6c69 6e65 546f 6f6c 6020   a `SplineTool` 
-0000de30: 6f62 6a65 6374 2e0a 0a20 2020 2020 2020  object...       
-0000de40: 2045 7861 6d70 6c65 733a 0a20 2020 2020   Examples:.     
-0000de50: 2020 2020 2020 202d 205b 7370 6c69 6e65         - [spline
-0000de60: 5f74 6f6f 6c2e 7079 5d28 6874 7470 733a  _tool.py](https:
-0000de70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6172  //github.com/mar
-0000de80: 636f 6d75 7379 2f76 6564 6f2f 7472 6565  comusy/vedo/tree
-0000de90: 2f6d 6173 7465 722f 6578 616d 706c 6573  /master/examples
-0000dea0: 2f62 6173 6963 2f73 706c 696e 655f 746f  /basic/spline_to
-0000deb0: 6f6c 2e70 7929 0a0a 2020 2020 2020 2020  ol.py)..        
-0000dec0: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
-0000ded0: 7665 646f 2e65 6d62 6c2e 6573 2f69 6d61  vedo.embl.es/ima
-0000dee0: 6765 732f 6261 7369 632f 7370 6c69 6e65  ges/basic/spline
-0000def0: 5f74 6f6f 6c2e 706e 6729 0a20 2020 2020  _tool.png).     
-0000df00: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-0000df10: 7720 3d20 6164 646f 6e73 2e53 706c 696e  w = addons.Splin
-0000df20: 6554 6f6f 6c28 706f 696e 7473 2c20 7063  eTool(points, pc
-0000df30: 2c20 7073 2c20 6c63 2c20 6163 2c20 6c77  , ps, lc, ac, lw
-0000df40: 2c20 636c 6f73 6564 290a 2020 2020 2020  , closed).      
-0000df50: 2020 6966 2073 656c 662e 696e 7465 7261    if self.intera
-0000df60: 6374 6f72 3a0a 2020 2020 2020 2020 2020  ctor:.          
-0000df70: 2020 7377 2e53 6574 496e 7465 7261 6374    sw.SetInteract
-0000df80: 6f72 2873 656c 662e 696e 7465 7261 6374  or(self.interact
-0000df90: 6f72 290a 2020 2020 2020 2020 656c 7365  or).        else
-0000dfa0: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
-0000dfb0: 646f 2e6c 6f67 6765 722e 6572 726f 7228  do.logger.error(
-0000dfc0: 2269 6e20 6164 645f 7370 6c69 6e65 5f74  "in add_spline_t
-0000dfd0: 6f6f 6c28 292c 204e 6f20 696e 7465 7261  ool(), No intera
-0000dfe0: 6374 6f72 2066 6f75 6e64 2e22 290a 2020  ctor found.").  
-0000dff0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000e000: 5275 6e74 696d 6545 7272 6f72 0a20 2020  RuntimeError.   
-0000e010: 2020 2020 2073 772e 4f6e 2829 0a20 2020       sw.On().   
-0000e020: 2020 2020 2073 772e 496e 6974 6961 6c69       sw.Initiali
-0000e030: 7a65 2873 772e 706f 696e 7473 2e70 6f6c  ze(sw.points.pol
-0000e040: 7964 6174 6128 2929 0a20 2020 2020 2020  ydata()).       
-0000e050: 2069 6620 7377 2e63 6c6f 7365 643a 0a20   if sw.closed:. 
-0000e060: 2020 2020 2020 2020 2020 2073 772e 7265             sw.re
-0000e070: 7072 6573 656e 7461 7469 6f6e 2e43 6c6f  presentation.Clo
-0000e080: 7365 644c 6f6f 704f 6e28 290a 2020 2020  sedLoopOn().    
-0000e090: 2020 2020 7377 2e72 6570 7265 7365 6e74      sw.represent
-0000e0a0: 6174 696f 6e2e 5365 7452 656e 6465 7265  ation.SetRendere
-0000e0b0: 7228 7365 6c66 2e72 656e 6465 7265 7229  r(self.renderer)
-0000e0c0: 0a20 2020 2020 2020 2073 772e 7265 7072  .        sw.repr
-0000e0d0: 6573 656e 7461 7469 6f6e 2e42 7569 6c64  esentation.Build
-0000e0e0: 5265 7072 6573 656e 7461 7469 6f6e 2829  Representation()
-0000e0f0: 0a20 2020 2020 2020 2073 772e 5265 6e64  .        sw.Rend
-0000e100: 6572 2829 0a20 2020 2020 2020 2069 6620  er().        if 
-0000e110: 696e 7465 7261 6374 6976 653a 0a20 2020  interactive:.   
-0000e120: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
-0000e130: 7465 7261 6374 6f72 2e53 7461 7274 2829  teractor.Start()
-0000e140: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000e150: 7665 646f 2e76 746b 5f76 6572 7369 6f6e  vedo.vtk_version
-0000e160: 203d 3d20 2839 2c32 2c32 293a 2073 656c   == (9,2,2): sel
-0000e170: 662e 696e 7465 7261 6374 6f72 2e47 6574  f.interactor.Get
-0000e180: 5265 6e64 6572 5769 6e64 6f77 2829 2e53  RenderWindow().S
-0000e190: 6574 4469 7370 6c61 7949 6428 225f 305f  etDisplayId("_0_
-0000e1a0: 705f 766f 6964 2229 2023 2348 4143 4b0a  p_void") ##HACK.
-0000e1b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000e1c0: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-0000e1d0: 6e74 6572 6163 746f 722e 5265 6e64 6572  nteractor.Render
-0000e1e0: 2829 0a20 2020 2020 2020 2072 6574 7572  ().        retur
-0000e1f0: 6e20 7377 0a0a 2020 2020 6465 6620 6164  n sw..    def ad
-0000e200: 645f 6375 7474 6572 5f74 6f6f 6c28 7365  d_cutter_tool(se
-0000e210: 6c66 2c20 6f62 6a3d 4e6f 6e65 2c20 6d6f  lf, obj=None, mo
-0000e220: 6465 3d22 626f 7822 2c20 696e 7665 7274  de="box", invert
-0000e230: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
-0000e240: 2022 2222 4372 6561 7465 2061 6e20 696e   """Create an in
-0000e250: 7465 7261 6374 6976 6520 746f 6f6c 2074  teractive tool t
-0000e260: 6f20 6375 7420 6177 6179 2070 6172 7473  o cut away parts
-0000e270: 206f 6620 6120 6d65 7368 206f 7220 766f   of a mesh or vo
-0000e280: 6c75 6d65 2e0a 0a20 2020 2020 2020 2041  lume...        A
-0000e290: 7267 756d 656e 7473 3a0a 2020 2020 2020  rguments:.      
-0000e2a0: 2020 2020 2020 6d6f 6465 203a 2028 7374        mode : (st
-0000e2b0: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
-0000e2c0: 2020 2065 6974 6865 7220 2262 6f78 222c     either "box",
-0000e2d0: 2022 706c 616e 6522 206f 7220 2273 7068   "plane" or "sph
-0000e2e0: 6572 6522 0a20 2020 2020 2020 2020 2020  ere".           
-0000e2f0: 2069 6e76 6572 7420 3a20 2862 6f6f 6c29   invert : (bool)
-0000e300: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e310: 2069 6e76 6572 7420 7365 6c65 6374 696f   invert selectio
-0000e320: 6e20 2869 6e73 6964 652d 6f75 7429 0a0a  n (inside-out)..
-0000e330: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
-0000e340: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-0000e350: 5b63 7574 7465 722e 7079 5d28 6874 7470  [cutter.py](http
-0000e360: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000e370: 6172 636f 6d75 7379 2f76 6564 6f2f 626c  arcomusy/vedo/bl
-0000e380: 6f62 2f6d 6173 7465 722f 6578 616d 706c  ob/master/exampl
-0000e390: 6573 2f62 6173 6963 2f63 7574 7465 722e  es/basic/cutter.
-0000e3a0: 7079 290a 0a20 2020 2020 2020 2020 2020  py)..           
-0000e3b0: 2021 5b5d 2868 7474 7073 3a2f 2f75 7365   ![](https://use
-0000e3c0: 722d 696d 6167 6573 2e67 6974 6875 6275  r-images.githubu
-0000e3d0: 7365 7263 6f6e 7465 6e74 2e63 6f6d 2f33  sercontent.com/3
-0000e3e0: 3238 3438 3339 312f 3530 3733 3838 3636  2848391/50738866
-0000e3f0: 2d63 3036 3538 6538 302d 3131 6438 2d31  -c0658e80-11d8-1
-0000e400: 3165 392d 3935 3562 2d35 3531 6434 6438  1e9-955b-551d4d8
-0000e410: 6230 6462 352e 6a70 6729 0a20 2020 2020  b0db5.jpg).     
-0000e420: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
-0000e430: 6574 7572 6e20 6164 646f 6e73 2e61 6464  eturn addons.add
-0000e440: 5f63 7574 7465 725f 746f 6f6c 286f 626a  _cutter_tool(obj
-0000e450: 2c20 6d6f 6465 2c20 696e 7665 7274 290a  , mode, invert).
-0000e460: 0a20 2020 2064 6566 2061 6464 5f69 636f  .    def add_ico
-0000e470: 6e28 7365 6c66 2c20 6963 6f6e 2c20 706f  n(self, icon, po
-0000e480: 733d 332c 2073 697a 653d 302e 3038 293a  s=3, size=0.08):
-0000e490: 0a20 2020 2020 2020 2022 2222 4164 6420  .        """Add 
-0000e4a0: 616e 2069 6e73 6574 2069 636f 6e20 6d65  an inset icon me
-0000e4b0: 7368 2069 6e74 6f20 7468 6520 7361 6d65  sh into the same
-0000e4c0: 2072 656e 6465 7265 722e 0a0a 2020 2020   renderer...    
-0000e4d0: 2020 2020 4172 6775 6d65 6e74 733a 0a20      Arguments:. 
-0000e4e0: 2020 2020 2020 2020 2020 2070 6f73 203a             pos :
-0000e4f0: 2028 696e 742c 206c 6973 7429 0a20 2020   (int, list).   
-0000e500: 2020 2020 2020 2020 2020 2020 2069 636f               ico
-0000e510: 6e20 706f 7369 7469 6f6e 2069 6e20 7468  n position in th
-0000e520: 6520 7261 6e67 6520 5b31 2d34 5d20 696e  e range [1-4] in
-0000e530: 6469 6361 7469 6e67 206f 6e65 206f 6620  dicating one of 
-0000e540: 7468 6520 3420 636f 726e 6572 732c 0a20  the 4 corners,. 
-0000e550: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-0000e560: 7220 6974 2063 616e 2062 6520 6120 7475  r it can be a tu
-0000e570: 706c 6520 2878 2c79 2920 6173 2061 2066  ple (x,y) as a f
-0000e580: 7261 6374 696f 6e20 6f66 2074 6865 2072  raction of the r
-0000e590: 656e 6465 7265 7220 7369 7a65 2e0a 2020  enderer size..  
-0000e5a0: 2020 2020 2020 2020 2020 7369 7a65 203a            size :
-0000e5b0: 2028 666c 6f61 7429 0a20 2020 2020 2020   (float).       
-0000e5c0: 2020 2020 2020 2020 2073 697a 6520 6f66           size of
-0000e5d0: 2074 6865 2073 7175 6172 6520 696e 7365   the square inse
-0000e5e0: 742e 0a0a 2020 2020 2020 2020 4578 616d  t...        Exam
-0000e5f0: 706c 6573 3a0a 2020 2020 2020 2020 2020  ples:.          
-0000e600: 2020 2d20 5b69 636f 6e2e 7079 5d28 6874    - [icon.py](ht
-0000e610: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000e620: 2f6d 6172 636f 6d75 7379 2f76 6564 6f2f  /marcomusy/vedo/
-0000e630: 7472 6565 2f6d 6173 7465 722f 6578 616d  tree/master/exam
-0000e640: 706c 6573 2f6f 7468 6572 2f69 636f 6e2e  ples/other/icon.
-0000e650: 7079 290a 2020 2020 2020 2020 2222 220a  py).        """.
-0000e660: 2020 2020 2020 2020 6963 6f6e 7720 3d20          iconw = 
-0000e670: 6164 646f 6e73 2e49 636f 6e28 6963 6f6e  addons.Icon(icon
-0000e680: 2c20 706f 732c 2073 697a 6529 0a0a 2020  , pos, size)..  
-0000e690: 2020 2020 2020 6963 6f6e 772e 5365 7449        iconw.SetI
-0000e6a0: 6e74 6572 6163 746f 7228 7365 6c66 2e69  nteractor(self.i
-0000e6b0: 6e74 6572 6163 746f 7229 0a20 2020 2020  nteractor).     
-0000e6c0: 2020 2069 636f 6e77 2e45 6e61 626c 6564     iconw.Enabled
-0000e6d0: 4f6e 2829 0a20 2020 2020 2020 2069 636f  On().        ico
-0000e6e0: 6e77 2e49 6e74 6572 6163 7469 7665 4f66  nw.InteractiveOf
-0000e6f0: 6628 290a 2020 2020 2020 2020 7365 6c66  f().        self
-0000e700: 2e77 6964 6765 7473 2e61 7070 656e 6428  .widgets.append(
-0000e710: 6963 6f6e 7729 0a20 2020 2020 2020 2072  iconw).        r
-0000e720: 6574 7572 6e20 6963 6f6e 770a 0a0a 2020  eturn iconw...  
-0000e730: 2020 6465 6620 6164 645f 676c 6f62 616c    def add_global
-0000e740: 5f61 7865 7328 7365 6c66 2c20 6178 7479  _axes(self, axty
-0000e750: 7065 3d4e 6f6e 652c 2063 3d4e 6f6e 6529  pe=None, c=None)
-0000e760: 3a0a 2020 2020 2020 2020 2222 2244 7261  :.        """Dra
-0000e770: 7720 6178 6573 206f 6e20 7363 656e 652e  w axes on scene.
-0000e780: 2041 7661 696c 6162 6c65 2061 7865 7320   Available axes 
-0000e790: 7479 7065 733a 0a0a 2020 2020 2020 2020  types:..        
-0000e7a0: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
-0000e7b0: 2020 2020 2020 2061 7874 7970 6520 3a20         axtype : 
-0000e7c0: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
-0000e7d0: 2020 2020 2020 2d20 302c 2020 6e6f 2061        - 0,  no a
-0000e7e0: 7865 732c 0a20 2020 2020 2020 2020 2020  xes,.           
-0000e7f0: 2020 2020 202d 2031 2c20 2064 7261 7720       - 1,  draw 
-0000e800: 7468 7265 6520 6772 6179 2067 7269 6420  three gray grid 
-0000e810: 7761 6c6c 730a 2020 2020 2020 2020 2020  walls.          
-0000e820: 2020 2020 2020 2d20 322c 2020 7368 6f77        - 2,  show
-0000e830: 2063 6172 7465 7369 616e 2061 7865 7320   cartesian axes 
-0000e840: 6672 6f6d 2028 302c 302c 3029 0a20 2020  from (0,0,0).   
-0000e850: 2020 2020 2020 2020 2020 2020 202d 2033               - 3
-0000e860: 2c20 2073 686f 7720 706f 7369 7469 7665  ,  show positive
-0000e870: 2072 616e 6765 206f 6620 6361 7274 6573   range of cartes
-0000e880: 6961 6e20 6178 6573 2066 726f 6d20 2830  ian axes from (0
-0000e890: 2c30 2c30 290a 2020 2020 2020 2020 2020  ,0,0).          
-0000e8a0: 2020 2020 2020 2d20 342c 2020 7368 6f77        - 4,  show
-0000e8b0: 2061 2074 7269 6164 2061 7420 626f 7474   a triad at bott
-0000e8c0: 6f6d 206c 6566 740a 2020 2020 2020 2020  om left.        
-0000e8d0: 2020 2020 2020 2020 2d20 352c 2020 7368          - 5,  sh
-0000e8e0: 6f77 2061 2063 7562 6520 6174 2062 6f74  ow a cube at bot
-0000e8f0: 746f 6d20 6c65 6674 0a20 2020 2020 2020  tom left.       
-0000e900: 2020 2020 2020 2020 202d 2036 2c20 206d           - 6,  m
-0000e910: 6172 6b20 7468 6520 636f 726e 6572 7320  ark the corners 
-0000e920: 6f66 2074 6865 2062 6f75 6e64 696e 6720  of the bounding 
-0000e930: 626f 780a 2020 2020 2020 2020 2020 2020  box.            
-0000e940: 2020 2020 2d20 372c 2020 6472 6177 2061      - 7,  draw a
-0000e950: 2033 4420 7275 6c65 7220 6174 2065 6163   3D ruler at eac
-0000e960: 6820 7369 6465 206f 6620 7468 6520 6361  h side of the ca
-0000e970: 7274 6573 6961 6e20 6178 6573 0a20 2020  rtesian axes.   
-0000e980: 2020 2020 2020 2020 2020 2020 202d 2038               - 8
-0000e990: 2c20 2073 686f 7720 7468 6520 7674 6b43  ,  show the vtkC
-0000e9a0: 7562 6541 7865 7341 6374 6f72 206f 626a  ubeAxesActor obj
-0000e9b0: 6563 740a 2020 2020 2020 2020 2020 2020  ect.            
-0000e9c0: 2020 2020 2d20 392c 2020 7368 6f77 2074      - 9,  show t
-0000e9d0: 6865 2062 6f75 6e64 696e 6720 626f 7820  he bounding box 
-0000e9e0: 6f75 744c 696e 650a 2020 2020 2020 2020  outLine.        
-0000e9f0: 2020 2020 2020 2020 2d20 3130 2c20 7368          - 10, sh
-0000ea00: 6f77 2074 6872 6565 2063 6972 636c 6573  ow three circles
-0000ea10: 2072 6570 7265 7365 6e74 696e 6720 7468   representing th
-0000ea20: 6520 6d61 7869 6d75 6d20 626f 756e 6469  e maximum boundi
-0000ea30: 6e67 2062 6f78 0a20 2020 2020 2020 2020  ng box.         
-0000ea40: 2020 2020 2020 202d 2031 312c 2073 686f         - 11, sho
-0000ea50: 7720 6120 6c61 7267 6520 6772 6964 206f  w a large grid o
-0000ea60: 6e20 7468 6520 782d 7920 706c 616e 650a  n the x-y plane.
-0000ea70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ea80: 2d20 3132 2c20 7368 6f77 2070 6f6c 6172  - 12, show polar
-0000ea90: 2061 7865 730a 2020 2020 2020 2020 2020   axes.          
-0000eaa0: 2020 2020 2020 2d20 3133 2c20 6472 6177        - 13, draw
-0000eab0: 2061 2073 696d 706c 6520 7275 6c65 7220   a simple ruler 
-0000eac0: 6174 2074 6865 2062 6f74 746f 6d20 6f66  at the bottom of
-0000ead0: 2074 6865 2077 696e 646f 770a 0a20 2020   the window..   
-0000eae0: 2020 2020 2020 2020 2041 7869 7320 7479           Axis ty
-0000eaf0: 7065 2d31 2063 616e 2062 6520 6675 6c6c  pe-1 can be full
-0000eb00: 7920 6375 7374 6f6d 697a 6564 2062 7920  y customized by 
-0000eb10: 7061 7373 696e 6720 6120 6469 6374 696f  passing a dictio
-0000eb20: 6e61 7279 2061 7865 733d 6469 6374 2829  nary axes=dict()
-0000eb30: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
-0000eb40: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-0000eb50: 6060 6070 7974 686f 6e0a 2020 2020 2020  ```python.      
-0000eb60: 2020 2020 2020 6672 6f6d 2076 6564 6f20        from vedo 
-0000eb70: 696d 706f 7274 2042 6f78 2c20 7368 6f77  import Box, show
-0000eb80: 0a20 2020 2020 2020 2020 2020 2062 203d  .            b =
-0000eb90: 2042 6f78 2870 6f73 3d28 302c 2030 2c20   Box(pos=(0, 0, 
-0000eba0: 3029 2c20 6c65 6e67 7468 3d38 302c 2077  0), length=80, w
-0000ebb0: 6964 7468 3d39 302c 2068 6569 6768 743d  idth=90, height=
-0000ebc0: 3730 292e 616c 7068 6128 302e 3129 0a20  70).alpha(0.1). 
-0000ebd0: 2020 2020 2020 2020 2020 2073 686f 7728             show(
-0000ebe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ebf0: 2062 2c0a 2020 2020 2020 2020 2020 2020   b,.            
-0000ec00: 2020 2020 6178 6573 3d7b 0a20 2020 2020      axes={.     
-0000ec10: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000ec20: 7874 6974 6c65 223a 2022 536f 6d65 206c  xtitle": "Some l
-0000ec30: 6f6e 6720 7661 7269 6162 6c65 205b 612e  ong variable [a.
-0000ec40: 752e 5d22 2c0a 2020 2020 2020 2020 2020  u.]",.          
-0000ec50: 2020 2020 2020 2020 2020 226e 756d 6265            "numbe
-0000ec60: 725f 6f66 5f64 6976 6973 696f 6e73 223a  r_of_divisions":
-0000ec70: 2034 2c0a 2020 2020 2020 2020 2020 2020   4,.            
-0000ec80: 2020 2020 2020 2020 2320 2e2e 2e0a 2020          # ....  
-0000ec90: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-0000eca0: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-0000ecb0: 2020 2020 2020 2020 2020 2060 6060 0a0a             ```..
-0000ecc0: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
-0000ecd0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-0000ece0: 5b63 7573 746f 6d5f 6178 6573 312e 7079  [custom_axes1.py
-0000ecf0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000ed00: 2e63 6f6d 2f6d 6172 636f 6d75 7379 2f76  .com/marcomusy/v
-0000ed10: 6564 6f2f 626c 6f62 2f6d 6173 7465 722f  edo/blob/master/
-0000ed20: 6578 616d 706c 6573 2f70 7970 6c6f 742f  examples/pyplot/
-0000ed30: 6375 7374 6f6d 5f61 7865 7331 2e70 7929  custom_axes1.py)
-0000ed40: 0a20 2020 2020 2020 2020 2020 202d 205b  .            - [
-0000ed50: 6375 7374 6f6d 5f61 7865 7332 2e70 795d  custom_axes2.py]
-0000ed60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000ed70: 636f 6d2f 6d61 7263 6f6d 7573 792f 7665  com/marcomusy/ve
-0000ed80: 646f 2f62 6c6f 622f 6d61 7374 6572 2f65  do/blob/master/e
-0000ed90: 7861 6d70 6c65 732f 7079 706c 6f74 2f63  xamples/pyplot/c
-0000eda0: 7573 746f 6d5f 6178 6573 322e 7079 290a  ustom_axes2.py).
-0000edb0: 2020 2020 2020 2020 2020 2020 2d20 5b63              - [c
-0000edc0: 7573 746f 6d5f 6178 6573 332e 7079 5d28  ustom_axes3.py](
-0000edd0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000ede0: 6f6d 2f6d 6172 636f 6d75 7379 2f76 6564  om/marcomusy/ved
-0000edf0: 6f2f 626c 6f62 2f6d 6173 7465 722f 6578  o/blob/master/ex
-0000ee00: 616d 706c 6573 2f70 7970 6c6f 742f 6375  amples/pyplot/cu
-0000ee10: 7374 6f6d 5f61 7865 7333 2e70 7929 0a20  stom_axes3.py). 
-0000ee20: 2020 2020 2020 2020 2020 202d 205b 6375             - [cu
-0000ee30: 7374 6f6d 5f61 7865 7334 2e70 795d 2868  stom_axes4.py](h
-0000ee40: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000ee50: 6d2f 6d61 7263 6f6d 7573 792f 7665 646f  m/marcomusy/vedo
-0000ee60: 2f62 6c6f 622f 6d61 7374 6572 2f65 7861  /blob/master/exa
-0000ee70: 6d70 6c65 732f 7079 706c 6f74 2f63 7573  mples/pyplot/cus
-0000ee80: 746f 6d5f 6178 6573 342e 7079 290a 0a20  tom_axes4.py).. 
-0000ee90: 2020 2020 2020 2020 2020 203c 696d 6720             <img 
-0000eea0: 7372 633d 2268 7474 7073 3a2f 2f75 7365  src="https://use
-0000eeb0: 722d 696d 6167 6573 2e67 6974 6875 6275  r-images.githubu
-0000eec0: 7365 7263 6f6e 7465 6e74 2e63 6f6d 2f33  sercontent.com/3
-0000eed0: 3238 3438 3339 312f 3732 3735 3238 3730  2848391/72752870
-0000eee0: 2d61 6237 6435 3238 302d 3362 6333 2d31  -ab7d5280-3bc3-1
-0000eef0: 3165 612d 3839 3131 2d39 6163 6530 3032  1ea-8911-9ace002
-0000ef00: 3131 6532 332e 706e 6722 2077 6964 7468  11e23.png" width
-0000ef10: 3d22 3630 3022 3e0a 2020 2020 2020 2020  ="600">.        
-0000ef20: 2222 220a 2020 2020 2020 2020 6164 646f  """.        addo
-0000ef30: 6e73 2e61 6464 5f67 6c6f 6261 6c5f 6178  ns.add_global_ax
-0000ef40: 6573 2861 7874 7970 652c 2063 290a 2020  es(axtype, c).  
-0000ef50: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-0000ef60: 660a 0a20 2020 2064 6566 2061 6464 5f6c  f..    def add_l
-0000ef70: 6567 656e 645f 626f 7828 7365 6c66 2c20  egend_box(self, 
-0000ef80: 2a2a 6b77 6172 6773 293a 0a20 2020 2020  **kwargs):.     
-0000ef90: 2020 2022 2222 4164 6420 6120 6c65 6765     """Add a lege
-0000efa0: 6e64 2074 6f20 7468 6520 746f 7020 7269  nd to the top ri
-0000efb0: 6768 742e 0a0a 2020 2020 2020 2020 4578  ght...        Ex
-0000efc0: 616d 706c 6573 3a0a 2020 2020 2020 2020  amples:.        
-0000efd0: 2020 2020 2d20 5b6c 6567 656e 6462 6f78      - [legendbox
-0000efe0: 2e70 795d 2868 7474 7073 3a2f 2f67 6974  .py](https://git
-0000eff0: 6875 622e 636f 6d2f 6d61 7263 6f6d 7573  hub.com/marcomus
-0000f000: 792f 7665 646f 2f62 6c6f 622f 6d61 7374  y/vedo/blob/mast
-0000f010: 6572 2f65 7861 6d70 6c65 732f 6578 616d  er/examples/exam
-0000f020: 706c 6573 2f62 6173 6963 2f6c 6567 656e  ples/basic/legen
-0000f030: 6462 6f78 2e70 7929 2c0a 2020 2020 2020  dbox.py),.      
-0000f040: 2020 2020 2020 2d20 5b66 6c61 675f 6c61        - [flag_la
-0000f050: 6265 6c73 312e 7079 5d28 6874 7470 733a  bels1.py](https:
-0000f060: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6172  //github.com/mar
-0000f070: 636f 6d75 7379 2f76 6564 6f2f 626c 6f62  comusy/vedo/blob
-0000f080: 2f6d 6173 7465 722f 6578 616d 706c 6573  /master/examples
-0000f090: 2f65 7861 6d70 6c65 732f 6f74 6865 722f  /examples/other/
-0000f0a0: 666c 6167 5f6c 6162 656c 7331 2e70 7929  flag_labels1.py)
-0000f0b0: 0a20 2020 2020 2020 2020 2020 202d 205b  .            - [
-0000f0c0: 666c 6167 5f6c 6162 656c 7332 2e70 795d  flag_labels2.py]
-0000f0d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000f0e0: 636f 6d2f 6d61 7263 6f6d 7573 792f 7665  com/marcomusy/ve
-0000f0f0: 646f 2f62 6c6f 622f 6d61 7374 6572 2f65  do/blob/master/e
-0000f100: 7861 6d70 6c65 732f 6578 616d 706c 6573  xamples/examples
-0000f110: 2f6f 7468 6572 2f66 6c61 675f 6c61 6265  /other/flag_labe
-0000f120: 6c73 322e 7079 290a 2020 2020 2020 2020  ls2.py).        
-0000f130: 2222 220a 2020 2020 2020 2020 6163 7473  """.        acts
-0000f140: 203d 2073 656c 662e 6765 745f 6d65 7368   = self.get_mesh
-0000f150: 6573 2829 0a20 2020 2020 2020 206c 6220  es().        lb 
-0000f160: 3d20 6164 646f 6e73 2e4c 6567 656e 6442  = addons.LegendB
-0000f170: 6f78 2861 6374 732c 202a 2a6b 7761 7267  ox(acts, **kwarg
-0000f180: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-0000f190: 6164 6428 6c62 290a 2020 2020 2020 2020  add(lb).        
-0000f1a0: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-0000f1b0: 2064 6566 2061 6464 5f68 696e 7428 0a20   def add_hint(. 
-0000f1c0: 2020 2020 2020 2020 2020 2073 656c 662c             self,
-0000f1d0: 206f 626a 2c20 7465 7874 3d22 222c 2063   obj, text="", c
-0000f1e0: 3d22 6b22 2c20 6263 3d22 7965 6c6c 6f77  ="k", bc="yellow
-0000f1f0: 3822 2c0a 2020 2020 2020 2020 2020 2020  8",.            
-0000f200: 666f 6e74 3d22 4361 6c63 6f22 2c20 7369  font="Calco", si
-0000f210: 7a65 3d31 382c 206a 7573 7469 6679 3d30  ze=18, justify=0
-0000f220: 2c20 616e 676c 653d 302c 2064 656c 6179  , angle=0, delay
-0000f230: 3d31 3030 2c0a 2020 2020 2020 2020 293a  =100,.        ):
-0000f240: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000f250: 2020 2020 2043 7265 6174 6520 6120 706f       Create a po
-0000f260: 702d 7570 2068 696e 7420 7374 796c 6520  p-up hint style 
-0000f270: 6d65 7373 6167 6520 7768 656e 2068 6f76  message when hov
-0000f280: 6572 696e 6720 616e 206f 626a 6563 742e  ering an object.
-0000f290: 0a20 2020 2020 2020 2055 7365 2061 6464  .        Use add
-0000f2a0: 5f68 696e 7428 4661 6c73 6529 2074 6f20  _hint(False) to 
-0000f2b0: 6469 7361 626c 6520 616c 6c20 6869 6e74  disable all hint
-0000f2c0: 732e 0a0a 2020 2020 2020 2020 4172 6775  s...        Argu
-0000f2d0: 6d65 6e74 733a 0a20 2020 2020 2020 2020  ments:.         
-0000f2e0: 2020 206f 626a 203a 2028 4d65 7368 2c20     obj : (Mesh, 
-0000f2f0: 506f 696e 7473 290a 2020 2020 2020 2020  Points).        
-0000f300: 2020 2020 2020 2020 7468 6520 6f62 6a65          the obje
-0000f310: 6374 2074 6f20 6173 736f 6369 6174 6520  ct to associate 
-0000f320: 7468 6520 706f 702d 7570 2074 6f0a 2020  the pop-up to.  
-0000f330: 2020 2020 2020 2020 2020 7465 7874 203a            text :
-0000f340: 2028 7374 7229 0a20 2020 2020 2020 2020   (str).         
-0000f350: 2020 2020 2020 2073 7472 696e 6720 6465         string de
-0000f360: 7363 7269 7074 696f 6e20 6f66 2074 6865  scription of the
-0000f370: 2070 6f70 2d75 700a 2020 2020 2020 2020   pop-up.        
-0000f380: 2020 2020 6465 6c61 7920 3a20 2869 6e74      delay : (int
-0000f390: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000f3a0: 2020 6d69 6c6c 6973 6563 6f6e 6473 2074    milliseconds t
-0000f3b0: 6f20 7761 6974 2062 6566 6f72 6520 706f  o wait before po
-0000f3c0: 702d 7570 206f 6363 7572 730a 2020 2020  p-up occurs.    
-0000f3d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000f3e0: 6966 2073 656c 662e 6f66 6673 6372 6565  if self.offscree
-0000f3f0: 6e3a 0a20 2020 2020 2020 2020 2020 2072  n:.            r
-0000f400: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-0000f410: 2020 2020 6966 2076 6564 6f2e 7674 6b5f      if vedo.vtk_
-0000f420: 7665 7273 696f 6e5b 305d 203d 3d20 3920  version[0] == 9 
-0000f430: 616e 6420 224c 696e 7578 2220 696e 2076  and "Linux" in v
-0000f440: 6564 6f2e 7379 735f 706c 6174 666f 726d  edo.sys_platform
-0000f450: 3a20 2023 204c 696e 7578 2076 746b 3920  :  # Linux vtk9 
-0000f460: 6973 2062 7567 6765 640a 2020 2020 2020  is bugged.      
-0000f470: 2020 2020 2020 7665 646f 2e6c 6f67 6765        vedo.logge
-0000f480: 722e 7761 726e 696e 6728 2261 6464 5f68  r.warning("add_h
-0000f490: 696e 7428 2920 6973 206e 6f74 2061 7661  int() is not ava
-0000f4a0: 696c 6162 6c65 206f 6e20 4c69 6e75 7820  ilable on Linux 
-0000f4b0: 706c 6174 666f 726d 732e 2229 0a20 2020  platforms.").   
-0000f4c0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0000f4d0: 7365 6c66 0a0a 2020 2020 2020 2020 6966  self..        if
-0000f4e0: 206f 626a 2069 7320 4661 6c73 653a 0a20   obj is False:. 
-0000f4f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000f500: 6869 6e74 5f77 6964 6765 742e 456e 6162  hint_widget.Enab
-0000f510: 6c65 644f 6666 2829 0a20 2020 2020 2020  ledOff().       
-0000f520: 2020 2020 2073 656c 662e 6869 6e74 5f77       self.hint_w
-0000f530: 6964 6765 7420 3d20 4e6f 6e65 0a20 2020  idget = None.   
-0000f540: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0000f550: 7365 6c66 0a0a 2020 2020 2020 2020 6966  self..        if
-0000f560: 2074 6578 7420 6973 2046 616c 7365 2061   text is False a
-0000f570: 6e64 2073 656c 662e 6869 6e74 5f77 6964  nd self.hint_wid
-0000f580: 6765 743a 0a20 2020 2020 2020 2020 2020  get:.           
-0000f590: 2073 656c 662e 6869 6e74 5f77 6964 6765   self.hint_widge
-0000f5a0: 742e 5265 6d6f 7665 4261 6c6c 6f6f 6e28  t.RemoveBalloon(
-0000f5b0: 6f62 6a29 0a20 2020 2020 2020 2020 2020  obj).           
-0000f5c0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-0000f5d0: 2020 2020 2020 6966 2074 6578 7420 3d3d        if text ==
-0000f5e0: 2022 223a 0a20 2020 2020 2020 2020 2020   "":.           
-0000f5f0: 2069 6620 6f62 6a2e 6e61 6d65 3a0a 2020   if obj.name:.  
-0000f600: 2020 2020 2020 2020 2020 2020 2020 7465                te
-0000f610: 7874 203d 206f 626a 2e6e 616d 650a 2020  xt = obj.name.  
-0000f620: 2020 2020 2020 2020 2020 656c 6966 206f            elif o
-0000f630: 626a 2e66 696c 656e 616d 653a 0a20 2020  bj.filename:.   
-0000f640: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-0000f650: 7420 3d20 6f62 6a2e 6669 6c65 6e61 6d65  t = obj.filename
-0000f660: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-0000f670: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000f680: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-0000f690: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
-0000f6a0: 656c 662e 6869 6e74 5f77 6964 6765 743a  elf.hint_widget:
-0000f6b0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000f6c0: 662e 6869 6e74 5f77 6964 6765 7420 3d20  f.hint_widget = 
-0000f6d0: 7674 6b2e 7674 6b42 616c 6c6f 6f6e 5769  vtk.vtkBalloonWi
-0000f6e0: 6467 6574 2829 0a0a 2020 2020 2020 2020  dget()..        
-0000f6f0: 2020 2020 7265 7020 3d20 7674 6b2e 7674      rep = vtk.vt
-0000f700: 6b42 616c 6c6f 6f6e 5265 7072 6573 656e  kBalloonRepresen
-0000f710: 7461 7469 6f6e 2829 0a20 2020 2020 2020  tation().       
-0000f720: 2020 2020 2072 6570 2e53 6574 4261 6c6c       rep.SetBall
-0000f730: 6f6f 6e4c 6179 6f75 7454 6f49 6d61 6765  oonLayoutToImage
-0000f740: 5269 6768 7428 290a 0a20 2020 2020 2020  Right()..       
-0000f750: 2020 2020 2074 7265 7020 3d20 7265 702e       trep = rep.
-0000f760: 4765 7454 6578 7450 726f 7065 7274 7928  GetTextProperty(
-0000f770: 290a 2020 2020 2020 2020 2020 2020 7472  ).            tr
-0000f780: 6570 2e53 6574 466f 6e74 4661 6d69 6c79  ep.SetFontFamily
-0000f790: 2876 746b 2e56 544b 5f46 4f4e 545f 4649  (vtk.VTK_FONT_FI
-0000f7a0: 4c45 290a 2020 2020 2020 2020 2020 2020  LE).            
-0000f7b0: 7472 6570 2e53 6574 466f 6e74 4669 6c65  trep.SetFontFile
-0000f7c0: 2875 7469 6c73 2e67 6574 5f66 6f6e 745f  (utils.get_font_
-0000f7d0: 7061 7468 2866 6f6e 7429 290a 2020 2020  path(font)).    
-0000f7e0: 2020 2020 2020 2020 7472 6570 2e53 6574          trep.Set
-0000f7f0: 466f 6e74 5369 7a65 2873 697a 6529 0a20  FontSize(size). 
-0000f800: 2020 2020 2020 2020 2020 2074 7265 702e             trep.
-0000f810: 5365 7443 6f6c 6f72 2876 6564 6f2e 6765  SetColor(vedo.ge
-0000f820: 745f 636f 6c6f 7228 6329 290a 2020 2020  t_color(c)).    
-0000f830: 2020 2020 2020 2020 7472 6570 2e53 6574          trep.Set
-0000f840: 4261 636b 6772 6f75 6e64 436f 6c6f 7228  BackgroundColor(
-0000f850: 7665 646f 2e67 6574 5f63 6f6c 6f72 2862  vedo.get_color(b
-0000f860: 6329 290a 2020 2020 2020 2020 2020 2020  c)).            
-0000f870: 7472 6570 2e53 6574 5368 6164 6f77 2846  trep.SetShadow(F
-0000f880: 616c 7365 290a 2020 2020 2020 2020 2020  alse).          
-0000f890: 2020 7472 6570 2e53 6574 4a75 7374 6966    trep.SetJustif
-0000f8a0: 6963 6174 696f 6e28 6a75 7374 6966 7929  ication(justify)
-0000f8b0: 0a20 2020 2020 2020 2020 2020 2074 7265  .            tre
-0000f8c0: 702e 5573 6554 6967 6874 426f 756e 6469  p.UseTightBoundi
-0000f8d0: 6e67 426f 784f 6e28 290a 0a20 2020 2020  ngBoxOn()..     
-0000f8e0: 2020 2020 2020 2073 656c 662e 6869 6e74         self.hint
-0000f8f0: 5f77 6964 6765 742e 4d61 6e61 6765 7343  _widget.ManagesC
-0000f900: 7572 736f 724f 6666 2829 0a20 2020 2020  ursorOff().     
-0000f910: 2020 2020 2020 2073 656c 662e 6869 6e74         self.hint
-0000f920: 5f77 6964 6765 742e 5365 7454 696d 6572  _widget.SetTimer
-0000f930: 4475 7261 7469 6f6e 2864 656c 6179 290a  Duration(delay).
-0000f940: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000f950: 2e68 696e 745f 7769 6467 6574 2e53 6574  .hint_widget.Set
-0000f960: 496e 7465 7261 6374 6f72 2873 656c 662e  Interactor(self.
-0000f970: 696e 7465 7261 6374 6f72 290a 2020 2020  interactor).    
-0000f980: 2020 2020 2020 2020 6966 2061 6e67 6c65          if angle
-0000f990: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000f9a0: 2020 7265 702e 5365 744f 7269 656e 7461    rep.SetOrienta
-0000f9b0: 7469 6f6e 2861 6e67 6c65 290a 2020 2020  tion(angle).    
-0000f9c0: 2020 2020 2020 2020 2020 2020 7265 702e              rep.
-0000f9d0: 5365 7442 6163 6b67 726f 756e 644f 7061  SetBackgroundOpa
-0000f9e0: 6369 7479 2830 290a 2020 2020 2020 2020  city(0).        
-0000f9f0: 2020 2020 7365 6c66 2e68 696e 745f 7769      self.hint_wi
-0000fa00: 6467 6574 2e53 6574 5265 7072 6573 656e  dget.SetRepresen
-0000fa10: 7461 7469 6f6e 2872 6570 290a 2020 2020  tation(rep).    
-0000fa20: 2020 2020 2020 2020 7365 6c66 2e77 6964          self.wid
-0000fa30: 6765 7473 2e61 7070 656e 6428 7365 6c66  gets.append(self
-0000fa40: 2e68 696e 745f 7769 6467 6574 290a 2020  .hint_widget).  
-0000fa50: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-0000fa60: 662e 696e 7465 7261 6374 6f72 2e47 6574  f.interactor.Get
-0000fa70: 496e 6974 6961 6c69 7a65 6428 293a 0a20  Initialized():. 
-0000fa80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000fa90: 656c 662e 6869 6e74 5f77 6964 6765 742e  elf.hint_widget.
-0000faa0: 456e 6162 6c65 644f 6e28 290a 2020 2020  EnabledOn().    
-0000fab0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000fac0: 2020 2020 2020 2020 2020 2020 2020 7665                ve
-0000fad0: 646f 2e6c 6f67 6765 722e 7761 726e 696e  do.logger.warnin
-0000fae0: 6728 2261 6464 5f68 696e 7428 2920 6d75  g("add_hint() mu
-0000faf0: 7374 2062 6520 6361 6c6c 6564 2061 6674  st be called aft
-0000fb00: 6572 2073 686f 7728 292e 2053 6b69 702e  er show(). Skip.
-0000fb10: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0000fb20: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-0000fb30: 2020 2020 2020 2020 6273 7420 3d20 7365          bst = se
-0000fb40: 6c66 2e68 696e 745f 7769 6467 6574 2e47  lf.hint_widget.G
-0000fb50: 6574 4261 6c6c 6f6f 6e53 7472 696e 6728  etBalloonString(
-0000fb60: 6f62 6a29 0a20 2020 2020 2020 2069 6620  obj).        if 
-0000fb70: 6273 743a 0a20 2020 2020 2020 2020 2020  bst:.           
-0000fb80: 2073 656c 662e 6869 6e74 5f77 6964 6765   self.hint_widge
-0000fb90: 742e 5570 6461 7465 4261 6c6c 6f6f 6e53  t.UpdateBalloonS
-0000fba0: 7472 696e 6728 6f62 6a2c 2074 6578 7429  tring(obj, text)
-0000fbb0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0000fbc0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000fbd0: 6869 6e74 5f77 6964 6765 742e 4164 6442  hint_widget.AddB
-0000fbe0: 616c 6c6f 6f6e 286f 626a 2c20 7465 7874  alloon(obj, text
-0000fbf0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
-0000fc00: 6e20 7365 6c66 0a0a 0a20 2020 2064 6566  n self...    def
-0000fc10: 2061 6464 5f73 6861 646f 7773 2873 656c   add_shadows(sel
-0000fc20: 6629 3a0a 2020 2020 2020 2020 2222 2241  f):.        """A
-0000fc30: 6464 2073 6861 646f 7773 2061 7420 7468  dd shadows at th
-0000fc40: 6520 6375 7272 656e 7420 7265 6e64 6572  e current render
-0000fc50: 6572 2e22 2222 0a20 2020 2020 2020 2073  er.""".        s
-0000fc60: 6861 646f 7773 203d 2076 746b 2e76 746b  hadows = vtk.vtk
-0000fc70: 5368 6164 6f77 4d61 7050 6173 7328 290a  ShadowMapPass().
-0000fc80: 2020 2020 2020 2020 7365 7120 3d20 7674          seq = vt
-0000fc90: 6b2e 7674 6b53 6571 7565 6e63 6550 6173  k.vtkSequencePas
-0000fca0: 7328 290a 2020 2020 2020 2020 7061 7373  s().        pass
-0000fcb0: 6573 203d 2076 746b 2e76 746b 5265 6e64  es = vtk.vtkRend
-0000fcc0: 6572 5061 7373 436f 6c6c 6563 7469 6f6e  erPassCollection
-0000fcd0: 2829 0a20 2020 2020 2020 2070 6173 7365  ().        passe
-0000fce0: 732e 4164 6449 7465 6d28 7368 6164 6f77  s.AddItem(shadow
-0000fcf0: 732e 4765 7453 6861 646f 774d 6170 4261  s.GetShadowMapBa
-0000fd00: 6b65 7250 6173 7328 2929 0a20 2020 2020  kerPass()).     
-0000fd10: 2020 2070 6173 7365 732e 4164 6449 7465     passes.AddIte
-0000fd20: 6d28 7368 6164 6f77 7329 0a20 2020 2020  m(shadows).     
-0000fd30: 2020 2073 6571 2e53 6574 5061 7373 6573     seq.SetPasses
-0000fd40: 2870 6173 7365 7329 0a20 2020 2020 2020  (passes).       
-0000fd50: 2063 616d 6572 6170 6173 7320 3d20 7674   camerapass = vt
-0000fd60: 6b2e 7674 6b43 616d 6572 6150 6173 7328  k.vtkCameraPass(
-0000fd70: 290a 2020 2020 2020 2020 6361 6d65 7261  ).        camera
-0000fd80: 7061 7373 2e53 6574 4465 6c65 6761 7465  pass.SetDelegate
-0000fd90: 5061 7373 2873 6571 290a 2020 2020 2020  Pass(seq).      
-0000fda0: 2020 7365 6c66 2e72 656e 6465 7265 722e    self.renderer.
-0000fdb0: 5365 7450 6173 7328 6361 6d65 7261 7061  SetPass(camerapa
-0000fdc0: 7373 290a 2020 2020 2020 2020 7265 7475  ss).        retu
-0000fdd0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-0000fde0: 2061 6464 5f61 6d62 6965 6e74 5f6f 6363   add_ambient_occ
-0000fdf0: 6c75 7369 6f6e 2873 656c 662c 2072 6164  lusion(self, rad
-0000fe00: 6975 732c 2062 6961 733d 302e 3031 2c20  ius, bias=0.01, 
-0000fe10: 626c 7572 3d54 7275 652c 2073 616d 706c  blur=True, sampl
-0000fe20: 6573 3d31 3030 293a 0a20 2020 2020 2020  es=100):.       
-0000fe30: 2022 2222 0a20 2020 2020 2020 2053 6372   """.        Scr
-0000fe40: 6565 6e20 5370 6163 6520 416d 6269 656e  een Space Ambien
-0000fe50: 7420 4f63 636c 7573 696f 6e2e 0a0a 2020  t Occlusion...  
-0000fe60: 2020 2020 2020 466f 7220 6576 6572 7920        For every 
-0000fe70: 7069 7865 6c20 6f6e 2074 6865 2073 6372  pixel on the scr
-0000fe80: 6565 6e2c 2074 6865 2070 6978 656c 2073  een, the pixel s
-0000fe90: 6861 6465 7220 7361 6d70 6c65 7320 7468  hader samples th
-0000fea0: 6520 6465 7074 6820 7661 6c75 6573 2061  e depth values a
-0000feb0: 726f 756e 640a 2020 2020 2020 2020 7468  round.        th
-0000fec0: 6520 6375 7272 656e 7420 7069 7865 6c20  e current pixel 
-0000fed0: 616e 6420 7472 6965 7320 746f 2063 6f6d  and tries to com
-0000fee0: 7075 7465 2074 6865 2061 6d6f 756e 7420  pute the amount 
-0000fef0: 6f66 206f 6363 6c75 7369 6f6e 2066 726f  of occlusion fro
-0000ff00: 6d20 6561 6368 206f 6620 7468 6520 7361  m each of the sa
-0000ff10: 6d70 6c65 640a 2020 2020 2020 2020 706f  mpled.        po
-0000ff20: 696e 7473 2e0a 0a20 2020 2020 2020 2041  ints...        A
-0000ff30: 7267 756d 656e 7473 3a0a 2020 2020 2020  rguments:.      
-0000ff40: 2020 2020 2020 7261 6469 7573 203a 2028        radius : (
-0000ff50: 666c 6f61 7429 0a20 2020 2020 2020 2020  float).         
-0000ff60: 2020 2020 2020 2072 6164 6975 7320 6f66         radius of
-0000ff70: 2069 6e66 6c75 656e 6365 2069 6e20 6162   influence in ab
-0000ff80: 736f 6c75 7465 2075 6e69 7473 0a20 2020  solute units.   
-0000ff90: 2020 2020 2020 2020 2062 6961 7320 3a20           bias : 
-0000ffa0: 2866 6c6f 6174 290a 2020 2020 2020 2020  (float).        
-0000ffb0: 2020 2020 2020 2020 6269 6173 206f 6620          bias of 
-0000ffc0: 7468 6520 6e6f 726d 616c 730a 2020 2020  the normals.    
-0000ffd0: 2020 2020 2020 2020 626c 7572 203a 2028          blur : (
-0000ffe0: 626f 6f6c 290a 2020 2020 2020 2020 2020  bool).          
-0000fff0: 2020 2020 2020 6164 6420 6120 626c 7572        add a blur
-00010000: 7269 6e67 2074 6f20 7468 6520 7361 6d70  ring to the samp
-00010010: 6c65 6420 706f 7369 7469 6f6e 730a 2020  led positions.  
-00010020: 2020 2020 2020 2020 2020 7361 6d70 6c65            sample
-00010030: 7320 3a20 2869 6e74 290a 2020 2020 2020  s : (int).      
-00010040: 2020 2020 2020 2020 2020 6e75 6d62 6572            number
-00010050: 206f 6620 7361 6d70 6c65 7320 746f 2070   of samples to p
-00010060: 726f 6265 0a0a 2020 2020 2020 2020 4578  robe..        Ex
-00010070: 616d 706c 6573 3a0a 2020 2020 2020 2020  amples:.        
-00010080: 2020 2020 2d20 5b73 7361 6f2e 7079 5d28      - [ssao.py](
-00010090: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000100a0: 6f6d 2f6d 6172 636f 6d75 7379 2f76 6564  om/marcomusy/ved
-000100b0: 6f2f 7472 6565 2f6d 6173 7465 722f 6578  o/tree/master/ex
-000100c0: 616d 706c 6573 2f62 6173 6963 2f73 7361  amples/basic/ssa
-000100d0: 6f2e 7079 290a 0a20 2020 2020 2020 2020  o.py)..         
-000100e0: 2020 2021 5b5d 2868 7474 7073 3a2f 2f76     ![](https://v
-000100f0: 6564 6f2e 656d 626c 2e65 732f 696d 6167  edo.embl.es/imag
-00010100: 6573 2f62 6173 6963 2f73 7361 6f2e 6a70  es/basic/ssao.jp
-00010110: 6729 0a20 2020 2020 2020 2022 2222 0a20  g).        """. 
-00010120: 2020 2020 2020 206c 6967 6874 7320 3d20         lights = 
-00010130: 7674 6b2e 7674 6b4c 6967 6874 7350 6173  vtk.vtkLightsPas
-00010140: 7328 290a 0a20 2020 2020 2020 206f 7061  s()..        opa
-00010150: 7175 6520 3d20 7674 6b2e 7674 6b4f 7061  que = vtk.vtkOpa
-00010160: 7175 6550 6173 7328 290a 0a20 2020 2020  quePass()..     
-00010170: 2020 2073 7361 6f43 616d 203d 2076 746b     ssaoCam = vtk
-00010180: 2e76 746b 4361 6d65 7261 5061 7373 2829  .vtkCameraPass()
-00010190: 0a20 2020 2020 2020 2073 7361 6f43 616d  .        ssaoCam
-000101a0: 2e53 6574 4465 6c65 6761 7465 5061 7373  .SetDelegatePass
-000101b0: 286f 7061 7175 6529 0a0a 2020 2020 2020  (opaque)..      
-000101c0: 2020 7373 616f 203d 2076 746b 2e76 746b    ssao = vtk.vtk
-000101d0: 5353 414f 5061 7373 2829 0a20 2020 2020  SSAOPass().     
-000101e0: 2020 2073 7361 6f2e 5365 7452 6164 6975     ssao.SetRadiu
-000101f0: 7328 7261 6469 7573 290a 2020 2020 2020  s(radius).      
-00010200: 2020 7373 616f 2e53 6574 4269 6173 2862    ssao.SetBias(b
-00010210: 6961 7329 0a20 2020 2020 2020 2073 7361  ias).        ssa
-00010220: 6f2e 5365 7442 6c75 7228 626c 7572 290a  o.SetBlur(blur).
-00010230: 2020 2020 2020 2020 7373 616f 2e53 6574          ssao.Set
-00010240: 4b65 726e 656c 5369 7a65 2873 616d 706c  KernelSize(sampl
-00010250: 6573 290a 2020 2020 2020 2020 7373 616f  es).        ssao
-00010260: 2e53 6574 4465 6c65 6761 7465 5061 7373  .SetDelegatePass
-00010270: 2873 7361 6f43 616d 290a 0a20 2020 2020  (ssaoCam)..     
-00010280: 2020 2074 7261 6e73 6c75 6365 6e74 203d     translucent =
-00010290: 2076 746b 2e76 746b 5472 616e 736c 7563   vtk.vtkTransluc
-000102a0: 656e 7450 6173 7328 290a 0a20 2020 2020  entPass()..     
-000102b0: 2020 2076 6f6c 7061 7373 203d 2076 746b     volpass = vtk
-000102c0: 2e76 746b 566f 6c75 6d65 7472 6963 5061  .vtkVolumetricPa
-000102d0: 7373 2829 0a20 2020 2020 2020 2064 6470  ss().        ddp
-000102e0: 203d 2076 746b 2e76 746b 4475 616c 4465   = vtk.vtkDualDe
-000102f0: 7074 6850 6565 6c69 6e67 5061 7373 2829  pthPeelingPass()
-00010300: 0a20 2020 2020 2020 2064 6470 2e53 6574  .        ddp.Set
-00010310: 5472 616e 736c 7563 656e 7450 6173 7328  TranslucentPass(
-00010320: 7472 616e 736c 7563 656e 7429 0a20 2020  translucent).   
-00010330: 2020 2020 2064 6470 2e53 6574 566f 6c75       ddp.SetVolu
-00010340: 6d65 7472 6963 5061 7373 2876 6f6c 7061  metricPass(volpa
-00010350: 7373 290a 0a20 2020 2020 2020 206f 7665  ss)..        ove
-00010360: 7220 3d20 7674 6b2e 7674 6b4f 7665 726c  r = vtk.vtkOverl
-00010370: 6179 5061 7373 2829 0a0a 2020 2020 2020  ayPass()..      
-00010380: 2020 636f 6c6c 6563 7469 6f6e 203d 2076    collection = v
-00010390: 746b 2e76 746b 5265 6e64 6572 5061 7373  tk.vtkRenderPass
-000103a0: 436f 6c6c 6563 7469 6f6e 2829 0a20 2020  Collection().   
-000103b0: 2020 2020 2063 6f6c 6c65 6374 696f 6e2e       collection.
-000103c0: 4164 6449 7465 6d28 6c69 6768 7473 290a  AddItem(lights).
-000103d0: 2020 2020 2020 2020 636f 6c6c 6563 7469          collecti
-000103e0: 6f6e 2e41 6464 4974 656d 2873 7361 6f29  on.AddItem(ssao)
-000103f0: 0a20 2020 2020 2020 2063 6f6c 6c65 6374  .        collect
-00010400: 696f 6e2e 4164 6449 7465 6d28 6464 7029  ion.AddItem(ddp)
-00010410: 0a20 2020 2020 2020 2063 6f6c 6c65 6374  .        collect
-00010420: 696f 6e2e 4164 6449 7465 6d28 6f76 6572  ion.AddItem(over
-00010430: 290a 0a20 2020 2020 2020 2073 6571 7565  )..        seque
-00010440: 6e63 6520 3d20 7674 6b2e 7674 6b53 6571  nce = vtk.vtkSeq
-00010450: 7565 6e63 6550 6173 7328 290a 2020 2020  uencePass().    
-00010460: 2020 2020 7365 7175 656e 6365 2e53 6574      sequence.Set
-00010470: 5061 7373 6573 2863 6f6c 6c65 6374 696f  Passes(collectio
-00010480: 6e29 0a0a 2020 2020 2020 2020 6361 6d20  n)..        cam 
-00010490: 3d20 7674 6b2e 7674 6b43 616d 6572 6150  = vtk.vtkCameraP
-000104a0: 6173 7328 290a 2020 2020 2020 2020 6361  ass().        ca
-000104b0: 6d2e 5365 7444 656c 6567 6174 6550 6173  m.SetDelegatePas
-000104c0: 7328 7365 7175 656e 6365 290a 0a20 2020  s(sequence)..   
-000104d0: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-000104e0: 6572 2e53 6574 5061 7373 2863 616d 290a  er.SetPass(cam).
-000104f0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00010500: 656c 660a 0a20 2020 2064 6566 2061 6464  elf..    def add
-00010510: 5f64 6570 7468 5f6f 665f 6669 656c 6428  _depth_of_field(
-00010520: 7365 6c66 2c20 6175 746f 666f 6375 733d  self, autofocus=
-00010530: 5472 7565 293a 0a20 2020 2020 2020 2022  True):.        "
-00010540: 2222 4164 6420 6120 6465 7074 6820 6f66  ""Add a depth of
-00010550: 2066 6965 6c64 2065 6666 6563 7420 696e   field effect in
-00010560: 2074 6865 2073 6365 6e65 2e22 2222 0a20   the scene.""". 
-00010570: 2020 2020 2020 206c 6967 6874 7320 3d20         lights = 
-00010580: 7674 6b2e 7674 6b4c 6967 6874 7350 6173  vtk.vtkLightsPas
-00010590: 7328 290a 0a20 2020 2020 2020 206f 7061  s()..        opa
-000105a0: 7175 6520 3d20 7674 6b2e 7674 6b4f 7061  que = vtk.vtkOpa
-000105b0: 7175 6550 6173 7328 290a 0a20 2020 2020  quePass()..     
-000105c0: 2020 2064 6f66 4361 6d20 3d20 7674 6b2e     dofCam = vtk.
-000105d0: 7674 6b43 616d 6572 6150 6173 7328 290a  vtkCameraPass().
-000105e0: 2020 2020 2020 2020 646f 6643 616d 2e53          dofCam.S
-000105f0: 6574 4465 6c65 6761 7465 5061 7373 286f  etDelegatePass(o
-00010600: 7061 7175 6529 0a0a 2020 2020 2020 2020  paque)..        
-00010610: 646f 6620 3d20 7674 6b2e 7674 6b44 6570  dof = vtk.vtkDep
-00010620: 7468 4f66 4669 656c 6450 6173 7328 290a  thOfFieldPass().
-00010630: 2020 2020 2020 2020 646f 662e 5365 7441          dof.SetA
-00010640: 7574 6f6d 6174 6963 466f 6361 6c44 6973  utomaticFocalDis
-00010650: 7461 6e63 6528 6175 746f 666f 6375 7329  tance(autofocus)
-00010660: 0a20 2020 2020 2020 2064 6f66 2e53 6574  .        dof.Set
-00010670: 4465 6c65 6761 7465 5061 7373 2864 6f66  DelegatePass(dof
-00010680: 4361 6d29 0a0a 2020 2020 2020 2020 636f  Cam)..        co
-00010690: 6c6c 6563 7469 6f6e 203d 2076 746b 2e76  llection = vtk.v
-000106a0: 746b 5265 6e64 6572 5061 7373 436f 6c6c  tkRenderPassColl
-000106b0: 6563 7469 6f6e 2829 0a20 2020 2020 2020  ection().       
-000106c0: 2063 6f6c 6c65 6374 696f 6e2e 4164 6449   collection.AddI
-000106d0: 7465 6d28 6c69 6768 7473 290a 2020 2020  tem(lights).    
-000106e0: 2020 2020 636f 6c6c 6563 7469 6f6e 2e41      collection.A
-000106f0: 6464 4974 656d 2864 6f66 290a 0a20 2020  ddItem(dof)..   
-00010700: 2020 2020 2073 6571 7565 6e63 6520 3d20       sequence = 
-00010710: 7674 6b2e 7674 6b53 6571 7565 6e63 6550  vtk.vtkSequenceP
-00010720: 6173 7328 290a 2020 2020 2020 2020 7365  ass().        se
-00010730: 7175 656e 6365 2e53 6574 5061 7373 6573  quence.SetPasses
-00010740: 2863 6f6c 6c65 6374 696f 6e29 0a0a 2020  (collection)..  
-00010750: 2020 2020 2020 6361 6d20 3d20 7674 6b2e        cam = vtk.
-00010760: 7674 6b43 616d 6572 6150 6173 7328 290a  vtkCameraPass().
-00010770: 2020 2020 2020 2020 6361 6d2e 5365 7444          cam.SetD
-00010780: 656c 6567 6174 6550 6173 7328 7365 7175  elegatePass(sequ
-00010790: 656e 6365 290a 0a20 2020 2020 2020 2073  ence)..        s
-000107a0: 656c 662e 7265 6e64 6572 6572 2e53 6574  elf.renderer.Set
-000107b0: 5061 7373 2863 616d 290a 2020 2020 2020  Pass(cam).      
-000107c0: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-000107d0: 2020 2064 6566 205f 6164 645f 736b 7962     def _add_skyb
-000107e0: 6f78 2873 656c 662c 2068 6472 6669 6c65  ox(self, hdrfile
-000107f0: 293a 0a20 2020 2020 2020 2023 206d 616e  ):.        # man
-00010800: 7920 6864 7220 6669 6c65 7320 6172 6520  y hdr files are 
-00010810: 6174 2068 7474 7073 3a2f 2f70 6f6c 7968  at https://polyh
-00010820: 6176 656e 2e63 6f6d 2f61 6c6c 0a0a 2020  aven.com/all..  
-00010830: 2020 2020 2020 6966 2075 7469 6c73 2e76        if utils.v
-00010840: 746b 5f76 6572 7369 6f6e 5f61 745f 6c65  tk_version_at_le
-00010850: 6173 7428 3929 3a0a 2020 2020 2020 2020  ast(9):.        
-00010860: 2020 2020 7265 6164 6572 203d 2076 746b      reader = vtk
-00010870: 2e76 746b 4844 5252 6561 6465 7228 290a  .vtkHDRReader().
-00010880: 2020 2020 2020 2020 2020 2020 2320 4368              # Ch
-00010890: 6563 6b20 7468 6520 696d 6167 6520 6361  eck the image ca
-000108a0: 6e20 6265 2072 6561 642e 0a20 2020 2020  n be read..     
-000108b0: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
-000108c0: 6164 6572 2e43 616e 5265 6164 4669 6c65  ader.CanReadFile
-000108d0: 2868 6472 6669 6c65 293a 0a20 2020 2020  (hdrfile):.     
-000108e0: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
-000108f0: 6c6f 6767 6572 2e65 7272 6f72 2866 2243  logger.error(f"C
-00010900: 616e 6e6f 7420 7265 6164 2048 4452 2066  annot read HDR f
-00010910: 696c 6520 7b68 6472 6669 6c65 7d22 290a  ile {hdrfile}").
-00010920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010930: 7265 7475 726e 2073 656c 660a 2020 2020  return self.    
-00010940: 2020 2020 2020 2020 7265 6164 6572 2e53          reader.S
-00010950: 6574 4669 6c65 4e61 6d65 2868 6472 6669  etFileName(hdrfi
-00010960: 6c65 290a 2020 2020 2020 2020 2020 2020  le).            
-00010970: 7265 6164 6572 2e55 7064 6174 6528 290a  reader.Update().
-00010980: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
-00010990: 7475 7265 203d 2076 746b 2e76 746b 5465  ture = vtk.vtkTe
-000109a0: 7874 7572 6528 290a 2020 2020 2020 2020  xture().        
-000109b0: 2020 2020 7465 7874 7572 652e 5365 7443      texture.SetC
-000109c0: 6f6c 6f72 4d6f 6465 546f 4469 7265 6374  olorModeToDirect
-000109d0: 5363 616c 6172 7328 290a 2020 2020 2020  Scalars().      
-000109e0: 2020 2020 2020 7465 7874 7572 652e 5365        texture.Se
-000109f0: 7449 6e70 7574 4461 7461 2872 6561 6465  tInputData(reade
-00010a00: 722e 4765 744f 7574 7075 7428 2929 0a0a  r.GetOutput())..
-00010a10: 2020 2020 2020 2020 2020 2020 2320 436f              # Co
-00010a20: 6e76 6572 7420 746f 2061 2063 7562 6520  nvert to a cube 
-00010a30: 6d61 700a 2020 2020 2020 2020 2020 2020  map.            
-00010a40: 7463 6d20 3d20 7674 6b2e 7674 6b45 7175  tcm = vtk.vtkEqu
-00010a50: 6972 6563 7461 6e67 756c 6172 546f 4375  irectangularToCu
-00010a60: 6265 4d61 7054 6578 7475 7265 2829 0a20  beMapTexture(). 
-00010a70: 2020 2020 2020 2020 2020 2074 636d 2e53             tcm.S
-00010a80: 6574 496e 7075 7454 6578 7475 7265 2874  etInputTexture(t
-00010a90: 6578 7475 7265 290a 2020 2020 2020 2020  exture).        
-00010aa0: 2020 2020 2320 456e 6162 6c65 206d 6970      # Enable mip
-00010ab0: 6d61 7070 696e 6720 746f 2068 616e 646c  mapping to handl
-00010ac0: 6520 4844 5220 696d 6167 650a 2020 2020  e HDR image.    
-00010ad0: 2020 2020 2020 2020 7463 6d2e 4d69 706d          tcm.Mipm
-00010ae0: 6170 4f6e 2829 0a20 2020 2020 2020 2020  apOn().         
-00010af0: 2020 2074 636d 2e49 6e74 6572 706f 6c61     tcm.Interpola
-00010b00: 7465 4f6e 2829 0a0a 2020 2020 2020 2020  teOn()..        
-00010b10: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
-00010b20: 722e 5365 7445 6e76 6972 6f6e 6d65 6e74  r.SetEnvironment
-00010b30: 5465 7874 7572 6528 7463 6d29 0a20 2020  Texture(tcm).   
-00010b40: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-00010b50: 6e64 6572 6572 2e55 7365 496d 6167 6542  nderer.UseImageB
-00010b60: 6173 6564 4c69 6768 7469 6e67 4f6e 2829  asedLightingOn()
-00010b70: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00010b80: 662e 736b 7962 6f78 203d 2076 746b 2e76  f.skybox = vtk.v
-00010b90: 746b 536b 7962 6f78 2829 0a20 2020 2020  tkSkybox().     
-00010ba0: 2020 2020 2020 2073 656c 662e 736b 7962         self.skyb
-00010bb0: 6f78 2e53 6574 5465 7874 7572 6528 7463  ox.SetTexture(tc
-00010bc0: 6d29 0a20 2020 2020 2020 2020 2020 2073  m).            s
-00010bd0: 656c 662e 7265 6e64 6572 6572 2e41 6464  elf.renderer.Add
-00010be0: 4163 746f 7228 7365 6c66 2e73 6b79 626f  Actor(self.skybo
-00010bf0: 7829 0a0a 2020 2020 2020 2020 656c 7365  x)..        else
-00010c00: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
-00010c10: 646f 2e6c 6f67 6765 722e 6572 726f 7228  do.logger.error(
-00010c20: 2261 6464 5f73 6b79 626f 7820 6e6f 7420  "add_skybox not 
-00010c30: 7375 7070 6f72 7465 6420 696e 2074 6869  supported in thi
-00010c40: 7320 5654 4b20 7665 7273 696f 6e2e 2053  s VTK version. S
-00010c50: 6b69 702e 2229 0a0a 2020 2020 2020 2020  kip.")..        
-00010c60: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00010c70: 2064 6566 2061 6464 5f72 656e 6465 7265   def add_rendere
-00010c80: 725f 6672 616d 6528 7365 6c66 2c20 633d  r_frame(self, c=
-00010c90: 4e6f 6e65 2c20 616c 7068 613d 4e6f 6e65  None, alpha=None
-00010ca0: 2c20 6c77 3d4e 6f6e 652c 2070 6164 6469  , lw=None, paddi
-00010cb0: 6e67 3d4e 6f6e 6529 3a0a 2020 2020 2020  ng=None):.      
-00010cc0: 2020 2222 220a 2020 2020 2020 2020 4164    """.        Ad
-00010cd0: 6420 6120 6672 616d 6520 746f 2074 6865  d a frame to the
-00010ce0: 2072 656e 6465 7265 7220 7375 6277 696e   renderer subwin
-00010cf0: 646f 772e 0a0a 2020 2020 2020 2020 4172  dow...        Ar
-00010d00: 6775 6d65 6e74 733a 0a20 2020 2020 2020  guments:.       
-00010d10: 2020 2020 2063 203a 2028 636f 6c6f 7229       c : (color)
-00010d20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010d30: 2063 6f6c 6f72 206e 616d 6520 6f72 2069   color name or i
-00010d40: 6e64 6578 0a20 2020 2020 2020 2020 2020  ndex.           
-00010d50: 2061 6c70 6861 203a 2028 666c 6f61 7429   alpha : (float)
-00010d60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010d70: 206f 7061 6369 7479 206c 6576 656c 0a20   opacity level. 
-00010d80: 2020 2020 2020 2020 2020 206c 7720 3a20             lw : 
-00010d90: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
-00010da0: 2020 2020 2020 6c69 6e65 2077 6964 7468        line width
-00010db0: 2069 6e20 7069 7865 6c73 2e0a 2020 2020   in pixels..    
-00010dc0: 2020 2020 2020 2020 7061 6464 696e 6720          padding 
-00010dd0: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
-00010de0: 2020 2020 2020 2020 2020 7061 6464 696e            paddin
-00010df0: 6720 7370 6163 6520 696e 2070 6978 656c  g space in pixel
-00010e00: 732e 0a20 2020 2020 2020 2022 2222 0a20  s..        """. 
-00010e10: 2020 2020 2020 2069 6620 6320 6973 204e         if c is N
-00010e20: 6f6e 653a 2020 2320 6175 746f 6d61 7469  one:  # automati
-00010e30: 6320 626c 6163 6b20 6f72 2077 6869 7465  c black or white
-00010e40: 0a20 2020 2020 2020 2020 2020 2063 203d  .            c =
-00010e50: 2028 302e 392c 2030 2e39 2c20 302e 3929   (0.9, 0.9, 0.9)
-00010e60: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00010e70: 6e70 2e73 756d 2876 6564 6f2e 706c 6f74  np.sum(vedo.plot
-00010e80: 7465 725f 696e 7374 616e 6365 2e72 656e  ter_instance.ren
-00010e90: 6465 7265 722e 4765 7442 6163 6b67 726f  derer.GetBackgro
-00010ea0: 756e 6428 2929 203e 2031 2e35 3a0a 2020  und()) > 1.5:.  
-00010eb0: 2020 2020 2020 2020 2020 2020 2020 6320                c 
-00010ec0: 3d20 2830 2e31 2c20 302e 312c 2030 2e31  = (0.1, 0.1, 0.1
-00010ed0: 290a 2020 2020 2020 2020 7265 6e66 203d  ).        renf =
-00010ee0: 2061 6464 6f6e 732e 5265 6e64 6572 6572   addons.Renderer
-00010ef0: 4672 616d 6528 632c 2061 6c70 6861 2c20  Frame(c, alpha, 
-00010f00: 6c77 2c20 7061 6464 696e 6729 0a20 2020  lw, padding).   
-00010f10: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-00010f20: 6572 2e41 6464 4163 746f 7228 7265 6e66  er.AddActor(renf
-00010f30: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00010f40: 2073 656c 660a 0a20 2020 2064 6566 2061   self..    def a
-00010f50: 6464 5f68 6f76 6572 5f6c 6567 656e 6428  dd_hover_legend(
-00010f60: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00010f70: 2020 2020 2020 2061 743d 4e6f 6e65 2c0a         at=None,.
-00010f80: 2020 2020 2020 2020 633d 4e6f 6e65 2c0a          c=None,.
-00010f90: 2020 2020 2020 2020 706f 733d 2262 6f74          pos="bot
-00010fa0: 746f 6d2d 6c65 6674 222c 0a20 2020 2020  tom-left",.     
-00010fb0: 2020 2066 6f6e 743d 2243 616c 636f 222c     font="Calco",
-00010fc0: 0a20 2020 2020 2020 2073 3d30 2e37 352c  .        s=0.75,
-00010fd0: 0a20 2020 2020 2020 2062 673d 2261 7574  .        bg="aut
-00010fe0: 6f22 2c0a 2020 2020 2020 2020 616c 7068  o",.        alph
-00010ff0: 613d 302e 312c 0a20 2020 2020 2020 206d  a=0.1,.        m
-00011000: 6178 6c65 6e67 7468 3d32 342c 0a20 2020  axlength=24,.   
-00011010: 2020 2020 2075 7365 5f69 6e66 6f3d 4661       use_info=Fa
-00011020: 6c73 652c 0a20 2020 2029 3a0a 2020 2020  lse,.    ):.    
-00011030: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00011040: 4164 6420 6120 6c65 6765 6e64 2077 6974  Add a legend wit
-00011050: 6820 3244 2074 6578 7420 7768 6963 6820  h 2D text which 
-00011060: 6973 2074 7269 6767 6572 6564 2062 7920  is triggered by 
-00011070: 686f 7665 7269 6e67 2074 6865 206d 6f75  hovering the mou
-00011080: 7365 206f 6e20 616e 206f 626a 6563 742e  se on an object.
-00011090: 0a0a 2020 2020 2020 2020 5468 6520 6372  ..        The cr
-000110a0: 6561 7465 6420 7465 7874 206f 626a 6563  eated text objec
-000110b0: 7420 6172 6520 7374 6f72 6564 2069 6e20  t are stored in 
-000110c0: 706c 6f74 7465 722e 686f 7665 725f 6c65  plotter.hover_le
-000110d0: 6765 6e64 730a 0a20 2020 2020 2020 2041  gends..        A
-000110e0: 7267 756d 656e 7473 3a0a 2020 2020 2020  rguments:.      
-000110f0: 2020 2020 2020 6320 3a20 2863 6f6c 6f72        c : (color
-00011100: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00011110: 2020 5465 7874 2063 6f6c 6f72 2e20 4966    Text color. If
-00011120: 204e 6f6e 6520 7468 656e 2062 6c61 636b   None then black
-00011130: 206f 7220 7768 6974 6520 6973 2063 686f   or white is cho
-00011140: 7365 6e20 6175 746f 6d61 7469 6361 6c6c  sen automaticall
-00011150: 790a 2020 2020 2020 2020 2020 2020 706f  y.            po
-00011160: 7320 3a20 2873 7472 290a 2020 2020 2020  s : (str).      
-00011170: 2020 2020 2020 2020 2020 7465 7874 2070            text p
-00011180: 6f73 6974 696f 6e69 6e67 0a20 2020 2020  ositioning.     
-00011190: 2020 2020 2020 2066 6f6e 7420 3a20 2873         font : (s
-000111a0: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
-000111b0: 2020 2020 7465 7874 2066 6f6e 7420 7479      text font ty
-000111c0: 7065 2e20 4368 6563 6b20 5b61 7661 696c  pe. Check [avail
-000111d0: 6162 6c65 2066 6f6e 7473 2068 6572 655d  able fonts here]
-000111e0: 2868 7474 7073 3a2f 2f76 6564 6f2e 656d  (https://vedo.em
-000111f0: 626c 2e65 732f 666f 6e74 7329 2e0a 2020  bl.es/fonts)..  
-00011200: 2020 2020 2020 2020 2020 7320 3a20 2866            s : (f
-00011210: 6c6f 6174 290a 2020 2020 2020 2020 2020  loat).          
-00011220: 2020 2020 2020 7465 7874 2073 697a 6520        text size 
-00011230: 7363 616c 650a 2020 2020 2020 2020 2020  scale.          
-00011240: 2020 6267 203a 2028 636f 6c6f 7229 0a20    bg : (color). 
-00011250: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00011260: 6163 6b67 726f 756e 6420 636f 6c6f 7220  ackground color 
-00011270: 6f66 2074 6865 2032 4420 626f 7820 636f  of the 2D box co
-00011280: 6e74 6169 6e69 6e67 2074 6865 2074 6578  ntaining the tex
-00011290: 740a 2020 2020 2020 2020 2020 2020 616c  t.            al
-000112a0: 7068 6120 3a20 2866 6c6f 6174 290a 2020  pha : (float).  
-000112b0: 2020 2020 2020 2020 2020 2020 2020 626f                bo
-000112c0: 7820 7472 616e 7370 6172 656e 6379 0a20  x transparency. 
-000112d0: 2020 2020 2020 2020 2020 206d 6178 6c65             maxle
-000112e0: 6e67 7468 203a 2028 696e 7429 0a20 2020  ngth : (int).   
-000112f0: 2020 2020 2020 2020 2020 2020 206d 6178               max
-00011300: 696d 756d 206e 756d 6265 7220 6f66 2063  imum number of c
-00011310: 6861 7261 6374 6572 7320 7065 7220 6c69  haracters per li
-00011320: 6e65 0a20 2020 2020 2020 2020 2020 2075  ne.            u
-00011330: 7365 5f69 6e66 6f20 3a20 2862 6f6f 6c29  se_info : (bool)
-00011340: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011350: 2076 6973 7561 6c69 7a65 2074 6865 2063   visualize the c
-00011360: 6f6e 7465 6e74 206f 6620 7468 6520 606f  ontent of the `o
-00011370: 626a 2e69 6e66 6f60 2061 7474 7269 6275  bj.info` attribu
-00011380: 7465 0a0a 2020 2020 2020 2020 4578 616d  te..        Exam
-00011390: 706c 6573 3a0a 2020 2020 2020 2020 2020  ples:.          
-000113a0: 2020 2d20 5b68 6f76 6572 5f6c 6567 656e    - [hover_legen
-000113b0: 642e 7079 5d28 6874 7470 733a 2f2f 6769  d.py](https://gi
-000113c0: 7468 7562 2e63 6f6d 2f6d 6172 636f 6d75  thub.com/marcomu
-000113d0: 7379 2f76 6564 6f2f 7472 6565 2f6d 6173  sy/vedo/tree/mas
-000113e0: 7465 722f 6578 616d 706c 6573 2f62 6173  ter/examples/bas
-000113f0: 6963 2f68 6f76 6572 5f6c 6567 656e 642e  ic/hover_legend.
-00011400: 7079 290a 2020 2020 2020 2020 2020 2020  py).            
-00011410: 2d20 5b65 6172 7468 7175 616b 655f 6272  - [earthquake_br
-00011420: 6f77 7365 722e 7079 5d28 6874 7470 733a  owser.py](https:
-00011430: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6172  //github.com/mar
-00011440: 636f 6d75 7379 2f76 6564 6f2f 7472 6565  comusy/vedo/tree
-00011450: 2f6d 6173 7465 722f 6578 616d 706c 6573  /master/examples
-00011460: 2f70 7970 6c6f 742f 6561 7274 6871 7561  /pyplot/earthqua
-00011470: 6b65 5f62 726f 7773 6572 2e70 7929 0a20  ke_browser.py). 
-00011480: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00011490: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
-000114a0: 7665 646f 2e65 6d62 6c2e 6573 2f69 6d61  vedo.embl.es/ima
-000114b0: 6765 732f 7079 706c 6f74 2f65 6172 7468  ges/pyplot/earth
-000114c0: 7175 616b 655f 6272 6f77 7365 722e 6a70  quake_browser.jp
-000114d0: 6729 0a20 2020 2020 2020 2022 2222 0a20  g).        """. 
-000114e0: 2020 2020 2020 2068 6f76 6572 6c65 6765         hoverlege
-000114f0: 6e64 203d 2076 6564 6f2e 7368 6170 6573  nd = vedo.shapes
-00011500: 2e54 6578 7432 4428 2727 2c20 706f 733d  .Text2D('', pos=
-00011510: 706f 732c 2066 6f6e 743d 666f 6e74 2c20  pos, font=font, 
-00011520: 633d 632c 2073 3d73 2c20 616c 7068 613d  c=c, s=s, alpha=
-00011530: 616c 7068 612c 2062 673d 6267 290a 0a20  alpha, bg=bg).. 
-00011540: 2020 2020 2020 2069 6620 6174 2069 7320         if at is 
-00011550: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00011560: 2020 6174 203d 2073 656c 662e 7265 6e64    at = self.rend
-00011570: 6572 6572 732e 696e 6465 7828 7365 6c66  erers.index(self
-00011580: 2e72 656e 6465 7265 7229 0a0a 2020 2020  .renderer)..    
-00011590: 2020 2020 6465 6620 5f6c 6567 6675 6e63      def _legfunc
-000115a0: 2865 7674 293a 0a20 2020 2020 2020 2020  (evt):.         
-000115b0: 2020 2023 2068 656c 7065 7220 6675 6e63     # helper func
-000115c0: 7469 6f6e 2028 706e 6720 6e6f 7420 7069  tion (png not pi
-000115d0: 636b 6162 6c65 2062 6563 6175 7365 206f  ckable because o
-000115e0: 6620 616c 7068 6120 6368 616e 6e65 6c20  f alpha channel 
-000115f0: 696e 2076 746b 3920 3f3f 290a 2020 2020  in vtk9 ??).    
-00011600: 2020 2020 2020 2020 6966 206e 6f74 2065          if not e
-00011610: 7674 2e61 6374 6f72 206f 7220 6e6f 7420  vt.actor or not 
-00011620: 7365 6c66 2e72 656e 6465 7265 7220 6f72  self.renderer or
-00011630: 2061 7420 213d 2065 7674 2e61 743a 0a20   at != evt.at:. 
-00011640: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00011650: 6620 686f 7665 726c 6567 656e 642e 5f6d  f hoverlegend._m
-00011660: 6170 7065 722e 4765 7449 6e70 7574 2829  apper.GetInput()
-00011670: 3a20 2023 2063 6c65 6172 2061 6e64 2072  :  # clear and r
-00011680: 6574 7572 6e0a 2020 2020 2020 2020 2020  eturn.          
-00011690: 2020 2020 2020 2020 2020 686f 7665 726c            hoverl
-000116a0: 6567 656e 642e 5f6d 6170 7065 722e 5365  egend._mapper.Se
-000116b0: 7449 6e70 7574 2822 2229 0a20 2020 2020  tInput("").     
-000116c0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000116d0: 656c 662e 696e 7465 7261 6374 6f72 2e52  elf.interactor.R
-000116e0: 656e 6465 7228 290a 2020 2020 2020 2020  ender().        
-000116f0: 2020 2020 2020 2020 7265 7475 726e 0a0a          return..
-00011700: 2020 2020 2020 2020 2020 2020 6966 2075              if u
-00011710: 7365 5f69 6e66 6f3a 0a20 2020 2020 2020  se_info:.       
-00011720: 2020 2020 2020 2020 2069 6620 6861 7361           if hasa
-00011730: 7474 7228 6576 742e 6163 746f 722c 2022  ttr(evt.actor, "
-00011740: 696e 666f 2229 3a0a 2020 2020 2020 2020  info"):.        
-00011750: 2020 2020 2020 2020 2020 2020 7420 3d20              t = 
-00011760: 7374 7228 6576 742e 6163 746f 722e 696e  str(evt.actor.in
-00011770: 666f 290a 2020 2020 2020 2020 2020 2020  fo).            
-00011780: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00011790: 2020 2020 2020 2020 2020 2020 2020 7265                re
-000117a0: 7475 726e 0a20 2020 2020 2020 2020 2020  turn.           
-000117b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000117c0: 2020 2020 2020 2074 2c20 7470 203d 2022         t, tp = "
-000117d0: 222c 2022 220a 2020 2020 2020 2020 2020  ", "".          
-000117e0: 2020 2020 2020 6966 2065 7674 2e69 734d        if evt.isM
-000117f0: 6573 683a 0a20 2020 2020 2020 2020 2020  esh:.           
-00011800: 2020 2020 2020 2020 2074 7020 3d20 224d           tp = "M
-00011810: 6573 6820 220a 2020 2020 2020 2020 2020  esh ".          
-00011820: 2020 2020 2020 656c 6966 2065 7674 2e69        elif evt.i
-00011830: 7350 6f69 6e74 733a 0a20 2020 2020 2020  sPoints:.       
-00011840: 2020 2020 2020 2020 2020 2020 2074 7020               tp 
-00011850: 3d20 2250 6f69 6e74 7320 220a 2020 2020  = "Points ".    
-00011860: 2020 2020 2020 2020 2020 2020 2320 656c              # el
-00011870: 6966 2065 7674 2e69 7356 6f6c 756d 653a  if evt.isVolume:
+00000290: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000002a0: 2323 2323 2323 2323 2323 230a 636c 6173  ###########.clas
+000002b0: 7320 4576 656e 743a 0a20 2020 2022 2222  s Event:.    """
+000002c0: 0a20 2020 2054 6869 7320 636c 6173 7320  .    This class 
+000002d0: 686f 6c64 7320 7468 6520 696e 666f 2066  holds the info f
+000002e0: 726f 6d20 616e 2065 7665 6e74 2069 6e20  rom an event in 
+000002f0: 7468 6520 7769 6e64 6f77 2c20 776f 726b  the window, work
+00000300: 7320 6173 2064 6963 7469 6f6e 6172 7920  s as dictionary 
+00000310: 746f 6f0a 2020 2020 2222 220a 2020 2020  too.    """.    
+00000320: 5f5f 736c 6f74 735f 5f20 3d20 5b0a 2020  __slots__ = [.  
+00000330: 2020 2020 2020 226e 616d 6522 2c0a 2020        "name",.  
+00000340: 2020 2020 2020 2274 6974 6c65 222c 0a20        "title",. 
+00000350: 2020 2020 2020 2022 6964 222c 0a20 2020         "id",.   
+00000360: 2020 2020 2022 7469 6d65 7269 6422 2c0a       "timerid",.
+00000370: 2020 2020 2020 2020 2274 696d 6522 2c0a          "time",.
+00000380: 2020 2020 2020 2020 2270 7269 6f72 6974          "priorit
+00000390: 7922 2c0a 2020 2020 2020 2020 2261 7422  y",.        "at"
+000003a0: 2c0a 2020 2020 2020 2020 2261 6374 6f72  ,.        "actor
+000003b0: 222c 0a20 2020 2020 2020 2022 7069 636b  ",.        "pick
+000003c0: 6564 3364 222c 0a20 2020 2020 2020 2022  ed3d",.        "
+000003d0: 6b65 7950 7265 7373 6564 222c 2020 2320  keyPressed",  # 
+000003e0: 6f62 736f 6c65 7465 2c20 7769 6c6c 2064  obsolete, will d
+000003f0: 6973 6170 7065 6172 2e20 5573 6520 226b  isappear. Use "k
+00000400: 6579 7072 6573 7322 0a20 2020 2020 2020  eypress".       
+00000410: 2022 6b65 7970 7265 7373 222c 0a20 2020   "keypress",.   
+00000420: 2020 2020 2022 7069 636b 6564 3264 222c       "picked2d",
+00000430: 0a20 2020 2020 2020 2022 6465 6c74 6132  .        "delta2
+00000440: 6422 2c0a 2020 2020 2020 2020 2261 6e67  d",.        "ang
+00000450: 6c65 3264 222c 0a20 2020 2020 2020 2022  le2d",.        "
+00000460: 7370 6565 6432 6422 2c0a 2020 2020 2020  speed2d",.      
+00000470: 2020 2264 656c 7461 3364 222c 0a20 2020    "delta3d",.   
+00000480: 2020 2020 2022 7370 6565 6433 6422 2c0a       "speed3d",.
+00000490: 2020 2020 2020 2020 2269 7350 6f69 6e74          "isPoint
+000004a0: 7322 2c0a 2020 2020 2020 2020 2269 734d  s",.        "isM
+000004b0: 6573 6822 2c0a 2020 2020 2020 2020 2269  esh",.        "i
+000004c0: 7341 7373 656d 626c 7922 2c0a 2020 2020  sAssembly",.    
+000004d0: 2020 2020 2269 7356 6f6c 756d 6522 2c0a      "isVolume",.
+000004e0: 2020 2020 2020 2020 2269 7350 6963 7475          "isPictu
+000004f0: 7265 222c 0a20 2020 2020 2020 2022 6973  re",.        "is
+00000500: 4163 746f 7232 4422 2c0a 2020 2020 5d0a  Actor2D",.    ].
+00000510: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+00000520: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
+00000530: 2072 6574 7572 6e0a 0a20 2020 2064 6566   return..    def
+00000540: 205f 5f67 6574 6974 656d 5f5f 2873 656c   __getitem__(sel
+00000550: 662c 206b 6579 293a 0a20 2020 2020 2020  f, key):.       
+00000560: 2022 2222 4d61 6b65 2074 6865 2063 6c61   """Make the cla
+00000570: 7373 2077 6f72 6b20 6c69 6b65 2061 2064  ss work like a d
+00000580: 6963 7469 6f6e 6172 7920 746f 6f22 2222  ictionary too"""
+00000590: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000005a0: 6765 7461 7474 7228 7365 6c66 2c20 6b65  getattr(self, ke
+000005b0: 7929 0a0a 2020 2020 6465 6620 5f5f 7365  y)..    def __se
+000005c0: 7469 7465 6d5f 5f28 7365 6c66 2c20 6b65  titem__(self, ke
+000005d0: 792c 2076 616c 7565 293a 0a20 2020 2020  y, value):.     
+000005e0: 2020 2022 2222 4d61 6b65 2074 6865 2063     """Make the c
+000005f0: 6c61 7373 2077 6f72 6b20 6c69 6b65 2061  lass work like a
+00000600: 2064 6963 7469 6f6e 6172 7920 746f 6f22   dictionary too"
+00000610: 2222 0a20 2020 2020 2020 2073 6574 6174  "".        setat
+00000620: 7472 2873 656c 662c 206b 6579 2c20 7661  tr(self, key, va
+00000630: 6c75 6529 0a0a 2020 2020 6465 6620 5f5f  lue)..    def __
+00000640: 7265 7072 5f5f 2873 656c 6629 3a0a 2020  repr__(self):.  
+00000650: 2020 2020 2020 6620 3d20 222d 2d2d 2d2d        f = "-----
+00000660: 2d2d 2d2d 2d20 3c76 6564 6f2e 706c 6f74  ----- <vedo.plot
+00000670: 7465 722e 4576 656e 7420 6f62 6a65 6374  ter.Event object
+00000680: 3e20 2d2d 2d2d 2d2d 2d2d 2d2d 5c6e 220a  > ----------\n".
+00000690: 2020 2020 2020 2020 666f 7220 6e20 696e          for n in
+000006a0: 2073 656c 662e 5f5f 736c 6f74 735f 5f3a   self.__slots__:
+000006b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000006c0: 6e20 3d3d 2022 6163 746f 7222 2061 6e64  n == "actor" and
+000006d0: 2073 656c 662e 6163 746f 7220 616e 6420   self.actor and 
+000006e0: 7365 6c66 2e61 6374 6f72 2e6e 616d 653a  self.actor.name:
+000006f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000700: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00000710: 2020 2020 2020 2020 2020 6620 2b3d 2066            f += f
+00000720: 2265 7665 6e74 2e7b 6e7d 203d 207b 7365  "event.{n} = {se
+00000730: 6c66 2e61 6374 6f72 2e6e 616d 657d 2028  lf.actor.name} (
+00000740: 7b73 656c 662e 6163 746f 722e 6e70 6f69  {self.actor.npoi
+00000750: 6e74 737d 2070 6f69 6e74 7329 5c6e 220a  nts} points)\n".
+00000760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000770: 6578 6365 7074 2041 7474 7269 6275 7465  except Attribute
+00000780: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
+00000790: 2020 2020 2020 2020 2020 2066 202b 3d20             f += 
+000007a0: 6622 6576 656e 742e 7b6e 7d20 3d20 7b73  f"event.{n} = {s
+000007b0: 656c 662e 6163 746f 722e 6e61 6d65 7d5c  elf.actor.name}\
+000007c0: 6e22 0a20 2020 2020 2020 2020 2020 2065  n".            e
+000007d0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000007e0: 2020 2020 2066 202b 3d20 6622 6576 656e       f += f"even
+000007f0: 742e 7b6e 7d20 3d20 2220 2b20 7374 7228  t.{n} = " + str(
+00000800: 7365 6c66 5b6e 5d29 2e72 6570 6c61 6365  self[n]).replace
+00000810: 2822 5c6e 222c 2022 2229 5b3a 3630 5d20  ("\n", "")[:60] 
+00000820: 2b20 225c 6e22 0a20 2020 2020 2020 2072  + "\n".        r
+00000830: 6574 7572 6e20 660a 0a20 2020 2064 6566  eturn f..    def
+00000840: 206b 6579 7328 7365 6c66 293a 0a20 2020   keys(self):.   
+00000850: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00000860: 2e5f 5f73 6c6f 7473 5f5f 0a0a 0a23 2323  .__slots__...###
+00000870: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00000880: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00000890: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000008a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000008b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000008c0: 2323 2323 2323 2323 2323 230a 6465 6620  ###########.def 
+000008d0: 7368 6f77 280a 2020 2020 2a61 6374 6f72  show(.    *actor
+000008e0: 732c 0a20 2020 2061 743d 4e6f 6e65 2c0a  s,.    at=None,.
+000008f0: 2020 2020 7368 6170 653d 2831 2c20 3129      shape=(1, 1)
+00000900: 2c0a 2020 2020 4e3d 4e6f 6e65 2c0a 2020  ,.    N=None,.  
+00000910: 2020 706f 733d 2830 2c20 3029 2c0a 2020    pos=(0, 0),.  
+00000920: 2020 7369 7a65 3d22 6175 746f 222c 0a20    size="auto",. 
+00000930: 2020 2073 6372 6565 6e73 697a 653d 2261     screensize="a
+00000940: 7574 6f22 2c0a 2020 2020 7469 746c 653d  uto",.    title=
+00000950: 2276 6564 6f22 2c0a 2020 2020 6267 3d22  "vedo",.    bg="
+00000960: 7768 6974 6522 2c0a 2020 2020 6267 323d  white",.    bg2=
+00000970: 4e6f 6e65 2c0a 2020 2020 6178 6573 3d4e  None,.    axes=N
+00000980: 6f6e 652c 0a20 2020 2069 6e74 6572 6163  one,.    interac
+00000990: 7469 7665 3d4e 6f6e 652c 0a20 2020 206f  tive=None,.    o
+000009a0: 6666 7363 7265 656e 3d46 616c 7365 2c0a  ffscreen=False,.
+000009b0: 2020 2020 7368 6172 6563 616d 3d54 7275      sharecam=Tru
+000009c0: 652c 0a20 2020 2072 6573 6574 6361 6d3d  e,.    resetcam=
+000009d0: 5472 7565 2c0a 2020 2020 7a6f 6f6d 3d4e  True,.    zoom=N
+000009e0: 6f6e 652c 0a20 2020 2076 6965 7775 703d  one,.    viewup=
+000009f0: 2222 2c0a 2020 2020 617a 696d 7574 683d  "",.    azimuth=
+00000a00: 302e 302c 0a20 2020 2065 6c65 7661 7469  0.0,.    elevati
+00000a10: 6f6e 3d30 2e30 2c0a 2020 2020 726f 6c6c  on=0.0,.    roll
+00000a20: 3d30 2e30 2c0a 2020 2020 6361 6d65 7261  =0.0,.    camera
+00000a30: 3d4e 6f6e 652c 0a20 2020 206d 6f64 653d  =None,.    mode=
+00000a40: 302c 0a20 2020 206e 6577 3d46 616c 7365  0,.    new=False
+00000a50: 2c0a 293a 0a20 2020 2022 2222 0a20 2020  ,.):.    """.   
+00000a60: 2043 7265 6174 6520 6f6e 2074 6865 2066   Create on the f
+00000a70: 6c79 2061 6e20 696e 7374 616e 6365 206f  ly an instance o
+00000a80: 6620 636c 6173 7320 506c 6f74 7465 7220  f class Plotter 
+00000a90: 616e 6420 7368 6f77 2074 6865 206f 626a  and show the obj
+00000aa0: 6563 7428 7329 2070 726f 7669 6465 642e  ect(s) provided.
+00000ab0: 0a0a 2020 2020 416c 6c6f 7765 6420 696e  ..    Allowed in
+00000ac0: 7075 7420 6f62 6a65 6374 7320 7479 7065  put objects type
+00000ad0: 7320 6172 653a 0a20 2020 2020 2020 2060  s are:.        `
+00000ae0: 6073 7472 2c20 4d65 7368 2c20 566f 6c75  `str, Mesh, Volu
+00000af0: 6d65 2c20 5069 6374 7572 652c 2041 7373  me, Picture, Ass
+00000b00: 656d 626c 790a 2020 2020 2020 2020 7674  embly.        vt
+00000b10: 6b50 6f6c 7944 6174 612c 2076 746b 4163  kPolyData, vtkAc
+00000b20: 746f 722c 2076 746b 4163 746f 7232 442c  tor, vtkActor2D,
+00000b30: 2076 746b 496d 6167 6541 6374 6f72 2c0a   vtkImageActor,.
+00000b40: 2020 2020 2020 2020 7674 6b41 7373 656d          vtkAssem
+00000b50: 626c 7920 6f72 2076 746b 566f 6c75 6d65  bly or vtkVolume
+00000b60: 6060 0a0a 2020 2020 4172 6775 6d65 6e74  ``..    Argument
+00000b70: 733a 0a20 2020 2020 2020 2061 7420 3a20  s:.        at : 
+00000b80: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+00000b90: 2020 6e75 6d62 6572 206f 6620 7468 6520    number of the 
+00000ba0: 7265 6e64 6572 6572 2074 6f20 706c 6f74  renderer to plot
+00000bb0: 2074 6f2c 2069 6e20 6361 7365 206f 6620   to, in case of 
+00000bc0: 6d6f 7265 2074 6861 6e20 6f6e 6520 6578  more than one ex
+00000bd0: 6973 7473 0a20 2020 2020 2020 2073 6861  ists.        sha
+00000be0: 7065 203a 2028 6c69 7374 2c20 7374 7229  pe : (list, str)
+00000bf0: 0a20 2020 2020 2020 2020 2020 204e 756d  .            Num
+00000c00: 6265 7220 6f66 2073 7562 2d72 656e 6465  ber of sub-rende
+00000c10: 7220 7769 6e64 6f77 7320 696e 7369 6465  r windows inside
+00000c20: 206f 6620 7468 6520 6d61 696e 2077 696e   of the main win
+00000c30: 646f 772e 2045 2e67 2e3a 0a20 2020 2020  dow. E.g.:.     
+00000c40: 2020 2020 2020 2073 7065 6369 6679 2074         specify t
+00000c50: 776f 2061 6372 6f73 7320 7769 7468 2073  wo across with s
+00000c60: 6861 7065 3d28 322c 3129 2061 6e64 2061  hape=(2,1) and a
+00000c70: 2074 776f 2062 7920 7477 6f20 6772 6964   two by two grid
+00000c80: 0a20 2020 2020 2020 2020 2020 2077 6974  .            wit
+00000c90: 6820 7368 6170 653d 2832 2c20 3229 2e20  h shape=(2, 2). 
+00000ca0: 2042 7920 6465 6661 756c 7420 7468 6572   By default ther
+00000cb0: 6520 6973 206f 6e6c 7920 6f6e 6520 7265  e is only one re
+00000cc0: 6e64 6572 6572 2e0a 0a20 2020 2020 2020  nderer...       
+00000cd0: 2020 2020 2043 616e 2061 6c73 6f20 6163       Can also ac
+00000ce0: 6365 7074 2061 2073 6861 7065 2061 7320  cept a shape as 
+00000cf0: 7374 7269 6e67 2064 6573 6372 6970 746f  string descripto
+00000d00: 722e 2045 2e67 2e3a 0a20 2020 2020 2020  r. E.g.:.       
+00000d10: 2020 2020 202d 2073 6861 7065 3d22 337c       - shape="3|
+00000d20: 3122 206d 6561 6e73 2033 2070 6c6f 7473  1" means 3 plots
+00000d30: 206f 6e20 7468 6520 6c65 6674 2061 6e64   on the left and
+00000d40: 2031 206f 6e20 7468 6520 7269 6768 742c   1 on the right,
+00000d50: 0a20 2020 2020 2020 2020 2020 202d 2073  .            - s
+00000d60: 6861 7065 3d22 342f 3222 206d 6561 6e73  hape="4/2" means
+00000d70: 2034 2070 6c6f 7473 206f 6e20 746f 7020   4 plots on top 
+00000d80: 6f66 2032 2061 7420 626f 7474 6f6d 2e0a  of 2 at bottom..
+00000d90: 0a20 2020 2020 2020 2061 7865 7320 3a20  .        axes : 
+00000da0: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+00000db0: 2020 7365 7420 7468 6520 7479 7065 206f    set the type o
+00000dc0: 6620 6178 6573 2074 6f20 6265 2073 686f  f axes to be sho
+00000dd0: 776e 3a0a 2020 2020 2020 2020 2020 2020  wn:.            
+00000de0: 2d20 302c 2020 6e6f 2061 7865 730a 2020  - 0,  no axes.  
+00000df0: 2020 2020 2020 2020 2020 2d20 312c 2020            - 1,  
+00000e00: 6472 6177 2074 6872 6565 2067 7261 7920  draw three gray 
+00000e10: 6772 6964 2077 616c 6c73 0a20 2020 2020  grid walls.     
+00000e20: 2020 2020 2020 202d 2032 2c20 2073 686f         - 2,  sho
+00000e30: 7720 6361 7274 6573 6961 6e20 6178 6573  w cartesian axes
+00000e40: 2066 726f 6d20 2830 2c30 2c30 290a 2020   from (0,0,0).  
+00000e50: 2020 2020 2020 2020 2020 2d20 332c 2020            - 3,  
+00000e60: 7368 6f77 2070 6f73 6974 6976 6520 7261  show positive ra
+00000e70: 6e67 6520 6f66 2063 6172 7465 7369 616e  nge of cartesian
+00000e80: 2061 7865 7320 6672 6f6d 2028 302c 302c   axes from (0,0,
+00000e90: 3029 0a20 2020 2020 2020 2020 2020 202d  0).            -
+00000ea0: 2034 2c20 2073 686f 7720 6120 7472 6961   4,  show a tria
+00000eb0: 6420 6174 2062 6f74 746f 6d20 6c65 6674  d at bottom left
+00000ec0: 0a20 2020 2020 2020 2020 2020 202d 2035  .            - 5
+00000ed0: 2c20 2073 686f 7720 6120 6375 6265 2061  ,  show a cube a
+00000ee0: 7420 626f 7474 6f6d 206c 6566 740a 2020  t bottom left.  
+00000ef0: 2020 2020 2020 2020 2020 2d20 362c 2020            - 6,  
+00000f00: 6d61 726b 2074 6865 2063 6f72 6e65 7273  mark the corners
+00000f10: 206f 6620 7468 6520 626f 756e 6469 6e67   of the bounding
+00000f20: 2062 6f78 0a20 2020 2020 2020 2020 2020   box.           
+00000f30: 202d 2037 2c20 2064 7261 7720 6120 3344   - 7,  draw a 3D
+00000f40: 2072 756c 6572 2061 7420 6561 6368 2073   ruler at each s
+00000f50: 6964 6520 6f66 2074 6865 2063 6172 7465  ide of the carte
+00000f60: 7369 616e 2061 7865 730a 2020 2020 2020  sian axes.      
+00000f70: 2020 2020 2020 2d20 382c 2020 7368 6f77        - 8,  show
+00000f80: 2074 6865 2060 7674 6b43 7562 6541 7865   the `vtkCubeAxe
+00000f90: 7341 6374 6f72 6020 6f62 6a65 6374 0a20  sActor` object. 
+00000fa0: 2020 2020 2020 2020 2020 202d 2039 2c20             - 9, 
+00000fb0: 2073 686f 7720 7468 6520 626f 756e 6469   show the boundi
+00000fc0: 6e67 2062 6f78 206f 7574 4c69 6e65 0a20  ng box outLine. 
+00000fd0: 2020 2020 2020 2020 2020 202d 2031 302c             - 10,
+00000fe0: 2073 686f 7720 7468 7265 6520 6369 7263   show three circ
+00000ff0: 6c65 7320 7265 7072 6573 656e 7469 6e67  les representing
+00001000: 2074 6865 206d 6178 696d 756d 2062 6f75   the maximum bou
+00001010: 6e64 696e 6720 626f 780a 2020 2020 2020  nding box.      
+00001020: 2020 2020 2020 2d20 3131 2c20 7368 6f77        - 11, show
+00001030: 2061 206c 6172 6765 2067 7269 6420 6f6e   a large grid on
+00001040: 2074 6865 2078 2d79 2070 6c61 6e65 0a20   the x-y plane. 
+00001050: 2020 2020 2020 2020 2020 202d 2031 322c             - 12,
+00001060: 2073 686f 7720 706f 6c61 7220 6178 6573   show polar axes
+00001070: 0a20 2020 2020 2020 2020 2020 202d 2031  .            - 1
+00001080: 332c 2064 7261 7720 6120 7369 6d70 6c65  3, draw a simple
+00001090: 2072 756c 6572 2061 7420 7468 6520 626f   ruler at the bo
+000010a0: 7474 6f6d 206f 6620 7468 6520 7769 6e64  ttom of the wind
+000010b0: 6f77 0a0a 2020 2020 2020 2020 2020 2020  ow..            
+000010c0: 4178 6973 2074 7970 652d 3120 6361 6e20  Axis type-1 can 
+000010d0: 6265 2066 756c 6c79 2063 7573 746f 6d69  be fully customi
+000010e0: 7a65 6420 6279 2070 6173 7369 6e67 2061  zed by passing a
+000010f0: 2064 6963 7469 6f6e 6172 792e 0a20 2020   dictionary..   
+00001100: 2020 2020 2020 2020 2043 6865 636b 2060           Check `
+00001110: 7665 646f 2e61 6464 6f6e 732e 4178 6573  vedo.addons.Axes
+00001120: 2829 6020 666f 7220 7468 6520 6675 6c6c  ()` for the full
+00001130: 206c 6973 7420 6f66 206f 7074 696f 6e73   list of options
+00001140: 2e0a 2020 2020 2020 2020 617a 696d 7574  ..        azimut
+00001150: 682f 656c 6576 6174 696f 6e2f 726f 6c6c  h/elevation/roll
+00001160: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
+00001170: 2020 2020 2020 206d 6f76 6520 6361 6d65         move came
+00001180: 7261 2061 6363 6f72 6469 6e67 6c79 2074  ra accordingly t
+00001190: 6865 2073 7065 6369 6669 6564 2076 616c  he specified val
+000011a0: 7565 0a20 2020 2020 2020 2076 6965 7775  ue.        viewu
+000011b0: 7020 3a20 2873 7472 2c20 6c69 7374 290a  p : (str, list).
+000011c0: 2020 2020 2020 2020 2020 2020 6569 7468              eith
+000011d0: 6572 2060 5b27 7827 2c20 2779 272c 2027  er `['x', 'y', '
+000011e0: 7a27 5d60 206f 7220 6120 7665 6374 6f72  z']` or a vector
+000011f0: 2074 6f20 7365 7420 7665 7274 6963 616c   to set vertical
+00001200: 2064 6972 6563 7469 6f6e 0a20 2020 2020   direction.     
+00001210: 2020 2072 6573 6574 6361 6d20 3a20 2862     resetcam : (b
+00001220: 6f6f 6c29 0a20 2020 2020 2020 2020 2020  ool).           
+00001230: 2072 652d 6164 6a75 7374 2063 616d 6572   re-adjust camer
+00001240: 6120 706f 7369 7469 6f6e 2074 6f20 6669  a position to fi
+00001250: 7420 6f62 6a65 6374 730a 2020 2020 2020  t objects.      
+00001260: 2020 6361 6d65 7261 203a 2028 6469 6374    camera : (dict
+00001270: 2c20 7674 6b43 616d 6572 6129 0a20 2020  , vtkCamera).   
+00001280: 2020 2020 2020 2020 2063 616d 6572 6120           camera 
+00001290: 7061 7261 6d65 7465 7273 2063 616e 2066  parameters can f
+000012a0: 7572 7468 6572 2062 6520 7370 6563 6966  urther be specif
+000012b0: 6965 6420 7769 7468 2061 2064 6963 7469  ied with a dicti
+000012c0: 6f6e 6172 790a 2020 2020 2020 2020 2020  onary.          
+000012d0: 2020 6173 7369 676e 6564 2074 6f20 7468    assigned to th
+000012e0: 6520 6063 616d 6572 6160 206b 6579 776f  e `camera` keywo
+000012f0: 7264 2028 452e 672e 2060 7368 6f77 2863  rd (E.g. `show(c
+00001300: 616d 6572 613d 7b27 706f 7327 3a28 312c  amera={'pos':(1,
+00001310: 322c 3329 2c20 2774 6869 636b 6e65 7373  2,3), 'thickness
+00001320: 273a 3130 3030 2c7d 2960 293a 0a20 2020  ':1000,})`):.   
+00001330: 2020 2020 2020 2020 202d 202a 2a70 6f73           - **pos
+00001340: 2a2a 2028 6c69 7374 292c 2020 7468 6520  ** (list),  the 
+00001350: 706f 7369 7469 6f6e 206f 6620 7468 6520  position of the 
+00001360: 6361 6d65 7261 2069 6e20 776f 726c 6420  camera in world 
+00001370: 636f 6f72 6469 6e61 7465 730a 2020 2020  coordinates.    
+00001380: 2020 2020 2020 2020 2d20 2a2a 666f 6361          - **foca
+00001390: 6c5f 706f 696e 742a 2a20 286c 6973 7429  l_point** (list)
+000013a0: 2c20 7468 6520 666f 6361 6c20 706f 696e  , the focal poin
+000013b0: 7420 6f66 2074 6865 2063 616d 6572 6120  t of the camera 
+000013c0: 696e 2077 6f72 6c64 2063 6f6f 7264 696e  in world coordin
+000013d0: 6174 6573 0a20 2020 2020 2020 2020 2020  ates.           
+000013e0: 202d 202a 2a76 6965 7775 702a 2a20 286c   - **viewup** (l
+000013f0: 6973 7429 2c20 7468 6520 7669 6577 2075  ist), the view u
+00001400: 7020 6469 7265 6374 696f 6e20 666f 7220  p direction for 
+00001410: 7468 6520 6361 6d65 7261 0a20 2020 2020  the camera.     
+00001420: 2020 2020 2020 202d 202a 2a64 6973 7461         - **dista
+00001430: 6e63 652a 2a20 2866 6c6f 6174 292c 2073  nce** (float), s
+00001440: 6574 2074 6865 2066 6f63 616c 2070 6f69  et the focal poi
+00001450: 6e74 2074 6f20 7468 6520 7370 6563 6966  nt to the specif
+00001460: 6965 6420 6469 7374 616e 6365 2066 726f  ied distance fro
+00001470: 6d20 7468 6520 6361 6d65 7261 2070 6f73  m the camera pos
+00001480: 6974 696f 6e2e 0a20 2020 2020 2020 2020  ition..         
+00001490: 2020 202d 202a 2a63 6c69 7070 696e 675f     - **clipping_
+000014a0: 7261 6e67 652a 2a20 2866 6c6f 6174 292c  range** (float),
+000014b0: 2064 6973 7461 6e63 6520 6f66 2074 6865   distance of the
+000014c0: 206e 6561 7220 616e 6420 6661 7220 636c   near and far cl
+000014d0: 6970 7069 6e67 2070 6c61 6e65 7320 616c  ipping planes al
+000014e0: 6f6e 6720 7468 6520 6469 7265 6374 696f  ong the directio
+000014f0: 6e20 6f66 2070 726f 6a65 6374 696f 6e2e  n of projection.
+00001500: 0a20 2020 2020 2020 2020 2020 202d 202a  .            - *
+00001510: 2a70 6172 616c 6c65 6c5f 7363 616c 652a  *parallel_scale*
+00001520: 2a20 2866 6c6f 6174 292c 0a20 2020 2020  * (float),.     
+00001530: 2020 2020 2020 2073 6361 6c69 6e67 2075         scaling u
+00001540: 7365 6420 666f 7220 6120 7061 7261 6c6c  sed for a parall
+00001550: 656c 2070 726f 6a65 6374 696f 6e2c 2069  el projection, i
+00001560: 2e65 2e20 7468 6520 6865 6967 6874 206f  .e. the height o
+00001570: 6620 7468 6520 7669 6577 706f 7274 0a20  f the viewport. 
+00001580: 2020 2020 2020 2020 2020 2069 6e20 776f             in wo
+00001590: 726c 642d 636f 6f72 6469 6e61 7465 2064  rld-coordinate d
+000015a0: 6973 7461 6e63 6573 2e20 5468 6520 6465  istances. The de
+000015b0: 6661 756c 7420 6973 2031 2e20 4e6f 7465  fault is 1. Note
+000015c0: 2074 6861 7420 7468 6520 2273 6361 6c65   that the "scale
+000015d0: 2220 7061 7261 6d65 7465 7220 776f 726b  " parameter work
+000015e0: 7320 6173 0a20 2020 2020 2020 2020 2020  s as.           
+000015f0: 2061 6e20 2269 6e76 6572 7365 2073 6361   an "inverse sca
+00001600: 6c65 222c 206c 6172 6765 7220 6e75 6d62  le", larger numb
+00001610: 6572 7320 7072 6f64 7563 6520 736d 616c  ers produce smal
+00001620: 6c65 7220 696d 6167 6573 2e0a 2020 2020  ler images..    
+00001630: 2020 2020 2020 2020 5468 6973 206d 6574          This met
+00001640: 686f 6420 6861 7320 6e6f 2065 6666 6563  hod has no effec
+00001650: 7420 696e 2070 6572 7370 6563 7469 7665  t in perspective
+00001660: 2070 726f 6a65 6374 696f 6e20 6d6f 6465   projection mode
+00001670: 2e0a 2020 2020 2020 2020 2020 2020 2d20  ..            - 
+00001680: 2a2a 7468 6963 6b6e 6573 732a 2a20 2866  **thickness** (f
+00001690: 6c6f 6174 292c 0a20 2020 2020 2020 2020  loat),.         
+000016a0: 2020 2073 6574 2074 6865 2064 6973 7461     set the dista
+000016b0: 6e63 6520 6265 7477 6565 6e20 636c 6970  nce between clip
+000016c0: 7069 6e67 2070 6c61 6e65 732e 2054 6869  ping planes. Thi
+000016d0: 7320 6d65 7468 6f64 2061 646a 7573 7473  s method adjusts
+000016e0: 2074 6865 2066 6172 2063 6c69 7070 696e   the far clippin
+000016f0: 670a 2020 2020 2020 2020 2020 2020 706c  g.            pl
+00001700: 616e 6520 746f 2062 6520 7365 7420 6120  ane to be set a 
+00001710: 6469 7374 616e 6365 2027 7468 6963 6b6e  distance 'thickn
+00001720: 6573 7327 2062 6579 6f6e 6420 7468 6520  ess' beyond the 
+00001730: 6e65 6172 2063 6c69 7070 696e 6720 706c  near clipping pl
+00001740: 616e 652e 0a20 2020 2020 2020 2020 2020  ane..           
+00001750: 202d 202a 2a76 6965 775f 616e 676c 652a   - **view_angle*
+00001760: 2a20 2866 6c6f 6174 292c 0a20 2020 2020  * (float),.     
+00001770: 2020 2020 2020 2074 6865 2063 616d 6572         the camer
+00001780: 6120 7669 6577 2061 6e67 6c65 2c20 7768  a view angle, wh
+00001790: 6963 6820 6973 2074 6865 2061 6e67 756c  ich is the angul
+000017a0: 6172 2068 6569 6768 7420 6f66 2074 6865  ar height of the
+000017b0: 2063 616d 6572 6120 7669 6577 0a20 2020   camera view.   
+000017c0: 2020 2020 2020 2020 206d 6561 7375 7265           measure
+000017d0: 6420 696e 2064 6567 7265 6573 2e20 5468  d in degrees. Th
+000017e0: 6520 6465 6661 756c 7420 616e 676c 6520  e default angle 
+000017f0: 6973 2033 3020 6465 6772 6565 732e 0a20  is 30 degrees.. 
+00001800: 2020 2020 2020 2020 2020 2054 6869 7320             This 
+00001810: 6d65 7468 6f64 2068 6173 206e 6f20 6566  method has no ef
+00001820: 6665 6374 2069 6e20 7061 7261 6c6c 656c  fect in parallel
+00001830: 2070 726f 6a65 6374 696f 6e20 6d6f 6465   projection mode
+00001840: 2e0a 2020 2020 2020 2020 2020 2020 5468  ..            Th
+00001850: 6520 666f 726d 756c 6120 666f 7220 7365  e formula for se
+00001860: 7474 696e 6720 7468 6520 616e 676c 6520  tting the angle 
+00001870: 7570 2066 6f72 2070 6572 6665 6374 2070  up for perfect p
+00001880: 6572 7370 6563 7469 7665 2076 6965 7769  erspective viewi
+00001890: 6e67 2069 733a 0a20 2020 2020 2020 2020  ng is:.         
+000018a0: 2020 2061 6e67 6c65 203d 2032 2a61 7461     angle = 2*ata
+000018b0: 6e28 2868 2f32 292f 6429 2077 6865 7265  n((h/2)/d) where
+000018c0: 2068 2069 7320 7468 6520 6865 6967 6874   h is the height
+000018d0: 206f 6620 7468 6520 5265 6e64 6572 5769   of the RenderWi
+000018e0: 6e64 6f77 0a20 2020 2020 2020 2020 2020  ndow.           
+000018f0: 2028 6d65 6173 7572 6564 2062 7920 686f   (measured by ho
+00001900: 6c64 696e 6720 6120 7275 6c65 7220 7570  lding a ruler up
+00001910: 2074 6f20 796f 7572 2073 6372 6565 6e29   to your screen)
+00001920: 2061 6e64 2064 2069 7320 7468 6520 6469   and d is the di
+00001930: 7374 616e 6365 0a20 2020 2020 2020 2020  stance.         
+00001940: 2020 2066 726f 6d20 796f 7572 2065 7965     from your eye
+00001950: 7320 746f 2074 6865 2073 6372 6565 6e2e  s to the screen.
+00001960: 0a20 2020 2020 2020 2069 6e74 6572 6163  .        interac
+00001970: 7469 7665 203a 2028 626f 6f6c 290a 2020  tive : (bool).  
+00001980: 2020 2020 2020 2020 2020 7061 7573 6520            pause 
+00001990: 616e 6420 696e 7465 7261 6374 2077 6974  and interact wit
+000019a0: 6820 7769 6e64 6f77 2028 5472 7565 2920  h window (True) 
+000019b0: 6f72 2063 6f6e 7469 6e75 6520 6578 6563  or continue exec
+000019c0: 7574 696f 6e20 2846 616c 7365 290a 2020  ution (False).  
+000019d0: 2020 2020 2020 7261 7465 203a 2028 666c        rate : (fl
+000019e0: 6f61 7429 0a20 2020 2020 2020 2020 2020  oat).           
+000019f0: 206d 6178 696d 756d 2072 6174 6520 6f66   maximum rate of
+00001a00: 2060 7368 6f77 2829 6020 696e 2048 6572   `show()` in Her
+00001a10: 747a 0a20 2020 2020 2020 206d 6f64 6520  tz.        mode 
+00001a20: 3a20 2869 6e74 2c20 7374 7229 0a20 2020  : (int, str).   
+00001a30: 2020 2020 2020 2020 2073 6574 2074 6865           set the
+00001a40: 2074 7970 6520 6f66 2069 6e74 6572 6163   type of interac
+00001a50: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+00001a60: 2020 2d20 3020 3d20 5472 6163 6b62 616c    - 0 = Trackbal
+00001a70: 6c43 616d 6572 6120 5b64 6566 6175 6c74  lCamera [default
+00001a80: 5d0a 2020 2020 2020 2020 2020 2020 2d20  ].            - 
+00001a90: 3120 3d20 5472 6163 6b62 616c 6c41 6374  1 = TrackballAct
+00001aa0: 6f72 0a20 2020 2020 2020 2020 2020 202d  or.            -
+00001ab0: 2032 203d 204a 6f79 7374 6963 6b43 616d   2 = JoystickCam
+00001ac0: 6572 610a 2020 2020 2020 2020 2020 2020  era.            
+00001ad0: 2d20 3320 3d20 4a6f 7973 7469 636b 4163  - 3 = JoystickAc
+00001ae0: 746f 720a 2020 2020 2020 2020 2020 2020  tor.            
+00001af0: 2d20 3420 3d20 466c 6967 6874 0a20 2020  - 4 = Flight.   
+00001b00: 2020 2020 2020 2020 202d 2035 203d 2052           - 5 = R
+00001b10: 7562 6265 7242 616e 6432 440a 2020 2020  ubberBand2D.    
+00001b20: 2020 2020 2020 2020 2d20 3620 3d20 5275          - 6 = Ru
+00001b30: 6262 6572 4261 6e64 3344 0a20 2020 2020  bberBand3D.     
+00001b40: 2020 2020 2020 202d 2037 203d 2052 7562         - 7 = Rub
+00001b50: 6265 7242 616e 645a 6f6f 6d0a 2020 2020  berBandZoom.    
+00001b60: 2020 2020 2020 2020 2d20 3820 3d20 5465          - 8 = Te
+00001b70: 7272 6169 6e0a 2020 2020 2020 2020 2020  rrain.          
+00001b80: 2020 2d20 3920 3d20 556e 6963 616d 0a20    - 9 = Unicam. 
+00001b90: 2020 2020 2020 2020 2020 202d 2031 3020             - 10 
+00001ba0: 3d20 496d 6167 650a 2020 2020 2020 2020  = Image.        
+00001bb0: 6e65 7720 3a20 2862 6f6f 6c29 0a20 2020  new : (bool).   
+00001bc0: 2020 2020 2020 2020 2069 6620 7365 7420           if set 
+00001bd0: 746f 2060 5472 7565 602c 2061 2063 616c  to `True`, a cal
+00001be0: 6c20 746f 2073 686f 7720 7769 6c6c 2069  l to show will i
+00001bf0: 6e73 7461 6e74 6961 7465 0a20 2020 2020  nstantiate.     
+00001c00: 2020 2020 2020 2061 206e 6577 2050 6c6f         a new Plo
+00001c10: 7474 6572 206f 626a 6563 7420 2861 206e  tter object (a n
+00001c20: 6577 2077 696e 646f 7729 2069 6e73 7465  ew window) inste
+00001c30: 6164 206f 6620 7265 7573 696e 6720 7468  ad of reusing th
+00001c40: 6520 6669 7273 7420 6372 6561 7465 642e  e first created.
+00001c50: 0a20 2020 2022 2222 0a20 2020 2069 6620  .    """.    if 
+00001c60: 6c65 6e28 6163 746f 7273 2920 3d3d 2030  len(actors) == 0
+00001c70: 3a0a 2020 2020 2020 2020 6163 746f 7273  :.        actors
+00001c80: 203d 204e 6f6e 650a 2020 2020 656c 6966   = None.    elif
+00001c90: 206c 656e 2861 6374 6f72 7329 203d 3d20   len(actors) == 
+00001ca0: 313a 0a20 2020 2020 2020 2061 6374 6f72  1:.        actor
+00001cb0: 7320 3d20 6163 746f 7273 5b30 5d0a 2020  s = actors[0].  
+00001cc0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00001cd0: 6163 746f 7273 203d 2075 7469 6c73 2e66  actors = utils.f
+00001ce0: 6c61 7474 656e 2861 6374 6f72 7329 0a0a  latten(actors)..
+00001cf0: 2020 2020 6966 2076 6564 6f2e 706c 6f74      if vedo.plot
+00001d00: 7465 725f 696e 7374 616e 6365 2061 6e64  ter_instance and
+00001d10: 206e 6f74 206e 6577 3a20 2023 2050 6c6f   not new:  # Plo
+00001d20: 7474 6572 2065 7869 7374 730a 2020 2020  tter exists.    
+00001d30: 2020 2020 706c 7420 3d20 7665 646f 2e70      plt = vedo.p
+00001d40: 6c6f 7474 6572 5f69 6e73 7461 6e63 650a  lotter_instance.
+00001d50: 0a20 2020 2065 6c73 653a 2020 2320 506c  .    else:  # Pl
+00001d60: 6f74 7465 7220 6d75 7374 2062 6520 6372  otter must be cr
+00001d70: 6561 7465 640a 0a20 2020 2020 2020 2069  eated..        i
+00001d80: 6620 7574 696c 732e 6973 5f73 6571 7565  f utils.is_seque
+00001d90: 6e63 6528 6174 293a 2020 2320 7573 6572  nce(at):  # user
+00001da0: 2070 6173 7365 6420 6120 7365 7175 656e   passed a sequen
+00001db0: 6365 2066 6f72 2022 6174 220a 0a20 2020  ce for "at"..   
+00001dc0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00001dd0: 7574 696c 732e 6973 5f73 6571 7565 6e63  utils.is_sequenc
+00001de0: 6528 6163 746f 7273 293a 0a20 2020 2020  e(actors):.     
+00001df0: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+00001e00: 6c6f 6767 6572 2e65 7272 6f72 2822 696e  logger.error("in
+00001e10: 2073 686f 7728 2920 696e 7075 7420 6d75   show() input mu
+00001e20: 7374 2062 6520 6120 6c69 7374 2e22 290a  st be a list.").
+00001e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e40: 7261 6973 6520 5275 6e74 696d 6545 7272  raise RuntimeErr
+00001e50: 6f72 2829 0a20 2020 2020 2020 2020 2020  or().           
+00001e60: 2069 6620 6c65 6e28 6174 2920 213d 206c   if len(at) != l
+00001e70: 656e 2861 6374 6f72 7329 3a0a 2020 2020  en(actors):.    
+00001e80: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+00001e90: 2e6c 6f67 6765 722e 6572 726f 7228 2269  .logger.error("i
+00001ea0: 6e20 7368 6f77 2829 206c 6973 7473 2027  n show() lists '
+00001eb0: 696e 7075 7427 2061 6e64 2027 6174 2720  input' and 'at' 
+00001ec0: 6d75 7374 2068 6176 6520 6571 7561 6c20  must have equal 
+00001ed0: 6c65 6e67 7468 7322 290a 2020 2020 2020  lengths").      
+00001ee0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00001ef0: 5275 6e74 696d 6545 7272 6f72 2829 0a20  RuntimeError(). 
+00001f00: 2020 2020 2020 2020 2020 2069 6620 7368             if sh
+00001f10: 6170 6520 3d3d 2028 312c 2031 2920 616e  ape == (1, 1) an
+00001f20: 6420 4e20 6973 204e 6f6e 653a 0a20 2020  d N is None:.   
+00001f30: 2020 2020 2020 2020 2020 2020 204e 203d               N =
+00001f40: 206d 6178 2861 7429 202b 2031 0a0a 2020   max(at) + 1..  
+00001f50: 2020 2020 2020 656c 6966 2061 7420 6973        elif at is
+00001f60: 204e 6f6e 6520 616e 6420 284e 206f 7220   None and (N or 
+00001f70: 7368 6170 6520 213d 2028 312c 2031 2929  shape != (1, 1))
+00001f80: 3a0a 0a20 2020 2020 2020 2020 2020 2069  :..            i
+00001f90: 6620 6e6f 7420 7574 696c 732e 6973 5f73  f not utils.is_s
+00001fa0: 6571 7565 6e63 6528 6163 746f 7273 293a  equence(actors):
+00001fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001fc0: 2065 203d 2022 696e 2073 686f 7728 292c   e = "in show(),
+00001fd0: 204e 206f 7220 7368 6170 6520 6973 2073   N or shape is s
+00001fe0: 6574 2c20 6275 7420 696e 7075 7420 6973  et, but input is
+00001ff0: 206e 6f74 2061 2073 6571 7565 6e63 655c   not a sequence\
+00002000: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
+00002010: 2020 2065 202b 3d20 2220 2020 2020 2020     e += "       
+00002020: 2020 2020 2020 2079 6f75 206d 6179 206e         you may n
+00002030: 6565 6420 746f 2073 7065 6369 6679 2065  eed to specify e
+00002040: 2e67 2e20 6174 3d30 220a 2020 2020 2020  .g. at=0".      
+00002050: 2020 2020 2020 2020 2020 7665 646f 2e6c            vedo.l
+00002060: 6f67 6765 722e 6572 726f 7228 6529 0a20  ogger.error(e). 
+00002070: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00002080: 6169 7365 2052 756e 7469 6d65 4572 726f  aise RuntimeErro
+00002090: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
+000020a0: 6174 203d 206c 6973 7428 7261 6e67 6528  at = list(range(
+000020b0: 6c65 6e28 6163 746f 7273 2929 290a 0a20  len(actors))).. 
+000020c0: 2020 2020 2020 2070 6c74 203d 2050 6c6f         plt = Plo
+000020d0: 7474 6572 280a 2020 2020 2020 2020 2020  tter(.          
+000020e0: 2020 7368 6170 653d 7368 6170 652c 0a20    shape=shape,. 
+000020f0: 2020 2020 2020 2020 2020 204e 3d4e 2c0a             N=N,.
+00002100: 2020 2020 2020 2020 2020 2020 706f 733d              pos=
+00002110: 706f 732c 0a20 2020 2020 2020 2020 2020  pos,.           
+00002120: 2073 697a 653d 7369 7a65 2c0a 2020 2020   size=size,.    
+00002130: 2020 2020 2020 2020 7363 7265 656e 7369          screensi
+00002140: 7a65 3d73 6372 6565 6e73 697a 652c 0a20  ze=screensize,. 
+00002150: 2020 2020 2020 2020 2020 2074 6974 6c65             title
+00002160: 3d74 6974 6c65 2c0a 2020 2020 2020 2020  =title,.        
+00002170: 2020 2020 6178 6573 3d61 7865 732c 0a20      axes=axes,. 
+00002180: 2020 2020 2020 2020 2020 2073 6861 7265             share
+00002190: 6361 6d3d 7368 6172 6563 616d 2c0a 2020  cam=sharecam,.  
+000021a0: 2020 2020 2020 2020 2020 7265 7365 7463            resetc
+000021b0: 616d 3d72 6573 6574 6361 6d2c 0a20 2020  am=resetcam,.   
+000021c0: 2020 2020 2020 2020 2069 6e74 6572 6163           interac
+000021d0: 7469 7665 3d69 6e74 6572 6163 7469 7665  tive=interactive
+000021e0: 2c0a 2020 2020 2020 2020 2020 2020 6f66  ,.            of
+000021f0: 6673 6372 6565 6e3d 6f66 6673 6372 6565  fscreen=offscree
+00002200: 6e2c 0a20 2020 2020 2020 2020 2020 2062  n,.            b
+00002210: 673d 6267 2c0a 2020 2020 2020 2020 2020  g=bg,.          
+00002220: 2020 6267 323d 6267 322c 0a20 2020 2020    bg2=bg2,.     
+00002230: 2020 2029 0a0a 2020 2020 2320 7573 6520     )..    # use 
+00002240: 5f70 6c74 5f74 6f5f 7265 7475 726e 2062  _plt_to_return b
+00002250: 6563 6175 7365 2070 6c74 2e73 686f 7728  ecause plt.show(
+00002260: 2920 6361 6e20 7265 7475 726e 2061 206b  ) can return a k
+00002270: 3364 2070 6c6f 740a 2020 2020 5f70 6c74  3d plot.    _plt
+00002280: 5f74 6f5f 7265 7475 726e 203d 204e 6f6e  _to_return = Non
+00002290: 650a 0a20 2020 2069 6620 7574 696c 732e  e..    if utils.
+000022a0: 6973 5f73 6571 7565 6e63 6528 6174 293a  is_sequence(at):
+000022b0: 0a0a 2020 2020 2020 2020 666f 7220 692c  ..        for i,
+000022c0: 2061 6374 2069 6e20 656e 756d 6572 6174   act in enumerat
+000022d0: 6528 6163 746f 7273 293a 0a20 2020 2020  e(actors):.     
+000022e0: 2020 2020 2020 205f 706c 745f 746f 5f72         _plt_to_r
+000022f0: 6574 7572 6e20 3d20 706c 742e 7368 6f77  eturn = plt.show
+00002300: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00002310: 2020 6163 742c 0a20 2020 2020 2020 2020    act,.         
+00002320: 2020 2020 2020 2061 743d 692c 0a20 2020         at=i,.   
+00002330: 2020 2020 2020 2020 2020 2020 207a 6f6f               zoo
+00002340: 6d3d 7a6f 6f6d 2c0a 2020 2020 2020 2020  m=zoom,.        
+00002350: 2020 2020 2020 2020 7265 7365 7463 616d          resetcam
+00002360: 3d72 6573 6574 6361 6d2c 0a20 2020 2020  =resetcam,.     
+00002370: 2020 2020 2020 2020 2020 2076 6965 7775             viewu
+00002380: 703d 7669 6577 7570 2c0a 2020 2020 2020  p=viewup,.      
+00002390: 2020 2020 2020 2020 2020 617a 696d 7574            azimut
+000023a0: 683d 617a 696d 7574 682c 0a20 2020 2020  h=azimuth,.     
+000023b0: 2020 2020 2020 2020 2020 2065 6c65 7661             eleva
+000023c0: 7469 6f6e 3d65 6c65 7661 7469 6f6e 2c0a  tion=elevation,.
+000023d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023e0: 726f 6c6c 3d72 6f6c 6c2c 0a20 2020 2020  roll=roll,.     
+000023f0: 2020 2020 2020 2020 2020 2063 616d 6572             camer
+00002400: 613d 6361 6d65 7261 2c0a 2020 2020 2020  a=camera,.      
+00002410: 2020 2020 2020 2020 2020 696e 7465 7261            intera
+00002420: 6374 6976 653d 4661 6c73 652c 0a20 2020  ctive=False,.   
+00002430: 2020 2020 2020 2020 2020 2020 206d 6f64               mod
+00002440: 653d 6d6f 6465 2c0a 2020 2020 2020 2020  e=mode,.        
+00002450: 2020 2020 2020 2020 6267 3d62 672c 0a20          bg=bg,. 
+00002460: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00002470: 6732 3d62 6732 2c0a 2020 2020 2020 2020  g2=bg2,.        
+00002480: 2020 2020 2020 2020 6178 6573 3d61 7865          axes=axe
+00002490: 732c 0a20 2020 2020 2020 2020 2020 2029  s,.            )
+000024a0: 0a0a 2020 2020 2020 2020 6966 2028 0a20  ..        if (. 
+000024b0: 2020 2020 2020 2020 2020 2069 6e74 6572             inter
+000024c0: 6163 7469 7665 0a20 2020 2020 2020 2020  active.         
+000024d0: 2020 206f 7220 6c65 6e28 6174 2920 3d3d     or len(at) ==
+000024e0: 204e 0a20 2020 2020 2020 2020 2020 206f   N.            o
+000024f0: 7220 2869 7369 6e73 7461 6e63 6528 7368  r (isinstance(sh
+00002500: 6170 655b 305d 2c20 696e 7429 2061 6e64  ape[0], int) and
+00002510: 206c 656e 2861 7429 203d 3d20 7368 6170   len(at) == shap
+00002520: 655b 305d 202a 2073 6861 7065 5b31 5d29  e[0] * shape[1])
+00002530: 0a20 2020 2020 2020 2029 3a0a 2020 2020  .        ):.    
+00002540: 2020 2020 2020 2020 2320 6e6f 7465 2074          # note t
+00002550: 6861 7420 7368 6170 6520 6361 6e20 6265  hat shape can be
+00002560: 2061 2073 7472 696e 670a 2020 2020 2020   a string.      
+00002570: 2020 2020 2020 6966 2070 6c74 2e69 6e74        if plt.int
+00002580: 6572 6163 746f 7220 616e 6420 6e6f 7420  eractor and not 
+00002590: 6f66 6673 6372 6565 6e20 616e 6420 2869  offscreen and (i
+000025a0: 6e74 6572 6163 7469 7665 2069 7320 4e6f  nteractive is No
+000025b0: 6e65 206f 7220 696e 7465 7261 6374 6976  ne or interactiv
+000025c0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+000025d0: 2020 2020 706c 742e 696e 7465 7261 6374      plt.interact
+000025e0: 6f72 2e53 7461 7274 2829 0a0a 2020 2020  or.Start()..    
+000025f0: 656c 7365 3a0a 0a20 2020 2020 2020 205f  else:..        _
+00002600: 706c 745f 746f 5f72 6574 7572 6e20 3d20  plt_to_return = 
+00002610: 706c 742e 7368 6f77 280a 2020 2020 2020  plt.show(.      
+00002620: 2020 2020 2020 6163 746f 7273 2c0a 2020        actors,.  
+00002630: 2020 2020 2020 2020 2020 6174 3d61 742c            at=at,
+00002640: 0a20 2020 2020 2020 2020 2020 207a 6f6f  .            zoo
+00002650: 6d3d 7a6f 6f6d 2c0a 2020 2020 2020 2020  m=zoom,.        
+00002660: 2020 2020 7265 7365 7463 616d 3d72 6573      resetcam=res
+00002670: 6574 6361 6d2c 0a20 2020 2020 2020 2020  etcam,.         
+00002680: 2020 2076 6965 7775 703d 7669 6577 7570     viewup=viewup
+00002690: 2c0a 2020 2020 2020 2020 2020 2020 617a  ,.            az
+000026a0: 696d 7574 683d 617a 696d 7574 682c 0a20  imuth=azimuth,. 
+000026b0: 2020 2020 2020 2020 2020 2065 6c65 7661             eleva
+000026c0: 7469 6f6e 3d65 6c65 7661 7469 6f6e 2c0a  tion=elevation,.
+000026d0: 2020 2020 2020 2020 2020 2020 726f 6c6c              roll
+000026e0: 3d72 6f6c 6c2c 0a20 2020 2020 2020 2020  =roll,.         
+000026f0: 2020 2063 616d 6572 613d 6361 6d65 7261     camera=camera
+00002700: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
+00002710: 7465 7261 6374 6976 653d 696e 7465 7261  teractive=intera
+00002720: 6374 6976 652c 0a20 2020 2020 2020 2020  ctive,.         
+00002730: 2020 206d 6f64 653d 6d6f 6465 2c0a 2020     mode=mode,.  
+00002740: 2020 2020 2020 2020 2020 6267 3d62 672c            bg=bg,
+00002750: 0a20 2020 2020 2020 2020 2020 2062 6732  .            bg2
+00002760: 3d62 6732 2c0a 2020 2020 2020 2020 2020  =bg2,.          
+00002770: 2020 6178 6573 3d61 7865 732c 0a20 2020    axes=axes,.   
+00002780: 2020 2020 2029 0a0a 2020 2020 7265 7475       )..    retu
+00002790: 726e 205f 706c 745f 746f 5f72 6574 7572  rn _plt_to_retur
+000027a0: 6e0a 0a0a 6465 6620 636c 6f73 6528 293a  n...def close():
+000027b0: 0a20 2020 2022 2222 436c 6f73 6520 7468  .    """Close th
+000027c0: 6520 6c61 7374 2063 7265 6174 6564 2050  e last created P
+000027d0: 6c6f 7474 6572 2069 6e73 7461 6e63 6520  lotter instance 
+000027e0: 6966 2069 7420 6578 6973 7473 2e22 2222  if it exists."""
+000027f0: 0a20 2020 2069 6620 6e6f 7420 7665 646f  .    if not vedo
+00002800: 2e70 6c6f 7474 6572 5f69 6e73 7461 6e63  .plotter_instanc
+00002810: 653a 0a20 2020 2020 2020 2072 6574 7572  e:.        retur
+00002820: 6e0a 2020 2020 7665 646f 2e70 6c6f 7474  n.    vedo.plott
+00002830: 6572 5f69 6e73 7461 6e63 652e 636c 6f73  er_instance.clos
+00002840: 6528 290a 2020 2020 7265 7475 726e 0a0a  e().    return..
+00002850: 0a23 2323 2323 2323 2323 2323 2323 2323  .###############
+00002860: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002870: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002880: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002890: 2323 2323 2323 2323 230a 636c 6173 7320  #########.class 
+000028a0: 506c 6f74 7465 723a 0a20 2020 2022 2222  Plotter:.    """
+000028b0: 4d61 696e 2063 6c61 7373 2074 6f20 6d61  Main class to ma
+000028c0: 6e61 6765 2061 6374 6f72 732e 2222 220a  nage actors.""".
+000028d0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+000028e0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+000028f0: 2020 2020 2020 2020 7368 6170 653d 2831          shape=(1
+00002900: 2c20 3129 2c0a 2020 2020 2020 2020 4e3d  , 1),.        N=
+00002910: 4e6f 6e65 2c0a 2020 2020 2020 2020 706f  None,.        po
+00002920: 733d 2830 2c20 3029 2c0a 2020 2020 2020  s=(0, 0),.      
+00002930: 2020 7369 7a65 3d22 6175 746f 222c 0a20    size="auto",. 
+00002940: 2020 2020 2020 2073 6372 6565 6e73 697a         screensiz
+00002950: 653d 2261 7574 6f22 2c0a 2020 2020 2020  e="auto",.      
+00002960: 2020 7469 746c 653d 2276 6564 6f22 2c0a    title="vedo",.
+00002970: 2020 2020 2020 2020 6267 3d22 7768 6974          bg="whit
+00002980: 6522 2c0a 2020 2020 2020 2020 6267 323d  e",.        bg2=
+00002990: 4e6f 6e65 2c0a 2020 2020 2020 2020 6178  None,.        ax
+000029a0: 6573 3d4e 6f6e 652c 0a20 2020 2020 2020  es=None,.       
+000029b0: 2073 6861 7265 6361 6d3d 5472 7565 2c0a   sharecam=True,.
+000029c0: 2020 2020 2020 2020 7265 7365 7463 616d          resetcam
+000029d0: 3d54 7275 652c 0a20 2020 2020 2020 2069  =True,.        i
+000029e0: 6e74 6572 6163 7469 7665 3d4e 6f6e 652c  nteractive=None,
+000029f0: 0a20 2020 2020 2020 206f 6666 7363 7265  .        offscre
+00002a00: 656e 3d46 616c 7365 2c0a 2020 2020 2020  en=False,.      
+00002a10: 2020 7174 5f77 6964 6765 743d 4e6f 6e65    qt_widget=None
+00002a20: 2c0a 2020 2020 2020 2020 7778 5f77 6964  ,.        wx_wid
+00002a30: 6765 743d 4e6f 6e65 2c0a 2020 2020 293a  get=None,.    ):
+00002a40: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00002a50: 2020 2020 2041 7267 756d 656e 7473 3a0a       Arguments:.
+00002a60: 2020 2020 2020 2020 2020 2020 7368 6170              shap
+00002a70: 6520 3a20 2873 7472 2c20 6c69 7374 290a  e : (str, list).
+00002a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a90: 7368 6170 6520 6f66 2074 6865 2067 7269  shape of the gri
+00002aa0: 6420 6f66 2072 656e 6465 7265 7273 2069  d of renderers i
+00002ab0: 6e20 666f 726d 6174 2028 726f 7773 2c20  n format (rows, 
+00002ac0: 636f 6c75 6d6e 7329 2e20 4967 6e6f 7265  columns). Ignore
+00002ad0: 6420 6966 204e 2069 7320 7370 6563 6966  d if N is specif
+00002ae0: 6965 642e 0a20 2020 2020 2020 2020 2020  ied..           
+00002af0: 204e 203a 2028 696e 7429 0a20 2020 2020   N : (int).     
+00002b00: 2020 2020 2020 2020 2020 206e 756d 6265             numbe
+00002b10: 7220 6f66 2064 6573 6972 6564 2072 656e  r of desired ren
+00002b20: 6465 7265 7273 2061 7272 616e 6765 6420  derers arranged 
+00002b30: 696e 2061 2067 7269 6420 6175 746f 6d61  in a grid automa
+00002b40: 7469 6361 6c6c 792e 0a20 2020 2020 2020  tically..       
+00002b50: 2020 2020 2070 6f73 203a 2028 6c69 7374       pos : (list
+00002b60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00002b70: 2020 2878 2c79 2920 706f 7369 7469 6f6e    (x,y) position
+00002b80: 2069 6e20 7069 7865 6c73 206f 6620 746f   in pixels of to
+00002b90: 702d 6c65 6674 2063 6f72 6e65 7220 6f66  p-left corner of
+00002ba0: 2074 6865 2072 656e 6465 7269 6e67 2077   the rendering w
+00002bb0: 696e 646f 7720 6f6e 2074 6865 2073 6372  indow on the scr
+00002bc0: 6565 6e0a 2020 2020 2020 2020 2020 2020  een.            
+00002bd0: 7369 7a65 203a 2028 7374 722c 206c 6973  size : (str, lis
+00002be0: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
+00002bf0: 2020 2073 697a 6520 6f66 2074 6865 2072     size of the r
+00002c00: 656e 6465 7269 6e67 2077 696e 646f 772e  endering window.
+00002c10: 2049 6620 2761 7574 6f27 2c20 6775 6573   If 'auto', gues
+00002c20: 7320 6974 2062 6173 6564 206f 6e20 7363  s it based on sc
+00002c30: 7265 656e 7369 7a65 2e0a 2020 2020 2020  reensize..      
+00002c40: 2020 2020 2020 7363 7265 656e 7369 7a65        screensize
+00002c50: 203a 2028 6c69 7374 290a 2020 2020 2020   : (list).      
+00002c60: 2020 2020 2020 2020 2020 7068 7973 6963            physic
+00002c70: 616c 2073 697a 6520 6f66 2074 6865 206d  al size of the m
+00002c80: 6f6e 6974 6f72 2073 6372 6565 6e20 696e  onitor screen in
+00002c90: 2070 6978 656c 730a 2020 2020 2020 2020   pixels.        
+00002ca0: 2020 2020 6267 203a 2028 636f 6c6f 722c      bg : (color,
+00002cb0: 2073 7472 290a 2020 2020 2020 2020 2020   str).          
+00002cc0: 2020 2020 2020 6261 636b 6772 6f75 6e64        background
+00002cd0: 2063 6f6c 6f72 206f 7220 7370 6563 6966   color or specif
+00002ce0: 7920 6a70 6720 696d 6167 6520 6669 6c65  y jpg image file
+00002cf0: 206e 616d 6520 7769 7468 2070 6174 680a   name with path.
+00002d00: 2020 2020 2020 2020 2020 2020 6267 3220              bg2 
+00002d10: 3a20 2863 6f6c 6f72 290a 2020 2020 2020  : (color).      
+00002d20: 2020 2020 2020 2020 2020 6261 636b 6772            backgr
+00002d30: 6f75 6e64 2063 6f6c 6f72 206f 6620 6120  ound color of a 
+00002d40: 6772 6164 6965 6e74 2074 6f77 6172 6473  gradient towards
+00002d50: 2074 6865 2074 6f70 0a20 2020 2020 2020   the top.       
+00002d60: 2020 2020 2061 7865 7320 3a20 2869 6e74       axes : (int
+00002d70: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00002d80: 2020 204e 6f74 6520 7468 6174 2041 7865     Note that Axe
+00002d90: 7320 7479 7065 2d31 2063 616e 2062 6520  s type-1 can be 
+00002da0: 6675 6c6c 7920 6375 7374 6f6d 697a 6564  fully customized
+00002db0: 2062 7920 7061 7373 696e 6720 6120 6469   by passing a di
+00002dc0: 6374 696f 6e61 7279 2060 6178 6573 3d64  ctionary `axes=d
+00002dd0: 6963 7428 2960 2e0a 2020 2020 2020 2020  ict()`..        
+00002de0: 2020 2020 2020 2020 4368 6563 6b20 6f75          Check ou
+00002df0: 7420 6076 6564 6f2e 6164 646f 6e73 2e41  t `vedo.addons.A
+00002e00: 7865 7328 2960 2066 6f72 2074 6865 2061  xes()` for the a
+00002e10: 7661 696c 6162 6c65 206f 7074 696f 6e73  vailable options
+00002e20: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002e30: 2020 2d20 302c 2020 6e6f 2061 7865 730a    - 0,  no axes.
+00002e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002e50: 2d20 312c 2020 6472 6177 2074 6872 6565  - 1,  draw three
+00002e60: 2067 7261 7920 6772 6964 2077 616c 6c73   gray grid walls
+00002e70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002e80: 202d 2032 2c20 2073 686f 7720 6361 7274   - 2,  show cart
+00002e90: 6573 6961 6e20 6178 6573 2066 726f 6d20  esian axes from 
+00002ea0: 2830 2c30 2c30 290a 2020 2020 2020 2020  (0,0,0).        
+00002eb0: 2020 2020 2020 2020 2d20 332c 2020 7368          - 3,  sh
+00002ec0: 6f77 2070 6f73 6974 6976 6520 7261 6e67  ow positive rang
+00002ed0: 6520 6f66 2063 6172 7465 7369 616e 2061  e of cartesian a
+00002ee0: 7865 7320 6672 6f6d 2028 302c 302c 3029  xes from (0,0,0)
+00002ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002f00: 202d 2034 2c20 2073 686f 7720 6120 7472   - 4,  show a tr
+00002f10: 6961 6420 6174 2062 6f74 746f 6d20 6c65  iad at bottom le
+00002f20: 6674 0a20 2020 2020 2020 2020 2020 2020  ft.             
+00002f30: 2020 202d 2035 2c20 2073 686f 7720 6120     - 5,  show a 
+00002f40: 6375 6265 2061 7420 626f 7474 6f6d 206c  cube at bottom l
+00002f50: 6566 740a 2020 2020 2020 2020 2020 2020  eft.            
+00002f60: 2020 2020 2d20 362c 2020 6d61 726b 2074      - 6,  mark t
+00002f70: 6865 2063 6f72 6e65 7273 206f 6620 7468  he corners of th
+00002f80: 6520 626f 756e 6469 6e67 2062 6f78 0a20  e bounding box. 
+00002f90: 2020 2020 2020 2020 2020 2020 2020 202d                 -
+00002fa0: 2037 2c20 2064 7261 7720 6120 3344 2072   7,  draw a 3D r
+00002fb0: 756c 6572 2061 7420 6561 6368 2073 6964  uler at each sid
+00002fc0: 6520 6f66 2074 6865 2063 6172 7465 7369  e of the cartesi
+00002fd0: 616e 2061 7865 730a 2020 2020 2020 2020  an axes.        
+00002fe0: 2020 2020 2020 2020 2d20 382c 2020 7368          - 8,  sh
+00002ff0: 6f77 2074 6865 2056 544b 2043 7562 6541  ow the VTK CubeA
+00003000: 7865 7341 6374 6f72 206f 626a 6563 740a  xesActor object.
+00003010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003020: 2d20 392c 2020 7368 6f77 2074 6865 2062  - 9,  show the b
+00003030: 6f75 6e64 696e 6720 626f 7820 6f75 744c  ounding box outL
+00003040: 696e 652c 0a20 2020 2020 2020 2020 2020  ine,.           
+00003050: 2020 2020 202d 2031 302c 2073 686f 7720       - 10, show 
+00003060: 7468 7265 6520 6369 7263 6c65 7320 7265  three circles re
+00003070: 7072 6573 656e 7469 6e67 2074 6865 206d  presenting the m
+00003080: 6178 696d 756d 2062 6f75 6e64 696e 6720  aximum bounding 
+00003090: 626f 782c 0a20 2020 2020 2020 2020 2020  box,.           
+000030a0: 2020 2020 202d 2031 312c 2073 686f 7720       - 11, show 
+000030b0: 6120 6c61 7267 6520 6772 6964 206f 6e20  a large grid on 
+000030c0: 7468 6520 782d 7920 706c 616e 6520 2875  the x-y plane (u
+000030d0: 7365 2077 6974 6820 7a6f 6f6d 3d38 290a  se with zoom=8).
+000030e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030f0: 2d20 3132 2c20 7368 6f77 2070 6f6c 6172  - 12, show polar
+00003100: 2061 7865 732e 0a20 2020 2020 2020 2020   axes..         
+00003110: 2020 2020 2020 202d 2031 332c 2064 7261         - 13, dra
+00003120: 7720 6120 7369 6d70 6c65 2072 756c 6572  w a simple ruler
+00003130: 2061 7420 7468 6520 626f 7474 6f6d 206f   at the bottom o
+00003140: 6620 7468 6520 7769 6e64 6f77 0a0a 2020  f the window..  
+00003150: 2020 2020 2020 2020 2020 7368 6172 6563            sharec
+00003160: 616d 203a 2028 626f 6f6c 290a 2020 2020  am : (bool).    
+00003170: 2020 2020 2020 2020 2020 2020 6966 2046              if F
+00003180: 616c 7365 2065 6163 6820 7265 6e64 6572  alse each render
+00003190: 6572 2077 696c 6c20 6861 7665 2061 6e20  er will have an 
+000031a0: 696e 6465 7065 6e64 656e 7420 7674 6b43  independent vtkC
+000031b0: 616d 6572 610a 2020 2020 2020 2020 2020  amera.          
+000031c0: 2020 696e 7465 7261 6374 6976 6520 3a20    interactive : 
+000031d0: 2862 6f6f 6c29 0a20 2020 2020 2020 2020  (bool).         
+000031e0: 2020 2020 2020 2069 6620 5472 7565 2077         if True w
+000031f0: 696c 6c20 7374 6f70 2061 6674 6572 2073  ill stop after s
+00003200: 686f 7728 2920 746f 2061 6c6c 6f77 2069  how() to allow i
+00003210: 6e74 6572 6163 7469 6f6e 2077 2f20 7769  nteraction w/ wi
+00003220: 6e64 6f77 0a20 2020 2020 2020 2020 2020  ndow.           
+00003230: 206f 6666 7363 7265 656e 203a 2028 626f   offscreen : (bo
+00003240: 6f6c 290a 2020 2020 2020 2020 2020 2020  ol).            
+00003250: 2020 2020 6966 2054 7275 6520 7769 6c6c      if True will
+00003260: 206e 6f74 2073 686f 7720 7468 6520 7265   not show the re
+00003270: 6e64 6572 696e 6720 7769 6e64 6f77 0a20  ndering window. 
+00003280: 2020 2020 2020 2020 2020 2071 745f 7769             qt_wi
+00003290: 6467 6574 203a 2028 5156 544b 5265 6e64  dget : (QVTKRend
+000032a0: 6572 5769 6e64 6f77 496e 7465 7261 6374  erWindowInteract
+000032b0: 6f72 290a 2020 2020 2020 2020 2020 2020  or).            
+000032c0: 2020 2020 7265 6e64 6572 2069 6e20 6120      render in a 
+000032d0: 5174 2d57 6964 6765 7420 7573 696e 6720  Qt-Widget using 
+000032e0: 616e 2051 5654 4b52 656e 6465 7257 696e  an QVTKRenderWin
+000032f0: 646f 7749 6e74 6572 6163 746f 722e 0a20  dowInteractor.. 
+00003300: 2020 2020 2020 2020 2020 2020 2020 204f                 O
+00003310: 7665 7272 6964 6573 206f 6666 7363 7265  verrides offscre
+00003320: 656e 2074 6f20 5472 7565 2e0a 2020 2020  en to True..    
+00003330: 2020 2020 2020 2020 2020 2020 4f76 6572              Over
+00003340: 7269 6465 7320 696e 7465 7261 6374 6976  rides interactiv
+00003350: 6520 746f 2046 616c 7365 2e0a 2020 2020  e to False..    
+00003360: 2020 2020 2020 2020 2020 2020 5365 6520              See 
+00003370: 6578 616d 706c 6573 2060 7174 5f77 696e  examples `qt_win
+00003380: 646f 7773 312e 7079 6020 616e 6420 6071  dows1.py` and `q
+00003390: 745f 7769 6e64 6f77 7332 2e70 7960 0a20  t_windows2.py`. 
+000033a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000033b0: 2020 2076 6564 6f2e 706c 6f74 7465 725f     vedo.plotter_
+000033c0: 696e 7374 616e 6365 203d 2073 656c 660a  instance = self.
+000033d0: 0a20 2020 2020 2020 2069 6620 7174 5f77  .        if qt_w
+000033e0: 6964 6765 7420 6973 206e 6f74 204e 6f6e  idget is not Non
+000033f0: 653a 0a20 2020 2020 2020 2020 2020 2023  e:.            #
+00003400: 206f 7665 7272 6964 6573 2074 6865 2069   overrides the i
+00003410: 6e74 6572 6163 7469 7665 2061 6e64 206f  nteractive and o
+00003420: 6666 7363 7265 656e 2070 726f 7065 7274  ffscreen propert
+00003430: 6965 730a 2020 2020 2020 2020 2020 2020  ies.            
+00003440: 696e 7465 7261 6374 6976 6520 3d20 4661  interactive = Fa
+00003450: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
+00003460: 6f66 6673 6372 6565 6e20 3d20 5472 7565  offscreen = True
+00003470: 0a0a 2020 2020 2020 2020 6966 2077 785f  ..        if wx_
+00003480: 7769 6467 6574 2069 7320 6e6f 7420 4e6f  widget is not No
+00003490: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+000034a0: 2320 6f76 6572 7269 6465 7320 7468 6520  # overrides the 
+000034b0: 696e 7465 7261 6374 6976 6520 7072 6f70  interactive prop
+000034c0: 6572 7479 0a20 2020 2020 2020 2020 2020  erty.           
+000034d0: 2069 6e74 6572 6163 7469 7665 203d 2046   interactive = F
+000034e0: 616c 7365 0a0a 2020 2020 2020 2020 6966  alse..        if
+000034f0: 2069 6e74 6572 6163 7469 7665 2069 7320   interactive is 
+00003500: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00003510: 2020 6966 204e 203d 3d20 313a 0a20 2020    if N == 1:.   
+00003520: 2020 2020 2020 2020 2020 2020 2069 6e74               int
+00003530: 6572 6163 7469 7665 203d 2054 7275 650a  eractive = True.
+00003540: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00003550: 204e 206f 7220 7368 6170 6520 213d 2028   N or shape != (
+00003560: 312c 2031 293a 0a20 2020 2020 2020 2020  1, 1):.         
+00003570: 2020 2020 2020 2069 6e74 6572 6163 7469         interacti
+00003580: 7665 203d 2046 616c 7365 0a20 2020 2020  ve = False.     
+00003590: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000035a0: 2020 2020 2020 2020 2020 2020 2069 6e74               int
+000035b0: 6572 6163 7469 7665 203d 2054 7275 650a  eractive = True.
+000035c0: 0a20 2020 2020 2020 2073 656c 662e 6163  .        self.ac
+000035d0: 746f 7273 203d 205b 5d20 2023 206c 6973  tors = []  # lis
+000035e0: 7420 6f66 2061 6374 6f72 7320 746f 2062  t of actors to b
+000035f0: 6520 7368 6f77 6e0a 2020 2020 2020 2020  e shown.        
+00003600: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+00003610: 6f72 203d 204e 6f6e 6520 2023 2068 6f6c  or = None  # hol
+00003620: 6473 2074 6865 2061 6374 6f72 2074 6861  ds the actor tha
+00003630: 7420 6861 7320 6265 656e 2063 6c69 636b  t has been click
+00003640: 6564 0a20 2020 2020 2020 2073 656c 662e  ed.        self.
+00003650: 7265 6e64 6572 6572 203d 204e 6f6e 6520  renderer = None 
+00003660: 2023 2063 7572 7265 6e74 2072 656e 6465   # current rende
+00003670: 7265 720a 2020 2020 2020 2020 7365 6c66  rer.        self
+00003680: 2e72 656e 6465 7265 7273 203d 205b 5d20  .renderers = [] 
+00003690: 2023 206c 6973 7420 6f66 2072 656e 6465   # list of rende
+000036a0: 7265 7273 0a20 2020 2020 2020 2073 656c  rers.        sel
+000036b0: 662e 7368 6170 6520 3d20 7368 6170 6520  f.shape = shape 
+000036c0: 2023 2064 6f6e 2774 2072 656d 6f76 6520   # don't remove 
+000036d0: 7468 6973 206c 696e 650a 2020 2020 2020  this line.      
+000036e0: 2020 7365 6c66 2e5f 696e 7465 7261 6374    self._interact
+000036f0: 6976 6520 3d20 696e 7465 7261 6374 6976  ive = interactiv
+00003700: 6520 2023 2061 6c6c 6f77 7320 746f 2069  e  # allows to i
+00003710: 6e74 6572 6163 7420 7769 7468 2072 656e  nteract with ren
+00003720: 6465 7265 720a 2020 2020 2020 2020 7365  derer.        se
+00003730: 6c66 2e61 7865 7320 3d20 6178 6573 2020  lf.axes = axes  
+00003740: 2320 7368 6f77 2061 7865 7320 7479 7065  # show axes type
+00003750: 206e 722e 0a20 2020 2020 2020 2073 656c   nr..        sel
+00003760: 662e 7469 746c 6520 3d20 7469 746c 6520  f.title = title 
+00003770: 2023 2077 696e 646f 7720 7469 746c 650a   # window title.
+00003780: 2020 2020 2020 2020 7365 6c66 2e73 6861          self.sha
+00003790: 7265 6361 6d20 3d20 7368 6172 6563 616d  recam = sharecam
+000037a0: 2020 2320 7368 6172 6520 7468 6520 7361    # share the sa
+000037b0: 6d65 2063 616d 6572 6120 6966 206d 756c  me camera if mul
+000037c0: 7469 706c 6520 7265 6e64 6572 6572 730a  tiple renderers.
+000037d0: 2020 2020 2020 2020 7365 6c66 2e70 6963          self.pic
+000037e0: 6b65 7220 3d20 4e6f 6e65 2020 2320 7468  ker = None  # th
+000037f0: 6520 7674 6b50 6963 6b65 7220 6f62 6a65  e vtkPicker obje
+00003800: 6374 0a20 2020 2020 2020 2073 656c 662e  ct.        self.
+00003810: 7069 636b 6564 3264 203d 204e 6f6e 6520  picked2d = None 
+00003820: 2023 2032 6420 636f 6f72 6473 206f 6620   # 2d coords of 
+00003830: 6120 636c 6963 6b65 6420 706f 696e 7420  a clicked point 
+00003840: 6f6e 2074 6865 2072 656e 6465 7269 6e67  on the rendering
+00003850: 2077 696e 646f 770a 2020 2020 2020 2020   window.        
+00003860: 7365 6c66 2e70 6963 6b65 6433 6420 3d20  self.picked3d = 
+00003870: 4e6f 6e65 2020 2320 3364 2063 6f6f 7264  None  # 3d coord
+00003880: 7320 6f66 2061 2063 6c69 636b 6564 2070  s of a clicked p
+00003890: 6f69 6e74 206f 6e20 616e 2061 6374 6f72  oint on an actor
+000038a0: 0a20 2020 2020 2020 2073 656c 662e 6f66  .        self.of
+000038b0: 6673 6372 6565 6e20 3d20 6f66 6673 6372  fscreen = offscr
+000038c0: 6565 6e0a 2020 2020 2020 2020 7365 6c66  een.        self
+000038d0: 2e72 6573 6574 6361 6d20 3d20 7265 7365  .resetcam = rese
+000038e0: 7463 616d 0a20 2020 2020 2020 2073 656c  tcam.        sel
+000038f0: 662e 6c61 7374 5f65 7665 6e74 203d 204e  f.last_event = N
+00003900: 6f6e 650a 0a20 2020 2020 2020 2073 656c  one..        sel
+00003910: 662e 7174 5f77 6964 6765 7420 3d20 7174  f.qt_widget = qt
+00003920: 5f77 6964 6765 7420 2023 2020 5156 544b  _widget  #  QVTK
+00003930: 5265 6e64 6572 5769 6e64 6f77 496e 7465  RenderWindowInte
+00003940: 7261 6374 6f72 0a20 2020 2020 2020 2073  ractor.        s
+00003950: 656c 662e 7778 5f77 6964 6765 7420 3d20  elf.wx_widget = 
+00003960: 7778 5f77 6964 6765 7420 2023 2077 7856  wx_widget  # wxV
+00003970: 544b 5265 6e64 6572 5769 6e64 6f77 496e  TKRenderWindowIn
+00003980: 7465 7261 6374 6f72 0a0a 2020 2020 2020  teractor..      
+00003990: 2020 7365 6c66 2e73 6b79 626f 7820 3d20    self.skybox = 
+000039a0: 4e6f 6e65 0a0a 2020 2020 2020 2020 2320  None..        # 
+000039b0: 6d6f 7374 6c79 2069 6e74 6572 6e61 6c20  mostly internal 
+000039c0: 7374 7566 663a 0a20 2020 2020 2020 2073  stuff:.        s
+000039d0: 656c 662e 686f 7665 725f 6c65 6765 6e64  elf.hover_legend
+000039e0: 7320 3d20 5b5d 0a20 2020 2020 2020 2073  s = [].        s
+000039f0: 656c 662e 6261 636b 6772 636f 6c20 3d20  elf.backgrcol = 
+00003a00: 6267 0a20 2020 2020 2020 2073 656c 662e  bg.        self.
+00003a10: 706f 7320 3d20 706f 7320 2023 2075 7365  pos = pos  # use
+00003a20: 6420 6279 2076 6564 6f2e 6669 6c65 5f69  d by vedo.file_i
+00003a30: 6f0a 2020 2020 2020 2020 7365 6c66 2e6a  o.        self.j
+00003a40: 7573 7472 656d 6f76 6564 203d 204e 6f6e  ustremoved = Non
+00003a50: 650a 2020 2020 2020 2020 7365 6c66 2e61  e.        self.a
+00003a60: 7865 735f 696e 7374 616e 6365 7320 3d20  xes_instances = 
+00003a70: 5b5d 0a20 2020 2020 2020 2073 656c 662e  [].        self.
+00003a80: 636c 6f63 6b20 3d20 300a 2020 2020 2020  clock = 0.      
+00003a90: 2020 7365 6c66 2e73 6c69 6465 7273 203d    self.sliders =
+00003aa0: 205b 5d0a 2020 2020 2020 2020 7365 6c66   [].        self
+00003ab0: 2e62 7574 746f 6e73 203d 205b 5d0a 2020  .buttons = [].  
+00003ac0: 2020 2020 2020 7365 6c66 2e77 6964 6765        self.widge
+00003ad0: 7473 203d 205b 5d0a 2020 2020 2020 2020  ts = [].        
+00003ae0: 7365 6c66 2e63 7574 7465 725f 7769 6467  self.cutter_widg
+00003af0: 6574 203d 204e 6f6e 650a 2020 2020 2020  et = None.      
+00003b00: 2020 7365 6c66 2e68 696e 745f 7769 6467    self.hint_widg
+00003b10: 6574 203d 204e 6f6e 650a 2020 2020 2020  et = None.      
+00003b20: 2020 7365 6c66 2e62 6163 6b67 726f 756e    self.backgroun
+00003b30: 645f 7265 6e64 6572 6572 203d 204e 6f6e  d_renderer = Non
+00003b40: 650a 2020 2020 2020 2020 7365 6c66 2e73  e.        self.s
+00003b50: 697a 6520 3d20 7369 7a65 0a20 2020 2020  ize = size.     
+00003b60: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
+00003b70: 6f72 203d 204e 6f6e 650a 2020 2020 2020  or = None.      
+00003b80: 2020 7365 6c66 2e63 616d 6572 6120 3d20    self.camera = 
+00003b90: 4e6f 6e65 0a0a 2020 2020 2020 2020 7365  None..        se
+00003ba0: 6c66 2e5f 6963 6f6c 203d 2030 0a20 2020  lf._icol = 0.   
+00003bb0: 2020 2020 2073 656c 662e 5f63 6c6f 636b       self._clock
+00003bc0: 7430 203d 2074 696d 652e 7469 6d65 2829  t0 = time.time()
+00003bd0: 0a20 2020 2020 2020 2073 656c 662e 5f65  .        self._e
+00003be0: 7874 7261 6c69 6768 7420 3d20 4e6f 6e65  xtralight = None
+00003bf0: 0a20 2020 2020 2020 2073 656c 662e 5f63  .        self._c
+00003c00: 6f63 6f61 5f69 6e69 7469 616c 697a 6564  ocoa_initialized
+00003c10: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+00003c20: 2073 656c 662e 5f62 6720 3d20 6267 2020   self._bg = bg  
+00003c30: 2320 7573 6564 2062 7920 6261 636b 656e  # used by backen
+00003c40: 6420 6e6f 7465 626f 6f6b 730a 0a20 2020  d notebooks..   
+00003c50: 2020 2020 2023 2323 2323 2323 2323 2323       ###########
+00003c60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003c70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003c80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003c90: 2323 2323 2323 2323 2323 0a20 2020 2020  ##########.     
+00003ca0: 2020 2069 6620 7365 7474 696e 6773 2e64     if settings.d
+00003cb0: 6566 6175 6c74 5f62 6163 6b65 6e64 2021  efault_backend !
+00003cc0: 3d20 2276 746b 223a 0a20 2020 2020 2020  = "vtk":.       
+00003cd0: 2020 2020 2069 6620 7365 7474 696e 6773       if settings
+00003ce0: 2e64 6566 6175 6c74 5f62 6163 6b65 6e64  .default_backend
+00003cf0: 203d 3d20 2232 6422 3a0a 2020 2020 2020   == "2d":.      
+00003d00: 2020 2020 2020 2020 2020 7365 6c66 2e6f            self.o
+00003d10: 6666 7363 7265 656e 203d 2054 7275 650a  ffscreen = True.
+00003d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d30: 6966 2073 656c 662e 7369 7a65 203d 3d20  if self.size == 
+00003d40: 2261 7574 6f22 3a0a 2020 2020 2020 2020  "auto":.        
+00003d50: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00003d60: 2e73 697a 6520 3d20 2838 3030 2c20 3630  .size = (800, 60
+00003d70: 3029 0a0a 2020 2020 2020 2020 2020 2020  0)..            
+00003d80: 656c 6966 2073 6574 7469 6e67 732e 6465  elif settings.de
+00003d90: 6661 756c 745f 6261 636b 656e 6420 3d3d  fault_backend ==
+00003da0: 2022 6b33 6422 3a0a 2020 2020 2020 2020   "k3d":.        
+00003db0: 2020 2020 2020 2020 7365 6c66 2e5f 696e          self._in
+00003dc0: 7465 7261 6374 6976 6520 3d20 4661 6c73  teractive = Fals
+00003dd0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00003de0: 2020 7365 6c66 2e69 6e74 6572 6163 746f    self.interacto
+00003df0: 7220 3d20 4e6f 6e65 0a20 2020 2020 2020  r = None.       
+00003e00: 2020 2020 2020 2020 2073 656c 662e 7769           self.wi
+00003e10: 6e64 6f77 203d 204e 6f6e 650a 2020 2020  ndow = None.    
+00003e20: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00003e30: 2e63 616d 6572 6120 3d20 4e6f 6e65 2020  .camera = None  
+00003e40: 2320 6c65 7420 7468 6520 6261 636b 656e  # let the backen
+00003e50: 6420 6368 6f6f 7365 0a20 2020 2020 2020  d choose.       
+00003e60: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00003e70: 2e73 697a 6520 3d3d 2022 6175 746f 223a  .size == "auto":
+00003e80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003e90: 2020 2020 2073 656c 662e 7369 7a65 203d       self.size =
+00003ea0: 2028 3130 3030 2c20 3130 3030 290a 2020   (1000, 1000).  
+00003eb0: 2020 2020 2020 2020 2020 2020 2020 2323                ##
+00003ec0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003ed0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003ee0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003ef0: 2323 2323 2323 2323 2323 230a 2020 2020  ###########.    
+00003f00: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00003f10: 726e 2020 2323 2323 2323 2323 2323 2323  rn  ############
+00003f20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003f30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003f40: 2323 2323 2323 2323 2323 0a20 2020 2020  ##########.     
+00003f50: 2020 2020 2020 2020 2020 2023 2323 2323             #####
+00003f60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003f70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003f80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003f90: 2323 2323 2323 2323 0a20 2020 2020 2020  ########.       
+00003fa0: 2023 2323 2323 2323 2323 2323 2323 2323   ###############
+00003fb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003fc0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003fd0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003fe0: 2323 2323 2323 0a0a 2020 2020 2020 2020  ######..        
+00003ff0: 2320 6275 696c 6420 7468 6520 7265 6e64  # build the rend
+00004000: 6572 696e 6720 7769 6e64 6f77 3a0a 2020  ering window:.  
+00004010: 2020 2020 2020 7365 6c66 2e77 696e 646f        self.windo
+00004020: 7720 3d20 7674 6b2e 7674 6b52 656e 6465  w = vtk.vtkRende
+00004030: 7257 696e 646f 7728 290a 0a20 2020 2020  rWindow()..     
+00004040: 2020 2073 656c 662e 7769 6e64 6f77 2e47     self.window.G
+00004050: 6c6f 6261 6c57 6172 6e69 6e67 4469 7370  lobalWarningDisp
+00004060: 6c61 794f 6666 2829 0a20 2020 2020 2020  layOff().       
+00004070: 2073 656c 662e 7769 6e64 6f77 2e53 6574   self.window.Set
+00004080: 5769 6e64 6f77 4e61 6d65 2873 656c 662e  WindowName(self.
+00004090: 7469 746c 6529 0a0a 2020 2020 2020 2020  title)..        
+000040a0: 2320 6d6f 7265 2073 6574 7469 6e67 730a  # more settings.
+000040b0: 2020 2020 2020 2020 6966 2073 6574 7469          if setti
+000040c0: 6e67 732e 7573 655f 6465 7074 685f 7065  ngs.use_depth_pe
+000040d0: 656c 696e 673a 0a20 2020 2020 2020 2020  eling:.         
+000040e0: 2020 2073 656c 662e 7769 6e64 6f77 2e53     self.window.S
+000040f0: 6574 416c 7068 6142 6974 506c 616e 6573  etAlphaBitPlanes
+00004100: 2873 6574 7469 6e67 732e 616c 7068 615f  (settings.alpha_
+00004110: 6269 745f 706c 616e 6573 290a 2020 2020  bit_planes).    
+00004120: 2020 2020 7365 6c66 2e77 696e 646f 772e      self.window.
+00004130: 5365 744d 756c 7469 5361 6d70 6c65 7328  SetMultiSamples(
+00004140: 7365 7474 696e 6773 2e6d 756c 7469 5f73  settings.multi_s
+00004150: 616d 706c 6573 290a 0a20 2020 2020 2020  amples)..       
+00004160: 2073 656c 662e 7769 6e64 6f77 2e53 6574   self.window.Set
+00004170: 506f 6c79 676f 6e53 6d6f 6f74 6869 6e67  PolygonSmoothing
+00004180: 2873 6574 7469 6e67 732e 706f 6c79 676f  (settings.polygo
+00004190: 6e5f 736d 6f6f 7468 696e 6729 0a20 2020  n_smoothing).   
+000041a0: 2020 2020 2073 656c 662e 7769 6e64 6f77       self.window
+000041b0: 2e53 6574 4c69 6e65 536d 6f6f 7468 696e  .SetLineSmoothin
+000041c0: 6728 7365 7474 696e 6773 2e6c 696e 655f  g(settings.line_
+000041d0: 736d 6f6f 7468 696e 6729 0a20 2020 2020  smoothing).     
+000041e0: 2020 2073 656c 662e 7769 6e64 6f77 2e53     self.window.S
+000041f0: 6574 506f 696e 7453 6d6f 6f74 6869 6e67  etPointSmoothing
+00004200: 2873 6574 7469 6e67 732e 706f 696e 745f  (settings.point_
+00004210: 736d 6f6f 7468 696e 6729 0a0a 2020 2020  smoothing)..    
+00004220: 2020 2020 2320 736f 7274 206f 7574 2073      # sort out s
+00004230: 6372 6565 6e20 7369 7a65 0a20 2020 2020  creen size.     
+00004240: 2020 2069 6620 7363 7265 656e 7369 7a65     if screensize
+00004250: 203d 3d20 2261 7574 6f22 3a0a 2020 2020   == "auto":.    
+00004260: 2020 2020 2020 2020 7363 7265 656e 7369          screensi
+00004270: 7a65 203d 2028 3231 3630 2c20 3134 3430  ze = (2160, 1440
+00004280: 2920 2023 206d 6967 6874 2067 6f20 7772  )  # might go wr
+00004290: 6f6e 672c 2075 7365 2061 2064 6566 6175  ong, use a defau
+000042a0: 6c74 2031 2e35 2072 6174 696f 0a0a 2020  lt 1.5 ratio..  
+000042b0: 2020 2020 2020 2020 2020 2323 2320 4255            ### BU
+000042c0: 4720 696e 2047 6574 5363 7265 656e 5369  G in GetScreenSi
+000042d0: 7a65 2069 6e20 5654 4b20 392e 312e 300a  ze in VTK 9.1.0.
+000042e0: 2020 2020 2020 2020 2020 2020 2323 2320              ### 
+000042f0: 6874 7470 733a 2f2f 6469 7363 6f75 7273  https://discours
+00004300: 652e 7674 6b2e 6f72 672f 742f 7674 6b39  e.vtk.org/t/vtk9
+00004310: 2d31 2d30 2d70 726f 626c 656d 732f 3730  -1-0-problems/70
+00004320: 3934 2f33 0a20 2020 2020 2020 2020 2020  94/3.           
+00004330: 2069 6620 7365 7474 696e 6773 2e68 6163   if settings.hac
+00004340: 6b5f 6361 6c6c 5f73 6372 6565 6e5f 7369  k_call_screen_si
+00004350: 7a65 3a20 2023 2054 7275 650a 0a20 2020  ze:  # True..   
+00004360: 2020 2020 2020 2020 2020 2020 2076 746b               vtk
+00004370: 7665 7273 203d 2076 6564 6f2e 7674 6b5f  vers = vedo.vtk_
+00004380: 7665 7273 696f 6e0a 2020 2020 2020 2020  version.        
+00004390: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
+000043a0: 656c 662e 6f66 6673 6372 6565 6e20 616e  elf.offscreen an
+000043b0: 6420 2876 746b 7665 7273 5b30 5d20 3c20  d (vtkvers[0] < 
+000043c0: 3920 6f72 2076 746b 7665 7273 5b30 5d20  9 or vtkvers[0] 
+000043d0: 3d3d 2039 2061 6e64 2076 746b 7665 7273  == 9 and vtkvers
+000043e0: 5b31 5d20 3d3d 2030 293a 0a20 2020 2020  [1] == 0):.     
+000043f0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00004400: 7573 203d 2073 656c 662e 7769 6e64 6f77  us = self.window
+00004410: 2e47 6574 5363 7265 656e 5369 7a65 2829  .GetScreenSize()
+00004420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004430: 2020 2020 2069 6620 6175 7320 616e 6420       if aus and 
+00004440: 6c65 6e28 6175 7329 203d 3d20 3220 616e  len(aus) == 2 an
+00004450: 6420 6175 735b 305d 203e 2031 3030 2061  d aus[0] > 100 a
+00004460: 6e64 2061 7573 5b31 5d20 3e20 3130 303a  nd aus[1] > 100:
+00004470: 2020 2320 7365 656d 7320 6f6b 0a20 2020    # seems ok.   
+00004480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004490: 2020 2020 2069 6620 6175 735b 305d 202f       if aus[0] /
+000044a0: 2061 7573 5b31 5d20 3e20 323a 2020 2320   aus[1] > 2:  # 
+000044b0: 6c6f 6f6b 7320 6c69 6b65 2074 6865 7265  looks like there
+000044c0: 2061 7265 2032 206f 7220 6d6f 7265 2073   are 2 or more s
+000044d0: 6372 6565 6e73 0a20 2020 2020 2020 2020  creens.         
+000044e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044f0: 2020 2073 6372 6565 6e73 697a 6520 3d20     screensize = 
+00004500: 2869 6e74 2861 7573 5b30 5d20 2f20 3229  (int(aus[0] / 2)
+00004510: 2c20 6175 735b 315d 290a 2020 2020 2020  , aus[1]).      
+00004520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004530: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00004540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004550: 2020 2020 7363 7265 656e 7369 7a65 203d      screensize =
+00004560: 2061 7573 0a0a 2020 2020 2020 2020 782c   aus..        x,
+00004570: 2079 203d 2073 6372 6565 6e73 697a 650a   y = screensize.
+00004580: 0a20 2020 2020 2020 2069 6620 4e3a 2020  .        if N:  
+00004590: 2320 4e20 3d20 6e75 6d62 6572 206f 6620  # N = number of 
+000045a0: 7265 6e64 6572 6572 732e 2046 696e 6420  renderers. Find 
+000045b0: 6f75 7420 7468 6520 6265 7374 0a0a 2020  out the best..  
+000045c0: 2020 2020 2020 2020 2020 6966 2073 6861            if sha
+000045d0: 7065 2021 3d20 2831 2c20 3129 3a20 2023  pe != (1, 1):  #
+000045e0: 2061 7272 616e 6765 6d65 6e74 2062 6173   arrangement bas
+000045f0: 6564 206f 6e20 6d69 6e69 6d75 6d20 6e72  ed on minimum nr
+00004600: 2e20 6f66 2065 6d70 7479 2072 656e 6465  . of empty rende
+00004610: 7265 7273 0a20 2020 2020 2020 2020 2020  rers.           
+00004620: 2020 2020 2076 6564 6f2e 6c6f 6767 6572       vedo.logger
+00004630: 2e77 6172 6e69 6e67 2822 6861 7669 6e67  .warning("having
+00004640: 2073 6574 204e 2c20 7368 6170 6520 6973   set N, shape is
+00004650: 2069 676e 6f72 6564 2e22 290a 0a20 2020   ignored.")..   
+00004660: 2020 2020 2020 2020 206e 7820 3d20 696e           nx = in
+00004670: 7428 6e70 2e73 7172 7428 696e 7428 4e20  t(np.sqrt(int(N 
+00004680: 2a20 7920 2f20 7829 202b 2031 2929 0a20  * y / x) + 1)). 
+00004690: 2020 2020 2020 2020 2020 206e 7920 3d20             ny = 
+000046a0: 696e 7428 6e70 2e73 7172 7428 696e 7428  int(np.sqrt(int(
+000046b0: 4e20 2a20 7820 2f20 7929 202b 2031 2929  N * x / y) + 1))
+000046c0: 0a20 2020 2020 2020 2020 2020 206c 6d20  .            lm 
+000046d0: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
+000046e0: 2020 2020 286e 782c 206e 7929 2c0a 2020      (nx, ny),.  
+000046f0: 2020 2020 2020 2020 2020 2020 2020 286e                (n
+00004700: 782c 206e 7920 2b20 3129 2c0a 2020 2020  x, ny + 1),.    
+00004710: 2020 2020 2020 2020 2020 2020 286e 7820              (nx 
+00004720: 2d20 312c 206e 7929 2c0a 2020 2020 2020  - 1, ny),.      
+00004730: 2020 2020 2020 2020 2020 286e 7820 2b20            (nx + 
+00004740: 312c 206e 7929 2c0a 2020 2020 2020 2020  1, ny),.        
+00004750: 2020 2020 2020 2020 286e 782c 206e 7920          (nx, ny 
+00004760: 2d20 3129 2c0a 2020 2020 2020 2020 2020  - 1),.          
+00004770: 2020 2020 2020 286e 7820 2d20 312c 206e        (nx - 1, n
+00004780: 7920 2b20 3129 2c0a 2020 2020 2020 2020  y + 1),.        
+00004790: 2020 2020 2020 2020 286e 7820 2b20 312c          (nx + 1,
+000047a0: 206e 7920 2d20 3129 2c0a 2020 2020 2020   ny - 1),.      
+000047b0: 2020 2020 2020 2020 2020 286e 7820 2b20            (nx + 
+000047c0: 312c 206e 7920 2b20 3129 2c0a 2020 2020  1, ny + 1),.    
+000047d0: 2020 2020 2020 2020 2020 2020 286e 7820              (nx 
+000047e0: 2d20 312c 206e 7920 2d20 3129 2c0a 2020  - 1, ny - 1),.  
+000047f0: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
+00004800: 2020 2020 2020 2020 696e 642c 206d 696e          ind, min
+00004810: 6c20 3d20 302c 2031 3030 300a 2020 2020  l = 0, 1000.    
+00004820: 2020 2020 2020 2020 666f 7220 692c 206d          for i, m
+00004830: 2069 6e20 656e 756d 6572 6174 6528 6c6d   in enumerate(lm
+00004840: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00004850: 2020 206c 203d 206d 5b30 5d20 2a20 6d5b     l = m[0] * m[
+00004860: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
+00004870: 2020 2069 6620 4e20 3c3d 206c 203c 206d     if N <= l < m
+00004880: 696e 6c3a 0a20 2020 2020 2020 2020 2020  inl:.           
+00004890: 2020 2020 2020 2020 2069 6e64 203d 2069           ind = i
+000048a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000048b0: 2020 2020 206d 696e 6c20 3d20 6c0a 2020       minl = l.  
+000048c0: 2020 2020 2020 2020 2020 7368 6170 6520            shape 
+000048d0: 3d20 6c6d 5b69 6e64 5d0a 0a20 2020 2020  = lm[ind]..     
+000048e0: 2020 2023 2323 2323 2323 2323 2323 2323     #############
+000048f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00004900: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00004910: 2323 2323 230a 2020 2020 2020 2020 6966  #####.        if
+00004920: 2069 7369 6e73 7461 6e63 6528 7368 6170   isinstance(shap
+00004930: 652c 2073 7472 293a 0a0a 2020 2020 2020  e, str):..      
+00004940: 2020 2020 2020 6966 2022 7c22 2069 6e20        if "|" in 
+00004950: 7368 6170 653a 0a20 2020 2020 2020 2020  shape:.         
+00004960: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
+00004970: 697a 6520 3d3d 2022 6175 746f 223a 0a20  ize == "auto":. 
+00004980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004990: 2020 2073 656c 662e 7369 7a65 203d 2028     self.size = (
+000049a0: 3830 302c 2031 3230 3029 0a20 2020 2020  800, 1200).     
+000049b0: 2020 2020 2020 2020 2020 206e 203d 2069             n = i
+000049c0: 6e74 2873 6861 7065 2e73 706c 6974 2822  nt(shape.split("
+000049d0: 7c22 295b 305d 290a 2020 2020 2020 2020  |")[0]).        
+000049e0: 2020 2020 2020 2020 6d20 3d20 696e 7428          m = int(
+000049f0: 7368 6170 652e 7370 6c69 7428 227c 2229  shape.split("|")
+00004a00: 5b31 5d29 0a20 2020 2020 2020 2020 2020  [1]).           
+00004a10: 2020 2020 2072 616e 6765 6e20 3d20 7265       rangen = re
+00004a20: 7665 7273 6564 2872 616e 6765 286e 2929  versed(range(n))
+00004a30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004a40: 2072 616e 6765 6d20 3d20 7265 7665 7273   rangem = revers
+00004a50: 6564 2872 616e 6765 286d 2929 0a20 2020  ed(range(m)).   
+00004a60: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00004a70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00004a80: 6620 7365 6c66 2e73 697a 6520 3d3d 2022  f self.size == "
+00004a90: 6175 746f 223a 0a20 2020 2020 2020 2020  auto":.         
+00004aa0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00004ab0: 7369 7a65 203d 2028 3132 3030 2c20 3830  size = (1200, 80
+00004ac0: 3029 0a20 2020 2020 2020 2020 2020 2020  0).             
+00004ad0: 2020 206d 203d 2069 6e74 2873 6861 7065     m = int(shape
+00004ae0: 2e73 706c 6974 2822 2f22 295b 305d 290a  .split("/")[0]).
+00004af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b00: 6e20 3d20 696e 7428 7368 6170 652e 7370  n = int(shape.sp
+00004b10: 6c69 7428 222f 2229 5b31 5d29 0a20 2020  lit("/")[1]).   
+00004b20: 2020 2020 2020 2020 2020 2020 2072 616e               ran
+00004b30: 6765 6e20 3d20 7261 6e67 6528 6e29 0a20  gen = range(n). 
+00004b40: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00004b50: 616e 6765 6d20 3d20 7261 6e67 6528 6d29  angem = range(m)
+00004b60: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00004b70: 206e 203e 3d20 6d3a 0a20 2020 2020 2020   n >= m:.       
+00004b80: 2020 2020 2020 2020 2078 7370 6c69 7420           xsplit 
+00004b90: 3d20 6d20 2f20 286e 202b 206d 290a 2020  = m / (n + m).  
+00004ba0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00004bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004bc0: 7873 706c 6974 203d 2031 202d 206e 202f  xsplit = 1 - n /
+00004bd0: 2028 6e20 2b20 6d29 0a20 2020 2020 2020   (n + m).       
+00004be0: 2020 2020 2069 6620 7365 7474 696e 6773       if settings
+00004bf0: 2e77 696e 646f 775f 7370 6c69 7474 696e  .window_splittin
+00004c00: 675f 706f 7369 7469 6f6e 3a0a 2020 2020  g_position:.    
+00004c10: 2020 2020 2020 2020 2020 2020 7873 706c              xspl
+00004c20: 6974 203d 2073 6574 7469 6e67 732e 7769  it = settings.wi
+00004c30: 6e64 6f77 5f73 706c 6974 7469 6e67 5f70  ndow_splitting_p
+00004c40: 6f73 6974 696f 6e0a 0a20 2020 2020 2020  osition..       
+00004c50: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
+00004c60: 6e67 656e 3a0a 2020 2020 2020 2020 2020  ngen:.          
+00004c70: 2020 2020 2020 6172 656e 6465 7265 7220        arenderer 
+00004c80: 3d20 7674 6b2e 7674 6b52 656e 6465 7265  = vtk.vtkRendere
+00004c90: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
+00004ca0: 2020 2020 6966 2022 7c22 2069 6e20 7368      if "|" in sh
+00004cb0: 6170 653a 0a20 2020 2020 2020 2020 2020  ape:.           
+00004cc0: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
+00004cd0: 6572 2e53 6574 5669 6577 706f 7274 2830  er.SetViewport(0
+00004ce0: 2c20 6920 2f20 6e2c 2078 7370 6c69 742c  , i / n, xsplit,
+00004cf0: 2028 6920 2b20 3129 202f 206e 290a 2020   (i + 1) / n).  
+00004d00: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00004d10: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00004d20: 2020 2020 2020 2020 6172 656e 6465 7265          arendere
+00004d30: 722e 5365 7456 6965 7770 6f72 7428 6920  r.SetViewport(i 
+00004d40: 2f20 6e2c 2030 2c20 2869 202b 2031 2920  / n, 0, (i + 1) 
+00004d50: 2f20 6e2c 2078 7370 6c69 7429 0a20 2020  / n, xsplit).   
+00004d60: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00004d70: 662e 7265 6e64 6572 6572 732e 6170 7065  f.renderers.appe
+00004d80: 6e64 2861 7265 6e64 6572 6572 290a 0a20  nd(arenderer).. 
+00004d90: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
+00004da0: 2069 6e20 7261 6e67 656d 3a0a 2020 2020   in rangem:.    
+00004db0: 2020 2020 2020 2020 2020 2020 6172 656e              aren
+00004dc0: 6465 7265 7220 3d20 7674 6b2e 7674 6b52  derer = vtk.vtkR
+00004dd0: 656e 6465 7265 7228 290a 0a20 2020 2020  enderer()..     
+00004de0: 2020 2020 2020 2020 2020 2069 6620 227c             if "|
+00004df0: 2220 696e 2073 6861 7065 3a0a 2020 2020  " in shape:.    
+00004e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004e10: 6172 656e 6465 7265 722e 5365 7456 6965  arenderer.SetVie
+00004e20: 7770 6f72 7428 7873 706c 6974 2c20 6920  wport(xsplit, i 
+00004e30: 2f20 6d2c 2031 2c20 2869 202b 2031 2920  / m, 1, (i + 1) 
+00004e40: 2f20 6d29 0a20 2020 2020 2020 2020 2020  / m).           
+00004e50: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00004e60: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00004e70: 7265 6e64 6572 6572 2e53 6574 5669 6577  renderer.SetView
+00004e80: 706f 7274 2869 202f 206d 2c20 7873 706c  port(i / m, xspl
+00004e90: 6974 2c20 2869 202b 2031 2920 2f20 6d2c  it, (i + 1) / m,
+00004ea0: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
+00004eb0: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
+00004ec0: 7273 2e61 7070 656e 6428 6172 656e 6465  rs.append(arende
+00004ed0: 7265 7229 0a0a 2020 2020 2020 2020 2020  rer)..          
+00004ee0: 2020 666f 7220 7220 696e 2073 656c 662e    for r in self.
+00004ef0: 7265 6e64 6572 6572 733a 0a20 2020 2020  renderers:.     
+00004f00: 2020 2020 2020 2020 2020 2072 2e53 6574             r.Set
+00004f10: 5573 6548 6964 6465 6e4c 696e 6552 656d  UseHiddenLineRem
+00004f20: 6f76 616c 2873 6574 7469 6e67 732e 6869  oval(settings.hi
+00004f30: 6464 656e 5f6c 696e 655f 7265 6d6f 7661  dden_line_remova
+00004f40: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
+00004f50: 2020 2072 2e53 6574 4c69 6768 7446 6f6c     r.SetLightFol
+00004f60: 6c6f 7743 616d 6572 6128 7365 7474 696e  lowCamera(settin
+00004f70: 6773 2e6c 6967 6874 5f66 6f6c 6c6f 7773  gs.light_follows
+00004f80: 5f63 616d 6572 6129 0a0a 2020 2020 2020  _camera)..      
+00004f90: 2020 2020 2020 2020 2020 722e 5365 7455            r.SetU
+00004fa0: 7365 4465 7074 6850 6565 6c69 6e67 2873  seDepthPeeling(s
+00004fb0: 6574 7469 6e67 732e 7573 655f 6465 7074  ettings.use_dept
+00004fc0: 685f 7065 656c 696e 6729 0a20 2020 2020  h_peeling).     
+00004fd0: 2020 2020 2020 2020 2020 2023 2072 2e53             # r.S
+00004fe0: 6574 5573 6544 6570 7468 5065 656c 696e  etUseDepthPeelin
+00004ff0: 6746 6f72 566f 6c75 6d65 7328 7365 7474  gForVolumes(sett
+00005000: 696e 6773 2e75 7365 5f64 6570 7468 5f70  ings.use_depth_p
+00005010: 6565 6c69 6e67 290a 2020 2020 2020 2020  eeling).        
+00005020: 2020 2020 2020 2020 6966 2073 6574 7469          if setti
+00005030: 6e67 732e 7573 655f 6465 7074 685f 7065  ngs.use_depth_pe
+00005040: 656c 696e 673a 0a20 2020 2020 2020 2020  eling:.         
+00005050: 2020 2020 2020 2020 2020 2072 2e53 6574             r.Set
+00005060: 4d61 7869 6d75 6d4e 756d 6265 724f 6650  MaximumNumberOfP
+00005070: 6565 6c73 2873 6574 7469 6e67 732e 6d61  eels(settings.ma
+00005080: 785f 6e75 6d62 6572 5f6f 665f 7065 656c  x_number_of_peel
+00005090: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+000050a0: 2020 2020 2020 2072 2e53 6574 4f63 636c         r.SetOccl
+000050b0: 7573 696f 6e52 6174 696f 2873 6574 7469  usionRatio(setti
+000050c0: 6e67 732e 6f63 636c 7573 696f 6e5f 7261  ngs.occlusion_ra
+000050d0: 7469 6f29 0a20 2020 2020 2020 2020 2020  tio).           
+000050e0: 2020 2020 2072 2e53 6574 5573 6546 5841       r.SetUseFXA
+000050f0: 4128 7365 7474 696e 6773 2e75 7365 5f66  A(settings.use_f
+00005100: 7861 6129 0a20 2020 2020 2020 2020 2020  xaa).           
+00005110: 2020 2020 2072 2e53 6574 5072 6573 6572       r.SetPreser
+00005120: 7665 4465 7074 6842 7566 6665 7228 7365  veDepthBuffer(se
+00005130: 7474 696e 6773 2e70 7265 7365 7276 655f  ttings.preserve_
+00005140: 6465 7074 685f 6275 6666 6572 290a 0a20  depth_buffer).. 
+00005150: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00005160: 2e53 6574 4261 636b 6772 6f75 6e64 2876  .SetBackground(v
+00005170: 6564 6f2e 6765 745f 636f 6c6f 7228 7365  edo.get_color(se
+00005180: 6c66 2e62 6163 6b67 7263 6f6c 2929 0a0a  lf.backgrcol))..
+00005190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000051a0: 7365 6c66 2e61 7865 735f 696e 7374 616e  self.axes_instan
+000051b0: 6365 732e 6170 7065 6e64 284e 6f6e 6529  ces.append(None)
+000051c0: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+000051d0: 6c66 2e73 6861 7065 203d 2028 6e20 2b20  lf.shape = (n + 
+000051e0: 6d2c 290a 0a20 2020 2020 2020 2065 6c69  m,)..        eli
+000051f0: 6620 7574 696c 732e 6973 5f73 6571 7565  f utils.is_seque
+00005200: 6e63 6528 7368 6170 6529 2061 6e64 2069  nce(shape) and i
+00005210: 7369 6e73 7461 6e63 6528 7368 6170 655b  sinstance(shape[
+00005220: 305d 2c20 6469 6374 293a 0a20 2020 2020  0], dict):.     
+00005230: 2020 2020 2020 2023 2070 6173 7369 6e67         # passing
+00005240: 2061 2073 6571 7565 6e63 6520 6f66 2064   a sequence of d
+00005250: 6963 7473 2066 6f72 2072 656e 6465 7265  icts for rendere
+00005260: 7273 2073 7065 6369 6669 6361 7469 6f6e  rs specification
+00005270: 730a 0a20 2020 2020 2020 2020 2020 2069  s..            i
+00005280: 6620 7365 6c66 2e73 697a 6520 3d3d 2022  f self.size == "
+00005290: 6175 746f 223a 0a20 2020 2020 2020 2020  auto":.         
+000052a0: 2020 2020 2020 2073 656c 662e 7369 7a65         self.size
+000052b0: 203d 2028 3132 3030 2c20 3930 3029 0a0a   = (1200, 900)..
+000052c0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+000052d0: 7264 2069 6e20 7368 6170 653a 0a20 2020  rd in shape:.   
+000052e0: 2020 2020 2020 2020 2020 2020 2078 302c               x0,
+000052f0: 2079 3020 3d20 7264 5b22 626f 7474 6f6d   y0 = rd["bottom
+00005300: 6c65 6674 225d 0a20 2020 2020 2020 2020  left"].         
+00005310: 2020 2020 2020 2078 312c 2079 3120 3d20         x1, y1 = 
+00005320: 7264 5b22 746f 7072 6967 6874 225d 0a20  rd["topright"]. 
+00005330: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00005340: 675f 203d 2072 642e 706f 7028 2262 6722  g_ = rd.pop("bg"
+00005350: 2c20 2277 6869 7465 2229 0a20 2020 2020  , "white").     
+00005360: 2020 2020 2020 2020 2020 2062 6732 5f20             bg2_ 
+00005370: 3d20 7264 2e70 6f70 2822 6267 3222 2c20  = rd.pop("bg2", 
+00005380: 4e6f 6e65 290a 0a20 2020 2020 2020 2020  None)..         
+00005390: 2020 2020 2020 2061 7265 6e64 6572 6572         arenderer
+000053a0: 203d 2076 746b 2e76 746b 5265 6e64 6572   = vtk.vtkRender
+000053b0: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
+000053c0: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
+000053d0: 6574 5573 6548 6964 6465 6e4c 696e 6552  etUseHiddenLineR
+000053e0: 656d 6f76 616c 2873 6574 7469 6e67 732e  emoval(settings.
+000053f0: 6869 6464 656e 5f6c 696e 655f 7265 6d6f  hidden_line_remo
+00005400: 7661 6c29 0a20 2020 2020 2020 2020 2020  val).           
+00005410: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
+00005420: 6574 4c69 6768 7446 6f6c 6c6f 7743 616d  etLightFollowCam
+00005430: 6572 6128 7365 7474 696e 6773 2e6c 6967  era(settings.lig
+00005440: 6874 5f66 6f6c 6c6f 7773 5f63 616d 6572  ht_follows_camer
+00005450: 6129 0a0a 2020 2020 2020 2020 2020 2020  a)..            
+00005460: 2020 2020 6172 656e 6465 7265 722e 5365      arenderer.Se
+00005470: 7455 7365 4465 7074 6850 6565 6c69 6e67  tUseDepthPeeling
+00005480: 2873 6574 7469 6e67 732e 7573 655f 6465  (settings.use_de
+00005490: 7074 685f 7065 656c 696e 6729 0a20 2020  pth_peeling).   
+000054a0: 2020 2020 2020 2020 2020 2020 2023 2061               # a
+000054b0: 7265 6e64 6572 6572 2e53 6574 5573 6544  renderer.SetUseD
+000054c0: 6570 7468 5065 656c 696e 6746 6f72 566f  epthPeelingForVo
+000054d0: 6c75 6d65 7328 7365 7474 696e 6773 2e75  lumes(settings.u
+000054e0: 7365 5f64 6570 7468 5f70 6565 6c69 6e67  se_depth_peeling
+000054f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00005500: 2020 6966 2073 6574 7469 6e67 732e 7573    if settings.us
+00005510: 655f 6465 7074 685f 7065 656c 696e 673a  e_depth_peeling:
+00005520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005530: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
+00005540: 6574 4d61 7869 6d75 6d4e 756d 6265 724f  etMaximumNumberO
+00005550: 6650 6565 6c73 2873 6574 7469 6e67 732e  fPeels(settings.
+00005560: 6d61 785f 6e75 6d62 6572 5f6f 665f 7065  max_number_of_pe
+00005570: 656c 7329 0a20 2020 2020 2020 2020 2020  els).           
+00005580: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
+00005590: 6572 2e53 6574 4f63 636c 7573 696f 6e52  er.SetOcclusionR
+000055a0: 6174 696f 2873 6574 7469 6e67 732e 6f63  atio(settings.oc
+000055b0: 636c 7573 696f 6e5f 7261 7469 6f29 0a20  clusion_ratio). 
+000055c0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000055d0: 7265 6e64 6572 6572 2e53 6574 5573 6546  renderer.SetUseF
+000055e0: 5841 4128 7365 7474 696e 6773 2e75 7365  XAA(settings.use
+000055f0: 5f66 7861 6129 0a20 2020 2020 2020 2020  _fxaa).         
+00005600: 2020 2020 2020 2061 7265 6e64 6572 6572         arenderer
+00005610: 2e53 6574 5072 6573 6572 7665 4465 7074  .SetPreserveDept
+00005620: 6842 7566 6665 7228 7365 7474 696e 6773  hBuffer(settings
+00005630: 2e70 7265 7365 7276 655f 6465 7074 685f  .preserve_depth_
+00005640: 6275 6666 6572 290a 0a20 2020 2020 2020  buffer)..       
+00005650: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
+00005660: 6572 2e53 6574 5669 6577 706f 7274 2878  er.SetViewport(x
+00005670: 302c 2079 302c 2078 312c 2079 3129 0a20  0, y0, x1, y1). 
+00005680: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00005690: 7265 6e64 6572 6572 2e53 6574 4261 636b  renderer.SetBack
+000056a0: 6772 6f75 6e64 2876 6564 6f2e 6765 745f  ground(vedo.get_
+000056b0: 636f 6c6f 7228 6267 5f29 290a 2020 2020  color(bg_)).    
+000056c0: 2020 2020 2020 2020 2020 2020 6966 2062              if b
+000056d0: 6732 5f3a 0a20 2020 2020 2020 2020 2020  g2_:.           
+000056e0: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
+000056f0: 6572 2e47 7261 6469 656e 7442 6163 6b67  er.GradientBackg
+00005700: 726f 756e 644f 6e28 290a 2020 2020 2020  roundOn().      
+00005710: 2020 2020 2020 2020 2020 2020 2020 6172                ar
+00005720: 656e 6465 7265 722e 5365 7442 6163 6b67  enderer.SetBackg
+00005730: 726f 756e 6432 2876 6564 6f2e 6765 745f  round2(vedo.get_
+00005740: 636f 6c6f 7228 6267 325f 2929 0a0a 2020  color(bg2_))..  
+00005750: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00005760: 6c66 2e72 656e 6465 7265 7273 2e61 7070  lf.renderers.app
+00005770: 656e 6428 6172 656e 6465 7265 7229 0a20  end(arenderer). 
+00005780: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00005790: 656c 662e 6178 6573 5f69 6e73 7461 6e63  elf.axes_instanc
+000057a0: 6573 2e61 7070 656e 6428 4e6f 6e65 290a  es.append(None).
+000057b0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000057c0: 662e 7368 6170 6520 3d20 286c 656e 2873  f.shape = (len(s
+000057d0: 6861 7065 292c 290a 0a20 2020 2020 2020  hape),)..       
+000057e0: 2065 6c73 653a 0a0a 2020 2020 2020 2020   else:..        
+000057f0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00005800: 6528 7365 6c66 2e73 697a 652c 2073 7472  e(self.size, str
+00005810: 2920 616e 6420 7365 6c66 2e73 697a 6520  ) and self.size 
+00005820: 3d3d 2022 6175 746f 223a 0a20 2020 2020  == "auto":.     
+00005830: 2020 2020 2020 2020 2020 2023 2066 6967             # fig
+00005840: 7572 6520 6f75 7420 6120 7265 6173 6f6e  ure out a reason
+00005850: 6162 6c65 2077 696e 646f 7720 7369 7a65  able window size
+00005860: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005870: 2066 203d 2031 2e35 0a20 2020 2020 2020   f = 1.5.       
+00005880: 2020 2020 2020 2020 2078 7320 3d20 7920           xs = y 
+00005890: 2f20 6620 2a20 7368 6170 655b 315d 2020  / f * shape[1]  
+000058a0: 2320 6265 6361 7573 6520 793c 780a 2020  # because y<x.  
+000058b0: 2020 2020 2020 2020 2020 2020 2020 7973                ys
+000058c0: 203d 2079 202f 2066 202a 2073 6861 7065   = y / f * shape
+000058d0: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+000058e0: 2020 2020 6966 2078 7320 3e20 7820 2f20      if xs > x / 
+000058f0: 663a 2020 2320 7368 7269 6e6b 0a20 2020  f:  # shrink.   
+00005900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005910: 2078 7320 3d20 7820 2f20 660a 2020 2020   xs = x / f.    
+00005920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005930: 7973 203d 2078 7320 2f20 7368 6170 655b  ys = xs / shape[
+00005940: 315d 202a 2073 6861 7065 5b30 5d0a 2020  1] * shape[0].  
+00005950: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00005960: 2079 7320 3e20 7920 2f20 663a 0a20 2020   ys > y / f:.   
+00005970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005980: 2079 7320 3d20 7920 2f20 660a 2020 2020   ys = y / f.    
+00005990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000059a0: 7873 203d 2079 7320 2f20 7368 6170 655b  xs = ys / shape[
+000059b0: 305d 202a 2073 6861 7065 5b31 5d0a 2020  0] * shape[1].  
+000059c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000059d0: 6c66 2e73 697a 6520 3d20 2869 6e74 2878  lf.size = (int(x
+000059e0: 7329 2c20 696e 7428 7973 2929 0a20 2020  s), int(ys)).   
+000059f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00005a00: 7368 6170 6520 3d3d 2028 312c 2031 293a  shape == (1, 1):
+00005a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005a20: 2020 2020 2073 656c 662e 7369 7a65 203d       self.size =
+00005a30: 2028 696e 7428 7920 2f20 6629 2c20 696e   (int(y / f), in
+00005a40: 7428 7920 2f20 6629 2920 2023 2062 6563  t(y / f))  # bec
+00005a50: 6175 7365 2079 3c78 0a20 2020 2020 2020  ause y<x.       
+00005a60: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00005a70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00005a80: 7369 7a65 203d 2028 7365 6c66 2e73 697a  size = (self.siz
+00005a90: 655b 305d 2c20 7365 6c66 2e73 697a 655b  e[0], self.size[
+00005aa0: 315d 290a 0a20 2020 2020 2020 2020 2020  1])..           
+00005ab0: 2069 6d61 6765 5f61 6374 6f72 203d 204e   image_actor = N
+00005ac0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+00005ad0: 6267 6e61 6d65 203d 2073 7472 2873 656c  bgname = str(sel
+00005ae0: 662e 6261 636b 6772 636f 6c29 2e6c 6f77  f.backgrcol).low
+00005af0: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
+00005b00: 2069 6620 222e 6a70 6722 2069 6e20 6267   if ".jpg" in bg
+00005b10: 6e61 6d65 206f 7220 222e 6a70 6567 2220  name or ".jpeg" 
+00005b20: 696e 2062 676e 616d 6520 6f72 2022 2e70  in bgname or ".p
+00005b30: 6e67 2220 696e 2062 676e 616d 653a 0a20  ng" in bgname:. 
+00005b40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00005b50: 656c 662e 7769 6e64 6f77 2e53 6574 4e75  elf.window.SetNu
+00005b60: 6d62 6572 4f66 4c61 7965 7273 2832 290a  mberOfLayers(2).
+00005b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b80: 7365 6c66 2e62 6163 6b67 726f 756e 645f  self.background_
+00005b90: 7265 6e64 6572 6572 203d 2076 746b 2e76  renderer = vtk.v
+00005ba0: 746b 5265 6e64 6572 6572 2829 0a20 2020  tkRenderer().   
+00005bb0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00005bc0: 662e 6261 636b 6772 6f75 6e64 5f72 656e  f.background_ren
+00005bd0: 6465 7265 722e 5365 744c 6179 6572 2830  derer.SetLayer(0
+00005be0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00005bf0: 2020 7365 6c66 2e62 6163 6b67 726f 756e    self.backgroun
+00005c00: 645f 7265 6e64 6572 6572 2e49 6e74 6572  d_renderer.Inter
+00005c10: 6163 7469 7665 4f66 6628 290a 2020 2020  activeOff().    
+00005c20: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00005c30: 2e62 6163 6b67 726f 756e 645f 7265 6e64  .background_rend
+00005c40: 6572 6572 2e53 6574 4261 636b 6772 6f75  erer.SetBackgrou
+00005c50: 6e64 2876 6564 6f2e 6765 745f 636f 6c6f  nd(vedo.get_colo
+00005c60: 7228 6267 3229 290a 2020 2020 2020 2020  r(bg2)).        
+00005c70: 2020 2020 2020 2020 696d 6167 655f 6163          image_ac
+00005c80: 746f 7220 3d20 7665 646f 2e50 6963 7475  tor = vedo.Pictu
+00005c90: 7265 2873 656c 662e 6261 636b 6772 636f  re(self.backgrco
+00005ca0: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
+00005cb0: 2020 2073 656c 662e 7769 6e64 6f77 2e41     self.window.A
+00005cc0: 6464 5265 6e64 6572 6572 2873 656c 662e  ddRenderer(self.
+00005cd0: 6261 636b 6772 6f75 6e64 5f72 656e 6465  background_rende
+00005ce0: 7265 7229 0a20 2020 2020 2020 2020 2020  rer).           
+00005cf0: 2020 2020 2073 656c 662e 6261 636b 6772       self.backgr
+00005d00: 6f75 6e64 5f72 656e 6465 7265 722e 4164  ound_renderer.Ad
+00005d10: 6441 6374 6f72 2869 6d61 6765 5f61 6374  dActor(image_act
+00005d20: 6f72 290a 0a20 2020 2020 2020 2020 2020  or)..           
+00005d30: 2066 6f72 2069 2069 6e20 7265 7665 7273   for i in revers
+00005d40: 6564 2872 616e 6765 2873 6861 7065 5b30  ed(range(shape[0
+00005d50: 5d29 293a 0a20 2020 2020 2020 2020 2020  ])):.           
+00005d60: 2020 2020 2066 6f72 206a 2069 6e20 7261       for j in ra
+00005d70: 6e67 6528 7368 6170 655b 315d 293a 0a20  nge(shape[1]):. 
+00005d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d90: 2020 2061 7265 6e64 6572 6572 203d 2076     arenderer = v
+00005da0: 746b 2e76 746b 5265 6e64 6572 6572 2829  tk.vtkRenderer()
+00005db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005dc0: 2020 2020 2061 7265 6e64 6572 6572 2e53       arenderer.S
+00005dd0: 6574 5573 6548 6964 6465 6e4c 696e 6552  etUseHiddenLineR
+00005de0: 656d 6f76 616c 2873 6574 7469 6e67 732e  emoval(settings.
+00005df0: 6869 6464 656e 5f6c 696e 655f 7265 6d6f  hidden_line_remo
+00005e00: 7661 6c29 0a20 2020 2020 2020 2020 2020  val).           
+00005e10: 2020 2020 2020 2020 2061 7265 6e64 6572           arender
+00005e20: 6572 2e53 6574 4c69 6768 7446 6f6c 6c6f  er.SetLightFollo
+00005e30: 7743 616d 6572 6128 7365 7474 696e 6773  wCamera(settings
+00005e40: 2e6c 6967 6874 5f66 6f6c 6c6f 7773 5f63  .light_follows_c
+00005e50: 616d 6572 6129 0a20 2020 2020 2020 2020  amera).         
+00005e60: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
+00005e70: 6572 6572 2e53 6574 5477 6f53 6964 6564  erer.SetTwoSided
+00005e80: 4c69 6768 7469 6e67 2873 6574 7469 6e67  Lighting(setting
+00005e90: 732e 7477 6f5f 7369 6465 645f 6c69 6768  s.two_sided_ligh
+00005ea0: 7469 6e67 290a 0a20 2020 2020 2020 2020  ting)..         
+00005eb0: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
+00005ec0: 6572 6572 2e53 6574 5573 6544 6570 7468  erer.SetUseDepth
+00005ed0: 5065 656c 696e 6728 7365 7474 696e 6773  Peeling(settings
+00005ee0: 2e75 7365 5f64 6570 7468 5f70 6565 6c69  .use_depth_peeli
+00005ef0: 6e67 290a 2020 2020 2020 2020 2020 2020  ng).            
+00005f00: 2020 2020 2020 2020 2320 6172 656e 6465          # arende
+00005f10: 7265 722e 5365 7455 7365 4465 7074 6850  rer.SetUseDepthP
+00005f20: 6565 6c69 6e67 466f 7256 6f6c 756d 6573  eelingForVolumes
+00005f30: 2873 6574 7469 6e67 732e 7573 655f 6465  (settings.use_de
+00005f40: 7074 685f 7065 656c 696e 6729 0a20 2020  pth_peeling).   
+00005f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f60: 2069 6620 7365 7474 696e 6773 2e75 7365   if settings.use
+00005f70: 5f64 6570 7468 5f70 6565 6c69 6e67 3a0a  _depth_peeling:.
+00005f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f90: 2020 2020 2020 2020 6172 656e 6465 7265          arendere
+00005fa0: 722e 5365 744d 6178 696d 756d 4e75 6d62  r.SetMaximumNumb
+00005fb0: 6572 4f66 5065 656c 7328 7365 7474 696e  erOfPeels(settin
+00005fc0: 6773 2e6d 6178 5f6e 756d 6265 725f 6f66  gs.max_number_of
+00005fd0: 5f70 6565 6c73 290a 2020 2020 2020 2020  _peels).        
+00005fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ff0: 6172 656e 6465 7265 722e 5365 744f 6363  arenderer.SetOcc
+00006000: 6c75 7369 6f6e 5261 7469 6f28 7365 7474  lusionRatio(sett
+00006010: 696e 6773 2e6f 6363 6c75 7369 6f6e 5f72  ings.occlusion_r
+00006020: 6174 696f 290a 2020 2020 2020 2020 2020  atio).          
+00006030: 2020 2020 2020 2020 2020 6172 656e 6465            arende
+00006040: 7265 722e 5365 7455 7365 4658 4141 2873  rer.SetUseFXAA(s
+00006050: 6574 7469 6e67 732e 7573 655f 6678 6161  ettings.use_fxaa
+00006060: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00006070: 2020 2020 2020 6172 656e 6465 7265 722e        arenderer.
+00006080: 5365 7450 7265 7365 7276 6544 6570 7468  SetPreserveDepth
+00006090: 4275 6666 6572 2873 6574 7469 6e67 732e  Buffer(settings.
+000060a0: 7072 6573 6572 7665 5f64 6570 7468 5f62  preserve_depth_b
+000060b0: 7566 6665 7229 0a0a 2020 2020 2020 2020  uffer)..        
+000060c0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+000060d0: 6d61 6765 5f61 6374 6f72 3a0a 2020 2020  mage_actor:.    
+000060e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000060f0: 2020 2020 6172 656e 6465 7265 722e 5365      arenderer.Se
+00006100: 744c 6179 6572 2831 290a 0a20 2020 2020  tLayer(1)..     
+00006110: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00006120: 7265 6e64 6572 6572 2e53 6574 4261 636b  renderer.SetBack
+00006130: 6772 6f75 6e64 2876 6564 6f2e 6765 745f  ground(vedo.get_
+00006140: 636f 6c6f 7228 7365 6c66 2e62 6163 6b67  color(self.backg
+00006150: 7263 6f6c 2929 0a20 2020 2020 2020 2020  rcol)).         
+00006160: 2020 2020 2020 2020 2020 2069 6620 6267             if bg
+00006170: 323a 0a20 2020 2020 2020 2020 2020 2020  2:.             
+00006180: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
+00006190: 6572 6572 2e47 7261 6469 656e 7442 6163  erer.GradientBac
+000061a0: 6b67 726f 756e 644f 6e28 290a 2020 2020  kgroundOn().    
+000061b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000061c0: 2020 2020 6172 656e 6465 7265 722e 5365      arenderer.Se
+000061d0: 7442 6163 6b67 726f 756e 6432 2876 6564  tBackground2(ved
+000061e0: 6f2e 6765 745f 636f 6c6f 7228 6267 3229  o.get_color(bg2)
+000061f0: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00006200: 2020 2020 2020 2078 3020 3d20 6920 2f20         x0 = i / 
+00006210: 7368 6170 655b 305d 0a20 2020 2020 2020  shape[0].       
+00006220: 2020 2020 2020 2020 2020 2020 2079 3020               y0 
+00006230: 3d20 6a20 2f20 7368 6170 655b 315d 0a20  = j / shape[1]. 
+00006240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006250: 2020 2078 3120 3d20 2869 202b 2031 2920     x1 = (i + 1) 
+00006260: 2f20 7368 6170 655b 305d 0a20 2020 2020  / shape[0].     
+00006270: 2020 2020 2020 2020 2020 2020 2020 2079                 y
+00006280: 3120 3d20 286a 202b 2031 2920 2f20 7368  1 = (j + 1) / sh
+00006290: 6170 655b 315d 0a20 2020 2020 2020 2020  ape[1].         
+000062a0: 2020 2020 2020 2020 2020 2061 7265 6e64             arend
+000062b0: 6572 6572 2e53 6574 5669 6577 706f 7274  erer.SetViewport
+000062c0: 2879 302c 2078 302c 2079 312c 2078 3129  (y0, x0, y1, x1)
+000062d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000062e0: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
+000062f0: 6572 732e 6170 7065 6e64 2861 7265 6e64  ers.append(arend
+00006300: 6572 6572 290a 2020 2020 2020 2020 2020  erer).          
+00006310: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
+00006320: 7865 735f 696e 7374 616e 6365 732e 6170  xes_instances.ap
+00006330: 7065 6e64 284e 6f6e 6529 0a20 2020 2020  pend(None).     
+00006340: 2020 2020 2020 2073 656c 662e 7368 6170         self.shap
+00006350: 6520 3d20 7368 6170 650a 0a20 2020 2020  e = shape..     
+00006360: 2020 2069 6620 7365 6c66 2e72 656e 6465     if self.rende
+00006370: 7265 7273 3a0a 2020 2020 2020 2020 2020  rers:.          
+00006380: 2020 7365 6c66 2e72 656e 6465 7265 7220    self.renderer 
+00006390: 3d20 7365 6c66 2e72 656e 6465 7265 7273  = self.renderers
+000063a0: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+000063b0: 7365 6c66 2e63 616d 6572 6120 3d20 7365  self.camera = se
+000063c0: 6c66 2e72 656e 6465 7265 722e 4765 7441  lf.renderer.GetA
+000063d0: 6374 6976 6543 616d 6572 6128 290a 2020  ctiveCamera().  
+000063e0: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
+000063f0: 616d 6572 612e 5365 7450 6172 616c 6c65  amera.SetParalle
+00006400: 6c50 726f 6a65 6374 696f 6e28 7365 7474  lProjection(sett
+00006410: 696e 6773 2e75 7365 5f70 6172 616c 6c65  ings.use_paralle
+00006420: 6c5f 7072 6f6a 6563 7469 6f6e 290a 0a20  l_projection).. 
+00006430: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
+00006440: 697a 655b 305d 203d 3d20 2266 223a 2020  ize[0] == "f":  
+00006450: 2320 6675 6c6c 2073 6372 6565 6e0a 2020  # full screen.  
+00006460: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+00006470: 697a 6520 3d20 2266 756c 6c73 6372 6565  ize = "fullscree
+00006480: 6e22 0a20 2020 2020 2020 2020 2020 2073  n".            s
+00006490: 656c 662e 7769 6e64 6f77 2e53 6574 4675  elf.window.SetFu
+000064a0: 6c6c 5363 7265 656e 2854 7275 6529 0a20  llScreen(True). 
+000064b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000064c0: 7769 6e64 6f77 2e42 6f72 6465 7273 4f6e  window.BordersOn
+000064d0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
+000064e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000064f0: 662e 7769 6e64 6f77 2e53 6574 5369 7a65  f.window.SetSize
+00006500: 2869 6e74 2873 656c 662e 7369 7a65 5b30  (int(self.size[0
+00006510: 5d29 2c20 696e 7428 7365 6c66 2e73 697a  ]), int(self.siz
+00006520: 655b 315d 2929 0a0a 2020 2020 2020 2020  e[1]))..        
+00006530: 6966 2073 656c 662e 7778 5f77 6964 6765  if self.wx_widge
+00006540: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
+00006550: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+00006560: 6e67 732e 696d 6d65 6469 6174 655f 7265  ngs.immediate_re
+00006570: 6e64 6572 696e 6720 3d20 4661 6c73 6520  ndering = False 
+00006580: 2023 206f 7665 7272 6964 650a 2020 2020   # override.    
+00006590: 2020 2020 2020 2020 7365 6c66 2e77 696e          self.win
+000065a0: 646f 7720 3d20 7365 6c66 2e77 785f 7769  dow = self.wx_wi
+000065b0: 6467 6574 2e47 6574 5265 6e64 6572 5769  dget.GetRenderWi
+000065c0: 6e64 6f77 2829 2020 2320 6f76 6572 7772  ndow()  # overwr
+000065d0: 6974 650a 2020 2020 2020 2020 2020 2020  ite.            
+000065e0: 7365 6c66 2e69 6e74 6572 6163 746f 7220  self.interactor 
+000065f0: 3d20 7365 6c66 2e77 696e 646f 772e 4765  = self.window.Ge
+00006600: 7449 6e74 6572 6163 746f 7228 290a 2020  tInteractor().  
+00006610: 2020 2020 2020 2020 2020 666f 7220 7220            for r 
+00006620: 696e 2073 656c 662e 7265 6e64 6572 6572  in self.renderer
+00006630: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00006640: 2020 2073 656c 662e 7769 6e64 6f77 2e41     self.window.A
+00006650: 6464 5265 6e64 6572 6572 2872 290a 2020  ddRenderer(r).  
+00006660: 2020 2020 2020 2020 2020 7365 6c66 2e77            self.w
+00006670: 785f 7769 6467 6574 2e53 6574 496e 7465  x_widget.SetInte
+00006680: 7261 6374 6f72 5374 796c 6528 7674 6b2e  ractorStyle(vtk.
+00006690: 7674 6b49 6e74 6572 6163 746f 7253 7479  vtkInteractorSty
+000066a0: 6c65 5472 6163 6b62 616c 6c43 616d 6572  leTrackballCamer
+000066b0: 6128 2929 0a20 2020 2020 2020 2020 2020  a()).           
+000066c0: 2073 656c 662e 6361 6d65 7261 203d 2073   self.camera = s
+000066d0: 656c 662e 7265 6e64 6572 6572 2e47 6574  elf.renderer.Get
+000066e0: 4163 7469 7665 4361 6d65 7261 2829 0a20  ActiveCamera(). 
+000066f0: 2020 2020 2020 2020 2020 2023 2323 2323             #####
+00006700: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006710: 2323 230a 2020 2020 2020 2020 2020 2020  ###.            
+00006720: 7265 7475 726e 2020 2323 2323 2323 2323  return  ########
+00006730: 2323 2323 2323 2323 0a20 2020 2020 2020  ########.       
+00006740: 2020 2020 2023 2323 2323 2323 2323 2323       ###########
+00006750: 2323 2323 2323 2323 2323 2323 230a 0a20  #############.. 
+00006760: 2020 2020 2020 2069 6620 7365 6c66 2e71         if self.q
+00006770: 745f 7769 6467 6574 2069 7320 6e6f 7420  t_widget is not 
+00006780: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00006790: 2020 7365 6c66 2e69 6e74 6572 6163 746f    self.interacto
+000067a0: 7220 3d20 7365 6c66 2e71 745f 7769 6467  r = self.qt_widg
+000067b0: 6574 2e47 6574 5265 6e64 6572 5769 6e64  et.GetRenderWind
+000067c0: 6f77 2829 2e47 6574 496e 7465 7261 6374  ow().GetInteract
+000067d0: 6f72 2829 0a20 2020 2020 2020 2020 2020  or().           
+000067e0: 2073 656c 662e 7769 6e64 6f77 203d 2073   self.window = s
+000067f0: 656c 662e 7174 5f77 6964 6765 742e 4765  elf.qt_widget.Ge
+00006800: 7452 656e 6465 7257 696e 646f 7728 2920  tRenderWindow() 
+00006810: 2023 206f 7665 7277 7269 7465 0a20 2020   # overwrite.   
+00006820: 2020 2020 2020 2020 2023 2323 2323 2323           #######
+00006830: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006840: 230a 2020 2020 2020 2020 2020 2020 7265  #.            re
+00006850: 7475 726e 2020 2323 2323 2323 2323 2323  turn  ##########
+00006860: 2323 2323 2323 0a20 2020 2020 2020 2020  ######.         
+00006870: 2020 2023 2323 2323 2323 2323 2323 2323     #############
+00006880: 2323 2323 2323 2323 2323 230a 0a20 2020  ###########..   
+00006890: 2020 2020 2073 656c 662e 7769 6e64 6f77       self.window
+000068a0: 2e53 6574 506f 7369 7469 6f6e 2870 6f73  .SetPosition(pos
+000068b0: 290a 0a20 2020 2020 2020 2066 6f72 2072  )..        for r
+000068c0: 2069 6e20 7365 6c66 2e72 656e 6465 7265   in self.rendere
+000068d0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+000068e0: 7365 6c66 2e77 696e 646f 772e 4164 6452  self.window.AddR
+000068f0: 656e 6465 7265 7228 7229 0a0a 2020 2020  enderer(r)..    
+00006900: 2020 2020 6966 2073 656c 662e 6f66 6673      if self.offs
+00006910: 6372 6565 6e3a 0a20 2020 2020 2020 2020  creen:.         
+00006920: 2020 2069 6620 7365 6c66 2e61 7865 7320     if self.axes 
+00006930: 696e 2028 342c 2035 293a 0a20 2020 2020  in (4, 5):.     
+00006940: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00006950: 6178 6573 203d 2030 2020 2320 646f 6573  axes = 0  # does
+00006960: 206e 6f74 2077 6f72 6b20 7769 7468 2074   not work with t
+00006970: 686f 7365 0a20 2020 2020 2020 2020 2020  hose.           
+00006980: 2073 656c 662e 7769 6e64 6f77 2e53 6574   self.window.Set
+00006990: 4f66 6653 6372 6565 6e52 656e 6465 7269  OffScreenRenderi
+000069a0: 6e67 2854 7275 6529 0a20 2020 2020 2020  ng(True).       
+000069b0: 2020 2020 2073 656c 662e 5f69 6e74 6572       self._inter
+000069c0: 6163 7469 7665 203d 2046 616c 7365 0a20  active = False. 
+000069d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000069e0: 696e 7465 7261 6374 6f72 203d 204e 6f6e  interactor = Non
+000069f0: 650a 2020 2020 2020 2020 2020 2020 2323  e.            ##
+00006a00: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006a10: 2323 2323 2323 0a20 2020 2020 2020 2020  ######.         
+00006a20: 2020 2072 6574 7572 6e20 2023 2323 2323     return  #####
+00006a30: 2323 2323 2323 2323 2323 230a 2020 2020  ###########.    
+00006a40: 2020 2020 2020 2020 2323 2323 2323 2323          ########
+00006a50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006a60: 0a0a 2020 2020 2020 2020 7365 6c66 2e69  ..        self.i
+00006a70: 6e74 6572 6163 746f 7220 3d20 7674 6b2e  nteractor = vtk.
+00006a80: 7674 6b52 656e 6465 7257 696e 646f 7749  vtkRenderWindowI
+00006a90: 6e74 6572 6163 746f 7228 290a 0a20 2020  nteractor()..   
+00006aa0: 2020 2020 2073 656c 662e 696e 7465 7261       self.intera
+00006ab0: 6374 6f72 2e53 6574 5265 6e64 6572 5769  ctor.SetRenderWi
+00006ac0: 6e64 6f77 2873 656c 662e 7769 6e64 6f77  ndow(self.window
+00006ad0: 290a 2020 2020 2020 2020 7673 7479 203d  ).        vsty =
+00006ae0: 2076 746b 2e76 746b 496e 7465 7261 6374   vtk.vtkInteract
+00006af0: 6f72 5374 796c 6554 7261 636b 6261 6c6c  orStyleTrackball
+00006b00: 4361 6d65 7261 2829 0a20 2020 2020 2020  Camera().       
+00006b10: 2073 656c 662e 696e 7465 7261 6374 6f72   self.interactor
+00006b20: 2e53 6574 496e 7465 7261 6374 6f72 5374  .SetInteractorSt
+00006b30: 796c 6528 7673 7479 290a 0a20 2020 2020  yle(vsty)..     
+00006b40: 2020 2069 6620 7365 7474 696e 6773 2e65     if settings.e
+00006b50: 6e61 626c 655f 6465 6661 756c 745f 6d6f  nable_default_mo
+00006b60: 7573 655f 6361 6c6c 6261 636b 733a 0a20  use_callbacks:. 
+00006b70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00006b80: 696e 7465 7261 6374 6f72 2e41 6464 4f62  interactor.AddOb
+00006b90: 7365 7276 6572 2822 4c65 6674 4275 7474  server("LeftButt
+00006ba0: 6f6e 5072 6573 7345 7665 6e74 222c 2073  onPressEvent", s
+00006bb0: 656c 662e 5f6d 6f75 7365 6c65 6674 636c  elf._mouseleftcl
+00006bc0: 6963 6b29 0a0a 2020 2020 2020 2020 6966  ick)..        if
+00006bd0: 2073 6574 7469 6e67 732e 656e 6162 6c65   settings.enable
+00006be0: 5f64 6566 6175 6c74 5f6b 6579 626f 6172  _default_keyboar
+00006bf0: 645f 6361 6c6c 6261 636b 733a 0a20 2020  d_callbacks:.   
+00006c00: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
+00006c10: 7465 7261 6374 6f72 2e41 6464 4f62 7365  teractor.AddObse
+00006c20: 7276 6572 2822 4b65 7950 7265 7373 4576  rver("KeyPressEv
+00006c30: 656e 7422 2c20 7365 6c66 2e5f 6b65 7970  ent", self._keyp
+00006c40: 7265 7373 290a 0a20 2020 2020 2020 2023  ress)..        #
+00006c50: 2073 656c 662e 5f74 696d 6572 5f65 7665   self._timer_eve
+00006c60: 6e74 5f69 6420 3d20 4e6f 6e65 0a20 2020  nt_id = None.   
+00006c70: 2020 2020 2023 2069 6620 7365 7474 696e       # if settin
+00006c80: 6773 2e61 6c6c 6f77 5f69 6e74 6572 6163  gs.allow_interac
+00006c90: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+00006ca0: 2020 2320 6465 6620 7769 6e5f 696e 7465    # def win_inte
+00006cb0: 7261 6374 2869 7265 6e2c 2065 7665 6e74  ract(iren, event
+00006cc0: 293a 2020 2320 666c 7573 6869 6e67 2069  ):  # flushing i
+00006cd0: 6e74 6572 6163 746f 7220 6576 656e 7473  nteractor events
+00006ce0: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+00006cf0: 2020 2069 6620 6576 656e 7420 3d3d 2022     if event == "
+00006d00: 5469 6d65 7245 7665 6e74 223a 0a20 2020  TimerEvent":.   
+00006d10: 2020 2020 2020 2020 2023 2020 2020 2020           #      
+00006d20: 2020 2069 7265 6e2e 4578 6974 4361 6c6c     iren.ExitCall
+00006d30: 6261 636b 2829 0a20 2020 2020 2020 2020  back().         
+00006d40: 2020 2023 2073 656c 662e 5f74 696d 6572     # self._timer
+00006d50: 5f65 7665 6e74 5f69 6420 3d20 7365 6c66  _event_id = self
+00006d60: 2e69 6e74 6572 6163 746f 722e 4164 644f  .interactor.AddO
+00006d70: 6273 6572 7665 7228 2254 696d 6572 4576  bserver("TimerEv
+00006d80: 656e 7422 2c20 7769 6e5f 696e 7465 7261  ent", win_intera
+00006d90: 6374 290a 0a20 2020 2023 2323 2323 2323  ct)..    #######
+00006da0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006db0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006dc0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00006dd0: 2323 2323 2323 2323 2323 2323 2323 202e  ############## .
+00006de0: 2e69 6e69 7420 656e 6473 2068 6572 652e  .init ends here.
+00006df0: 0a0a 0a20 2020 2023 2064 6566 2061 6c6c  ...    # def all
+00006e00: 6f77 5f69 6e74 6572 6163 7469 6f6e 2873  ow_interaction(s
+00006e10: 656c 6629 3a0a 2020 2020 2320 2020 2020  elf):.    #     
+00006e20: 2222 2243 616c 6c20 7468 6973 206d 6574  """Call this met
+00006e30: 686f 6420 6672 6f6d 2069 6e73 6964 6520  hod from inside 
+00006e40: 6120 6c6f 6f70 2074 6f20 616c 6c6f 7720  a loop to allow 
+00006e50: 6d6f 7573 6520 616e 6420 6b65 7962 6f61  mouse and keyboa
+00006e60: 7264 2069 6e74 6572 6163 7469 6f6e 2e22  rd interaction."
+00006e70: 2222 0a20 2020 2023 2020 2020 2069 6620  "".    #     if 
+00006e80: 280a 2020 2020 2320 2020 2020 2020 2020  (.    #         
+00006e90: 7365 6c66 2e69 6e74 6572 6163 746f 720a  self.interactor.
+00006ea0: 2020 2020 2320 2020 2020 2020 2020 616e      #         an
+00006eb0: 6420 7365 6c66 2e5f 7469 6d65 725f 6576  d self._timer_ev
+00006ec0: 656e 745f 6964 2069 7320 6e6f 7420 4e6f  ent_id is not No
+00006ed0: 6e65 0a20 2020 2023 2020 2020 2020 2020  ne.    #        
+00006ee0: 2061 6e64 2073 6574 7469 6e67 732e 696d   and settings.im
+00006ef0: 6d65 6469 6174 655f 7265 6e64 6572 696e  mediate_renderin
+00006f00: 670a 2020 2020 2320 2020 2020 293a 0a20  g.    #     ):. 
+00006f10: 2020 2023 2020 2020 2020 2020 2073 656c     #         sel
+00006f20: 662e 5f72 6570 6561 7469 6e67 7469 6d65  f._repeatingtime
+00006f30: 725f 6964 203d 2073 656c 662e 696e 7465  r_id = self.inte
+00006f40: 7261 6374 6f72 2e43 7265 6174 6552 6570  ractor.CreateRep
+00006f50: 6561 7469 6e67 5469 6d65 7228 3129 0a20  eatingTimer(1). 
+00006f60: 2020 2023 2020 2020 2020 2020 2073 656c     #         sel
+00006f70: 662e 696e 7465 7261 6374 6f72 2e53 7461  f.interactor.Sta
+00006f80: 7274 2829 0a20 2020 2023 2020 2020 2020  rt().    #      
+00006f90: 2020 2069 6620 7665 646f 2e76 746b 5f76     if vedo.vtk_v
+00006fa0: 6572 7369 6f6e 203d 3d20 2839 2c32 2c32  ersion == (9,2,2
+00006fb0: 293a 0a20 2020 2023 2020 2020 2020 2020  ):.    #        
+00006fc0: 2020 2020 2073 656c 662e 696e 7465 7261       self.intera
+00006fd0: 6374 6f72 2e47 6574 5265 6e64 6572 5769  ctor.GetRenderWi
+00006fe0: 6e64 6f77 2829 2e53 6574 4469 7370 6c61  ndow().SetDispla
+00006ff0: 7949 6428 225f 305f 705f 766f 6964 2229  yId("_0_p_void")
+00007000: 2023 2348 4143 4b0a 2020 2020 2320 2020   ##HACK.    #   
+00007010: 2020 2020 2020 6966 2073 656c 662e 696e        if self.in
+00007020: 7465 7261 6374 6f72 3a0a 2020 2020 2320  teractor:.    # 
+00007030: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00007040: 2e69 6e74 6572 6163 746f 722e 4465 7374  .interactor.Dest
+00007050: 726f 7954 696d 6572 2873 656c 662e 5f72  royTimer(self._r
+00007060: 6570 6561 7469 6e67 7469 6d65 725f 6964  epeatingtimer_id
+00007070: 290a 2020 2020 2320 2020 2020 2020 2020  ).    #         
+00007080: 7365 6c66 2e5f 7265 7065 6174 696e 6774  self._repeatingt
+00007090: 696d 6572 5f69 6420 3d20 4e6f 6e65 0a20  imer_id = None. 
+000070a0: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
+000070b0: 7365 6c66 0a0a 2020 2020 6465 6620 5f5f  self..    def __
+000070c0: 6961 6464 5f5f 2873 656c 662c 2061 6374  iadd__(self, act
+000070d0: 6f72 7329 3a0a 2020 2020 2020 2020 7365  ors):.        se
+000070e0: 6c66 2e61 6464 2861 6374 6f72 7329 0a20  lf.add(actors). 
+000070f0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00007100: 6c66 0a0a 2020 2020 6465 6620 5f5f 6973  lf..    def __is
+00007110: 7562 5f5f 2873 656c 662c 2061 6374 6f72  ub__(self, actor
+00007120: 7329 3a0a 2020 2020 2020 2020 7365 6c66  s):.        self
+00007130: 2e72 656d 6f76 6528 6163 746f 7273 290a  .remove(actors).
+00007140: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00007150: 656c 660a 0a20 2020 2064 6566 205f 5f65  elf..    def __e
+00007160: 6e74 6572 5f5f 2873 656c 6629 3a0a 2020  nter__(self):.  
+00007170: 2020 2020 2020 2320 636f 6e74 6578 7420        # context 
+00007180: 6d61 6e61 6765 7220 6c69 6b65 2069 6e20  manager like in 
+00007190: 2277 6974 6820 506c 6f74 7465 7228 2920  "with Plotter() 
+000071a0: 6173 2070 6c74 3a22 0a20 2020 2020 2020  as plt:".       
+000071b0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+000071c0: 2020 6465 6620 5f5f 6578 6974 5f5f 2873    def __exit__(s
+000071d0: 656c 662c 202a 6172 6773 2c20 2a2a 6b77  elf, *args, **kw
+000071e0: 6172 6773 293a 0a20 2020 2020 2020 2023  args):.        #
+000071f0: 2063 6f6e 7465 7874 206d 616e 6167 6572   context manager
+00007200: 206c 696b 6520 696e 2022 7769 7468 2050   like in "with P
+00007210: 6c6f 7474 6572 2829 2061 7320 706c 743a  lotter() as plt:
+00007220: 220a 2020 2020 2020 2020 7365 6c66 2e63  ".        self.c
+00007230: 6c6f 7365 2829 0a0a 2020 2020 6465 6620  lose()..    def 
+00007240: 7072 6f63 6573 735f 6576 656e 7473 2873  process_events(s
+00007250: 656c 6629 3a0a 2020 2020 2020 2020 6966  elf):.        if
+00007260: 2073 656c 662e 696e 7465 7261 6374 6f72   self.interactor
+00007270: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
+00007280: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00007290: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
+000072a0: 6f72 2e50 726f 6365 7373 4576 656e 7473  or.ProcessEvents
+000072b0: 2829 0a20 2020 2020 2020 2020 2020 2065  ().            e
+000072c0: 7863 6570 7420 4174 7472 6962 7574 6545  xcept AttributeE
+000072d0: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
+000072e0: 2020 2020 2020 7061 7373 0a20 2020 2020        pass.     
+000072f0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00007300: 2020 2020 6465 6620 6174 2873 656c 662c      def at(self,
+00007310: 206e 7265 6e2c 2079 7265 6e3d 4e6f 6e65   nren, yren=None
+00007320: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00007330: 2020 2020 2020 2053 656c 6563 7420 7468         Select th
+00007340: 6520 6375 7272 656e 7420 7265 6e64 6572  e current render
+00007350: 6572 206e 756d 6265 7220 6173 2061 6e20  er number as an 
+00007360: 696e 742e 0a20 2020 2020 2020 2043 616e  int..        Can
+00007370: 2061 6c73 6f20 7573 6520 7468 6520 5b6e   also use the [n
+00007380: 782c 206e 795d 2066 6f72 6d61 742e 0a20  x, ny] format.. 
+00007390: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000073a0: 2020 2069 6620 7972 656e 2069 7320 6e6f     if yren is no
+000073b0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+000073c0: 2020 2020 6e72 656e 203d 2028 7972 656e      nren = (yren
+000073d0: 2920 2a20 7365 6c66 2e73 6861 7065 5b31  ) * self.shape[1
+000073e0: 5d20 2b20 286e 7265 6e29 0a20 2020 2020  ] + (nren).     
+000073f0: 2020 2020 2020 2069 6620 6e72 656e 203c         if nren <
+00007400: 2030 206f 7220 6e72 656e 203e 206c 656e   0 or nren > len
+00007410: 2873 656c 662e 7265 6e64 6572 6572 7329  (self.renderers)
+00007420: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00007430: 2020 7665 646f 2e6c 6f67 6765 722e 6572    vedo.logger.er
+00007440: 726f 7228 6622 6174 287b 6e72 656e 2c20  ror(f"at({nren, 
+00007450: 7972 656e 7d29 2069 7320 6d61 6c66 6f72  yren}) is malfor
+00007460: 6d65 6421 2229 0a20 2020 2020 2020 2020  med!").         
+00007470: 2020 2020 2020 2072 6169 7365 2052 756e         raise Run
+00007480: 7469 6d65 4572 726f 720a 0a20 2020 2020  timeError..     
+00007490: 2020 2073 656c 662e 7265 6e64 6572 6572     self.renderer
+000074a0: 203d 2073 656c 662e 7265 6e64 6572 6572   = self.renderer
+000074b0: 735b 6e72 656e 5d0a 2020 2020 2020 2020  s[nren].        
+000074c0: 7365 6c66 2e63 616d 6572 6120 3d20 7365  self.camera = se
+000074d0: 6c66 2e72 656e 6465 7265 722e 4765 7441  lf.renderer.GetA
+000074e0: 6374 6976 6543 616d 6572 6128 290a 2020  ctiveCamera().  
+000074f0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00007500: 660a 0a0a 2020 2020 6465 6620 6164 6428  f...    def add(
+00007510: 7365 6c66 2c20 2a61 6374 6f72 732c 2061  self, *actors, a
+00007520: 743d 4e6f 6e65 293a 0a20 2020 2020 2020  t=None):.       
+00007530: 2022 2222 0a20 2020 2020 2020 2041 7070   """.        App
+00007540: 656e 6420 7468 6520 696e 7075 7420 6f62  end the input ob
+00007550: 6a65 6374 7320 746f 2074 6865 2069 6e74  jects to the int
+00007560: 6572 6e61 6c20 6c69 7374 206f 6620 6163  ernal list of ac
+00007570: 746f 7273 2074 6f20 6265 2073 686f 776e  tors to be shown
+00007580: 2e0a 2020 2020 2020 2020 5468 6973 206d  ..        This m
+00007590: 6574 686f 6420 6973 2074 7970 6963 616c  ethod is typical
+000075a0: 6c79 2075 7365 6420 696e 206c 6f6f 7073  ly used in loops
+000075b0: 206f 7220 6361 6c6c 6261 636b 2066 756e   or callback fun
+000075c0: 6374 696f 6e73 2e0a 0a20 2020 2020 2020  ctions...       
+000075d0: 2041 7267 756d 656e 7473 3a0a 2020 2020   Arguments:.    
+000075e0: 2020 2020 2020 2020 6174 203a 2028 696e          at : (in
+000075f0: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
+00007600: 2020 2061 6464 2074 6865 206f 626a 6563     add the objec
+00007610: 7420 6174 2074 6865 2073 7065 6369 6669  t at the specifi
+00007620: 6564 2072 656e 6465 7265 720a 2020 2020  ed renderer.    
+00007630: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00007640: 6966 2061 7420 6973 206e 6f74 204e 6f6e  if at is not Non
+00007650: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00007660: 656e 203d 2073 656c 662e 7265 6e64 6572  en = self.render
+00007670: 6572 735b 6174 5d0a 2020 2020 2020 2020  ers[at].        
+00007680: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00007690: 2020 7265 6e20 3d20 7365 6c66 2e72 656e    ren = self.ren
+000076a0: 6465 7265 720a 0a20 2020 2020 2020 2061  derer..        a
+000076b0: 6374 6f72 7320 3d20 7574 696c 732e 666c  ctors = utils.fl
+000076c0: 6174 7465 6e28 6163 746f 7273 290a 2020  atten(actors).  
+000076d0: 2020 2020 2020 6163 746f 7273 203d 2073        actors = s
+000076e0: 656c 662e 5f73 6361 6e5f 696e 7075 7428  elf._scan_input(
+000076f0: 6163 746f 7273 290a 0a20 2020 2020 2020  actors)..       
+00007700: 2066 6f72 2061 2069 6e20 6163 746f 7273   for a in actors
+00007710: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00007720: 2069 7369 6e73 7461 6e63 6528 612c 2076   isinstance(a, v
+00007730: 746b 2e76 746b 496e 7465 7261 6374 6f72  tk.vtkInteractor
+00007740: 4f62 7365 7276 6572 293a 0a20 2020 2020  Observer):.     
+00007750: 2020 2020 2020 2020 2020 2061 2e61 6464             a.add
+00007760: 5f74 6f28 7365 6c66 290a 2020 2020 2020  _to(self).      
+00007770: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
+00007780: 7565 0a0a 2020 2020 2020 2020 2020 2020  ue..            
+00007790: 6966 2061 206e 6f74 2069 6e20 7365 6c66  if a not in self
+000077a0: 2e61 6374 6f72 733a 0a20 2020 2020 2020  .actors:.       
+000077b0: 2020 2020 2020 2020 2073 656c 662e 6163           self.ac
+000077c0: 746f 7273 2e61 7070 656e 6428 6129 0a0a  tors.append(a)..
+000077d0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+000077e0: 656e 3a0a 2020 2020 2020 2020 2020 2020  en:.            
+000077f0: 2020 2020 7265 6e2e 4164 6441 6374 6f72      ren.AddActor
+00007800: 2861 290a 0a20 2020 2020 2020 2020 2020  (a)..           
+00007810: 2020 2020 2069 6620 6861 7361 7474 7228       if hasattr(
+00007820: 612c 2022 7265 6e64 6572 6564 5f61 7422  a, "rendered_at"
+00007830: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00007840: 2020 2020 2020 2069 7220 3d20 7365 6c66         ir = self
+00007850: 2e72 656e 6465 7265 7273 2e69 6e64 6578  .renderers.index
+00007860: 2872 656e 290a 2020 2020 2020 2020 2020  (ren).          
+00007870: 2020 2020 2020 2020 2020 612e 7265 6e64            a.rend
+00007880: 6572 6564 5f61 742e 6164 6428 6972 290a  ered_at.add(ir).
+00007890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000078a0: 2069 6620 6861 7361 7474 7228 612c 2022   if hasattr(a, "
+000078b0: 7363 616c 6172 6261 7222 2920 616e 6420  scalarbar") and 
+000078c0: 612e 7363 616c 6172 6261 723a 0a20 2020  a.scalarbar:.   
+000078d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000078e0: 2072 656e 2e41 6464 4163 746f 7228 612e   ren.AddActor(a.
+000078f0: 7363 616c 6172 6261 7229 0a0a 2020 2020  scalarbar)..    
+00007900: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+00007910: 0a20 2020 2064 6566 2072 656d 6f76 6528  .    def remove(
+00007920: 7365 6c66 2c20 2a61 6374 6f72 732c 2061  self, *actors, a
+00007930: 743d 4e6f 6e65 293a 0a20 2020 2020 2020  t=None):.       
+00007940: 2022 2222 0a20 2020 2020 2020 2052 656d   """.        Rem
+00007950: 6f76 6520 696e 7075 7420 6f62 6a65 6374  ove input object
+00007960: 2074 6f20 7468 6520 696e 7465 726e 616c   to the internal
+00007970: 206c 6973 7420 6f66 2061 6374 6f72 7320   list of actors 
+00007980: 746f 2062 6520 7368 6f77 6e2e 0a20 2020  to be shown..   
+00007990: 2020 2020 2054 6869 7320 6d65 7468 6f64       This method
+000079a0: 2069 7320 7479 7069 6361 6c6c 7920 7573   is typically us
+000079b0: 6564 2069 6e20 6c6f 6f70 7320 6f72 2063  ed in loops or c
+000079c0: 616c 6c62 6163 6b20 6675 6e63 7469 6f6e  allback function
+000079d0: 732e 0a20 2020 2020 2020 204f 626a 6563  s..        Objec
+000079e0: 7473 2074 6f20 6265 2072 656d 6f76 6564  ts to be removed
+000079f0: 2063 616e 2062 6520 7265 6665 7265 6e63   can be referenc
+00007a00: 6564 2062 7920 7468 6569 7220 6173 7369  ed by their assi
+00007a10: 676e 6564 206e 616d 652e 0a0a 2020 2020  gned name...    
+00007a20: 2020 2020 4172 6775 6d65 6e74 733a 0a20      Arguments:. 
+00007a30: 2020 2020 2020 2020 2020 2061 7420 3a20             at : 
+00007a40: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+00007a50: 2020 2020 2020 7265 6d6f 7665 2074 6865        remove the
+00007a60: 206f 626a 6563 7420 6174 2074 6865 2073   object at the s
+00007a70: 7065 6369 6669 6564 2072 656e 6465 7265  pecified rendere
+00007a80: 720a 2020 2020 2020 2020 2222 220a 2020  r.        """.  
+00007a90: 2020 2020 2020 6966 2061 7420 6973 206e        if at is n
+00007aa0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00007ab0: 2020 2020 2072 656e 203d 2073 656c 662e       ren = self.
+00007ac0: 7265 6e64 6572 6572 735b 6174 5d0a 2020  renderers[at].  
+00007ad0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00007ae0: 2020 2020 2020 2020 7265 6e20 3d20 7365          ren = se
+00007af0: 6c66 2e72 656e 6465 7265 720a 0a20 2020  lf.renderer..   
+00007b00: 2020 2020 2061 6374 6f72 7320 3d20 7574       actors = ut
+00007b10: 696c 732e 666c 6174 7465 6e28 6163 746f  ils.flatten(acto
+00007b20: 7273 290a 0a20 2020 2020 2020 2061 6374  rs)..        act
+00007b30: 6f72 735f 696e 5f72 656e 203d 204e 6f6e  ors_in_ren = Non
+00007b40: 650a 0a20 2020 2020 2020 2061 6374 6f72  e..        actor
+00007b50: 735f 7220 3d20 5b5d 0a20 2020 2020 2020  s_r = [].       
+00007b60: 2066 6f72 2069 2c20 6120 696e 2065 6e75   for i, a in enu
+00007b70: 6d65 7261 7465 2861 6374 6f72 7329 3a0a  merate(actors):.
+00007b80: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00007b90: 6973 696e 7374 616e 6365 2861 2c20 7674  isinstance(a, vt
+00007ba0: 6b2e 7674 6b49 6e74 6572 6163 746f 724f  k.vtkInteractorO
+00007bb0: 6273 6572 7665 7229 3a0a 2020 2020 2020  bserver):.      
+00007bc0: 2020 2020 2020 2020 2020 612e 7265 6d6f            a.remo
+00007bd0: 7665 5f66 726f 6d28 7365 6c66 290a 2020  ve_from(self).  
+00007be0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00007bf0: 6e74 696e 7565 2023 2323 0a0a 2020 2020  ntinue ###..    
+00007c00: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00007c10: 7461 6e63 6528 612c 2073 7472 293a 0a20  tance(a, str):. 
+00007c20: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00007c30: 6620 6163 746f 7273 5f69 6e5f 7265 6e20  f actors_in_ren 
+00007c40: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00007c50: 2020 2020 2020 2020 2020 2020 2061 6374               act
+00007c60: 6f72 735f 696e 5f72 656e 203d 2073 656c  ors_in_ren = sel
+00007c70: 662e 6765 745f 6d65 7368 6573 280a 2020  f.get_meshes(.  
+00007c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c90: 2020 2020 2020 696e 636c 7564 655f 6e6f        include_no
+00007ca0: 6e5f 7069 636b 6162 6c65 733d 5472 7565  n_pickables=True
+00007cb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00007cc0: 2020 2020 2020 2020 2020 756e 7061 636b            unpack
+00007cd0: 5f61 7373 656d 626c 6965 733d 4661 6c73  _assemblies=Fals
+00007ce0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00007cf0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00007d00: 2020 2020 2020 2020 2020 666f 7220 6220            for b 
+00007d10: 696e 2073 6574 2873 656c 662e 6163 746f  in set(self.acto
+00007d20: 7273 202b 2061 6374 6f72 735f 696e 5f72  rs + actors_in_r
+00007d30: 656e 293a 0a20 2020 2020 2020 2020 2020  en):.           
+00007d40: 2020 2020 2020 2020 2069 6620 6861 7361           if hasa
+00007d50: 7474 7228 622c 2022 6e61 6d65 2229 2061  ttr(b, "name") a
+00007d60: 6e64 2061 2069 6e20 622e 6e61 6d65 3a0a  nd a in b.name:.
+00007d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d80: 2020 2020 2020 2020 6163 746f 7273 5f72          actors_r
+00007d90: 2e61 7070 656e 6428 6229 0a0a 2020 2020  .append(b)..    
+00007da0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00007db0: 2020 2020 2020 2020 2020 2020 2020 6163                ac
+00007dc0: 746f 7273 5f72 2e61 7070 656e 6428 6129  tors_r.append(a)
+00007dd0: 0a0a 2020 2020 2020 2020 666f 7220 6120  ..        for a 
+00007de0: 696e 2073 6574 2861 6374 6f72 735f 7229  in set(actors_r)
+00007df0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00007e00: 2072 656e 3a0a 2020 2020 2020 2020 2020   ren:.          
+00007e10: 2020 2020 2020 7265 6e2e 5265 6d6f 7665        ren.Remove
+00007e20: 4163 746f 7228 6129 0a20 2020 2020 2020  Actor(a).       
+00007e30: 2020 2020 2020 2020 2069 6620 6861 7361           if hasa
+00007e40: 7474 7228 612c 2022 7265 6e64 6572 6564  ttr(a, "rendered
+00007e50: 5f61 7422 293a 0a20 2020 2020 2020 2020  _at"):.         
+00007e60: 2020 2020 2020 2020 2020 2069 7220 3d20             ir = 
+00007e70: 7365 6c66 2e72 656e 6465 7265 7273 2e69  self.renderers.i
+00007e80: 6e64 6578 2872 656e 290a 2020 2020 2020  ndex(ren).      
+00007e90: 2020 2020 2020 2020 2020 2020 2020 612e                a.
+00007ea0: 7265 6e64 6572 6564 5f61 742e 6469 7363  rendered_at.disc
+00007eb0: 6172 6428 6972 290a 2020 2020 2020 2020  ard(ir).        
+00007ec0: 2020 2020 2020 2020 6966 2068 6173 6174          if hasat
+00007ed0: 7472 2861 2c20 2273 6361 6c61 7262 6172  tr(a, "scalarbar
+00007ee0: 2229 2061 6e64 2061 2e73 6361 6c61 7262  ") and a.scalarb
+00007ef0: 6172 3a0a 2020 2020 2020 2020 2020 2020  ar:.            
+00007f00: 2020 2020 2020 2020 7265 6e2e 5265 6d6f          ren.Remo
+00007f10: 7665 4163 746f 7228 612e 7363 616c 6172  veActor(a.scalar
+00007f20: 6261 7229 0a20 2020 2020 2020 2020 2020  bar).           
+00007f30: 2020 2020 2069 6620 6861 7361 7474 7228       if hasattr(
+00007f40: 612c 2022 5f63 6170 7469 6f6e 2229 2061  a, "_caption") a
+00007f50: 6e64 2061 2e5f 6361 7074 696f 6e3a 0a20  nd a._caption:. 
+00007f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f70: 2020 2072 656e 2e52 656d 6f76 6541 6374     ren.RemoveAct
+00007f80: 6f72 2861 2e5f 6361 7074 696f 6e29 0a20  or(a._caption). 
+00007f90: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00007fa0: 6620 6861 7361 7474 7228 612c 2022 7368  f hasattr(a, "sh
+00007fb0: 6164 6f77 7322 2920 616e 6420 612e 7368  adows") and a.sh
+00007fc0: 6164 6f77 733a 0a20 2020 2020 2020 2020  adows:.         
+00007fd0: 2020 2020 2020 2020 2020 2066 6f72 2073             for s
+00007fe0: 6861 2069 6e20 612e 7368 6164 6f77 733a  ha in a.shadows:
+00007ff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008000: 2020 2020 2020 2020 2072 656e 2e52 656d           ren.Rem
+00008010: 6f76 6541 6374 6f72 2873 6861 290a 2020  oveActor(sha).  
+00008020: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00008030: 2068 6173 6174 7472 2861 2c20 2274 7261   hasattr(a, "tra
+00008040: 696c 2229 2061 6e64 2061 2e74 7261 696c  il") and a.trail
+00008050: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008060: 2020 2020 2020 7265 6e2e 5265 6d6f 7665        ren.Remove
+00008070: 4163 746f 7228 612e 7472 6169 6c29 0a20  Actor(a.trail). 
+00008080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008090: 2020 2061 2e74 7261 696c 5f70 6f69 6e74     a.trail_point
+000080a0: 7320 3d20 5b5d 0a20 2020 2020 2020 2020  s = [].         
+000080b0: 2020 2020 2020 2020 2020 2069 6620 6861             if ha
+000080c0: 7361 7474 7228 612e 7472 6169 6c2c 2022  sattr(a.trail, "
+000080d0: 7368 6164 6f77 7322 2920 616e 6420 612e  shadows") and a.
+000080e0: 7472 6169 6c2e 7368 6164 6f77 733a 0a20  trail.shadows:. 
+000080f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008100: 2020 2020 2020 2066 6f72 2073 6861 2069         for sha i
+00008110: 6e20 612e 7472 6169 6c2e 7368 6164 6f77  n a.trail.shadow
+00008120: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00008130: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00008140: 656e 2e52 656d 6f76 6541 6374 6f72 2873  en.RemoveActor(s
+00008150: 6861 290a 0a20 2020 2020 2020 2020 2020  ha)..           
+00008160: 2069 6620 6120 696e 2073 656c 662e 6163   if a in self.ac
+00008170: 746f 7273 3a0a 2020 2020 2020 2020 2020  tors:.          
+00008180: 2020 2020 2020 6920 3d20 7365 6c66 2e61        i = self.a
+00008190: 6374 6f72 732e 696e 6465 7828 6129 0a20  ctors.index(a). 
+000081a0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+000081b0: 656c 2073 656c 662e 6163 746f 7273 5b69  el self.actors[i
+000081c0: 5d0a 0a20 2020 2020 2020 2072 6574 7572  ]..        retur
+000081d0: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
+000081e0: 7265 6d6f 7665 5f6c 6967 6874 7328 7365  remove_lights(se
+000081f0: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+00008200: 5265 6d6f 7665 2061 6c6c 2074 6865 2070  Remove all the p
+00008210: 7265 7365 6e74 206c 6967 6874 7320 696e  resent lights in
+00008220: 2074 6865 2063 7572 7265 6e74 2072 656e   the current ren
+00008230: 6465 7265 722e 2222 220a 2020 2020 2020  derer.""".      
+00008240: 2020 6966 2073 656c 662e 7265 6e64 6572    if self.render
+00008250: 6572 3a0a 2020 2020 2020 2020 2020 2020  er:.            
+00008260: 7365 6c66 2e72 656e 6465 7265 722e 5265  self.renderer.Re
+00008270: 6d6f 7665 416c 6c4c 6967 6874 7328 290a  moveAllLights().
+00008280: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00008290: 656c 660a 0a20 2020 2064 6566 2070 6f70  elf..    def pop
+000082a0: 2873 656c 662c 2061 743d 4e6f 6e65 293a  (self, at=None):
+000082b0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000082c0: 2020 2020 2052 656d 6f76 6520 7468 6520       Remove the 
+000082d0: 6c61 7374 2061 6464 6564 206f 626a 6563  last added objec
+000082e0: 7420 6672 6f6d 2074 6865 2072 656e 6465  t from the rende
+000082f0: 7269 6e67 2077 696e 646f 772e 0a20 2020  ring window..   
+00008300: 2020 2020 2054 6869 7320 6d65 7468 6f64       This method
+00008310: 2069 7320 7479 7069 6361 6c6c 7920 7573   is typically us
+00008320: 6564 2069 6e20 6c6f 6f70 7320 6f72 2063  ed in loops or c
+00008330: 616c 6c62 6163 6b20 6675 6e63 7469 6f6e  allback function
+00008340: 732e 0a20 2020 2020 2020 2022 2222 0a20  s..        """. 
+00008350: 2020 2020 2020 2069 6620 6174 2069 7320         if at is 
+00008360: 6e6f 7420 4e6f 6e65 2061 6e64 206e 6f74  not None and not
+00008370: 2069 7369 6e73 7461 6e63 6528 6174 2c20   isinstance(at, 
+00008380: 696e 7429 3a0a 2020 2020 2020 2020 2020  int):.          
+00008390: 2020 2320 7772 6f6e 6720 7573 6167 6520    # wrong usage 
+000083a0: 7069 7466 616c 6c0a 2020 2020 2020 2020  pitfall.        
+000083b0: 2020 2020 7665 646f 2e6c 6f67 6765 722e      vedo.logger.
+000083c0: 6572 726f 7228 2261 7267 756d 656e 7420  error("argument 
+000083d0: 6f66 2070 6f70 2829 206d 7573 7420 6265  of pop() must be
+000083e0: 2061 6e20 696e 7465 6765 7222 290a 2020   an integer").  
+000083f0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00008400: 5275 6e74 696d 6545 7272 6f72 2829 0a0a  RuntimeError()..
+00008410: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00008420: 6163 746f 7273 3a0a 2020 2020 2020 2020  actors:.        
+00008430: 2020 2020 7365 6c66 2e72 656d 6f76 6528      self.remove(
+00008440: 7365 6c66 2e61 6374 6f72 735b 2d31 5d2c  self.actors[-1],
+00008450: 2061 7429 0a20 2020 2020 2020 2072 6574   at).        ret
+00008460: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+00008470: 6620 7265 6e64 6572 2873 656c 662c 2072  f render(self, r
+00008480: 6573 6574 6361 6d3d 4661 6c73 6529 3a0a  esetcam=False):.
+00008490: 2020 2020 2020 2020 2222 2252 656e 6465          """Rende
+000084a0: 7220 7468 6520 7363 656e 652e 2054 6869  r the scene. Thi
+000084b0: 7320 6d65 7468 6f64 2069 7320 7479 7069  s method is typi
+000084c0: 6361 6c6c 7920 7573 6564 2069 6e20 6c6f  cally used in lo
+000084d0: 6f70 7320 6f72 2063 616c 6c62 6163 6b20  ops or callback 
+000084e0: 6675 6e63 7469 6f6e 732e 2222 220a 2020  functions.""".  
+000084f0: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
+00008500: 662e 7769 6e64 6f77 3a0a 2020 2020 2020  f.window:.      
+00008510: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00008520: 660a 0a20 2020 2020 2020 2069 6620 7365  f..        if se
+00008530: 6c66 2e77 785f 7769 6467 6574 3a0a 2020  lf.wx_widget:.  
+00008540: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+00008550: 6574 6361 6d3a 0a20 2020 2020 2020 2020  etcam:.         
+00008560: 2020 2020 2020 2073 656c 662e 7265 6e64         self.rend
+00008570: 6572 6572 2e52 6573 6574 4361 6d65 7261  erer.ResetCamera
+00008580: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+00008590: 656c 662e 7778 5f77 6964 6765 742e 5265  elf.wx_widget.Re
+000085a0: 6e64 6572 2829 0a20 2020 2020 2020 2020  nder().         
+000085b0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+000085c0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+000085d0: 7174 5f77 6964 6765 743a 0a20 2020 2020  qt_widget:.     
+000085e0: 2020 2020 2020 2069 6620 7265 7365 7463         if resetc
+000085f0: 616d 3a0a 2020 2020 2020 2020 2020 2020  am:.            
+00008600: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
+00008610: 722e 5265 7365 7443 616d 6572 6128 290a  r.ResetCamera().
+00008620: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00008630: 2e71 745f 7769 6467 6574 2e52 656e 6465  .qt_widget.Rende
+00008640: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
+00008650: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00008660: 2020 2020 2069 6620 7365 6c66 2e69 6e74       if self.int
+00008670: 6572 6163 746f 723a 0a20 2020 2020 2020  eractor:.       
+00008680: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
+00008690: 2e69 6e74 6572 6163 746f 722e 4765 7449  .interactor.GetI
+000086a0: 6e69 7469 616c 697a 6564 2829 3a0a 2020  nitialized():.  
+000086b0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000086c0: 6c66 2e69 6e74 6572 6163 746f 722e 496e  lf.interactor.In
+000086d0: 6974 6961 6c69 7a65 2829 0a0a 2020 2020  itialize()..    
+000086e0: 2020 2020 7365 6c66 2e63 616d 6572 6120      self.camera 
+000086f0: 3d20 7365 6c66 2e72 656e 6465 7265 722e  = self.renderer.
+00008700: 4765 7441 6374 6976 6543 616d 6572 6128  GetActiveCamera(
+00008710: 290a 2020 2020 2020 2020 6966 2072 6573  ).        if res
+00008720: 6574 6361 6d3a 0a20 2020 2020 2020 2020  etcam:.         
+00008730: 2020 2073 656c 662e 7265 6e64 6572 6572     self.renderer
+00008740: 2e52 6573 6574 4361 6d65 7261 2829 0a0a  .ResetCamera()..
+00008750: 2020 2020 2020 2020 7365 6c66 2e77 696e          self.win
+00008760: 646f 772e 5265 6e64 6572 2829 0a20 2020  dow.Render().   
+00008770: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00008780: 0a0a 2020 2020 6465 6620 696e 7465 7261  ..    def intera
+00008790: 6374 6976 6528 7365 6c66 293a 0a20 2020  ctive(self):.   
+000087a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000087b0: 2053 7461 7274 2077 696e 646f 7720 696e   Start window in
+000087c0: 7465 7261 6374 696f 6e2e 0a20 2020 2020  teraction..     
+000087d0: 2020 2041 6e61 6c6f 676f 7573 2074 6f20     Analogous to 
+000087e0: 6073 686f 7728 2e2e 2e2c 2069 6e74 6572  `show(..., inter
+000087f0: 6163 7469 7665 3d54 7275 6529 602e 0a20  active=True)`.. 
+00008800: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00008810: 2020 2069 6620 7365 6c66 2e69 6e74 6572     if self.inter
+00008820: 6163 746f 723a 0a20 2020 2020 2020 2020  actor:.         
+00008830: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
+00008840: 6f72 2e53 7461 7274 2829 0a20 2020 2020  or.Start().     
+00008850: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00008860: 2020 2020 6465 6620 7573 655f 6465 7074      def use_dept
+00008870: 685f 7065 656c 696e 6728 7365 6c66 2c20  h_peeling(self, 
+00008880: 6174 3d4e 6f6e 652c 2076 616c 7565 3d54  at=None, value=T
+00008890: 7275 6529 3a0a 2020 2020 2020 2020 2222  rue):.        ""
+000088a0: 220a 2020 2020 2020 2020 5370 6563 6966  ".        Specif
+000088b0: 7920 7768 6574 6865 7220 7573 6520 6465  y whether use de
+000088c0: 7074 6820 7065 656c 696e 6720 616c 676f  pth peeling algo
+000088d0: 7269 7468 6d20 6174 2074 6869 7320 7370  rithm at this sp
+000088e0: 6563 6966 6963 2072 656e 6465 7265 720a  ecific renderer.
+000088f0: 2020 2020 2020 2020 4361 6c6c 2074 6869          Call thi
+00008900: 7320 6d65 7468 6f64 2062 6566 6f72 6520  s method before 
+00008910: 7468 6520 6669 7273 7420 7265 6e64 6572  the first render
+00008920: 696e 672e 0a20 2020 2020 2020 2022 2222  ing..        """
+00008930: 0a20 2020 2020 2020 2069 6620 6174 2069  .        if at i
+00008940: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+00008950: 2020 2020 7265 6e20 3d20 7365 6c66 2e72      ren = self.r
+00008960: 656e 6465 7265 720a 2020 2020 2020 2020  enderer.        
+00008970: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00008980: 2020 7265 6e20 3d20 7365 6c66 2e72 656e    ren = self.ren
+00008990: 6465 7265 7273 5b61 745d 0a20 2020 2020  derers[at].     
+000089a0: 2020 2072 656e 2e53 6574 5573 6544 6570     ren.SetUseDep
+000089b0: 7468 5065 656c 696e 6728 7661 6c75 6529  thPeeling(value)
+000089c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000089d0: 7365 6c66 0a0a 2020 2020 6465 6620 6261  self..    def ba
+000089e0: 636b 6772 6f75 6e64 2873 656c 662c 2063  ckground(self, c
+000089f0: 313d 4e6f 6e65 2c20 6332 3d4e 6f6e 652c  1=None, c2=None,
+00008a00: 2061 743d 4e6f 6e65 293a 0a20 2020 2020   at=None):.     
+00008a10: 2020 2022 2222 5365 7420 7468 6520 636f     """Set the co
+00008a20: 6c6f 7220 6f66 2074 6865 2062 6163 6b67  lor of the backg
+00008a30: 726f 756e 6420 666f 7220 7468 6520 6375  round for the cu
+00008a40: 7272 656e 7420 7265 6e64 6572 6572 2e0a  rrent renderer..
+00008a50: 2020 2020 2020 2020 4120 6469 6666 6572          A differ
+00008a60: 656e 7420 7265 6e64 6572 6572 2069 6e64  ent renderer ind
+00008a70: 6578 2063 616e 2062 6520 7370 6563 6966  ex can be specif
+00008a80: 6965 6420 6279 206b 6579 776f 7264 2060  ied by keyword `
+00008a90: 6061 7460 602e 0a0a 2020 2020 2020 2020  `at``...        
+00008aa0: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
+00008ab0: 2020 2020 2020 2063 3120 3a20 286c 6973         c1 : (lis
+00008ac0: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
+00008ad0: 2020 2062 6163 6b67 726f 756e 6420 6d61     background ma
+00008ae0: 696e 2063 6f6c 6f72 2e0a 2020 2020 2020  in color..      
+00008af0: 2020 2020 2020 6332 203a 2028 6c69 7374        c2 : (list
+00008b00: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00008b10: 2020 6261 636b 6772 6f75 6e64 2063 6f6c    background col
+00008b20: 6f72 2066 6f72 2074 6865 2075 7070 6572  or for the upper
+00008b30: 2070 6172 7420 6f66 2074 6865 2077 696e   part of the win
+00008b40: 646f 772e 0a20 2020 2020 2020 2020 2020  dow..           
+00008b50: 2061 7420 3a20 2869 6e74 290a 2020 2020   at : (int).    
+00008b60: 2020 2020 2020 2020 2020 2020 7265 6e64              rend
+00008b70: 6572 6572 2069 6e64 6578 2e0a 2020 2020  erer index..    
+00008b80: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00008b90: 6966 206e 6f74 2073 656c 662e 7265 6e64  if not self.rend
+00008ba0: 6572 6572 733a 0a20 2020 2020 2020 2020  erers:.         
+00008bb0: 2020 2072 6574 7572 6e20 7365 6c66 0a20     return self. 
+00008bc0: 2020 2020 2020 2069 6620 6174 2069 7320         if at is 
+00008bd0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00008be0: 2020 7220 3d20 7365 6c66 2e72 656e 6465    r = self.rende
+00008bf0: 7265 720a 2020 2020 2020 2020 656c 7365  rer.        else
+00008c00: 3a0a 2020 2020 2020 2020 2020 2020 7220  :.            r 
+00008c10: 3d20 7365 6c66 2e72 656e 6465 7265 7273  = self.renderers
+00008c20: 5b61 745d 0a20 2020 2020 2020 2069 6620  [at].        if 
+00008c30: 723a 0a20 2020 2020 2020 2020 2020 2069  r:.            i
+00008c40: 6620 6331 2069 7320 6e6f 7420 4e6f 6e65  f c1 is not None
+00008c50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008c60: 2020 722e 5365 7442 6163 6b67 726f 756e    r.SetBackgroun
+00008c70: 6428 7665 646f 2e67 6574 5f63 6f6c 6f72  d(vedo.get_color
+00008c80: 2863 3129 290a 2020 2020 2020 2020 2020  (c1)).          
+00008c90: 2020 2020 2020 7365 6c66 2e5f 6267 203d        self._bg =
+00008ca0: 2072 2e47 6574 4261 636b 6772 6f75 6e64   r.GetBackground
+00008cb0: 2829 2020 2320 6e6f 7465 626f 6f6b 730a  ()  # notebooks.
+00008cc0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00008cd0: 3220 6973 206e 6f74 204e 6f6e 653a 0a20  2 is not None:. 
+00008ce0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00008cf0: 2e47 7261 6469 656e 7442 6163 6b67 726f  .GradientBackgro
+00008d00: 756e 644f 6e28 290a 2020 2020 2020 2020  undOn().        
+00008d10: 2020 2020 2020 2020 722e 5365 7442 6163          r.SetBac
+00008d20: 6b67 726f 756e 6432 2876 6564 6f2e 6765  kground2(vedo.ge
+00008d30: 745f 636f 6c6f 7228 6332 2929 0a20 2020  t_color(c2)).   
+00008d40: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00008d50: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00008d60: 2e47 7261 6469 656e 7442 6163 6b67 726f  .GradientBackgro
+00008d70: 756e 644f 6666 2829 0a20 2020 2020 2020  undOff().       
+00008d80: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00008d90: 2020 2323 2323 2323 2323 2323 2323 2323    ##############
+00008da0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00008db0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00008dc0: 2323 2323 2323 0a20 2020 2040 6465 7072  ######.    @depr
+00008dd0: 6563 6174 6564 2872 6561 736f 6e3d 7665  ecated(reason=ve
+00008de0: 646f 2e63 6f6c 6f72 732e 7265 6420 2b20  do.colors.red + 
+00008df0: 2250 6c65 6173 6520 7573 6520 6765 745f  "Please use get_
+00008e00: 6d65 7368 6573 2829 2220 2b20 7665 646f  meshes()" + vedo
+00008e10: 2e63 6f6c 6f72 732e 7265 7365 7429 0a20  .colors.reset). 
+00008e20: 2020 2064 6566 2067 6574 4d65 7368 6573     def getMeshes
+00008e30: 2873 656c 662c 202a 612c 202a 2a62 293a  (self, *a, **b):
+00008e40: 0a20 2020 2020 2020 2022 2222 4465 7072  .        """Depr
+00008e50: 6563 6174 6564 2c20 7573 6520 6765 745f  ecated, use get_
+00008e60: 6d65 7368 6573 2829 2222 220a 2020 2020  meshes()""".    
+00008e70: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00008e80: 6765 745f 6d65 7368 6573 282a 612c 202a  get_meshes(*a, *
+00008e90: 2a62 290a 0a20 2020 2064 6566 2067 6574  *b)..    def get
+00008ea0: 5f6d 6573 6865 7328 7365 6c66 2c20 6174  _meshes(self, at
+00008eb0: 3d4e 6f6e 652c 2069 6e63 6c75 6465 5f6e  =None, include_n
+00008ec0: 6f6e 5f70 6963 6b61 626c 6573 3d46 616c  on_pickables=Fal
+00008ed0: 7365 2c20 756e 7061 636b 5f61 7373 656d  se, unpack_assem
+00008ee0: 626c 6965 733d 5472 7565 293a 0a20 2020  blies=True):.   
+00008ef0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00008f00: 2052 6574 7572 6e20 6120 6c69 7374 206f   Return a list o
+00008f10: 6620 4d65 7368 6573 2066 726f 6d20 7468  f Meshes from th
+00008f20: 6520 7370 6563 6966 6965 6420 7265 6e64  e specified rend
+00008f30: 6572 6572 2e0a 0a20 2020 2020 2020 2041  erer...        A
+00008f40: 7267 756d 656e 7473 3a0a 2020 2020 2020  rguments:.      
+00008f50: 2020 2020 2020 6174 203a 2028 696e 7429        at : (int)
+00008f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008f70: 2073 7065 6369 6679 2077 6869 6368 2072   specify which r
+00008f80: 656e 6465 7265 7220 746f 206c 6f6f 6b20  enderer to look 
+00008f90: 6174 2e0a 2020 2020 2020 2020 2020 2020  at..            
+00008fa0: 696e 636c 7564 655f 6e6f 6e5f 7069 636b  include_non_pick
+00008fb0: 6162 6c65 7320 3a20 2862 6f6f 6c29 0a20  ables : (bool). 
+00008fc0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00008fd0: 6e63 6c75 6465 206e 6f6e 2d70 6963 6b61  nclude non-picka
+00008fe0: 626c 6520 6f62 6a65 6374 730a 2020 2020  ble objects.    
+00008ff0: 2020 2020 2020 2020 756e 7061 636b 5f61          unpack_a
+00009000: 7373 656d 626c 6965 7320 3a20 2862 6f6f  ssemblies : (boo
+00009010: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
+00009020: 2020 2075 6e70 6163 6b20 6173 7365 6d62     unpack assemb
+00009030: 6c69 6573 2069 6e74 6f20 7468 6569 7220  lies into their 
+00009040: 636f 6d70 6f6e 656e 7473 0a20 2020 2020  components.     
+00009050: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00009060: 6620 6174 2069 7320 4e6f 6e65 3a0a 2020  f at is None:.  
+00009070: 2020 2020 2020 2020 2020 7265 6e64 6572            render
+00009080: 6572 203d 2073 656c 662e 7265 6e64 6572  er = self.render
+00009090: 6572 0a20 2020 2020 2020 2020 2020 2061  er.            a
+000090a0: 7420 3d20 7365 6c66 2e72 656e 6465 7265  t = self.rendere
+000090b0: 7273 2e69 6e64 6578 2872 656e 6465 7265  rs.index(rendere
+000090c0: 7229 0a20 2020 2020 2020 2065 6c69 6620  r).        elif 
+000090d0: 6973 696e 7374 616e 6365 2861 742c 2069  isinstance(at, i
+000090e0: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
+000090f0: 2072 656e 6465 7265 7220 3d20 7365 6c66   renderer = self
+00009100: 2e72 656e 6465 7265 7273 5b61 745d 0a0a  .renderers[at]..
+00009110: 2020 2020 2020 2020 6861 735f 676c 6f62          has_glob
+00009120: 616c 5f61 7865 7320 3d20 4661 6c73 650a  al_axes = False.
+00009130: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00009140: 7461 6e63 6528 7365 6c66 2e61 7865 735f  tance(self.axes_
+00009150: 696e 7374 616e 6365 735b 6174 5d2c 2076  instances[at], v
+00009160: 6564 6f2e 4173 7365 6d62 6c79 293a 0a20  edo.Assembly):. 
+00009170: 2020 2020 2020 2020 2020 2068 6173 5f67             has_g
+00009180: 6c6f 6261 6c5f 6178 6573 203d 2054 7275  lobal_axes = Tru
+00009190: 650a 0a20 2020 2020 2020 2069 6620 756e  e..        if un
+000091a0: 7061 636b 5f61 7373 656d 626c 6965 733a  pack_assemblies:
+000091b0: 0a20 2020 2020 2020 2020 2020 2061 6373  .            acs
+000091c0: 203d 2072 656e 6465 7265 722e 4765 7441   = renderer.GetA
+000091d0: 6374 6f72 7328 290a 2020 2020 2020 2020  ctors().        
+000091e0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000091f0: 2020 6163 7320 3d20 7265 6e64 6572 6572    acs = renderer
+00009200: 2e47 6574 5669 6577 5072 6f70 7328 290a  .GetViewProps().
+00009210: 0a20 2020 2020 2020 2061 6374 6f72 7320  .        actors 
+00009220: 3d20 5b5d 0a20 2020 2020 2020 2061 6373  = [].        acs
+00009230: 2e49 6e69 7454 7261 7665 7273 616c 2829  .InitTraversal()
+00009240: 0a20 2020 2020 2020 2066 6f72 205f 2069  .        for _ i
+00009250: 6e20 7261 6e67 6528 6163 732e 4765 744e  n range(acs.GetN
+00009260: 756d 6265 724f 6649 7465 6d73 2829 293a  umberOfItems()):
+00009270: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00009280: 2075 6e70 6163 6b5f 6173 7365 6d62 6c69   unpack_assembli
+00009290: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+000092a0: 2020 2020 6120 3d20 6163 732e 4765 744e      a = acs.GetN
+000092b0: 6578 7449 7465 6d28 290a 2020 2020 2020  extItem().      
+000092c0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000092d0: 2020 2020 2020 2020 2020 2020 6120 3d20              a = 
+000092e0: 6163 732e 4765 744e 6578 7450 726f 7028  acs.GetNextProp(
+000092f0: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
+00009300: 6620 6973 696e 7374 616e 6365 2861 2c20  f isinstance(a, 
+00009310: 7674 6b2e 7674 6b56 6f6c 756d 6529 3a0a  vtk.vtkVolume):.
+00009320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009330: 636f 6e74 696e 7565 0a0a 2020 2020 2020  continue..      
+00009340: 2020 2020 2020 6966 2069 6e63 6c75 6465        if include
+00009350: 5f6e 6f6e 5f70 6963 6b61 626c 6573 206f  _non_pickables o
+00009360: 7220 612e 4765 7450 6963 6b61 626c 6528  r a.GetPickable(
+00009370: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00009380: 2020 2069 6620 6120 3d3d 2073 656c 662e     if a == self.
+00009390: 6178 6573 5f69 6e73 7461 6e63 6573 5b61  axes_instances[a
+000093a0: 745d 3a0a 2020 2020 2020 2020 2020 2020  t]:.            
+000093b0: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
+000093c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000093d0: 2069 6620 6861 735f 676c 6f62 616c 5f61   if has_global_a
+000093e0: 7865 7320 616e 6420 6120 696e 2073 656c  xes and a in sel
+000093f0: 662e 6178 6573 5f69 6e73 7461 6e63 6573  f.axes_instances
+00009400: 5b61 745d 2e61 6374 6f72 733a 0a20 2020  [at].actors:.   
+00009410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009420: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+00009430: 2020 2020 2020 2020 2020 6163 746f 7273            actors
+00009440: 2e61 7070 656e 6428 6129 0a20 2020 2020  .append(a).     
+00009450: 2020 2072 6574 7572 6e20 6163 746f 7273     return actors
+00009460: 0a0a 2020 2020 6465 6620 6765 745f 766f  ..    def get_vo
+00009470: 6c75 6d65 7328 7365 6c66 2c20 6174 3d4e  lumes(self, at=N
+00009480: 6f6e 652c 2069 6e63 6c75 6465 5f6e 6f6e  one, include_non
+00009490: 5f70 6963 6b61 626c 6573 3d46 616c 7365  _pickables=False
+000094a0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+000094b0: 2020 2020 2020 2052 6574 7572 6e20 6120         Return a 
+000094c0: 6c69 7374 206f 6620 566f 6c75 6d65 7320  list of Volumes 
+000094d0: 6672 6f6d 2074 6865 2073 7065 6369 6669  from the specifi
+000094e0: 6564 2072 656e 6465 7265 722e 0a0a 2020  ed renderer...  
+000094f0: 2020 2020 2020 4172 6775 6d65 6e74 733a        Arguments:
+00009500: 0a20 2020 2020 2020 2020 2020 2061 7420  .            at 
+00009510: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
+00009520: 2020 2020 2020 2020 7370 6563 6966 7920          specify 
+00009530: 7768 6963 6820 7265 6e64 6572 6572 2074  which renderer t
+00009540: 6f20 6c6f 6f6b 2061 740a 2020 2020 2020  o look at.      
+00009550: 2020 2020 2020 696e 636c 7564 655f 6e6f        include_no
+00009560: 6e5f 7069 636b 6162 6c65 7320 3a20 2862  n_pickables : (b
+00009570: 6f6f 6c29 0a20 2020 2020 2020 2020 2020  ool).           
+00009580: 2020 2020 2069 6e63 6c75 6465 206e 6f6e       include non
+00009590: 2d70 6963 6b61 626c 6520 6f62 6a65 6374  -pickable object
+000095a0: 730a 2020 2020 2020 2020 2222 220a 2020  s.        """.  
+000095b0: 2020 2020 2020 6966 2061 7420 6973 204e        if at is N
+000095c0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+000095d0: 2072 656e 6465 7265 7220 3d20 7365 6c66   renderer = self
+000095e0: 2e72 656e 6465 7265 720a 2020 2020 2020  .renderer.      
+000095f0: 2020 2020 2020 6174 203d 2073 656c 662e        at = self.
+00009600: 7265 6e64 6572 6572 732e 696e 6465 7828  renderers.index(
+00009610: 7265 6e64 6572 6572 290a 2020 2020 2020  renderer).      
+00009620: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
+00009630: 6528 6174 2c20 696e 7429 3a0a 2020 2020  e(at, int):.    
+00009640: 2020 2020 2020 2020 7265 6e64 6572 6572          renderer
+00009650: 203d 2073 656c 662e 7265 6e64 6572 6572   = self.renderer
+00009660: 735b 6174 5d0a 0a20 2020 2020 2020 2076  s[at]..        v
+00009670: 6f6c 7320 3d20 5b5d 0a20 2020 2020 2020  ols = [].       
+00009680: 2061 6373 203d 2072 656e 6465 7265 722e   acs = renderer.
+00009690: 4765 7456 6f6c 756d 6573 2829 0a20 2020  GetVolumes().   
+000096a0: 2020 2020 2061 6373 2e49 6e69 7454 7261       acs.InitTra
+000096b0: 7665 7273 616c 2829 0a20 2020 2020 2020  versal().       
+000096c0: 2066 6f72 205f 2069 6e20 7261 6e67 6528   for _ in range(
+000096d0: 6163 732e 4765 744e 756d 6265 724f 6649  acs.GetNumberOfI
+000096e0: 7465 6d73 2829 293a 0a20 2020 2020 2020  tems()):.       
+000096f0: 2020 2020 2061 203d 2061 6373 2e47 6574       a = acs.Get
+00009700: 4e65 7874 4974 656d 2829 0a20 2020 2020  NextItem().     
+00009710: 2020 2020 2020 2069 6620 696e 636c 7564         if includ
+00009720: 655f 6e6f 6e5f 7069 636b 6162 6c65 7320  e_non_pickables 
+00009730: 6f72 2061 2e47 6574 5069 636b 6162 6c65  or a.GetPickable
+00009740: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+00009750: 2020 2020 766f 6c73 2e61 7070 656e 6428      vols.append(
+00009760: 6129 0a20 2020 2020 2020 2072 6574 7572  a).        retur
+00009770: 6e20 766f 6c73 0a0a 2020 2020 4064 6570  n vols..    @dep
+00009780: 7265 6361 7465 6428 7265 6173 6f6e 3d76  recated(reason=v
+00009790: 6564 6f2e 636f 6c6f 7273 2e72 6564 202b  edo.colors.red +
+000097a0: 2022 506c 6561 7365 2075 7365 2072 6573   "Please use res
+000097b0: 6574 5f63 616d 6572 6128 2922 202b 2076  et_camera()" + v
+000097c0: 6564 6f2e 636f 6c6f 7273 2e72 6573 6574  edo.colors.reset
+000097d0: 290a 2020 2020 6465 6620 7265 7365 7443  ).    def resetC
+000097e0: 616d 6572 6128 7365 6c66 2c20 7469 6768  amera(self, tigh
+000097f0: 743d 4e6f 6e65 293a 0a20 2020 2020 2020  t=None):.       
+00009800: 2022 4465 7072 6563 6174 6564 2c20 706c   "Deprecated, pl
+00009810: 6561 7365 2075 7365 2072 6573 6574 5f63  ease use reset_c
+00009820: 616d 6572 6128 2922 0a20 2020 2020 2020  amera()".       
+00009830: 2072 6574 7572 6e20 7365 6c66 2e72 6573   return self.res
+00009840: 6574 5f63 616d 6572 6128 7469 6768 7429  et_camera(tight)
+00009850: 0a0a 2020 2020 6465 6620 7265 7365 745f  ..    def reset_
+00009860: 6361 6d65 7261 2873 656c 662c 2074 6967  camera(self, tig
+00009870: 6874 3d4e 6f6e 6529 3a0a 2020 2020 2020  ht=None):.      
+00009880: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
+00009890: 7365 7420 7468 6520 6361 6d65 7261 2070  set the camera p
+000098a0: 6f73 6974 696f 6e20 616e 6420 7a6f 6f6d  osition and zoom
+000098b0: 696e 672e 0a20 2020 2020 2020 2049 6620  ing..        If 
+000098c0: 7469 6768 7420 2866 6c6f 6174 2920 6973  tight (float) is
+000098d0: 2073 7065 6369 6669 6564 2074 6865 207a   specified the z
+000098e0: 6f6f 6d69 6e67 2072 6573 6572 7665 7320  ooming reserves 
+000098f0: 6120 7061 6464 696e 6720 7370 6163 6520  a padding space 
+00009900: 696e 2074 6865 2078 792d 706c 616e 650a  in the xy-plane.
+00009910: 2020 2020 2020 2020 6578 7072 6573 7365          expresse
+00009920: 6420 696e 2070 6572 6365 6e74 206f 6620  d in percent of 
+00009930: 7468 6520 6176 6572 6167 6520 7369 7a65  the average size
+00009940: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+00009950: 2020 2020 2020 6966 2074 6967 6874 2069        if tight i
+00009960: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+00009970: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
+00009980: 722e 5265 7365 7443 616d 6572 6128 290a  r.ResetCamera().
+00009990: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000099a0: 2020 2020 2020 2020 2020 7830 2c20 7831            x0, x1
+000099b0: 2c20 7930 2c20 7931 2c20 7a30 2c20 7a31  , y0, y1, z0, z1
+000099c0: 203d 2073 656c 662e 7265 6e64 6572 6572   = self.renderer
+000099d0: 2e43 6f6d 7075 7465 5669 7369 626c 6550  .ComputeVisibleP
+000099e0: 726f 7042 6f75 6e64 7328 290a 0a20 2020  ropBounds()..   
+000099f0: 2020 2020 2020 2020 2063 616d 203d 2073           cam = s
+00009a00: 656c 662e 7265 6e64 6572 6572 2e47 6574  elf.renderer.Get
+00009a10: 4163 7469 7665 4361 6d65 7261 2829 0a0a  ActiveCamera()..
+00009a20: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00009a30: 2e72 656e 6465 7265 722e 436f 6d70 7574  .renderer.Comput
+00009a40: 6541 7370 6563 7428 290a 2020 2020 2020  eAspect().      
+00009a50: 2020 2020 2020 6173 7065 6374 203d 2073        aspect = s
+00009a60: 656c 662e 7265 6e64 6572 6572 2e47 6574  elf.renderer.Get
+00009a70: 4173 7065 6374 2829 0a20 2020 2020 2020  Aspect().       
+00009a80: 2020 2020 2061 6e67 6c65 203d 206e 702e       angle = np.
+00009a90: 7069 202a 2063 616d 2e47 6574 5669 6577  pi * cam.GetView
+00009aa0: 416e 676c 6528 2920 2f20 3138 302e 300a  Angle() / 180.0.
+00009ab0: 2020 2020 2020 2020 2020 2020 6478 2c20              dx, 
+00009ac0: 6479 203d 2028 7831 202d 2078 3029 202a  dy = (x1 - x0) *
+00009ad0: 2030 2e39 3939 2c20 2879 3120 2d20 7930   0.999, (y1 - y0
+00009ae0: 2920 2a20 302e 3939 390a 2020 2020 2020  ) * 0.999.      
+00009af0: 2020 2020 2020 6469 7374 203d 206d 6178        dist = max
+00009b00: 2864 7820 2f20 6173 7065 6374 5b30 5d2c  (dx / aspect[0],
+00009b10: 2064 7929 202f 206e 702e 7369 6e28 616e   dy) / np.sin(an
+00009b20: 676c 6520 2f20 3229 202f 2032 0a0a 2020  gle / 2) / 2..  
+00009b30: 2020 2020 2020 2020 2020 6361 6d2e 5365            cam.Se
+00009b40: 7456 6965 7755 7028 302c 2031 2c20 3029  tViewUp(0, 1, 0)
+00009b50: 0a20 2020 2020 2020 2020 2020 2063 616d  .            cam
+00009b60: 2e53 6574 506f 7369 7469 6f6e 2878 3020  .SetPosition(x0 
+00009b70: 2b20 6478 202f 2032 2c20 7930 202b 2064  + dx / 2, y0 + d
+00009b80: 7920 2f20 322c 2064 6973 7420 2a20 2831  y / 2, dist * (1
+00009b90: 202b 2074 6967 6874 2929 0a20 2020 2020   + tight)).     
+00009ba0: 2020 2020 2020 2063 616d 2e53 6574 466f         cam.SetFo
+00009bb0: 6361 6c50 6f69 6e74 2878 3020 2b20 6478  calPoint(x0 + dx
+00009bc0: 202f 2032 2c20 7930 202b 2064 7920 2f20   / 2, y0 + dy / 
+00009bd0: 322c 2030 290a 2020 2020 2020 2020 2020  2, 0).          
+00009be0: 2020 6966 2063 616d 2e47 6574 5061 7261    if cam.GetPara
+00009bf0: 6c6c 656c 5072 6f6a 6563 7469 6f6e 2829  llelProjection()
+00009c00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00009c10: 2020 7073 203d 206d 6178 2864 7820 2f20    ps = max(dx / 
+00009c20: 6173 7065 6374 5b30 5d2c 2064 7929 202f  aspect[0], dy) /
+00009c30: 2032 0a20 2020 2020 2020 2020 2020 2020   2.             
+00009c40: 2020 2063 616d 2e53 6574 5061 7261 6c6c     cam.SetParall
+00009c50: 656c 5363 616c 6528 7073 202a 2028 3120  elScale(ps * (1 
+00009c60: 2b20 7469 6768 7429 290a 2020 2020 2020  + tight)).      
+00009c70: 2020 2020 2020 7365 6c66 2e72 656e 6465        self.rende
+00009c80: 7265 722e 5265 7365 7443 616d 6572 6143  rer.ResetCameraC
+00009c90: 6c69 7070 696e 6752 616e 6765 2878 302c  lippingRange(x0,
+00009ca0: 2078 312c 2079 302c 2079 312c 207a 302c   x1, y0, y1, z0,
+00009cb0: 207a 3129 0a20 2020 2020 2020 2072 6574   z1).        ret
+00009cc0: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+00009cd0: 6620 7265 7365 745f 7669 6577 7570 2873  f reset_viewup(s
+00009ce0: 656c 662c 2073 6d6f 6f74 683d 5472 7565  elf, smooth=True
+00009cf0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00009d00: 2020 2020 2020 2052 6573 6574 2074 6865         Reset the
+00009d10: 206f 7269 656e 7461 7469 6f6e 206f 6620   orientation of 
+00009d20: 7468 6520 6361 6d65 7261 2074 6f20 7468  the camera to th
+00009d30: 6520 636c 6f73 6573 7420 6f72 7468 6f67  e closest orthog
+00009d40: 6f6e 616c 2064 6972 6563 7469 6f6e 2061  onal direction a
+00009d50: 6e64 2076 6965 772d 7570 2e0a 2020 2020  nd view-up..    
+00009d60: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00009d70: 7662 6220 3d20 6164 646f 6e73 2e63 6f6d  vbb = addons.com
+00009d80: 7075 7465 5f76 6973 6962 6c65 5f62 6f75  pute_visible_bou
+00009d90: 6e64 7328 295b 305d 0a20 2020 2020 2020  nds()[0].       
+00009da0: 2078 302c 2078 312c 2079 302c 2079 312c   x0, x1, y0, y1,
+00009db0: 207a 302c 207a 3120 3d20 7662 620a 2020   z0, z1 = vbb.  
+00009dc0: 2020 2020 2020 6d78 2c20 6d79 2c20 6d7a        mx, my, mz
+00009dd0: 203d 2028 7830 202b 2078 3129 202f 2032   = (x0 + x1) / 2
+00009de0: 2c20 2879 3020 2b20 7931 2920 2f20 322c  , (y0 + y1) / 2,
+00009df0: 2028 7a30 202b 207a 3129 202f 2032 0a20   (z0 + z1) / 2. 
+00009e00: 2020 2020 2020 2064 203d 2073 656c 662e         d = self.
+00009e10: 6361 6d65 7261 2e47 6574 4469 7374 616e  camera.GetDistan
+00009e20: 6365 2829 0a0a 2020 2020 2020 2020 7669  ce()..        vi
+00009e30: 6577 7570 7320 3d20 6e70 2e61 7272 6179  ewups = np.array
+00009e40: 285b 0a20 2020 2020 2020 2020 2020 2028  ([.            (
+00009e50: 302c 2031 2c20 3029 2c20 2820 302c 202d  0, 1, 0), ( 0, -
+00009e60: 312c 2020 3029 2c0a 2020 2020 2020 2020  1,  0),.        
+00009e70: 2020 2020 2830 2c20 302c 2031 292c 2028      (0, 0, 1), (
+00009e80: 2030 2c20 2030 2c20 2d31 292c 0a20 2020   0,  0, -1),.   
+00009e90: 2020 2020 2020 2020 2028 312c 2030 2c20           (1, 0, 
+00009ea0: 3029 2c20 282d 312c 2020 302c 2020 3029  0), (-1,  0,  0)
+00009eb0: 2c0a 2020 2020 2020 2020 5d29 0a20 2020  ,.        ]).   
+00009ec0: 2020 2020 2070 6f73 6974 696f 6e73 203d       positions =
+00009ed0: 206e 702e 6172 7261 7928 5b0a 2020 2020   np.array([.    
+00009ee0: 2020 2020 2020 2020 286d 782c 206d 792c          (mx, my,
+00009ef0: 206d 7a2b 6429 2c20 286d 782c 206d 792c   mz+d), (mx, my,
+00009f00: 206d 7a2d 6429 2c0a 2020 2020 2020 2020   mz-d),.        
+00009f10: 2020 2020 286d 782c 206d 792b 642c 206d      (mx, my+d, m
+00009f20: 7a29 2c20 286d 782c 206d 792d 642c 206d  z), (mx, my-d, m
+00009f30: 7a29 2c0a 2020 2020 2020 2020 2020 2020  z),.            
+00009f40: 286d 782b 642c 206d 792c 206d 7a29 2c20  (mx+d, my, mz), 
+00009f50: 286d 782d 642c 206d 792c 206d 7a29 2c0a  (mx-d, my, mz),.
+00009f60: 2020 2020 2020 2020 5d29 0a0a 2020 2020          ])..    
+00009f70: 2020 2020 7675 203d 206e 702e 6172 7261      vu = np.arra
+00009f80: 7928 7365 6c66 2e63 616d 6572 612e 4765  y(self.camera.Ge
+00009f90: 7456 6965 7755 7028 2929 0a20 2020 2020  tViewUp()).     
+00009fa0: 2020 2076 7569 203d 206e 702e 6172 676d     vui = np.argm
+00009fb0: 696e 286e 702e 6c69 6e61 6c67 2e6e 6f72  in(np.linalg.nor
+00009fc0: 6d28 7669 6577 7570 7320 2d20 7675 2c20  m(viewups - vu, 
+00009fd0: 6178 6973 3d31 2929 0a0a 2020 2020 2020  axis=1))..      
+00009fe0: 2020 706f 6320 3d20 6e70 2e61 7272 6179    poc = np.array
+00009ff0: 2873 656c 662e 6361 6d65 7261 2e47 6574  (self.camera.Get
+0000a000: 506f 7369 7469 6f6e 2829 290a 2020 2020  Position()).    
+0000a010: 2020 2020 666f 6320 3d20 6e70 2e61 7272      foc = np.arr
+0000a020: 6179 2873 656c 662e 6361 6d65 7261 2e47  ay(self.camera.G
+0000a030: 6574 466f 6361 6c50 6f69 6e74 2829 290a  etFocalPoint()).
+0000a040: 2020 2020 2020 2020 6120 3d20 706f 6320          a = poc 
+0000a050: 2d20 666f 630a 2020 2020 2020 2020 6220  - foc.        b 
+0000a060: 3d20 706f 7369 7469 6f6e 7320 2d20 666f  = positions - fo
+0000a070: 630a 2020 2020 2020 2020 6120 3d20 6120  c.        a = a 
+0000a080: 2f20 6e70 2e6c 696e 616c 672e 6e6f 726d  / np.linalg.norm
+0000a090: 2861 290a 2020 2020 2020 2020 6220 3d20  (a).        b = 
+0000a0a0: 622e 5420 2a20 2831 202f 206e 702e 6c69  b.T * (1 / np.li
+0000a0b0: 6e61 6c67 2e6e 6f72 6d28 622c 2061 7869  nalg.norm(b, axi
+0000a0c0: 733d 3129 290a 2020 2020 2020 2020 7075  s=1)).        pu
+0000a0d0: 6920 3d20 6e70 2e61 7267 6d69 6e28 6e70  i = np.argmin(np
+0000a0e0: 2e6c 696e 616c 672e 6e6f 726d 2862 2e54  .linalg.norm(b.T
+0000a0f0: 202d 2061 2c20 6178 6973 3d31 2929 0a0a   - a, axis=1))..
+0000a100: 2020 2020 2020 2020 6966 2073 6d6f 6f74          if smoot
+0000a110: 683a 0a20 2020 2020 2020 2020 2020 206f  h:.            o
+0000a120: 7574 7469 6d65 7320 3d20 6e70 2e6c 696e  uttimes = np.lin
+0000a130: 7370 6163 6528 302c 2031 2c20 6e75 6d3d  space(0, 1, num=
+0000a140: 3131 2c20 656e 6470 6f69 6e74 3d54 7275  11, endpoint=Tru
+0000a150: 6529 0a20 2020 2020 2020 2020 2020 2066  e).            f
+0000a160: 6f72 2074 2069 6e20 6f75 7474 696d 6573  or t in outtimes
+0000a170: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000a180: 2020 7676 203d 2076 7520 2a20 2831 202d    vv = vu * (1 -
+0000a190: 2074 2920 2b20 7669 6577 7570 735b 7675   t) + viewups[vu
+0000a1a0: 695d 202a 2074 0a20 2020 2020 2020 2020  i] * t.         
+0000a1b0: 2020 2020 2020 2070 7020 3d20 706f 6320         pp = poc 
+0000a1c0: 2a20 2831 202d 2074 2920 2b20 706f 7369  * (1 - t) + posi
+0000a1d0: 7469 6f6e 735b 7075 695d 202a 2074 0a20  tions[pui] * t. 
+0000a1e0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000a1f0: 6620 3d20 666f 6320 2a20 2831 202d 2074  f = foc * (1 - t
+0000a200: 2920 2b20 6e70 2e61 7272 6179 285b 6d78  ) + np.array([mx
+0000a210: 2c20 6d79 2c20 6d7a 5d29 202a 2074 0a20  , my, mz]) * t. 
+0000a220: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000a230: 656c 662e 6361 6d65 7261 2e53 6574 5669  elf.camera.SetVi
+0000a240: 6577 5570 2876 7629 0a20 2020 2020 2020  ewUp(vv).       
+0000a250: 2020 2020 2020 2020 2073 656c 662e 6361           self.ca
+0000a260: 6d65 7261 2e53 6574 506f 7369 7469 6f6e  mera.SetPosition
+0000a270: 2870 7029 0a20 2020 2020 2020 2020 2020  (pp).           
+0000a280: 2020 2020 2073 656c 662e 6361 6d65 7261       self.camera
+0000a290: 2e53 6574 466f 6361 6c50 6f69 6e74 2866  .SetFocalPoint(f
+0000a2a0: 6629 0a20 2020 2020 2020 2020 2020 2020  f).             
+0000a2b0: 2020 2073 656c 662e 7265 6e64 6572 2829     self.render()
+0000a2c0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+0000a2d0: 696e 7465 7270 6f6c 6174 6f72 2064 6f65  interpolator doe
+0000a2e0: 7320 6e6f 7420 7265 7370 6563 7420 7061  s not respect pa
+0000a2f0: 7261 6c6c 656c 2076 6965 772e 2e2e 3a0a  rallel view...:.
+0000a300: 2020 2020 2020 2020 2020 2020 2320 6361              # ca
+0000a310: 6d31 203d 2064 6963 7428 0a20 2020 2020  m1 = dict(.     
+0000a320: 2020 2020 2020 2023 2020 2020 2070 6f73         #     pos
+0000a330: 3d70 6f63 2c0a 2020 2020 2020 2020 2020  =poc,.          
+0000a340: 2020 2320 2020 2020 7669 6577 7570 3d76    #     viewup=v
+0000a350: 752c 0a20 2020 2020 2020 2020 2020 2023  u,.            #
+0000a360: 2020 2020 2066 6f63 616c 5f70 6f69 6e74       focal_point
+0000a370: 3d28 6d78 2c6d 792c 6d7a 292c 0a20 2020  =(mx,my,mz),.   
+0000a380: 2020 2020 2020 2020 2023 2020 2020 2063           #     c
+0000a390: 6c69 7070 696e 675f 7261 6e67 653d 7365  lipping_range=se
+0000a3a0: 6c66 2e63 616d 6572 612e 4765 7443 6c69  lf.camera.GetCli
+0000a3b0: 7070 696e 6752 616e 6765 2829 0a20 2020  ppingRange().   
+0000a3c0: 2020 2020 2020 2020 2023 2029 0a20 2020           # ).   
+0000a3d0: 2020 2020 2020 2020 2023 2023 2063 616d           # # cam
+0000a3e0: 3120 3d20 7365 6c66 2e63 616d 6572 610a  1 = self.camera.
+0000a3f0: 2020 2020 2020 2020 2020 2020 2320 6361              # ca
+0000a400: 6d32 203d 2064 6963 7428 0a20 2020 2020  m2 = dict(.     
+0000a410: 2020 2020 2020 2023 2020 2020 2070 6f73         #     pos
+0000a420: 3d70 6f73 6974 696f 6e73 5b70 7569 5d2c  =positions[pui],
+0000a430: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0000a440: 2020 2076 6965 7775 703d 7669 6577 7570     viewup=viewup
+0000a450: 735b 7675 695d 2c0a 2020 2020 2020 2020  s[vui],.        
+0000a460: 2020 2020 2320 2020 2020 666f 6361 6c5f      #     focal_
+0000a470: 706f 696e 743d 286d 782c 6d79 2c6d 7a29  point=(mx,my,mz)
+0000a480: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
+0000a490: 2020 2020 636c 6970 7069 6e67 5f72 616e      clipping_ran
+0000a4a0: 6765 3d73 656c 662e 6361 6d65 7261 2e47  ge=self.camera.G
+0000a4b0: 6574 436c 6970 7069 6e67 5261 6e67 6528  etClippingRange(
+0000a4c0: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+0000a4d0: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+0000a4e0: 7663 616d 7320 3d20 7365 6c66 2e6d 6f76  vcams = self.mov
+0000a4f0: 655f 6361 6d65 7261 285b 6361 6d31 2c20  e_camera([cam1, 
+0000a500: 6361 6d32 5d2c 206f 7574 7075 745f 7469  cam2], output_ti
+0000a510: 6d65 733d 6f75 7474 696d 6573 2c20 736d  mes=outtimes, sm
+0000a520: 6f6f 7468 3d30 290a 2020 2020 2020 2020  ooth=0).        
+0000a530: 2020 2020 2320 666f 7220 6320 696e 2076      # for c in v
+0000a540: 6361 6d73 3a0a 2020 2020 2020 2020 2020  cams:.          
+0000a550: 2020 2320 2020 2020 7365 6c66 2e72 656e    #     self.ren
+0000a560: 6465 7265 722e 5365 7441 6374 6976 6543  derer.SetActiveC
+0000a570: 616d 6572 6128 6329 0a20 2020 2020 2020  amera(c).       
+0000a580: 2020 2020 2023 2020 2020 2073 656c 662e       #     self.
+0000a590: 7265 6e64 6572 2829 0a20 2020 2020 2020  render().       
+0000a5a0: 2065 6c73 653a 0a0a 2020 2020 2020 2020   else:..        
+0000a5b0: 2020 2020 7365 6c66 2e63 616d 6572 612e      self.camera.
+0000a5c0: 5365 7456 6965 7755 7028 7669 6577 7570  SetViewUp(viewup
+0000a5d0: 735b 7675 695d 290a 2020 2020 2020 2020  s[vui]).        
+0000a5e0: 2020 2020 7365 6c66 2e63 616d 6572 612e      self.camera.
+0000a5f0: 5365 7450 6f73 6974 696f 6e28 706f 7369  SetPosition(posi
+0000a600: 7469 6f6e 735b 7075 695d 290a 2020 2020  tions[pui]).    
+0000a610: 2020 2020 2020 2020 7365 6c66 2e63 616d          self.cam
+0000a620: 6572 612e 5365 7446 6f63 616c 506f 696e  era.SetFocalPoin
+0000a630: 7428 6d78 2c20 6d79 2c20 6d7a 290a 0a20  t(mx, my, mz).. 
+0000a640: 2020 2020 2020 2073 656c 662e 7265 6e64         self.rend
+0000a650: 6572 6572 2e52 6573 6574 4361 6d65 7261  erer.ResetCamera
+0000a660: 436c 6970 7069 6e67 5261 6e67 6528 290a  ClippingRange().
+0000a670: 0a20 2020 2020 2020 2023 2076 6262 2c20  .        # vbb, 
+0000a680: 5f2c 205f 2c20 5f20 3d20 6164 646f 6e73  _, _, _ = addons
+0000a690: 2e63 6f6d 7075 7465 5f76 6973 6962 6c65  .compute_visible
+0000a6a0: 5f62 6f75 6e64 7328 290a 2020 2020 2020  _bounds().      
+0000a6b0: 2020 2320 7830 2c78 312c 2079 302c 7931    # x0,x1, y0,y1
+0000a6c0: 2c20 7a30 2c7a 3120 3d20 7662 620a 2020  , z0,z1 = vbb.  
+0000a6d0: 2020 2020 2020 2320 7365 6c66 2e72 656e        # self.ren
+0000a6e0: 6465 7265 722e 5265 7365 7443 616d 6572  derer.ResetCamer
+0000a6f0: 6143 6c69 7070 696e 6752 616e 6765 2878  aClippingRange(x
+0000a700: 302c 2078 312c 2079 302c 2079 312c 207a  0, x1, y0, y1, z
+0000a710: 302c 207a 3129 0a20 2020 2020 2020 2073  0, z1).        s
+0000a720: 656c 662e 7265 6e64 6572 2829 0a20 2020  elf.render().   
+0000a730: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000a740: 0a0a 2020 2020 6465 6620 6d6f 7665 5f63  ..    def move_c
+0000a750: 616d 6572 6128 7365 6c66 2c20 6361 6d65  amera(self, came
+0000a760: 7261 732c 2074 3d30 2c20 7469 6d65 733d  ras, t=0, times=
+0000a770: 2829 2c20 736d 6f6f 7468 3d54 7275 652c  (), smooth=True,
+0000a780: 206f 7574 7075 745f 7469 6d65 733d 2829   output_times=()
+0000a790: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0000a7a0: 2020 2020 2020 2054 616b 6573 2061 7320         Takes as 
+0000a7b0: 696e 7075 7420 7477 6f20 6361 6d65 7261  input two camera
+0000a7c0: 7320 7365 7420 6361 6d65 7261 2061 7420  s set camera at 
+0000a7d0: 616e 2069 6e74 6572 706f 6c61 7465 6420  an interpolated 
+0000a7e0: 706f 7369 7469 6f6e 3a0a 0a20 2020 2020  position:..     
+0000a7f0: 2020 2043 616d 6572 6173 2063 616e 2062     Cameras can b
+0000a800: 6520 7674 6b43 616d 6572 6120 6f72 2064  e vtkCamera or d
+0000a810: 6963 7469 6f6e 6172 6965 7320 696e 2066  ictionaries in f
+0000a820: 6f72 6d61 743a 0a0a 2020 2020 2020 2020  ormat:..        
+0000a830: 2020 2020 6064 6963 7428 706f 733d 2e2e      `dict(pos=..
+0000a840: 2e2c 2066 6f63 616c 5f70 6f69 6e74 3d2e  ., focal_point=.
+0000a850: 2e2e 2c20 7669 6577 7570 3d2e 2e2e 2c20  .., viewup=..., 
+0000a860: 6469 7374 616e 6365 3d2e 2e2e 2c20 636c  distance=..., cl
+0000a870: 6970 7069 6e67 5f72 616e 6765 3d2e 2e2e  ipping_range=...
+0000a880: 2960 0a0a 2020 2020 2020 2020 5072 6573  )`..        Pres
+0000a890: 7320 6073 6869 6674 2d43 6020 6b65 7920  s `shift-C` key 
+0000a8a0: 696e 2069 6e74 6572 6163 7469 7665 206d  in interactive m
+0000a8b0: 6f64 6520 746f 2064 756d 7020 6120 7079  ode to dump a py
+0000a8c0: 7468 6f6e 2073 6e69 7070 6c65 740a 2020  thon snipplet.  
+0000a8d0: 2020 2020 2020 6f66 2070 6172 616d 6574        of paramet
+0000a8e0: 6572 7320 666f 7220 7468 6520 6375 7272  ers for the curr
+0000a8f0: 656e 7420 6361 6d65 7261 2076 6965 772e  ent camera view.
+0000a900: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000a910: 2020 2020 206e 6320 3d20 6c65 6e28 6361       nc = len(ca
+0000a920: 6d65 7261 7329 0a20 2020 2020 2020 2069  meras).        i
+0000a930: 6620 6c65 6e28 7469 6d65 7329 203d 3d20  f len(times) == 
+0000a940: 303a 0a20 2020 2020 2020 2020 2020 2074  0:.            t
+0000a950: 696d 6573 203d 206e 702e 6c69 6e73 7061  imes = np.linspa
+0000a960: 6365 2830 2c20 312c 206e 756d 3d6e 632c  ce(0, 1, num=nc,
+0000a970: 2065 6e64 706f 696e 743d 5472 7565 290a   endpoint=True).
+0000a980: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
+0000a990: 6c65 6e28 7469 6d65 7329 203d 3d20 6e63  len(times) == nc
+0000a9a0: 0a0a 2020 2020 2020 2020 6369 6e20 3d20  ..        cin = 
+0000a9b0: 7674 6b2e 7674 6b43 616d 6572 6149 6e74  vtk.vtkCameraInt
+0000a9c0: 6572 706f 6c61 746f 7228 290a 0a20 2020  erpolator()..   
+0000a9d0: 2020 2020 2023 2063 696e 2e53 6574 496e       # cin.SetIn
+0000a9e0: 7465 7270 6f6c 6174 696f 6e54 7970 6554  terpolationTypeT
+0000a9f0: 6f4c 696e 6561 7228 2920 2320 6275 6767  oLinear() # bugg
+0000aa00: 6564 3f0a 2020 2020 2020 2020 6966 206e  ed?.        if n
+0000aa10: 6320 3e20 3220 616e 6420 736d 6f6f 7468  c > 2 and smooth
+0000aa20: 3a0a 2020 2020 2020 2020 2020 2020 6369  :.            ci
+0000aa30: 6e2e 5365 7449 6e74 6572 706f 6c61 7469  n.SetInterpolati
+0000aa40: 6f6e 5479 7065 546f 5370 6c69 6e65 2829  onTypeToSpline()
+0000aa50: 0a0a 2020 2020 2020 2020 666f 7220 692c  ..        for i,
+0000aa60: 2063 616d 2069 6e20 656e 756d 6572 6174   cam in enumerat
+0000aa70: 6528 6361 6d65 7261 7329 3a0a 2020 2020  e(cameras):.    
+0000aa80: 2020 2020 2020 2020 7663 616d 203d 2063          vcam = c
+0000aa90: 616d 0a20 2020 2020 2020 2020 2020 2069  am.            i
+0000aaa0: 6620 6973 696e 7374 616e 6365 2863 616d  f isinstance(cam
+0000aab0: 2c20 6469 6374 293a 0a20 2020 2020 2020  , dict):.       
+0000aac0: 2020 2020 2020 2020 2076 6361 6d20 3d20           vcam = 
+0000aad0: 7574 696c 732e 6361 6d65 7261 5f66 726f  utils.camera_fro
+0000aae0: 6d5f 6469 6374 2863 616d 290a 2020 2020  m_dict(cam).    
+0000aaf0: 2020 2020 2020 2020 6369 6e2e 4164 6443          cin.AddC
+0000ab00: 616d 6572 6128 7469 6d65 735b 695d 2c20  amera(times[i], 
+0000ab10: 7663 616d 290a 0a20 2020 2020 2020 206d  vcam)..        m
+0000ab20: 696e 742c 206d 6178 7420 3d20 6369 6e2e  int, maxt = cin.
+0000ab30: 4765 744d 696e 696d 756d 5428 292c 2063  GetMinimumT(), c
+0000ab40: 696e 2e47 6574 4d61 7869 6d75 6d54 2829  in.GetMaximumT()
+0000ab50: 0a20 2020 2020 2020 2072 6e67 203d 206d  .        rng = m
+0000ab60: 6178 7420 2d20 6d69 6e74 0a0a 2020 2020  axt - mint..    
+0000ab70: 2020 2020 6966 206c 656e 286f 7574 7075      if len(outpu
+0000ab80: 745f 7469 6d65 7329 203d 3d20 303a 0a20  t_times) == 0:. 
+0000ab90: 2020 2020 2020 2020 2020 2063 696e 2e49             cin.I
+0000aba0: 6e74 6572 706f 6c61 7465 4361 6d65 7261  nterpolateCamera
+0000abb0: 2874 202a 2072 6e67 2c20 7365 6c66 2e63  (t * rng, self.c
+0000abc0: 616d 6572 6129 0a20 2020 2020 2020 2020  amera).         
+0000abd0: 2020 2073 656c 662e 7265 6e64 6572 6572     self.renderer
+0000abe0: 2e53 6574 4163 7469 7665 4361 6d65 7261  .SetActiveCamera
+0000abf0: 2873 656c 662e 6361 6d65 7261 290a 2020  (self.camera).  
+0000ac00: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000ac10: 205b 7365 6c66 2e63 616d 6572 615d 0a20   [self.camera]. 
+0000ac20: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000ac30: 2020 2020 2020 2020 2076 6361 6d73 203d           vcams =
+0000ac40: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
+0000ac50: 666f 7220 7474 2069 6e20 6f75 7470 7574  for tt in output
+0000ac60: 5f74 696d 6573 3a0a 2020 2020 2020 2020  _times:.        
+0000ac70: 2020 2020 2020 2020 6320 3d20 7674 6b2e          c = vtk.
+0000ac80: 7674 6b43 616d 6572 6128 290a 2020 2020  vtkCamera().    
+0000ac90: 2020 2020 2020 2020 2020 2020 6369 6e2e              cin.
+0000aca0: 496e 7465 7270 6f6c 6174 6543 616d 6572  InterpolateCamer
+0000acb0: 6128 7474 202a 2072 6e67 2c20 6329 0a20  a(tt * rng, c). 
+0000acc0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0000acd0: 6361 6d73 2e61 7070 656e 6428 6329 0a20  cams.append(c). 
+0000ace0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000acf0: 6e20 7663 616d 730a 0a20 2020 2064 6566  n vcams..    def
+0000ad00: 2066 6c79 5f74 6f28 7365 6c66 2c20 706f   fly_to(self, po
+0000ad10: 696e 7429 3a0a 2020 2020 2020 2020 2222  int):.        ""
+0000ad20: 220a 2020 2020 2020 2020 466c 7920 6361  ".        Fly ca
+0000ad30: 6d65 7261 2074 6f20 7468 6520 7370 6563  mera to the spec
+0000ad40: 6966 6965 6420 706f 696e 742e 0a0a 2020  ified point...  
+0000ad50: 2020 2020 2020 4172 6775 6d65 6e74 733a        Arguments:
+0000ad60: 0a20 2020 2020 2020 2020 2020 2070 6f69  .            poi
+0000ad70: 6e74 203a 2028 6c69 7374 290a 2020 2020  nt : (list).    
+0000ad80: 2020 2020 2020 2020 2020 2020 706f 696e              poin
+0000ad90: 7420 696e 2073 7061 6365 2074 6f20 706c  t in space to pl
+0000ada0: 6163 6520 6361 6d65 7261 2e0a 0a20 2020  ace camera...   
+0000adb0: 2020 2020 2045 7861 6d70 6c65 3a0a 2020       Example:.  
+0000adc0: 2020 2020 2020 2020 2020 6060 6070 7974            ```pyt
+0000add0: 686f 6e0a 2020 2020 2020 2020 2020 2020  hon.            
+0000ade0: 6672 6f6d 2076 6564 6f20 696d 706f 7274  from vedo import
+0000adf0: 202a 0a20 2020 2020 2020 2020 2020 2063   *.            c
+0000ae00: 6f6e 6520 3d20 436f 6e65 2829 0a20 2020  one = Cone().   
+0000ae10: 2020 2020 2020 2020 2070 6c74 203d 2050           plt = P
+0000ae20: 6c6f 7474 6572 2861 7865 733d 3129 0a20  lotter(axes=1). 
+0000ae30: 2020 2020 2020 2020 2020 2070 6c74 2e73             plt.s
+0000ae40: 686f 7728 636f 6e65 290a 2020 2020 2020  how(cone).      
+0000ae50: 2020 2020 2020 706c 742e 666c 795f 746f        plt.fly_to
+0000ae60: 285b 312c 302c 305d 290a 2020 2020 2020  ([1,0,0]).      
+0000ae70: 2020 2020 2020 706c 742e 696e 7465 7261        plt.intera
+0000ae80: 6374 6976 6528 292e 636c 6f73 6528 290a  ctive().close().
+0000ae90: 2020 2020 2020 2020 2020 2020 6060 600a              ```.
+0000aea0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000aeb0: 2020 2020 6966 2073 656c 662e 696e 7465      if self.inte
+0000aec0: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
+0000aed0: 2020 2020 7365 6c66 2e72 6573 6574 6361      self.resetca
+0000aee0: 6d20 3d20 4661 6c73 650a 2020 2020 2020  m = False.      
+0000aef0: 2020 2020 2020 7365 6c66 2e69 6e74 6572        self.inter
+0000af00: 6163 746f 722e 466c 7954 6f28 7365 6c66  actor.FlyTo(self
+0000af10: 2e72 656e 6465 7265 722c 2070 6f69 6e74  .renderer, point
+0000af20: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000af30: 6c66 2e63 616d 6572 6120 3d20 7365 6c66  lf.camera = self
+0000af40: 2e72 656e 6465 7265 722e 4765 7441 6374  .renderer.GetAct
+0000af50: 6976 6543 616d 6572 6128 290a 2020 2020  iveCamera().    
+0000af60: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+0000af70: 0a20 2020 2064 6566 206c 6f6f 6b5f 6174  .    def look_at
+0000af80: 2873 656c 662c 2070 6c61 6e65 3d22 7879  (self, plane="xy
+0000af90: 2229 3a0a 2020 2020 2020 2020 2222 224d  "):.        """M
+0000afa0: 6f76 6520 7468 6520 6361 6d65 7261 2073  ove the camera s
+0000afb0: 6f20 7468 6174 2069 7420 6c6f 6f6b 7320  o that it looks 
+0000afc0: 6174 2074 6865 2073 7065 6369 6669 6564  at the specified
+0000afd0: 2063 6172 7465 7369 616e 2070 6c61 6e65   cartesian plane
+0000afe0: 2222 220a 2020 2020 2020 2020 6361 6d20  """.        cam 
+0000aff0: 3d20 7365 6c66 2e72 656e 6465 7265 722e  = self.renderer.
+0000b000: 4765 7441 6374 6976 6543 616d 6572 6128  GetActiveCamera(
+0000b010: 290a 2020 2020 2020 2020 6670 203d 206e  ).        fp = n
+0000b020: 702e 6172 7261 7928 6361 6d2e 4765 7446  p.array(cam.GetF
+0000b030: 6f63 616c 506f 696e 7428 2929 0a20 2020  ocalPoint()).   
+0000b040: 2020 2020 2070 203d 206e 702e 6172 7261       p = np.arra
+0000b050: 7928 6361 6d2e 4765 7450 6f73 6974 696f  y(cam.GetPositio
+0000b060: 6e28 2929 0a20 2020 2020 2020 2064 6973  n()).        dis
+0000b070: 7420 3d20 6e70 2e6c 696e 616c 672e 6e6f  t = np.linalg.no
+0000b080: 726d 2866 7020 2d20 7029 0a20 2020 2020  rm(fp - p).     
+0000b090: 2020 2070 6c61 6e65 203d 2070 6c61 6e65     plane = plane
+0000b0a0: 2e6c 6f77 6572 2829 0a20 2020 2020 2020  .lower().       
+0000b0b0: 2069 6620 2278 2220 696e 2070 6c61 6e65   if "x" in plane
+0000b0c0: 2061 6e64 2022 7922 2069 6e20 706c 616e   and "y" in plan
+0000b0d0: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
+0000b0e0: 616d 2e53 6574 506f 7369 7469 6f6e 2866  am.SetPosition(f
+0000b0f0: 705b 305d 2c20 6670 5b31 5d2c 2066 705b  p[0], fp[1], fp[
+0000b100: 325d 202b 2064 6973 7429 0a20 2020 2020  2] + dist).     
+0000b110: 2020 2020 2020 2063 616d 2e53 6574 5669         cam.SetVi
+0000b120: 6577 5570 2830 2e30 2c20 312e 302c 2030  ewUp(0.0, 1.0, 0
+0000b130: 2e30 290a 2020 2020 2020 2020 656c 6966  .0).        elif
+0000b140: 2022 7822 2069 6e20 706c 616e 6520 616e   "x" in plane an
+0000b150: 6420 227a 2220 696e 2070 6c61 6e65 3a0a  d "z" in plane:.
+0000b160: 2020 2020 2020 2020 2020 2020 6361 6d2e              cam.
+0000b170: 5365 7450 6f73 6974 696f 6e28 6670 5b30  SetPosition(fp[0
+0000b180: 5d2c 2066 705b 315d 202d 2064 6973 742c  ], fp[1] - dist,
+0000b190: 2066 705b 325d 290a 2020 2020 2020 2020   fp[2]).        
+0000b1a0: 2020 2020 6361 6d2e 5365 7456 6965 7755      cam.SetViewU
+0000b1b0: 7028 302e 302c 2030 2e30 2c20 312e 3029  p(0.0, 0.0, 1.0)
+0000b1c0: 0a20 2020 2020 2020 2065 6c69 6620 2279  .        elif "y
+0000b1d0: 2220 696e 2070 6c61 6e65 2061 6e64 2022  " in plane and "
+0000b1e0: 7a22 2069 6e20 706c 616e 653a 0a20 2020  z" in plane:.   
+0000b1f0: 2020 2020 2020 2020 2063 616d 2e53 6574           cam.Set
+0000b200: 506f 7369 7469 6f6e 2866 705b 305d 202b  Position(fp[0] +
+0000b210: 2064 6973 742c 2066 705b 315d 2c20 6670   dist, fp[1], fp
+0000b220: 5b32 5d29 0a20 2020 2020 2020 2020 2020  [2]).           
+0000b230: 2063 616d 2e53 6574 5669 6577 5570 2830   cam.SetViewUp(0
+0000b240: 2e30 2c20 302e 302c 2031 2e30 290a 2020  .0, 0.0, 1.0).  
+0000b250: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0000b260: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
+0000b270: 6765 722e 6572 726f 7228 6622 696e 2070  ger.error(f"in p
+0000b280: 6c6f 7474 6572 2e6c 6f6f 6b28 2920 6361  lotter.look() ca
+0000b290: 6e6e 6f74 2075 6e64 6572 7374 616e 6420  nnot understand 
+0000b2a0: 6172 6775 6d65 6e74 207b 706c 616e 657d  argument {plane}
+0000b2b0: 2229 0a20 2020 2020 2020 2072 6574 7572  ").        retur
+0000b2c0: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
+0000b2d0: 7265 636f 7264 2873 656c 662c 2066 696c  record(self, fil
+0000b2e0: 656e 616d 653d 222e 7665 646f 5f72 6563  ename=".vedo_rec
+0000b2f0: 6f72 6465 645f 6576 656e 7473 2e6c 6f67  orded_events.log
+0000b300: 2229 3a0a 2020 2020 2020 2020 2222 220a  "):.        """.
+0000b310: 2020 2020 2020 2020 5265 636f 7264 2063          Record c
+0000b320: 616d 6572 612c 206d 6f75 7365 2c20 6b65  amera, mouse, ke
+0000b330: 7973 7472 6f6b 6573 2061 6e64 2061 6c6c  ystrokes and all
+0000b340: 206f 7468 6572 2065 7665 6e74 732e 0a20   other events.. 
+0000b350: 2020 2020 2020 2052 6563 6f72 6469 6e67         Recording
+0000b360: 2063 616e 2062 6520 746f 6767 6c65 6420   can be toggled 
+0000b370: 6f6e 2f6f 6666 2062 7920 7072 6573 7369  on/off by pressi
+0000b380: 6e67 206b 6579 2022 5222 2e0a 0a20 2020  ng key "R"...   
+0000b390: 2020 2020 2041 7267 756d 656e 7473 3a0a       Arguments:.
+0000b3a0: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+0000b3b0: 6e61 6d65 203a 2028 7374 7229 0a20 2020  name : (str).   
+0000b3c0: 2020 2020 2020 2020 2020 2020 2061 7363               asc
+0000b3d0: 6969 2066 696c 6520 746f 2073 746f 7265  ii file to store
+0000b3e0: 2065 7665 6e74 732e 2054 6865 2064 6566   events. The def
+0000b3f0: 6175 6c74 2069 7320 272e 7665 646f 5f72  ault is '.vedo_r
+0000b400: 6563 6f72 6465 645f 6576 656e 7473 2e6c  ecorded_events.l
+0000b410: 6f67 272e 0a0a 2020 2020 2020 2020 5265  og'...        Re
+0000b420: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0000b430: 2020 2061 2073 7472 696e 6720 6465 7363     a string desc
+0000b440: 7269 7074 6f72 206f 6620 6576 656e 7473  riptor of events
+0000b450: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
+0000b460: 6c65 733a 0a20 2020 2020 2020 2020 2020  les:.           
+0000b470: 202d 205b 7265 636f 7264 5f70 6c61 792e   - [record_play.
+0000b480: 7079 5d28 6874 7470 733a 2f2f 6769 7468  py](https://gith
+0000b490: 7562 2e63 6f6d 2f6d 6172 636f 6d75 7379  ub.com/marcomusy
+0000b4a0: 2f76 6564 6f2f 7472 6565 2f6d 6173 7465  /vedo/tree/maste
+0000b4b0: 722f 6578 616d 706c 6573 2f62 6173 6963  r/examples/basic
+0000b4c0: 2f72 6563 6f72 645f 706c 6179 2e70 7929  /record_play.py)
+0000b4d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000b4e0: 2020 2020 2065 7265 6320 3d20 7674 6b2e       erec = vtk.
+0000b4f0: 7674 6b49 6e74 6572 6163 746f 7245 7665  vtkInteractorEve
+0000b500: 6e74 5265 636f 7264 6572 2829 0a20 2020  ntRecorder().   
+0000b510: 2020 2020 2065 7265 632e 5365 7449 6e74       erec.SetInt
+0000b520: 6572 6163 746f 7228 7365 6c66 2e69 6e74  eractor(self.int
+0000b530: 6572 6163 746f 7229 0a20 2020 2020 2020  eractor).       
+0000b540: 2065 7265 632e 5365 7446 696c 654e 616d   erec.SetFileNam
+0000b550: 6528 6669 6c65 6e61 6d65 290a 2020 2020  e(filename).    
+0000b560: 2020 2020 6572 6563 2e53 6574 4b65 7950      erec.SetKeyP
+0000b570: 7265 7373 4163 7469 7661 7469 6f6e 5661  ressActivationVa
+0000b580: 6c75 6528 2252 2229 0a20 2020 2020 2020  lue("R").       
+0000b590: 2065 7265 632e 456e 6162 6c65 644f 6e28   erec.EnabledOn(
+0000b5a0: 290a 2020 2020 2020 2020 6572 6563 2e52  ).        erec.R
+0000b5b0: 6563 6f72 6428 290a 2020 2020 2020 2020  ecord().        
+0000b5c0: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
+0000b5d0: 5374 6172 7428 290a 2020 2020 2020 2020  Start().        
+0000b5e0: 6572 6563 2e53 746f 7028 290a 2020 2020  erec.Stop().    
+0000b5f0: 2020 2020 6572 6563 2e45 6e61 626c 6564      erec.Enabled
+0000b600: 4f66 6628 290a 2020 2020 2020 2020 7769  Off().        wi
+0000b610: 7468 206f 7065 6e28 6669 6c65 6e61 6d65  th open(filename
+0000b620: 2c20 2272 222c 2065 6e63 6f64 696e 673d  , "r", encoding=
+0000b630: 2255 5446 2d38 2229 2061 7320 666c 3a0a  "UTF-8") as fl:.
+0000b640: 2020 2020 2020 2020 2020 2020 6576 656e              even
+0000b650: 7473 203d 2066 6c2e 7265 6164 2829 0a20  ts = fl.read(). 
+0000b660: 2020 2020 2020 2065 7265 6320 3d20 4e6f         erec = No
+0000b670: 6e65 0a20 2020 2020 2020 2072 6574 7572  ne.        retur
+0000b680: 6e20 6576 656e 7473 0a0a 2020 2020 6465  n events..    de
+0000b690: 6620 706c 6179 2873 656c 662c 2065 7665  f play(self, eve
+0000b6a0: 6e74 733d 222e 7665 646f 5f72 6563 6f72  nts=".vedo_recor
+0000b6b0: 6465 645f 6576 656e 7473 2e6c 6f67 222c  ded_events.log",
+0000b6c0: 2072 6570 6561 7473 3d30 293a 0a20 2020   repeats=0):.   
+0000b6d0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000b6e0: 2050 6c61 7920 6361 6d65 7261 2c20 6d6f   Play camera, mo
+0000b6f0: 7573 652c 206b 6579 7374 726f 6b65 7320  use, keystrokes 
+0000b700: 616e 6420 616c 6c20 6f74 6865 7220 6576  and all other ev
+0000b710: 656e 7473 2e0a 0a20 2020 2020 2020 2041  ents...        A
+0000b720: 7267 756d 656e 7473 3a0a 2020 2020 2020  rguments:.      
+0000b730: 2020 2020 2020 6576 656e 7473 203a 2028        events : (
+0000b740: 7374 7229 0a20 2020 2020 2020 2020 2020  str).           
+0000b750: 2020 2020 2066 696c 6520 6f20 7374 7269       file o stri
+0000b760: 6e67 206f 6620 6576 656e 7473 2e20 5468  ng of events. Th
+0000b770: 6520 6465 6661 756c 7420 6973 2027 2e76  e default is '.v
+0000b780: 6564 6f5f 7265 636f 7264 6564 5f65 7665  edo_recorded_eve
+0000b790: 6e74 732e 6c6f 6727 2e0a 2020 2020 2020  nts.log'..      
+0000b7a0: 2020 2020 2020 7265 7065 6174 7320 3a20        repeats : 
+0000b7b0: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+0000b7c0: 2020 2020 2020 6e75 6d62 6572 206f 6620        number of 
+0000b7d0: 6578 7472 6120 7265 7065 6174 7320 6f66  extra repeats of
+0000b7e0: 2074 6865 2073 616d 6520 6576 656e 7473   the same events
+0000b7f0: 2e20 5468 6520 6465 6661 756c 7420 6973  . The default is
+0000b800: 2030 2e0a 0a20 2020 2020 2020 2045 7861   0...        Exa
+0000b810: 6d70 6c65 733a 0a20 2020 2020 2020 2020  mples:.         
+0000b820: 2020 202d 205b 7265 636f 7264 5f70 6c61     - [record_pla
+0000b830: 792e 7079 5d28 6874 7470 733a 2f2f 6769  y.py](https://gi
+0000b840: 7468 7562 2e63 6f6d 2f6d 6172 636f 6d75  thub.com/marcomu
+0000b850: 7379 2f76 6564 6f2f 7472 6565 2f6d 6173  sy/vedo/tree/mas
+0000b860: 7465 722f 6578 616d 706c 6573 2f62 6173  ter/examples/bas
+0000b870: 6963 2f72 6563 6f72 645f 706c 6179 2e70  ic/record_play.p
+0000b880: 7929 0a20 2020 2020 2020 2022 2222 0a20  y).        """. 
+0000b890: 2020 2020 2020 2065 7265 6320 3d20 7674         erec = vt
+0000b8a0: 6b2e 7674 6b49 6e74 6572 6163 746f 7245  k.vtkInteractorE
+0000b8b0: 7665 6e74 5265 636f 7264 6572 2829 0a20  ventRecorder(). 
+0000b8c0: 2020 2020 2020 2065 7265 632e 5365 7449         erec.SetI
+0000b8d0: 6e74 6572 6163 746f 7228 7365 6c66 2e69  nteractor(self.i
+0000b8e0: 6e74 6572 6163 746f 7229 0a0a 2020 2020  nteractor)..    
+0000b8f0: 2020 2020 6966 2065 7665 6e74 732e 656e      if events.en
+0000b900: 6473 7769 7468 2822 2e6c 6f67 2229 3a0a  dswith(".log"):.
+0000b910: 2020 2020 2020 2020 2020 2020 6572 6563              erec
+0000b920: 2e52 6561 6446 726f 6d49 6e70 7574 5374  .ReadFromInputSt
+0000b930: 7269 6e67 4f66 6628 290a 2020 2020 2020  ringOff().      
+0000b940: 2020 2020 2020 6572 6563 2e53 6574 4669        erec.SetFi
+0000b950: 6c65 4e61 6d65 2865 7665 6e74 7329 0a20  leName(events). 
+0000b960: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000b970: 2020 2020 2020 2020 2065 7265 632e 5265           erec.Re
+0000b980: 6164 4672 6f6d 496e 7075 7453 7472 696e  adFromInputStrin
+0000b990: 674f 6e28 290a 2020 2020 2020 2020 2020  gOn().          
+0000b9a0: 2020 6572 6563 2e53 6574 496e 7075 7453    erec.SetInputS
+0000b9b0: 7472 696e 6728 6576 656e 7473 290a 0a20  tring(events).. 
+0000b9c0: 2020 2020 2020 2065 7265 632e 506c 6179         erec.Play
+0000b9d0: 2829 0a20 2020 2020 2020 2066 6f72 205f  ().        for _
+0000b9e0: 6920 696e 2072 616e 6765 2872 6570 6561  i in range(repea
+0000b9f0: 7473 293a 0a20 2020 2020 2020 2020 2020  ts):.           
+0000ba00: 2065 7265 632e 5265 7769 6e64 2829 0a20   erec.Rewind(). 
+0000ba10: 2020 2020 2020 2020 2020 2065 7265 632e             erec.
+0000ba20: 506c 6179 2829 0a20 2020 2020 2020 2065  Play().        e
+0000ba30: 7265 632e 456e 6162 6c65 644f 6666 2829  rec.EnabledOff()
+0000ba40: 0a20 2020 2020 2020 2065 7265 6320 3d20  .        erec = 
+0000ba50: 4e6f 6e65 0a20 2020 2020 2020 2072 6574  None.        ret
+0000ba60: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+0000ba70: 6620 7061 7261 6c6c 656c 5f70 726f 6a65  f parallel_proje
+0000ba80: 6374 696f 6e28 7365 6c66 2c20 7661 6c75  ction(self, valu
+0000ba90: 653d 5472 7565 2c20 6174 3d4e 6f6e 6529  e=True, at=None)
+0000baa0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000bab0: 2020 2020 2020 5573 6520 7061 7261 6c6c        Use parall
+0000bac0: 656c 2070 726f 6a65 6374 696f 6e20 6061  el projection `a
+0000bad0: 7460 2061 2073 7065 6369 6669 6564 2072  t` a specified r
+0000bae0: 656e 6465 7265 722e 0a20 2020 2020 2020  enderer..       
+0000baf0: 204f 626a 6563 7420 6973 2073 6565 6e20   Object is seen 
+0000bb00: 6672 6f6d 2022 696e 6669 6e69 7465 2220  from "infinite" 
+0000bb10: 6469 7374 616e 6365 2c20 652e 692e 2072  distance, e.i. r
+0000bb20: 656d 6f76 6520 616e 7920 7065 7273 7065  emove any perspe
+0000bb30: 6374 6976 6520 6566 6665 6374 732e 0a20  ctive effects.. 
+0000bb40: 2020 2020 2020 2041 6e20 696e 7075 7420         An input 
+0000bb50: 7661 6c75 6520 6571 7561 6c20 746f 202d  value equal to -
+0000bb60: 3120 7769 6c6c 2074 6f67 676c 6520 6974  1 will toggle it
+0000bb70: 206f 6e2f 6f66 662e 0a20 2020 2020 2020   on/off..       
+0000bb80: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0000bb90: 6174 2069 7320 6e6f 7420 4e6f 6e65 3a0a  at is not None:.
+0000bba0: 2020 2020 2020 2020 2020 2020 7220 3d20              r = 
+0000bbb0: 7365 6c66 2e72 656e 6465 7265 7273 5b61  self.renderers[a
+0000bbc0: 745d 0a20 2020 2020 2020 2065 6c73 653a  t].        else:
+0000bbd0: 0a20 2020 2020 2020 2020 2020 2072 203d  .            r =
+0000bbe0: 2073 656c 662e 7265 6e64 6572 6572 0a20   self.renderer. 
+0000bbf0: 2020 2020 2020 2069 6620 7661 6c75 6520         if value 
+0000bc00: 3d3d 202d 313a 0a20 2020 2020 2020 2020  == -1:.         
+0000bc10: 2020 2076 616c 203d 2072 2e47 6574 4163     val = r.GetAc
+0000bc20: 7469 7665 4361 6d65 7261 2829 2e47 6574  tiveCamera().Get
+0000bc30: 5061 7261 6c6c 656c 5072 6f6a 6563 7469  ParallelProjecti
+0000bc40: 6f6e 2829 0a20 2020 2020 2020 2020 2020  on().           
+0000bc50: 2076 616c 7565 203d 206e 6f74 2076 616c   value = not val
+0000bc60: 0a20 2020 2020 2020 2072 2e47 6574 4163  .        r.GetAc
+0000bc70: 7469 7665 4361 6d65 7261 2829 2e53 6574  tiveCamera().Set
+0000bc80: 5061 7261 6c6c 656c 5072 6f6a 6563 7469  ParallelProjecti
+0000bc90: 6f6e 2876 616c 7565 290a 2020 2020 2020  on(value).      
+0000bca0: 2020 722e 4d6f 6469 6669 6564 2829 0a20    r.Modified(). 
+0000bcb0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0000bcc0: 6c66 0a0a 2020 2020 6465 6620 666f 7628  lf..    def fov(
+0000bcd0: 7365 6c66 2c20 616e 676c 6529 3a0a 2020  self, angle):.  
+0000bce0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000bcf0: 2020 5365 7420 7468 6520 6669 656c 6420    Set the field 
+0000bd00: 6f66 2076 6965 7720 616e 676c 6520 666f  of view angle fo
+0000bd10: 7220 7468 6520 6361 6d65 7261 2e0a 2020  r the camera..  
+0000bd20: 2020 2020 2020 5468 6973 2069 7320 7468        This is th
+0000bd30: 6520 616e 676c 6520 6f66 2074 6865 2063  e angle of the c
+0000bd40: 616d 6572 6120 6672 7573 7475 6d20 696e  amera frustum in
+0000bd50: 2074 6865 2068 6f72 697a 6f6e 7461 6c20   the horizontal 
+0000bd60: 6469 7265 6374 696f 6e2e 0a20 2020 2020  direction..     
+0000bd70: 2020 2048 6967 6820 7661 6c75 6573 2077     High values w
+0000bd80: 696c 6c20 7265 7375 6c74 2069 6e20 6120  ill result in a 
+0000bd90: 7769 6465 2d61 6e67 6c65 206c 656e 7320  wide-angle lens 
+0000bda0: 2866 6973 682d 6579 6520 6566 6665 6374  (fish-eye effect
+0000bdb0: 292c 0a20 2020 2020 2020 2061 6e64 206c  ),.        and l
+0000bdc0: 6f77 2076 616c 7565 7320 7769 6c6c 2072  ow values will r
+0000bdd0: 6573 756c 7420 696e 2061 2074 656c 6570  esult in a telep
+0000bde0: 686f 746f 206c 656e 732e 0a0a 2020 2020  hoto lens...    
+0000bdf0: 2020 2020 4465 6661 756c 7420 7661 6c75      Default valu
+0000be00: 6520 6973 2033 3020 6465 6772 6565 732e  e is 30 degrees.
+0000be10: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000be20: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
+0000be30: 6572 2e47 6574 4163 7469 7665 4361 6d65  er.GetActiveCame
+0000be40: 7261 2829 2e55 7365 486f 7269 7a6f 6e74  ra().UseHorizont
+0000be50: 616c 5669 6577 416e 676c 654f 6e28 290a  alViewAngleOn().
+0000be60: 2020 2020 2020 2020 7365 6c66 2e72 656e          self.ren
+0000be70: 6465 7265 722e 4765 7441 6374 6976 6543  derer.GetActiveC
+0000be80: 616d 6572 6128 292e 5365 7456 6965 7741  amera().SetViewA
+0000be90: 6e67 6c65 2861 6e67 6c65 290a 2020 2020  ngle(angle).    
+0000bea0: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+0000beb0: 0a20 2020 2064 6566 207a 6f6f 6d28 7365  .    def zoom(se
+0000bec0: 6c66 2c20 7a6f 6f6d 293a 0a20 2020 2020  lf, zoom):.     
+0000bed0: 2020 2022 2222 4170 706c 7920 6120 7a6f     """Apply a zo
+0000bee0: 6f6d 696e 6720 6661 6374 6f72 2066 6f72  oming factor for
+0000bef0: 2074 6865 2063 7572 7265 6e74 2063 616d   the current cam
+0000bf00: 6572 6120 7669 6577 2222 220a 2020 2020  era view""".    
+0000bf10: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
+0000bf20: 722e 4765 7441 6374 6976 6543 616d 6572  r.GetActiveCamer
+0000bf30: 6128 292e 5a6f 6f6d 287a 6f6f 6d29 0a20  a().Zoom(zoom). 
+0000bf40: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0000bf50: 6c66 0a20 2020 200a 2020 2020 6465 6620  lf.    .    def 
+0000bf60: 617a 696d 7574 6828 7365 6c66 2c20 616e  azimuth(self, an
+0000bf70: 676c 6529 3a0a 2020 2020 2020 2020 2222  gle):.        ""
+0000bf80: 2252 6f74 6174 6520 6361 6d65 7261 2061  "Rotate camera a
+0000bf90: 726f 756e 6420 7468 6520 7669 6577 2075  round the view u
+0000bfa0: 7020 7665 6374 6f72 2e22 2222 0a20 2020  p vector.""".   
+0000bfb0: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
+0000bfc0: 6572 2e47 6574 4163 7469 7665 4361 6d65  er.GetActiveCame
+0000bfd0: 7261 2829 2e41 7a69 6d75 7468 2861 6e67  ra().Azimuth(ang
+0000bfe0: 6c65 290a 2020 2020 2020 2020 7265 7475  le).        retu
+0000bff0: 726e 2073 656c 660a 2020 2020 0a20 2020  rn self.    .   
+0000c000: 2064 6566 2065 6c65 7661 7469 6f6e 2873   def elevation(s
+0000c010: 656c 662c 2061 6e67 6c65 293a 0a20 2020  elf, angle):.   
+0000c020: 2020 2020 2022 2222 526f 7461 7465 2074       """Rotate t
+0000c030: 6865 2063 616d 6572 6120 6172 6f75 6e64  he camera around
+0000c040: 2074 6865 2063 726f 7373 2070 726f 6475   the cross produ
+0000c050: 6374 206f 6620 7468 6520 6e65 6761 7469  ct of the negati
+0000c060: 7665 0a20 2020 2020 2020 206f 6620 7468  ve.        of th
+0000c070: 6520 6469 7265 6374 696f 6e20 6f66 2070  e direction of p
+0000c080: 726f 6a65 6374 696f 6e20 616e 6420 7468  rojection and th
+0000c090: 6520 7669 6577 2075 7020 7665 6374 6f72  e view up vector
+0000c0a0: 2e22 2222 0a20 2020 2020 2020 2073 656c  .""".        sel
+0000c0b0: 662e 7265 6e64 6572 6572 2e47 6574 4163  f.renderer.GetAc
+0000c0c0: 7469 7665 4361 6d65 7261 2829 2e45 6c65  tiveCamera().Ele
+0000c0d0: 7661 7469 6f6e 2861 6e67 6c65 290a 2020  vation(angle).  
+0000c0e0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+0000c0f0: 660a 2020 2020 0a20 2020 2064 6566 2072  f.    .    def r
+0000c100: 6f6c 6c28 7365 6c66 2c20 616e 676c 6529  oll(self, angle)
+0000c110: 3a0a 2020 2020 2020 2020 2222 2252 6f6c  :.        """Rol
+0000c120: 6c20 7468 6520 6361 6d65 7261 2061 626f  l the camera abo
+0000c130: 7574 2074 6865 2064 6972 6563 7469 6f6e  ut the direction
+0000c140: 206f 6620 7072 6f6a 6563 7469 6f6e 2e22   of projection."
+0000c150: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
+0000c160: 7265 6e64 6572 6572 2e47 6574 4163 7469  renderer.GetActi
+0000c170: 7665 4361 6d65 7261 2829 2e52 6f6c 6c28  veCamera().Roll(
+0000c180: 616e 676c 6529 0a20 2020 2020 2020 2072  angle).        r
+0000c190: 6574 7572 6e20 7365 6c66 0a20 2020 200a  eturn self.    .
+0000c1a0: 2020 2020 6465 6620 646f 6c6c 7928 7365      def dolly(se
+0000c1b0: 6c66 2c20 7661 6c75 6529 3a0a 2020 2020  lf, value):.    
+0000c1c0: 2020 2020 2222 224d 6f76 6520 7468 6520      """Move the 
+0000c1d0: 6361 6d65 7261 2074 6f77 6172 6473 2028  camera towards (
+0000c1e0: 7661 6c75 653e 3029 206f 7220 6177 6179  value>0) or away
+0000c1f0: 2066 726f 6d20 2876 616c 7565 3c30 2920   from (value<0) 
+0000c200: 7468 6520 666f 6361 6c20 706f 696e 742e  the focal point.
+0000c210: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
+0000c220: 2e72 656e 6465 7265 722e 4765 7441 6374  .renderer.GetAct
+0000c230: 6976 6543 616d 6572 6128 292e 446f 6c6c  iveCamera().Doll
+0000c240: 7928 7661 6c75 6529 0a20 2020 2020 2020  y(value).       
+0000c250: 2072 6574 7572 6e20 7365 6c66 0a0a 0a20   return self... 
+0000c260: 2020 2023 2323 2323 2323 2323 2323 2323     #############
+0000c270: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000c280: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000c290: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000c2a0: 2323 2323 230a 2020 2020 4064 6570 7265  #####.    @depre
+0000c2b0: 6361 7465 6428 7265 6173 6f6e 3d76 6564  cated(reason=ved
+0000c2c0: 6f2e 636f 6c6f 7273 2e72 6564 202b 2022  o.colors.red + "
+0000c2d0: 506c 6561 7365 2075 7365 2061 6464 5f73  Please use add_s
+0000c2e0: 6c69 6465 7228 2922 202b 2076 6564 6f2e  lider()" + vedo.
+0000c2f0: 636f 6c6f 7273 2e72 6573 6574 290a 2020  colors.reset).  
+0000c300: 2020 6465 6620 6164 6453 6c69 6465 7232    def addSlider2
+0000c310: 4428 7365 6c66 2c20 2a61 2c20 2a2a 6229  D(self, *a, **b)
+0000c320: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+0000c330: 2073 656c 662e 6164 645f 736c 6964 6572   self.add_slider
+0000c340: 282a 612c 202a 2a62 290a 0a20 2020 2064  (*a, **b)..    d
+0000c350: 6566 2061 6464 5f73 6c69 6465 7228 0a20  ef add_slider(. 
+0000c360: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000c370: 2020 2020 2073 6c69 6465 7266 756e 633a       sliderfunc:
+0000c380: 2043 616c 6c61 626c 652c 0a20 2020 2020   Callable,.     
+0000c390: 2020 2078 6d69 6e2c 0a20 2020 2020 2020     xmin,.       
+0000c3a0: 2078 6d61 782c 0a20 2020 2020 2020 2076   xmax,.        v
+0000c3b0: 616c 7565 3d4e 6f6e 652c 0a20 2020 2020  alue=None,.     
+0000c3c0: 2020 2070 6f73 3d34 2c0a 2020 2020 2020     pos=4,.      
+0000c3d0: 2020 7469 746c 653d 2222 2c0a 2020 2020    title="",.    
+0000c3e0: 2020 2020 666f 6e74 3d22 222c 0a20 2020      font="",.   
+0000c3f0: 2020 2020 2074 6974 6c65 5f73 697a 653d       title_size=
+0000c400: 312c 0a20 2020 2020 2020 2063 3d4e 6f6e  1,.        c=Non
+0000c410: 652c 0a20 2020 2020 2020 2061 6c70 6861  e,.        alpha
+0000c420: 3d31 2c0a 2020 2020 2020 2020 7368 6f77  =1,.        show
+0000c430: 5f76 616c 7565 3d54 7275 652c 0a20 2020  _value=True,.   
+0000c440: 2020 2020 2064 656c 6179 6564 3d46 616c       delayed=Fal
+0000c450: 7365 2c0a 2020 2020 2020 2020 2a2a 6f70  se,.        **op
+0000c460: 7469 6f6e 732c 0a20 2020 2029 3a0a 2020  tions,.    ):.  
+0000c470: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000c480: 2020 4164 6420 6120 6076 6564 6f2e 6164    Add a `vedo.ad
+0000c490: 646f 6e73 2e53 6c69 6465 7232 4460 2077  dons.Slider2D` w
+0000c4a0: 6869 6368 2063 616e 2063 616c 6c20 616e  hich can call an
+0000c4b0: 2065 7874 6572 6e61 6c20 6375 7374 6f6d   external custom
+0000c4c0: 2066 756e 6374 696f 6e2e 0a0a 2020 2020   function...    
+0000c4d0: 2020 2020 4172 6775 6d65 6e74 733a 0a20      Arguments:. 
+0000c4e0: 2020 2020 2020 2020 2020 2073 6c69 6465             slide
+0000c4f0: 7266 756e 6320 3a20 2843 616c 6c61 626c  rfunc : (Callabl
+0000c500: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+0000c510: 2020 2065 7874 6572 6e61 6c20 6675 6e63     external func
+0000c520: 7469 6f6e 2074 6f20 6265 2063 616c 6c65  tion to be calle
+0000c530: 6420 6279 2074 6865 2077 6964 6765 740a  d by the widget.
+0000c540: 2020 2020 2020 2020 2020 2020 786d 696e              xmin
+0000c550: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
+0000c560: 2020 2020 2020 2020 2020 206c 6f77 6572             lower
+0000c570: 2076 616c 7565 206f 6620 7468 6520 736c   value of the sl
+0000c580: 6964 6572 0a20 2020 2020 2020 2020 2020  ider.           
+0000c590: 2078 6d61 7820 3a20 2866 6c6f 6174 290a   xmax : (float).
+0000c5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5b0: 7570 7065 7220 7661 6c75 650a 2020 2020  upper value.    
+0000c5c0: 2020 2020 2020 2020 7661 6c75 6520 3a20          value : 
+0000c5d0: 2866 6c6f 6174 290a 2020 2020 2020 2020  (float).        
+0000c5e0: 2020 2020 2020 2020 6375 7272 656e 7420          current 
+0000c5f0: 7661 6c75 650a 2020 2020 2020 2020 2020  value.          
+0000c600: 2020 706f 7320 3a20 286c 6973 742c 2073    pos : (list, s
+0000c610: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
+0000c620: 2020 2020 706f 7369 7469 6f6e 2063 6f72      position cor
+0000c630: 6e65 7220 6e75 6d62 6572 3a20 686f 7269  ner number: hori
+0000c640: 7a6f 6e74 616c 205b 312d 355d 206f 7220  zontal [1-5] or 
+0000c650: 7665 7274 6963 616c 205b 3131 2d31 355d  vertical [11-15]
+0000c660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c670: 2069 7420 6361 6e20 616c 736f 2062 6520   it can also be 
+0000c680: 7370 6563 6966 6965 6420 6279 2063 6f72  specified by cor
+0000c690: 6e65 7273 2063 6f6f 7264 696e 6174 6573  ners coordinates
+0000c6a0: 205b 2878 312c 7931 292c 2028 7832 2c79   [(x1,y1), (x2,y
+0000c6b0: 3229 5d0a 2020 2020 2020 2020 2020 2020  2)].            
+0000c6c0: 2020 2020 616e 6420 616c 736f 2062 7920      and also by 
+0000c6d0: 6120 7374 7269 6e67 2064 6573 6372 6970  a string descrip
+0000c6e0: 746f 7220 2865 672e 2022 626f 7474 6f6d  tor (eg. "bottom
+0000c6f0: 2d6c 6566 7422 290a 2020 2020 2020 2020  -left").        
+0000c700: 2020 2020 7469 746c 6520 3a20 2873 7472      title : (str
+0000c710: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000c720: 2020 7469 746c 6520 7465 7874 0a20 2020    title text.   
+0000c730: 2020 2020 2020 2020 2066 6f6e 7420 3a20           font : 
+0000c740: 2873 7472 290a 2020 2020 2020 2020 2020  (str).          
+0000c750: 2020 2020 2020 7469 746c 6520 666f 6e74        title font
+0000c760: 2066 6163 652e 2043 6865 636b 205b 6176   face. Check [av
+0000c770: 6169 6c61 626c 6520 666f 6e74 7320 6865  ailable fonts he
+0000c780: 7265 5d28 6874 7470 733a 2f2f 7665 646f  re](https://vedo
+0000c790: 2e65 6d62 6c2e 6573 2f66 6f6e 7473 292e  .embl.es/fonts).
+0000c7a0: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
+0000c7b0: 6c65 5f73 697a 6520 3a20 2866 6c6f 6174  le_size : (float
+0000c7c0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000c7d0: 2020 7469 746c 6520 7465 7874 2073 6361    title text sca
+0000c7e0: 6c65 205b 312e 305d 0a20 2020 2020 2020  le [1.0].       
+0000c7f0: 2020 2020 2073 686f 775f 7661 6c75 6520       show_value 
+0000c800: 3a20 2862 6f6f 6c29 0a20 2020 2020 2020  : (bool).       
+0000c810: 2020 2020 2020 2020 2069 6620 5472 7565           if True
+0000c820: 2063 7572 7265 6e74 2076 616c 7565 2069   current value i
+0000c830: 7320 7368 6f77 6e0a 2020 2020 2020 2020  s shown.        
+0000c840: 2020 2020 6465 6c61 7965 6420 3a20 2862      delayed : (b
+0000c850: 6f6f 6c29 0a20 2020 2020 2020 2020 2020  ool).           
+0000c860: 2020 2020 2069 6620 5472 7565 2074 6865       if True the
+0000c870: 2063 616c 6c62 6163 6b20 6973 2064 656c   callback is del
+0000c880: 6179 6564 2075 6e74 696c 2077 6865 6e20  ayed until when 
+0000c890: 7468 6520 6d6f 7573 6520 6275 7474 6f6e  the mouse button
+0000c8a0: 2069 7320 7265 6c65 6173 6564 0a20 2020   is released.   
+0000c8b0: 2020 2020 2020 2020 2061 6c70 6861 203a           alpha :
+0000c8c0: 2028 666c 6f61 7429 0a20 2020 2020 2020   (float).       
+0000c8d0: 2020 2020 2020 2020 206f 7061 6369 7479           opacity
+0000c8e0: 206f 6620 7468 6520 7363 616c 6172 2062   of the scalar b
+0000c8f0: 6172 2074 6578 7473 0a20 2020 2020 2020  ar texts.       
+0000c900: 2020 2020 2073 6c69 6465 725f 6c65 6e67       slider_leng
+0000c910: 7468 203a 2028 666c 6f61 7429 0a20 2020  th : (float).   
+0000c920: 2020 2020 2020 2020 2020 2020 2073 6c69               sli
+0000c930: 6465 7220 6c65 6e67 7468 0a20 2020 2020  der length.     
+0000c940: 2020 2020 2020 2073 6c69 6465 725f 7769         slider_wi
+0000c950: 6474 6820 3a20 2866 6c6f 6174 290a 2020  dth : (float).  
+0000c960: 2020 2020 2020 2020 2020 2020 2020 736c                sl
+0000c970: 6964 6572 2077 6964 7468 0a20 2020 2020  ider width.     
+0000c980: 2020 2020 2020 2065 6e64 5f63 6170 5f6c         end_cap_l
+0000c990: 656e 6774 6820 3a20 2866 6c6f 6174 290a  ength : (float).
+0000c9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c9b0: 6c65 6e67 7468 206f 6620 7468 6520 656e  length of the en
+0000c9c0: 6420 6361 700a 2020 2020 2020 2020 2020  d cap.          
+0000c9d0: 2020 656e 645f 6361 705f 7769 6474 6820    end_cap_width 
+0000c9e0: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
+0000c9f0: 2020 2020 2020 2020 2020 7769 6474 6820            width 
+0000ca00: 6f66 2074 6865 2065 6e64 2063 6170 0a20  of the end cap. 
+0000ca10: 2020 2020 2020 2020 2020 2074 7562 655f             tube_
+0000ca20: 7769 6474 6820 3a20 2866 6c6f 6174 290a  width : (float).
+0000ca30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca40: 7769 6474 6820 6f66 2074 6865 2074 7562  width of the tub
+0000ca50: 650a 2020 2020 2020 2020 2020 2020 7469  e.            ti
+0000ca60: 746c 655f 6865 6967 6874 203a 2028 666c  tle_height : (fl
+0000ca70: 6f61 7429 0a20 2020 2020 2020 2020 2020  oat).           
+0000ca80: 2020 2020 2077 6964 7468 206f 6620 7468       width of th
+0000ca90: 6520 7469 746c 650a 2020 2020 2020 2020  e title.        
+0000caa0: 2020 2020 7466 6f72 6d61 7420 3a20 2873      tformat : (s
+0000cab0: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
+0000cac0: 2020 2020 666f 726d 6174 206f 6620 7468      format of th
+0000cad0: 6520 7469 746c 650a 0a20 2020 2020 2020  e title..       
+0000cae0: 2045 7861 6d70 6c65 733a 0a20 2020 2020   Examples:.     
+0000caf0: 2020 2020 2020 202d 205b 736c 6964 6572         - [slider
+0000cb00: 7331 2e70 795d 2868 7474 7073 3a2f 2f67  s1.py](https://g
+0000cb10: 6974 6875 622e 636f 6d2f 6d61 7263 6f6d  ithub.com/marcom
+0000cb20: 7573 792f 7665 646f 2f74 7265 652f 6d61  usy/vedo/tree/ma
+0000cb30: 7374 6572 2f65 7861 6d70 6c65 732f 6261  ster/examples/ba
+0000cb40: 7369 632f 736c 6964 6572 7331 2e70 7929  sic/sliders1.py)
+0000cb50: 0a20 2020 2020 2020 2020 2020 202d 205b  .            - [
+0000cb60: 736c 6964 6572 7332 2e70 795d 2868 7474  sliders2.py](htt
+0000cb70: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000cb80: 6d61 7263 6f6d 7573 792f 7665 646f 2f74  marcomusy/vedo/t
+0000cb90: 7265 652f 6d61 7374 6572 2f65 7861 6d70  ree/master/examp
+0000cba0: 6c65 732f 6261 7369 632f 736c 6964 6572  les/basic/slider
+0000cbb0: 7332 2e70 7929 0a0a 2020 2020 2020 2020  s2.py)..        
+0000cbc0: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
+0000cbd0: 7573 6572 2d69 6d61 6765 732e 6769 7468  user-images.gith
+0000cbe0: 7562 7573 6572 636f 6e74 656e 742e 636f  ubusercontent.co
+0000cbf0: 6d2f 3332 3834 3833 3931 2f35 3037 3338  m/32848391/50738
+0000cc00: 3834 382d 6265 3033 3334 3830 2d31 3164  848-be033480-11d
+0000cc10: 382d 3131 6539 2d39 6231 612d 6331 3331  8-11e9-9b1a-c131
+0000cc20: 3035 3432 3361 3739 2e6a 7067 290a 2020  05423a79.jpg).  
+0000cc30: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000cc40: 2020 6966 2063 2069 7320 4e6f 6e65 3a20    if c is None: 
+0000cc50: 2023 2061 7574 6f6d 6174 6963 2062 6c61   # automatic bla
+0000cc60: 636b 206f 7220 7768 6974 650a 2020 2020  ck or white.    
+0000cc70: 2020 2020 2020 2020 6320 3d20 2830 2e38          c = (0.8
+0000cc80: 2c20 302e 382c 2030 2e38 290a 2020 2020  , 0.8, 0.8).    
+0000cc90: 2020 2020 2020 2020 6966 206e 702e 7375          if np.su
+0000cca0: 6d28 7665 646f 2e67 6574 5f63 6f6c 6f72  m(vedo.get_color
+0000ccb0: 2873 656c 662e 6261 636b 6772 636f 6c29  (self.backgrcol)
+0000ccc0: 2920 3e20 312e 353a 0a20 2020 2020 2020  ) > 1.5:.       
+0000ccd0: 2020 2020 2020 2020 2063 203d 2028 302e           c = (0.
+0000cce0: 322c 2030 2e32 2c20 302e 3229 0a20 2020  2, 0.2, 0.2).   
+0000ccf0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0000cd00: 2020 2020 2020 2063 203d 2076 6564 6f2e         c = vedo.
+0000cd10: 6765 745f 636f 6c6f 7228 6329 0a0a 2020  get_color(c)..  
+0000cd20: 2020 2020 2020 736c 6964 6572 3264 203d        slider2d =
+0000cd30: 2061 6464 6f6e 732e 536c 6964 6572 3244   addons.Slider2D
+0000cd40: 280a 2020 2020 2020 2020 2020 2020 736c  (.            sl
+0000cd50: 6964 6572 6675 6e63 2c0a 2020 2020 2020  iderfunc,.      
+0000cd60: 2020 2020 2020 786d 696e 2c0a 2020 2020        xmin,.    
+0000cd70: 2020 2020 2020 2020 786d 6178 2c0a 2020          xmax,.  
+0000cd80: 2020 2020 2020 2020 2020 7661 6c75 652c            value,
+0000cd90: 0a20 2020 2020 2020 2020 2020 2070 6f73  .            pos
+0000cda0: 2c0a 2020 2020 2020 2020 2020 2020 7469  ,.            ti
+0000cdb0: 746c 652c 0a20 2020 2020 2020 2020 2020  tle,.           
+0000cdc0: 2066 6f6e 742c 0a20 2020 2020 2020 2020   font,.         
+0000cdd0: 2020 2074 6974 6c65 5f73 697a 652c 0a20     title_size,. 
+0000cde0: 2020 2020 2020 2020 2020 2063 2c0a 2020             c,.  
+0000cdf0: 2020 2020 2020 2020 2020 616c 7068 612c            alpha,
+0000ce00: 0a20 2020 2020 2020 2020 2020 2073 686f  .            sho
+0000ce10: 775f 7661 6c75 652c 0a20 2020 2020 2020  w_value,.       
+0000ce20: 2020 2020 2064 656c 6179 6564 2c0a 2020       delayed,.  
+0000ce30: 2020 2020 2020 2020 2020 2a2a 6f70 7469            **opti
+0000ce40: 6f6e 732c 0a20 2020 2020 2020 2029 0a0a  ons,.        )..
+0000ce50: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0000ce60: 7265 6e64 6572 6572 3a0a 2020 2020 2020  renderer:.      
+0000ce70: 2020 2020 2020 736c 6964 6572 3264 2e72        slider2d.r
+0000ce80: 656e 6465 7265 7220 3d20 7365 6c66 2e72  enderer = self.r
+0000ce90: 656e 6465 7265 720a 2020 2020 2020 2020  enderer.        
+0000cea0: 2020 2020 6966 2073 656c 662e 696e 7465      if self.inte
+0000ceb0: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
+0000cec0: 2020 2020 2020 2020 736c 6964 6572 3264          slider2d
+0000ced0: 2e69 6e74 6572 6163 746f 7220 3d20 7365  .interactor = se
+0000cee0: 6c66 2e69 6e74 6572 6163 746f 720a 2020  lf.interactor.  
+0000cef0: 2020 2020 2020 2020 2020 2020 2020 736c                sl
+0000cf00: 6964 6572 3264 2e6f 6e28 290a 2020 2020  ider2d.on().    
+0000cf10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000cf20: 2e73 6c69 6465 7273 2e61 7070 656e 6428  .sliders.append(
+0000cf30: 5b73 6c69 6465 7232 642c 2073 6c69 6465  [slider2d, slide
+0000cf40: 7266 756e 635d 290a 2020 2020 2020 2020  rfunc]).        
+0000cf50: 7265 7475 726e 2073 6c69 6465 7232 640a  return slider2d.
+0000cf60: 0a0a 2020 2020 6465 6620 6164 645f 736c  ..    def add_sl
+0000cf70: 6964 6572 3364 280a 2020 2020 2020 2020  ider3d(.        
+0000cf80: 7365 6c66 2c0a 2020 2020 2020 2020 736c  self,.        sl
+0000cf90: 6964 6572 6675 6e63 2c0a 2020 2020 2020  iderfunc,.      
+0000cfa0: 2020 706f 7331 2c0a 2020 2020 2020 2020    pos1,.        
+0000cfb0: 706f 7332 2c0a 2020 2020 2020 2020 786d  pos2,.        xm
+0000cfc0: 696e 2c0a 2020 2020 2020 2020 786d 6178  in,.        xmax
+0000cfd0: 2c0a 2020 2020 2020 2020 7661 6c75 653d  ,.        value=
+0000cfe0: 4e6f 6e65 2c0a 2020 2020 2020 2020 733d  None,.        s=
+0000cff0: 302e 3033 2c0a 2020 2020 2020 2020 743d  0.03,.        t=
+0000d000: 312c 0a20 2020 2020 2020 2074 6974 6c65  1,.        title
+0000d010: 3d22 222c 0a20 2020 2020 2020 2072 6f74  ="",.        rot
+0000d020: 6174 696f 6e3d 302e 302c 0a20 2020 2020  ation=0.0,.     
+0000d030: 2020 2063 3d4e 6f6e 652c 0a20 2020 2020     c=None,.     
+0000d040: 2020 2073 686f 775f 7661 6c75 653d 5472     show_value=Tr
+0000d050: 7565 2c0a 2020 2020 293a 0a20 2020 2020  ue,.    ):.     
+0000d060: 2020 2022 2222 0a20 2020 2020 2020 2041     """.        A
+0000d070: 6464 2061 2033 4420 736c 6964 6572 2077  dd a 3D slider w
+0000d080: 6964 6765 7420 7768 6963 6820 6361 6e20  idget which can 
+0000d090: 6361 6c6c 2061 6e20 6578 7465 726e 616c  call an external
+0000d0a0: 2063 7573 746f 6d20 6675 6e63 7469 6f6e   custom function
+0000d0b0: 2e0a 0a20 2020 2020 2020 2041 7267 756d  ...        Argum
+0000d0c0: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
+0000d0d0: 2020 736c 6964 6572 6675 6e63 203a 2028    sliderfunc : (
+0000d0e0: 6675 6e63 7469 6f6e 290a 2020 2020 2020  function).      
+0000d0f0: 2020 2020 2020 2020 2020 6578 7465 726e            extern
+0000d100: 616c 2066 756e 6374 696f 6e20 746f 2062  al function to b
+0000d110: 6520 6361 6c6c 6564 2062 7920 7468 6520  e called by the 
+0000d120: 7769 6467 6574 0a20 2020 2020 2020 2020  widget.         
+0000d130: 2020 2070 6f73 3120 3a20 286c 6973 7429     pos1 : (list)
+0000d140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d150: 2066 6972 7374 2070 6f73 6974 696f 6e20   first position 
+0000d160: 3344 2063 6f6f 7264 696e 6174 6573 0a20  3D coordinates. 
+0000d170: 2020 2020 2020 2020 2020 2070 6f73 3220             pos2 
+0000d180: 3a20 286c 6973 7429 0a20 2020 2020 2020  : (list).       
+0000d190: 2020 2020 2020 2020 2073 6563 6f6e 6420           second 
+0000d1a0: 706f 7369 7469 6f6e 2063 6f6f 7264 696e  position coordin
+0000d1b0: 6174 6573 0a20 2020 2020 2020 2020 2020  ates.           
+0000d1c0: 2078 6d69 6e20 3a20 2866 6c6f 6174 290a   xmin : (float).
+0000d1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d1e0: 6c6f 7765 7220 7661 6c75 650a 2020 2020  lower value.    
+0000d1f0: 2020 2020 2020 2020 786d 6178 203a 2028          xmax : (
+0000d200: 666c 6f61 7429 0a20 2020 2020 2020 2020  float).         
+0000d210: 2020 2020 2020 2075 7070 6572 2076 616c         upper val
+0000d220: 7565 0a20 2020 2020 2020 2020 2020 2076  ue.            v
+0000d230: 616c 7565 203a 2028 666c 6f61 7429 0a20  alue : (float). 
+0000d240: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000d250: 6e69 7469 616c 2076 616c 7565 0a20 2020  nitial value.   
+0000d260: 2020 2020 2020 2020 2073 203a 2028 666c           s : (fl
+0000d270: 6f61 7429 0a20 2020 2020 2020 2020 2020  oat).           
+0000d280: 2020 2020 206c 6162 656c 2073 6361 6c69       label scali
+0000d290: 6e67 2066 6163 746f 720a 2020 2020 2020  ng factor.      
+0000d2a0: 2020 2020 2020 7420 3a20 2866 6c6f 6174        t : (float
+0000d2b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000d2c0: 2020 7475 6265 2073 6361 6c69 6e67 2066    tube scaling f
+0000d2d0: 6163 746f 720a 2020 2020 2020 2020 2020  actor.          
+0000d2e0: 2020 7469 746c 6520 3a20 2873 7472 290a    title : (str).
+0000d2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d300: 7469 746c 6520 7465 7874 0a20 2020 2020  title text.     
+0000d310: 2020 2020 2020 2063 203a 2028 636f 6c6f         c : (colo
+0000d320: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+0000d330: 2020 2073 6c69 6465 7220 636f 6c6f 720a     slider color.
+0000d340: 2020 2020 2020 2020 2020 2020 726f 7461              rota
+0000d350: 7469 6f6e 203a 2028 666c 6f61 7429 0a20  tion : (float). 
+0000d360: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000d370: 6974 6c65 2072 6f74 6174 696f 6e20 6172  itle rotation ar
+0000d380: 6f75 6e64 2073 6c69 6465 7220 6178 6973  ound slider axis
+0000d390: 0a20 2020 2020 2020 2020 2020 2073 686f  .            sho
+0000d3a0: 775f 7661 6c75 6520 3a20 2862 6f6f 6c29  w_value : (bool)
+0000d3b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d3c0: 2069 6620 5472 7565 2063 7572 7265 6e74   if True current
+0000d3d0: 2076 616c 7565 2069 7320 7368 6f77 6e0a   value is shown.
+0000d3e0: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
+0000d3f0: 733a 0a20 2020 2020 2020 2020 2020 202d  s:.            -
+0000d400: 205b 736c 6964 6572 7333 642e 7079 5d28   [sliders3d.py](
+0000d410: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000d420: 6f6d 2f6d 6172 636f 6d75 7379 2f76 6564  om/marcomusy/ved
+0000d430: 6f2f 7472 6565 2f6d 6173 7465 722f 6578  o/tree/master/ex
+0000d440: 616d 706c 6573 2f62 6173 6963 2f73 6c69  amples/basic/sli
+0000d450: 6465 7273 3364 2e70 7929 0a0a 2020 2020  ders3d.py)..    
+0000d460: 2020 2020 2020 2020 215b 5d28 6874 7470          ![](http
+0000d470: 733a 2f2f 7573 6572 2d69 6d61 6765 732e  s://user-images.
+0000d480: 6769 7468 7562 7573 6572 636f 6e74 656e  githubuserconten
+0000d490: 742e 636f 6d2f 3332 3834 3833 3931 2f35  t.com/32848391/5
+0000d4a0: 3238 3539 3535 352d 3465 6663 6632 3030  2859555-4efcf200
+0000d4b0: 2d33 3132 642d 3131 6539 2d39 3239 302d  -312d-11e9-9290-
+0000d4c0: 3639 3838 6338 3239 3531 3633 2e70 6e67  6988c8295163.png
+0000d4d0: 290a 2020 2020 2020 2020 2222 220a 2020  ).        """.  
+0000d4e0: 2020 2020 2020 6966 2063 2069 7320 4e6f        if c is No
+0000d4f0: 6e65 3a20 2023 2061 7574 6f6d 6174 6963  ne:  # automatic
+0000d500: 2062 6c61 636b 206f 7220 7768 6974 650a   black or white.
+0000d510: 2020 2020 2020 2020 2020 2020 6320 3d20              c = 
+0000d520: 2830 2e38 2c20 302e 382c 2030 2e38 290a  (0.8, 0.8, 0.8).
+0000d530: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0000d540: 702e 7375 6d28 7665 646f 2e67 6574 5f63  p.sum(vedo.get_c
+0000d550: 6f6c 6f72 2873 656c 662e 6261 636b 6772  olor(self.backgr
+0000d560: 636f 6c29 2920 3e20 312e 353a 0a20 2020  col)) > 1.5:.   
+0000d570: 2020 2020 2020 2020 2020 2020 2063 203d               c =
+0000d580: 2028 302e 322c 2030 2e32 2c20 302e 3229   (0.2, 0.2, 0.2)
+0000d590: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000d5a0: 2020 2020 2020 2020 2020 2063 203d 2076             c = v
+0000d5b0: 6564 6f2e 6765 745f 636f 6c6f 7228 6329  edo.get_color(c)
+0000d5c0: 0a0a 2020 2020 2020 2020 736c 6964 6572  ..        slider
+0000d5d0: 3364 203d 2061 6464 6f6e 732e 536c 6964  3d = addons.Slid
+0000d5e0: 6572 3344 280a 2020 2020 2020 2020 2020  er3D(.          
+0000d5f0: 2020 736c 6964 6572 6675 6e63 2c20 706f    sliderfunc, po
+0000d600: 7331 2c20 706f 7332 2c20 786d 696e 2c20  s1, pos2, xmin, 
+0000d610: 786d 6178 2c20 7661 6c75 652c 2073 2c20  xmax, value, s, 
+0000d620: 742c 2074 6974 6c65 2c20 726f 7461 7469  t, title, rotati
+0000d630: 6f6e 2c20 632c 2073 686f 775f 7661 6c75  on, c, show_valu
+0000d640: 650a 2020 2020 2020 2020 290a 2020 2020  e.        ).    
+0000d650: 2020 2020 736c 6964 6572 3364 2e72 656e      slider3d.ren
+0000d660: 6465 7265 7220 3d20 7365 6c66 2e72 656e  derer = self.ren
+0000d670: 6465 7265 720a 2020 2020 2020 2020 736c  derer.        sl
+0000d680: 6964 6572 3364 2e69 6e74 6572 6163 746f  ider3d.interacto
+0000d690: 7220 3d20 7365 6c66 2e69 6e74 6572 6163  r = self.interac
+0000d6a0: 746f 720a 2020 2020 2020 2020 736c 6964  tor.        slid
+0000d6b0: 6572 3364 2e6f 6e28 290a 2020 2020 2020  er3d.on().      
+0000d6c0: 2020 7365 6c66 2e73 6c69 6465 7273 2e61    self.sliders.a
+0000d6d0: 7070 656e 6428 5b73 6c69 6465 7233 642c  ppend([slider3d,
+0000d6e0: 2073 6c69 6465 7266 756e 635d 290a 2020   sliderfunc]).  
+0000d6f0: 2020 2020 2020 7265 7475 726e 2073 6c69        return sli
+0000d700: 6465 7233 640a 0a0a 2020 2020 4064 6570  der3d...    @dep
+0000d710: 7265 6361 7465 6428 7265 6173 6f6e 3d76  recated(reason=v
+0000d720: 6564 6f2e 636f 6c6f 7273 2e72 6564 202b  edo.colors.red +
+0000d730: 2022 506c 6561 7365 2075 7365 2061 6464   "Please use add
+0000d740: 5f62 7574 746f 6e28 2922 202b 2076 6564  _button()" + ved
+0000d750: 6f2e 636f 6c6f 7273 2e72 6573 6574 290a  o.colors.reset).
+0000d760: 2020 2020 6465 6620 6164 6442 7574 746f      def addButto
+0000d770: 6e28 7365 6c66 2c20 2a61 2c20 2a2a 6229  n(self, *a, **b)
+0000d780: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+0000d790: 2073 656c 662e 6164 645f 6275 7474 6f6e   self.add_button
+0000d7a0: 282a 612c 202a 2a62 290a 0a20 2020 2064  (*a, **b)..    d
+0000d7b0: 6566 2061 6464 5f62 7574 746f 6e28 0a20  ef add_button(. 
+0000d7c0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000d7d0: 2020 2020 2066 6e63 2c0a 2020 2020 2020       fnc,.      
+0000d7e0: 2020 7374 6174 6573 3d28 224f 6e22 2c20    states=("On", 
+0000d7f0: 224f 6666 2229 2c0a 2020 2020 2020 2020  "Off"),.        
+0000d800: 633d 2822 7722 2c20 2277 2229 2c0a 2020  c=("w", "w"),.  
+0000d810: 2020 2020 2020 6263 3d28 2264 6722 2c20        bc=("dg", 
+0000d820: 2264 7222 292c 0a20 2020 2020 2020 2070  "dr"),.        p
+0000d830: 6f73 3d28 302e 372c 2030 2e30 3529 2c0a  os=(0.7, 0.05),.
+0000d840: 2020 2020 2020 2020 7369 7a65 3d32 342c          size=24,
+0000d850: 0a20 2020 2020 2020 2066 6f6e 743d 4e6f  .        font=No
+0000d860: 6e65 2c0a 2020 2020 2020 2020 626f 6c64  ne,.        bold
+0000d870: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
+0000d880: 6974 616c 6963 3d46 616c 7365 2c0a 2020  italic=False,.  
+0000d890: 2020 2020 2020 616c 7068 613d 312c 0a20        alpha=1,. 
+0000d8a0: 2020 2020 2020 2061 6e67 6c65 3d30 2c0a         angle=0,.
+0000d8b0: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
+0000d8c0: 2222 0a20 2020 2020 2020 2041 6464 2061  "".        Add a
+0000d8d0: 2062 7574 746f 6e20 746f 2074 6865 2072   button to the r
+0000d8e0: 656e 6465 7265 7220 7769 6e64 6f77 2e0a  enderer window..
+0000d8f0: 0a20 2020 2020 2020 2041 7267 756d 656e  .        Argumen
+0000d900: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+0000d910: 7374 6174 6573 203a 2028 6c69 7374 290a  states : (list).
+0000d920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d930: 6120 6c69 7374 206f 6620 706f 7373 6962  a list of possib
+0000d940: 6c65 2073 7461 7465 732c 2065 2e67 2e20  le states, e.g. 
+0000d950: 5b27 4f6e 272c 2027 4f66 6627 5d0a 2020  ['On', 'Off'].  
+0000d960: 2020 2020 2020 2020 2020 6320 3a20 286c            c : (l
+0000d970: 6973 7429 0a20 2020 2020 2020 2020 2020  ist).           
+0000d980: 2020 2020 2061 206c 6973 7420 6f66 2063       a list of c
+0000d990: 6f6c 6f72 7320 666f 7220 6561 6368 2073  olors for each s
+0000d9a0: 7461 7465 0a20 2020 2020 2020 2020 2020  tate.           
+0000d9b0: 2062 6320 3a20 286c 6973 7429 0a20 2020   bc : (list).   
+0000d9c0: 2020 2020 2020 2020 2020 2020 2061 206c               a l
+0000d9d0: 6973 7420 6f66 2062 6163 6b67 726f 756e  ist of backgroun
+0000d9e0: 6420 636f 6c6f 7273 2066 6f72 2065 6163  d colors for eac
+0000d9f0: 6820 7374 6174 650a 2020 2020 2020 2020  h state.        
+0000da00: 2020 2020 706f 7320 3a20 286c 6973 7429      pos : (list)
+0000da10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000da20: 2032 4420 706f 7369 7469 6f6e 2069 6e20   2D position in 
+0000da30: 7069 7865 6c73 2066 726f 6d20 6c65 6674  pixels from left
+0000da40: 2d62 6f74 746f 6d20 636f 726e 6572 0a20  -bottom corner. 
+0000da50: 2020 2020 2020 2020 2020 2073 697a 6520             size 
+0000da60: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
+0000da70: 2020 2020 2020 2020 2020 7369 7a65 206f            size o
+0000da80: 6620 6275 7474 6f6e 2066 6f6e 740a 2020  f button font.  
+0000da90: 2020 2020 2020 2020 2020 666f 6e74 203a            font :
+0000daa0: 2028 7374 7229 0a20 2020 2020 2020 2020   (str).         
+0000dab0: 2020 2020 2020 2066 6f6e 7420 7479 7065         font type
+0000dac0: 2e20 4368 6563 6b20 5b61 7661 696c 6162  . Check [availab
+0000dad0: 6c65 2066 6f6e 7473 2068 6572 655d 2868  le fonts here](h
+0000dae0: 7474 7073 3a2f 2f76 6564 6f2e 656d 626c  ttps://vedo.embl
+0000daf0: 2e65 732f 666f 6e74 7329 2e0a 2020 2020  .es/fonts)..    
+0000db00: 2020 2020 2020 2020 626f 6c64 203a 2028          bold : (
+0000db10: 626f 6f6c 290a 2020 2020 2020 2020 2020  bool).          
+0000db20: 2020 2020 2020 626f 6c64 2066 6f6e 7420        bold font 
+0000db30: 6661 6365 2028 4661 6c73 6529 0a20 2020  face (False).   
+0000db40: 2020 2020 2020 2020 2069 7461 6c69 6320           italic 
+0000db50: 3a20 2862 6f6f 6c29 0a20 2020 2020 2020  : (bool).       
+0000db60: 2020 2020 2020 2020 2069 7461 6c69 6320           italic 
+0000db70: 666f 6e74 2066 6163 6520 2846 616c 7365  font face (False
+0000db80: 290a 2020 2020 2020 2020 2020 2020 616c  ).            al
+0000db90: 7068 6120 3a20 2866 6c6f 6174 290a 2020  pha : (float).  
+0000dba0: 2020 2020 2020 2020 2020 2020 2020 6f70                op
+0000dbb0: 6163 6974 7920 6c65 7665 6c0a 2020 2020  acity level.    
+0000dbc0: 2020 2020 2020 2020 616e 676c 6520 3a20          angle : 
+0000dbd0: 2866 6c6f 6174 290a 2020 2020 2020 2020  (float).        
+0000dbe0: 2020 2020 2020 2020 616e 7469 636c 6f63          anticloc
+0000dbf0: 6b77 6973 6520 726f 7461 7469 6f6e 2069  kwise rotation i
+0000dc00: 6e20 6465 6772 6565 730a 0a20 2020 2020  n degrees..     
+0000dc10: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0000dc20: 2020 2020 2020 2020 6076 6564 6f2e 6164          `vedo.ad
+0000dc30: 646f 6e73 2e42 7574 746f 6e60 206f 626a  dons.Button` obj
+0000dc40: 6563 742e 0a0a 2020 2020 2020 2020 4578  ect...        Ex
+0000dc50: 616d 706c 6573 3a0a 2020 2020 2020 2020  amples:.        
+0000dc60: 2020 2020 2d20 5b62 7574 746f 6e73 2e70      - [buttons.p
+0000dc70: 795d 2868 7474 7073 3a2f 2f67 6974 6875  y](https://githu
+0000dc80: 622e 636f 6d2f 6d61 7263 6f6d 7573 792f  b.com/marcomusy/
+0000dc90: 7665 646f 2f62 6c6f 622f 6d61 7374 6572  vedo/blob/master
+0000dca0: 2f65 7861 6d70 6c65 732f 6261 7369 632f  /examples/basic/
+0000dcb0: 6275 7474 6f6e 732e 7079 290a 0a20 2020  buttons.py)..   
+0000dcc0: 2020 2020 2020 2020 2021 5b5d 2868 7474           ![](htt
+0000dcd0: 7073 3a2f 2f75 7365 722d 696d 6167 6573  ps://user-images
+0000dce0: 2e67 6974 6875 6275 7365 7263 6f6e 7465  .githubuserconte
+0000dcf0: 6e74 2e63 6f6d 2f33 3238 3438 3339 312f  nt.com/32848391/
+0000dd00: 3530 3733 3838 3730 2d63 3066 6532 3530  50738870-c0fe250
+0000dd10: 302d 3131 6438 2d31 3165 392d 3962 3738  0-11d8-11e9-9b78
+0000dd20: 2d39 3237 3534 6635 6335 3936 382e 6a70  -92754f5c5968.jp
+0000dd30: 6729 0a20 2020 2020 2020 2022 2222 0a20  g).        """. 
+0000dd40: 2020 2020 2020 2062 7520 3d20 6164 646f         bu = addo
+0000dd50: 6e73 2e42 7574 746f 6e28 666e 632c 2073  ns.Button(fnc, s
+0000dd60: 7461 7465 732c 2063 2c20 6263 2c20 706f  tates, c, bc, po
+0000dd70: 732c 2073 697a 652c 2066 6f6e 742c 2062  s, size, font, b
+0000dd80: 6f6c 642c 2069 7461 6c69 632c 2061 6c70  old, italic, alp
+0000dd90: 6861 2c20 616e 676c 6529 0a20 2020 2020  ha, angle).     
+0000dda0: 2020 2073 656c 662e 7265 6e64 6572 6572     self.renderer
+0000ddb0: 2e41 6464 4163 746f 7232 4428 6275 2e61  .AddActor2D(bu.a
+0000ddc0: 6374 6f72 290a 2020 2020 2020 2020 7365  ctor).        se
+0000ddd0: 6c66 2e62 7574 746f 6e73 2e61 7070 656e  lf.buttons.appen
+0000dde0: 6428 6275 290a 2020 2020 2020 2020 7265  d(bu).        re
+0000ddf0: 7475 726e 2062 750a 0a20 2020 2064 6566  turn bu..    def
+0000de00: 2061 6464 5f73 706c 696e 655f 746f 6f6c   add_spline_tool
+0000de10: 280a 2020 2020 2020 2020 7365 6c66 2c20  (.        self, 
+0000de20: 706f 696e 7473 2c20 7063 3d22 6b22 2c20  points, pc="k", 
+0000de30: 7073 3d38 2c20 6c63 3d22 7234 222c 2061  ps=8, lc="r4", a
+0000de40: 633d 2267 3522 2c20 6c77 3d32 2c20 636c  c="g5", lw=2, cl
+0000de50: 6f73 6564 3d46 616c 7365 2c20 696e 7465  osed=False, inte
+0000de60: 7261 6374 6976 653d 4661 6c73 650a 2020  ractive=False.  
+0000de70: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
+0000de80: 0a20 2020 2020 2020 2041 6464 2061 2073  .        Add a s
+0000de90: 706c 696e 6520 746f 6f6c 2074 6f20 7468  pline tool to th
+0000dea0: 6520 6375 7272 656e 7420 706c 6f74 7465  e current plotte
+0000deb0: 722e 0a20 2020 2020 2020 204e 6f64 6573  r..        Nodes
+0000dec0: 206f 6620 7468 6520 7370 6c69 6e65 2063   of the spline c
+0000ded0: 616e 2062 6520 6472 6167 6765 6420 696e  an be dragged in
+0000dee0: 2073 7061 6365 2077 6974 6820 7468 6520   space with the 
+0000def0: 6d6f 7573 652e 0a20 2020 2020 2020 2043  mouse..        C
+0000df00: 6c69 636b 696e 6720 6f6e 2074 6865 206c  licking on the l
+0000df10: 696e 6520 6974 7365 6c66 2061 6464 7320  ine itself adds 
+0000df20: 616e 2065 7874 7261 2070 6f69 6e74 2e0a  an extra point..
+0000df30: 2020 2020 2020 2020 5365 6c65 6374 696e          Selectin
+0000df40: 6720 6120 706f 696e 7420 616e 6420 7072  g a point and pr
+0000df50: 6573 7369 6e67 2064 656c 2072 656d 6f76  essing del remov
+0000df60: 6573 2069 742e 0a0a 2020 2020 2020 2020  es it...        
+0000df70: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
+0000df80: 2020 2020 2020 2070 6f69 6e74 7320 3a20         points : 
+0000df90: 284d 6573 682c 2050 6f69 6e74 732c 2061  (Mesh, Points, a
+0000dfa0: 7272 6179 290a 2020 2020 2020 2020 2020  rray).          
+0000dfb0: 2020 2020 2020 7468 6520 7365 7420 6f66        the set of
+0000dfc0: 2076 6572 7469 6365 7320 666f 726d 696e   vertices formin
+0000dfd0: 6720 7468 6520 7370 6c69 6e65 206e 6f64  g the spline nod
+0000dfe0: 6573 2e0a 2020 2020 2020 2020 2020 2020  es..            
+0000dff0: 7063 203a 2028 7374 7229 0a20 2020 2020  pc : (str).     
+0000e000: 2020 2020 2020 2020 2020 2070 6f69 6e74             point
+0000e010: 2063 6f6c 6f72 2e20 5468 6520 6465 6661   color. The defa
+0000e020: 756c 7420 6973 2027 6b27 2e0a 2020 2020  ult is 'k'..    
+0000e030: 2020 2020 2020 2020 7073 203a 2028 7374          ps : (st
+0000e040: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+0000e050: 2020 2070 6f69 6e74 2073 697a 652e 2054     point size. T
+0000e060: 6865 2064 6566 6175 6c74 2069 7320 382e  he default is 8.
+0000e070: 0a20 2020 2020 2020 2020 2020 206c 6320  .            lc 
+0000e080: 3a20 2873 7472 290a 2020 2020 2020 2020  : (str).        
+0000e090: 2020 2020 2020 2020 6c69 6e65 2063 6f6c          line col
+0000e0a0: 6f72 2e20 5468 6520 6465 6661 756c 7420  or. The default 
+0000e0b0: 6973 2027 7234 272e 0a20 2020 2020 2020  is 'r4'..       
+0000e0c0: 2020 2020 2061 6320 3a20 2873 7472 290a       ac : (str).
+0000e0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e0e0: 6163 7469 7665 2070 6f69 6e74 206d 6172  active point mar
+0000e0f0: 6b65 7220 636f 6c6f 722e 2054 6865 2064  ker color. The d
+0000e100: 6566 6175 6c74 2069 7320 2767 3527 2e0a  efault is 'g5'..
+0000e110: 2020 2020 2020 2020 2020 2020 6c77 203a              lw :
+0000e120: 2028 696e 7429 0a20 2020 2020 2020 2020   (int).         
+0000e130: 2020 2020 2020 206c 696e 6520 7769 6474         line widt
+0000e140: 682e 2054 6865 2064 6566 6175 6c74 2069  h. The default i
+0000e150: 7320 322e 0a20 2020 2020 2020 2020 2020  s 2..           
+0000e160: 2063 6c6f 7365 6420 3a20 2862 6f6f 6c29   closed : (bool)
+0000e170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e180: 2073 706c 696e 6520 6973 206d 6561 6e74   spline is meant
+0000e190: 2074 6f20 6265 2063 6c6f 7365 642e 2054   to be closed. T
+0000e1a0: 6865 2064 6566 6175 6c74 2069 7320 4661  he default is Fa
+0000e1b0: 6c73 652e 0a0a 2020 2020 2020 2020 5265  lse...        Re
+0000e1c0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0000e1d0: 2020 2061 2060 5370 6c69 6e65 546f 6f6c     a `SplineTool
+0000e1e0: 6020 6f62 6a65 6374 2e0a 0a20 2020 2020  ` object...     
+0000e1f0: 2020 2045 7861 6d70 6c65 733a 0a20 2020     Examples:.   
+0000e200: 2020 2020 2020 2020 202d 205b 7370 6c69           - [spli
+0000e210: 6e65 5f74 6f6f 6c2e 7079 5d28 6874 7470  ne_tool.py](http
+0000e220: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000e230: 6172 636f 6d75 7379 2f76 6564 6f2f 7472  arcomusy/vedo/tr
+0000e240: 6565 2f6d 6173 7465 722f 6578 616d 706c  ee/master/exampl
+0000e250: 6573 2f62 6173 6963 2f73 706c 696e 655f  es/basic/spline_
+0000e260: 746f 6f6c 2e70 7929 0a0a 2020 2020 2020  tool.py)..      
+0000e270: 2020 2020 2020 215b 5d28 6874 7470 733a        ![](https:
+0000e280: 2f2f 7665 646f 2e65 6d62 6c2e 6573 2f69  //vedo.embl.es/i
+0000e290: 6d61 6765 732f 6261 7369 632f 7370 6c69  mages/basic/spli
+0000e2a0: 6e65 5f74 6f6f 6c2e 706e 6729 0a20 2020  ne_tool.png).   
+0000e2b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000e2c0: 2073 7720 3d20 6164 646f 6e73 2e53 706c   sw = addons.Spl
+0000e2d0: 696e 6554 6f6f 6c28 706f 696e 7473 2c20  ineTool(points, 
+0000e2e0: 7063 2c20 7073 2c20 6c63 2c20 6163 2c20  pc, ps, lc, ac, 
+0000e2f0: 6c77 2c20 636c 6f73 6564 290a 2020 2020  lw, closed).    
+0000e300: 2020 2020 6966 2073 656c 662e 696e 7465      if self.inte
+0000e310: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
+0000e320: 2020 2020 7377 2e53 6574 496e 7465 7261      sw.SetIntera
+0000e330: 6374 6f72 2873 656c 662e 696e 7465 7261  ctor(self.intera
+0000e340: 6374 6f72 290a 2020 2020 2020 2020 656c  ctor).        el
+0000e350: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0000e360: 7665 646f 2e6c 6f67 6765 722e 6572 726f  vedo.logger.erro
+0000e370: 7228 2269 6e20 6164 645f 7370 6c69 6e65  r("in add_spline
+0000e380: 5f74 6f6f 6c28 292c 204e 6f20 696e 7465  _tool(), No inte
+0000e390: 7261 6374 6f72 2066 6f75 6e64 2e22 290a  ractor found.").
+0000e3a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000e3b0: 6520 5275 6e74 696d 6545 7272 6f72 0a20  e RuntimeError. 
+0000e3c0: 2020 2020 2020 2073 772e 4f6e 2829 0a20         sw.On(). 
+0000e3d0: 2020 2020 2020 2073 772e 496e 6974 6961         sw.Initia
+0000e3e0: 6c69 7a65 2873 772e 706f 696e 7473 2e70  lize(sw.points.p
+0000e3f0: 6f6c 7964 6174 6128 2929 0a20 2020 2020  olydata()).     
+0000e400: 2020 2069 6620 7377 2e63 6c6f 7365 643a     if sw.closed:
+0000e410: 0a20 2020 2020 2020 2020 2020 2073 772e  .            sw.
+0000e420: 7265 7072 6573 656e 7461 7469 6f6e 2e43  representation.C
+0000e430: 6c6f 7365 644c 6f6f 704f 6e28 290a 2020  losedLoopOn().  
+0000e440: 2020 2020 2020 7377 2e72 6570 7265 7365        sw.represe
+0000e450: 6e74 6174 696f 6e2e 5365 7452 656e 6465  ntation.SetRende
+0000e460: 7265 7228 7365 6c66 2e72 656e 6465 7265  rer(self.rendere
+0000e470: 7229 0a20 2020 2020 2020 2073 772e 7265  r).        sw.re
+0000e480: 7072 6573 656e 7461 7469 6f6e 2e42 7569  presentation.Bui
+0000e490: 6c64 5265 7072 6573 656e 7461 7469 6f6e  ldRepresentation
+0000e4a0: 2829 0a20 2020 2020 2020 2073 772e 5265  ().        sw.Re
+0000e4b0: 6e64 6572 2829 0a20 2020 2020 2020 2069  nder().        i
+0000e4c0: 6620 696e 7465 7261 6374 6976 653a 0a20  f interactive:. 
+0000e4d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000e4e0: 696e 7465 7261 6374 6f72 2e53 7461 7274  interactor.Start
+0000e4f0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
+0000e500: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000e510: 662e 696e 7465 7261 6374 6f72 2e52 656e  f.interactor.Ren
+0000e520: 6465 7228 290a 2020 2020 2020 2020 7265  der().        re
+0000e530: 7475 726e 2073 770a 0a20 2020 2064 6566  turn sw..    def
+0000e540: 2061 6464 5f69 636f 6e28 7365 6c66 2c20   add_icon(self, 
+0000e550: 6963 6f6e 2c20 706f 733d 332c 2073 697a  icon, pos=3, siz
+0000e560: 653d 302e 3038 293a 0a20 2020 2020 2020  e=0.08):.       
+0000e570: 2022 2222 4164 6420 616e 2069 6e73 6574   """Add an inset
+0000e580: 2069 636f 6e20 6d65 7368 2069 6e74 6f20   icon mesh into 
+0000e590: 7468 6520 7361 6d65 2072 656e 6465 7265  the same rendere
+0000e5a0: 722e 0a0a 2020 2020 2020 2020 4172 6775  r...        Argu
+0000e5b0: 6d65 6e74 733a 0a20 2020 2020 2020 2020  ments:.         
+0000e5c0: 2020 2070 6f73 203a 2028 696e 742c 206c     pos : (int, l
+0000e5d0: 6973 7429 0a20 2020 2020 2020 2020 2020  ist).           
+0000e5e0: 2020 2020 2069 636f 6e20 706f 7369 7469       icon positi
+0000e5f0: 6f6e 2069 6e20 7468 6520 7261 6e67 6520  on in the range 
+0000e600: 5b31 2d34 5d20 696e 6469 6361 7469 6e67  [1-4] indicating
+0000e610: 206f 6e65 206f 6620 7468 6520 3420 636f   one of the 4 co
+0000e620: 726e 6572 732c 0a20 2020 2020 2020 2020  rners,.         
+0000e630: 2020 2020 2020 206f 7220 6974 2063 616e         or it can
+0000e640: 2062 6520 6120 7475 706c 6520 2878 2c79   be a tuple (x,y
+0000e650: 2920 6173 2061 2066 7261 6374 696f 6e20  ) as a fraction 
+0000e660: 6f66 2074 6865 2072 656e 6465 7265 7220  of the renderer 
+0000e670: 7369 7a65 2e0a 2020 2020 2020 2020 2020  size..          
+0000e680: 2020 7369 7a65 203a 2028 666c 6f61 7429    size : (float)
+0000e690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e6a0: 2073 697a 6520 6f66 2074 6865 2073 7175   size of the squ
+0000e6b0: 6172 6520 696e 7365 742e 0a0a 2020 2020  are inset...    
+0000e6c0: 2020 2020 4578 616d 706c 6573 3a0a 2020      Examples:.  
+0000e6d0: 2020 2020 2020 2020 2020 2d20 5b69 636f            - [ico
+0000e6e0: 6e2e 7079 5d28 6874 7470 733a 2f2f 6769  n.py](https://gi
+0000e6f0: 7468 7562 2e63 6f6d 2f6d 6172 636f 6d75  thub.com/marcomu
+0000e700: 7379 2f76 6564 6f2f 7472 6565 2f6d 6173  sy/vedo/tree/mas
+0000e710: 7465 722f 6578 616d 706c 6573 2f6f 7468  ter/examples/oth
+0000e720: 6572 2f69 636f 6e2e 7079 290a 2020 2020  er/icon.py).    
+0000e730: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000e740: 6963 6f6e 7720 3d20 6164 646f 6e73 2e49  iconw = addons.I
+0000e750: 636f 6e28 6963 6f6e 2c20 706f 732c 2073  con(icon, pos, s
+0000e760: 697a 6529 0a0a 2020 2020 2020 2020 6963  ize)..        ic
+0000e770: 6f6e 772e 5365 7449 6e74 6572 6163 746f  onw.SetInteracto
+0000e780: 7228 7365 6c66 2e69 6e74 6572 6163 746f  r(self.interacto
+0000e790: 7229 0a20 2020 2020 2020 2069 636f 6e77  r).        iconw
+0000e7a0: 2e45 6e61 626c 6564 4f6e 2829 0a20 2020  .EnabledOn().   
+0000e7b0: 2020 2020 2069 636f 6e77 2e49 6e74 6572       iconw.Inter
+0000e7c0: 6163 7469 7665 4f66 6628 290a 2020 2020  activeOff().    
+0000e7d0: 2020 2020 7365 6c66 2e77 6964 6765 7473      self.widgets
+0000e7e0: 2e61 7070 656e 6428 6963 6f6e 7729 0a20  .append(iconw). 
+0000e7f0: 2020 2020 2020 2072 6574 7572 6e20 6963         return ic
+0000e800: 6f6e 770a 0a0a 2020 2020 6465 6620 6164  onw...    def ad
+0000e810: 645f 676c 6f62 616c 5f61 7865 7328 7365  d_global_axes(se
+0000e820: 6c66 2c20 6178 7479 7065 3d4e 6f6e 652c  lf, axtype=None,
+0000e830: 2063 3d4e 6f6e 6529 3a0a 2020 2020 2020   c=None):.      
+0000e840: 2020 2222 2244 7261 7720 6178 6573 206f    """Draw axes o
+0000e850: 6e20 7363 656e 652e 2041 7661 696c 6162  n scene. Availab
+0000e860: 6c65 2061 7865 7320 7479 7065 733a 0a0a  le axes types:..
+0000e870: 2020 2020 2020 2020 4172 6775 6d65 6e74          Argument
+0000e880: 733a 0a20 2020 2020 2020 2020 2020 2061  s:.            a
+0000e890: 7874 7970 6520 3a20 2869 6e74 290a 2020  xtype : (int).  
+0000e8a0: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+0000e8b0: 302c 2020 6e6f 2061 7865 732c 0a20 2020  0,  no axes,.   
+0000e8c0: 2020 2020 2020 2020 2020 2020 202d 2031               - 1
+0000e8d0: 2c20 2064 7261 7720 7468 7265 6520 6772  ,  draw three gr
+0000e8e0: 6179 2067 7269 6420 7761 6c6c 730a 2020  ay grid walls.  
+0000e8f0: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+0000e900: 322c 2020 7368 6f77 2063 6172 7465 7369  2,  show cartesi
+0000e910: 616e 2061 7865 7320 6672 6f6d 2028 302c  an axes from (0,
+0000e920: 302c 3029 0a20 2020 2020 2020 2020 2020  0,0).           
+0000e930: 2020 2020 202d 2033 2c20 2073 686f 7720       - 3,  show 
+0000e940: 706f 7369 7469 7665 2072 616e 6765 206f  positive range o
+0000e950: 6620 6361 7274 6573 6961 6e20 6178 6573  f cartesian axes
+0000e960: 2066 726f 6d20 2830 2c30 2c30 290a 2020   from (0,0,0).  
+0000e970: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+0000e980: 342c 2020 7368 6f77 2061 2074 7269 6164  4,  show a triad
+0000e990: 2061 7420 626f 7474 6f6d 206c 6566 740a   at bottom left.
+0000e9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9b0: 2d20 352c 2020 7368 6f77 2061 2063 7562  - 5,  show a cub
+0000e9c0: 6520 6174 2062 6f74 746f 6d20 6c65 6674  e at bottom left
+0000e9d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e9e0: 202d 2036 2c20 206d 6172 6b20 7468 6520   - 6,  mark the 
+0000e9f0: 636f 726e 6572 7320 6f66 2074 6865 2062  corners of the b
+0000ea00: 6f75 6e64 696e 6720 626f 780a 2020 2020  ounding box.    
+0000ea10: 2020 2020 2020 2020 2020 2020 2d20 372c              - 7,
+0000ea20: 2020 6472 6177 2061 2033 4420 7275 6c65    draw a 3D rule
+0000ea30: 7220 6174 2065 6163 6820 7369 6465 206f  r at each side o
+0000ea40: 6620 7468 6520 6361 7274 6573 6961 6e20  f the cartesian 
+0000ea50: 6178 6573 0a20 2020 2020 2020 2020 2020  axes.           
+0000ea60: 2020 2020 202d 2038 2c20 2073 686f 7720       - 8,  show 
+0000ea70: 7468 6520 7674 6b43 7562 6541 7865 7341  the vtkCubeAxesA
+0000ea80: 6374 6f72 206f 626a 6563 740a 2020 2020  ctor object.    
+0000ea90: 2020 2020 2020 2020 2020 2020 2d20 392c              - 9,
+0000eaa0: 2020 7368 6f77 2074 6865 2062 6f75 6e64    show the bound
+0000eab0: 696e 6720 626f 7820 6f75 744c 696e 650a  ing box outLine.
+0000eac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ead0: 2d20 3130 2c20 7368 6f77 2074 6872 6565  - 10, show three
+0000eae0: 2063 6972 636c 6573 2072 6570 7265 7365   circles represe
+0000eaf0: 6e74 696e 6720 7468 6520 6d61 7869 6d75  nting the maximu
+0000eb00: 6d20 626f 756e 6469 6e67 2062 6f78 0a20  m bounding box. 
+0000eb10: 2020 2020 2020 2020 2020 2020 2020 202d                 -
+0000eb20: 2031 312c 2073 686f 7720 6120 6c61 7267   11, show a larg
+0000eb30: 6520 6772 6964 206f 6e20 7468 6520 782d  e grid on the x-
+0000eb40: 7920 706c 616e 650a 2020 2020 2020 2020  y plane.        
+0000eb50: 2020 2020 2020 2020 2d20 3132 2c20 7368          - 12, sh
+0000eb60: 6f77 2070 6f6c 6172 2061 7865 730a 2020  ow polar axes.  
+0000eb70: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+0000eb80: 3133 2c20 6472 6177 2061 2073 696d 706c  13, draw a simpl
+0000eb90: 6520 7275 6c65 7220 6174 2074 6865 2062  e ruler at the b
+0000eba0: 6f74 746f 6d20 6f66 2074 6865 2077 696e  ottom of the win
+0000ebb0: 646f 770a 0a20 2020 2020 2020 2020 2020  dow..           
+0000ebc0: 2041 7869 7320 7479 7065 2d31 2063 616e   Axis type-1 can
+0000ebd0: 2062 6520 6675 6c6c 7920 6375 7374 6f6d   be fully custom
+0000ebe0: 697a 6564 2062 7920 7061 7373 696e 6720  ized by passing 
+0000ebf0: 6120 6469 6374 696f 6e61 7279 2061 7865  a dictionary axe
+0000ec00: 733d 6469 6374 2829 2e0a 0a20 2020 2020  s=dict()...     
+0000ec10: 2020 2045 7861 6d70 6c65 3a0a 2020 2020     Example:.    
+0000ec20: 2020 2020 2020 2020 6060 6070 7974 686f          ```pytho
+0000ec30: 6e0a 2020 2020 2020 2020 2020 2020 6672  n.            fr
+0000ec40: 6f6d 2076 6564 6f20 696d 706f 7274 2042  om vedo import B
+0000ec50: 6f78 2c20 7368 6f77 0a20 2020 2020 2020  ox, show.       
+0000ec60: 2020 2020 2062 203d 2042 6f78 2870 6f73       b = Box(pos
+0000ec70: 3d28 302c 2030 2c20 3029 2c20 6c65 6e67  =(0, 0, 0), leng
+0000ec80: 7468 3d38 302c 2077 6964 7468 3d39 302c  th=80, width=90,
+0000ec90: 2068 6569 6768 743d 3730 292e 616c 7068   height=70).alph
+0000eca0: 6128 302e 3129 0a20 2020 2020 2020 2020  a(0.1).         
+0000ecb0: 2020 2073 686f 7728 0a20 2020 2020 2020     show(.       
+0000ecc0: 2020 2020 2020 2020 2062 2c0a 2020 2020           b,.    
+0000ecd0: 2020 2020 2020 2020 2020 2020 6178 6573              axes
+0000ece0: 3d7b 0a20 2020 2020 2020 2020 2020 2020  ={.             
+0000ecf0: 2020 2020 2020 2022 7874 6974 6c65 223a         "xtitle":
+0000ed00: 2022 536f 6d65 206c 6f6e 6720 7661 7269   "Some long vari
+0000ed10: 6162 6c65 205b 612e 752e 5d22 2c0a 2020  able [a.u.]",.  
+0000ed20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed30: 2020 226e 756d 6265 725f 6f66 5f64 6976    "number_of_div
+0000ed40: 6973 696f 6e73 223a 2034 2c0a 2020 2020  isions": 4,.    
+0000ed50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed60: 2320 2e2e 2e0a 2020 2020 2020 2020 2020  # ....          
+0000ed70: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
+0000ed80: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+0000ed90: 2020 2060 6060 0a0a 2020 2020 2020 2020     ```..        
+0000eda0: 4578 616d 706c 6573 3a0a 2020 2020 2020  Examples:.      
+0000edb0: 2020 2020 2020 2d20 5b63 7573 746f 6d5f        - [custom_
+0000edc0: 6178 6573 312e 7079 5d28 6874 7470 733a  axes1.py](https:
+0000edd0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6172  //github.com/mar
+0000ede0: 636f 6d75 7379 2f76 6564 6f2f 626c 6f62  comusy/vedo/blob
+0000edf0: 2f6d 6173 7465 722f 6578 616d 706c 6573  /master/examples
+0000ee00: 2f70 7970 6c6f 742f 6375 7374 6f6d 5f61  /pyplot/custom_a
+0000ee10: 7865 7331 2e70 7929 0a20 2020 2020 2020  xes1.py).       
+0000ee20: 2020 2020 202d 205b 6375 7374 6f6d 5f61       - [custom_a
+0000ee30: 7865 7332 2e70 795d 2868 7474 7073 3a2f  xes2.py](https:/
+0000ee40: 2f67 6974 6875 622e 636f 6d2f 6d61 7263  /github.com/marc
+0000ee50: 6f6d 7573 792f 7665 646f 2f62 6c6f 622f  omusy/vedo/blob/
+0000ee60: 6d61 7374 6572 2f65 7861 6d70 6c65 732f  master/examples/
+0000ee70: 7079 706c 6f74 2f63 7573 746f 6d5f 6178  pyplot/custom_ax
+0000ee80: 6573 322e 7079 290a 2020 2020 2020 2020  es2.py).        
+0000ee90: 2020 2020 2d20 5b63 7573 746f 6d5f 6178      - [custom_ax
+0000eea0: 6573 332e 7079 5d28 6874 7470 733a 2f2f  es3.py](https://
+0000eeb0: 6769 7468 7562 2e63 6f6d 2f6d 6172 636f  github.com/marco
+0000eec0: 6d75 7379 2f76 6564 6f2f 626c 6f62 2f6d  musy/vedo/blob/m
+0000eed0: 6173 7465 722f 6578 616d 706c 6573 2f70  aster/examples/p
+0000eee0: 7970 6c6f 742f 6375 7374 6f6d 5f61 7865  yplot/custom_axe
+0000eef0: 7333 2e70 7929 0a20 2020 2020 2020 2020  s3.py).         
+0000ef00: 2020 202d 205b 6375 7374 6f6d 5f61 7865     - [custom_axe
+0000ef10: 7334 2e70 795d 2868 7474 7073 3a2f 2f67  s4.py](https://g
+0000ef20: 6974 6875 622e 636f 6d2f 6d61 7263 6f6d  ithub.com/marcom
+0000ef30: 7573 792f 7665 646f 2f62 6c6f 622f 6d61  usy/vedo/blob/ma
+0000ef40: 7374 6572 2f65 7861 6d70 6c65 732f 7079  ster/examples/py
+0000ef50: 706c 6f74 2f63 7573 746f 6d5f 6178 6573  plot/custom_axes
+0000ef60: 342e 7079 290a 0a20 2020 2020 2020 2020  4.py)..         
+0000ef70: 2020 203c 696d 6720 7372 633d 2268 7474     <img src="htt
+0000ef80: 7073 3a2f 2f75 7365 722d 696d 6167 6573  ps://user-images
+0000ef90: 2e67 6974 6875 6275 7365 7263 6f6e 7465  .githubuserconte
+0000efa0: 6e74 2e63 6f6d 2f33 3238 3438 3339 312f  nt.com/32848391/
+0000efb0: 3732 3735 3238 3730 2d61 6237 6435 3238  72752870-ab7d528
+0000efc0: 302d 3362 6333 2d31 3165 612d 3839 3131  0-3bc3-11ea-8911
+0000efd0: 2d39 6163 6530 3032 3131 6532 332e 706e  -9ace00211e23.pn
+0000efe0: 6722 2077 6964 7468 3d22 3630 3022 3e0a  g" width="600">.
+0000eff0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000f000: 2020 2020 6164 646f 6e73 2e61 6464 5f67      addons.add_g
+0000f010: 6c6f 6261 6c5f 6178 6573 2861 7874 7970  lobal_axes(axtyp
+0000f020: 652c 2063 290a 2020 2020 2020 2020 7265  e, c).        re
+0000f030: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+0000f040: 6566 2061 6464 5f6c 6567 656e 645f 626f  ef add_legend_bo
+0000f050: 7828 7365 6c66 2c20 2a2a 6b77 6172 6773  x(self, **kwargs
+0000f060: 293a 0a20 2020 2020 2020 2022 2222 4164  ):.        """Ad
+0000f070: 6420 6120 6c65 6765 6e64 2074 6f20 7468  d a legend to th
+0000f080: 6520 746f 7020 7269 6768 742e 0a0a 2020  e top right...  
+0000f090: 2020 2020 2020 4578 616d 706c 6573 3a0a        Examples:.
+0000f0a0: 2020 2020 2020 2020 2020 2020 2d20 5b6c              - [l
+0000f0b0: 6567 656e 6462 6f78 2e70 795d 2868 7474  egendbox.py](htt
+0000f0c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000f0d0: 6d61 7263 6f6d 7573 792f 7665 646f 2f62  marcomusy/vedo/b
+0000f0e0: 6c6f 622f 6d61 7374 6572 2f65 7861 6d70  lob/master/examp
+0000f0f0: 6c65 732f 6578 616d 706c 6573 2f62 6173  les/examples/bas
+0000f100: 6963 2f6c 6567 656e 6462 6f78 2e70 7929  ic/legendbox.py)
+0000f110: 2c0a 2020 2020 2020 2020 2020 2020 2d20  ,.            - 
+0000f120: 5b66 6c61 675f 6c61 6265 6c73 312e 7079  [flag_labels1.py
+0000f130: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000f140: 2e63 6f6d 2f6d 6172 636f 6d75 7379 2f76  .com/marcomusy/v
+0000f150: 6564 6f2f 626c 6f62 2f6d 6173 7465 722f  edo/blob/master/
+0000f160: 6578 616d 706c 6573 2f65 7861 6d70 6c65  examples/example
+0000f170: 732f 6f74 6865 722f 666c 6167 5f6c 6162  s/other/flag_lab
+0000f180: 656c 7331 2e70 7929 0a20 2020 2020 2020  els1.py).       
+0000f190: 2020 2020 202d 205b 666c 6167 5f6c 6162       - [flag_lab
+0000f1a0: 656c 7332 2e70 795d 2868 7474 7073 3a2f  els2.py](https:/
+0000f1b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7263  /github.com/marc
+0000f1c0: 6f6d 7573 792f 7665 646f 2f62 6c6f 622f  omusy/vedo/blob/
+0000f1d0: 6d61 7374 6572 2f65 7861 6d70 6c65 732f  master/examples/
+0000f1e0: 6578 616d 706c 6573 2f6f 7468 6572 2f66  examples/other/f
+0000f1f0: 6c61 675f 6c61 6265 6c73 322e 7079 290a  lag_labels2.py).
+0000f200: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000f210: 2020 2020 6163 7473 203d 2073 656c 662e      acts = self.
+0000f220: 6765 745f 6d65 7368 6573 2829 0a20 2020  get_meshes().   
+0000f230: 2020 2020 206c 6220 3d20 6164 646f 6e73       lb = addons
+0000f240: 2e4c 6567 656e 6442 6f78 2861 6374 732c  .LegendBox(acts,
+0000f250: 202a 2a6b 7761 7267 7329 0a20 2020 2020   **kwargs).     
+0000f260: 2020 2073 656c 662e 6164 6428 6c62 290a     self.add(lb).
+0000f270: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0000f280: 656c 660a 0a20 2020 2064 6566 2061 6464  elf..    def add
+0000f290: 5f68 696e 7428 0a20 2020 2020 2020 2073  _hint(.        s
+0000f2a0: 656c 662c 0a20 2020 2020 2020 206f 626a  elf,.        obj
+0000f2b0: 2c0a 2020 2020 2020 2020 7465 7874 3d22  ,.        text="
+0000f2c0: 222c 0a20 2020 2020 2020 2063 3d22 6b22  ",.        c="k"
+0000f2d0: 2c0a 2020 2020 2020 2020 6263 3d22 7965  ,.        bc="ye
+0000f2e0: 6c6c 6f77 3822 2c0a 2020 2020 2020 2020  llow8",.        
+0000f2f0: 666f 6e74 3d22 4361 6c63 6f22 2c0a 2020  font="Calco",.  
+0000f300: 2020 2020 2020 7369 7a65 3d31 382c 0a20        size=18,. 
+0000f310: 2020 2020 2020 206a 7573 7469 6679 3d30         justify=0
+0000f320: 2c0a 2020 2020 2020 2020 616e 676c 653d  ,.        angle=
+0000f330: 302c 0a20 2020 2020 2020 2064 656c 6179  0,.        delay
+0000f340: 3d31 3030 2c0a 2020 2020 293a 0a20 2020  =100,.    ):.   
+0000f350: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000f360: 2043 7265 6174 6520 6120 706f 702d 7570   Create a pop-up
+0000f370: 2068 696e 7420 7374 796c 6520 6d65 7373   hint style mess
+0000f380: 6167 6520 7768 656e 2068 6f76 6572 696e  age when hoverin
+0000f390: 6720 616e 206f 626a 6563 742e 0a20 2020  g an object..   
+0000f3a0: 2020 2020 2055 7365 2061 6464 5f68 696e       Use add_hin
+0000f3b0: 7428 4661 6c73 6529 2074 6f20 6469 7361  t(False) to disa
+0000f3c0: 626c 6520 616c 6c20 6869 6e74 732e 0a0a  ble all hints...
+0000f3d0: 2020 2020 2020 2020 4172 6775 6d65 6e74          Argument
+0000f3e0: 733a 0a20 2020 2020 2020 2020 2020 206f  s:.            o
+0000f3f0: 626a 203a 2028 4d65 7368 2c20 506f 696e  bj : (Mesh, Poin
+0000f400: 7473 290a 2020 2020 2020 2020 2020 2020  ts).            
+0000f410: 2020 2020 7468 6520 6f62 6a65 6374 2074      the object t
+0000f420: 6f20 6173 736f 6369 6174 6520 7468 6520  o associate the 
+0000f430: 706f 702d 7570 2074 6f0a 2020 2020 2020  pop-up to.      
+0000f440: 2020 2020 2020 7465 7874 203a 2028 7374        text : (st
+0000f450: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+0000f460: 2020 2073 7472 696e 6720 6465 7363 7269     string descri
+0000f470: 7074 696f 6e20 6f66 2074 6865 2070 6f70  ption of the pop
+0000f480: 2d75 700a 2020 2020 2020 2020 2020 2020  -up.            
+0000f490: 6465 6c61 7920 3a20 2869 6e74 290a 2020  delay : (int).  
+0000f4a0: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
+0000f4b0: 6c6c 6973 6563 6f6e 6473 2074 6f20 7761  lliseconds to wa
+0000f4c0: 6974 2062 6566 6f72 6520 706f 702d 7570  it before pop-up
+0000f4d0: 206f 6363 7572 730a 2020 2020 2020 2020   occurs.        
+0000f4e0: 2222 220a 2020 2020 2020 2020 6966 2073  """.        if s
+0000f4f0: 656c 662e 6f66 6673 6372 6565 6e3a 0a20  elf.offscreen:. 
+0000f500: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000f510: 6e20 7365 6c66 0a0a 2020 2020 2020 2020  n self..        
+0000f520: 6966 2076 6564 6f2e 7674 6b5f 7665 7273  if vedo.vtk_vers
+0000f530: 696f 6e5b 305d 203d 3d20 3920 616e 6420  ion[0] == 9 and 
+0000f540: 224c 696e 7578 2220 696e 2076 6564 6f2e  "Linux" in vedo.
+0000f550: 7379 735f 706c 6174 666f 726d 3a20 2023  sys_platform:  #
+0000f560: 204c 696e 7578 2076 746b 3920 6973 2062   Linux vtk9 is b
+0000f570: 7567 6765 640a 2020 2020 2020 2020 2020  ugged.          
+0000f580: 2020 7665 646f 2e6c 6f67 6765 722e 7761    vedo.logger.wa
+0000f590: 726e 696e 6728 2261 6464 5f68 696e 7428  rning("add_hint(
+0000f5a0: 2920 6973 206e 6f74 2061 7661 696c 6162  ) is not availab
+0000f5b0: 6c65 206f 6e20 4c69 6e75 7820 706c 6174  le on Linux plat
+0000f5c0: 666f 726d 732e 2229 0a20 2020 2020 2020  forms.").       
+0000f5d0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000f5e0: 0a0a 2020 2020 2020 2020 6966 206f 626a  ..        if obj
+0000f5f0: 2069 7320 4661 6c73 653a 0a20 2020 2020   is False:.     
+0000f600: 2020 2020 2020 2073 656c 662e 6869 6e74         self.hint
+0000f610: 5f77 6964 6765 742e 456e 6162 6c65 644f  _widget.EnabledO
+0000f620: 6666 2829 0a20 2020 2020 2020 2020 2020  ff().           
+0000f630: 2073 656c 662e 6869 6e74 5f77 6964 6765   self.hint_widge
+0000f640: 7420 3d20 4e6f 6e65 0a20 2020 2020 2020  t = None.       
+0000f650: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000f660: 0a0a 2020 2020 2020 2020 6966 2074 6578  ..        if tex
+0000f670: 7420 6973 2046 616c 7365 2061 6e64 2073  t is False and s
+0000f680: 656c 662e 6869 6e74 5f77 6964 6765 743a  elf.hint_widget:
+0000f690: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000f6a0: 662e 6869 6e74 5f77 6964 6765 742e 5265  f.hint_widget.Re
+0000f6b0: 6d6f 7665 4261 6c6c 6f6f 6e28 6f62 6a29  moveBalloon(obj)
+0000f6c0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0000f6d0: 7572 6e20 7365 6c66 0a0a 2020 2020 2020  urn self..      
+0000f6e0: 2020 6966 2074 6578 7420 3d3d 2022 223a    if text == "":
+0000f6f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000f700: 6f62 6a2e 6e61 6d65 3a0a 2020 2020 2020  obj.name:.      
+0000f710: 2020 2020 2020 2020 2020 7465 7874 203d            text =
+0000f720: 206f 626a 2e6e 616d 650a 2020 2020 2020   obj.name.      
+0000f730: 2020 2020 2020 656c 6966 206f 626a 2e66        elif obj.f
+0000f740: 696c 656e 616d 653a 0a20 2020 2020 2020  ilename:.       
+0000f750: 2020 2020 2020 2020 2074 6578 7420 3d20           text = 
+0000f760: 6f62 6a2e 6669 6c65 6e61 6d65 0a20 2020  obj.filename.   
+0000f770: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000f780: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000f790: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+0000f7a0: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
+0000f7b0: 6869 6e74 5f77 6964 6765 743a 0a20 2020  hint_widget:.   
+0000f7c0: 2020 2020 2020 2020 2073 656c 662e 6869           self.hi
+0000f7d0: 6e74 5f77 6964 6765 7420 3d20 7674 6b2e  nt_widget = vtk.
+0000f7e0: 7674 6b42 616c 6c6f 6f6e 5769 6467 6574  vtkBalloonWidget
+0000f7f0: 2829 0a0a 2020 2020 2020 2020 2020 2020  ()..            
+0000f800: 7265 7020 3d20 7674 6b2e 7674 6b42 616c  rep = vtk.vtkBal
+0000f810: 6c6f 6f6e 5265 7072 6573 656e 7461 7469  loonRepresentati
+0000f820: 6f6e 2829 0a20 2020 2020 2020 2020 2020  on().           
+0000f830: 2072 6570 2e53 6574 4261 6c6c 6f6f 6e4c   rep.SetBalloonL
+0000f840: 6179 6f75 7454 6f49 6d61 6765 5269 6768  ayoutToImageRigh
+0000f850: 7428 290a 0a20 2020 2020 2020 2020 2020  t()..           
+0000f860: 2074 7265 7020 3d20 7265 702e 4765 7454   trep = rep.GetT
+0000f870: 6578 7450 726f 7065 7274 7928 290a 2020  extProperty().  
+0000f880: 2020 2020 2020 2020 2020 7472 6570 2e53            trep.S
+0000f890: 6574 466f 6e74 4661 6d69 6c79 2876 746b  etFontFamily(vtk
+0000f8a0: 2e56 544b 5f46 4f4e 545f 4649 4c45 290a  .VTK_FONT_FILE).
+0000f8b0: 2020 2020 2020 2020 2020 2020 7472 6570              trep
+0000f8c0: 2e53 6574 466f 6e74 4669 6c65 2875 7469  .SetFontFile(uti
+0000f8d0: 6c73 2e67 6574 5f66 6f6e 745f 7061 7468  ls.get_font_path
+0000f8e0: 2866 6f6e 7429 290a 2020 2020 2020 2020  (font)).        
+0000f8f0: 2020 2020 7472 6570 2e53 6574 466f 6e74      trep.SetFont
+0000f900: 5369 7a65 2873 697a 6529 0a20 2020 2020  Size(size).     
+0000f910: 2020 2020 2020 2074 7265 702e 5365 7443         trep.SetC
+0000f920: 6f6c 6f72 2876 6564 6f2e 6765 745f 636f  olor(vedo.get_co
+0000f930: 6c6f 7228 6329 290a 2020 2020 2020 2020  lor(c)).        
+0000f940: 2020 2020 7472 6570 2e53 6574 4261 636b      trep.SetBack
+0000f950: 6772 6f75 6e64 436f 6c6f 7228 7665 646f  groundColor(vedo
+0000f960: 2e67 6574 5f63 6f6c 6f72 2862 6329 290a  .get_color(bc)).
+0000f970: 2020 2020 2020 2020 2020 2020 7472 6570              trep
+0000f980: 2e53 6574 5368 6164 6f77 2846 616c 7365  .SetShadow(False
+0000f990: 290a 2020 2020 2020 2020 2020 2020 7472  ).            tr
+0000f9a0: 6570 2e53 6574 4a75 7374 6966 6963 6174  ep.SetJustificat
+0000f9b0: 696f 6e28 6a75 7374 6966 7929 0a20 2020  ion(justify).   
+0000f9c0: 2020 2020 2020 2020 2074 7265 702e 5573           trep.Us
+0000f9d0: 6554 6967 6874 426f 756e 6469 6e67 426f  eTightBoundingBo
+0000f9e0: 784f 6e28 290a 0a20 2020 2020 2020 2020  xOn()..         
+0000f9f0: 2020 2073 656c 662e 6869 6e74 5f77 6964     self.hint_wid
+0000fa00: 6765 742e 4d61 6e61 6765 7343 7572 736f  get.ManagesCurso
+0000fa10: 724f 6666 2829 0a20 2020 2020 2020 2020  rOff().         
+0000fa20: 2020 2073 656c 662e 6869 6e74 5f77 6964     self.hint_wid
+0000fa30: 6765 742e 5365 7454 696d 6572 4475 7261  get.SetTimerDura
+0000fa40: 7469 6f6e 2864 656c 6179 290a 2020 2020  tion(delay).    
+0000fa50: 2020 2020 2020 2020 7365 6c66 2e68 696e          self.hin
+0000fa60: 745f 7769 6467 6574 2e53 6574 496e 7465  t_widget.SetInte
+0000fa70: 7261 6374 6f72 2873 656c 662e 696e 7465  ractor(self.inte
+0000fa80: 7261 6374 6f72 290a 2020 2020 2020 2020  ractor).        
+0000fa90: 2020 2020 6966 2061 6e67 6c65 3a0a 2020      if angle:.  
+0000faa0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000fab0: 702e 5365 744f 7269 656e 7461 7469 6f6e  p.SetOrientation
+0000fac0: 2861 6e67 6c65 290a 2020 2020 2020 2020  (angle).        
+0000fad0: 2020 2020 2020 2020 7265 702e 5365 7442          rep.SetB
+0000fae0: 6163 6b67 726f 756e 644f 7061 6369 7479  ackgroundOpacity
+0000faf0: 2830 290a 2020 2020 2020 2020 2020 2020  (0).            
+0000fb00: 7365 6c66 2e68 696e 745f 7769 6467 6574  self.hint_widget
+0000fb10: 2e53 6574 5265 7072 6573 656e 7461 7469  .SetRepresentati
+0000fb20: 6f6e 2872 6570 290a 2020 2020 2020 2020  on(rep).        
+0000fb30: 2020 2020 7365 6c66 2e77 6964 6765 7473      self.widgets
+0000fb40: 2e61 7070 656e 6428 7365 6c66 2e68 696e  .append(self.hin
+0000fb50: 745f 7769 6467 6574 290a 2020 2020 2020  t_widget).      
+0000fb60: 2020 2020 2020 6966 2073 656c 662e 696e        if self.in
+0000fb70: 7465 7261 6374 6f72 2e47 6574 496e 6974  teractor.GetInit
+0000fb80: 6961 6c69 7a65 6428 293a 0a20 2020 2020  ialized():.     
+0000fb90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000fba0: 6869 6e74 5f77 6964 6765 742e 456e 6162  hint_widget.Enab
+0000fbb0: 6c65 644f 6e28 290a 2020 2020 2020 2020  ledOn().        
+0000fbc0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000fbd0: 2020 2020 2020 2020 2020 7665 646f 2e6c            vedo.l
+0000fbe0: 6f67 6765 722e 7761 726e 696e 6728 2261  ogger.warning("a
+0000fbf0: 6464 5f68 696e 7428 2920 6d75 7374 2062  dd_hint() must b
+0000fc00: 6520 6361 6c6c 6564 2061 6674 6572 2073  e called after s
+0000fc10: 686f 7728 292e 2053 6b69 702e 2229 0a20  how(). Skip."). 
+0000fc20: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000fc30: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+0000fc40: 2020 2020 6273 7420 3d20 7365 6c66 2e68      bst = self.h
+0000fc50: 696e 745f 7769 6467 6574 2e47 6574 4261  int_widget.GetBa
+0000fc60: 6c6c 6f6f 6e53 7472 696e 6728 6f62 6a29  lloonString(obj)
+0000fc70: 0a20 2020 2020 2020 2069 6620 6273 743a  .        if bst:
+0000fc80: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000fc90: 662e 6869 6e74 5f77 6964 6765 742e 5570  f.hint_widget.Up
+0000fca0: 6461 7465 4261 6c6c 6f6f 6e53 7472 696e  dateBalloonStrin
+0000fcb0: 6728 6f62 6a2c 2074 6578 7429 0a20 2020  g(obj, text).   
+0000fcc0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0000fcd0: 2020 2020 2020 2073 656c 662e 6869 6e74         self.hint
+0000fce0: 5f77 6964 6765 742e 4164 6442 616c 6c6f  _widget.AddBallo
+0000fcf0: 6f6e 286f 626a 2c20 7465 7874 290a 0a20  on(obj, text).. 
+0000fd00: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0000fd10: 6c66 0a0a 0a20 2020 2064 6566 2061 6464  lf...    def add
+0000fd20: 5f73 6861 646f 7773 2873 656c 6629 3a0a  _shadows(self):.
+0000fd30: 2020 2020 2020 2020 2222 2241 6464 2073          """Add s
+0000fd40: 6861 646f 7773 2061 7420 7468 6520 6375  hadows at the cu
+0000fd50: 7272 656e 7420 7265 6e64 6572 6572 2e22  rrent renderer."
+0000fd60: 2222 0a20 2020 2020 2020 2073 6861 646f  "".        shado
+0000fd70: 7773 203d 2076 746b 2e76 746b 5368 6164  ws = vtk.vtkShad
+0000fd80: 6f77 4d61 7050 6173 7328 290a 2020 2020  owMapPass().    
+0000fd90: 2020 2020 7365 7120 3d20 7674 6b2e 7674      seq = vtk.vt
+0000fda0: 6b53 6571 7565 6e63 6550 6173 7328 290a  kSequencePass().
+0000fdb0: 2020 2020 2020 2020 7061 7373 6573 203d          passes =
+0000fdc0: 2076 746b 2e76 746b 5265 6e64 6572 5061   vtk.vtkRenderPa
+0000fdd0: 7373 436f 6c6c 6563 7469 6f6e 2829 0a20  ssCollection(). 
+0000fde0: 2020 2020 2020 2070 6173 7365 732e 4164         passes.Ad
+0000fdf0: 6449 7465 6d28 7368 6164 6f77 732e 4765  dItem(shadows.Ge
+0000fe00: 7453 6861 646f 774d 6170 4261 6b65 7250  tShadowMapBakerP
+0000fe10: 6173 7328 2929 0a20 2020 2020 2020 2070  ass()).        p
+0000fe20: 6173 7365 732e 4164 6449 7465 6d28 7368  asses.AddItem(sh
+0000fe30: 6164 6f77 7329 0a20 2020 2020 2020 2073  adows).        s
+0000fe40: 6571 2e53 6574 5061 7373 6573 2870 6173  eq.SetPasses(pas
+0000fe50: 7365 7329 0a20 2020 2020 2020 2063 616d  ses).        cam
+0000fe60: 6572 6170 6173 7320 3d20 7674 6b2e 7674  erapass = vtk.vt
+0000fe70: 6b43 616d 6572 6150 6173 7328 290a 2020  kCameraPass().  
+0000fe80: 2020 2020 2020 6361 6d65 7261 7061 7373        camerapass
+0000fe90: 2e53 6574 4465 6c65 6761 7465 5061 7373  .SetDelegatePass
+0000fea0: 2873 6571 290a 2020 2020 2020 2020 7365  (seq).        se
+0000feb0: 6c66 2e72 656e 6465 7265 722e 5365 7450  lf.renderer.SetP
+0000fec0: 6173 7328 6361 6d65 7261 7061 7373 290a  ass(camerapass).
+0000fed0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0000fee0: 656c 660a 0a20 2020 2064 6566 2061 6464  elf..    def add
+0000fef0: 5f61 6d62 6965 6e74 5f6f 6363 6c75 7369  _ambient_occlusi
+0000ff00: 6f6e 2873 656c 662c 2072 6164 6975 732c  on(self, radius,
+0000ff10: 2062 6961 733d 302e 3031 2c20 626c 7572   bias=0.01, blur
+0000ff20: 3d54 7275 652c 2073 616d 706c 6573 3d31  =True, samples=1
+0000ff30: 3030 293a 0a20 2020 2020 2020 2022 2222  00):.        """
+0000ff40: 0a20 2020 2020 2020 2053 6372 6565 6e20  .        Screen 
+0000ff50: 5370 6163 6520 416d 6269 656e 7420 4f63  Space Ambient Oc
+0000ff60: 636c 7573 696f 6e2e 0a0a 2020 2020 2020  clusion...      
+0000ff70: 2020 466f 7220 6576 6572 7920 7069 7865    For every pixe
+0000ff80: 6c20 6f6e 2074 6865 2073 6372 6565 6e2c  l on the screen,
+0000ff90: 2074 6865 2070 6978 656c 2073 6861 6465   the pixel shade
+0000ffa0: 7220 7361 6d70 6c65 7320 7468 6520 6465  r samples the de
+0000ffb0: 7074 6820 7661 6c75 6573 2061 726f 756e  pth values aroun
+0000ffc0: 640a 2020 2020 2020 2020 7468 6520 6375  d.        the cu
+0000ffd0: 7272 656e 7420 7069 7865 6c20 616e 6420  rrent pixel and 
+0000ffe0: 7472 6965 7320 746f 2063 6f6d 7075 7465  tries to compute
+0000fff0: 2074 6865 2061 6d6f 756e 7420 6f66 206f   the amount of o
+00010000: 6363 6c75 7369 6f6e 2066 726f 6d20 6561  cclusion from ea
+00010010: 6368 206f 6620 7468 6520 7361 6d70 6c65  ch of the sample
+00010020: 640a 2020 2020 2020 2020 706f 696e 7473  d.        points
+00010030: 2e0a 0a20 2020 2020 2020 2041 7267 756d  ...        Argum
+00010040: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
+00010050: 2020 7261 6469 7573 203a 2028 666c 6f61    radius : (floa
+00010060: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
+00010070: 2020 2072 6164 6975 7320 6f66 2069 6e66     radius of inf
+00010080: 6c75 656e 6365 2069 6e20 6162 736f 6c75  luence in absolu
+00010090: 7465 2075 6e69 7473 0a20 2020 2020 2020  te units.       
+000100a0: 2020 2020 2062 6961 7320 3a20 2866 6c6f       bias : (flo
+000100b0: 6174 290a 2020 2020 2020 2020 2020 2020  at).            
+000100c0: 2020 2020 6269 6173 206f 6620 7468 6520      bias of the 
+000100d0: 6e6f 726d 616c 730a 2020 2020 2020 2020  normals.        
+000100e0: 2020 2020 626c 7572 203a 2028 626f 6f6c      blur : (bool
+000100f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00010100: 2020 6164 6420 6120 626c 7572 7269 6e67    add a blurring
+00010110: 2074 6f20 7468 6520 7361 6d70 6c65 6420   to the sampled 
+00010120: 706f 7369 7469 6f6e 730a 2020 2020 2020  positions.      
+00010130: 2020 2020 2020 7361 6d70 6c65 7320 3a20        samples : 
+00010140: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+00010150: 2020 2020 2020 6e75 6d62 6572 206f 6620        number of 
+00010160: 7361 6d70 6c65 7320 746f 2070 726f 6265  samples to probe
+00010170: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
+00010180: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00010190: 2d20 5b73 7361 6f2e 7079 5d28 6874 7470  - [ssao.py](http
+000101a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000101b0: 6172 636f 6d75 7379 2f76 6564 6f2f 7472  arcomusy/vedo/tr
+000101c0: 6565 2f6d 6173 7465 722f 6578 616d 706c  ee/master/exampl
+000101d0: 6573 2f62 6173 6963 2f73 7361 6f2e 7079  es/basic/ssao.py
+000101e0: 290a 0a20 2020 2020 2020 2020 2020 2021  )..            !
+000101f0: 5b5d 2868 7474 7073 3a2f 2f76 6564 6f2e  [](https://vedo.
+00010200: 656d 626c 2e65 732f 696d 6167 6573 2f62  embl.es/images/b
+00010210: 6173 6963 2f73 7361 6f2e 6a70 6729 0a20  asic/ssao.jpg). 
+00010220: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010230: 2020 206c 6967 6874 7320 3d20 7674 6b2e     lights = vtk.
+00010240: 7674 6b4c 6967 6874 7350 6173 7328 290a  vtkLightsPass().
+00010250: 0a20 2020 2020 2020 206f 7061 7175 6520  .        opaque 
+00010260: 3d20 7674 6b2e 7674 6b4f 7061 7175 6550  = vtk.vtkOpaqueP
+00010270: 6173 7328 290a 0a20 2020 2020 2020 2073  ass()..        s
+00010280: 7361 6f43 616d 203d 2076 746b 2e76 746b  saoCam = vtk.vtk
+00010290: 4361 6d65 7261 5061 7373 2829 0a20 2020  CameraPass().   
+000102a0: 2020 2020 2073 7361 6f43 616d 2e53 6574       ssaoCam.Set
+000102b0: 4465 6c65 6761 7465 5061 7373 286f 7061  DelegatePass(opa
+000102c0: 7175 6529 0a0a 2020 2020 2020 2020 7373  que)..        ss
+000102d0: 616f 203d 2076 746b 2e76 746b 5353 414f  ao = vtk.vtkSSAO
+000102e0: 5061 7373 2829 0a20 2020 2020 2020 2073  Pass().        s
+000102f0: 7361 6f2e 5365 7452 6164 6975 7328 7261  sao.SetRadius(ra
+00010300: 6469 7573 290a 2020 2020 2020 2020 7373  dius).        ss
+00010310: 616f 2e53 6574 4269 6173 2862 6961 7329  ao.SetBias(bias)
+00010320: 0a20 2020 2020 2020 2073 7361 6f2e 5365  .        ssao.Se
+00010330: 7442 6c75 7228 626c 7572 290a 2020 2020  tBlur(blur).    
+00010340: 2020 2020 7373 616f 2e53 6574 4b65 726e      ssao.SetKern
+00010350: 656c 5369 7a65 2873 616d 706c 6573 290a  elSize(samples).
+00010360: 2020 2020 2020 2020 7373 616f 2e53 6574          ssao.Set
+00010370: 4465 6c65 6761 7465 5061 7373 2873 7361  DelegatePass(ssa
+00010380: 6f43 616d 290a 0a20 2020 2020 2020 2074  oCam)..        t
+00010390: 7261 6e73 6c75 6365 6e74 203d 2076 746b  ranslucent = vtk
+000103a0: 2e76 746b 5472 616e 736c 7563 656e 7450  .vtkTranslucentP
+000103b0: 6173 7328 290a 0a20 2020 2020 2020 2076  ass()..        v
+000103c0: 6f6c 7061 7373 203d 2076 746b 2e76 746b  olpass = vtk.vtk
+000103d0: 566f 6c75 6d65 7472 6963 5061 7373 2829  VolumetricPass()
+000103e0: 0a20 2020 2020 2020 2064 6470 203d 2076  .        ddp = v
+000103f0: 746b 2e76 746b 4475 616c 4465 7074 6850  tk.vtkDualDepthP
+00010400: 6565 6c69 6e67 5061 7373 2829 0a20 2020  eelingPass().   
+00010410: 2020 2020 2064 6470 2e53 6574 5472 616e       ddp.SetTran
+00010420: 736c 7563 656e 7450 6173 7328 7472 616e  slucentPass(tran
+00010430: 736c 7563 656e 7429 0a20 2020 2020 2020  slucent).       
+00010440: 2064 6470 2e53 6574 566f 6c75 6d65 7472   ddp.SetVolumetr
+00010450: 6963 5061 7373 2876 6f6c 7061 7373 290a  icPass(volpass).
+00010460: 0a20 2020 2020 2020 206f 7665 7220 3d20  .        over = 
+00010470: 7674 6b2e 7674 6b4f 7665 726c 6179 5061  vtk.vtkOverlayPa
+00010480: 7373 2829 0a0a 2020 2020 2020 2020 636f  ss()..        co
+00010490: 6c6c 6563 7469 6f6e 203d 2076 746b 2e76  llection = vtk.v
+000104a0: 746b 5265 6e64 6572 5061 7373 436f 6c6c  tkRenderPassColl
+000104b0: 6563 7469 6f6e 2829 0a20 2020 2020 2020  ection().       
+000104c0: 2063 6f6c 6c65 6374 696f 6e2e 4164 6449   collection.AddI
+000104d0: 7465 6d28 6c69 6768 7473 290a 2020 2020  tem(lights).    
+000104e0: 2020 2020 636f 6c6c 6563 7469 6f6e 2e41      collection.A
+000104f0: 6464 4974 656d 2873 7361 6f29 0a20 2020  ddItem(ssao).   
+00010500: 2020 2020 2063 6f6c 6c65 6374 696f 6e2e       collection.
+00010510: 4164 6449 7465 6d28 6464 7029 0a20 2020  AddItem(ddp).   
+00010520: 2020 2020 2063 6f6c 6c65 6374 696f 6e2e       collection.
+00010530: 4164 6449 7465 6d28 6f76 6572 290a 0a20  AddItem(over).. 
+00010540: 2020 2020 2020 2073 6571 7565 6e63 6520         sequence 
+00010550: 3d20 7674 6b2e 7674 6b53 6571 7565 6e63  = vtk.vtkSequenc
+00010560: 6550 6173 7328 290a 2020 2020 2020 2020  ePass().        
+00010570: 7365 7175 656e 6365 2e53 6574 5061 7373  sequence.SetPass
+00010580: 6573 2863 6f6c 6c65 6374 696f 6e29 0a0a  es(collection)..
+00010590: 2020 2020 2020 2020 6361 6d20 3d20 7674          cam = vt
+000105a0: 6b2e 7674 6b43 616d 6572 6150 6173 7328  k.vtkCameraPass(
+000105b0: 290a 2020 2020 2020 2020 6361 6d2e 5365  ).        cam.Se
+000105c0: 7444 656c 6567 6174 6550 6173 7328 7365  tDelegatePass(se
+000105d0: 7175 656e 6365 290a 0a20 2020 2020 2020  quence)..       
+000105e0: 2073 656c 662e 7265 6e64 6572 6572 2e53   self.renderer.S
+000105f0: 6574 5061 7373 2863 616d 290a 2020 2020  etPass(cam).    
+00010600: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+00010610: 0a20 2020 2064 6566 2061 6464 5f64 6570  .    def add_dep
+00010620: 7468 5f6f 665f 6669 656c 6428 7365 6c66  th_of_field(self
+00010630: 2c20 6175 746f 666f 6375 733d 5472 7565  , autofocus=True
+00010640: 293a 0a20 2020 2020 2020 2022 2222 4164  ):.        """Ad
+00010650: 6420 6120 6465 7074 6820 6f66 2066 6965  d a depth of fie
+00010660: 6c64 2065 6666 6563 7420 696e 2074 6865  ld effect in the
+00010670: 2073 6365 6e65 2e22 2222 0a20 2020 2020   scene.""".     
+00010680: 2020 206c 6967 6874 7320 3d20 7674 6b2e     lights = vtk.
+00010690: 7674 6b4c 6967 6874 7350 6173 7328 290a  vtkLightsPass().
+000106a0: 0a20 2020 2020 2020 206f 7061 7175 6520  .        opaque 
+000106b0: 3d20 7674 6b2e 7674 6b4f 7061 7175 6550  = vtk.vtkOpaqueP
+000106c0: 6173 7328 290a 0a20 2020 2020 2020 2064  ass()..        d
+000106d0: 6f66 4361 6d20 3d20 7674 6b2e 7674 6b43  ofCam = vtk.vtkC
+000106e0: 616d 6572 6150 6173 7328 290a 2020 2020  ameraPass().    
+000106f0: 2020 2020 646f 6643 616d 2e53 6574 4465      dofCam.SetDe
+00010700: 6c65 6761 7465 5061 7373 286f 7061 7175  legatePass(opaqu
+00010710: 6529 0a0a 2020 2020 2020 2020 646f 6620  e)..        dof 
+00010720: 3d20 7674 6b2e 7674 6b44 6570 7468 4f66  = vtk.vtkDepthOf
+00010730: 4669 656c 6450 6173 7328 290a 2020 2020  FieldPass().    
+00010740: 2020 2020 646f 662e 5365 7441 7574 6f6d      dof.SetAutom
+00010750: 6174 6963 466f 6361 6c44 6973 7461 6e63  aticFocalDistanc
+00010760: 6528 6175 746f 666f 6375 7329 0a20 2020  e(autofocus).   
+00010770: 2020 2020 2064 6f66 2e53 6574 4465 6c65       dof.SetDele
+00010780: 6761 7465 5061 7373 2864 6f66 4361 6d29  gatePass(dofCam)
+00010790: 0a0a 2020 2020 2020 2020 636f 6c6c 6563  ..        collec
+000107a0: 7469 6f6e 203d 2076 746b 2e76 746b 5265  tion = vtk.vtkRe
+000107b0: 6e64 6572 5061 7373 436f 6c6c 6563 7469  nderPassCollecti
+000107c0: 6f6e 2829 0a20 2020 2020 2020 2063 6f6c  on().        col
+000107d0: 6c65 6374 696f 6e2e 4164 6449 7465 6d28  lection.AddItem(
+000107e0: 6c69 6768 7473 290a 2020 2020 2020 2020  lights).        
+000107f0: 636f 6c6c 6563 7469 6f6e 2e41 6464 4974  collection.AddIt
+00010800: 656d 2864 6f66 290a 0a20 2020 2020 2020  em(dof)..       
+00010810: 2073 6571 7565 6e63 6520 3d20 7674 6b2e   sequence = vtk.
+00010820: 7674 6b53 6571 7565 6e63 6550 6173 7328  vtkSequencePass(
+00010830: 290a 2020 2020 2020 2020 7365 7175 656e  ).        sequen
+00010840: 6365 2e53 6574 5061 7373 6573 2863 6f6c  ce.SetPasses(col
+00010850: 6c65 6374 696f 6e29 0a0a 2020 2020 2020  lection)..      
+00010860: 2020 6361 6d20 3d20 7674 6b2e 7674 6b43    cam = vtk.vtkC
+00010870: 616d 6572 6150 6173 7328 290a 2020 2020  ameraPass().    
+00010880: 2020 2020 6361 6d2e 5365 7444 656c 6567      cam.SetDeleg
+00010890: 6174 6550 6173 7328 7365 7175 656e 6365  atePass(sequence
+000108a0: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+000108b0: 7265 6e64 6572 6572 2e53 6574 5061 7373  renderer.SetPass
+000108c0: 2863 616d 290a 2020 2020 2020 2020 7265  (cam).        re
+000108d0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+000108e0: 6566 205f 6164 645f 736b 7962 6f78 2873  ef _add_skybox(s
+000108f0: 656c 662c 2068 6472 6669 6c65 293a 0a20  elf, hdrfile):. 
+00010900: 2020 2020 2020 2023 206d 616e 7920 6864         # many hd
+00010910: 7220 6669 6c65 7320 6172 6520 6174 2068  r files are at h
+00010920: 7474 7073 3a2f 2f70 6f6c 7968 6176 656e  ttps://polyhaven
+00010930: 2e63 6f6d 2f61 6c6c 0a0a 2020 2020 2020  .com/all..      
+00010940: 2020 6966 2075 7469 6c73 2e76 746b 5f76    if utils.vtk_v
+00010950: 6572 7369 6f6e 5f61 745f 6c65 6173 7428  ersion_at_least(
+00010960: 3929 3a0a 2020 2020 2020 2020 2020 2020  9):.            
+00010970: 7265 6164 6572 203d 2076 746b 2e76 746b  reader = vtk.vtk
+00010980: 4844 5252 6561 6465 7228 290a 2020 2020  HDRReader().    
+00010990: 2020 2020 2020 2020 2320 4368 6563 6b20          # Check 
+000109a0: 7468 6520 696d 6167 6520 6361 6e20 6265  the image can be
+000109b0: 2072 6561 642e 0a20 2020 2020 2020 2020   read..         
+000109c0: 2020 2069 6620 6e6f 7420 7265 6164 6572     if not reader
+000109d0: 2e43 616e 5265 6164 4669 6c65 2868 6472  .CanReadFile(hdr
+000109e0: 6669 6c65 293a 0a20 2020 2020 2020 2020  file):.         
+000109f0: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
+00010a00: 6572 2e65 7272 6f72 2866 2243 616e 6e6f  er.error(f"Canno
+00010a10: 7420 7265 6164 2048 4452 2066 696c 6520  t read HDR file 
+00010a20: 7b68 6472 6669 6c65 7d22 290a 2020 2020  {hdrfile}").    
+00010a30: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00010a40: 726e 2073 656c 660a 2020 2020 2020 2020  rn self.        
+00010a50: 2020 2020 7265 6164 6572 2e53 6574 4669      reader.SetFi
+00010a60: 6c65 4e61 6d65 2868 6472 6669 6c65 290a  leName(hdrfile).
+00010a70: 2020 2020 2020 2020 2020 2020 7265 6164              read
+00010a80: 6572 2e55 7064 6174 6528 290a 0a20 2020  er.Update()..   
+00010a90: 2020 2020 2020 2020 2074 6578 7475 7265           texture
+00010aa0: 203d 2076 746b 2e76 746b 5465 7874 7572   = vtk.vtkTextur
+00010ab0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
+00010ac0: 7465 7874 7572 652e 5365 7443 6f6c 6f72  texture.SetColor
+00010ad0: 4d6f 6465 546f 4469 7265 6374 5363 616c  ModeToDirectScal
+00010ae0: 6172 7328 290a 2020 2020 2020 2020 2020  ars().          
+00010af0: 2020 7465 7874 7572 652e 5365 7449 6e70    texture.SetInp
+00010b00: 7574 4461 7461 2872 6561 6465 722e 4765  utData(reader.Ge
+00010b10: 744f 7574 7075 7428 2929 0a0a 2020 2020  tOutput())..    
+00010b20: 2020 2020 2020 2020 2320 436f 6e76 6572          # Conver
+00010b30: 7420 746f 2061 2063 7562 6520 6d61 700a  t to a cube map.
+00010b40: 2020 2020 2020 2020 2020 2020 7463 6d20              tcm 
+00010b50: 3d20 7674 6b2e 7674 6b45 7175 6972 6563  = vtk.vtkEquirec
+00010b60: 7461 6e67 756c 6172 546f 4375 6265 4d61  tangularToCubeMa
+00010b70: 7054 6578 7475 7265 2829 0a20 2020 2020  pTexture().     
+00010b80: 2020 2020 2020 2074 636d 2e53 6574 496e         tcm.SetIn
+00010b90: 7075 7454 6578 7475 7265 2874 6578 7475  putTexture(textu
+00010ba0: 7265 290a 2020 2020 2020 2020 2020 2020  re).            
+00010bb0: 2320 456e 6162 6c65 206d 6970 6d61 7070  # Enable mipmapp
+00010bc0: 696e 6720 746f 2068 616e 646c 6520 4844  ing to handle HD
+00010bd0: 5220 696d 6167 650a 2020 2020 2020 2020  R image.        
+00010be0: 2020 2020 7463 6d2e 4d69 706d 6170 4f6e      tcm.MipmapOn
+00010bf0: 2829 0a20 2020 2020 2020 2020 2020 2074  ().            t
+00010c00: 636d 2e49 6e74 6572 706f 6c61 7465 4f6e  cm.InterpolateOn
+00010c10: 2829 0a0a 2020 2020 2020 2020 2020 2020  ()..            
+00010c20: 7365 6c66 2e72 656e 6465 7265 722e 5365  self.renderer.Se
+00010c30: 7445 6e76 6972 6f6e 6d65 6e74 5465 7874  tEnvironmentText
+00010c40: 7572 6528 7463 6d29 0a20 2020 2020 2020  ure(tcm).       
+00010c50: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
+00010c60: 6572 2e55 7365 496d 6167 6542 6173 6564  er.UseImageBased
+00010c70: 4c69 6768 7469 6e67 4f6e 2829 0a20 2020  LightingOn().   
+00010c80: 2020 2020 2020 2020 2073 656c 662e 736b           self.sk
+00010c90: 7962 6f78 203d 2076 746b 2e76 746b 536b  ybox = vtk.vtkSk
+00010ca0: 7962 6f78 2829 0a20 2020 2020 2020 2020  ybox().         
+00010cb0: 2020 2073 656c 662e 736b 7962 6f78 2e53     self.skybox.S
+00010cc0: 6574 5465 7874 7572 6528 7463 6d29 0a20  etTexture(tcm). 
+00010cd0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010ce0: 7265 6e64 6572 6572 2e41 6464 4163 746f  renderer.AddActo
+00010cf0: 7228 7365 6c66 2e73 6b79 626f 7829 0a0a  r(self.skybox)..
+00010d00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00010d10: 2020 2020 2020 2020 2020 7665 646f 2e6c            vedo.l
+00010d20: 6f67 6765 722e 6572 726f 7228 2261 6464  ogger.error("add
+00010d30: 5f73 6b79 626f 7820 6e6f 7420 7375 7070  _skybox not supp
+00010d40: 6f72 7465 6420 696e 2074 6869 7320 5654  orted in this VT
+00010d50: 4b20 7665 7273 696f 6e2e 2053 6b69 702e  K version. Skip.
+00010d60: 2229 0a0a 2020 2020 2020 2020 7265 7475  ")..        retu
+00010d70: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00010d80: 2061 6464 5f72 656e 6465 7265 725f 6672   add_renderer_fr
+00010d90: 616d 6528 7365 6c66 2c20 633d 4e6f 6e65  ame(self, c=None
+00010da0: 2c20 616c 7068 613d 4e6f 6e65 2c20 6c77  , alpha=None, lw
+00010db0: 3d4e 6f6e 652c 2070 6164 6469 6e67 3d4e  =None, padding=N
+00010dc0: 6f6e 6529 3a0a 2020 2020 2020 2020 2222  one):.        ""
+00010dd0: 220a 2020 2020 2020 2020 4164 6420 6120  ".        Add a 
+00010de0: 6672 616d 6520 746f 2074 6865 2072 656e  frame to the ren
+00010df0: 6465 7265 7220 7375 6277 696e 646f 772e  derer subwindow.
+00010e00: 0a0a 2020 2020 2020 2020 4172 6775 6d65  ..        Argume
+00010e10: 6e74 733a 0a20 2020 2020 2020 2020 2020  nts:.           
+00010e20: 2063 203a 2028 636f 6c6f 7229 0a20 2020   c : (color).   
+00010e30: 2020 2020 2020 2020 2020 2020 2063 6f6c               col
+00010e40: 6f72 206e 616d 6520 6f72 2069 6e64 6578  or name or index
+00010e50: 0a20 2020 2020 2020 2020 2020 2061 6c70  .            alp
+00010e60: 6861 203a 2028 666c 6f61 7429 0a20 2020  ha : (float).   
+00010e70: 2020 2020 2020 2020 2020 2020 206f 7061               opa
+00010e80: 6369 7479 206c 6576 656c 0a20 2020 2020  city level.     
+00010e90: 2020 2020 2020 206c 7720 3a20 2869 6e74         lw : (int
+00010ea0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00010eb0: 2020 6c69 6e65 2077 6964 7468 2069 6e20    line width in 
+00010ec0: 7069 7865 6c73 2e0a 2020 2020 2020 2020  pixels..        
+00010ed0: 2020 2020 7061 6464 696e 6720 3a20 2866      padding : (f
+00010ee0: 6c6f 6174 290a 2020 2020 2020 2020 2020  loat).          
+00010ef0: 2020 2020 2020 7061 6464 696e 6720 7370        padding sp
+00010f00: 6163 6520 696e 2070 6978 656c 732e 0a20  ace in pixels.. 
+00010f10: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010f20: 2020 2069 6620 6320 6973 204e 6f6e 653a     if c is None:
+00010f30: 2020 2320 6175 746f 6d61 7469 6320 626c    # automatic bl
+00010f40: 6163 6b20 6f72 2077 6869 7465 0a20 2020  ack or white.   
+00010f50: 2020 2020 2020 2020 2063 203d 2028 302e           c = (0.
+00010f60: 392c 2030 2e39 2c20 302e 3929 0a20 2020  9, 0.9, 0.9).   
+00010f70: 2020 2020 2020 2020 2069 6620 6e70 2e73           if np.s
+00010f80: 756d 2876 6564 6f2e 706c 6f74 7465 725f  um(vedo.plotter_
+00010f90: 696e 7374 616e 6365 2e72 656e 6465 7265  instance.rendere
+00010fa0: 722e 4765 7442 6163 6b67 726f 756e 6428  r.GetBackground(
+00010fb0: 2929 203e 2031 2e35 3a0a 2020 2020 2020  )) > 1.5:.      
+00010fc0: 2020 2020 2020 2020 2020 6320 3d20 2830            c = (0
+00010fd0: 2e31 2c20 302e 312c 2030 2e31 290a 2020  .1, 0.1, 0.1).  
+00010fe0: 2020 2020 2020 7265 6e66 203d 2061 6464        renf = add
+00010ff0: 6f6e 732e 5265 6e64 6572 6572 4672 616d  ons.RendererFram
+00011000: 6528 632c 2061 6c70 6861 2c20 6c77 2c20  e(c, alpha, lw, 
+00011010: 7061 6464 696e 6729 0a20 2020 2020 2020  padding).       
+00011020: 2073 656c 662e 7265 6e64 6572 6572 2e41   self.renderer.A
+00011030: 6464 4163 746f 7228 7265 6e66 290a 2020  ddActor(renf).  
+00011040: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00011050: 660a 0a20 2020 2064 6566 2061 6464 5f68  f..    def add_h
+00011060: 6f76 6572 5f6c 6567 656e 6428 0a20 2020  over_legend(.   
+00011070: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00011080: 2020 2061 743d 4e6f 6e65 2c0a 2020 2020     at=None,.    
+00011090: 2020 2020 633d 4e6f 6e65 2c0a 2020 2020      c=None,.    
+000110a0: 2020 2020 706f 733d 2262 6f74 746f 6d2d      pos="bottom-
+000110b0: 6c65 6674 222c 0a20 2020 2020 2020 2066  left",.        f
+000110c0: 6f6e 743d 2243 616c 636f 222c 0a20 2020  ont="Calco",.   
+000110d0: 2020 2020 2073 3d30 2e37 352c 0a20 2020       s=0.75,.   
+000110e0: 2020 2020 2062 673d 2261 7574 6f22 2c0a       bg="auto",.
+000110f0: 2020 2020 2020 2020 616c 7068 613d 302e          alpha=0.
+00011100: 312c 0a20 2020 2020 2020 206d 6178 6c65  1,.        maxle
+00011110: 6e67 7468 3d32 342c 0a20 2020 2020 2020  ngth=24,.       
+00011120: 2075 7365 5f69 6e66 6f3d 4661 6c73 652c   use_info=False,
+00011130: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
+00011140: 2222 220a 2020 2020 2020 2020 4164 6420  """.        Add 
+00011150: 6120 6c65 6765 6e64 2077 6974 6820 3244  a legend with 2D
+00011160: 2074 6578 7420 7768 6963 6820 6973 2074   text which is t
+00011170: 7269 6767 6572 6564 2062 7920 686f 7665  riggered by hove
+00011180: 7269 6e67 2074 6865 206d 6f75 7365 206f  ring the mouse o
+00011190: 6e20 616e 206f 626a 6563 742e 0a0a 2020  n an object...  
+000111a0: 2020 2020 2020 5468 6520 6372 6561 7465        The create
+000111b0: 6420 7465 7874 206f 626a 6563 7420 6172  d text object ar
+000111c0: 6520 7374 6f72 6564 2069 6e20 706c 6f74  e stored in plot
+000111d0: 7465 722e 686f 7665 725f 6c65 6765 6e64  ter.hover_legend
+000111e0: 730a 0a20 2020 2020 2020 2041 7267 756d  s..        Argum
+000111f0: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
+00011200: 2020 6320 3a20 2863 6f6c 6f72 290a 2020    c : (color).  
+00011210: 2020 2020 2020 2020 2020 2020 2020 5465                Te
+00011220: 7874 2063 6f6c 6f72 2e20 4966 204e 6f6e  xt color. If Non
+00011230: 6520 7468 656e 2062 6c61 636b 206f 7220  e then black or 
+00011240: 7768 6974 6520 6973 2063 686f 7365 6e20  white is chosen 
+00011250: 6175 746f 6d61 7469 6361 6c6c 790a 2020  automatically.  
+00011260: 2020 2020 2020 2020 2020 706f 7320 3a20            pos : 
+00011270: 2873 7472 290a 2020 2020 2020 2020 2020  (str).          
+00011280: 2020 2020 2020 7465 7874 2070 6f73 6974        text posit
+00011290: 696f 6e69 6e67 0a20 2020 2020 2020 2020  ioning.         
+000112a0: 2020 2066 6f6e 7420 3a20 2873 7472 290a     font : (str).
+000112b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000112c0: 7465 7874 2066 6f6e 7420 7479 7065 2e20  text font type. 
+000112d0: 4368 6563 6b20 5b61 7661 696c 6162 6c65  Check [available
+000112e0: 2066 6f6e 7473 2068 6572 655d 2868 7474   fonts here](htt
+000112f0: 7073 3a2f 2f76 6564 6f2e 656d 626c 2e65  ps://vedo.embl.e
+00011300: 732f 666f 6e74 7329 2e0a 2020 2020 2020  s/fonts)..      
+00011310: 2020 2020 2020 7320 3a20 2866 6c6f 6174        s : (float
+00011320: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00011330: 2020 7465 7874 2073 697a 6520 7363 616c    text size scal
+00011340: 650a 2020 2020 2020 2020 2020 2020 6267  e.            bg
+00011350: 203a 2028 636f 6c6f 7229 0a20 2020 2020   : (color).     
+00011360: 2020 2020 2020 2020 2020 2062 6163 6b67             backg
+00011370: 726f 756e 6420 636f 6c6f 7220 6f66 2074  round color of t
+00011380: 6865 2032 4420 626f 7820 636f 6e74 6169  he 2D box contai
+00011390: 6e69 6e67 2074 6865 2074 6578 740a 2020  ning the text.  
+000113a0: 2020 2020 2020 2020 2020 616c 7068 6120            alpha 
+000113b0: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
+000113c0: 2020 2020 2020 2020 2020 626f 7820 7472            box tr
+000113d0: 616e 7370 6172 656e 6379 0a20 2020 2020  ansparency.     
+000113e0: 2020 2020 2020 206d 6178 6c65 6e67 7468         maxlength
+000113f0: 203a 2028 696e 7429 0a20 2020 2020 2020   : (int).       
+00011400: 2020 2020 2020 2020 206d 6178 696d 756d           maximum
+00011410: 206e 756d 6265 7220 6f66 2063 6861 7261   number of chara
+00011420: 6374 6572 7320 7065 7220 6c69 6e65 0a20  cters per line. 
+00011430: 2020 2020 2020 2020 2020 2075 7365 5f69             use_i
+00011440: 6e66 6f20 3a20 2862 6f6f 6c29 0a20 2020  nfo : (bool).   
+00011450: 2020 2020 2020 2020 2020 2020 2076 6973               vis
+00011460: 7561 6c69 7a65 2074 6865 2063 6f6e 7465  ualize the conte
+00011470: 6e74 206f 6620 7468 6520 606f 626a 2e69  nt of the `obj.i
+00011480: 6e66 6f60 2061 7474 7269 6275 7465 0a0a  nfo` attribute..
+00011490: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
+000114a0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
+000114b0: 5b68 6f76 6572 5f6c 6567 656e 642e 7079  [hover_legend.py
+000114c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000114d0: 2e63 6f6d 2f6d 6172 636f 6d75 7379 2f76  .com/marcomusy/v
+000114e0: 6564 6f2f 7472 6565 2f6d 6173 7465 722f  edo/tree/master/
+000114f0: 6578 616d 706c 6573 2f62 6173 6963 2f68  examples/basic/h
+00011500: 6f76 6572 5f6c 6567 656e 642e 7079 290a  over_legend.py).
+00011510: 2020 2020 2020 2020 2020 2020 2d20 5b65              - [e
+00011520: 6172 7468 7175 616b 655f 6272 6f77 7365  arthquake_browse
+00011530: 722e 7079 5d28 6874 7470 733a 2f2f 6769  r.py](https://gi
+00011540: 7468 7562 2e63 6f6d 2f6d 6172 636f 6d75  thub.com/marcomu
+00011550: 7379 2f76 6564 6f2f 7472 6565 2f6d 6173  sy/vedo/tree/mas
+00011560: 7465 722f 6578 616d 706c 6573 2f70 7970  ter/examples/pyp
+00011570: 6c6f 742f 6561 7274 6871 7561 6b65 5f62  lot/earthquake_b
+00011580: 726f 7773 6572 2e70 7929 0a0a 2020 2020  rowser.py)..    
+00011590: 2020 2020 2020 2020 215b 5d28 6874 7470          ![](http
+000115a0: 733a 2f2f 7665 646f 2e65 6d62 6c2e 6573  s://vedo.embl.es
+000115b0: 2f69 6d61 6765 732f 7079 706c 6f74 2f65  /images/pyplot/e
+000115c0: 6172 7468 7175 616b 655f 6272 6f77 7365  arthquake_browse
+000115d0: 722e 6a70 6729 0a20 2020 2020 2020 2022  r.jpg).        "
+000115e0: 2222 0a20 2020 2020 2020 2068 6f76 6572  "".        hover
+000115f0: 6c65 6765 6e64 203d 2076 6564 6f2e 7368  legend = vedo.sh
+00011600: 6170 6573 2e54 6578 7432 4428 706f 733d  apes.Text2D(pos=
+00011610: 706f 732c 2066 6f6e 743d 666f 6e74 2c20  pos, font=font, 
+00011620: 633d 632c 2073 3d73 2c20 616c 7068 613d  c=c, s=s, alpha=
+00011630: 616c 7068 612c 2062 673d 6267 290a 0a20  alpha, bg=bg).. 
+00011640: 2020 2020 2020 2069 6620 6174 2069 7320         if at is 
+00011650: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00011660: 2020 6174 203d 2073 656c 662e 7265 6e64    at = self.rend
+00011670: 6572 6572 732e 696e 6465 7828 7365 6c66  erers.index(self
+00011680: 2e72 656e 6465 7265 7229 0a0a 2020 2020  .renderer)..    
+00011690: 2020 2020 6465 6620 5f6c 6567 6675 6e63      def _legfunc
+000116a0: 2865 7674 293a 0a20 2020 2020 2020 2020  (evt):.         
+000116b0: 2020 2069 6620 6e6f 7420 6576 742e 6163     if not evt.ac
+000116c0: 746f 7220 6f72 206e 6f74 2073 656c 662e  tor or not self.
+000116d0: 7265 6e64 6572 6572 206f 7220 6174 2021  renderer or at !
+000116e0: 3d20 6576 742e 6174 3a0a 2020 2020 2020  = evt.at:.      
+000116f0: 2020 2020 2020 2020 2020 6966 2068 6f76            if hov
+00011700: 6572 6c65 6765 6e64 2e5f 6d61 7070 6572  erlegend._mapper
+00011710: 2e47 6574 496e 7075 7428 293a 2020 2320  .GetInput():  # 
+00011720: 636c 6561 7220 616e 6420 7265 7475 726e  clear and return
+00011730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011740: 2020 2020 2068 6f76 6572 6c65 6765 6e64       hoverlegend
+00011750: 2e5f 6d61 7070 6572 2e53 6574 496e 7075  ._mapper.SetInpu
+00011760: 7428 2222 290a 2020 2020 2020 2020 2020  t("").          
+00011770: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
+00011780: 6e74 6572 6163 746f 722e 5265 6e64 6572  nteractor.Render
+00011790: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000117a0: 2020 2072 6574 7572 6e0a 0a20 2020 2020     return..     
+000117b0: 2020 2020 2020 2069 6620 7573 655f 696e         if use_in
+000117c0: 666f 3a0a 2020 2020 2020 2020 2020 2020  fo:.            
+000117d0: 2020 2020 6966 2068 6173 6174 7472 2865      if hasattr(e
+000117e0: 7674 2e61 6374 6f72 2c20 2269 6e66 6f22  vt.actor, "info"
+000117f0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00011800: 2020 2020 2020 2074 203d 2073 7472 2865         t = str(e
+00011810: 7674 2e61 6374 6f72 2e69 6e66 6f29 0a20  vt.actor.info). 
+00011820: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00011830: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00011840: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
+00011850: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00011860: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00011870: 2020 742c 2074 7020 3d20 2222 2c20 2222    t, tp = "", ""
 00011880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011890: 2023 2020 2020 2074 7020 3d20 2256 6f6c   #     tp = "Vol
-000118a0: 756d 6520 220a 2020 2020 2020 2020 2020  ume ".          
-000118b0: 2020 2020 2020 656c 6966 2065 7674 2e69        elif evt.i
-000118c0: 7350 6963 7475 7265 3a0a 2020 2020 2020  sPicture:.      
-000118d0: 2020 2020 2020 2020 2020 2020 2020 7470                tp
-000118e0: 203d 2022 5069 6374 2022 0a20 2020 2020   = "Pict ".     
-000118f0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00011900: 6576 742e 6973 4173 7365 6d62 6c79 3a0a  evt.isAssembly:.
-00011910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011920: 2020 2020 7470 203d 2022 4173 7365 6d62      tp = "Assemb
-00011930: 6c79 2022 0a20 2020 2020 2020 2020 2020  ly ".           
-00011940: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00011950: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00011960: 6574 7572 6e0a 0a20 2020 2020 2020 2020  eturn..         
-00011970: 2020 2020 2020 2069 6620 6576 742e 6973         if evt.is
-00011980: 4173 7365 6d62 6c79 3a0a 2020 2020 2020  Assembly:.      
-00011990: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000119a0: 206e 6f74 2065 7674 2e61 6374 6f72 2e6e   not evt.actor.n
-000119b0: 616d 653a 0a20 2020 2020 2020 2020 2020  ame:.           
-000119c0: 2020 2020 2020 2020 2020 2020 2074 202b               t +
-000119d0: 3d20 6622 4173 7365 6d62 6c79 206f 626a  = f"Assembly obj
-000119e0: 6563 7420 6f66 207b 6c65 6e28 6576 742e  ect of {len(evt.
-000119f0: 6163 746f 722e 756e 7061 636b 2829 297d  actor.unpack())}
-00011a00: 2070 6172 7473 5c6e 220a 2020 2020 2020   parts\n".      
-00011a10: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00011a20: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00011a30: 2020 2020 2020 2020 2020 2020 7420 2b3d              t +=
-00011a40: 2066 2241 7373 656d 626c 7920 6e61 6d65   f"Assembly name
-00011a50: 3a20 7b65 7674 2e61 6374 6f72 2e6e 616d  : {evt.actor.nam
-00011a60: 657d 2028 7b6c 656e 2865 7674 2e61 6374  e} ({len(evt.act
-00011a70: 6f72 2e75 6e70 6163 6b28 2929 7d20 7061  or.unpack())} pa
-00011a80: 7274 7329 5c6e 220a 2020 2020 2020 2020  rts)\n".        
-00011a90: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ab0: 2020 6966 2065 7674 2e61 6374 6f72 2e6e    if evt.actor.n
-00011ac0: 616d 653a 0a20 2020 2020 2020 2020 2020  ame:.           
-00011ad0: 2020 2020 2020 2020 2020 2020 2074 202b               t +
-00011ae0: 3d20 6622 7b74 707d 6e61 6d65 220a 2020  = f"{tp}name".  
-00011af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b00: 2020 2020 2020 6966 2065 7674 2e69 7350        if evt.isP
-00011b10: 6f69 6e74 733a 2074 202b 3d20 2720 2027  oints: t += '  '
-00011b20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011b30: 2020 2020 2020 2020 2069 6620 6576 742e           if evt.
-00011b40: 6973 4d65 7368 3a20 7420 2b3d 2027 2020  isMesh: t += '  
-00011b50: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
-00011b60: 2020 2020 2020 2020 2020 7420 2b3d 2066            t += f
-00011b70: 223a 207b 6576 742e 6163 746f 722e 6e61  ": {evt.actor.na
-00011b80: 6d65 5b3a 6d61 786c 656e 6774 685d 7d22  me[:maxlength]}"
-00011b90: 2e6c 6a75 7374 286d 6178 6c65 6e67 7468  .ljust(maxlength
-00011ba0: 2920 2b20 225c 6e22 0a0a 2020 2020 2020  ) + "\n"..      
-00011bb0: 2020 2020 2020 2020 2020 6966 2065 7674            if evt
-00011bc0: 2e61 6374 6f72 2e66 696c 656e 616d 653a  .actor.filename:
-00011bd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011be0: 2020 2020 2074 202b 3d20 6622 7b74 707d       t += f"{tp}
-00011bf0: 6669 6c65 6e61 6d65 3a20 220a 2020 2020  filename: ".    
-00011c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c10: 7420 2b3d 2066 227b 6f73 2e70 6174 682e  t += f"{os.path.
-00011c20: 6261 7365 6e61 6d65 2865 7674 2e61 6374  basename(evt.act
-00011c30: 6f72 2e66 696c 656e 616d 655b 2d6d 6178  or.filename[-max
-00011c40: 6c65 6e67 7468 3a5d 297d 222e 6c6a 7573  length:])}".ljus
-00011c50: 7428 6d61 786c 656e 6774 6829 0a20 2020  t(maxlength).   
-00011c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c70: 2074 202b 3d20 275c 6e27 0a20 2020 2020   t += '\n'.     
-00011c80: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00011c90: 6620 6e6f 7420 6576 742e 6163 746f 722e  f not evt.actor.
-00011ca0: 6669 6c65 5f73 697a 653a 0a20 2020 2020  file_size:.     
-00011cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011cc0: 2020 2065 7674 2e61 6374 6f72 2e66 696c     evt.actor.fil
-00011cd0: 655f 7369 7a65 2c20 6576 742e 6163 746f  e_size, evt.acto
-00011ce0: 722e 6372 6561 7465 6420 3d20 7665 646f  r.created = vedo
-00011cf0: 2e69 6f2e 6669 6c65 496e 666f 2865 7674  .io.fileInfo(evt
-00011d00: 2e61 6374 6f72 2e66 696c 656e 616d 6529  .actor.filename)
-00011d10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011d20: 2020 2020 2069 6620 6576 742e 6163 746f       if evt.acto
-00011d30: 722e 6669 6c65 5f73 697a 653a 0a20 2020  r.file_size:.   
+00011890: 2069 6620 6576 742e 6973 4d65 7368 3a0a   if evt.isMesh:.
+000118a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000118b0: 2020 2020 7470 203d 2022 4d65 7368 2022      tp = "Mesh "
+000118c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000118d0: 2065 6c69 6620 6576 742e 6973 506f 696e   elif evt.isPoin
+000118e0: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+000118f0: 2020 2020 2020 2020 7470 203d 2022 506f          tp = "Po
+00011900: 696e 7473 2022 0a20 2020 2020 2020 2020  ints ".         
+00011910: 2020 2020 2020 2023 2065 6c69 6620 6576         # elif ev
+00011920: 742e 6973 566f 6c75 6d65 3a0a 2020 2020  t.isVolume:.    
+00011930: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+00011940: 2020 7470 203d 2022 566f 6c75 6d65 2022    tp = "Volume "
+00011950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011960: 2065 6c69 6620 6576 742e 6973 5069 6374   elif evt.isPict
+00011970: 7572 653a 0a20 2020 2020 2020 2020 2020  ure:.           
+00011980: 2020 2020 2020 2020 2074 7020 3d20 2250           tp = "P
+00011990: 6963 7420 220a 2020 2020 2020 2020 2020  ict ".          
+000119a0: 2020 2020 2020 656c 6966 2065 7674 2e69        elif evt.i
+000119b0: 7341 7373 656d 626c 793a 0a20 2020 2020  sAssembly:.     
+000119c0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+000119d0: 7020 3d20 2241 7373 656d 626c 7920 220a  p = "Assembly ".
+000119e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000119f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00011a00: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00011a10: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00011a20: 2020 6966 2065 7674 2e69 7341 7373 656d    if evt.isAssem
+00011a30: 626c 793a 0a20 2020 2020 2020 2020 2020  bly:.           
+00011a40: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00011a50: 6576 742e 6163 746f 722e 6e61 6d65 3a0a  evt.actor.name:.
+00011a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011a70: 2020 2020 2020 2020 7420 2b3d 2066 2241          t += f"A
+00011a80: 7373 656d 626c 7920 6f62 6a65 6374 206f  ssembly object o
+00011a90: 6620 7b6c 656e 2865 7674 2e61 6374 6f72  f {len(evt.actor
+00011aa0: 2e75 6e70 6163 6b28 2929 7d20 7061 7274  .unpack())} part
+00011ab0: 735c 6e22 0a20 2020 2020 2020 2020 2020  s\n".           
+00011ac0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00011ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ae0: 2020 2020 2020 2074 202b 3d20 6622 4173         t += f"As
+00011af0: 7365 6d62 6c79 206e 616d 653a 207b 6576  sembly name: {ev
+00011b00: 742e 6163 746f 722e 6e61 6d65 7d20 287b  t.actor.name} ({
+00011b10: 6c65 6e28 6576 742e 6163 746f 722e 756e  len(evt.actor.un
+00011b20: 7061 636b 2829 297d 2070 6172 7473 295c  pack())} parts)\
+00011b30: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
+00011b40: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00011b50: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00011b60: 6576 742e 6163 746f 722e 6e61 6d65 3a0a  evt.actor.name:.
+00011b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011b80: 2020 2020 2020 2020 7420 2b3d 2066 227b          t += f"{
+00011b90: 7470 7d6e 616d 6522 0a20 2020 2020 2020  tp}name".       
+00011ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011bb0: 2069 6620 6576 742e 6973 506f 696e 7473   if evt.isPoints
+00011bc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00011bd0: 2020 2020 2020 2020 2020 2020 2020 7420                t 
+00011be0: 2b3d 2022 2020 220a 2020 2020 2020 2020  += "  ".        
+00011bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011c00: 6966 2065 7674 2e69 734d 6573 683a 0a20  if evt.isMesh:. 
+00011c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011c20: 2020 2020 2020 2020 2020 2074 202b 3d20             t += 
+00011c30: 2220 2022 0a20 2020 2020 2020 2020 2020  "  ".           
+00011c40: 2020 2020 2020 2020 2020 2020 2074 202b               t +
+00011c50: 3d20 6622 3a20 7b65 7674 2e61 6374 6f72  = f": {evt.actor
+00011c60: 2e6e 616d 655b 3a6d 6178 6c65 6e67 7468  .name[:maxlength
+00011c70: 5d7d 222e 6c6a 7573 7428 6d61 786c 656e  ]}".ljust(maxlen
+00011c80: 6774 6829 202b 2022 5c6e 220a 0a20 2020  gth) + "\n"..   
+00011c90: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00011ca0: 6576 742e 6163 746f 722e 6669 6c65 6e61  evt.actor.filena
+00011cb0: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
+00011cc0: 2020 2020 2020 2020 7420 2b3d 2066 227b          t += f"{
+00011cd0: 7470 7d66 696c 656e 616d 653a 2022 0a20  tp}filename: ". 
+00011ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011cf0: 2020 2074 202b 3d20 6622 7b6f 732e 7061     t += f"{os.pa
+00011d00: 7468 2e62 6173 656e 616d 6528 6576 742e  th.basename(evt.
+00011d10: 6163 746f 722e 6669 6c65 6e61 6d65 5b2d  actor.filename[-
+00011d20: 6d61 786c 656e 6774 683a 5d29 7d22 2e6c  maxlength:])}".l
+00011d30: 6a75 7374 286d 6178 6c65 6e67 7468 290a  just(maxlength).
 00011d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d50: 2020 2020 2074 202b 3d20 2220 2020 2020       t += "     
-00011d60: 2020 2020 2020 2020 3a20 220a 2020 2020          : ".    
-00011d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d80: 2020 2020 737a 2c20 6372 6561 7465 6420      sz, created 
-00011d90: 3d20 6576 742e 6163 746f 722e 6669 6c65  = evt.actor.file
-00011da0: 5f73 697a 652c 2065 7674 2e61 6374 6f72  _size, evt.actor
-00011db0: 2e63 7265 6174 6564 0a20 2020 2020 2020  .created.       
-00011dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011dd0: 2074 202b 3d20 6622 7b63 7265 6174 6564   t += f"{created
-00011de0: 5b34 3a2d 355d 7d20 287b 737a 7d29 2220  [4:-5]} ({sz})" 
-00011df0: 2b20 225c 6e22 0a0a 2020 2020 2020 2020  + "\n"..        
-00011e00: 2020 2020 2020 2020 6966 2065 7674 2e69          if evt.i
-00011e10: 7350 6f69 6e74 733a 0a20 2020 2020 2020  sPoints:.       
-00011e20: 2020 2020 2020 2020 2020 2020 2069 6e64               ind
-00011e30: 6174 6120 3d20 6576 742e 6163 746f 722e  ata = evt.actor.
-00011e40: 706f 6c79 6461 7461 2846 616c 7365 290a  polydata(False).
-00011e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011e60: 2020 2020 6966 2069 6e64 6174 612e 4765      if indata.Ge
-00011e70: 744e 756d 6265 724f 6650 6f69 6e74 7328  tNumberOfPoints(
-00011e80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00011e90: 2020 2020 2020 2020 2020 2074 202b 3d20             t += 
-00011ea0: 6622 2370 6f69 6e74 732f 6365 6c6c 733a  f"#points/cells:
-00011eb0: 207b 696e 6461 7461 2e47 6574 4e75 6d62   {indata.GetNumb
-00011ec0: 6572 4f66 506f 696e 7473 2829 7d22 5c0a  erOfPoints()}"\.
-00011ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ee0: 2020 2020 2020 2020 2020 2020 2066 2220               f" 
-00011ef0: 2f20 7b69 6e64 6174 612e 4765 744e 756d  / {indata.GetNum
-00011f00: 6265 724f 6643 656c 6c73 2829 7d22 0a20  berOfCells()}". 
-00011f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f20: 2020 2070 6461 7461 203d 2069 6e64 6174     pdata = indat
-00011f30: 612e 4765 7450 6f69 6e74 4461 7461 2829  a.GetPointData()
-00011f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011f50: 2020 2020 2063 6461 7461 203d 2069 6e64       cdata = ind
-00011f60: 6174 612e 4765 7443 656c 6c44 6174 6128  ata.GetCellData(
-00011f70: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00011f80: 2020 2020 2020 6966 2070 6461 7461 2e47        if pdata.G
-00011f90: 6574 5363 616c 6172 7328 2920 616e 6420  etScalars() and 
-00011fa0: 7064 6174 612e 4765 7453 6361 6c61 7273  pdata.GetScalars
-00011fb0: 2829 2e47 6574 4e61 6d65 2829 3a0a 2020  ().GetName():.  
-00011fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011fd0: 2020 2020 2020 7420 2b3d 2066 225c 6e50        t += f"\nP
-00011fe0: 6f69 6e74 2061 7272 6179 2020 3a20 7b70  oint array  : {p
-00011ff0: 6461 7461 2e47 6574 5363 616c 6172 7328  data.GetScalars(
-00012000: 292e 4765 744e 616d 6528 297d 220a 2020  ).GetName()}".  
-00012010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012020: 2020 2020 2020 6966 2070 6461 7461 2e47        if pdata.G
-00012030: 6574 5363 616c 6172 7328 292e 4765 744e  etScalars().GetN
-00012040: 616d 6528 2920 3d3d 2065 7674 2e61 6374  ame() == evt.act
-00012050: 6f72 2e6d 6170 7065 7228 292e 4765 7441  or.mapper().GetA
-00012060: 7272 6179 4e61 6d65 2829 3a0a 2020 2020  rrayName():.    
-00012070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012080: 2020 2020 2020 2020 7420 2b3d 2022 202a          t += " *
-00012090: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-000120a0: 2020 2020 2020 6966 2063 6461 7461 2e47        if cdata.G
-000120b0: 6574 5363 616c 6172 7328 2920 616e 6420  etScalars() and 
-000120c0: 6364 6174 612e 4765 7453 6361 6c61 7273  cdata.GetScalars
-000120d0: 2829 2e47 6574 4e61 6d65 2829 3a0a 2020  ().GetName():.  
+00011d50: 2020 2020 7420 2b3d 2022 5c6e 220a 2020      t += "\n".  
+00011d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011d70: 2020 6966 206e 6f74 2065 7674 2e61 6374    if not evt.act
+00011d80: 6f72 2e66 696c 655f 7369 7a65 3a0a 2020  or.file_size:.  
+00011d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011da0: 2020 2020 2020 6576 742e 6163 746f 722e        evt.actor.
+00011db0: 6669 6c65 5f73 697a 652c 2065 7674 2e61  file_size, evt.a
+00011dc0: 6374 6f72 2e63 7265 6174 6564 203d 2076  ctor.created = v
+00011dd0: 6564 6f2e 6669 6c65 5f69 6f2e 6669 6c65  edo.file_io.file
+00011de0: 5f69 6e66 6f28 6576 742e 6163 746f 722e  _info(evt.actor.
+00011df0: 6669 6c65 6e61 6d65 290a 2020 2020 2020  filename).      
+00011e00: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00011e10: 2065 7674 2e61 6374 6f72 2e66 696c 655f   evt.actor.file_
+00011e20: 7369 7a65 3a0a 2020 2020 2020 2020 2020  size:.          
+00011e30: 2020 2020 2020 2020 2020 2020 2020 7420                t 
+00011e40: 2b3d 2022 2020 2020 2020 2020 2020 2020  += "            
+00011e50: 203a 2022 0a20 2020 2020 2020 2020 2020   : ".           
+00011e60: 2020 2020 2020 2020 2020 2020 2073 7a2c               sz,
+00011e70: 2063 7265 6174 6564 203d 2065 7674 2e61   created = evt.a
+00011e80: 6374 6f72 2e66 696c 655f 7369 7a65 2c20  ctor.file_size, 
+00011e90: 6576 742e 6163 746f 722e 6372 6561 7465  evt.actor.create
+00011ea0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+00011eb0: 2020 2020 2020 2020 2020 7420 2b3d 2066            t += f
+00011ec0: 227b 6372 6561 7465 645b 343a 2d35 5d7d  "{created[4:-5]}
+00011ed0: 2028 7b73 7a7d 2922 202b 2022 5c6e 220a   ({sz})" + "\n".
+00011ee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011ef0: 2069 6620 6576 742e 6973 506f 696e 7473   if evt.isPoints
+00011f00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00011f10: 2020 2020 2020 696e 6461 7461 203d 2065        indata = e
+00011f20: 7674 2e61 6374 6f72 2e70 6f6c 7964 6174  vt.actor.polydat
+00011f30: 6128 4661 6c73 6529 0a20 2020 2020 2020  a(False).       
+00011f40: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00011f50: 696e 6461 7461 2e47 6574 4e75 6d62 6572  indata.GetNumber
+00011f60: 4f66 506f 696e 7473 2829 3a0a 2020 2020  OfPoints():.    
+00011f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011f80: 2020 2020 7420 2b3d 2028 0a20 2020 2020      t += (.     
+00011f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011fa0: 2020 2020 2020 2066 2223 706f 696e 7473         f"#points
+00011fb0: 2f63 656c 6c73 3a20 7b69 6e64 6174 612e  /cells: {indata.
+00011fc0: 4765 744e 756d 6265 724f 6650 6f69 6e74  GetNumberOfPoint
+00011fd0: 7328 297d 220a 2020 2020 2020 2020 2020  s()}".          
+00011fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ff0: 2020 6622 202f 207b 696e 6461 7461 2e47    f" / {indata.G
+00012000: 6574 4e75 6d62 6572 4f66 4365 6c6c 7328  etNumberOfCells(
+00012010: 297d 220a 2020 2020 2020 2020 2020 2020  )}".            
+00012020: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00012030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012040: 2020 7064 6174 6120 3d20 696e 6461 7461    pdata = indata
+00012050: 2e47 6574 506f 696e 7444 6174 6128 290a  .GetPointData().
+00012060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012070: 2020 2020 6364 6174 6120 3d20 696e 6461      cdata = inda
+00012080: 7461 2e47 6574 4365 6c6c 4461 7461 2829  ta.GetCellData()
+00012090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000120a0: 2020 2020 2069 6620 7064 6174 612e 4765       if pdata.Ge
+000120b0: 7453 6361 6c61 7273 2829 2061 6e64 2070  tScalars() and p
+000120c0: 6461 7461 2e47 6574 5363 616c 6172 7328  data.GetScalars(
+000120d0: 292e 4765 744e 616d 6528 293a 0a20 2020  ).GetName():.   
 000120e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000120f0: 2020 2020 2020 7420 2b3d 2066 225c 6e43        t += f"\nC
-00012100: 656c 6c20 2061 7272 6179 2020 3a20 7b63  ell  array  : {c
-00012110: 6461 7461 2e47 6574 5363 616c 6172 7328  data.GetScalars(
-00012120: 292e 4765 744e 616d 6528 297d 220a 2020  ).GetName()}".  
+000120f0: 2020 2020 2074 202b 3d20 6622 5c6e 506f       t += f"\nPo
+00012100: 696e 7420 6172 7261 7920 203a 207b 7064  int array  : {pd
+00012110: 6174 612e 4765 7453 6361 6c61 7273 2829  ata.GetScalars()
+00012120: 2e47 6574 4e61 6d65 2829 7d22 0a20 2020  .GetName()}".   
 00012130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012140: 2020 2020 2020 6966 2063 6461 7461 2e47        if cdata.G
-00012150: 6574 5363 616c 6172 7328 292e 4765 744e  etScalars().GetN
-00012160: 616d 6528 2920 3d3d 2065 7674 2e61 6374  ame() == evt.act
-00012170: 6f72 2e6d 6170 7065 7228 292e 4765 7441  or.mapper().GetA
-00012180: 7272 6179 4e61 6d65 2829 3a0a 2020 2020  rrayName():.    
+00012140: 2020 2020 2069 6620 7064 6174 612e 4765       if pdata.Ge
+00012150: 7453 6361 6c61 7273 2829 2e47 6574 4e61  tScalars().GetNa
+00012160: 6d65 2829 203d 3d20 6576 742e 6163 746f  me() == evt.acto
+00012170: 722e 6d61 7070 6572 2829 2e47 6574 4172  r.mapper().GetAr
+00012180: 7261 794e 616d 6528 293a 0a20 2020 2020  rayName():.     
 00012190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000121a0: 2020 2020 2020 2020 7420 2b3d 2022 202a          t += " *
-000121b0: 220a 0a20 2020 2020 2020 2020 2020 2020  "..             
-000121c0: 2020 2069 6620 6576 742e 6973 5069 6374     if evt.isPict
-000121d0: 7572 653a 0a20 2020 2020 2020 2020 2020  ure:.           
-000121e0: 2020 2020 2020 2020 2074 203d 2066 227b           t = f"{
-000121f0: 6f73 2e70 6174 682e 6261 7365 6e61 6d65  os.path.basename
-00012200: 2865 7674 2e61 6374 6f72 2e66 696c 656e  (evt.actor.filen
-00012210: 616d 655b 3a6d 6178 6c65 6e67 7468 2b31  ame[:maxlength+1
-00012220: 305d 297d 222e 6c6a 7573 7428 6d61 786c  0])}".ljust(maxl
-00012230: 656e 6774 682b 3130 290a 2020 2020 2020  ength+10).      
-00012240: 2020 2020 2020 2020 2020 2020 2020 7420                t 
-00012250: 2b3d 2066 225c 6e49 6d61 6765 2073 6861  += f"\nImage sha
-00012260: 7065 3a20 7b65 7674 2e61 6374 6f72 2e73  pe: {evt.actor.s
-00012270: 6861 7065 7d22 0a20 2020 2020 2020 2020  hape}".         
-00012280: 2020 2020 2020 2020 2020 2070 636f 6c20             pcol 
-00012290: 3d20 7365 6c66 2e63 6f6c 6f72 5f70 6963  = self.color_pic
-000122a0: 6b65 7228 6576 742e 7069 636b 6564 3264  ker(evt.picked2d
-000122b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000122c0: 2020 2020 2020 7420 2b3d 2066 225c 6e50        t += f"\nP
-000122d0: 6978 656c 2063 6f6c 6f72 3a20 7b76 6564  ixel color: {ved
-000122e0: 6f2e 636f 6c6f 7273 2e72 6762 3268 6578  o.colors.rgb2hex
-000122f0: 2870 636f 6c2f 3235 3529 7d20 7b70 636f  (pcol/255)} {pco
-00012300: 6c7d 220a 0a20 2020 2020 2020 2020 2020  l}"..           
-00012310: 2023 2063 6861 6e67 6520 626f 7820 636f   # change box co
-00012320: 6c6f 7220 6966 206e 6565 6465 6420 696e  lor if needed in
-00012330: 2027 6175 746f 2720 6d6f 6465 0a20 2020   'auto' mode.   
-00012340: 2020 2020 2020 2020 2069 6620 6576 742e           if evt.
-00012350: 6973 506f 696e 7473 2061 6e64 2022 6175  isPoints and "au
-00012360: 746f 2220 696e 2073 7472 2862 6729 3a0a  to" in str(bg):.
-00012370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012380: 6163 7463 6f6c 203d 2065 7674 2e61 6374  actcol = evt.act
-00012390: 6f72 2e47 6574 5072 6f70 6572 7479 2829  or.GetProperty()
-000123a0: 2e47 6574 436f 6c6f 7228 290a 2020 2020  .GetColor().    
-000123b0: 2020 2020 2020 2020 2020 2020 6966 2068              if h
-000123c0: 6f76 6572 6c65 6765 6e64 2e5f 6d61 7070  overlegend._mapp
-000123d0: 6572 2e47 6574 5465 7874 5072 6f70 6572  er.GetTextProper
-000123e0: 7479 2829 2e47 6574 4261 636b 6772 6f75  ty().GetBackgrou
-000123f0: 6e64 436f 6c6f 7228 2920 213d 2061 6374  ndColor() != act
-00012400: 636f 6c3a 0a20 2020 2020 2020 2020 2020  col:.           
-00012410: 2020 2020 2020 2020 2068 6f76 6572 6c65           hoverle
-00012420: 6765 6e64 2e5f 6d61 7070 6572 2e47 6574  gend._mapper.Get
-00012430: 5465 7874 5072 6f70 6572 7479 2829 2e53  TextProperty().S
-00012440: 6574 4261 636b 6772 6f75 6e64 436f 6c6f  etBackgroundColo
-00012450: 7228 6163 7463 6f6c 290a 0a20 2020 2020  r(actcol)..     
-00012460: 2020 2020 2020 2023 2061 6461 7074 2074         # adapt t
-00012470: 6f20 6368 616e 6765 7320 696e 2062 6720  o changes in bg 
-00012480: 636f 6c6f 720a 2020 2020 2020 2020 2020  color.          
-00012490: 2020 6267 636f 6c20 3d20 7365 6c66 2e72    bgcol = self.r
-000124a0: 656e 6465 7265 7273 5b61 745d 2e47 6574  enderers[at].Get
-000124b0: 4261 636b 6772 6f75 6e64 2829 0a20 2020  Background().   
-000124c0: 2020 2020 2020 2020 205f 6267 636f 6c20           _bgcol 
-000124d0: 3d20 630a 2020 2020 2020 2020 2020 2020  = c.            
-000124e0: 6966 205f 6267 636f 6c20 6973 204e 6f6e  if _bgcol is Non
-000124f0: 653a 2020 2320 6175 746f 6d61 7469 6320  e:  # automatic 
-00012500: 626c 6163 6b20 6f72 2077 6869 7465 0a20  black or white. 
-00012510: 2020 2020 2020 2020 2020 2020 2020 205f                 _
-00012520: 6267 636f 6c20 3d20 2830 2e39 2c20 302e  bgcol = (0.9, 0.
-00012530: 392c 2030 2e39 290a 2020 2020 2020 2020  9, 0.9).        
-00012540: 2020 2020 2020 2020 6966 2073 756d 2862          if sum(b
-00012550: 6763 6f6c 2920 3e20 312e 353a 0a20 2020  gcol) > 1.5:.   
-00012560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012570: 205f 6267 636f 6c20 3d20 2830 2e31 2c20   _bgcol = (0.1, 
-00012580: 302e 312c 2030 2e31 290a 2020 2020 2020  0.1, 0.1).      
-00012590: 2020 2020 2020 2020 2020 6966 206c 656e            if len
-000125a0: 2873 6574 285f 6267 636f 6c29 2e69 6e74  (set(_bgcol).int
-000125b0: 6572 7365 6374 696f 6e28 6267 636f 6c29  ersection(bgcol)
-000125c0: 2920 3c20 333a 0a20 2020 2020 2020 2020  ) < 3:.         
-000125d0: 2020 2020 2020 2020 2020 2068 6f76 6572             hover
-000125e0: 6c65 6765 6e64 2e63 6f6c 6f72 285f 6267  legend.color(_bg
-000125f0: 636f 6c29 0a0a 2020 2020 2020 2020 2020  col)..          
-00012600: 2020 6966 2068 6f76 6572 6c65 6765 6e64    if hoverlegend
-00012610: 2e5f 6d61 7070 6572 2e47 6574 496e 7075  ._mapper.GetInpu
-00012620: 7428 2920 213d 2074 3a0a 2020 2020 2020  t() != t:.      
-00012630: 2020 2020 2020 2020 2020 686f 7665 726c            hoverl
-00012640: 6567 656e 642e 5f6d 6170 7065 722e 5365  egend._mapper.Se
-00012650: 7449 6e70 7574 2874 290a 2020 2020 2020  tInput(t).      
-00012660: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-00012670: 6e74 6572 6163 746f 722e 5265 6e64 6572  nteractor.Render
-00012680: 2829 0a0a 2020 2020 2020 2020 7365 6c66  ()..        self
-00012690: 2e61 6464 2868 6f76 6572 6c65 6765 6e64  .add(hoverlegend
-000126a0: 2c20 7265 6e64 6572 3d46 616c 7365 2c20  , render=False, 
-000126b0: 6174 3d61 7429 0a20 2020 2020 2020 2073  at=at).        s
-000126c0: 656c 662e 686f 7665 725f 6c65 6765 6e64  elf.hover_legend
-000126d0: 732e 6170 7065 6e64 2868 6f76 6572 6c65  s.append(hoverle
-000126e0: 6765 6e64 290a 2020 2020 2020 2020 7365  gend).        se
-000126f0: 6c66 2e61 6464 5f63 616c 6c62 6163 6b28  lf.add_callback(
-00012700: 224d 6f75 7365 4d6f 7665 222c 205f 6c65  "MouseMove", _le
-00012710: 6766 756e 6329 0a20 2020 2020 2020 2072  gfunc).        r
-00012720: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-00012730: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012740: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012750: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012760: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012770: 2323 2323 230a 2020 2020 6465 6620 6164  #####.    def ad
-00012780: 645f 7363 616c 655f 696e 6469 6361 746f  d_scale_indicato
-00012790: 7228 0a20 2020 2020 2020 2073 656c 662c  r(.        self,
-000127a0: 0a20 2020 2020 2020 2070 6f73 3d28 302e  .        pos=(0.
-000127b0: 372c 2030 2e30 3529 2c0a 2020 2020 2020  7, 0.05),.      
-000127c0: 2020 733d 302e 3032 2c0a 2020 2020 2020    s=0.02,.      
-000127d0: 2020 6c65 6e67 7468 3d32 2c0a 2020 2020    length=2,.    
-000127e0: 2020 2020 6c77 3d34 2c0a 2020 2020 2020      lw=4,.      
-000127f0: 2020 633d 226b 3122 2c0a 2020 2020 2020    c="k1",.      
-00012800: 2020 616c 7068 613d 312c 0a20 2020 2020    alpha=1,.     
-00012810: 2020 2075 6e69 7473 3d22 222c 0a20 2020     units="",.   
-00012820: 2020 2020 2067 6170 3d30 2e30 352c 0a20       gap=0.05,. 
-00012830: 2020 2029 3a0a 2020 2020 2020 2020 2222     ):.        ""
-00012840: 220a 2020 2020 2020 2020 4164 6420 6120  ".        Add a 
-00012850: 5363 616c 6520 496e 6469 6361 746f 722e  Scale Indicator.
-00012860: 204f 6e6c 7920 776f 726b 7320 696e 2070   Only works in p
-00012870: 6172 616c 6c65 6c20 6d6f 6465 2028 6e6f  arallel mode (no
-00012880: 2070 6572 7370 6563 7469 7665 292e 0a0a   perspective)...
-00012890: 2020 2020 2020 2020 4172 6775 6d65 6e74          Argument
-000128a0: 733a 0a20 2020 2020 2020 2020 2020 2070  s:.            p
-000128b0: 6f73 203a 2028 6c69 7374 290a 2020 2020  os : (list).    
-000128c0: 2020 2020 2020 2020 2020 2020 6672 6163              frac
-000128d0: 7469 6f6e 616c 2028 782c 7929 2070 6f73  tional (x,y) pos
-000128e0: 6974 696f 6e20 6f6e 2074 6865 2073 6372  ition on the scr
-000128f0: 6565 6e2e 0a20 2020 2020 2020 2020 2020  een..           
-00012900: 2073 203a 2028 666c 6f61 7429 0a20 2020   s : (float).   
-00012910: 2020 2020 2020 2020 2020 2020 2073 697a               siz
-00012920: 6520 6f66 2074 6865 2074 6578 742e 0a20  e of the text.. 
-00012930: 2020 2020 2020 2020 2020 206c 656e 6774             lengt
-00012940: 6820 3a20 2866 6c6f 6174 290a 2020 2020  h : (float).    
-00012950: 2020 2020 2020 2020 2020 2020 6c65 6e67              leng
-00012960: 7468 206f 6620 7468 6520 6c69 6e65 2e0a  th of the line..
-00012970: 2020 2020 2020 2020 2020 2020 756e 6974              unit
-00012980: 7320 3a20 2873 7472 290a 2020 2020 2020  s : (str).      
-00012990: 2020 2020 2020 2020 2020 7374 7269 6e67            string
-000129a0: 2074 6f20 7368 6f77 2075 6e69 7473 2e0a   to show units..
-000129b0: 2020 2020 2020 2020 2020 2020 6761 7020              gap 
-000129c0: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
-000129d0: 2020 2020 2020 2020 2020 7365 7061 7261            separa
-000129e0: 7469 6f6e 206f 6620 6c69 6e65 2061 6e64  tion of line and
-000129f0: 2074 6578 742e 0a0a 2020 2020 2020 2020   text...        
-00012a00: 4578 616d 706c 653a 0a20 2020 2020 2020  Example:.       
-00012a10: 2020 2020 2060 6060 7079 7468 6f6e 0a20       ```python. 
-00012a20: 2020 2020 2020 2020 2020 2066 726f 6d20             from 
-00012a30: 7665 646f 2069 6d70 6f72 7420 7365 7474  vedo import sett
-00012a40: 696e 6773 2c20 4375 6265 2c20 506c 6f74  ings, Cube, Plot
-00012a50: 7465 720a 2020 2020 2020 2020 2020 2020  ter.            
-00012a60: 7365 7474 696e 6773 2e75 7365 5f70 6172  settings.use_par
-00012a70: 616c 6c65 6c5f 7072 6f6a 6563 7469 6f6e  allel_projection
-00012a80: 203d 2054 7275 6520 2320 6f72 2065 6c73   = True # or els
-00012a90: 6520 6974 2064 6f65 736e 7420 6d61 6b65  e it doesnt make
-00012aa0: 2073 656e 7365 210a 2020 2020 2020 2020   sense!.        
-00012ab0: 2020 2020 6375 6265 203d 2043 7562 6528      cube = Cube(
-00012ac0: 292e 616c 7068 6128 302e 3229 0a20 2020  ).alpha(0.2).   
-00012ad0: 2020 2020 2020 2020 2070 6c74 203d 2050           plt = P
-00012ae0: 6c6f 7474 6572 2873 697a 653d 2839 3030  lotter(size=(900
-00012af0: 2c36 3030 292c 2061 7865 733d 6469 6374  ,600), axes=dict
-00012b00: 2878 7469 746c 653d 2778 2028 756d 2927  (xtitle='x (um)'
-00012b10: 2929 0a20 2020 2020 2020 2020 2020 2070  )).            p
-00012b20: 6c74 2e61 6464 5f73 6361 6c65 5f69 6e64  lt.add_scale_ind
-00012b30: 6963 6174 6f72 2875 6e69 7473 3d27 756d  icator(units='um
-00012b40: 272c 2063 3d27 626c 7565 3427 290a 2020  ', c='blue4').  
-00012b50: 2020 2020 2020 2020 2020 706c 742e 7368            plt.sh
-00012b60: 6f77 2863 7562 652c 2022 5363 616c 6520  ow(cube, "Scale 
-00012b70: 696e 6469 6361 746f 7220 7769 7468 2075  indicator with u
-00012b80: 6e69 7473 2229 2e63 6c6f 7365 2829 0a20  nits").close(). 
-00012b90: 2020 2020 2020 2020 2020 2060 6060 0a20             ```. 
-00012ba0: 2020 2020 2020 2020 2020 2021 5b5d 2868             ![](h
-00012bb0: 7474 7073 3a2f 2f76 6564 6f2e 656d 626c  ttps://vedo.embl
-00012bc0: 2e65 732f 696d 6167 6573 2f66 6561 7473  .es/images/feats
-00012bd0: 2f73 6361 6c65 5f69 6e64 6963 6174 6f72  /scale_indicator
-00012be0: 2e70 6e67 290a 2020 2020 2020 2020 2222  .png).        ""
-00012bf0: 220a 2020 2020 2020 2020 7070 6f69 6e74  ".        ppoint
-00012c00: 7320 3d20 7674 6b2e 7674 6b50 6f69 6e74  s = vtk.vtkPoint
-00012c10: 7328 2920 2023 2047 656e 6572 6174 6520  s()  # Generate 
-00012c20: 7468 6520 706f 6c79 6c69 6e65 0a20 2020  the polyline.   
-00012c30: 2020 2020 2070 7371 7220 3d20 5b5b 302e       psqr = [[0.
-00012c40: 302c 2067 6170 5d2c 205b 6c65 6e67 7468  0, gap], [length
-00012c50: 202f 2031 302c 2067 6170 5d5d 0a20 2020   / 10, gap]].   
-00012c60: 2020 2020 2064 6420 3d20 7073 7172 5b31       dd = psqr[1
-00012c70: 5d5b 305d 202d 2070 7371 725b 305d 5b30  ][0] - psqr[0][0
-00012c80: 5d0a 2020 2020 2020 2020 666f 7220 692c  ].        for i,
-00012c90: 2070 7420 696e 2065 6e75 6d65 7261 7465   pt in enumerate
-00012ca0: 2870 7371 7229 3a0a 2020 2020 2020 2020  (psqr):.        
-00012cb0: 2020 2020 7070 6f69 6e74 732e 496e 7365      ppoints.Inse
-00012cc0: 7274 506f 696e 7428 692c 2070 745b 305d  rtPoint(i, pt[0]
-00012cd0: 2c20 7074 5b31 5d2c 2030 290a 2020 2020  , pt[1], 0).    
-00012ce0: 2020 2020 6c69 6e65 7320 3d20 7674 6b2e      lines = vtk.
-00012cf0: 7674 6b43 656c 6c41 7272 6179 2829 0a20  vtkCellArray(). 
-00012d00: 2020 2020 2020 206c 696e 6573 2e49 6e73         lines.Ins
-00012d10: 6572 744e 6578 7443 656c 6c28 6c65 6e28  ertNextCell(len(
-00012d20: 7073 7172 2929 0a20 2020 2020 2020 2066  psqr)).        f
-00012d30: 6f72 2069 2069 6e20 7261 6e67 6528 6c65  or i in range(le
-00012d40: 6e28 7073 7172 2929 3a0a 2020 2020 2020  n(psqr)):.      
-00012d50: 2020 2020 2020 6c69 6e65 732e 496e 7365        lines.Inse
-00012d60: 7274 4365 6c6c 506f 696e 7428 6929 0a20  rtCellPoint(i). 
-00012d70: 2020 2020 2020 2070 6420 3d20 7674 6b2e         pd = vtk.
-00012d80: 7674 6b50 6f6c 7944 6174 6128 290a 2020  vtkPolyData().  
-00012d90: 2020 2020 2020 7064 2e53 6574 506f 696e        pd.SetPoin
-00012da0: 7473 2870 706f 696e 7473 290a 2020 2020  ts(ppoints).    
-00012db0: 2020 2020 7064 2e53 6574 4c69 6e65 7328      pd.SetLines(
-00012dc0: 6c69 6e65 7329 0a0a 2020 2020 2020 2020  lines)..        
-00012dd0: 7773 782c 2077 7379 203d 2073 656c 662e  wsx, wsy = self.
-00012de0: 7769 6e64 6f77 2e47 6574 5369 7a65 2829  window.GetSize()
-00012df0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00012e00: 7365 7474 696e 6773 2e75 7365 5f70 6172  settings.use_par
-00012e10: 616c 6c65 6c5f 7072 6f6a 6563 7469 6f6e  allel_projection
-00012e20: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
-00012e30: 646f 2e6c 6f67 6765 722e 7761 726e 696e  do.logger.warnin
-00012e40: 6728 2261 6464 5f73 6361 6c65 5f69 6e64  g("add_scale_ind
-00012e50: 6963 6174 6f72 2063 616c 6c65 6420 7769  icator called wi
-00012e60: 7468 2075 7365 5f70 6172 616c 6c65 6c5f  th use_parallel_
-00012e70: 7072 6f6a 6563 7469 6f6e 204f 4646 2e20  projection OFF. 
-00012e80: 536b 6970 2e22 290a 2020 2020 2020 2020  Skip.").        
-00012e90: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
-00012ea0: 0a20 2020 2020 2020 2072 6c61 6265 6c20  .        rlabel 
-00012eb0: 3d20 7674 6b2e 7674 6b56 6563 746f 7254  = vtk.vtkVectorT
-00012ec0: 6578 7428 290a 2020 2020 2020 2020 726c  ext().        rl
-00012ed0: 6162 656c 2e53 6574 5465 7874 2822 7363  abel.SetText("sc
-00012ee0: 616c 6522 290a 2020 2020 2020 2020 7466  ale").        tf
-00012ef0: 203d 2076 746b 2e76 746b 5472 616e 7366   = vtk.vtkTransf
-00012f00: 6f72 6d50 6f6c 7944 6174 6146 696c 7465  ormPolyDataFilte
-00012f10: 7228 290a 2020 2020 2020 2020 7466 2e53  r().        tf.S
-00012f20: 6574 496e 7075 7443 6f6e 6e65 6374 696f  etInputConnectio
-00012f30: 6e28 726c 6162 656c 2e47 6574 4f75 7470  n(rlabel.GetOutp
-00012f40: 7574 506f 7274 2829 290a 2020 2020 2020  utPort()).      
-00012f50: 2020 7420 3d20 7674 6b2e 7674 6b54 7261    t = vtk.vtkTra
-00012f60: 6e73 666f 726d 2829 0a20 2020 2020 2020  nsform().       
-00012f70: 2074 2e53 6361 6c65 2873 202a 2077 7379   t.Scale(s * wsy
-00012f80: 202f 2077 7378 2c20 732c 2031 290a 2020   / wsx, s, 1).  
-00012f90: 2020 2020 2020 7466 2e53 6574 5472 616e        tf.SetTran
-00012fa0: 7366 6f72 6d28 7429 0a0a 2020 2020 2020  sform(t)..      
-00012fb0: 2020 6170 7020 3d20 7674 6b2e 7674 6b41    app = vtk.vtkA
-00012fc0: 7070 656e 6450 6f6c 7944 6174 6128 290a  ppendPolyData().
-00012fd0: 2020 2020 2020 2020 6170 702e 4164 6449          app.AddI
-00012fe0: 6e70 7574 436f 6e6e 6563 7469 6f6e 2874  nputConnection(t
-00012ff0: 662e 4765 744f 7574 7075 7450 6f72 7428  f.GetOutputPort(
-00013000: 2929 0a20 2020 2020 2020 2061 7070 2e41  )).        app.A
-00013010: 6464 496e 7075 7444 6174 6128 7064 290a  ddInputData(pd).
-00013020: 0a20 2020 2020 2020 206d 6170 7065 7220  .        mapper 
-00013030: 3d20 7674 6b2e 7674 6b50 6f6c 7944 6174  = vtk.vtkPolyDat
-00013040: 614d 6170 7065 7232 4428 290a 2020 2020  aMapper2D().    
-00013050: 2020 2020 6d61 7070 6572 2e53 6574 496e      mapper.SetIn
-00013060: 7075 7443 6f6e 6e65 6374 696f 6e28 6170  putConnection(ap
-00013070: 702e 4765 744f 7574 7075 7450 6f72 7428  p.GetOutputPort(
-00013080: 2929 0a20 2020 2020 2020 2063 7320 3d20  )).        cs = 
-00013090: 7674 6b2e 7674 6b43 6f6f 7264 696e 6174  vtk.vtkCoordinat
-000130a0: 6528 290a 2020 2020 2020 2020 6373 2e53  e().        cs.S
-000130b0: 6574 436f 6f72 6469 6e61 7465 5379 7374  etCoordinateSyst
-000130c0: 656d 2831 290a 2020 2020 2020 2020 6d61  em(1).        ma
-000130d0: 7070 6572 2e53 6574 5472 616e 7366 6f72  pper.SetTransfor
-000130e0: 6d43 6f6f 7264 696e 6174 6528 6373 290a  mCoordinate(cs).
-000130f0: 0a20 2020 2020 2020 2066 7261 6374 6f72  .        fractor
-00013100: 203d 2076 746b 2e76 746b 4163 746f 7232   = vtk.vtkActor2
-00013110: 4428 290a 2020 2020 2020 2020 6373 7973  D().        csys
-00013120: 203d 2066 7261 6374 6f72 2e47 6574 506f   = fractor.GetPo
-00013130: 7369 7469 6f6e 436f 6f72 6469 6e61 7465  sitionCoordinate
-00013140: 2829 0a20 2020 2020 2020 2063 7379 732e  ().        csys.
-00013150: 5365 7443 6f6f 7264 696e 6174 6553 7973  SetCoordinateSys
-00013160: 7465 6d28 3329 0a20 2020 2020 2020 2066  tem(3).        f
-00013170: 7261 6374 6f72 2e53 6574 506f 7369 7469  ractor.SetPositi
-00013180: 6f6e 2870 6f73 290a 2020 2020 2020 2020  on(pos).        
-00013190: 6672 6163 746f 722e 5365 744d 6170 7065  fractor.SetMappe
-000131a0: 7228 6d61 7070 6572 290a 2020 2020 2020  r(mapper).      
-000131b0: 2020 6672 6163 746f 722e 4765 7450 726f    fractor.GetPro
-000131c0: 7065 7274 7928 292e 5365 7443 6f6c 6f72  perty().SetColor
-000131d0: 2876 6564 6f2e 6765 745f 636f 6c6f 7228  (vedo.get_color(
-000131e0: 6329 290a 2020 2020 2020 2020 6672 6163  c)).        frac
-000131f0: 746f 722e 4765 7450 726f 7065 7274 7928  tor.GetProperty(
-00013200: 292e 5365 744f 7061 6369 7479 2861 6c70  ).SetOpacity(alp
-00013210: 6861 290a 2020 2020 2020 2020 6672 6163  ha).        frac
-00013220: 746f 722e 4765 7450 726f 7065 7274 7928  tor.GetProperty(
-00013230: 292e 5365 744c 696e 6557 6964 7468 286c  ).SetLineWidth(l
-00013240: 7729 0a20 2020 2020 2020 2066 7261 6374  w).        fract
-00013250: 6f72 2e47 6574 5072 6f70 6572 7479 2829  or.GetProperty()
-00013260: 2e53 6574 4469 7370 6c61 794c 6f63 6174  .SetDisplayLocat
-00013270: 696f 6e54 6f46 6f72 6567 726f 756e 6428  ionToForeground(
-00013280: 290a 0a20 2020 2020 2020 2064 6566 2073  )..        def s
-00013290: 6966 756e 6328 6972 656e 2c20 6576 293a  ifunc(iren, ev):
-000132a0: 0a20 2020 2020 2020 2020 2020 2077 7378  .            wsx
-000132b0: 2c20 7773 7920 3d20 7365 6c66 2e77 696e  , wsy = self.win
-000132c0: 646f 772e 4765 7453 697a 6528 290a 2020  dow.GetSize().  
-000132d0: 2020 2020 2020 2020 2020 7073 203d 2073            ps = s
-000132e0: 656c 662e 6361 6d65 7261 2e47 6574 5061  elf.camera.GetPa
-000132f0: 7261 6c6c 656c 5363 616c 6528 290a 2020  rallelScale().  
-00013300: 2020 2020 2020 2020 2020 6e65 7774 7874            newtxt
-00013310: 203d 2075 7469 6c73 2e70 7265 6369 7369   = utils.precisi
-00013320: 6f6e 2870 7320 2f20 7773 7920 2a20 7773  on(ps / wsy * ws
-00013330: 7820 2a20 6c65 6e67 7468 202a 2064 642c  x * length * dd,
-00013340: 2033 290a 2020 2020 2020 2020 2020 2020   3).            
-00013350: 6966 2075 6e69 7473 3a0a 2020 2020 2020  if units:.      
-00013360: 2020 2020 2020 2020 2020 6e65 7774 7874            newtxt
-00013370: 202b 3d20 2220 2220 2b20 756e 6974 730a   += " " + units.
-00013380: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-00013390: 6c61 6265 6c2e 4765 7454 6578 7428 2920  label.GetText() 
-000133a0: 213d 206e 6577 7478 743a 0a20 2020 2020  != newtxt:.     
-000133b0: 2020 2020 2020 2020 2020 2072 6c61 6265             rlabe
-000133c0: 6c2e 5365 7454 6578 7428 6e65 7774 7874  l.SetText(newtxt
-000133d0: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-000133e0: 7265 6e64 6572 6572 2e41 6464 4163 746f  renderer.AddActo
-000133f0: 7228 6672 6163 746f 7229 0a20 2020 2020  r(fractor).     
-00013400: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
-00013410: 6f72 2e41 6464 4f62 7365 7276 6572 2822  or.AddObserver("
-00013420: 4d6f 7573 6557 6865 656c 4261 636b 7761  MouseWheelBackwa
-00013430: 7264 4576 656e 7422 2c20 7369 6675 6e63  rdEvent", sifunc
-00013440: 290a 2020 2020 2020 2020 7365 6c66 2e69  ).        self.i
-00013450: 6e74 6572 6163 746f 722e 4164 644f 6273  nteractor.AddObs
-00013460: 6572 7665 7228 224d 6f75 7365 5768 6565  erver("MouseWhee
-00013470: 6c46 6f72 7761 7264 4576 656e 7422 2c20  lForwardEvent", 
-00013480: 7369 6675 6e63 290a 2020 2020 2020 2020  sifunc).        
-00013490: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-000134a0: 4164 644f 6273 6572 7665 7228 2249 6e74  AddObserver("Int
-000134b0: 6572 6163 7469 6f6e 4576 656e 7422 2c20  eractionEvent", 
-000134c0: 7369 6675 6e63 290a 2020 2020 2020 2020  sifunc).        
-000134d0: 7369 6675 6e63 2830 2c20 3029 0a20 2020  sifunc(0, 0).   
-000134e0: 2020 2020 2072 6574 7572 6e20 6672 6163       return frac
-000134f0: 746f 720a 0a20 2020 2064 6566 2066 696c  tor..    def fil
-00013500: 6c5f 6576 656e 7428 7365 6c66 2c20 656e  l_event(self, en
-00013510: 616d 653d 2222 2c20 706f 733d 2829 2c20  ame="", pos=(), 
-00013520: 6369 643d 302c 2070 7269 6f72 6974 793d  cid=0, priority=
-00013530: 3029 3a0a 2020 2020 2020 2020 2222 220a  0):.        """.
-00013540: 2020 2020 2020 2020 4372 6561 7465 2061          Create a
-00013550: 6e20 4576 656e 7420 6f62 6a65 6374 2e0a  n Event object..
-00013560: 0a20 2020 2020 2020 2041 2032 4420 7363  .        A 2D sc
-00013570: 7265 656e 2d70 6f73 6974 696f 6e20 6361  reen-position ca
-00013580: 6e20 6265 2070 726f 7669 6465 6420 746f  n be provided to
-00013590: 2062 6520 7069 636b 6564 2e0a 2020 2020   be picked..    
-000135a0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000135b0: 6966 206e 6f74 2073 656c 662e 696e 7465  if not self.inte
-000135c0: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
-000135d0: 2020 2020 7265 7475 726e 2045 7665 6e74      return Event
-000135e0: 2829 0a0a 2020 2020 2020 2020 6966 206c  ()..        if l
-000135f0: 656e 2870 6f73 293a 0a20 2020 2020 2020  en(pos):.       
-00013600: 2020 2020 2078 2c20 7920 3d20 706f 730a       x, y = pos.
-00013610: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00013620: 2e69 6e74 6572 6163 746f 722e 5365 7445  .interactor.SetE
-00013630: 7665 6e74 506f 7369 7469 6f6e 2870 6f73  ventPosition(pos
-00013640: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00013650: 2020 2020 2020 2020 2020 2020 782c 2079              x, y
-00013660: 203d 2073 656c 662e 696e 7465 7261 6374   = self.interact
-00013670: 6f72 2e47 6574 4576 656e 7450 6f73 6974  or.GetEventPosit
-00013680: 696f 6e28 290a 2020 2020 2020 2020 7365  ion().        se
-00013690: 6c66 2e72 656e 6465 7265 7220 3d20 7365  lf.renderer = se
-000136a0: 6c66 2e69 6e74 6572 6163 746f 722e 4669  lf.interactor.Fi
-000136b0: 6e64 506f 6b65 6452 656e 6465 7265 7228  ndPokedRenderer(
-000136c0: 782c 2079 290a 2020 2020 2020 2020 6966  x, y).        if
-000136d0: 206e 6f74 2073 656c 662e 7069 636b 6572   not self.picker
-000136e0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-000136f0: 6c66 2e70 6963 6b65 7220 3d20 7674 6b2e  lf.picker = vtk.
-00013700: 7674 6b50 726f 7050 6963 6b65 7228 290a  vtkPropPicker().
-00013710: 2020 2020 2020 2020 7365 6c66 2e70 6963          self.pic
-00013720: 6b65 6432 6420 3d20 2878 2c20 7929 0a20  ked2d = (x, y). 
-00013730: 2020 2020 2020 2073 656c 662e 7069 636b         self.pick
-00013740: 6572 2e50 6963 6b50 726f 7028 782c 2079  er.PickProp(x, y
-00013750: 2c20 7365 6c66 2e72 656e 6465 7265 7229  , self.renderer)
-00013760: 0a20 2020 2020 2020 2078 702c 2079 7020  .        xp, yp 
-00013770: 3d20 7365 6c66 2e69 6e74 6572 6163 746f  = self.interacto
-00013780: 722e 4765 744c 6173 7445 7665 6e74 506f  r.GetLastEventPo
-00013790: 7369 7469 6f6e 2829 0a20 2020 2020 2020  sition().       
-000137a0: 2061 6374 6f72 203d 2073 656c 662e 7069   actor = self.pi
-000137b0: 636b 6572 2e47 6574 5072 6f70 3344 2829  cker.GetProp3D()
-000137c0: 0a20 2020 2020 2020 2064 656c 7461 3364  .        delta3d
-000137d0: 203d 206e 702e 6172 7261 7928 5b30 2c20   = np.array([0, 
-000137e0: 302c 2030 5d29 0a20 2020 2020 2020 2069  0, 0]).        i
-000137f0: 6620 6163 746f 723a 0a20 2020 2020 2020  f actor:.       
-00013800: 2020 2020 2070 6963 6b65 6433 6420 3d20       picked3d = 
-00013810: 6e70 2e61 7272 6179 2873 656c 662e 7069  np.array(self.pi
-00013820: 636b 6572 2e47 6574 5069 636b 506f 7369  cker.GetPickPosi
-00013830: 7469 6f6e 2829 290a 2020 2020 2020 2020  tion()).        
-00013840: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00013850: 6528 6163 746f 722c 2076 6564 6f2e 6261  e(actor, vedo.ba
-00013860: 7365 2e42 6173 6533 4450 726f 7029 3a20  se.Base3DProp): 
-00013870: 2023 206e 6565 6465 6421 0a20 2020 2020   # needed!.     
-00013880: 2020 2020 2020 2020 2020 2069 6620 6163             if ac
-00013890: 746f 722e 7069 636b 6564 3364 2069 7320  tor.picked3d is 
-000138a0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-000138b0: 2020 2020 2020 2020 2020 2020 2020 6465                de
-000138c0: 6c74 6133 6420 3d20 7069 636b 6564 3364  lta3d = picked3d
-000138d0: 202d 2061 6374 6f72 2e70 6963 6b65 6433   - actor.picked3
-000138e0: 640a 2020 2020 2020 2020 2020 2020 6163  d.            ac
-000138f0: 746f 722e 7069 636b 6564 3364 203d 2070  tor.picked3d = p
-00013900: 6963 6b65 6433 640a 2020 2020 2020 2020  icked3d.        
-00013910: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00013920: 2020 7069 636b 6564 3364 203d 204e 6f6e    picked3d = Non
-00013930: 650a 0a20 2020 2020 2020 2069 6620 6e6f  e..        if no
-00013940: 7420 6163 746f 723a 2020 2320 7472 7920  t actor:  # try 
-00013950: 3244 0a20 2020 2020 2020 2020 2020 2061  2D.            a
-00013960: 6374 6f72 203d 2073 656c 662e 7069 636b  ctor = self.pick
-00013970: 6572 2e47 6574 4163 746f 7232 4428 290a  er.GetActor2D().
-00013980: 0a20 2020 2020 2020 2064 782c 2064 7920  .        dx, dy 
-00013990: 3d20 7820 2d20 7870 2c20 7920 2d20 7970  = x - xp, y - yp
-000139a0: 0a0a 2020 2020 2020 2020 6b65 7920 3d20  ..        key = 
-000139b0: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-000139c0: 4765 744b 6579 5379 6d28 290a 0a20 2020  GetKeySym()..   
-000139d0: 2020 2020 2069 6620 6b65 793a 0a20 2020       if key:.   
-000139e0: 2020 2020 2020 2020 2069 6620 225f 4c22           if "_L"
-000139f0: 2069 6e20 6b65 7920 6f72 2022 5f52 2220   in key or "_R" 
-00013a00: 696e 206b 6579 3a0a 2020 2020 2020 2020  in key:.        
-00013a10: 2020 2020 2020 2020 2320 736b 6970 2074          # skip t
-00013a20: 6869 6e67 7320 6c69 6b65 2053 6869 6674  hings like Shift
-00013a30: 5f52 0a20 2020 2020 2020 2020 2020 2020  _R.             
-00013a40: 2020 206b 6579 203d 2022 2220 2320 6265     key = "" # be
-00013a50: 7474 6572 2074 6861 6e20 4e6f 6e65 0a20  tter than None. 
-00013a60: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00013a70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013a80: 2069 6620 7365 6c66 2e69 6e74 6572 6163   if self.interac
-00013a90: 746f 722e 4765 7453 6869 6674 4b65 7928  tor.GetShiftKey(
-00013aa0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00013ab0: 2020 2020 2020 206b 6579 203d 206b 6579         key = key
-00013ac0: 2e75 7070 6572 2829 0a0a 2020 2020 2020  .upper()..      
-00013ad0: 2020 2020 2020 2020 2020 6966 206b 6579            if key
-00013ae0: 203d 3d20 224d 494e 5553 223a 2023 2066   == "MINUS": # f
-00013af0: 6978 3a20 7674 6b39 2069 7320 6967 6e6f  ix: vtk9 is igno
-00013b00: 7269 6e67 2073 6869 6674 2063 6861 7273  ring shift chars
-00013b10: 2e2e 0a20 2020 2020 2020 2020 2020 2020  ...             
-00013b20: 2020 2020 2020 206b 6579 203d 2022 756e         key = "un
-00013b30: 6465 7273 636f 7265 220a 2020 2020 2020  derscore".      
-00013b40: 2020 2020 2020 2020 2020 656c 6966 206b            elif k
-00013b50: 6579 203d 3d20 2245 5155 414c 223a 2023  ey == "EQUAL": #
-00013b60: 2066 6978 3a20 7674 6b39 2069 7320 6967   fix: vtk9 is ig
-00013b70: 6e6f 7269 6e67 2073 6869 6674 2063 6861  noring shift cha
-00013b80: 7273 2e2e 0a20 2020 2020 2020 2020 2020  rs...           
-00013b90: 2020 2020 2020 2020 206b 6579 203d 2022           key = "
-00013ba0: 706c 7573 220a 2020 2020 2020 2020 2020  plus".          
-00013bb0: 2020 2020 2020 656c 6966 206b 6579 203d        elif key =
-00013bc0: 3d20 2253 4c41 5348 223a 2023 2066 6978  = "SLASH": # fix
-00013bd0: 3a20 7674 6b39 2069 7320 6967 6e6f 7269  : vtk9 is ignori
-00013be0: 6e67 2073 6869 6674 2063 6861 7273 2e2e  ng shift chars..
-00013bf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013c00: 2020 2020 206b 6579 203d 2022 3f22 0a0a       key = "?"..
-00013c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c20: 6966 2073 656c 662e 696e 7465 7261 6374  if self.interact
-00013c30: 6f72 2e47 6574 436f 6e74 726f 6c4b 6579  or.GetControlKey
-00013c40: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00013c50: 2020 2020 2020 2020 6b65 7920 3d20 2243          key = "C
-00013c60: 7472 6c2b 2220 2b20 6b65 790a 0a20 2020  trl+" + key..   
-00013c70: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00013c80: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-00013c90: 4765 7441 6c74 4b65 7928 293a 0a20 2020  GetAltKey():.   
-00013ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013cb0: 206b 6579 203d 2022 416c 742b 2220 2b20   key = "Alt+" + 
-00013cc0: 6b65 790a 0a20 2020 2020 2020 2065 7665  key..        eve
-00013cd0: 6e74 203d 2045 7665 6e74 2829 0a20 2020  nt = Event().   
-00013ce0: 2020 2020 2065 7665 6e74 2e6e 616d 6520       event.name 
-00013cf0: 3d20 656e 616d 650a 2020 2020 2020 2020  = ename.        
-00013d00: 6576 656e 742e 7469 746c 6520 3d20 7365  event.title = se
-00013d10: 6c66 2e74 6974 6c65 0a20 2020 2020 2020  lf.title.       
-00013d20: 2065 7665 6e74 2e69 6420 3d20 6369 640a   event.id = cid.
-00013d30: 2020 2020 2020 2020 6576 656e 742e 7072          event.pr
-00013d40: 696f 7269 7479 203d 2070 7269 6f72 6974  iority = priorit
-00013d50: 790a 2020 2020 2020 2020 6576 656e 742e  y.        event.
-00013d60: 7469 6d65 203d 2074 696d 652e 7469 6d65  time = time.time
-00013d70: 2829 0a20 2020 2020 2020 2065 7665 6e74  ().        event
-00013d80: 2e61 7420 3d20 7365 6c66 2e72 656e 6465  .at = self.rende
-00013d90: 7265 7273 2e69 6e64 6578 2873 656c 662e  rers.index(self.
-00013da0: 7265 6e64 6572 6572 290a 2020 2020 2020  renderer).      
-00013db0: 2020 6576 656e 742e 6163 746f 7220 3d20    event.actor = 
-00013dc0: 6163 746f 720a 2020 2020 2020 2020 6576  actor.        ev
-00013dd0: 656e 742e 7069 636b 6564 3364 203d 2070  ent.picked3d = p
-00013de0: 6963 6b65 6433 640a 2020 2020 2020 2020  icked3d.        
-00013df0: 6576 656e 742e 6b65 7950 7265 7373 6564  event.keyPressed
-00013e00: 203d 206b 6579 2020 2320 6f62 736f 6c65   = key  # obsole
-00013e10: 7465 2c20 7769 6c6c 2064 6973 6170 7065  te, will disappe
-00013e20: 6172 2e20 5573 6520 226b 6579 7072 6573  ar. Use "keypres
-00013e30: 7322 0a20 2020 2020 2020 2065 7665 6e74  s".        event
-00013e40: 2e6b 6579 7072 6573 7320 3d20 6b65 790a  .keypress = key.
-00013e50: 2020 2020 2020 2020 6576 656e 742e 7069          event.pi
-00013e60: 636b 6564 3264 203d 2028 782c 2079 290a  cked2d = (x, y).
-00013e70: 2020 2020 2020 2020 6576 656e 742e 6465          event.de
-00013e80: 6c74 6132 6420 3d20 2864 782c 2064 7929  lta2d = (dx, dy)
-00013e90: 0a20 2020 2020 2020 2065 7665 6e74 2e61  .        event.a
-00013ea0: 6e67 6c65 3264 203d 206e 702e 6172 6374  ngle2d = np.arct
-00013eb0: 616e 3228 6479 2c20 6478 290a 2020 2020  an2(dy, dx).    
-00013ec0: 2020 2020 6576 656e 742e 7370 6565 6432      event.speed2
-00013ed0: 6420 3d20 6e70 2e73 7172 7428 6478 202a  d = np.sqrt(dx *
-00013ee0: 2064 7820 2b20 6479 202a 2064 7929 0a20   dx + dy * dy). 
-00013ef0: 2020 2020 2020 2065 7665 6e74 2e64 656c         event.del
-00013f00: 7461 3364 203d 2064 656c 7461 3364 0a20  ta3d = delta3d. 
-00013f10: 2020 2020 2020 2065 7665 6e74 2e73 7065         event.spe
-00013f20: 6564 3364 203d 206e 702e 7371 7274 286e  ed3d = np.sqrt(n
-00013f30: 702e 646f 7428 6465 6c74 6133 642c 2064  p.dot(delta3d, d
-00013f40: 656c 7461 3364 2929 0a20 2020 2020 2020  elta3d)).       
-00013f50: 2065 7665 6e74 2e69 7350 6f69 6e74 7320   event.isPoints 
-00013f60: 3d20 6973 696e 7374 616e 6365 2861 6374  = isinstance(act
-00013f70: 6f72 2c20 7665 646f 2e50 6f69 6e74 7329  or, vedo.Points)
-00013f80: 0a20 2020 2020 2020 2065 7665 6e74 2e69  .        event.i
-00013f90: 734d 6573 6820 2020 3d20 6973 696e 7374  sMesh   = isinst
-00013fa0: 616e 6365 2861 6374 6f72 2c20 7665 646f  ance(actor, vedo
-00013fb0: 2e4d 6573 6829 0a20 2020 2020 2020 2065  .Mesh).        e
-00013fc0: 7665 6e74 2e69 7341 7373 656d 626c 7920  vent.isAssembly 
-00013fd0: 3d20 6973 696e 7374 616e 6365 2861 6374  = isinstance(act
-00013fe0: 6f72 2c20 7665 646f 2e41 7373 656d 626c  or, vedo.Assembl
-00013ff0: 7929 0a20 2020 2020 2020 2065 7665 6e74  y).        event
-00014000: 2e69 7356 6f6c 756d 6520 3d20 6973 696e  .isVolume = isin
-00014010: 7374 616e 6365 2861 6374 6f72 2c20 7665  stance(actor, ve
-00014020: 646f 2e56 6f6c 756d 6529 0a20 2020 2020  do.Volume).     
-00014030: 2020 2065 7665 6e74 2e69 7350 6963 7475     event.isPictu
-00014040: 7265 203d 2069 7369 6e73 7461 6e63 6528  re = isinstance(
-00014050: 6163 746f 722c 2076 6564 6f2e 5069 6374  actor, vedo.Pict
-00014060: 7572 6529 0a20 2020 2020 2020 2065 7665  ure).        eve
-00014070: 6e74 2e69 7341 6374 6f72 3244 203d 2069  nt.isActor2D = i
-00014080: 7369 6e73 7461 6e63 6528 6163 746f 722c  sinstance(actor,
-00014090: 2076 746b 2e76 746b 4163 746f 7232 4429   vtk.vtkActor2D)
-000140a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000140b0: 6576 656e 740a 0a20 2020 2040 6465 7072  event..    @depr
-000140c0: 6563 6174 6564 2872 6561 736f 6e3d 7665  ecated(reason=ve
-000140d0: 646f 2e63 6f6c 6f72 732e 7265 6420 2b20  do.colors.red + 
-000140e0: 2250 6c65 6173 6520 7573 6520 6164 645f  "Please use add_
-000140f0: 6361 6c6c 6261 636b 2829 2220 2b20 7665  callback()" + ve
-00014100: 646f 2e63 6f6c 6f72 732e 7265 7365 7429  do.colors.reset)
-00014110: 0a20 2020 2064 6566 2061 6464 4361 6c6c  .    def addCall
-00014120: 6261 636b 2873 656c 662c 202a 612c 202a  back(self, *a, *
-00014130: 2a62 293a 0a20 2020 2020 2020 2022 2222  *b):.        """
-00014140: 4465 7072 6563 6174 6564 2c20 7573 6520  Deprecated, use 
-00014150: 6061 6464 5f63 616c 6c62 6163 6b28 2960  `add_callback()`
-00014160: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
-00014170: 726e 2073 656c 662e 6164 645f 6361 6c6c  rn self.add_call
-00014180: 6261 636b 282a 612c 202a 2a62 290a 0a20  back(*a, **b).. 
-00014190: 2020 2064 6566 2061 6464 5f63 616c 6c62     def add_callb
-000141a0: 6163 6b28 7365 6c66 2c20 6576 656e 745f  ack(self, event_
-000141b0: 6e61 6d65 2c20 6675 6e63 2c20 7072 696f  name, func, prio
-000141c0: 7269 7479 3d30 2e30 293a 0a20 2020 2020  rity=0.0):.     
-000141d0: 2020 2022 2222 0a20 2020 2020 2020 2041     """.        A
-000141e0: 6464 2061 2066 756e 6374 696f 6e20 746f  dd a function to
-000141f0: 2062 6520 6578 6563 7574 6564 2077 6869   be executed whi
-00014200: 6c65 2073 686f 7728 2920 6973 2061 6374  le show() is act
-00014210: 6976 652e 0a20 2020 2020 2020 2049 6e66  ive..        Inf
-00014220: 6f72 6d61 7469 6f6e 2061 626f 7574 2074  ormation about t
-00014230: 6865 2065 7665 6e74 2063 616e 2062 6520  he event can be 
-00014240: 6163 7175 6972 6564 2077 6974 6820 6d65  acquired with me
-00014250: 7468 6f64 2067 6574 4576 656e 7428 292e  thod getEvent().
-00014260: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00014270: 2061 2075 6e69 7175 6520 6964 2066 6f72   a unique id for
-00014280: 2074 6865 2063 616c 6c62 6163 6b2e 0a0a   the callback...
-00014290: 2020 2020 2020 2020 5468 6520 6361 6c6c          The call
-000142a0: 6261 636b 2066 756e 6374 696f 6e20 2873  back function (s
-000142b0: 6565 2065 7861 6d70 6c65 2062 656c 6f77  ee example below
-000142c0: 2920 6578 706f 7365 7320 6120 6469 6374  ) exposes a dict
-000142d0: 696f 6e61 7279 0a20 2020 2020 2020 2077  ionary.        w
-000142e0: 6974 6820 7468 6520 666f 6c6c 6f77 696e  ith the followin
-000142f0: 6720 696e 666f 726d 6174 696f 6e3a 0a20  g information:. 
-00014300: 2020 2020 2020 202d 2060 6e61 6d65 603a         - `name`:
-00014310: 2065 7665 6e74 206e 616d 652c 0a20 2020   event name,.   
-00014320: 2020 2020 202d 2060 6964 603a 2065 7665       - `id`: eve
-00014330: 6e74 2075 6e69 7175 6520 6964 656e 7469  nt unique identi
-00014340: 6669 6572 2c0a 2020 2020 2020 2020 2d20  fier,.        - 
-00014350: 6070 7269 6f72 6974 7960 3a20 6576 656e  `priority`: even
-00014360: 7420 7072 696f 7269 7479 2028 666c 6f61  t priority (floa
-00014370: 7429 2c0a 2020 2020 2020 2020 2d20 6069  t),.        - `i
-00014380: 6e74 6572 6163 746f 7260 3a20 7468 6520  nteractor`: the 
-00014390: 696e 7465 7261 6374 6f72 206f 626a 6563  interactor objec
-000143a0: 742c 0a20 2020 2020 2020 202d 2060 6174  t,.        - `at
-000143b0: 603a 2072 656e 6465 7265 7220 6e72 2e20  `: renderer nr. 
-000143c0: 7768 6572 6520 7468 6520 6576 656e 7420  where the event 
-000143d0: 6f63 6375 7272 6564 0a20 2020 2020 2020  occurred.       
-000143e0: 202d 2060 6163 746f 7260 3a20 6f62 6a65   - `actor`: obje
-000143f0: 6374 2070 6963 6b65 6420 6279 2074 6865  ct picked by the
-00014400: 206d 6f75 7365 0a20 2020 2020 2020 202d   mouse.        -
-00014410: 2060 7069 636b 6564 3364 603a 2070 6f69   `picked3d`: poi
-00014420: 6e74 2070 6963 6b65 6420 696e 2077 6f72  nt picked in wor
-00014430: 6c64 2063 6f6f 7264 696e 6174 6573 0a20  ld coordinates. 
-00014440: 2020 2020 2020 202d 2060 6b65 7970 7265         - `keypre
-00014450: 7373 603a 206b 6579 2070 7265 7373 6564  ss`: key pressed
-00014460: 2061 7320 7374 7269 6e67 0a20 2020 2020   as string.     
-00014470: 2020 202d 2060 7069 636b 6564 3264 603a     - `picked2d`:
-00014480: 2073 6372 6565 6e20 636f 6f72 6473 206f   screen coords o
-00014490: 6620 7468 6520 6d6f 7573 6520 706f 696e  f the mouse poin
-000144a0: 7465 720a 2020 2020 2020 2020 2d20 6064  ter.        - `d
-000144b0: 656c 7461 3264 603a 2073 6869 6674 2077  elta2d`: shift w
-000144c0: 7274 2070 7265 7669 6f75 7320 706f 7369  rt previous posi
-000144d0: 7469 6f6e 2028 746f 2063 616c 6375 6c61  tion (to calcula
-000144e0: 7465 2073 7065 6564 2c20 6469 7265 6374  te speed, direct
-000144f0: 696f 6e29 0a20 2020 2020 2020 202d 2060  ion).        - `
-00014500: 6465 6c74 6133 6460 3a20 2e2e 2e73 616d  delta3d`: ...sam
-00014510: 6520 6275 7420 696e 2033 4420 776f 726c  e but in 3D worl
-00014520: 6420 636f 6f72 6473 0a20 2020 2020 2020  d coords.       
-00014530: 202d 2060 616e 676c 6532 6460 3a20 616e   - `angle2d`: an
-00014540: 676c 6520 6f66 206d 6f75 7365 206d 6f76  gle of mouse mov
-00014550: 656d 656e 7420 6f6e 2073 6372 6565 6e0a  ement on screen.
-00014560: 2020 2020 2020 2020 2d20 6073 7065 6564          - `speed
-00014570: 3264 603a 2073 7065 6564 206f 6620 6d6f  2d`: speed of mo
-00014580: 7573 6520 6d6f 7665 6d65 6e74 206f 6e20  use movement on 
-00014590: 7363 7265 656e 0a20 2020 2020 2020 202d  screen.        -
-000145a0: 2060 7370 6565 6433 6460 3a20 7370 6565   `speed3d`: spee
-000145b0: 6420 6f66 2070 6963 6b65 6420 706f 696e  d of picked poin
-000145c0: 7420 696e 2077 6f72 6c64 2063 6f6f 7264  t in world coord
-000145d0: 696e 6174 6573 0a20 2020 2020 2020 202d  inates.        -
-000145e0: 2060 6973 506f 696e 7473 603a 2054 7275   `isPoints`: Tru
-000145f0: 6520 6966 206f 6620 636c 6173 730a 2020  e if of class.  
-00014600: 2020 2020 2020 2d20 6069 734d 6573 6860        - `isMesh`
-00014610: 3a20 5472 7565 2069 6620 6f66 2063 6c61  : True if of cla
-00014620: 7373 0a20 2020 2020 2020 202d 2060 6973  ss.        - `is
-00014630: 4173 7365 6d62 6c79 603a 2054 7275 6520  Assembly`: True 
-00014640: 6966 206f 6620 636c 6173 730a 2020 2020  if of class.    
-00014650: 2020 2020 2d20 6069 7356 6f6c 756d 6560      - `isVolume`
-00014660: 3a20 5472 7565 2069 6620 6f66 2063 6c61  : True if of cla
-00014670: 7373 2056 6f6c 756d 650a 2020 2020 2020  ss Volume.      
-00014680: 2020 2d20 6069 7350 6963 7475 7265 603a    - `isPicture`:
-00014690: 2054 7275 6520 6966 206f 6620 636c 6173   True if of clas
-000146a0: 730a 0a20 2020 2020 2020 2046 7265 7175  s..        Frequ
-000146b0: 656e 746c 7920 7573 6564 2065 7665 6e74  ently used event
-000146c0: 7320 6172 653a 0a20 2020 2020 2020 202d  s are:.        -
-000146d0: 2060 4b65 7950 7265 7373 602c 2060 4b65   `KeyPress`, `Ke
-000146e0: 7952 656c 6561 7365 603a 206c 6973 7465  yRelease`: liste
-000146f0: 6e20 746f 206b 6579 626f 6172 6420 6576  n to keyboard ev
-00014700: 656e 7473 0a20 2020 2020 2020 202d 2060  ents.        - `
-00014710: 4c65 6674 4275 7474 6f6e 5072 6573 7360  LeftButtonPress`
-00014720: 2c20 604c 6566 7442 7574 746f 6e52 656c  , `LeftButtonRel
-00014730: 6561 7365 603a 206c 6973 7465 6e20 746f  ease`: listen to
-00014740: 206d 6f75 7365 2063 6c69 636b 730a 2020   mouse clicks.  
-00014750: 2020 2020 2020 2d20 604d 6964 646c 6542        - `MiddleB
-00014760: 7574 746f 6e50 7265 7373 602c 2060 4d69  uttonPress`, `Mi
-00014770: 6464 6c65 4275 7474 6f6e 5265 6c65 6173  ddleButtonReleas
-00014780: 6560 0a20 2020 2020 2020 202d 2060 5269  e`.        - `Ri
-00014790: 6768 7442 7574 746f 6e50 7265 7373 602c  ghtButtonPress`,
-000147a0: 2060 5269 6768 7442 7574 746f 6e52 656c   `RightButtonRel
-000147b0: 6561 7365 600a 2020 2020 2020 2020 2d20  ease`.        - 
-000147c0: 604d 6f75 7365 4d6f 7665 603a 206c 6973  `MouseMove`: lis
-000147d0: 7465 6e20 746f 206d 6f75 7365 2070 6f69  ten to mouse poi
-000147e0: 6e74 6572 2063 6861 6e67 696e 6720 706f  nter changing po
-000147f0: 7369 7469 6f6e 0a20 2020 2020 2020 202d  sition.        -
-00014800: 2060 4d6f 7573 6557 6865 656c 466f 7277   `MouseWheelForw
-00014810: 6172 6460 2c20 604d 6f75 7365 5768 6565  ard`, `MouseWhee
-00014820: 6c42 6163 6b77 6172 6460 0a20 2020 2020  lBackward`.     
-00014830: 2020 202d 2060 456e 7465 7260 2c20 604c     - `Enter`, `L
-00014840: 6561 7665 603a 206c 6973 7465 6e20 746f  eave`: listen to
-00014850: 206d 6f75 7365 2065 6e74 6572 696e 6720   mouse entering 
-00014860: 6f72 206c 6561 7669 6e67 2074 6865 2077  or leaving the w
-00014870: 696e 646f 770a 2020 2020 2020 2020 2d20  indow.        - 
-00014880: 6050 6963 6b60 2c20 6053 7461 7274 5069  `Pick`, `StartPi
-00014890: 636b 602c 2060 456e 6450 6963 6b60 3a20  ck`, `EndPick`: 
-000148a0: 6c69 7374 656e 2074 6f20 6f62 6a65 6374  listen to object
-000148b0: 2070 6963 6b69 6e67 0a20 2020 2020 2020   picking.       
-000148c0: 202d 2060 5265 7365 7443 616d 6572 6160   - `ResetCamera`
-000148d0: 2c20 6052 6573 6574 4361 6d65 7261 436c  , `ResetCameraCl
-000148e0: 6970 7069 6e67 5261 6e67 6560 0a20 2020  ippingRange`.   
-000148f0: 2020 2020 202d 2060 4572 726f 7260 2c20       - `Error`, 
-00014900: 6057 6172 6e69 6e67 600a 2020 2020 2020  `Warning`.      
-00014910: 2020 2d20 6043 6861 7260 0a20 2020 2020    - `Char`.     
-00014920: 2020 202d 2060 5469 6d65 7260 0a0a 2020     - `Timer`..  
-00014930: 2020 2020 2020 4368 6563 6b20 7468 6520        Check the 
-00014940: 636f 6d70 6c65 7465 206c 6973 7420 6f66  complete list of
-00014950: 2065 7665 6e74 7320 5b68 6572 655d 2868   events [here](h
-00014960: 7474 7073 3a2f 2f76 746b 2e6f 7267 2f64  ttps://vtk.org/d
-00014970: 6f63 2f6e 6967 6874 6c79 2f68 746d 6c2f  oc/nightly/html/
-00014980: 636c 6173 7376 746b 436f 6d6d 616e 642e  classvtkCommand.
-00014990: 6874 6d6c 292e 0a0a 2020 2020 2020 2020  html)...        
-000149a0: 4578 616d 706c 653a 0a20 2020 2020 2020  Example:.       
-000149b0: 2020 2020 2060 6060 7079 7468 6f6e 0a20       ```python. 
-000149c0: 2020 2020 2020 2020 2020 2066 726f 6d20             from 
-000149d0: 7665 646f 2069 6d70 6f72 7420 2a0a 0a20  vedo import *.. 
-000149e0: 2020 2020 2020 2020 2020 2064 6566 2066             def f
-000149f0: 756e 6328 6576 7429 3a20 0a20 2020 2020  unc(evt): .     
-00014a00: 2020 2020 2020 2020 2020 2023 2074 6869             # thi
-00014a10: 7320 6675 6e63 7469 6f6e 2069 7320 6361  s function is ca
-00014a20: 6c6c 6564 2065 7665 7279 2074 696d 6520  lled every time 
-00014a30: 7468 6520 6d6f 7573 6520 6d6f 7665 730a  the mouse moves.
-00014a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a50: 2320 2865 7674 2069 7320 6120 646f 7474  # (evt is a dott
-00014a60: 6564 2064 6963 7469 6f6e 6172 7929 0a20  ed dictionary). 
-00014a70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00014a80: 6620 6e6f 7420 6576 742e 6163 746f 723a  f not evt.actor:
-00014a90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014aa0: 2020 2020 2072 6574 7572 6e20 2023 206e       return  # n
-00014ab0: 6f20 6869 742c 2072 6574 7572 6e0a 2020  o hit, return.  
-00014ac0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00014ad0: 696e 7428 2270 6f69 6e74 2063 6f6f 7264  int("point coord
-00014ae0: 7320 3d22 2c20 6576 742e 7069 636b 6564  s =", evt.picked
-00014af0: 3364 290a 2020 2020 2020 2020 2020 2020  3d).            
-00014b00: 2020 2020 2320 7072 696e 7428 2266 756c      # print("ful
-00014b10: 6c20 6576 656e 7420 6475 6d70 3a22 2c20  l event dump:", 
-00014b20: 6576 7429 0a0a 2020 2020 2020 2020 2020  evt)..          
-00014b30: 2020 656c 6c69 203d 2045 6c6c 6970 736f    elli = Ellipso
-00014b40: 6964 2829 0a20 2020 2020 2020 2020 2020  id().           
-00014b50: 2070 6c74 203d 2050 6c6f 7474 6572 2861   plt = Plotter(a
-00014b60: 7865 733d 3129 0a20 2020 2020 2020 2020  xes=1).         
-00014b70: 2020 2070 6c74 2e61 6464 5f63 616c 6c62     plt.add_callb
-00014b80: 6163 6b28 276d 6f75 7365 2068 6f76 6572  ack('mouse hover
-00014b90: 696e 6727 2c20 6675 6e63 290a 2020 2020  ing', func).    
-00014ba0: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
-00014bb0: 2865 6c6c 6929 2e63 6c6f 7365 2829 0a20  (elli).close(). 
-00014bc0: 2020 2020 2020 2020 2020 2060 6060 0a0a             ```..
-00014bd0: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
-00014be0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-00014bf0: 5b73 706c 696e 655f 6472 6177 2e70 795d  [spline_draw.py]
-00014c00: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00014c10: 636f 6d2f 6d61 7263 6f6d 7573 792f 7665  com/marcomusy/ve
-00014c20: 646f 2f74 7265 652f 6d61 7374 6572 2f65  do/tree/master/e
-00014c30: 7861 6d70 6c65 732f 6164 7661 6e63 6564  xamples/advanced
-00014c40: 2f73 706c 696e 655f 6472 6177 2e70 7929  /spline_draw.py)
-00014c50: 0a20 2020 2020 2020 2020 2020 202d 205b  .            - [
-00014c60: 636f 6c6f 726c 696e 6573 2e70 795d 2868  colorlines.py](h
-00014c70: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00014c80: 6d2f 6d61 7263 6f6d 7573 792f 7665 646f  m/marcomusy/vedo
-00014c90: 2f74 7265 652f 6d61 7374 6572 2f65 7861  /tree/master/exa
-00014ca0: 6d70 6c65 732f 6261 7369 632f 636f 6c6f  mples/basic/colo
-00014cb0: 726c 696e 6573 2e70 7929 0a0a 2020 2020  rlines.py)..    
-00014cc0: 2020 2020 2020 2020 2020 2020 215b 5d28              ![](
-00014cd0: 6874 7470 733a 2f2f 7665 646f 2e65 6d62  https://vedo.emb
-00014ce0: 6c2e 6573 2f69 6d61 6765 732f 6164 7661  l.es/images/adva
-00014cf0: 6e63 6564 2f73 706c 696e 655f 6472 6177  nced/spline_draw
-00014d00: 2e70 6e67 290a 0a20 2020 2020 2020 2020  .png)..         
-00014d10: 2020 202d 202e 2e61 6e64 206d 616e 7920     - ..and many 
-00014d20: 6f74 6865 7273 210a 2020 2020 2020 2020  others!.        
-00014d30: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
-00014d40: 6f74 2073 656c 662e 696e 7465 7261 6374  ot self.interact
-00014d50: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-00014d60: 7265 7475 726e 204e 6f6e 650a 0a20 2020  return None..   
-00014d70: 2020 2020 2023 2061 7320 7674 6b20 6e61       # as vtk na
-00014d80: 6d65 7320 6172 6520 7567 6c79 2061 6e64  mes are ugly and
-00014d90: 2064 6966 6669 6375 6c74 2074 6f20 7265   difficult to re
-00014da0: 6d65 6d62 6572 3a0a 2020 2020 2020 2020  member:.        
-00014db0: 6c6e 203d 2065 7665 6e74 5f6e 616d 652e  ln = event_name.
-00014dc0: 6c6f 7765 7228 290a 2020 2020 2020 2020  lower().        
-00014dd0: 6966 2022 636c 6963 6b22 2069 6e20 6c6e  if "click" in ln
-00014de0: 206f 7220 2262 7574 746f 6e22 2069 6e20   or "button" in 
-00014df0: 6c6e 3a0a 2020 2020 2020 2020 2020 2020  ln:.            
-00014e00: 6576 656e 745f 6e61 6d65 203d 2022 4c65  event_name = "Le
-00014e10: 6674 4275 7474 6f6e 5072 6573 7322 0a20  ftButtonPress". 
-00014e20: 2020 2020 2020 2020 2020 2069 6620 2272             if "r
-00014e30: 6967 6874 2220 696e 206c 6e3a 0a20 2020  ight" in ln:.   
-00014e40: 2020 2020 2020 2020 2020 2020 2065 7665               eve
-00014e50: 6e74 5f6e 616d 6520 3d20 2252 6967 6874  nt_name = "Right
-00014e60: 4275 7474 6f6e 5072 6573 7322 0a20 2020  ButtonPress".   
-00014e70: 2020 2020 2020 2020 2065 6c69 6620 226d           elif "m
-00014e80: 6964 2220 696e 206c 6e3a 0a20 2020 2020  id" in ln:.     
-00014e90: 2020 2020 2020 2020 2020 2065 7665 6e74             event
-00014ea0: 5f6e 616d 6520 3d20 224d 6964 646c 6542  _name = "MiddleB
-00014eb0: 7574 746f 6e50 7265 7373 220a 2020 2020  uttonPress".    
-00014ec0: 2020 2020 2020 2020 6966 2022 7265 6c65          if "rele
-00014ed0: 6173 6522 2069 6e20 6c6e 3a0a 2020 2020  ase" in ln:.    
-00014ee0: 2020 2020 2020 2020 2020 2020 2320 6576              # ev
-00014ef0: 656e 745f 6e61 6d65 203d 2065 7665 6e74  ent_name = event
-00014f00: 5f6e 616d 652e 7265 706c 6163 6528 2250  _name.replace("P
-00014f10: 7265 7373 222c 2252 656c 6561 7365 2229  ress","Release")
-00014f20: 2023 2076 746b 2062 7567 0a20 2020 2020   # vtk bug.     
-00014f30: 2020 2020 2020 2020 2020 2065 7665 6e74             event
-00014f40: 5f6e 616d 6520 3d20 2245 6e64 496e 7465  _name = "EndInte
-00014f50: 7261 6374 696f 6e22 0a20 2020 2020 2020  raction".       
-00014f60: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00014f70: 2020 2069 6620 226b 6579 2220 696e 206c     if "key" in l
-00014f80: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
-00014f90: 2020 2069 6620 2272 656c 6561 7365 2220     if "release" 
-00014fa0: 696e 206c 6e3a 0a20 2020 2020 2020 2020  in ln:.         
-00014fb0: 2020 2020 2020 2020 2020 2065 7665 6e74             event
-00014fc0: 5f6e 616d 6520 3d20 224b 6579 5265 6c65  _name = "KeyRele
-00014fd0: 6173 6522 0a20 2020 2020 2020 2020 2020  ase".           
-00014fe0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00014ff0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00015000: 7665 6e74 5f6e 616d 6520 3d20 224b 6579  vent_name = "Key
-00015010: 5072 6573 7322 0a0a 2020 2020 2020 2020  Press"..        
-00015020: 6966 2028 226d 6f75 7365 2220 696e 206c  if ("mouse" in l
-00015030: 6e20 616e 6420 226d 6f76 2220 696e 206c  n and "mov" in l
-00015040: 6e29 206f 7220 226f 7665 7222 2069 6e20  n) or "over" in 
-00015050: 6c6e 3a0a 2020 2020 2020 2020 2020 2020  ln:.            
-00015060: 6576 656e 745f 6e61 6d65 203d 2022 4d6f  event_name = "Mo
-00015070: 7573 654d 6f76 6522 0a20 2020 2020 2020  useMove".       
-00015080: 2069 6620 2274 696d 6572 2220 696e 206c   if "timer" in l
-00015090: 6e3a 0a20 2020 2020 2020 2020 2020 2065  n:.            e
-000150a0: 7665 6e74 5f6e 616d 6520 3d20 2254 696d  vent_name = "Tim
-000150b0: 6572 220a 0a20 2020 2020 2020 2069 6620  er"..        if 
-000150c0: 6e6f 7420 6576 656e 745f 6e61 6d65 2e65  not event_name.e
-000150d0: 6e64 7377 6974 6828 2245 7665 6e74 2229  ndswith("Event")
-000150e0: 3a0a 2020 2020 2020 2020 2020 2020 6576  :.            ev
-000150f0: 656e 745f 6e61 6d65 202b 3d20 2245 7665  ent_name += "Eve
-00015100: 6e74 220a 0a20 2020 2020 2020 2064 6566  nt"..        def
-00015110: 205f 6675 6e63 5f77 7261 7028 6972 656e   _func_wrap(iren
-00015120: 2c20 656e 616d 6529 3a0a 2020 2020 2020  , ename):.      
-00015130: 2020 2020 2020 6576 656e 7420 3d20 7365        event = se
-00015140: 6c66 2e66 696c 6c5f 6576 656e 7428 656e  lf.fill_event(en
-00015150: 616d 653d 656e 616d 652c 2070 7269 6f72  ame=ename, prior
-00015160: 6974 793d 7072 696f 7269 7479 2c20 6369  ity=priority, ci
-00015170: 643d 6369 6429 0a20 2020 2020 2020 2020  d=cid).         
-00015180: 2020 2073 656c 662e 6c61 7374 5f65 7665     self.last_eve
-00015190: 6e74 203d 2065 7665 6e74 0a20 2020 2020  nt = event.     
-000151a0: 2020 2020 2020 2066 756e 6328 6576 656e         func(even
-000151b0: 7429 0a20 2020 2020 2020 2020 2020 2072  t).            r
-000151c0: 6574 7572 6e20 2023 2320 5f66 756e 635f  eturn  ## _func_
-000151d0: 7772 6170 0a0a 2020 2020 2020 2020 2320  wrap..        # 
-000151e0: 4e6f 7420 636f 6d70 6174 6962 6c65 2077  Not compatible w
-000151f0: 6974 6820 5072 6f63 6573 7345 7665 6e74  ith ProcessEvent
-00015200: 7328 290a 2020 2020 2020 2020 6966 2022  s().        if "
-00015210: 4d6f 7573 654d 6f76 6522 2069 6e20 6576  MouseMove" in ev
-00015220: 656e 745f 6e61 6d65 206f 7220 2254 696d  ent_name or "Tim
-00015230: 6572 2220 696e 2065 7665 6e74 5f6e 616d  er" in event_nam
-00015240: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00015250: 6574 7469 6e67 732e 616c 6c6f 775f 696e  ettings.allow_in
-00015260: 7465 7261 6374 696f 6e20 3d20 4661 6c73  teraction = Fals
-00015270: 650a 0a20 2020 2020 2020 2063 6964 203d  e..        cid =
-00015280: 2073 656c 662e 696e 7465 7261 6374 6f72   self.interactor
-00015290: 2e41 6464 4f62 7365 7276 6572 2865 7665  .AddObserver(eve
-000152a0: 6e74 5f6e 616d 652c 205f 6675 6e63 5f77  nt_name, _func_w
-000152b0: 7261 702c 2070 7269 6f72 6974 7929 0a20  rap, priority). 
-000152c0: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
-000152d0: 6572 2e64 6562 7567 2866 2272 6567 6973  er.debug(f"regis
-000152e0: 7465 7269 6e67 2065 7665 6e74 3a20 7b65  tering event: {e
-000152f0: 7665 6e74 5f6e 616d 657d 2077 6974 6820  vent_name} with 
-00015300: 6964 3d7b 6369 647d 2229 0a20 2020 2020  id={cid}").     
-00015310: 2020 2072 6574 7572 6e20 6369 640a 0a20     return cid.. 
-00015320: 2020 2064 6566 2072 656d 6f76 655f 6361     def remove_ca
-00015330: 6c6c 6261 636b 2873 656c 662c 2063 6964  llback(self, cid
-00015340: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-00015350: 2020 2020 2020 2052 656d 6f76 6520 6120         Remove a 
-00015360: 6361 6c6c 6261 636b 2066 756e 6374 696f  callback functio
-00015370: 6e20 6279 2069 7473 2069 640a 2020 2020  n by its id.    
-00015380: 2020 2020 6f72 2061 2077 686f 6c65 2063      or a whole c
-00015390: 6174 6567 6f72 7920 6f66 2063 616c 6c62  ategory of callb
-000153a0: 6163 6b73 2062 7920 7468 6569 7220 6e61  acks by their na
-000153b0: 6d65 2e0a 0a20 2020 2020 2020 2041 7267  me...        Arg
-000153c0: 756d 656e 7473 3a0a 2020 2020 2020 2020  uments:.        
-000153d0: 2020 2020 6369 6420 3a20 2869 6e74 2c20      cid : (int, 
-000153e0: 7374 7229 0a20 2020 2020 2020 2020 2020  str).           
-000153f0: 2020 2020 2055 6e69 7175 6520 6964 206f       Unique id o
-00015400: 6620 7468 6520 6361 6c6c 6261 636b 2e0a  f the callback..
-00015410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015420: 4966 2061 6e20 6576 656e 7420 6e61 6d65  If an event name
-00015430: 2069 7320 7061 7373 6564 2061 6c6c 2063   is passed all c
-00015440: 616c 6c62 6163 6b73 206f 6620 7468 6174  allbacks of that
-00015450: 2074 7970 6520 6172 6520 7265 6d6f 7665   type are remove
-00015460: 642e 0a20 2020 2020 2020 2022 2222 0a20  d..        """. 
-00015470: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
-00015480: 6e74 6572 6163 746f 723a 0a20 2020 2020  nteractor:.     
-00015490: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-000154a0: 616e 6365 2863 6964 2c20 7374 7229 3a0a  ance(cid, str):.
-000154b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000154c0: 2320 6173 2076 746b 206e 616d 6573 2061  # as vtk names a
-000154d0: 7265 2075 676c 7920 616e 6420 6469 6666  re ugly and diff
-000154e0: 6963 756c 7420 746f 2072 656d 656d 6265  icult to remembe
-000154f0: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00015500: 2020 206c 6e20 3d20 6369 642e 6c6f 7765     ln = cid.lowe
-00015510: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
-00015520: 2020 2020 6966 2022 636c 6963 6b22 2069      if "click" i
-00015530: 6e20 6c6e 206f 7220 2262 7574 746f 6e22  n ln or "button"
-00015540: 2069 6e20 6c6e 3a0a 2020 2020 2020 2020   in ln:.        
-00015550: 2020 2020 2020 2020 2020 2020 6369 6420              cid 
-00015560: 3d20 224c 6566 7442 7574 746f 6e50 7265  = "LeftButtonPre
-00015570: 7373 220a 2020 2020 2020 2020 2020 2020  ss".            
-00015580: 2020 2020 2020 2020 6966 2022 7269 6768          if "righ
-00015590: 7422 2069 6e20 6c6e 3a0a 2020 2020 2020  t" in ln:.      
-000155a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000155b0: 2020 6369 6420 3d20 2252 6967 6874 4275    cid = "RightBu
-000155c0: 7474 6f6e 5072 6573 7322 0a20 2020 2020  ttonPress".     
-000155d0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000155e0: 6c69 6620 226d 6964 2220 696e 206c 6e3a  lif "mid" in ln:
-000155f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015600: 2020 2020 2020 2020 2063 6964 203d 2022           cid = "
-00015610: 4d69 6464 6c65 4275 7474 6f6e 5072 6573  MiddleButtonPres
-00015620: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
-00015630: 2020 2020 2020 2069 6620 2272 656c 6561         if "relea
-00015640: 7365 2220 696e 206c 6e3a 0a20 2020 2020  se" in ln:.     
-00015650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015660: 2020 2063 6964 2e72 6570 6c61 6365 2822     cid.replace("
-00015670: 5072 6573 7322 2c20 2252 656c 6561 7365  Press", "Release
-00015680: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00015690: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000156a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000156b0: 226b 6579 2220 696e 206c 6e3a 0a20 2020  "key" in ln:.   
-000156c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156d0: 2020 2020 2069 6620 2272 656c 6561 7365       if "release
-000156e0: 2220 696e 206c 6e3a 0a20 2020 2020 2020  " in ln:.       
-000156f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015700: 2020 2020 2063 6964 203d 2022 4b65 7952       cid = "KeyR
-00015710: 656c 6561 7365 220a 2020 2020 2020 2020  elease".        
-00015720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015730: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00015740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015750: 2020 6369 6420 3d20 224b 6579 5072 6573    cid = "KeyPres
-00015760: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
-00015770: 2020 2069 6620 2822 6d6f 7573 6522 2069     if ("mouse" i
-00015780: 6e20 6c6e 2061 6e64 2022 6d6f 7622 2069  n ln and "mov" i
-00015790: 6e20 6c6e 2920 6f72 2022 6f76 6572 2220  n ln) or "over" 
-000157a0: 696e 206c 6e3a 0a20 2020 2020 2020 2020  in ln:.         
-000157b0: 2020 2020 2020 2020 2020 2063 6964 203d             cid =
-000157c0: 2022 4d6f 7573 654d 6f76 6522 0a20 2020   "MouseMove".   
-000157d0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000157e0: 2274 696d 6572 2220 696e 206c 6e3a 0a20  "timer" in ln:. 
-000157f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015800: 2020 2063 6964 203d 2022 5469 6d65 7222     cid = "Timer"
-00015810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015820: 2069 6620 6e6f 7420 6369 642e 656e 6473   if not cid.ends
-00015830: 7769 7468 2822 4576 656e 7422 293a 0a20  with("Event"):. 
-00015840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015850: 2020 2063 6964 202b 3d20 2245 7665 6e74     cid += "Event
-00015860: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00015870: 2020 7365 6c66 2e69 6e74 6572 6163 746f    self.interacto
-00015880: 722e 5265 6d6f 7665 4f62 7365 7276 6572  r.RemoveObserver
-00015890: 7328 6369 6429 0a20 2020 2020 2020 2020  s(cid).         
-000158a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000158b0: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
-000158c0: 7465 7261 6374 6f72 2e52 656d 6f76 654f  teractor.RemoveO
-000158d0: 6273 6572 7665 7228 6369 6429 0a20 2020  bserver(cid).   
-000158e0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-000158f0: 0a0a 2020 2020 6465 6620 7469 6d65 725f  ..    def timer_
-00015900: 6361 6c6c 6261 636b 2873 656c 662c 2061  callback(self, a
-00015910: 6374 696f 6e2c 2074 696d 6572 5f69 643d  ction, timer_id=
-00015920: 4e6f 6e65 2c20 6474 3d31 2c20 6f6e 655f  None, dt=1, one_
-00015930: 7368 6f74 3d46 616c 7365 293a 0a20 2020  shot=False):.   
-00015940: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00015950: 2053 7461 7274 206f 7220 7374 6f70 2061   Start or stop a
-00015960: 6e20 6578 6973 7469 6e67 2074 696d 6572  n existing timer
-00015970: 2e0a 0a20 2020 2020 2020 2041 7267 756d  ...        Argum
-00015980: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
-00015990: 2020 6163 7469 6f6e 203a 2028 7374 7229    action : (str)
-000159a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000159b0: 2045 6974 6865 7220 2263 7265 6174 6522   Either "create"
-000159c0: 2f22 7374 6172 7422 206f 7220 2264 6573  /"start" or "des
-000159d0: 7472 6f79 222f 2273 746f 7022 0a20 2020  troy"/"stop".   
-000159e0: 2020 2020 2020 2020 2074 696d 6572 5f69           timer_i
-000159f0: 6420 3a20 2869 6e74 290a 2020 2020 2020  d : (int).      
-00015a00: 2020 2020 2020 2020 2020 5768 656e 2073            When s
-00015a10: 746f 7070 696e 6720 7468 6520 7469 6d65  topping the time
-00015a20: 722c 2074 6865 2049 4420 6f66 2074 6865  r, the ID of the
-00015a30: 2074 696d 6572 2061 7320 7265 7475 726e   timer as return
-00015a40: 6564 2077 6865 6e20 6372 6561 7465 640a  ed when created.
-00015a50: 2020 2020 2020 2020 2020 2020 6474 203a              dt :
-00015a60: 2028 696e 7429 0a20 2020 2020 2020 2020   (int).         
-00015a70: 2020 2020 2020 2074 696d 6520 696e 206d         time in m
-00015a80: 696c 6c69 7365 636f 6e64 7320 6265 7477  illiseconds betw
-00015a90: 6565 6e20 6561 6368 2072 6570 6561 7465  een each repeate
-00015aa0: 6420 6361 6c6c 0a20 2020 2020 2020 2020  d call.         
-00015ab0: 2020 206f 6e65 5f73 686f 7420 3a20 2862     one_shot : (b
-00015ac0: 6f6f 6c29 0a20 2020 2020 2020 2020 2020  ool).           
-00015ad0: 2020 2020 2063 7265 6174 6520 6120 6f6e       create a on
-00015ae0: 6520 7368 6f74 2074 696d 6572 206f 6620  e shot timer of 
-00015af0: 7072 6573 6372 6962 6564 2064 7572 6174  prescribed durat
-00015b00: 696f 6e20 696e 7374 6561 6420 6f66 2061  ion instead of a
-00015b10: 2072 6570 6561 7469 6e67 206f 6e65 0a0a   repeating one..
-00015b20: 2020 2020 2020 2020 4578 616d 706c 6573          Examples
-00015b30: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-00015b40: 5b74 696d 6572 5f63 616c 6c62 6163 6b31  [timer_callback1
-00015b50: 2e70 795d 2868 7474 7073 3a2f 2f67 6974  .py](https://git
-00015b60: 6875 622e 636f 6d2f 6d61 7263 6f6d 7573  hub.com/marcomus
-00015b70: 792f 7665 646f 2f74 7265 652f 6d61 7374  y/vedo/tree/mast
-00015b80: 6572 2f65 7861 6d70 6c65 732f 6164 7661  er/examples/adva
-00015b90: 6e63 6564 2f74 696d 6572 5f63 616c 6c62  nced/timer_callb
-00015ba0: 6163 6b31 2e70 7929 0a20 2020 2020 2020  ack1.py).       
-00015bb0: 2020 2020 202d 205b 7469 6d65 725f 6361       - [timer_ca
-00015bc0: 6c6c 6261 636b 322e 7079 5d28 6874 7470  llback2.py](http
-00015bd0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00015be0: 6172 636f 6d75 7379 2f76 6564 6f2f 7472  arcomusy/vedo/tr
-00015bf0: 6565 2f6d 6173 7465 722f 6578 616d 706c  ee/master/exampl
-00015c00: 6573 2f61 6476 616e 6365 642f 7469 6d65  es/advanced/time
-00015c10: 725f 6361 6c6c 6261 636b 322e 7079 290a  r_callback2.py).
-00015c20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00015c30: 2020 2020 2021 5b5d 2868 7474 7073 3a2f       ![](https:/
-00015c40: 2f76 6564 6f2e 656d 626c 2e65 732f 696d  /vedo.embl.es/im
-00015c50: 6167 6573 2f61 6476 616e 6365 642f 7469  ages/advanced/ti
-00015c60: 6d65 725f 6361 6c6c 6261 636b 312e 6a70  mer_callback1.jp
-00015c70: 6729 0a20 2020 2020 2020 2022 2222 0a20  g).        """. 
-00015c80: 2020 2020 2020 2069 6620 6163 7469 6f6e         if action
-00015c90: 2069 6e20 2822 6372 6561 7465 222c 2022   in ("create", "
-00015ca0: 7374 6172 7422 2920 3a0a 2020 2020 2020  start") :.      
-00015cb0: 2020 2020 2020 6966 206f 6e65 5f73 686f        if one_sho
-00015cc0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00015cd0: 2020 2074 696d 6572 5f69 6420 3d20 7365     timer_id = se
-00015ce0: 6c66 2e69 6e74 6572 6163 746f 722e 4372  lf.interactor.Cr
-00015cf0: 6561 7465 4f6e 6553 686f 7454 696d 6572  eateOneShotTimer
-00015d00: 2864 7429 0a20 2020 2020 2020 2020 2020  (dt).           
-00015d10: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00015d20: 2020 2020 2020 2074 696d 6572 5f69 6420         timer_id 
-00015d30: 3d20 7365 6c66 2e69 6e74 6572 6163 746f  = self.interacto
-00015d40: 722e 4372 6561 7465 5265 7065 6174 696e  r.CreateRepeatin
-00015d50: 6754 696d 6572 2864 7429 0a20 2020 2020  gTimer(dt).     
-00015d60: 2020 2020 2020 2072 6574 7572 6e20 7469         return ti
-00015d70: 6d65 725f 6964 0a0a 2020 2020 2020 2020  mer_id..        
-00015d80: 656c 6966 2061 6374 696f 6e20 696e 2028  elif action in (
-00015d90: 2264 6573 7472 6f79 222c 2022 7374 6f70  "destroy", "stop
-00015da0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-00015db0: 6966 2074 696d 6572 5f69 6420 6973 206e  if timer_id is n
-00015dc0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00015dd0: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
-00015de0: 7465 7261 6374 6f72 2e44 6573 7472 6f79  teractor.Destroy
-00015df0: 5469 6d65 7228 7469 6d65 725f 6964 290a  Timer(timer_id).
-00015e00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00015e10: 2020 2020 2020 2020 2020 6520 3d20 6622            e = f"
-00015e20: 696e 2070 6c6f 7474 6572 2e74 696d 6572  in plotter.timer
-00015e30: 5f63 616c 6c62 6163 6b28 292e 2043 616e  _callback(). Can
-00015e40: 6e6f 7420 756e 6465 7273 7461 6e64 2061  not understand a
-00015e50: 6374 696f 6e3a 207b 6163 7469 6f6e 7d5c  ction: {action}\
-00015e60: 6e22 0a20 2020 2020 2020 2020 2020 2065  n".            e
-00015e70: 202b 3d20 2220 616c 6c6f 7765 6420 6163   += " allowed ac
-00015e80: 7469 6f6e 7320 6172 653a 205b 2773 7461  tions are: ['sta
-00015e90: 7274 272c 2027 7374 6f70 275d 2e20 536b  rt', 'stop']. Sk
-00015ea0: 6970 7065 642e 220a 2020 2020 2020 2020  ipped.".        
-00015eb0: 2020 2020 7665 646f 2e6c 6f67 6765 722e      vedo.logger.
-00015ec0: 6572 726f 7228 6529 0a20 2020 2020 2020  error(e).       
-00015ed0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00015ee0: 2020 6465 6620 636f 6d70 7574 655f 776f    def compute_wo
-00015ef0: 726c 645f 636f 6f72 6469 6e61 7465 280a  rld_coordinate(.
-00015f00: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00015f10: 2020 2020 2020 706f 7332 642c 0a20 2020        pos2d,.   
-00015f20: 2020 2020 2061 743d 4e6f 6e65 2c0a 2020       at=None,.  
-00015f30: 2020 2020 2020 6f62 6a73 3d28 292c 0a20        objs=(),. 
-00015f40: 2020 2020 2020 2062 6f75 6e64 733d 2829         bounds=()
-00015f50: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
-00015f60: 3d4e 6f6e 652c 0a20 2020 2020 2020 2070  =None,.        p
-00015f70: 6978 656c 746f 6c3d 4e6f 6e65 2c0a 2020  ixeltol=None,.  
-00015f80: 2020 2020 2020 776f 726c 6474 6f6c 3d4e        worldtol=N
-00015f90: 6f6e 652c 0a20 2020 2029 3a0a 2020 2020  one,.    ):.    
-00015fa0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00015fb0: 5472 616e 7366 6f72 6d20 6120 3244 2070  Transform a 2D p
-00015fc0: 6f69 6e74 206f 6e20 7468 6520 7363 7265  oint on the scre
-00015fd0: 656e 2069 6e74 6f20 6120 3344 2070 6f69  en into a 3D poi
-00015fe0: 6e74 2069 6e73 6964 6520 7468 6520 7265  nt inside the re
-00015ff0: 6e64 6572 696e 6720 7363 656e 652e 0a20  ndering scene.. 
-00016000: 2020 2020 2020 2049 6620 6120 7365 7420         If a set 
-00016010: 6f66 206d 6573 6865 7320 6973 2070 6173  of meshes is pas
-00016020: 7365 6420 7468 656e 2070 6f69 6e74 7320  sed then points 
-00016030: 6172 6520 706c 6163 6564 206f 6e74 6f20  are placed onto 
-00016040: 7468 6573 652e 0a0a 2020 2020 2020 2020  these...        
-00016050: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
-00016060: 2020 2020 2020 2070 6f73 3264 203a 2028         pos2d : (
-00016070: 6c69 7374 290a 2020 2020 2020 2020 2020  list).          
-00016080: 2020 2020 2020 3244 2073 6372 6565 6e20        2D screen 
-00016090: 636f 6f72 6469 6e61 7465 7320 706f 696e  coordinates poin
-000160a0: 742e 0a20 2020 2020 2020 2020 2020 2061  t..            a
-000160b0: 7420 3a20 2869 6e74 290a 2020 2020 2020  t : (int).      
-000160c0: 2020 2020 2020 2020 2020 7265 6e64 6572            render
-000160d0: 6572 206e 756d 6265 722e 0a20 2020 2020  er number..     
-000160e0: 2020 2020 2020 206f 626a 7320 3a20 286c         objs : (l
-000160f0: 6973 7429 0a20 2020 2020 2020 2020 2020  ist).           
-00016100: 2020 2020 206c 6973 7420 6f66 204d 6573       list of Mes
-00016110: 6820 6f62 6a65 6374 7320 746f 2070 726f  h objects to pro
-00016120: 6a65 6374 2074 6865 2070 6f69 6e74 206f  ject the point o
-00016130: 6e74 6f2e 0a20 2020 2020 2020 2020 2020  nto..           
-00016140: 2062 6f75 6e64 7320 3a20 286c 6973 7429   bounds : (list)
-00016150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016160: 2073 7065 6369 6679 2061 2062 6f75 6e64   specify a bound
-00016170: 696e 6720 626f 7820 6173 205b 786d 696e  ing box as [xmin
-00016180: 2c78 6d61 782c 2079 6d69 6e2c 796d 6178  ,xmax, ymin,ymax
-00016190: 2c20 7a6d 696e 2c7a 6d61 785d 2e0a 2020  , zmin,zmax]..  
-000161a0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-000161b0: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
-000161c0: 2020 2020 2020 2020 2020 2073 7065 6369             speci
-000161d0: 6679 2061 6e20 6f66 6673 6574 2076 616c  fy an offset val
-000161e0: 7565 2e0a 2020 2020 2020 2020 2020 2020  ue..            
-000161f0: 7069 7865 6c74 6f6c 203a 2028 696e 7429  pixeltol : (int)
-00016200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016210: 2073 6372 6565 6e20 746f 6c65 7261 6e63   screen toleranc
-00016220: 6520 696e 2070 6978 656c 732e 0a20 2020  e in pixels..   
-00016230: 2020 2020 2020 2020 2077 6f72 6c64 746f           worldto
-00016240: 6c20 3a20 2866 6c6f 6174 290a 2020 2020  l : (float).    
-00016250: 2020 2020 2020 2020 2020 2020 776f 726c              worl
-00016260: 6420 636f 6f72 6469 6e61 7465 7320 746f  d coordinates to
-00016270: 6c65 7261 6e63 652e 0a0a 2020 2020 2020  lerance...      
-00016280: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00016290: 2020 2020 2020 206e 756d 7079 2061 7272         numpy arr
-000162a0: 6179 2c20 7468 6520 706f 696e 7420 696e  ay, the point in
-000162b0: 2033 4420 776f 726c 6420 636f 6f72 6469   3D world coordi
-000162c0: 6e61 7465 732e 0a0a 2020 2020 2020 2020  nates...        
-000162d0: 4578 616d 706c 6573 3a0a 2020 2020 2020  Examples:.      
-000162e0: 2020 2020 2020 2d20 5b63 7574 5f66 7265        - [cut_fre
-000162f0: 6568 616e 642e 7079 5d28 6874 7470 733a  ehand.py](https:
-00016300: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6172  //github.com/mar
-00016310: 636f 6d75 7379 2f76 6564 6f2f 7472 6565  comusy/vedo/tree
-00016320: 2f6d 6173 7465 722f 6578 616d 706c 6573  /master/examples
-00016330: 2f62 6173 6963 2f63 7574 5f66 7265 6568  /basic/cut_freeh
-00016340: 616e 642e 7079 290a 2020 2020 2020 2020  and.py).        
-00016350: 2020 2020 2d20 5b6d 6f75 7365 686f 7665      - [mousehove
-00016360: 7233 2e70 795d 2868 7474 7073 3a2f 2f67  r3.py](https://g
-00016370: 6974 6875 622e 636f 6d2f 6d61 7263 6f6d  ithub.com/marcom
-00016380: 7573 792f 7665 646f 2f74 7265 652f 6d61  usy/vedo/tree/ma
-00016390: 7374 6572 2f65 7861 6d70 6c65 732f 6261  ster/examples/ba
-000163a0: 7369 632f 6d6f 7573 6568 6f76 6572 332e  sic/mousehover3.
-000163b0: 7079 290a 2020 2020 2020 2020 0a20 2020  py).        .   
-000163c0: 2020 2020 2020 2020 2021 5b5d 2868 7474           ![](htt
-000163d0: 7073 3a2f 2f76 6564 6f2e 656d 626c 2e65  ps://vedo.embl.e
-000163e0: 732f 696d 6167 6573 2f62 6173 6963 2f6d  s/images/basic/m
-000163f0: 6f75 7365 686f 7665 7233 2e6a 7067 290a  ousehover3.jpg).
-00016400: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00016410: 2020 2020 6966 2061 7420 6973 206e 6f74      if at is not
-00016420: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00016430: 2020 2072 656e 6465 7265 7220 3d20 7365     renderer = se
-00016440: 6c66 2e72 656e 6465 7265 7273 5b61 745d  lf.renderers[at]
-00016450: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00016460: 2020 2020 2020 2020 2020 2072 656e 6465             rende
-00016470: 7265 7220 3d20 7365 6c66 2e72 656e 6465  rer = self.rende
-00016480: 7265 720a 0a20 2020 2020 2020 2069 6620  rer..        if 
-00016490: 6e6f 7420 6f62 6a73 3a0a 2020 2020 2020  not objs:.      
-000164a0: 2020 2020 2020 7070 203d 2076 746b 2e76        pp = vtk.v
-000164b0: 746b 466f 6361 6c50 6c61 6e65 506f 696e  tkFocalPlanePoin
-000164c0: 7450 6c61 6365 7228 290a 2020 2020 2020  tPlacer().      
-000164d0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000164e0: 2020 2020 7070 203d 2076 746b 2e76 746b      pp = vtk.vtk
-000164f0: 506f 6c79 676f 6e61 6c53 7572 6661 6365  PolygonalSurface
-00016500: 506f 696e 7450 6c61 6365 7228 290a 2020  PointPlacer().  
-00016510: 2020 2020 2020 2020 2020 666f 7220 6f62            for ob
-00016520: 2069 6e20 6f62 6a73 3a0a 2020 2020 2020   in objs:.      
-00016530: 2020 2020 2020 2020 2020 7070 2e41 6464            pp.Add
-00016540: 5072 6f70 286f 6229 0a0a 2020 2020 2020  Prop(ob)..      
-00016550: 2020 6966 206c 656e 2862 6f75 6e64 7329    if len(bounds)
-00016560: 203d 3d20 363a 0a20 2020 2020 2020 2020   == 6:.         
-00016570: 2020 2070 702e 5365 7450 6f69 6e74 426f     pp.SetPointBo
-00016580: 756e 6473 2862 6f75 6e64 7329 0a20 2020  unds(bounds).   
-00016590: 2020 2020 2069 6620 7069 7865 6c74 6f6c       if pixeltol
-000165a0: 3a0a 2020 2020 2020 2020 2020 2020 7070  :.            pp
-000165b0: 2e53 6574 5069 7865 6c54 6f6c 6572 616e  .SetPixelToleran
-000165c0: 6365 2870 6978 656c 746f 6c29 0a20 2020  ce(pixeltol).   
-000165d0: 2020 2020 2069 6620 776f 726c 6474 6f6c       if worldtol
-000165e0: 3a0a 2020 2020 2020 2020 2020 2020 7070  :.            pp
-000165f0: 2e53 6574 576f 726c 6454 6f6c 6572 616e  .SetWorldToleran
-00016600: 6365 2877 6f72 6c64 746f 6c29 0a20 2020  ce(worldtol).   
-00016610: 2020 2020 2069 6620 6f66 6673 6574 3a0a       if offset:.
-00016620: 2020 2020 2020 2020 2020 2020 7070 2e53              pp.S
-00016630: 6574 4f66 6673 6574 286f 6666 7365 7429  etOffset(offset)
-00016640: 0a0a 2020 2020 2020 2020 776f 726c 6450  ..        worldP
-00016650: 6f73 203d 205b 302c 2030 2c20 305d 0a20  os = [0, 0, 0]. 
-00016660: 2020 2020 2020 2077 6f72 6c64 4f72 6965         worldOrie
-00016670: 6e74 203d 205b 302c 2030 2c20 302c 2030  nt = [0, 0, 0, 0
-00016680: 2c20 302c 2030 2c20 302c 2030 2c20 305d  , 0, 0, 0, 0, 0]
-00016690: 0a20 2020 2020 2020 2070 702e 436f 6d70  .        pp.Comp
-000166a0: 7574 6557 6f72 6c64 506f 7369 7469 6f6e  uteWorldPosition
-000166b0: 2872 656e 6465 7265 722c 2070 6f73 3264  (renderer, pos2d
-000166c0: 2c20 776f 726c 6450 6f73 2c20 776f 726c  , worldPos, worl
-000166d0: 644f 7269 656e 7429 0a20 2020 2020 2020  dOrient).       
-000166e0: 2023 2076 616c 6964 7720 3d20 7070 2e56   # validw = pp.V
-000166f0: 616c 6964 6174 6557 6f72 6c64 506f 7369  alidateWorldPosi
-00016700: 7469 6f6e 2877 6f72 6c64 506f 732c 2077  tion(worldPos, w
-00016710: 6f72 6c64 4f72 6965 6e74 290a 2020 2020  orldOrient).    
-00016720: 2020 2020 2320 7661 6c69 6464 203d 2070      # validd = p
-00016730: 702e 5661 6c69 6461 7465 4469 7370 6c61  p.ValidateDispla
-00016740: 7950 6f73 6974 696f 6e28 7265 6e64 6572  yPosition(render
-00016750: 6572 2c20 706f 7332 6429 0a20 2020 2020  er, pos2d).     
-00016760: 2020 2072 6574 7572 6e20 6e70 2e61 7272     return np.arr
-00016770: 6179 2877 6f72 6c64 506f 7329 0a0a 2020  ay(worldPos)..  
-00016780: 2020 6465 6620 636f 6d70 7574 655f 7363    def compute_sc
-00016790: 7265 656e 5f63 6f6f 7264 696e 6174 6573  reen_coordinates
-000167a0: 2873 656c 662c 206f 626a 2c20 6675 6c6c  (self, obj, full
-000167b0: 5f77 696e 646f 773d 4661 6c73 6529 3a0a  _window=False):.
-000167c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000167d0: 2020 2020 4769 7665 6e20 6120 3344 2070      Given a 3D p
-000167e0: 6f69 6e74 7320 696e 2074 6865 2063 7572  oints in the cur
-000167f0: 7265 6e74 2072 656e 6465 7265 7220 286f  rent renderer (o
-00016800: 7220 6675 6c6c 2077 696e 646f 7729 2c0a  r full window),.
-00016810: 2020 2020 2020 2020 6669 6e64 2074 6865          find the
-00016820: 2073 6372 6565 6e20 7069 7865 6c20 636f   screen pixel co
-00016830: 6f72 6469 6e61 7465 732e 0a0a 2020 2020  ordinates...    
-00016840: 2020 2020 4578 616d 706c 653a 0a20 2020      Example:.   
-00016850: 2020 2020 2020 2020 2060 6060 7079 7468           ```pyth
-00016860: 6f6e 0a20 2020 2020 2020 2020 2020 2066  on.            f
-00016870: 726f 6d20 7665 646f 2069 6d70 6f72 7420  rom vedo import 
-00016880: 2a0a 0a20 2020 2020 2020 2020 2020 2065  *..            e
-00016890: 6c6c 6920 3d20 456c 6c69 7073 6f69 6428  lli = Ellipsoid(
-000168a0: 292e 726f 7461 7465 5f79 2833 3029 0a0a  ).rotate_y(30)..
-000168b0: 2020 2020 2020 2020 2020 2020 706c 7420              plt 
-000168c0: 3d20 506c 6f74 7465 7228 290a 2020 2020  = Plotter().    
-000168d0: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
-000168e0: 2865 6c6c 6929 0a0a 2020 2020 2020 2020  (elli)..        
-000168f0: 2020 2020 7879 7363 7265 656e 203d 2070      xyscreen = p
-00016900: 6c74 2e63 6f6d 7075 7465 5f73 6372 6565  lt.compute_scree
-00016910: 6e5f 706f 7369 7469 6f6e 7328 656c 6c69  n_positions(elli
-00016920: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-00016930: 696e 7428 2778 7973 6372 6565 6e20 636f  int('xyscreen co
-00016940: 6f72 6473 3a27 2c20 7879 7363 7265 656e  ords:', xyscreen
-00016950: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-00016960: 2073 696d 756c 6174 6520 616e 2065 7665   simulate an eve
-00016970: 6e74 2068 6170 7065 6e69 6e67 2061 7420  nt happening at 
-00016980: 6f6e 6520 706f 696e 740a 2020 2020 2020  one point.      
-00016990: 2020 2020 2020 6576 656e 7420 3d20 706c        event = pl
-000169a0: 742e 6669 6c6c 5f65 7665 6e74 2870 6f73  t.fill_event(pos
-000169b0: 3d78 7973 6372 6565 6e5b 3132 335d 290a  =xyscreen[123]).
-000169c0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-000169d0: 7428 6576 656e 7429 0a20 2020 2020 2020  t(event).       
-000169e0: 2020 2020 2060 6060 0a20 2020 2020 2020       ```.       
-000169f0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00016a00: 6973 696e 7374 616e 6365 286f 626a 2c20  isinstance(obj, 
-00016a10: 7665 646f 2e62 6173 652e 4261 7365 3344  vedo.base.Base3D
-00016a20: 5072 6f70 293a 0a20 2020 2020 2020 2020  Prop):.         
-00016a30: 2020 2070 7473 203d 206f 626a 2e70 6f69     pts = obj.poi
-00016a40: 6e74 7328 290a 2020 2020 2020 2020 656c  nts().        el
-00016a50: 6966 2075 7469 6c73 2e69 735f 7365 7175  if utils.is_sequ
-00016a60: 656e 6365 286f 626a 293a 0a20 2020 2020  ence(obj):.     
-00016a70: 2020 2020 2020 2070 7473 203d 206f 626a         pts = obj
-00016a80: 0a20 2020 2020 2020 2070 3264 203d 205b  .        p2d = [
-00016a90: 5d20 2020 200a 2020 2020 2020 2020 6373  ]    .        cs
-00016aa0: 203d 2076 746b 2e76 746b 436f 6f72 6469   = vtk.vtkCoordi
-00016ab0: 6e61 7465 2829 0a20 2020 2020 2020 2063  nate().        c
-00016ac0: 732e 5365 7443 6f6f 7264 696e 6174 6553  s.SetCoordinateS
-00016ad0: 7973 7465 6d54 6f57 6f72 6c64 2829 0a20  ystemToWorld(). 
-00016ae0: 2020 2020 2020 2063 732e 5365 7456 6965         cs.SetVie
-00016af0: 7770 6f72 7428 7365 6c66 2e72 656e 6465  wport(self.rende
-00016b00: 7265 7229 0a20 2020 2020 2020 2066 6f72  rer).        for
-00016b10: 2070 2069 6e20 7074 733a 0a20 2020 2020   p in pts:.     
-00016b20: 2020 2020 2020 2063 732e 5365 7456 616c         cs.SetVal
-00016b30: 7565 2870 290a 2020 2020 2020 2020 2020  ue(p).          
-00016b40: 2020 6966 2066 756c 6c5f 7769 6e64 6f77    if full_window
-00016b50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00016b60: 2020 7032 642e 6170 7065 6e64 2863 732e    p2d.append(cs.
-00016b70: 4765 7443 6f6d 7075 7465 6444 6973 706c  GetComputedDispl
-00016b80: 6179 5661 6c75 6528 7365 6c66 2e72 656e  ayValue(self.ren
-00016b90: 6465 7265 7229 290a 2020 2020 2020 2020  derer)).        
-00016ba0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00016bb0: 2020 2020 2020 2020 2020 7032 642e 6170            p2d.ap
-00016bc0: 7065 6e64 2863 732e 4765 7443 6f6d 7075  pend(cs.GetCompu
-00016bd0: 7465 6456 6965 7770 6f72 7456 616c 7565  tedViewportValue
-00016be0: 2873 656c 662e 7265 6e64 6572 6572 2929  (self.renderer))
-00016bf0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00016c00: 6e70 2e61 7272 6179 2870 3264 2c20 6474  np.array(p2d, dt
-00016c10: 7970 653d 696e 7429 0a0a 2020 2020 6465  ype=int)..    de
-00016c20: 6620 5f73 6361 6e5f 696e 7075 7428 7365  f _scan_input(se
-00016c30: 6c66 2c20 7761 6e6e 6162 6561 6374 7329  lf, wannabeacts)
-00016c40: 3a0a 2020 2020 2020 2020 2320 7363 616e  :.        # scan
-00016c50: 2074 6865 2069 6e70 7574 206f 6620 7368   the input of sh
-00016c60: 6f77 0a20 2020 2020 2020 2069 6620 6e6f  ow.        if no
-00016c70: 7420 7574 696c 732e 6973 5f73 6571 7565  t utils.is_seque
-00016c80: 6e63 6528 7761 6e6e 6162 6561 6374 7329  nce(wannabeacts)
-00016c90: 3a0a 2020 2020 2020 2020 2020 2020 7761  :.            wa
-00016ca0: 6e6e 6162 6561 6374 7320 3d20 5b77 616e  nnabeacts = [wan
-00016cb0: 6e61 6265 6163 7473 5d0a 0a20 2020 2020  nabeacts]..     
-00016cc0: 2020 2073 6361 6e6e 6564 6163 7473 203d     scannedacts =
-00016cd0: 205b 5d0a 2020 2020 2020 2020 666f 7220   [].        for 
-00016ce0: 6120 696e 2077 616e 6e61 6265 6163 7473  a in wannabeacts
-00016cf0: 3a20 2023 2073 6361 6e20 636f 6e74 656e  :  # scan conten
-00016d00: 7420 6f66 206c 6973 740a 0a20 2020 2020  t of list..     
-00016d10: 2020 2020 2020 2069 6620 6120 6973 204e         if a is N
-00016d20: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00016d30: 2020 2020 2070 6173 730a 0a20 2020 2020       pass..     
-00016d40: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
-00016d50: 7374 616e 6365 2861 2c20 7674 6b2e 7674  stance(a, vtk.vt
-00016d60: 6b41 6374 6f72 293a 0a0a 2020 2020 2020  kActor):..      
-00016d70: 2020 2020 2020 2020 2020 7363 616e 6e65            scanne
-00016d80: 6461 6374 732e 6170 7065 6e64 2861 290a  dacts.append(a).
-00016d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016da0: 2069 6620 6973 696e 7374 616e 6365 2861   if isinstance(a
-00016db0: 2c20 7665 646f 2e62 6173 652e 4261 7365  , vedo.base.Base
-00016dc0: 4163 746f 7229 3a0a 2020 2020 2020 2020  Actor):.        
-00016dd0: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-00016de0: 2e73 6861 646f 7773 3a0a 2020 2020 2020  .shadows:.      
-00016df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016e00: 2020 612e 5f75 7064 6174 655f 7368 6164    a._update_shad
-00016e10: 6f77 7328 290a 2020 2020 2020 2020 2020  ows().          
-00016e20: 2020 2020 2020 2020 2020 2020 2020 7363                sc
-00016e30: 616e 6e65 6461 6374 732e 6578 7465 6e64  annedacts.extend
-00016e40: 2861 2e73 6861 646f 7773 290a 0a20 2020  (a.shadows)..   
-00016e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016e60: 2069 6620 612e 7472 6169 6c20 616e 6420   if a.trail and 
-00016e70: 612e 7472 6169 6c20 6e6f 7420 696e 2073  a.trail not in s
-00016e80: 656c 662e 6163 746f 7273 3a0a 2020 2020  elf.actors:.    
-00016e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016ea0: 2020 2020 612e 5f75 7064 6174 655f 7472      a._update_tr
-00016eb0: 6169 6c28 290a 2020 2020 2020 2020 2020  ail().          
-00016ec0: 2020 2020 2020 2020 2020 2020 2020 7363                sc
-00016ed0: 616e 6e65 6461 6374 732e 6170 7065 6e64  annedacts.append
-00016ee0: 2861 2e74 7261 696c 290a 2020 2020 2020  (a.trail).      
-00016ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f00: 2020 2320 7472 6169 6c73 206d 6179 2061    # trails may a
-00016f10: 6c73 6f20 6861 7665 2073 6861 646f 7773  lso have shadows
-00016f20: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00016f30: 2020 2020 2020 2020 2020 6966 2061 2e74            if a.t
-00016f40: 7261 696c 2e73 6861 646f 7773 3a0a 2020  rail.shadows:.  
-00016f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f60: 2020 2020 2020 2020 2020 612e 7472 6169            a.trai
-00016f70: 6c2e 5f75 7064 6174 655f 7368 6164 6f77  l._update_shadow
-00016f80: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
-00016f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016fa0: 7363 616e 6e65 6461 6374 732e 6578 7465  scannedacts.exte
-00016fb0: 6e64 2861 2e74 7261 696c 2e73 6861 646f  nd(a.trail.shado
-00016fc0: 7773 290a 0a20 2020 2020 2020 2020 2020  ws)..           
-00016fd0: 2020 2020 2020 2020 2069 6620 612e 5f63           if a._c
-00016fe0: 6170 7469 6f6e 2061 6e64 2061 2e5f 6361  aption and a._ca
-00016ff0: 7074 696f 6e20 6e6f 7420 696e 2073 656c  ption not in sel
-00017000: 662e 6163 746f 7273 3a0a 2020 2020 2020  f.actors:.      
-00017010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017020: 2020 7363 616e 6e65 6461 6374 732e 6170    scannedacts.ap
-00017030: 7065 6e64 2861 2e5f 6361 7074 696f 6e29  pend(a._caption)
-00017040: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
-00017050: 6966 2069 7369 6e73 7461 6e63 6528 612c  if isinstance(a,
-00017060: 2076 746b 2e76 746b 4163 746f 7232 4429   vtk.vtkActor2D)
-00017070: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017080: 2020 7363 616e 6e65 6461 6374 732e 6170    scannedacts.ap
-00017090: 7065 6e64 2861 290a 0a20 2020 2020 2020  pend(a)..       
-000170a0: 2020 2020 2065 6c69 6620 6973 696e 7374       elif isinst
-000170b0: 616e 6365 2861 2c20 7674 6b2e 7674 6b41  ance(a, vtk.vtkA
-000170c0: 7373 656d 626c 7929 3a0a 2020 2020 2020  ssembly):.      
-000170d0: 2020 2020 2020 2020 2020 7363 616e 6e65            scanne
-000170e0: 6461 6374 732e 6170 7065 6e64 2861 290a  dacts.append(a).
-000170f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017100: 6966 2061 2e74 7261 696c 2061 6e64 2061  if a.trail and a
-00017110: 2e74 7261 696c 206e 6f74 2069 6e20 7365  .trail not in se
-00017120: 6c66 2e61 6374 6f72 733a 0a20 2020 2020  lf.actors:.     
-00017130: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00017140: 6361 6e6e 6564 6163 7473 2e61 7070 656e  cannedacts.appen
-00017150: 6428 612e 7472 6169 6c29 0a0a 2020 2020  d(a.trail)..    
-00017160: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
-00017170: 6e73 7461 6e63 6528 612c 2028 7665 646f  nstance(a, (vedo
-00017180: 2e56 6f6c 756d 652c 2076 6564 6f2e 566f  .Volume, vedo.Vo
-00017190: 6c75 6d65 536c 6963 6529 293a 0a20 2020  lumeSlice)):.   
-000171a0: 2020 2020 2020 2020 2020 2020 2073 6361               sca
-000171b0: 6e6e 6564 6163 7473 2e61 7070 656e 6428  nnedacts.append(
-000171c0: 6129 0a0a 2020 2020 2020 2020 2020 2020  a)..            
-000171d0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-000171e0: 612c 2076 746b 2e76 746b 496d 6167 6544  a, vtk.vtkImageD
-000171f0: 6174 6129 3a0a 2020 2020 2020 2020 2020  ata):.          
-00017200: 2020 2020 2020 7363 616e 6e65 6461 6374        scannedact
-00017210: 732e 6170 7065 6e64 2876 6564 6f2e 566f  s.append(vedo.Vo
-00017220: 6c75 6d65 2861 2929 0a0a 2020 2020 2020  lume(a))..      
-00017230: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-00017240: 7461 6e63 6528 612c 2076 6564 6f2e 5465  tance(a, vedo.Te
-00017250: 744d 6573 6829 3a0a 2020 2020 2020 2020  tMesh):.        
-00017260: 2020 2020 2020 2020 2320 6368 6563 6b20          # check 
-00017270: 7567 7269 6420 6973 2061 6c6c 206d 6164  ugrid is all mad
-00017280: 6520 6f66 2074 6574 730a 2020 2020 2020  e of tets.      
-00017290: 2020 2020 2020 2020 2020 7567 7269 6420            ugrid 
-000172a0: 3d20 612e 696e 7075 7464 6174 6128 290a  = a.inputdata().
-000172b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000172c0: 7561 7272 203d 2075 6772 6964 2e47 6574  uarr = ugrid.Get
-000172d0: 4365 6c6c 5479 7065 7341 7272 6179 2829  CellTypesArray()
-000172e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000172f0: 2063 656c 6c74 7970 6573 203d 206e 702e   celltypes = np.
-00017300: 756e 6971 7565 2875 7469 6c73 2e76 746b  unique(utils.vtk
-00017310: 326e 756d 7079 2875 6172 7229 290a 2020  2numpy(uarr)).  
-00017320: 2020 2020 2020 2020 2020 2020 2020 6e63                nc
-00017330: 656c 6c74 7970 6573 203d 206c 656e 2863  elltypes = len(c
-00017340: 656c 6c74 7970 6573 290a 2020 2020 2020  elltypes).      
-00017350: 2020 2020 2020 2020 2020 6966 206e 6365            if nce
-00017360: 6c6c 7479 7065 7320 3e20 3120 6f72 2028  lltypes > 1 or (
-00017370: 6e63 656c 6c74 7970 6573 203d 3d20 3120  ncelltypes == 1 
-00017380: 616e 6420 6365 6c6c 7479 7065 735b 305d  and celltypes[0]
-00017390: 2021 3d20 3130 293a 0a20 2020 2020 2020   != 10):.       
-000173a0: 2020 2020 2020 2020 2020 2020 2073 6361               sca
-000173b0: 6e6e 6564 6163 7473 2e61 7070 656e 6428  nnedacts.append(
-000173c0: 612e 746f 6d65 7368 2829 290a 2020 2020  a.tomesh()).    
-000173d0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000173e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000173f0: 2020 2020 2020 6966 206e 6f74 2075 6772        if not ugr
-00017400: 6964 2e47 6574 506f 696e 7444 6174 6128  id.GetPointData(
-00017410: 292e 4765 7453 6361 6c61 7273 2829 3a0a  ).GetScalars():.
-00017420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017430: 2020 2020 2020 2020 6966 206e 6f74 2075          if not u
-00017440: 6772 6964 2e47 6574 4365 6c6c 4461 7461  grid.GetCellData
-00017450: 2829 2e47 6574 5363 616c 6172 7328 293a  ().GetScalars():
-00017460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017470: 2020 2020 2020 2020 2020 2020 2023 2061               # a
-00017480: 6464 2064 756d 6d79 2061 7272 6179 2066  dd dummy array f
-00017490: 6f72 2076 746b 5072 6f6a 6563 7465 6454  or vtkProjectedT
-000174a0: 6574 7261 6865 6472 614d 6170 7065 7220  etrahedraMapper 
-000174b0: 746f 2077 6f72 6b3a 0a20 2020 2020 2020  to work:.       
-000174c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000174d0: 2020 2020 2061 2e63 656c 6c64 6174 615b       a.celldata[
-000174e0: 2244 756d 6d79 4f6e 6541 7272 6179 225d  "DummyOneArray"]
-000174f0: 203d 206e 702e 6f6e 6573 2861 2e6e 6365   = np.ones(a.nce
-00017500: 6c6c 7329 0a20 2020 2020 2020 2020 2020  lls).           
-00017510: 2020 2020 2020 2020 2073 6361 6e6e 6564           scanned
-00017520: 6163 7473 2e61 7070 656e 6428 6129 0a0a  acts.append(a)..
-00017530: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00017540: 2069 7369 6e73 7461 6e63 6528 612c 2076   isinstance(a, v
-00017550: 6564 6f2e 5547 7269 6429 3a0a 2020 2020  edo.UGrid):.    
-00017560: 2020 2020 2020 2020 2020 2020 7363 616e              scan
-00017570: 6e65 6461 6374 732e 6170 7065 6e64 2861  nedacts.append(a
-00017580: 2e74 6f6d 6573 6828 2929 0a0a 2020 2020  .tomesh())..    
-00017590: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
-000175a0: 6e73 7461 6e63 6528 612c 2076 746b 2e76  nstance(a, vtk.v
-000175b0: 746b 566f 6c75 6d65 293a 2020 2320 6f72  tkVolume):  # or
-000175c0: 6465 7220 6d61 7474 6572 7321 2064 6f6e  der matters! don
-000175d0: 7420 6d6f 7665 2061 626f 7665 2054 6574  t move above Tet
-000175e0: 4d65 7368 0a20 2020 2020 2020 2020 2020  Mesh.           
-000175f0: 2020 2020 2076 766f 6c20 3d20 7665 646f       vvol = vedo
-00017600: 2e56 6f6c 756d 6528 612e 4765 744d 6170  .Volume(a.GetMap
-00017610: 7065 7228 292e 4765 7449 6e70 7574 2829  per().GetInput()
-00017620: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00017630: 2020 7670 726f 7020 3d20 7674 6b2e 7674    vprop = vtk.vt
-00017640: 6b56 6f6c 756d 6550 726f 7065 7274 7928  kVolumeProperty(
-00017650: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00017660: 2020 7670 726f 702e 4465 6570 436f 7079    vprop.DeepCopy
-00017670: 2861 2e47 6574 5072 6f70 6572 7479 2829  (a.GetProperty()
-00017680: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00017690: 2020 7676 6f6c 2e53 6574 5072 6f70 6572    vvol.SetProper
-000176a0: 7479 2876 7072 6f70 290a 2020 2020 2020  ty(vprop).      
-000176b0: 2020 2020 2020 2020 2020 7363 616e 6e65            scanne
-000176c0: 6461 6374 732e 6170 7065 6e64 2876 766f  dacts.append(vvo
-000176d0: 6c29 0a0a 2020 2020 2020 2020 2020 2020  l)..            
-000176e0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-000176f0: 612c 2073 7472 293a 0a20 2020 2020 2020  a, str):.       
-00017700: 2020 2020 2020 2020 2023 2061 7373 756d           # assum
-00017710: 6520 6120 3244 2063 6f6d 6d65 6e74 2077  e a 2D comment w
-00017720: 6173 2067 6976 656e 0a20 2020 2020 2020  as given.       
-00017730: 2020 2020 2020 2020 2063 6861 6e67 6564           changed
-00017740: 203d 2046 616c 7365 2020 2320 6368 6563   = False  # chec
-00017750: 6b20 6966 206f 6e65 2061 6c72 6561 6479  k if one already
-00017760: 2065 7869 7374 7320 736f 2074 6f20 6a75   exists so to ju
-00017770: 7374 2075 7064 6174 6520 7465 7874 0a20  st update text. 
-00017780: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00017790: 6620 7365 6c66 2e72 656e 6465 7265 723a  f self.renderer:
-000177a0: 2020 2320 6d69 6768 7420 6265 206a 7570    # might be jup
-000177b0: 7974 6572 0a20 2020 2020 2020 2020 2020  yter.           
-000177c0: 2020 2020 2020 2020 2061 6373 203d 2073           acs = s
-000177d0: 656c 662e 7265 6e64 6572 6572 2e47 6574  elf.renderer.Get
-000177e0: 4163 746f 7273 3244 2829 0a20 2020 2020  Actors2D().     
-000177f0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00017800: 6373 2e49 6e69 7454 7261 7665 7273 616c  cs.InitTraversal
-00017810: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-00017820: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
-00017830: 7261 6e67 6528 6163 732e 4765 744e 756d  range(acs.GetNum
-00017840: 6265 724f 6649 7465 6d73 2829 293a 0a20  berOfItems()):. 
-00017850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017860: 2020 2020 2020 2061 6374 203d 2061 6373         act = acs
-00017870: 2e47 6574 4e65 7874 4974 656d 2829 0a20  .GetNextItem(). 
-00017880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017890: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-000178a0: 616e 6365 2861 6374 2c20 7665 646f 2e73  ance(act, vedo.s
-000178b0: 6861 7065 732e 5465 7874 3244 293a 0a20  hapes.Text2D):. 
-000178c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000178d0: 2020 2020 2020 2020 2020 2061 706f 7378             aposx
-000178e0: 2c20 6170 6f73 7920 3d20 6163 742e 4765  , aposy = act.Ge
-000178f0: 7450 6f73 6974 696f 6e28 290a 2020 2020  tPosition().    
-00017900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017910: 2020 2020 2020 2020 6966 2061 706f 7378          if aposx
-00017920: 203c 2030 2e30 3120 616e 6420 6170 6f73   < 0.01 and apos
-00017930: 7920 3e20 302e 3939 3a20 2023 2022 746f  y > 0.99:  # "to
-00017940: 702d 6c65 6674 220a 2020 2020 2020 2020  p-left".        
-00017950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017960: 2020 2020 2020 2020 6163 742e 7465 7874          act.text
-00017970: 2861 2920 2023 2075 7064 6174 6520 636f  (a)  # update co
-00017980: 6e74 656e 7421 206e 6f20 6170 7065 6e64  ntent! no append
-00017990: 696e 6720 6e61 6461 0a20 2020 2020 2020  ing nada.       
-000179a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000179b0: 2020 2020 2020 2020 2063 6861 6e67 6564           changed
-000179c0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-000179d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000179e0: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
-000179f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a00: 2020 6966 206e 6f74 2063 6861 6e67 6564    if not changed
-00017a10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017a20: 2020 2020 2020 2020 2020 6f75 7420 3d20            out = 
-00017a30: 7665 646f 2e73 6861 7065 732e 5465 7874  vedo.shapes.Text
-00017a40: 3244 2861 2920 2023 2061 7070 656e 6420  2D(a)  # append 
-00017a50: 6120 6e65 7720 6f6e 650a 2020 2020 2020  a new one.      
-00017a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a70: 2020 7363 616e 6e65 6461 6374 732e 6170    scannedacts.ap
-00017a80: 7065 6e64 286f 7574 290a 0a20 2020 2020  pend(out)..     
-00017a90: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
-00017aa0: 7374 616e 6365 2861 2c20 7674 6b2e 7674  stance(a, vtk.vt
-00017ab0: 6b49 6d61 6765 4163 746f 7229 3a0a 2020  kImageActor):.  
-00017ac0: 2020 2020 2020 2020 2020 2020 2020 7363                sc
-00017ad0: 616e 6e65 6461 6374 732e 6170 7065 6e64  annedacts.append
-00017ae0: 2861 290a 0a20 2020 2020 2020 2020 2020  (a)..           
-00017af0: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
-00017b00: 2861 2c20 7674 6b2e 7674 6b42 696c 6c62  (a, vtk.vtkBillb
-00017b10: 6f61 7264 5465 7874 4163 746f 7233 4429  oardTextActor3D)
-00017b20: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017b30: 2020 7363 616e 6e65 6461 6374 732e 6170    scannedacts.ap
-00017b40: 7065 6e64 2861 290a 0a20 2020 2020 2020  pend(a)..       
-00017b50: 2020 2020 2065 6c69 6620 6973 696e 7374       elif isinst
-00017b60: 616e 6365 2861 2c20 7674 6b2e 7674 6b4c  ance(a, vtk.vtkL
-00017b70: 6967 6874 293a 0a20 2020 2020 2020 2020  ight):.         
-00017b80: 2020 2020 2020 2073 656c 662e 7265 6e64         self.rend
-00017b90: 6572 6572 2e41 6464 4c69 6768 7428 6129  erer.AddLight(a)
-00017ba0: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
-00017bb0: 6966 2069 7369 6e73 7461 6e63 6528 612c  if isinstance(a,
-00017bc0: 2076 746b 2e76 746b 4d75 6c74 6942 6c6f   vtk.vtkMultiBlo
-00017bd0: 636b 4461 7461 5365 7429 3a0a 2020 2020  ckDataSet):.    
-00017be0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00017bf0: 6920 696e 2072 616e 6765 2861 2e47 6574  i in range(a.Get
-00017c00: 4e75 6d62 6572 4f66 426c 6f63 6b73 2829  NumberOfBlocks()
-00017c10: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00017c20: 2020 2020 2020 2062 203d 2061 2e47 6574         b = a.Get
-00017c30: 426c 6f63 6b28 6929 0a20 2020 2020 2020  Block(i).       
-00017c40: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00017c50: 6973 696e 7374 616e 6365 2862 2c20 7674  isinstance(b, vt
-00017c60: 6b2e 7674 6b50 6f6c 7944 6174 6129 3a0a  k.vtkPolyData):.
+000121a0: 2020 2020 2020 2074 202b 3d20 2220 2a22         t += " *"
+000121b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000121c0: 2020 2020 2069 6620 6364 6174 612e 4765       if cdata.Ge
+000121d0: 7453 6361 6c61 7273 2829 2061 6e64 2063  tScalars() and c
+000121e0: 6461 7461 2e47 6574 5363 616c 6172 7328  data.GetScalars(
+000121f0: 292e 4765 744e 616d 6528 293a 0a20 2020  ).GetName():.   
+00012200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012210: 2020 2020 2074 202b 3d20 6622 5c6e 4365       t += f"\nCe
+00012220: 6c6c 2020 6172 7261 7920 203a 207b 6364  ll  array  : {cd
+00012230: 6174 612e 4765 7453 6361 6c61 7273 2829  ata.GetScalars()
+00012240: 2e47 6574 4e61 6d65 2829 7d22 0a20 2020  .GetName()}".   
+00012250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012260: 2020 2020 2069 6620 6364 6174 612e 4765       if cdata.Ge
+00012270: 7453 6361 6c61 7273 2829 2e47 6574 4e61  tScalars().GetNa
+00012280: 6d65 2829 203d 3d20 6576 742e 6163 746f  me() == evt.acto
+00012290: 722e 6d61 7070 6572 2829 2e47 6574 4172  r.mapper().GetAr
+000122a0: 7261 794e 616d 6528 293a 0a20 2020 2020  rayName():.     
+000122b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122c0: 2020 2020 2020 2074 202b 3d20 2220 2a22         t += " *"
+000122d0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000122e0: 2020 6966 2065 7674 2e69 7350 6963 7475    if evt.isPictu
+000122f0: 7265 3a0a 2020 2020 2020 2020 2020 2020  re:.            
+00012300: 2020 2020 2020 2020 7420 3d20 6622 7b6f          t = f"{o
+00012310: 732e 7061 7468 2e62 6173 656e 616d 6528  s.path.basename(
+00012320: 6576 742e 6163 746f 722e 6669 6c65 6e61  evt.actor.filena
+00012330: 6d65 5b3a 6d61 786c 656e 6774 682b 3130  me[:maxlength+10
+00012340: 5d29 7d22 2e6c 6a75 7374 286d 6178 6c65  ])}".ljust(maxle
+00012350: 6e67 7468 2b31 3029 0a20 2020 2020 2020  ngth+10).       
+00012360: 2020 2020 2020 2020 2020 2020 2074 202b               t +
+00012370: 3d20 6622 5c6e 496d 6167 6520 7368 6170  = f"\nImage shap
+00012380: 653a 207b 6576 742e 6163 746f 722e 7368  e: {evt.actor.sh
+00012390: 6170 657d 220a 2020 2020 2020 2020 2020  ape}".          
+000123a0: 2020 2020 2020 2020 2020 7063 6f6c 203d            pcol =
+000123b0: 2073 656c 662e 636f 6c6f 725f 7069 636b   self.color_pick
+000123c0: 6572 2865 7674 2e70 6963 6b65 6432 6429  er(evt.picked2d)
+000123d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000123e0: 2020 2020 2074 202b 3d20 6622 5c6e 5069       t += f"\nPi
+000123f0: 7865 6c20 636f 6c6f 723a 207b 7665 646f  xel color: {vedo
+00012400: 2e63 6f6c 6f72 732e 7267 6232 6865 7828  .colors.rgb2hex(
+00012410: 7063 6f6c 2f32 3535 297d 207b 7063 6f6c  pcol/255)} {pcol
+00012420: 7d22 0a0a 2020 2020 2020 2020 2020 2020  }"..            
+00012430: 2320 6368 616e 6765 2062 6f78 2063 6f6c  # change box col
+00012440: 6f72 2069 6620 6e65 6564 6564 2069 6e20  or if needed in 
+00012450: 2761 7574 6f27 206d 6f64 650a 2020 2020  'auto' mode.    
+00012460: 2020 2020 2020 2020 6966 2065 7674 2e69          if evt.i
+00012470: 7350 6f69 6e74 7320 616e 6420 2261 7574  sPoints and "aut
+00012480: 6f22 2069 6e20 7374 7228 6267 293a 0a20  o" in str(bg):. 
+00012490: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000124a0: 6374 636f 6c20 3d20 6576 742e 6163 746f  ctcol = evt.acto
+000124b0: 722e 4765 7450 726f 7065 7274 7928 292e  r.GetProperty().
+000124c0: 4765 7443 6f6c 6f72 2829 0a20 2020 2020  GetColor().     
+000124d0: 2020 2020 2020 2020 2020 2069 6620 686f             if ho
+000124e0: 7665 726c 6567 656e 642e 5f6d 6170 7065  verlegend._mappe
+000124f0: 722e 4765 7454 6578 7450 726f 7065 7274  r.GetTextPropert
+00012500: 7928 292e 4765 7442 6163 6b67 726f 756e  y().GetBackgroun
+00012510: 6443 6f6c 6f72 2829 2021 3d20 6163 7463  dColor() != actc
+00012520: 6f6c 3a0a 2020 2020 2020 2020 2020 2020  ol:.            
+00012530: 2020 2020 2020 2020 686f 7665 726c 6567          hoverleg
+00012540: 656e 642e 5f6d 6170 7065 722e 4765 7454  end._mapper.GetT
+00012550: 6578 7450 726f 7065 7274 7928 292e 5365  extProperty().Se
+00012560: 7442 6163 6b67 726f 756e 6443 6f6c 6f72  tBackgroundColor
+00012570: 2861 6374 636f 6c29 0a0a 2020 2020 2020  (actcol)..      
+00012580: 2020 2020 2020 2320 6164 6170 7420 746f        # adapt to
+00012590: 2063 6861 6e67 6573 2069 6e20 6267 2063   changes in bg c
+000125a0: 6f6c 6f72 0a20 2020 2020 2020 2020 2020  olor.           
+000125b0: 2062 6763 6f6c 203d 2073 656c 662e 7265   bgcol = self.re
+000125c0: 6e64 6572 6572 735b 6174 5d2e 4765 7442  nderers[at].GetB
+000125d0: 6163 6b67 726f 756e 6428 290a 2020 2020  ackground().    
+000125e0: 2020 2020 2020 2020 5f62 6763 6f6c 203d          _bgcol =
+000125f0: 2063 0a20 2020 2020 2020 2020 2020 2069   c.            i
+00012600: 6620 5f62 6763 6f6c 2069 7320 4e6f 6e65  f _bgcol is None
+00012610: 3a20 2023 2061 7574 6f6d 6174 6963 2062  :  # automatic b
+00012620: 6c61 636b 206f 7220 7768 6974 650a 2020  lack or white.  
+00012630: 2020 2020 2020 2020 2020 2020 2020 5f62                _b
+00012640: 6763 6f6c 203d 2028 302e 392c 2030 2e39  gcol = (0.9, 0.9
+00012650: 2c20 302e 3929 0a20 2020 2020 2020 2020  , 0.9).         
+00012660: 2020 2020 2020 2069 6620 7375 6d28 6267         if sum(bg
+00012670: 636f 6c29 203e 2031 2e35 3a0a 2020 2020  col) > 1.5:.    
+00012680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012690: 5f62 6763 6f6c 203d 2028 302e 312c 2030  _bgcol = (0.1, 0
+000126a0: 2e31 2c20 302e 3129 0a20 2020 2020 2020  .1, 0.1).       
+000126b0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+000126c0: 7365 7428 5f62 6763 6f6c 292e 696e 7465  set(_bgcol).inte
+000126d0: 7273 6563 7469 6f6e 2862 6763 6f6c 2929  rsection(bgcol))
+000126e0: 203c 2033 3a0a 2020 2020 2020 2020 2020   < 3:.          
+000126f0: 2020 2020 2020 2020 2020 686f 7665 726c            hoverl
+00012700: 6567 656e 642e 636f 6c6f 7228 5f62 6763  egend.color(_bgc
+00012710: 6f6c 290a 0a20 2020 2020 2020 2020 2020  ol)..           
+00012720: 2069 6620 686f 7665 726c 6567 656e 642e   if hoverlegend.
+00012730: 5f6d 6170 7065 722e 4765 7449 6e70 7574  _mapper.GetInput
+00012740: 2829 2021 3d20 743a 0a20 2020 2020 2020  () != t:.       
+00012750: 2020 2020 2020 2020 2068 6f76 6572 6c65           hoverle
+00012760: 6765 6e64 2e5f 6d61 7070 6572 2e53 6574  gend._mapper.Set
+00012770: 496e 7075 7428 7429 0a20 2020 2020 2020  Input(t).       
+00012780: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
+00012790: 7465 7261 6374 6f72 2e52 656e 6465 7228  teractor.Render(
+000127a0: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+000127b0: 6164 6428 686f 7665 726c 6567 656e 642c  add(hoverlegend,
+000127c0: 2061 743d 6174 290a 2020 2020 2020 2020   at=at).        
+000127d0: 7365 6c66 2e68 6f76 6572 5f6c 6567 656e  self.hover_legen
+000127e0: 6473 2e61 7070 656e 6428 686f 7665 726c  ds.append(hoverl
+000127f0: 6567 656e 6429 0a20 2020 2020 2020 2073  egend).        s
+00012800: 656c 662e 6164 645f 6361 6c6c 6261 636b  elf.add_callback
+00012810: 2822 4d6f 7573 654d 6f76 6522 2c20 5f6c  ("MouseMove", _l
+00012820: 6567 6675 6e63 290a 2020 2020 2020 2020  egfunc).        
+00012830: 7265 7475 726e 2073 656c 660a 0a0a 2020  return self...  
+00012840: 2020 2323 2323 2323 2323 2323 2323 2323    ##############
+00012850: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012860: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012870: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012880: 2323 2323 2323 230a 2020 2020 6465 6620  #######.    def 
+00012890: 6164 645f 7363 616c 655f 696e 6469 6361  add_scale_indica
+000128a0: 746f 7228 0a20 2020 2020 2020 2073 656c  tor(.        sel
+000128b0: 662c 2070 6f73 3d28 302e 372c 2030 2e30  f, pos=(0.7, 0.0
+000128c0: 3529 2c20 733d 302e 3032 2c20 6c65 6e67  5), s=0.02, leng
+000128d0: 7468 3d32 2c20 6c77 3d34 2c20 633d 226b  th=2, lw=4, c="k
+000128e0: 3122 2c20 616c 7068 613d 312c 2075 6e69  1", alpha=1, uni
+000128f0: 7473 3d22 222c 2067 6170 3d30 2e30 350a  ts="", gap=0.05.
+00012900: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
+00012910: 2222 0a20 2020 2020 2020 2041 6464 2061  "".        Add a
+00012920: 2053 6361 6c65 2049 6e64 6963 6174 6f72   Scale Indicator
+00012930: 2e20 4f6e 6c79 2077 6f72 6b73 2069 6e20  . Only works in 
+00012940: 7061 7261 6c6c 656c 206d 6f64 6520 286e  parallel mode (n
+00012950: 6f20 7065 7273 7065 6374 6976 6529 2e0a  o perspective)..
+00012960: 0a20 2020 2020 2020 2041 7267 756d 656e  .        Argumen
+00012970: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+00012980: 706f 7320 3a20 286c 6973 7429 0a20 2020  pos : (list).   
+00012990: 2020 2020 2020 2020 2020 2020 2066 7261               fra
+000129a0: 6374 696f 6e61 6c20 2878 2c79 2920 706f  ctional (x,y) po
+000129b0: 7369 7469 6f6e 206f 6e20 7468 6520 7363  sition on the sc
+000129c0: 7265 656e 2e0a 2020 2020 2020 2020 2020  reen..          
+000129d0: 2020 7320 3a20 2866 6c6f 6174 290a 2020    s : (float).  
+000129e0: 2020 2020 2020 2020 2020 2020 2020 7369                si
+000129f0: 7a65 206f 6620 7468 6520 7465 7874 2e0a  ze of the text..
+00012a00: 2020 2020 2020 2020 2020 2020 6c65 6e67              leng
+00012a10: 7468 203a 2028 666c 6f61 7429 0a20 2020  th : (float).   
+00012a20: 2020 2020 2020 2020 2020 2020 206c 656e               len
+00012a30: 6774 6820 6f66 2074 6865 206c 696e 652e  gth of the line.
+00012a40: 0a20 2020 2020 2020 2020 2020 2075 6e69  .            uni
+00012a50: 7473 203a 2028 7374 7229 0a20 2020 2020  ts : (str).     
+00012a60: 2020 2020 2020 2020 2020 2073 7472 696e             strin
+00012a70: 6720 746f 2073 686f 7720 756e 6974 732e  g to show units.
+00012a80: 0a20 2020 2020 2020 2020 2020 2067 6170  .            gap
+00012a90: 203a 2028 666c 6f61 7429 0a20 2020 2020   : (float).     
+00012aa0: 2020 2020 2020 2020 2020 2073 6570 6172             separ
+00012ab0: 6174 696f 6e20 6f66 206c 696e 6520 616e  ation of line an
+00012ac0: 6420 7465 7874 2e0a 0a20 2020 2020 2020  d text...       
+00012ad0: 2045 7861 6d70 6c65 3a0a 2020 2020 2020   Example:.      
+00012ae0: 2020 2020 2020 6060 6070 7974 686f 6e0a        ```python.
+00012af0: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
+00012b00: 2076 6564 6f20 696d 706f 7274 2073 6574   vedo import set
+00012b10: 7469 6e67 732c 2043 7562 652c 2050 6c6f  tings, Cube, Plo
+00012b20: 7474 6572 0a20 2020 2020 2020 2020 2020  tter.           
+00012b30: 2073 6574 7469 6e67 732e 7573 655f 7061   settings.use_pa
+00012b40: 7261 6c6c 656c 5f70 726f 6a65 6374 696f  rallel_projectio
+00012b50: 6e20 3d20 5472 7565 2023 206f 7220 656c  n = True # or el
+00012b60: 7365 2069 7420 646f 6573 206e 6f74 206d  se it does not m
+00012b70: 616b 6520 7365 6e73 6521 0a20 2020 2020  ake sense!.     
+00012b80: 2020 2020 2020 2063 7562 6520 3d20 4375         cube = Cu
+00012b90: 6265 2829 2e61 6c70 6861 2830 2e32 290a  be().alpha(0.2).
+00012ba0: 2020 2020 2020 2020 2020 2020 706c 7420              plt 
+00012bb0: 3d20 506c 6f74 7465 7228 7369 7a65 3d28  = Plotter(size=(
+00012bc0: 3930 302c 3630 3029 2c20 6178 6573 3d64  900,600), axes=d
+00012bd0: 6963 7428 7874 6974 6c65 3d27 7820 2875  ict(xtitle='x (u
+00012be0: 6d29 2729 290a 2020 2020 2020 2020 2020  m)')).          
+00012bf0: 2020 706c 742e 6164 645f 7363 616c 655f    plt.add_scale_
+00012c00: 696e 6469 6361 746f 7228 756e 6974 733d  indicator(units=
+00012c10: 2775 6d27 2c20 633d 2762 6c75 6534 2729  'um', c='blue4')
+00012c20: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
+00012c30: 2e73 686f 7728 6375 6265 2c20 2253 6361  .show(cube, "Sca
+00012c40: 6c65 2069 6e64 6963 6174 6f72 2077 6974  le indicator wit
+00012c50: 6820 756e 6974 7322 292e 636c 6f73 6528  h units").close(
+00012c60: 290a 2020 2020 2020 2020 2020 2020 6060  ).            ``
+00012c70: 600a 2020 2020 2020 2020 2020 2020 215b  `.            ![
+00012c80: 5d28 6874 7470 733a 2f2f 7665 646f 2e65  ](https://vedo.e
+00012c90: 6d62 6c2e 6573 2f69 6d61 6765 732f 6665  mbl.es/images/fe
+00012ca0: 6174 732f 7363 616c 655f 696e 6469 6361  ats/scale_indica
+00012cb0: 746f 722e 706e 6729 0a20 2020 2020 2020  tor.png).       
+00012cc0: 2022 2222 0a20 2020 2020 2020 2070 706f   """.        ppo
+00012cd0: 696e 7473 203d 2076 746b 2e76 746b 506f  ints = vtk.vtkPo
+00012ce0: 696e 7473 2829 2020 2320 4765 6e65 7261  ints()  # Genera
+00012cf0: 7465 2074 6865 2070 6f6c 796c 696e 650a  te the polyline.
+00012d00: 2020 2020 2020 2020 7073 7172 203d 205b          psqr = [
+00012d10: 5b30 2e30 2c20 6761 705d 2c20 5b6c 656e  [0.0, gap], [len
+00012d20: 6774 6820 2f20 3130 2c20 6761 705d 5d0a  gth / 10, gap]].
+00012d30: 2020 2020 2020 2020 6464 203d 2070 7371          dd = psq
+00012d40: 725b 315d 5b30 5d20 2d20 7073 7172 5b30  r[1][0] - psqr[0
+00012d50: 5d5b 305d 0a20 2020 2020 2020 2066 6f72  ][0].        for
+00012d60: 2069 2c20 7074 2069 6e20 656e 756d 6572   i, pt in enumer
+00012d70: 6174 6528 7073 7172 293a 0a20 2020 2020  ate(psqr):.     
+00012d80: 2020 2020 2020 2070 706f 696e 7473 2e49         ppoints.I
+00012d90: 6e73 6572 7450 6f69 6e74 2869 2c20 7074  nsertPoint(i, pt
+00012da0: 5b30 5d2c 2070 745b 315d 2c20 3029 0a20  [0], pt[1], 0). 
+00012db0: 2020 2020 2020 206c 696e 6573 203d 2076         lines = v
+00012dc0: 746b 2e76 746b 4365 6c6c 4172 7261 7928  tk.vtkCellArray(
+00012dd0: 290a 2020 2020 2020 2020 6c69 6e65 732e  ).        lines.
+00012de0: 496e 7365 7274 4e65 7874 4365 6c6c 286c  InsertNextCell(l
+00012df0: 656e 2870 7371 7229 290a 2020 2020 2020  en(psqr)).      
+00012e00: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
+00012e10: 286c 656e 2870 7371 7229 293a 0a20 2020  (len(psqr)):.   
+00012e20: 2020 2020 2020 2020 206c 696e 6573 2e49           lines.I
+00012e30: 6e73 6572 7443 656c 6c50 6f69 6e74 2869  nsertCellPoint(i
+00012e40: 290a 2020 2020 2020 2020 7064 203d 2076  ).        pd = v
+00012e50: 746b 2e76 746b 506f 6c79 4461 7461 2829  tk.vtkPolyData()
+00012e60: 0a20 2020 2020 2020 2070 642e 5365 7450  .        pd.SetP
+00012e70: 6f69 6e74 7328 7070 6f69 6e74 7329 0a20  oints(ppoints). 
+00012e80: 2020 2020 2020 2070 642e 5365 744c 696e         pd.SetLin
+00012e90: 6573 286c 696e 6573 290a 0a20 2020 2020  es(lines)..     
+00012ea0: 2020 2077 7378 2c20 7773 7920 3d20 7365     wsx, wsy = se
+00012eb0: 6c66 2e77 696e 646f 772e 4765 7453 697a  lf.window.GetSiz
+00012ec0: 6528 290a 2020 2020 2020 2020 6966 206e  e().        if n
+00012ed0: 6f74 2073 6574 7469 6e67 732e 7573 655f  ot settings.use_
+00012ee0: 7061 7261 6c6c 656c 5f70 726f 6a65 6374  parallel_project
+00012ef0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+00012f00: 2076 6564 6f2e 6c6f 6767 6572 2e77 6172   vedo.logger.war
+00012f10: 6e69 6e67 2822 6164 645f 7363 616c 655f  ning("add_scale_
+00012f20: 696e 6469 6361 746f 7220 6361 6c6c 6564  indicator called
+00012f30: 2077 6974 6820 7573 655f 7061 7261 6c6c   with use_parall
+00012f40: 656c 5f70 726f 6a65 6374 696f 6e20 4f46  el_projection OF
+00012f50: 462e 2053 6b69 702e 2229 0a20 2020 2020  F. Skip.").     
+00012f60: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+00012f70: 6e65 0a0a 2020 2020 2020 2020 726c 6162  ne..        rlab
+00012f80: 656c 203d 2076 746b 2e76 746b 5665 6374  el = vtk.vtkVect
+00012f90: 6f72 5465 7874 2829 0a20 2020 2020 2020  orText().       
+00012fa0: 2072 6c61 6265 6c2e 5365 7454 6578 7428   rlabel.SetText(
+00012fb0: 2273 6361 6c65 2229 0a20 2020 2020 2020  "scale").       
+00012fc0: 2074 6620 3d20 7674 6b2e 7674 6b54 7261   tf = vtk.vtkTra
+00012fd0: 6e73 666f 726d 506f 6c79 4461 7461 4669  nsformPolyDataFi
+00012fe0: 6c74 6572 2829 0a20 2020 2020 2020 2074  lter().        t
+00012ff0: 662e 5365 7449 6e70 7574 436f 6e6e 6563  f.SetInputConnec
+00013000: 7469 6f6e 2872 6c61 6265 6c2e 4765 744f  tion(rlabel.GetO
+00013010: 7574 7075 7450 6f72 7428 2929 0a20 2020  utputPort()).   
+00013020: 2020 2020 2074 203d 2076 746b 2e76 746b       t = vtk.vtk
+00013030: 5472 616e 7366 6f72 6d28 290a 2020 2020  Transform().    
+00013040: 2020 2020 742e 5363 616c 6528 7320 2a20      t.Scale(s * 
+00013050: 7773 7920 2f20 7773 782c 2073 2c20 3129  wsy / wsx, s, 1)
+00013060: 0a20 2020 2020 2020 2074 662e 5365 7454  .        tf.SetT
+00013070: 7261 6e73 666f 726d 2874 290a 0a20 2020  ransform(t)..   
+00013080: 2020 2020 2061 7070 203d 2076 746b 2e76       app = vtk.v
+00013090: 746b 4170 7065 6e64 506f 6c79 4461 7461  tkAppendPolyData
+000130a0: 2829 0a20 2020 2020 2020 2061 7070 2e41  ().        app.A
+000130b0: 6464 496e 7075 7443 6f6e 6e65 6374 696f  ddInputConnectio
+000130c0: 6e28 7466 2e47 6574 4f75 7470 7574 506f  n(tf.GetOutputPo
+000130d0: 7274 2829 290a 2020 2020 2020 2020 6170  rt()).        ap
+000130e0: 702e 4164 6449 6e70 7574 4461 7461 2870  p.AddInputData(p
+000130f0: 6429 0a0a 2020 2020 2020 2020 6d61 7070  d)..        mapp
+00013100: 6572 203d 2076 746b 2e76 746b 506f 6c79  er = vtk.vtkPoly
+00013110: 4461 7461 4d61 7070 6572 3244 2829 0a20  DataMapper2D(). 
+00013120: 2020 2020 2020 206d 6170 7065 722e 5365         mapper.Se
+00013130: 7449 6e70 7574 436f 6e6e 6563 7469 6f6e  tInputConnection
+00013140: 2861 7070 2e47 6574 4f75 7470 7574 506f  (app.GetOutputPo
+00013150: 7274 2829 290a 2020 2020 2020 2020 6373  rt()).        cs
+00013160: 203d 2076 746b 2e76 746b 436f 6f72 6469   = vtk.vtkCoordi
+00013170: 6e61 7465 2829 0a20 2020 2020 2020 2063  nate().        c
+00013180: 732e 5365 7443 6f6f 7264 696e 6174 6553  s.SetCoordinateS
+00013190: 7973 7465 6d28 3129 0a20 2020 2020 2020  ystem(1).       
+000131a0: 206d 6170 7065 722e 5365 7454 7261 6e73   mapper.SetTrans
+000131b0: 666f 726d 436f 6f72 6469 6e61 7465 2863  formCoordinate(c
+000131c0: 7329 0a0a 2020 2020 2020 2020 6672 6163  s)..        frac
+000131d0: 746f 7220 3d20 7674 6b2e 7674 6b41 6374  tor = vtk.vtkAct
+000131e0: 6f72 3244 2829 0a20 2020 2020 2020 2063  or2D().        c
+000131f0: 7379 7320 3d20 6672 6163 746f 722e 4765  sys = fractor.Ge
+00013200: 7450 6f73 6974 696f 6e43 6f6f 7264 696e  tPositionCoordin
+00013210: 6174 6528 290a 2020 2020 2020 2020 6373  ate().        cs
+00013220: 7973 2e53 6574 436f 6f72 6469 6e61 7465  ys.SetCoordinate
+00013230: 5379 7374 656d 2833 290a 2020 2020 2020  System(3).      
+00013240: 2020 6672 6163 746f 722e 5365 7450 6f73    fractor.SetPos
+00013250: 6974 696f 6e28 706f 7329 0a20 2020 2020  ition(pos).     
+00013260: 2020 2066 7261 6374 6f72 2e53 6574 4d61     fractor.SetMa
+00013270: 7070 6572 286d 6170 7065 7229 0a20 2020  pper(mapper).   
+00013280: 2020 2020 2066 7261 6374 6f72 2e47 6574       fractor.Get
+00013290: 5072 6f70 6572 7479 2829 2e53 6574 436f  Property().SetCo
+000132a0: 6c6f 7228 7665 646f 2e67 6574 5f63 6f6c  lor(vedo.get_col
+000132b0: 6f72 2863 2929 0a20 2020 2020 2020 2066  or(c)).        f
+000132c0: 7261 6374 6f72 2e47 6574 5072 6f70 6572  ractor.GetProper
+000132d0: 7479 2829 2e53 6574 4f70 6163 6974 7928  ty().SetOpacity(
+000132e0: 616c 7068 6129 0a20 2020 2020 2020 2066  alpha).        f
+000132f0: 7261 6374 6f72 2e47 6574 5072 6f70 6572  ractor.GetProper
+00013300: 7479 2829 2e53 6574 4c69 6e65 5769 6474  ty().SetLineWidt
+00013310: 6828 6c77 290a 2020 2020 2020 2020 6672  h(lw).        fr
+00013320: 6163 746f 722e 4765 7450 726f 7065 7274  actor.GetPropert
+00013330: 7928 292e 5365 7444 6973 706c 6179 4c6f  y().SetDisplayLo
+00013340: 6361 7469 6f6e 546f 466f 7265 6772 6f75  cationToForegrou
+00013350: 6e64 2829 0a0a 2020 2020 2020 2020 6465  nd()..        de
+00013360: 6620 7369 6675 6e63 2869 7265 6e2c 2065  f sifunc(iren, e
+00013370: 7629 3a0a 2020 2020 2020 2020 2020 2020  v):.            
+00013380: 7773 782c 2077 7379 203d 2073 656c 662e  wsx, wsy = self.
+00013390: 7769 6e64 6f77 2e47 6574 5369 7a65 2829  window.GetSize()
+000133a0: 0a20 2020 2020 2020 2020 2020 2070 7320  .            ps 
+000133b0: 3d20 7365 6c66 2e63 616d 6572 612e 4765  = self.camera.Ge
+000133c0: 7450 6172 616c 6c65 6c53 6361 6c65 2829  tParallelScale()
+000133d0: 0a20 2020 2020 2020 2020 2020 206e 6577  .            new
+000133e0: 7478 7420 3d20 7574 696c 732e 7072 6563  txt = utils.prec
+000133f0: 6973 696f 6e28 7073 202f 2077 7379 202a  ision(ps / wsy *
+00013400: 2077 7378 202a 206c 656e 6774 6820 2a20   wsx * length * 
+00013410: 6464 2c20 3329 0a20 2020 2020 2020 2020  dd, 3).         
+00013420: 2020 2069 6620 756e 6974 733a 0a20 2020     if units:.   
+00013430: 2020 2020 2020 2020 2020 2020 206e 6577               new
+00013440: 7478 7420 2b3d 2022 2022 202b 2075 6e69  txt += " " + uni
+00013450: 7473 0a20 2020 2020 2020 2020 2020 2069  ts.            i
+00013460: 6620 726c 6162 656c 2e47 6574 5465 7874  f rlabel.GetText
+00013470: 2829 2021 3d20 6e65 7774 7874 3a0a 2020  () != newtxt:.  
+00013480: 2020 2020 2020 2020 2020 2020 2020 726c                rl
+00013490: 6162 656c 2e53 6574 5465 7874 286e 6577  abel.SetText(new
+000134a0: 7478 7429 0a0a 2020 2020 2020 2020 7365  txt)..        se
+000134b0: 6c66 2e72 656e 6465 7265 722e 4164 6441  lf.renderer.AddA
+000134c0: 6374 6f72 2866 7261 6374 6f72 290a 2020  ctor(fractor).  
+000134d0: 2020 2020 2020 7365 6c66 2e69 6e74 6572        self.inter
+000134e0: 6163 746f 722e 4164 644f 6273 6572 7665  actor.AddObserve
+000134f0: 7228 224d 6f75 7365 5768 6565 6c42 6163  r("MouseWheelBac
+00013500: 6b77 6172 6445 7665 6e74 222c 2073 6966  kwardEvent", sif
+00013510: 756e 6329 0a20 2020 2020 2020 2073 656c  unc).        sel
+00013520: 662e 696e 7465 7261 6374 6f72 2e41 6464  f.interactor.Add
+00013530: 4f62 7365 7276 6572 2822 4d6f 7573 6557  Observer("MouseW
+00013540: 6865 656c 466f 7277 6172 6445 7665 6e74  heelForwardEvent
+00013550: 222c 2073 6966 756e 6329 0a20 2020 2020  ", sifunc).     
+00013560: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
+00013570: 6f72 2e41 6464 4f62 7365 7276 6572 2822  or.AddObserver("
+00013580: 496e 7465 7261 6374 696f 6e45 7665 6e74  InteractionEvent
+00013590: 222c 2073 6966 756e 6329 0a20 2020 2020  ", sifunc).     
+000135a0: 2020 2073 6966 756e 6328 302c 2030 290a     sifunc(0, 0).
+000135b0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+000135c0: 7261 6374 6f72 0a0a 2020 2020 6465 6620  ractor..    def 
+000135d0: 6669 6c6c 5f65 7665 6e74 2873 656c 662c  fill_event(self,
+000135e0: 2065 6e61 6d65 3d22 222c 2070 6f73 3d28   ename="", pos=(
+000135f0: 2929 3a0a 2020 2020 2020 2020 2222 220a  )):.        """.
+00013600: 2020 2020 2020 2020 4372 6561 7465 2061          Create a
+00013610: 6e20 4576 656e 7420 6f62 6a65 6374 2e0a  n Event object..
+00013620: 0a20 2020 2020 2020 2041 2032 4420 7363  .        A 2D sc
+00013630: 7265 656e 2d70 6f73 6974 696f 6e20 6361  reen-position ca
+00013640: 6e20 6265 2070 726f 7669 6465 6420 746f  n be provided to
+00013650: 2062 6520 7069 636b 6564 2e0a 2020 2020   be picked..    
+00013660: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00013670: 6966 206e 6f74 2073 656c 662e 696e 7465  if not self.inte
+00013680: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
+00013690: 2020 2020 7265 7475 726e 2045 7665 6e74      return Event
+000136a0: 2829 0a0a 2020 2020 2020 2020 6966 206c  ()..        if l
+000136b0: 656e 2870 6f73 293a 0a20 2020 2020 2020  en(pos):.       
+000136c0: 2020 2020 2078 2c20 7920 3d20 706f 730a       x, y = pos.
+000136d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000136e0: 2e69 6e74 6572 6163 746f 722e 5365 7445  .interactor.SetE
+000136f0: 7665 6e74 506f 7369 7469 6f6e 2870 6f73  ventPosition(pos
+00013700: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00013710: 2020 2020 2020 2020 2020 2020 782c 2079              x, y
+00013720: 203d 2073 656c 662e 696e 7465 7261 6374   = self.interact
+00013730: 6f72 2e47 6574 4576 656e 7450 6f73 6974  or.GetEventPosit
+00013740: 696f 6e28 290a 2020 2020 2020 2020 7365  ion().        se
+00013750: 6c66 2e72 656e 6465 7265 7220 3d20 7365  lf.renderer = se
+00013760: 6c66 2e69 6e74 6572 6163 746f 722e 4669  lf.interactor.Fi
+00013770: 6e64 506f 6b65 6452 656e 6465 7265 7228  ndPokedRenderer(
+00013780: 782c 2079 290a 2020 2020 2020 2020 6966  x, y).        if
+00013790: 206e 6f74 2073 656c 662e 7069 636b 6572   not self.picker
+000137a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000137b0: 6c66 2e70 6963 6b65 7220 3d20 7674 6b2e  lf.picker = vtk.
+000137c0: 7674 6b50 726f 7050 6963 6b65 7228 290a  vtkPropPicker().
+000137d0: 2020 2020 2020 2020 7365 6c66 2e70 6963          self.pic
+000137e0: 6b65 6432 6420 3d20 2878 2c20 7929 0a20  ked2d = (x, y). 
+000137f0: 2020 2020 2020 2073 656c 662e 7069 636b         self.pick
+00013800: 6572 2e50 6963 6b50 726f 7028 782c 2079  er.PickProp(x, y
+00013810: 2c20 7365 6c66 2e72 656e 6465 7265 7229  , self.renderer)
+00013820: 0a20 2020 2020 2020 2078 702c 2079 7020  .        xp, yp 
+00013830: 3d20 7365 6c66 2e69 6e74 6572 6163 746f  = self.interacto
+00013840: 722e 4765 744c 6173 7445 7665 6e74 506f  r.GetLastEventPo
+00013850: 7369 7469 6f6e 2829 0a20 2020 2020 2020  sition().       
+00013860: 2061 6374 6f72 203d 2073 656c 662e 7069   actor = self.pi
+00013870: 636b 6572 2e47 6574 5072 6f70 3344 2829  cker.GetProp3D()
+00013880: 0a20 2020 2020 2020 2064 656c 7461 3364  .        delta3d
+00013890: 203d 206e 702e 6172 7261 7928 5b30 2c20   = np.array([0, 
+000138a0: 302c 2030 5d29 0a20 2020 2020 2020 2069  0, 0]).        i
+000138b0: 6620 6163 746f 723a 0a20 2020 2020 2020  f actor:.       
+000138c0: 2020 2020 2070 6963 6b65 6433 6420 3d20       picked3d = 
+000138d0: 6e70 2e61 7272 6179 2873 656c 662e 7069  np.array(self.pi
+000138e0: 636b 6572 2e47 6574 5069 636b 506f 7369  cker.GetPickPosi
+000138f0: 7469 6f6e 2829 290a 2020 2020 2020 2020  tion()).        
+00013900: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00013910: 6528 6163 746f 722c 2076 6564 6f2e 6261  e(actor, vedo.ba
+00013920: 7365 2e42 6173 6533 4450 726f 7029 3a20  se.Base3DProp): 
+00013930: 2023 206e 6565 6465 6421 0a20 2020 2020   # needed!.     
+00013940: 2020 2020 2020 2020 2020 2069 6620 6163             if ac
+00013950: 746f 722e 7069 636b 6564 3364 2069 7320  tor.picked3d is 
+00013960: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00013970: 2020 2020 2020 2020 2020 2020 2020 6465                de
+00013980: 6c74 6133 6420 3d20 7069 636b 6564 3364  lta3d = picked3d
+00013990: 202d 2061 6374 6f72 2e70 6963 6b65 6433   - actor.picked3
+000139a0: 640a 2020 2020 2020 2020 2020 2020 6163  d.            ac
+000139b0: 746f 722e 7069 636b 6564 3364 203d 2070  tor.picked3d = p
+000139c0: 6963 6b65 6433 640a 2020 2020 2020 2020  icked3d.        
+000139d0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000139e0: 2020 7069 636b 6564 3364 203d 204e 6f6e    picked3d = Non
+000139f0: 650a 0a20 2020 2020 2020 2069 6620 6e6f  e..        if no
+00013a00: 7420 6163 746f 723a 2020 2320 7472 7920  t actor:  # try 
+00013a10: 3244 0a20 2020 2020 2020 2020 2020 2061  2D.            a
+00013a20: 6374 6f72 203d 2073 656c 662e 7069 636b  ctor = self.pick
+00013a30: 6572 2e47 6574 4163 746f 7232 4428 290a  er.GetActor2D().
+00013a40: 0a20 2020 2020 2020 2064 782c 2064 7920  .        dx, dy 
+00013a50: 3d20 7820 2d20 7870 2c20 7920 2d20 7970  = x - xp, y - yp
+00013a60: 0a0a 2020 2020 2020 2020 6b65 7920 3d20  ..        key = 
+00013a70: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
+00013a80: 4765 744b 6579 5379 6d28 290a 0a20 2020  GetKeySym()..   
+00013a90: 2020 2020 2069 6620 6b65 793a 0a20 2020       if key:.   
+00013aa0: 2020 2020 2020 2020 2069 6620 225f 4c22           if "_L"
+00013ab0: 2069 6e20 6b65 7920 6f72 2022 5f52 2220   in key or "_R" 
+00013ac0: 696e 206b 6579 3a0a 2020 2020 2020 2020  in key:.        
+00013ad0: 2020 2020 2020 2020 2320 736b 6970 2074          # skip t
+00013ae0: 6869 6e67 7320 6c69 6b65 2053 6869 6674  hings like Shift
+00013af0: 5f52 0a20 2020 2020 2020 2020 2020 2020  _R.             
+00013b00: 2020 206b 6579 203d 2022 2220 2023 2062     key = ""  # b
+00013b10: 6574 7465 7220 7468 616e 204e 6f6e 650a  etter than None.
+00013b20: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00013b30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00013b40: 2020 6966 2073 656c 662e 696e 7465 7261    if self.intera
+00013b50: 6374 6f72 2e47 6574 5368 6966 744b 6579  ctor.GetShiftKey
+00013b60: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+00013b70: 2020 2020 2020 2020 6b65 7920 3d20 6b65          key = ke
+00013b80: 792e 7570 7065 7228 290a 0a20 2020 2020  y.upper()..     
+00013b90: 2020 2020 2020 2020 2020 2069 6620 6b65             if ke
+00013ba0: 7920 3d3d 2022 4d49 4e55 5322 3a20 2023  y == "MINUS":  #
+00013bb0: 2066 6978 3a20 7674 6b39 2069 7320 6967   fix: vtk9 is ig
+00013bc0: 6e6f 7269 6e67 2073 6869 6674 2063 6861  noring shift cha
+00013bd0: 7273 2e2e 0a20 2020 2020 2020 2020 2020  rs...           
+00013be0: 2020 2020 2020 2020 206b 6579 203d 2022           key = "
+00013bf0: 756e 6465 7273 636f 7265 220a 2020 2020  underscore".    
+00013c00: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00013c10: 206b 6579 203d 3d20 2245 5155 414c 223a   key == "EQUAL":
+00013c20: 2020 2320 6669 783a 2076 746b 3920 6973    # fix: vtk9 is
+00013c30: 2069 676e 6f72 696e 6720 7368 6966 7420   ignoring shift 
+00013c40: 6368 6172 732e 2e0a 2020 2020 2020 2020  chars...        
+00013c50: 2020 2020 2020 2020 2020 2020 6b65 7920              key 
+00013c60: 3d20 2270 6c75 7322 0a20 2020 2020 2020  = "plus".       
+00013c70: 2020 2020 2020 2020 2065 6c69 6620 6b65           elif ke
+00013c80: 7920 3d3d 2022 534c 4153 4822 3a20 2023  y == "SLASH":  #
+00013c90: 2066 6978 3a20 7674 6b39 2069 7320 6967   fix: vtk9 is ig
+00013ca0: 6e6f 7269 6e67 2073 6869 6674 2063 6861  noring shift cha
+00013cb0: 7273 2e2e 0a20 2020 2020 2020 2020 2020  rs...           
+00013cc0: 2020 2020 2020 2020 206b 6579 203d 2022           key = "
+00013cd0: 3f22 0a0a 2020 2020 2020 2020 2020 2020  ?"..            
+00013ce0: 2020 2020 6966 2073 656c 662e 696e 7465      if self.inte
+00013cf0: 7261 6374 6f72 2e47 6574 436f 6e74 726f  ractor.GetContro
+00013d00: 6c4b 6579 2829 3a0a 2020 2020 2020 2020  lKey():.        
+00013d10: 2020 2020 2020 2020 2020 2020 6b65 7920              key 
+00013d20: 3d20 2243 7472 6c2b 2220 2b20 6b65 790a  = "Ctrl+" + key.
+00013d30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013d40: 2069 6620 7365 6c66 2e69 6e74 6572 6163   if self.interac
+00013d50: 746f 722e 4765 7441 6c74 4b65 7928 293a  tor.GetAltKey():
+00013d60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013d70: 2020 2020 206b 6579 203d 2022 416c 742b       key = "Alt+
+00013d80: 2220 2b20 6b65 790a 0a20 2020 2020 2020  " + key..       
+00013d90: 2065 7665 6e74 203d 2045 7665 6e74 2829   event = Event()
+00013da0: 0a20 2020 2020 2020 2065 7665 6e74 2e6e  .        event.n
+00013db0: 616d 6520 3d20 656e 616d 650a 2020 2020  ame = ename.    
+00013dc0: 2020 2020 6576 656e 742e 7469 746c 6520      event.title 
+00013dd0: 3d20 7365 6c66 2e74 6974 6c65 0a20 2020  = self.title.   
+00013de0: 2020 2020 2065 7665 6e74 2e69 6420 3d20       event.id = 
+00013df0: 2d31 2020 2320 7769 6c6c 2062 6520 7365  -1  # will be se
+00013e00: 7420 6279 2074 6865 2074 696d 6572 2077  t by the timer w
+00013e10: 7261 7070 6572 2066 756e 6374 696f 6e0a  rapper function.
+00013e20: 2020 2020 2020 2020 6576 656e 742e 7469          event.ti
+00013e30: 6d65 7269 6420 3d20 2d31 2020 2320 7769  merid = -1  # wi
+00013e40: 6c6c 2062 6520 7365 7420 6279 2074 6865  ll be set by the
+00013e50: 2074 696d 6572 2077 7261 7070 6572 2066   timer wrapper f
+00013e60: 756e 6374 696f 6e0a 2020 2020 2020 2020  unction.        
+00013e70: 6576 656e 742e 7072 696f 7269 7479 203d  event.priority =
+00013e80: 202d 3120 2023 2077 696c 6c20 6265 2073   -1  # will be s
+00013e90: 6574 2062 7920 7468 6520 7469 6d65 7220  et by the timer 
+00013ea0: 7772 6170 7065 7220 6675 6e63 7469 6f6e  wrapper function
+00013eb0: 0a20 2020 2020 2020 2065 7665 6e74 2e74  .        event.t
+00013ec0: 696d 6520 3d20 7469 6d65 2e74 696d 6528  ime = time.time(
+00013ed0: 290a 2020 2020 2020 2020 6576 656e 742e  ).        event.
+00013ee0: 6174 203d 2073 656c 662e 7265 6e64 6572  at = self.render
+00013ef0: 6572 732e 696e 6465 7828 7365 6c66 2e72  ers.index(self.r
+00013f00: 656e 6465 7265 7229 0a20 2020 2020 2020  enderer).       
+00013f10: 2065 7665 6e74 2e61 6374 6f72 203d 2061   event.actor = a
+00013f20: 6374 6f72 0a20 2020 2020 2020 2065 7665  ctor.        eve
+00013f30: 6e74 2e70 6963 6b65 6433 6420 3d20 7069  nt.picked3d = pi
+00013f40: 636b 6564 3364 0a20 2020 2020 2020 2065  cked3d.        e
+00013f50: 7665 6e74 2e6b 6579 5072 6573 7365 6420  vent.keyPressed 
+00013f60: 3d20 6b65 7920 2023 206f 6273 6f6c 6574  = key  # obsolet
+00013f70: 652c 2077 696c 6c20 6469 7361 7070 6561  e, will disappea
+00013f80: 722e 2055 7365 2022 6b65 7970 7265 7373  r. Use "keypress
+00013f90: 220a 2020 2020 2020 2020 6576 656e 742e  ".        event.
+00013fa0: 6b65 7970 7265 7373 203d 206b 6579 0a20  keypress = key. 
+00013fb0: 2020 2020 2020 2065 7665 6e74 2e70 6963         event.pic
+00013fc0: 6b65 6432 6420 3d20 2878 2c20 7929 0a20  ked2d = (x, y). 
+00013fd0: 2020 2020 2020 2065 7665 6e74 2e64 656c         event.del
+00013fe0: 7461 3264 203d 2028 6478 2c20 6479 290a  ta2d = (dx, dy).
+00013ff0: 2020 2020 2020 2020 6576 656e 742e 616e          event.an
+00014000: 676c 6532 6420 3d20 6e70 2e61 7263 7461  gle2d = np.arcta
+00014010: 6e32 2864 792c 2064 7829 0a20 2020 2020  n2(dy, dx).     
+00014020: 2020 2065 7665 6e74 2e73 7065 6564 3264     event.speed2d
+00014030: 203d 206e 702e 7371 7274 2864 7820 2a20   = np.sqrt(dx * 
+00014040: 6478 202b 2064 7920 2a20 6479 290a 2020  dx + dy * dy).  
+00014050: 2020 2020 2020 6576 656e 742e 6465 6c74        event.delt
+00014060: 6133 6420 3d20 6465 6c74 6133 640a 2020  a3d = delta3d.  
+00014070: 2020 2020 2020 6576 656e 742e 7370 6565        event.spee
+00014080: 6433 6420 3d20 6e70 2e73 7172 7428 6e70  d3d = np.sqrt(np
+00014090: 2e64 6f74 2864 656c 7461 3364 2c20 6465  .dot(delta3d, de
+000140a0: 6c74 6133 6429 290a 2020 2020 2020 2020  lta3d)).        
+000140b0: 6576 656e 742e 6973 506f 696e 7473 203d  event.isPoints =
+000140c0: 2069 7369 6e73 7461 6e63 6528 6163 746f   isinstance(acto
+000140d0: 722c 2076 6564 6f2e 506f 696e 7473 290a  r, vedo.Points).
+000140e0: 2020 2020 2020 2020 6576 656e 742e 6973          event.is
+000140f0: 4d65 7368 203d 2069 7369 6e73 7461 6e63  Mesh = isinstanc
+00014100: 6528 6163 746f 722c 2076 6564 6f2e 4d65  e(actor, vedo.Me
+00014110: 7368 290a 2020 2020 2020 2020 6576 656e  sh).        even
+00014120: 742e 6973 4173 7365 6d62 6c79 203d 2069  t.isAssembly = i
+00014130: 7369 6e73 7461 6e63 6528 6163 746f 722c  sinstance(actor,
+00014140: 2076 6564 6f2e 4173 7365 6d62 6c79 290a   vedo.Assembly).
+00014150: 2020 2020 2020 2020 6576 656e 742e 6973          event.is
+00014160: 566f 6c75 6d65 203d 2069 7369 6e73 7461  Volume = isinsta
+00014170: 6e63 6528 6163 746f 722c 2076 6564 6f2e  nce(actor, vedo.
+00014180: 566f 6c75 6d65 290a 2020 2020 2020 2020  Volume).        
+00014190: 6576 656e 742e 6973 5069 6374 7572 6520  event.isPicture 
+000141a0: 3d20 6973 696e 7374 616e 6365 2861 6374  = isinstance(act
+000141b0: 6f72 2c20 7665 646f 2e50 6963 7475 7265  or, vedo.Picture
+000141c0: 290a 2020 2020 2020 2020 6576 656e 742e  ).        event.
+000141d0: 6973 4163 746f 7232 4420 3d20 6973 696e  isActor2D = isin
+000141e0: 7374 616e 6365 2861 6374 6f72 2c20 7674  stance(actor, vt
+000141f0: 6b2e 7674 6b41 6374 6f72 3244 290a 2020  k.vtkActor2D).  
+00014200: 2020 2020 2020 7265 7475 726e 2065 7665        return eve
+00014210: 6e74 0a0a 2020 2020 4064 6570 7265 6361  nt..    @depreca
+00014220: 7465 6428 7265 6173 6f6e 3d76 6564 6f2e  ted(reason=vedo.
+00014230: 636f 6c6f 7273 2e72 6564 202b 2022 506c  colors.red + "Pl
+00014240: 6561 7365 2075 7365 2061 6464 5f63 616c  ease use add_cal
+00014250: 6c62 6163 6b28 2922 202b 2076 6564 6f2e  lback()" + vedo.
+00014260: 636f 6c6f 7273 2e72 6573 6574 290a 2020  colors.reset).  
+00014270: 2020 6465 6620 6164 6443 616c 6c62 6163    def addCallbac
+00014280: 6b28 7365 6c66 2c20 2a61 2c20 2a2a 6229  k(self, *a, **b)
+00014290: 3a0a 2020 2020 2020 2020 2222 2244 6570  :.        """Dep
+000142a0: 7265 6361 7465 642c 2075 7365 2060 6164  recated, use `ad
+000142b0: 645f 6361 6c6c 6261 636b 2829 6022 2222  d_callback()`"""
+000142c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000142d0: 7365 6c66 2e61 6464 5f63 616c 6c62 6163  self.add_callbac
+000142e0: 6b28 2a61 2c20 2a2a 6229 0a0a 2020 2020  k(*a, **b)..    
+000142f0: 6465 6620 6164 645f 6361 6c6c 6261 636b  def add_callback
+00014300: 2873 656c 662c 2065 7665 6e74 5f6e 616d  (self, event_nam
+00014310: 652c 2066 756e 632c 2070 7269 6f72 6974  e, func, priorit
+00014320: 793d 302e 3029 3a0a 2020 2020 2020 2020  y=0.0):.        
+00014330: 2222 220a 2020 2020 2020 2020 4164 6420  """.        Add 
+00014340: 6120 6675 6e63 7469 6f6e 2074 6f20 6265  a function to be
+00014350: 2065 7865 6375 7465 6420 7768 696c 6520   executed while 
+00014360: 7368 6f77 2829 2069 7320 6163 7469 7665  show() is active
+00014370: 2e0a 2020 2020 2020 2020 496e 666f 726d  ..        Inform
+00014380: 6174 696f 6e20 6162 6f75 7420 7468 6520  ation about the 
+00014390: 6576 656e 7420 6361 6e20 6265 2061 6371  event can be acq
+000143a0: 7569 7265 6420 7769 7468 206d 6574 686f  uired with metho
+000143b0: 6420 6765 7445 7665 6e74 2829 2e0a 0a20  d getEvent()... 
+000143c0: 2020 2020 2020 2052 6574 7572 6e20 6120         Return a 
+000143d0: 756e 6971 7565 2069 6420 666f 7220 7468  unique id for th
+000143e0: 6520 6361 6c6c 6261 636b 2e0a 0a20 2020  e callback...   
+000143f0: 2020 2020 2054 6865 2063 616c 6c62 6163       The callbac
+00014400: 6b20 6675 6e63 7469 6f6e 2028 7365 6520  k function (see 
+00014410: 6578 616d 706c 6520 6265 6c6f 7729 2065  example below) e
+00014420: 7870 6f73 6573 2061 2064 6963 7469 6f6e  xposes a diction
+00014430: 6172 790a 2020 2020 2020 2020 7769 7468  ary.        with
+00014440: 2074 6865 2066 6f6c 6c6f 7769 6e67 2069   the following i
+00014450: 6e66 6f72 6d61 7469 6f6e 3a0a 2020 2020  nformation:.    
+00014460: 2020 2020 2d20 606e 616d 6560 3a20 6576      - `name`: ev
+00014470: 656e 7420 6e61 6d65 2c0a 2020 2020 2020  ent name,.      
+00014480: 2020 2d20 6069 6460 3a20 6576 656e 7420    - `id`: event 
+00014490: 756e 6971 7565 2069 6465 6e74 6966 6965  unique identifie
+000144a0: 722c 0a20 2020 2020 2020 202d 2060 7072  r,.        - `pr
+000144b0: 696f 7269 7479 603a 2065 7665 6e74 2070  iority`: event p
+000144c0: 7269 6f72 6974 7920 2866 6c6f 6174 292c  riority (float),
+000144d0: 0a20 2020 2020 2020 202d 2060 696e 7465  .        - `inte
+000144e0: 7261 6374 6f72 603a 2074 6865 2069 6e74  ractor`: the int
+000144f0: 6572 6163 746f 7220 6f62 6a65 6374 2c0a  eractor object,.
+00014500: 2020 2020 2020 2020 2d20 6061 7460 3a20          - `at`: 
+00014510: 7265 6e64 6572 6572 206e 722e 2077 6865  renderer nr. whe
+00014520: 7265 2074 6865 2065 7665 6e74 206f 6363  re the event occ
+00014530: 7572 7265 640a 2020 2020 2020 2020 2d20  urred.        - 
+00014540: 6061 6374 6f72 603a 206f 626a 6563 7420  `actor`: object 
+00014550: 7069 636b 6564 2062 7920 7468 6520 6d6f  picked by the mo
+00014560: 7573 650a 2020 2020 2020 2020 2d20 6070  use.        - `p
+00014570: 6963 6b65 6433 6460 3a20 706f 696e 7420  icked3d`: point 
+00014580: 7069 636b 6564 2069 6e20 776f 726c 6420  picked in world 
+00014590: 636f 6f72 6469 6e61 7465 730a 2020 2020  coordinates.    
+000145a0: 2020 2020 2d20 606b 6579 7072 6573 7360      - `keypress`
+000145b0: 3a20 6b65 7920 7072 6573 7365 6420 6173  : key pressed as
+000145c0: 2073 7472 696e 670a 2020 2020 2020 2020   string.        
+000145d0: 2d20 6070 6963 6b65 6432 6460 3a20 7363  - `picked2d`: sc
+000145e0: 7265 656e 2063 6f6f 7264 7320 6f66 2074  reen coords of t
+000145f0: 6865 206d 6f75 7365 2070 6f69 6e74 6572  he mouse pointer
+00014600: 0a20 2020 2020 2020 202d 2060 6465 6c74  .        - `delt
+00014610: 6132 6460 3a20 7368 6966 7420 7772 7420  a2d`: shift wrt 
+00014620: 7072 6576 696f 7573 2070 6f73 6974 696f  previous positio
+00014630: 6e20 2874 6f20 6361 6c63 756c 6174 6520  n (to calculate 
+00014640: 7370 6565 642c 2064 6972 6563 7469 6f6e  speed, direction
+00014650: 290a 2020 2020 2020 2020 2d20 6064 656c  ).        - `del
+00014660: 7461 3364 603a 202e 2e2e 7361 6d65 2062  ta3d`: ...same b
+00014670: 7574 2069 6e20 3344 2077 6f72 6c64 2063  ut in 3D world c
+00014680: 6f6f 7264 730a 2020 2020 2020 2020 2d20  oords.        - 
+00014690: 6061 6e67 6c65 3264 603a 2061 6e67 6c65  `angle2d`: angle
+000146a0: 206f 6620 6d6f 7573 6520 6d6f 7665 6d65   of mouse moveme
+000146b0: 6e74 206f 6e20 7363 7265 656e 0a20 2020  nt on screen.   
+000146c0: 2020 2020 202d 2060 7370 6565 6432 6460       - `speed2d`
+000146d0: 3a20 7370 6565 6420 6f66 206d 6f75 7365  : speed of mouse
+000146e0: 206d 6f76 656d 656e 7420 6f6e 2073 6372   movement on scr
+000146f0: 6565 6e0a 2020 2020 2020 2020 2d20 6073  een.        - `s
+00014700: 7065 6564 3364 603a 2073 7065 6564 206f  peed3d`: speed o
+00014710: 6620 7069 636b 6564 2070 6f69 6e74 2069  f picked point i
+00014720: 6e20 776f 726c 6420 636f 6f72 6469 6e61  n world coordina
+00014730: 7465 730a 2020 2020 2020 2020 2d20 6069  tes.        - `i
+00014740: 7350 6f69 6e74 7360 3a20 5472 7565 2069  sPoints`: True i
+00014750: 6620 6f66 2063 6c61 7373 0a20 2020 2020  f of class.     
+00014760: 2020 202d 2060 6973 4d65 7368 603a 2054     - `isMesh`: T
+00014770: 7275 6520 6966 206f 6620 636c 6173 730a  rue if of class.
+00014780: 2020 2020 2020 2020 2d20 6069 7341 7373          - `isAss
+00014790: 656d 626c 7960 3a20 5472 7565 2069 6620  embly`: True if 
+000147a0: 6f66 2063 6c61 7373 0a20 2020 2020 2020  of class.       
+000147b0: 202d 2060 6973 566f 6c75 6d65 603a 2054   - `isVolume`: T
+000147c0: 7275 6520 6966 206f 6620 636c 6173 7320  rue if of class 
+000147d0: 566f 6c75 6d65 0a20 2020 2020 2020 202d  Volume.        -
+000147e0: 2060 6973 5069 6374 7572 6560 3a20 5472   `isPicture`: Tr
+000147f0: 7565 2069 6620 6f66 2063 6c61 7373 0a0a  ue if of class..
+00014800: 2020 2020 2020 2020 4672 6571 7565 6e74          Frequent
+00014810: 6c79 2075 7365 6420 6576 656e 7473 2061  ly used events a
+00014820: 7265 3a0a 2020 2020 2020 2020 2d20 604b  re:.        - `K
+00014830: 6579 5072 6573 7360 2c20 604b 6579 5265  eyPress`, `KeyRe
+00014840: 6c65 6173 6560 3a20 6c69 7374 656e 2074  lease`: listen t
+00014850: 6f20 6b65 7962 6f61 7264 2065 7665 6e74  o keyboard event
+00014860: 730a 2020 2020 2020 2020 2d20 604c 6566  s.        - `Lef
+00014870: 7442 7574 746f 6e50 7265 7373 602c 2060  tButtonPress`, `
+00014880: 4c65 6674 4275 7474 6f6e 5265 6c65 6173  LeftButtonReleas
+00014890: 6560 3a20 6c69 7374 656e 2074 6f20 6d6f  e`: listen to mo
+000148a0: 7573 6520 636c 6963 6b73 0a20 2020 2020  use clicks.     
+000148b0: 2020 202d 2060 4d69 6464 6c65 4275 7474     - `MiddleButt
+000148c0: 6f6e 5072 6573 7360 2c20 604d 6964 646c  onPress`, `Middl
+000148d0: 6542 7574 746f 6e52 656c 6561 7365 600a  eButtonRelease`.
+000148e0: 2020 2020 2020 2020 2d20 6052 6967 6874          - `Right
+000148f0: 4275 7474 6f6e 5072 6573 7360 2c20 6052  ButtonPress`, `R
+00014900: 6967 6874 4275 7474 6f6e 5265 6c65 6173  ightButtonReleas
+00014910: 6560 0a20 2020 2020 2020 202d 2060 4d6f  e`.        - `Mo
+00014920: 7573 654d 6f76 6560 3a20 6c69 7374 656e  useMove`: listen
+00014930: 2074 6f20 6d6f 7573 6520 706f 696e 7465   to mouse pointe
+00014940: 7220 6368 616e 6769 6e67 2070 6f73 6974  r changing posit
+00014950: 696f 6e0a 2020 2020 2020 2020 2d20 604d  ion.        - `M
+00014960: 6f75 7365 5768 6565 6c46 6f72 7761 7264  ouseWheelForward
+00014970: 602c 2060 4d6f 7573 6557 6865 656c 4261  `, `MouseWheelBa
+00014980: 636b 7761 7264 600a 2020 2020 2020 2020  ckward`.        
+00014990: 2d20 6045 6e74 6572 602c 2060 4c65 6176  - `Enter`, `Leav
+000149a0: 6560 3a20 6c69 7374 656e 2074 6f20 6d6f  e`: listen to mo
+000149b0: 7573 6520 656e 7465 7269 6e67 206f 7220  use entering or 
+000149c0: 6c65 6176 696e 6720 7468 6520 7769 6e64  leaving the wind
+000149d0: 6f77 0a20 2020 2020 2020 202d 2060 5069  ow.        - `Pi
+000149e0: 636b 602c 2060 5374 6172 7450 6963 6b60  ck`, `StartPick`
+000149f0: 2c20 6045 6e64 5069 636b 603a 206c 6973  , `EndPick`: lis
+00014a00: 7465 6e20 746f 206f 626a 6563 7420 7069  ten to object pi
+00014a10: 636b 696e 670a 2020 2020 2020 2020 2d20  cking.        - 
+00014a20: 6052 6573 6574 4361 6d65 7261 602c 2060  `ResetCamera`, `
+00014a30: 5265 7365 7443 616d 6572 6143 6c69 7070  ResetCameraClipp
+00014a40: 696e 6752 616e 6765 600a 2020 2020 2020  ingRange`.      
+00014a50: 2020 2d20 6045 7272 6f72 602c 2060 5761    - `Error`, `Wa
+00014a60: 726e 696e 6760 0a20 2020 2020 2020 202d  rning`.        -
+00014a70: 2060 4368 6172 600a 2020 2020 2020 2020   `Char`.        
+00014a80: 2d20 6054 696d 6572 600a 0a20 2020 2020  - `Timer`..     
+00014a90: 2020 2043 6865 636b 2074 6865 2063 6f6d     Check the com
+00014aa0: 706c 6574 6520 6c69 7374 206f 6620 6576  plete list of ev
+00014ab0: 656e 7473 205b 6865 7265 5d28 6874 7470  ents [here](http
+00014ac0: 733a 2f2f 7674 6b2e 6f72 672f 646f 632f  s://vtk.org/doc/
+00014ad0: 6e69 6768 746c 792f 6874 6d6c 2f63 6c61  nightly/html/cla
+00014ae0: 7373 7674 6b43 6f6d 6d61 6e64 2e68 746d  ssvtkCommand.htm
+00014af0: 6c29 2e0a 0a20 2020 2020 2020 2045 7861  l)...        Exa
+00014b00: 6d70 6c65 3a0a 2020 2020 2020 2020 2020  mple:.          
+00014b10: 2020 6060 6070 7974 686f 6e0a 2020 2020    ```python.    
+00014b20: 2020 2020 2020 2020 6672 6f6d 2076 6564          from ved
+00014b30: 6f20 696d 706f 7274 202a 0a0a 2020 2020  o import *..    
+00014b40: 2020 2020 2020 2020 6465 6620 6675 6e63          def func
+00014b50: 2865 7674 293a 0a20 2020 2020 2020 2020  (evt):.         
+00014b60: 2020 2020 2020 2023 2074 6869 7320 6675         # this fu
+00014b70: 6e63 7469 6f6e 2069 7320 6361 6c6c 6564  nction is called
+00014b80: 2065 7665 7279 2074 696d 6520 7468 6520   every time the 
+00014b90: 6d6f 7573 6520 6d6f 7665 730a 2020 2020  mouse moves.    
+00014ba0: 2020 2020 2020 2020 2020 2020 2320 2865              # (e
+00014bb0: 7674 2069 7320 6120 646f 7474 6564 2064  vt is a dotted d
+00014bc0: 6963 7469 6f6e 6172 7929 0a20 2020 2020  ictionary).     
+00014bd0: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00014be0: 7420 6576 742e 6163 746f 723a 0a20 2020  t evt.actor:.   
+00014bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014c00: 2072 6574 7572 6e20 2023 206e 6f20 6869   return  # no hi
+00014c10: 742c 2072 6574 7572 6e0a 2020 2020 2020  t, return.      
+00014c20: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00014c30: 2270 6f69 6e74 2063 6f6f 7264 7320 3d22  "point coords ="
+00014c40: 2c20 6576 742e 7069 636b 6564 3364 290a  , evt.picked3d).
+00014c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014c60: 2320 7072 696e 7428 2266 756c 6c20 6576  # print("full ev
+00014c70: 656e 7420 6475 6d70 3a22 2c20 6576 7429  ent dump:", evt)
+00014c80: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
+00014c90: 6c69 203d 2045 6c6c 6970 736f 6964 2829  li = Ellipsoid()
+00014ca0: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
+00014cb0: 203d 2050 6c6f 7474 6572 2861 7865 733d   = Plotter(axes=
+00014cc0: 3129 0a20 2020 2020 2020 2020 2020 2070  1).            p
+00014cd0: 6c74 2e61 6464 5f63 616c 6c62 6163 6b28  lt.add_callback(
+00014ce0: 276d 6f75 7365 2068 6f76 6572 696e 6727  'mouse hovering'
+00014cf0: 2c20 6675 6e63 290a 2020 2020 2020 2020  , func).        
+00014d00: 2020 2020 706c 742e 7368 6f77 2865 6c6c      plt.show(ell
+00014d10: 6929 2e63 6c6f 7365 2829 0a20 2020 2020  i).close().     
+00014d20: 2020 2020 2020 2060 6060 0a0a 2020 2020         ```..    
+00014d30: 2020 2020 4578 616d 706c 6573 3a0a 2020      Examples:.  
+00014d40: 2020 2020 2020 2020 2020 2d20 5b73 706c            - [spl
+00014d50: 696e 655f 6472 6177 2e70 795d 2868 7474  ine_draw.py](htt
+00014d60: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00014d70: 6d61 7263 6f6d 7573 792f 7665 646f 2f74  marcomusy/vedo/t
+00014d80: 7265 652f 6d61 7374 6572 2f65 7861 6d70  ree/master/examp
+00014d90: 6c65 732f 6164 7661 6e63 6564 2f73 706c  les/advanced/spl
+00014da0: 696e 655f 6472 6177 2e70 7929 0a20 2020  ine_draw.py).   
+00014db0: 2020 2020 2020 2020 202d 205b 636f 6c6f           - [colo
+00014dc0: 726c 696e 6573 2e70 795d 2868 7474 7073  rlines.py](https
+00014dd0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00014de0: 7263 6f6d 7573 792f 7665 646f 2f74 7265  rcomusy/vedo/tre
+00014df0: 652f 6d61 7374 6572 2f65 7861 6d70 6c65  e/master/example
+00014e00: 732f 6261 7369 632f 636f 6c6f 726c 696e  s/basic/colorlin
+00014e10: 6573 2e70 7929 0a0a 2020 2020 2020 2020  es.py)..        
+00014e20: 2020 2020 2020 2020 215b 5d28 6874 7470          ![](http
+00014e30: 733a 2f2f 7665 646f 2e65 6d62 6c2e 6573  s://vedo.embl.es
+00014e40: 2f69 6d61 6765 732f 6164 7661 6e63 6564  /images/advanced
+00014e50: 2f73 706c 696e 655f 6472 6177 2e70 6e67  /spline_draw.png
+00014e60: 290a 0a20 2020 2020 2020 2020 2020 202d  )..            -
+00014e70: 202e 2e61 6e64 206d 616e 7920 6f74 6865   ..and many othe
+00014e80: 7273 210a 2020 2020 2020 2020 2222 220a  rs!.        """.
+00014e90: 2020 2020 2020 2020 6672 6f6d 2076 746b          from vtk
+00014ea0: 6d6f 6475 6c65 732e 7574 696c 2e6d 6973  modules.util.mis
+00014eb0: 6320 696d 706f 7274 2063 616c 6c64 6174  c import calldat
+00014ec0: 615f 7479 7065 0a0a 2020 2020 2020 2020  a_type..        
+00014ed0: 6966 206e 6f74 2073 656c 662e 696e 7465  if not self.inte
+00014ee0: 7261 6374 6f72 3a0a 2020 2020 2020 2020  ractor:.        
+00014ef0: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
+00014f00: 0a20 2020 2020 2020 2023 2061 7320 7674  .        # as vt
+00014f10: 6b20 6e61 6d65 7320 6172 6520 7567 6c79  k names are ugly
+00014f20: 2061 6e64 2064 6966 6669 6375 6c74 2074   and difficult t
+00014f30: 6f20 7265 6d65 6d62 6572 3a0a 2020 2020  o remember:.    
+00014f40: 2020 2020 6c6e 203d 2065 7665 6e74 5f6e      ln = event_n
+00014f50: 616d 652e 6c6f 7765 7228 290a 2020 2020  ame.lower().    
+00014f60: 2020 2020 6966 2022 636c 6963 6b22 2069      if "click" i
+00014f70: 6e20 6c6e 206f 7220 2262 7574 746f 6e22  n ln or "button"
+00014f80: 2069 6e20 6c6e 3a0a 2020 2020 2020 2020   in ln:.        
+00014f90: 2020 2020 6576 656e 745f 6e61 6d65 203d      event_name =
+00014fa0: 2022 4c65 6674 4275 7474 6f6e 5072 6573   "LeftButtonPres
+00014fb0: 7322 0a20 2020 2020 2020 2020 2020 2069  s".            i
+00014fc0: 6620 2272 6967 6874 2220 696e 206c 6e3a  f "right" in ln:
+00014fd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014fe0: 2065 7665 6e74 5f6e 616d 6520 3d20 2252   event_name = "R
+00014ff0: 6967 6874 4275 7474 6f6e 5072 6573 7322  ightButtonPress"
+00015000: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+00015010: 6620 226d 6964 2220 696e 206c 6e3a 0a20  f "mid" in ln:. 
+00015020: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00015030: 7665 6e74 5f6e 616d 6520 3d20 224d 6964  vent_name = "Mid
+00015040: 646c 6542 7574 746f 6e50 7265 7373 220a  dleButtonPress".
+00015050: 2020 2020 2020 2020 2020 2020 6966 2022              if "
+00015060: 7265 6c65 6173 6522 2069 6e20 6c6e 3a0a  release" in ln:.
+00015070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015080: 2320 6576 656e 745f 6e61 6d65 203d 2065  # event_name = e
+00015090: 7665 6e74 5f6e 616d 652e 7265 706c 6163  vent_name.replac
+000150a0: 6528 2250 7265 7373 222c 2252 656c 6561  e("Press","Relea
+000150b0: 7365 2229 2023 2076 746b 2062 7567 0a20  se") # vtk bug. 
+000150c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000150d0: 7665 6e74 5f6e 616d 6520 3d20 2245 6e64  vent_name = "End
+000150e0: 496e 7465 7261 6374 696f 6e22 0a20 2020  Interaction".   
+000150f0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00015100: 2020 2020 2020 2069 6620 226b 6579 2220         if "key" 
+00015110: 696e 206c 6e3a 0a20 2020 2020 2020 2020  in ln:.         
+00015120: 2020 2020 2020 2069 6620 2272 656c 6561         if "relea
+00015130: 7365 2220 696e 206c 6e3a 0a20 2020 2020  se" in ln:.     
+00015140: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00015150: 7665 6e74 5f6e 616d 6520 3d20 224b 6579  vent_name = "Key
+00015160: 5265 6c65 6173 6522 0a20 2020 2020 2020  Release".       
+00015170: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00015180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015190: 2020 2065 7665 6e74 5f6e 616d 6520 3d20     event_name = 
+000151a0: 224b 6579 5072 6573 7322 0a0a 2020 2020  "KeyPress"..    
+000151b0: 2020 2020 6966 2028 226d 6f75 7365 2220      if ("mouse" 
+000151c0: 696e 206c 6e20 616e 6420 226d 6f76 2220  in ln and "mov" 
+000151d0: 696e 206c 6e29 206f 7220 226f 7665 7222  in ln) or "over"
+000151e0: 2069 6e20 6c6e 3a0a 2020 2020 2020 2020   in ln:.        
+000151f0: 2020 2020 6576 656e 745f 6e61 6d65 203d      event_name =
+00015200: 2022 4d6f 7573 654d 6f76 6522 0a20 2020   "MouseMove".   
+00015210: 2020 2020 2069 6620 2274 696d 6572 2220       if "timer" 
+00015220: 696e 206c 6e3a 0a20 2020 2020 2020 2020  in ln:.         
+00015230: 2020 2065 7665 6e74 5f6e 616d 6520 3d20     event_name = 
+00015240: 2254 696d 6572 220a 0a20 2020 2020 2020  "Timer"..       
+00015250: 2069 6620 6e6f 7420 6576 656e 745f 6e61   if not event_na
+00015260: 6d65 2e65 6e64 7377 6974 6828 2245 7665  me.endswith("Eve
+00015270: 6e74 2229 3a0a 2020 2020 2020 2020 2020  nt"):.          
+00015280: 2020 6576 656e 745f 6e61 6d65 202b 3d20    event_name += 
+00015290: 2245 7665 6e74 220a 0a20 2020 2020 2020  "Event"..       
+000152a0: 2040 6361 6c6c 6461 7461 5f74 7970 6528   @calldata_type(
+000152b0: 7674 6b2e 5654 4b5f 494e 5429 0a20 2020  vtk.VTK_INT).   
+000152c0: 2020 2020 2064 6566 205f 6675 6e63 5f77       def _func_w
+000152d0: 7261 7028 6972 656e 2c20 656e 616d 652c  rap(iren, ename,
+000152e0: 2074 696d 6572 6964 3d4e 6f6e 6529 3a0a   timerid=None):.
+000152f0: 2020 2020 2020 2020 2020 2020 6576 656e              even
+00015300: 7420 3d20 7365 6c66 2e66 696c 6c5f 6576  t = self.fill_ev
+00015310: 656e 7428 656e 616d 653d 656e 616d 6529  ent(ename=ename)
+00015320: 0a20 2020 2020 2020 2020 2020 2065 7665  .            eve
+00015330: 6e74 2e74 696d 6572 6964 203d 2074 696d  nt.timerid = tim
+00015340: 6572 6964 0a20 2020 2020 2020 2020 2020  erid.           
+00015350: 2065 7665 6e74 2e69 6420 3d20 6369 640a   event.id = cid.
+00015360: 2020 2020 2020 2020 2020 2020 6576 656e              even
+00015370: 742e 7072 696f 7269 7479 203d 2070 7269  t.priority = pri
+00015380: 6f72 6974 790a 2020 2020 2020 2020 2020  ority.          
+00015390: 2020 7365 6c66 2e6c 6173 745f 6576 656e    self.last_even
+000153a0: 7420 3d20 6576 656e 740a 2020 2020 2020  t = event.      
+000153b0: 2020 2020 2020 6675 6e63 2865 7665 6e74        func(event
+000153c0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+000153d0: 7475 726e 2020 2323 205f 6675 6e63 5f77  turn  ## _func_w
+000153e0: 7261 700a 0a20 2020 2020 2020 2023 204e  rap..        # N
+000153f0: 6f74 2063 6f6d 7061 7469 626c 6520 7769  ot compatible wi
+00015400: 7468 2050 726f 6365 7373 4576 656e 7473  th ProcessEvents
+00015410: 2829 0a20 2020 2020 2020 2069 6620 224d  ().        if "M
+00015420: 6f75 7365 4d6f 7665 2220 696e 2065 7665  ouseMove" in eve
+00015430: 6e74 5f6e 616d 6520 6f72 2022 5469 6d65  nt_name or "Time
+00015440: 7222 2069 6e20 6576 656e 745f 6e61 6d65  r" in event_name
+00015450: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00015460: 7474 696e 6773 2e61 6c6c 6f77 5f69 6e74  ttings.allow_int
+00015470: 6572 6163 7469 6f6e 203d 2046 616c 7365  eraction = False
+00015480: 0a0a 2020 2020 2020 2020 6369 6420 3d20  ..        cid = 
+00015490: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
+000154a0: 4164 644f 6273 6572 7665 7228 6576 656e  AddObserver(even
+000154b0: 745f 6e61 6d65 2c20 5f66 756e 635f 7772  t_name, _func_wr
+000154c0: 6170 2c20 7072 696f 7269 7479 290a 2020  ap, priority).  
+000154d0: 2020 2020 2020 7665 646f 2e6c 6f67 6765        vedo.logge
+000154e0: 722e 6465 6275 6728 6622 7265 6769 7374  r.debug(f"regist
+000154f0: 6572 696e 6720 6576 656e 743a 207b 6576  ering event: {ev
+00015500: 656e 745f 6e61 6d65 7d20 7769 7468 2069  ent_name} with i
+00015510: 643d 7b63 6964 7d22 290a 2020 2020 2020  d={cid}").      
+00015520: 2020 7265 7475 726e 2063 6964 0a0a 2020    return cid..  
+00015530: 2020 6465 6620 7265 6d6f 7665 5f63 616c    def remove_cal
+00015540: 6c62 6163 6b28 7365 6c66 2c20 6369 6429  lback(self, cid)
+00015550: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00015560: 2020 2020 2020 5265 6d6f 7665 2061 2063        Remove a c
+00015570: 616c 6c62 6163 6b20 6675 6e63 7469 6f6e  allback function
+00015580: 2062 7920 6974 7320 6964 0a20 2020 2020   by its id.     
+00015590: 2020 206f 7220 6120 7768 6f6c 6520 6361     or a whole ca
+000155a0: 7465 676f 7279 206f 6620 6361 6c6c 6261  tegory of callba
+000155b0: 636b 7320 6279 2074 6865 6972 206e 616d  cks by their nam
+000155c0: 652e 0a0a 2020 2020 2020 2020 4172 6775  e...        Argu
+000155d0: 6d65 6e74 733a 0a20 2020 2020 2020 2020  ments:.         
+000155e0: 2020 2063 6964 203a 2028 696e 742c 2073     cid : (int, s
+000155f0: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
+00015600: 2020 2020 556e 6971 7565 2069 6420 6f66      Unique id of
+00015610: 2074 6865 2063 616c 6c62 6163 6b2e 0a20   the callback.. 
+00015620: 2020 2020 2020 2020 2020 2020 2020 2049                 I
+00015630: 6620 616e 2065 7665 6e74 206e 616d 6520  f an event name 
+00015640: 6973 2070 6173 7365 6420 616c 6c20 6361  is passed all ca
+00015650: 6c6c 6261 636b 7320 6f66 2074 6861 7420  llbacks of that 
+00015660: 7479 7065 2061 7265 2072 656d 6f76 6564  type are removed
+00015670: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+00015680: 2020 2020 2020 6966 2073 656c 662e 696e        if self.in
+00015690: 7465 7261 6374 6f72 3a0a 2020 2020 2020  teractor:.      
+000156a0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+000156b0: 6e63 6528 6369 642c 2073 7472 293a 0a20  nce(cid, str):. 
+000156c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+000156d0: 2061 7320 7674 6b20 6e61 6d65 7320 6172   as vtk names ar
+000156e0: 6520 7567 6c79 2061 6e64 2064 6966 6669  e ugly and diffi
+000156f0: 6375 6c74 2074 6f20 7265 6d65 6d62 6572  cult to remember
+00015700: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00015710: 2020 6c6e 203d 2063 6964 2e6c 6f77 6572    ln = cid.lower
+00015720: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+00015730: 2020 2069 6620 2263 6c69 636b 2220 696e     if "click" in
+00015740: 206c 6e20 6f72 2022 6275 7474 6f6e 2220   ln or "button" 
+00015750: 696e 206c 6e3a 0a20 2020 2020 2020 2020  in ln:.         
+00015760: 2020 2020 2020 2020 2020 2063 6964 203d             cid =
+00015770: 2022 4c65 6674 4275 7474 6f6e 5072 6573   "LeftButtonPres
+00015780: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
+00015790: 2020 2020 2020 2069 6620 2272 6967 6874         if "right
+000157a0: 2220 696e 206c 6e3a 0a20 2020 2020 2020  " in ln:.       
+000157b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000157c0: 2063 6964 203d 2022 5269 6768 7442 7574   cid = "RightBut
+000157d0: 746f 6e50 7265 7373 220a 2020 2020 2020  tonPress".      
+000157e0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+000157f0: 6966 2022 6d69 6422 2069 6e20 6c6e 3a0a  if "mid" in ln:.
+00015800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015810: 2020 2020 2020 2020 6369 6420 3d20 224d          cid = "M
+00015820: 6964 646c 6542 7574 746f 6e50 7265 7373  iddleButtonPress
+00015830: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00015840: 2020 2020 2020 6966 2022 7265 6c65 6173        if "releas
+00015850: 6522 2069 6e20 6c6e 3a0a 2020 2020 2020  e" in ln:.      
+00015860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015870: 2020 6369 642e 7265 706c 6163 6528 2250    cid.replace("P
+00015880: 7265 7373 222c 2022 5265 6c65 6173 6522  ress", "Release"
+00015890: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000158a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+000158b0: 2020 2020 2020 2020 2020 2020 6966 2022              if "
+000158c0: 6b65 7922 2069 6e20 6c6e 3a0a 2020 2020  key" in ln:.    
+000158d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000158e0: 2020 2020 6966 2022 7265 6c65 6173 6522      if "release"
+000158f0: 2069 6e20 6c6e 3a0a 2020 2020 2020 2020   in ln:.        
+00015900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015910: 2020 2020 6369 6420 3d20 224b 6579 5265      cid = "KeyRe
+00015920: 6c65 6173 6522 0a20 2020 2020 2020 2020  lease".         
+00015930: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00015940: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00015950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015960: 2063 6964 203d 2022 4b65 7950 7265 7373   cid = "KeyPress
+00015970: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00015980: 2020 6966 2028 226d 6f75 7365 2220 696e    if ("mouse" in
+00015990: 206c 6e20 616e 6420 226d 6f76 2220 696e   ln and "mov" in
+000159a0: 206c 6e29 206f 7220 226f 7665 7222 2069   ln) or "over" i
+000159b0: 6e20 6c6e 3a0a 2020 2020 2020 2020 2020  n ln:.          
+000159c0: 2020 2020 2020 2020 2020 6369 6420 3d20            cid = 
+000159d0: 224d 6f75 7365 4d6f 7665 220a 2020 2020  "MouseMove".    
+000159e0: 2020 2020 2020 2020 2020 2020 6966 2022              if "
+000159f0: 7469 6d65 7222 2069 6e20 6c6e 3a0a 2020  timer" in ln:.  
+00015a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015a10: 2020 6369 6420 3d20 2254 696d 6572 220a    cid = "Timer".
+00015a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015a30: 6966 206e 6f74 2063 6964 2e65 6e64 7377  if not cid.endsw
+00015a40: 6974 6828 2245 7665 6e74 2229 3a0a 2020  ith("Event"):.  
+00015a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015a60: 2020 6369 6420 2b3d 2022 4576 656e 7422    cid += "Event"
+00015a70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015a80: 2073 656c 662e 696e 7465 7261 6374 6f72   self.interactor
+00015a90: 2e52 656d 6f76 654f 6273 6572 7665 7273  .RemoveObservers
+00015aa0: 2863 6964 290a 2020 2020 2020 2020 2020  (cid).          
+00015ab0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00015ac0: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
+00015ad0: 6572 6163 746f 722e 5265 6d6f 7665 4f62  eractor.RemoveOb
+00015ae0: 7365 7276 6572 2863 6964 290a 2020 2020  server(cid).    
+00015af0: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+00015b00: 0a20 2020 2064 6566 2074 696d 6572 5f63  .    def timer_c
+00015b10: 616c 6c62 6163 6b28 7365 6c66 2c20 6163  allback(self, ac
+00015b20: 7469 6f6e 2c20 7469 6d65 725f 6964 3d4e  tion, timer_id=N
+00015b30: 6f6e 652c 2064 743d 312c 206f 6e65 5f73  one, dt=1, one_s
+00015b40: 686f 743d 4661 6c73 6529 3a0a 2020 2020  hot=False):.    
+00015b50: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00015b60: 5374 6172 7420 6f72 2073 746f 7020 616e  Start or stop an
+00015b70: 2065 7869 7374 696e 6720 7469 6d65 722e   existing timer.
+00015b80: 0a0a 2020 2020 2020 2020 4172 6775 6d65  ..        Argume
+00015b90: 6e74 733a 0a20 2020 2020 2020 2020 2020  nts:.           
+00015ba0: 2061 6374 696f 6e20 3a20 2873 7472 290a   action : (str).
+00015bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015bc0: 4569 7468 6572 2022 6372 6561 7465 222f  Either "create"/
+00015bd0: 2273 7461 7274 2220 6f72 2022 6465 7374  "start" or "dest
+00015be0: 726f 7922 2f22 7374 6f70 220a 2020 2020  roy"/"stop".    
+00015bf0: 2020 2020 2020 2020 7469 6d65 725f 6964          timer_id
+00015c00: 203a 2028 696e 7429 0a20 2020 2020 2020   : (int).       
+00015c10: 2020 2020 2020 2020 2057 6865 6e20 7374           When st
+00015c20: 6f70 7069 6e67 2074 6865 2074 696d 6572  opping the timer
+00015c30: 2c20 7468 6520 4944 206f 6620 7468 6520  , the ID of the 
+00015c40: 7469 6d65 7220 6173 2072 6574 7572 6e65  timer as returne
+00015c50: 6420 7768 656e 2063 7265 6174 6564 0a20  d when created. 
+00015c60: 2020 2020 2020 2020 2020 2064 7420 3a20             dt : 
+00015c70: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+00015c80: 2020 2020 2020 7469 6d65 2069 6e20 6d69        time in mi
+00015c90: 6c6c 6973 6563 6f6e 6473 2062 6574 7765  lliseconds betwe
+00015ca0: 656e 2065 6163 6820 7265 7065 6174 6564  en each repeated
+00015cb0: 2063 616c 6c0a 2020 2020 2020 2020 2020   call.          
+00015cc0: 2020 6f6e 655f 7368 6f74 203a 2028 626f    one_shot : (bo
+00015cd0: 6f6c 290a 2020 2020 2020 2020 2020 2020  ol).            
+00015ce0: 2020 2020 6372 6561 7465 2061 206f 6e65      create a one
+00015cf0: 2073 686f 7420 7469 6d65 7220 6f66 2070   shot timer of p
+00015d00: 7265 7363 7269 6265 6420 6475 7261 7469  rescribed durati
+00015d10: 6f6e 2069 6e73 7465 6164 206f 6620 6120  on instead of a 
+00015d20: 7265 7065 6174 696e 6720 6f6e 650a 0a20  repeating one.. 
+00015d30: 2020 2020 2020 2045 7861 6d70 6c65 733a         Examples:
+00015d40: 0a20 2020 2020 2020 2020 2020 202d 205b  .            - [
+00015d50: 7469 6d65 725f 6361 6c6c 6261 636b 312e  timer_callback1.
+00015d60: 7079 5d28 6874 7470 733a 2f2f 6769 7468  py](https://gith
+00015d70: 7562 2e63 6f6d 2f6d 6172 636f 6d75 7379  ub.com/marcomusy
+00015d80: 2f76 6564 6f2f 7472 6565 2f6d 6173 7465  /vedo/tree/maste
+00015d90: 722f 6578 616d 706c 6573 2f61 6476 616e  r/examples/advan
+00015da0: 6365 642f 7469 6d65 725f 6361 6c6c 6261  ced/timer_callba
+00015db0: 636b 312e 7079 290a 2020 2020 2020 2020  ck1.py).        
+00015dc0: 2020 2020 2d20 5b74 696d 6572 5f63 616c      - [timer_cal
+00015dd0: 6c62 6163 6b32 2e70 795d 2868 7474 7073  lback2.py](https
+00015de0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00015df0: 7263 6f6d 7573 792f 7665 646f 2f74 7265  rcomusy/vedo/tre
+00015e00: 652f 6d61 7374 6572 2f65 7861 6d70 6c65  e/master/example
+00015e10: 732f 6164 7661 6e63 6564 2f74 696d 6572  s/advanced/timer
+00015e20: 5f63 616c 6c62 6163 6b32 2e70 7929 0a0a  _callback2.py)..
+00015e30: 2020 2020 2020 2020 2020 2020 215b 5d28              ![](
+00015e40: 6874 7470 733a 2f2f 7665 646f 2e65 6d62  https://vedo.emb
+00015e50: 6c2e 6573 2f69 6d61 6765 732f 6164 7661  l.es/images/adva
+00015e60: 6e63 6564 2f74 696d 6572 5f63 616c 6c62  nced/timer_callb
+00015e70: 6163 6b31 2e6a 7067 290a 2020 2020 2020  ack1.jpg).      
+00015e80: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+00015e90: 2061 6374 696f 6e20 696e 2028 2263 7265   action in ("cre
+00015ea0: 6174 6522 2c20 2273 7461 7274 2229 3a0a  ate", "start"):.
+00015eb0: 2020 2020 2020 2020 2020 2020 6966 2074              if t
+00015ec0: 696d 6572 5f69 6420 6973 206e 6f74 204e  imer_id is not N
+00015ed0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00015ee0: 2020 2020 2076 6564 6f2e 6c6f 6767 6572       vedo.logger
+00015ef0: 2e77 6172 6e69 6e67 2822 796f 7520 7365  .warning("you se
+00015f00: 7420 6120 7469 6d65 725f 6964 2062 7574  t a timer_id but
+00015f10: 2069 7420 7769 6c6c 2062 6520 6967 6e6f   it will be igno
+00015f20: 7265 642e 2229 0a20 2020 2020 2020 2020  red.").         
+00015f30: 2020 2069 6620 6f6e 655f 7368 6f74 3a0a     if one_shot:.
+00015f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015f50: 7469 6d65 725f 6964 203d 2073 656c 662e  timer_id = self.
+00015f60: 696e 7465 7261 6374 6f72 2e43 7265 6174  interactor.Creat
+00015f70: 654f 6e65 5368 6f74 5469 6d65 7228 6474  eOneShotTimer(dt
+00015f80: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00015f90: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00015fa0: 2020 2020 7469 6d65 725f 6964 203d 2073      timer_id = s
+00015fb0: 656c 662e 696e 7465 7261 6374 6f72 2e43  elf.interactor.C
+00015fc0: 7265 6174 6552 6570 6561 7469 6e67 5469  reateRepeatingTi
+00015fd0: 6d65 7228 6474 290a 2020 2020 2020 2020  mer(dt).        
+00015fe0: 2020 2020 7265 7475 726e 2074 696d 6572      return timer
+00015ff0: 5f69 640a 0a20 2020 2020 2020 2065 6c69  _id..        eli
+00016000: 6620 6163 7469 6f6e 2069 6e20 2822 6465  f action in ("de
+00016010: 7374 726f 7922 2c20 2273 746f 7022 293a  stroy", "stop"):
+00016020: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00016030: 7469 6d65 725f 6964 2069 7320 6e6f 7420  timer_id is not 
+00016040: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00016050: 2020 2020 2020 7365 6c66 2e69 6e74 6572        self.inter
+00016060: 6163 746f 722e 4465 7374 726f 7954 696d  actor.DestroyTim
+00016070: 6572 2874 696d 6572 5f69 6429 0a20 2020  er(timer_id).   
+00016080: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00016090: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+000160a0: 6564 6f2e 6c6f 6767 6572 2e77 6172 6e69  edo.logger.warni
+000160b0: 6e67 2822 706c 6561 7365 2073 6574 2061  ng("please set a
+000160c0: 2074 696d 6572 5f69 642e 2043 616e 6e6f   timer_id. Canno
+000160d0: 7420 7374 6f70 2074 696d 6572 2e22 290a  t stop timer.").
+000160e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000160f0: 2020 2020 2020 2020 2020 6520 3d20 6622            e = f"
+00016100: 696e 2074 696d 6572 5f63 616c 6c62 6163  in timer_callbac
+00016110: 6b28 292e 2043 616e 6e6f 7420 756e 6465  k(). Cannot unde
+00016120: 7273 7461 6e64 2061 6374 696f 6e3a 207b  rstand action: {
+00016130: 6163 7469 6f6e 7d5c 6e22 0a20 2020 2020  action}\n".     
+00016140: 2020 2020 2020 2065 202b 3d20 2220 616c         e += " al
+00016150: 6c6f 7765 6420 6163 7469 6f6e 7320 6172  lowed actions ar
+00016160: 653a 205b 2773 7461 7274 272c 2027 7374  e: ['start', 'st
+00016170: 6f70 275d 2e20 536b 6970 7065 642e 220a  op']. Skipped.".
+00016180: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+00016190: 2e6c 6f67 6765 722e 6572 726f 7228 6529  .logger.error(e)
+000161a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000161b0: 7469 6d65 725f 6964 0a0a 2020 2020 6465  timer_id..    de
+000161c0: 6620 636f 6d70 7574 655f 776f 726c 645f  f compute_world_
+000161d0: 636f 6f72 6469 6e61 7465 280a 2020 2020  coordinate(.    
+000161e0: 2020 2020 7365 6c66 2c20 706f 7332 642c      self, pos2d,
+000161f0: 2061 743d 4e6f 6e65 2c20 6f62 6a73 3d28   at=None, objs=(
+00016200: 292c 2062 6f75 6e64 733d 2829 2c20 6f66  ), bounds=(), of
+00016210: 6673 6574 3d4e 6f6e 652c 2070 6978 656c  fset=None, pixel
+00016220: 746f 6c3d 4e6f 6e65 2c20 776f 726c 6474  tol=None, worldt
+00016230: 6f6c 3d4e 6f6e 650a 2020 2020 293a 0a20  ol=None.    ):. 
+00016240: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00016250: 2020 2054 7261 6e73 666f 726d 2061 2032     Transform a 2
+00016260: 4420 706f 696e 7420 6f6e 2074 6865 2073  D point on the s
+00016270: 6372 6565 6e20 696e 746f 2061 2033 4420  creen into a 3D 
+00016280: 706f 696e 7420 696e 7369 6465 2074 6865  point inside the
+00016290: 2072 656e 6465 7269 6e67 2073 6365 6e65   rendering scene
+000162a0: 2e0a 2020 2020 2020 2020 4966 2061 2073  ..        If a s
+000162b0: 6574 206f 6620 6d65 7368 6573 2069 7320  et of meshes is 
+000162c0: 7061 7373 6564 2074 6865 6e20 706f 696e  passed then poin
+000162d0: 7473 2061 7265 2070 6c61 6365 6420 6f6e  ts are placed on
+000162e0: 746f 2074 6865 7365 2e0a 0a20 2020 2020  to these...     
+000162f0: 2020 2041 7267 756d 656e 7473 3a0a 2020     Arguments:.  
+00016300: 2020 2020 2020 2020 2020 706f 7332 6420            pos2d 
+00016310: 3a20 286c 6973 7429 0a20 2020 2020 2020  : (list).       
+00016320: 2020 2020 2020 2020 2032 4420 7363 7265           2D scre
+00016330: 656e 2063 6f6f 7264 696e 6174 6573 2070  en coordinates p
+00016340: 6f69 6e74 2e0a 2020 2020 2020 2020 2020  oint..          
+00016350: 2020 6174 203a 2028 696e 7429 0a20 2020    at : (int).   
+00016360: 2020 2020 2020 2020 2020 2020 2072 656e               ren
+00016370: 6465 7265 7220 6e75 6d62 6572 2e0a 2020  derer number..  
+00016380: 2020 2020 2020 2020 2020 6f62 6a73 203a            objs :
+00016390: 2028 6c69 7374 290a 2020 2020 2020 2020   (list).        
+000163a0: 2020 2020 2020 2020 6c69 7374 206f 6620          list of 
+000163b0: 4d65 7368 206f 626a 6563 7473 2074 6f20  Mesh objects to 
+000163c0: 7072 6f6a 6563 7420 7468 6520 706f 696e  project the poin
+000163d0: 7420 6f6e 746f 2e0a 2020 2020 2020 2020  t onto..        
+000163e0: 2020 2020 626f 756e 6473 203a 2028 6c69      bounds : (li
+000163f0: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
+00016400: 2020 2020 7370 6563 6966 7920 6120 626f      specify a bo
+00016410: 756e 6469 6e67 2062 6f78 2061 7320 5b78  unding box as [x
+00016420: 6d69 6e2c 786d 6178 2c20 796d 696e 2c79  min,xmax, ymin,y
+00016430: 6d61 782c 207a 6d69 6e2c 7a6d 6178 5d2e  max, zmin,zmax].
+00016440: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+00016450: 7365 7420 3a20 2866 6c6f 6174 290a 2020  set : (float).  
+00016460: 2020 2020 2020 2020 2020 2020 2020 7370                sp
+00016470: 6563 6966 7920 616e 206f 6666 7365 7420  ecify an offset 
+00016480: 7661 6c75 652e 0a20 2020 2020 2020 2020  value..         
+00016490: 2020 2070 6978 656c 746f 6c20 3a20 2869     pixeltol : (i
+000164a0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+000164b0: 2020 2020 7363 7265 656e 2074 6f6c 6572      screen toler
+000164c0: 616e 6365 2069 6e20 7069 7865 6c73 2e0a  ance in pixels..
+000164d0: 2020 2020 2020 2020 2020 2020 776f 726c              worl
+000164e0: 6474 6f6c 203a 2028 666c 6f61 7429 0a20  dtol : (float). 
+000164f0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+00016500: 6f72 6c64 2063 6f6f 7264 696e 6174 6573  orld coordinates
+00016510: 2074 6f6c 6572 616e 6365 2e0a 0a20 2020   tolerance...   
+00016520: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00016530: 2020 2020 2020 2020 2020 6e75 6d70 7920            numpy 
+00016540: 6172 7261 792c 2074 6865 2070 6f69 6e74  array, the point
+00016550: 2069 6e20 3344 2077 6f72 6c64 2063 6f6f   in 3D world coo
+00016560: 7264 696e 6174 6573 2e0a 0a20 2020 2020  rdinates...     
+00016570: 2020 2045 7861 6d70 6c65 733a 0a20 2020     Examples:.   
+00016580: 2020 2020 2020 2020 202d 205b 6375 745f           - [cut_
+00016590: 6672 6565 6861 6e64 2e70 795d 2868 7474  freehand.py](htt
+000165a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000165b0: 6d61 7263 6f6d 7573 792f 7665 646f 2f74  marcomusy/vedo/t
+000165c0: 7265 652f 6d61 7374 6572 2f65 7861 6d70  ree/master/examp
+000165d0: 6c65 732f 6261 7369 632f 6375 745f 6672  les/basic/cut_fr
+000165e0: 6565 6861 6e64 2e70 7929 0a20 2020 2020  eehand.py).     
+000165f0: 2020 2020 2020 202d 205b 6d6f 7573 6568         - [mouseh
+00016600: 6f76 6572 332e 7079 5d28 6874 7470 733a  over3.py](https:
+00016610: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6172  //github.com/mar
+00016620: 636f 6d75 7379 2f76 6564 6f2f 7472 6565  comusy/vedo/tree
+00016630: 2f6d 6173 7465 722f 6578 616d 706c 6573  /master/examples
+00016640: 2f62 6173 6963 2f6d 6f75 7365 686f 7665  /basic/mousehove
+00016650: 7233 2e70 7929 0a0a 2020 2020 2020 2020  r3.py)..        
+00016660: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
+00016670: 7665 646f 2e65 6d62 6c2e 6573 2f69 6d61  vedo.embl.es/ima
+00016680: 6765 732f 6261 7369 632f 6d6f 7573 6568  ges/basic/mouseh
+00016690: 6f76 6572 332e 6a70 6729 0a20 2020 2020  over3.jpg).     
+000166a0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+000166b0: 6620 6174 2069 7320 6e6f 7420 4e6f 6e65  f at is not None
+000166c0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000166d0: 6e64 6572 6572 203d 2073 656c 662e 7265  nderer = self.re
+000166e0: 6e64 6572 6572 735b 6174 5d0a 2020 2020  nderers[at].    
+000166f0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00016700: 2020 2020 2020 7265 6e64 6572 6572 203d        renderer =
+00016710: 2073 656c 662e 7265 6e64 6572 6572 0a0a   self.renderer..
+00016720: 2020 2020 2020 2020 6966 206e 6f74 206f          if not o
+00016730: 626a 733a 0a20 2020 2020 2020 2020 2020  bjs:.           
+00016740: 2070 7020 3d20 7674 6b2e 7674 6b46 6f63   pp = vtk.vtkFoc
+00016750: 616c 506c 616e 6550 6f69 6e74 506c 6163  alPlanePointPlac
+00016760: 6572 2829 0a20 2020 2020 2020 2065 6c73  er().        els
+00016770: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
+00016780: 7020 3d20 7674 6b2e 7674 6b50 6f6c 7967  p = vtk.vtkPolyg
+00016790: 6f6e 616c 5375 7266 6163 6550 6f69 6e74  onalSurfacePoint
+000167a0: 506c 6163 6572 2829 0a20 2020 2020 2020  Placer().       
+000167b0: 2020 2020 2066 6f72 206f 6220 696e 206f       for ob in o
+000167c0: 626a 733a 0a20 2020 2020 2020 2020 2020  bjs:.           
+000167d0: 2020 2020 2070 702e 4164 6450 726f 7028       pp.AddProp(
+000167e0: 6f62 290a 0a20 2020 2020 2020 2069 6620  ob)..        if 
+000167f0: 6c65 6e28 626f 756e 6473 2920 3d3d 2036  len(bounds) == 6
+00016800: 3a0a 2020 2020 2020 2020 2020 2020 7070  :.            pp
+00016810: 2e53 6574 506f 696e 7442 6f75 6e64 7328  .SetPointBounds(
+00016820: 626f 756e 6473 290a 2020 2020 2020 2020  bounds).        
+00016830: 6966 2070 6978 656c 746f 6c3a 0a20 2020  if pixeltol:.   
+00016840: 2020 2020 2020 2020 2070 702e 5365 7450           pp.SetP
+00016850: 6978 656c 546f 6c65 7261 6e63 6528 7069  ixelTolerance(pi
+00016860: 7865 6c74 6f6c 290a 2020 2020 2020 2020  xeltol).        
+00016870: 6966 2077 6f72 6c64 746f 6c3a 0a20 2020  if worldtol:.   
+00016880: 2020 2020 2020 2020 2070 702e 5365 7457           pp.SetW
+00016890: 6f72 6c64 546f 6c65 7261 6e63 6528 776f  orldTolerance(wo
+000168a0: 726c 6474 6f6c 290a 2020 2020 2020 2020  rldtol).        
+000168b0: 6966 206f 6666 7365 743a 0a20 2020 2020  if offset:.     
+000168c0: 2020 2020 2020 2070 702e 5365 744f 6666         pp.SetOff
+000168d0: 7365 7428 6f66 6673 6574 290a 0a20 2020  set(offset)..   
+000168e0: 2020 2020 2077 6f72 6c64 506f 7320 3d20       worldPos = 
+000168f0: 5b30 2c20 302c 2030 5d0a 2020 2020 2020  [0, 0, 0].      
+00016900: 2020 776f 726c 644f 7269 656e 7420 3d20    worldOrient = 
+00016910: 5b30 2c20 302c 2030 2c20 302c 2030 2c20  [0, 0, 0, 0, 0, 
+00016920: 302c 2030 2c20 302c 2030 5d0a 2020 2020  0, 0, 0, 0].    
+00016930: 2020 2020 7070 2e43 6f6d 7075 7465 576f      pp.ComputeWo
+00016940: 726c 6450 6f73 6974 696f 6e28 7265 6e64  rldPosition(rend
+00016950: 6572 6572 2c20 706f 7332 642c 2077 6f72  erer, pos2d, wor
+00016960: 6c64 506f 732c 2077 6f72 6c64 4f72 6965  ldPos, worldOrie
+00016970: 6e74 290a 2020 2020 2020 2020 2320 7661  nt).        # va
+00016980: 6c69 6477 203d 2070 702e 5661 6c69 6461  lidw = pp.Valida
+00016990: 7465 576f 726c 6450 6f73 6974 696f 6e28  teWorldPosition(
+000169a0: 776f 726c 6450 6f73 2c20 776f 726c 644f  worldPos, worldO
+000169b0: 7269 656e 7429 0a20 2020 2020 2020 2023  rient).        #
+000169c0: 2076 616c 6964 6420 3d20 7070 2e56 616c   validd = pp.Val
+000169d0: 6964 6174 6544 6973 706c 6179 506f 7369  idateDisplayPosi
+000169e0: 7469 6f6e 2872 656e 6465 7265 722c 2070  tion(renderer, p
+000169f0: 6f73 3264 290a 2020 2020 2020 2020 7265  os2d).        re
+00016a00: 7475 726e 206e 702e 6172 7261 7928 776f  turn np.array(wo
+00016a10: 726c 6450 6f73 290a 0a20 2020 2064 6566  rldPos)..    def
+00016a20: 2063 6f6d 7075 7465 5f73 6372 6565 6e5f   compute_screen_
+00016a30: 636f 6f72 6469 6e61 7465 7328 7365 6c66  coordinates(self
+00016a40: 2c20 6f62 6a2c 2066 756c 6c5f 7769 6e64  , obj, full_wind
+00016a50: 6f77 3d46 616c 7365 293a 0a20 2020 2020  ow=False):.     
+00016a60: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
+00016a70: 6976 656e 2061 2033 4420 706f 696e 7473  iven a 3D points
+00016a80: 2069 6e20 7468 6520 6375 7272 656e 7420   in the current 
+00016a90: 7265 6e64 6572 6572 2028 6f72 2066 756c  renderer (or ful
+00016aa0: 6c20 7769 6e64 6f77 292c 0a20 2020 2020  l window),.     
+00016ab0: 2020 2066 696e 6420 7468 6520 7363 7265     find the scre
+00016ac0: 656e 2070 6978 656c 2063 6f6f 7264 696e  en pixel coordin
+00016ad0: 6174 6573 2e0a 0a20 2020 2020 2020 2045  ates...        E
+00016ae0: 7861 6d70 6c65 3a0a 2020 2020 2020 2020  xample:.        
+00016af0: 2020 2020 6060 6070 7974 686f 6e0a 2020      ```python.  
+00016b00: 2020 2020 2020 2020 2020 6672 6f6d 2076            from v
+00016b10: 6564 6f20 696d 706f 7274 202a 0a0a 2020  edo import *..  
+00016b20: 2020 2020 2020 2020 2020 656c 6c69 203d            elli =
+00016b30: 2045 6c6c 6970 736f 6964 2829 2e72 6f74   Ellipsoid().rot
+00016b40: 6174 655f 7928 3330 290a 0a20 2020 2020  ate_y(30)..     
+00016b50: 2020 2020 2020 2070 6c74 203d 2050 6c6f         plt = Plo
+00016b60: 7474 6572 2829 0a20 2020 2020 2020 2020  tter().         
+00016b70: 2020 2070 6c74 2e73 686f 7728 656c 6c69     plt.show(elli
+00016b80: 290a 0a20 2020 2020 2020 2020 2020 2078  )..            x
+00016b90: 7973 6372 6565 6e20 3d20 706c 742e 636f  yscreen = plt.co
+00016ba0: 6d70 7574 655f 7363 7265 656e 5f70 6f73  mpute_screen_pos
+00016bb0: 6974 696f 6e73 2865 6c6c 6929 0a20 2020  itions(elli).   
+00016bc0: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
+00016bd0: 7879 7363 7265 656e 2063 6f6f 7264 733a  xyscreen coords:
+00016be0: 272c 2078 7973 6372 6565 6e29 0a0a 2020  ', xyscreen)..  
+00016bf0: 2020 2020 2020 2020 2020 2320 7369 6d75            # simu
+00016c00: 6c61 7465 2061 6e20 6576 656e 7420 6861  late an event ha
+00016c10: 7070 656e 696e 6720 6174 206f 6e65 2070  ppening at one p
+00016c20: 6f69 6e74 0a20 2020 2020 2020 2020 2020  oint.           
+00016c30: 2065 7665 6e74 203d 2070 6c74 2e66 696c   event = plt.fil
+00016c40: 6c5f 6576 656e 7428 706f 733d 7879 7363  l_event(pos=xysc
+00016c50: 7265 656e 5b31 3233 5d29 0a20 2020 2020  reen[123]).     
+00016c60: 2020 2020 2020 2070 7269 6e74 2865 7665         print(eve
+00016c70: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+00016c80: 6060 600a 2020 2020 2020 2020 2222 220a  ```.        """.
+00016c90: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00016ca0: 7461 6e63 6528 6f62 6a2c 2076 6564 6f2e  tance(obj, vedo.
+00016cb0: 6261 7365 2e42 6173 6533 4450 726f 7029  base.Base3DProp)
+00016cc0: 3a0a 2020 2020 2020 2020 2020 2020 7074  :.            pt
+00016cd0: 7320 3d20 6f62 6a2e 706f 696e 7473 2829  s = obj.points()
+00016ce0: 0a20 2020 2020 2020 2065 6c69 6620 7574  .        elif ut
+00016cf0: 696c 732e 6973 5f73 6571 7565 6e63 6528  ils.is_sequence(
+00016d00: 6f62 6a29 3a0a 2020 2020 2020 2020 2020  obj):.          
+00016d10: 2020 7074 7320 3d20 6f62 6a0a 2020 2020    pts = obj.    
+00016d20: 2020 2020 7032 6420 3d20 5b5d 0a20 2020      p2d = [].   
+00016d30: 2020 2020 2063 7320 3d20 7674 6b2e 7674       cs = vtk.vt
+00016d40: 6b43 6f6f 7264 696e 6174 6528 290a 2020  kCoordinate().  
+00016d50: 2020 2020 2020 6373 2e53 6574 436f 6f72        cs.SetCoor
+00016d60: 6469 6e61 7465 5379 7374 656d 546f 576f  dinateSystemToWo
+00016d70: 726c 6428 290a 2020 2020 2020 2020 6373  rld().        cs
+00016d80: 2e53 6574 5669 6577 706f 7274 2873 656c  .SetViewport(sel
+00016d90: 662e 7265 6e64 6572 6572 290a 2020 2020  f.renderer).    
+00016da0: 2020 2020 666f 7220 7020 696e 2070 7473      for p in pts
+00016db0: 3a0a 2020 2020 2020 2020 2020 2020 6373  :.            cs
+00016dc0: 2e53 6574 5661 6c75 6528 7029 0a20 2020  .SetValue(p).   
+00016dd0: 2020 2020 2020 2020 2069 6620 6675 6c6c           if full
+00016de0: 5f77 696e 646f 773a 0a20 2020 2020 2020  _window:.       
+00016df0: 2020 2020 2020 2020 2070 3264 2e61 7070           p2d.app
+00016e00: 656e 6428 6373 2e47 6574 436f 6d70 7574  end(cs.GetComput
+00016e10: 6564 4469 7370 6c61 7956 616c 7565 2873  edDisplayValue(s
+00016e20: 656c 662e 7265 6e64 6572 6572 2929 0a20  elf.renderer)). 
+00016e30: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00016e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016e50: 2070 3264 2e61 7070 656e 6428 6373 2e47   p2d.append(cs.G
+00016e60: 6574 436f 6d70 7574 6564 5669 6577 706f  etComputedViewpo
+00016e70: 7274 5661 6c75 6528 7365 6c66 2e72 656e  rtValue(self.ren
+00016e80: 6465 7265 7229 290a 2020 2020 2020 2020  derer)).        
+00016e90: 7265 7475 726e 206e 702e 6172 7261 7928  return np.array(
+00016ea0: 7032 642c 2064 7479 7065 3d69 6e74 290a  p2d, dtype=int).
+00016eb0: 0a20 2020 2064 6566 205f 7363 616e 5f69  .    def _scan_i
+00016ec0: 6e70 7574 2873 656c 662c 2077 616e 6e61  nput(self, wanna
+00016ed0: 6265 6163 7473 293a 0a20 2020 2020 2020  beacts):.       
+00016ee0: 2023 2073 6361 6e20 7468 6520 696e 7075   # scan the inpu
+00016ef0: 7420 6f66 2073 686f 770a 2020 2020 2020  t of show.      
+00016f00: 2020 6966 206e 6f74 2075 7469 6c73 2e69    if not utils.i
+00016f10: 735f 7365 7175 656e 6365 2877 616e 6e61  s_sequence(wanna
+00016f20: 6265 6163 7473 293a 0a20 2020 2020 2020  beacts):.       
+00016f30: 2020 2020 2077 616e 6e61 6265 6163 7473       wannabeacts
+00016f40: 203d 205b 7761 6e6e 6162 6561 6374 735d   = [wannabeacts]
+00016f50: 0a0a 2020 2020 2020 2020 7363 616e 6e65  ..        scanne
+00016f60: 6461 6374 7320 3d20 5b5d 0a20 2020 2020  dacts = [].     
+00016f70: 2020 2066 6f72 2061 2069 6e20 7761 6e6e     for a in wann
+00016f80: 6162 6561 6374 733a 2020 2320 7363 616e  abeacts:  # scan
+00016f90: 2063 6f6e 7465 6e74 206f 6620 6c69 7374   content of list
+00016fa0: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00016fb0: 2061 2069 7320 4e6f 6e65 3a0a 2020 2020   a is None:.    
+00016fc0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+00016fd0: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
+00016fe0: 6966 2069 7369 6e73 7461 6e63 6528 612c  if isinstance(a,
+00016ff0: 2076 746b 2e76 746b 4163 746f 7229 3a0a   vtk.vtkActor):.
+00017000: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017010: 2073 6361 6e6e 6564 6163 7473 2e61 7070   scannedacts.app
+00017020: 656e 6428 6129 0a0a 2020 2020 2020 2020  end(a)..        
+00017030: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00017040: 7461 6e63 6528 612c 2076 6564 6f2e 6261  tance(a, vedo.ba
+00017050: 7365 2e42 6173 6541 6374 6f72 293a 0a20  se.BaseActor):. 
+00017060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017070: 2020 2069 6620 612e 7368 6164 6f77 733a     if a.shadows:
+00017080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017090: 2020 2020 2020 2020 2023 2061 2e75 7064           # a.upd
+000170a0: 6174 655f 7368 6164 6f77 7328 290a 2020  ate_shadows().  
+000170b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000170c0: 2020 2020 2020 7363 616e 6e65 6461 6374        scannedact
+000170d0: 732e 6578 7465 6e64 2861 2e73 6861 646f  s.extend(a.shado
+000170e0: 7773 290a 0a20 2020 2020 2020 2020 2020  ws)..           
+000170f0: 2020 2020 2020 2020 2069 6620 612e 7472           if a.tr
+00017100: 6169 6c20 616e 6420 612e 7472 6169 6c20  ail and a.trail 
+00017110: 6e6f 7420 696e 2073 656c 662e 6163 746f  not in self.acto
+00017120: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+00017130: 2020 2020 2020 2020 2020 2020 2320 612e              # a.
+00017140: 7570 6461 7465 5f74 7261 696c 2829 0a20  update_trail(). 
+00017150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017160: 2020 2020 2020 2073 6361 6e6e 6564 6163         scannedac
+00017170: 7473 2e61 7070 656e 6428 612e 7472 6169  ts.append(a.trai
+00017180: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
+00017190: 2020 2020 2020 2020 2020 2023 2074 7261             # tra
+000171a0: 696c 7320 6d61 7920 616c 736f 2068 6176  ils may also hav
+000171b0: 6520 7368 6164 6f77 733a 0a20 2020 2020  e shadows:.     
+000171c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000171d0: 2020 2069 6620 612e 7472 6169 6c2e 7368     if a.trail.sh
+000171e0: 6164 6f77 733a 0a20 2020 2020 2020 2020  adows:.         
+000171f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017200: 2020 2023 2061 2e74 7261 696c 2e75 7064     # a.trail.upd
+00017210: 6174 655f 7368 6164 6f77 7328 290a 2020  ate_shadows().  
+00017220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017230: 2020 2020 2020 2020 2020 7363 616e 6e65            scanne
+00017240: 6461 6374 732e 6578 7465 6e64 2861 2e74  dacts.extend(a.t
+00017250: 7261 696c 2e73 6861 646f 7773 290a 0a20  rail.shadows).. 
+00017260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017270: 2020 2069 6620 612e 5f63 6170 7469 6f6e     if a._caption
+00017280: 2061 6e64 2061 2e5f 6361 7074 696f 6e20   and a._caption 
+00017290: 6e6f 7420 696e 2073 656c 662e 6163 746f  not in self.acto
+000172a0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+000172b0: 2020 2020 2020 2020 2020 2020 7363 616e              scan
+000172c0: 6e65 6461 6374 732e 6170 7065 6e64 2861  nedacts.append(a
+000172d0: 2e5f 6361 7074 696f 6e29 0a0a 2020 2020  ._caption)..    
+000172e0: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
+000172f0: 6e73 7461 6e63 6528 612c 2076 746b 2e76  nstance(a, vtk.v
+00017300: 746b 4163 746f 7232 4429 3a0a 2020 2020  tkActor2D):.    
+00017310: 2020 2020 2020 2020 2020 2020 7363 616e              scan
+00017320: 6e65 6461 6374 732e 6170 7065 6e64 2861  nedacts.append(a
+00017330: 290a 0a20 2020 2020 2020 2020 2020 2065  )..            e
+00017340: 6c69 6620 6973 696e 7374 616e 6365 2861  lif isinstance(a
+00017350: 2c20 7674 6b2e 7674 6b41 7373 656d 626c  , vtk.vtkAssembl
+00017360: 7929 3a0a 2020 2020 2020 2020 2020 2020  y):.            
+00017370: 2020 2020 7363 616e 6e65 6461 6374 732e      scannedacts.
+00017380: 6170 7065 6e64 2861 290a 2020 2020 2020  append(a).      
+00017390: 2020 2020 2020 2020 2020 6966 2061 2e74            if a.t
+000173a0: 7261 696c 2061 6e64 2061 2e74 7261 696c  rail and a.trail
+000173b0: 206e 6f74 2069 6e20 7365 6c66 2e61 6374   not in self.act
+000173c0: 6f72 733a 0a20 2020 2020 2020 2020 2020  ors:.           
+000173d0: 2020 2020 2020 2020 2073 6361 6e6e 6564           scanned
+000173e0: 6163 7473 2e61 7070 656e 6428 612e 7472  acts.append(a.tr
+000173f0: 6169 6c29 0a0a 2020 2020 2020 2020 2020  ail)..          
+00017400: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
+00017410: 6528 612c 2028 7665 646f 2e56 6f6c 756d  e(a, (vedo.Volum
+00017420: 652c 2076 6564 6f2e 566f 6c75 6d65 536c  e, vedo.VolumeSl
+00017430: 6963 6529 293a 0a20 2020 2020 2020 2020  ice)):.         
+00017440: 2020 2020 2020 2073 6361 6e6e 6564 6163         scannedac
+00017450: 7473 2e61 7070 656e 6428 6129 0a0a 2020  ts.append(a)..  
+00017460: 2020 2020 2020 2020 2020 656c 6966 2069            elif i
+00017470: 7369 6e73 7461 6e63 6528 612c 2076 746b  sinstance(a, vtk
+00017480: 2e76 746b 496d 6167 6544 6174 6129 3a0a  .vtkImageData):.
+00017490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000174a0: 7363 616e 6e65 6461 6374 732e 6170 7065  scannedacts.appe
+000174b0: 6e64 2876 6564 6f2e 566f 6c75 6d65 2861  nd(vedo.Volume(a
+000174c0: 2929 0a0a 2020 2020 2020 2020 2020 2020  ))..            
+000174d0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
+000174e0: 612c 2076 6564 6f2e 5465 744d 6573 6829  a, vedo.TetMesh)
+000174f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00017500: 2020 2320 6368 6563 6b20 7567 7269 6420    # check ugrid 
+00017510: 6973 2061 6c6c 206d 6164 6520 6f66 2074  is all made of t
+00017520: 6574 730a 2020 2020 2020 2020 2020 2020  ets.            
+00017530: 2020 2020 7567 7269 6420 3d20 612e 696e      ugrid = a.in
+00017540: 7075 7464 6174 6128 290a 2020 2020 2020  putdata().      
+00017550: 2020 2020 2020 2020 2020 7561 7272 203d            uarr =
+00017560: 2075 6772 6964 2e47 6574 4365 6c6c 5479   ugrid.GetCellTy
+00017570: 7065 7341 7272 6179 2829 0a20 2020 2020  pesArray().     
+00017580: 2020 2020 2020 2020 2020 2063 656c 6c74             cellt
+00017590: 7970 6573 203d 206e 702e 756e 6971 7565  ypes = np.unique
+000175a0: 2875 7469 6c73 2e76 746b 326e 756d 7079  (utils.vtk2numpy
+000175b0: 2875 6172 7229 290a 2020 2020 2020 2020  (uarr)).        
+000175c0: 2020 2020 2020 2020 6e63 656c 6c74 7970          ncelltyp
+000175d0: 6573 203d 206c 656e 2863 656c 6c74 7970  es = len(celltyp
+000175e0: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
+000175f0: 2020 2020 6966 206e 6365 6c6c 7479 7065      if ncelltype
+00017600: 7320 3e20 3120 6f72 2028 6e63 656c 6c74  s > 1 or (ncellt
+00017610: 7970 6573 203d 3d20 3120 616e 6420 6365  ypes == 1 and ce
+00017620: 6c6c 7479 7065 735b 305d 2021 3d20 3130  lltypes[0] != 10
+00017630: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00017640: 2020 2020 2020 2073 6361 6e6e 6564 6163         scannedac
+00017650: 7473 2e61 7070 656e 6428 612e 746f 6d65  ts.append(a.tome
+00017660: 7368 2829 290a 2020 2020 2020 2020 2020  sh()).          
+00017670: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00017680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017690: 6966 206e 6f74 2075 6772 6964 2e47 6574  if not ugrid.Get
+000176a0: 506f 696e 7444 6174 6128 292e 4765 7453  PointData().GetS
+000176b0: 6361 6c61 7273 2829 3a0a 2020 2020 2020  calars():.      
+000176c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000176d0: 2020 6966 206e 6f74 2075 6772 6964 2e47    if not ugrid.G
+000176e0: 6574 4365 6c6c 4461 7461 2829 2e47 6574  etCellData().Get
+000176f0: 5363 616c 6172 7328 293a 0a20 2020 2020  Scalars():.     
+00017700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017710: 2020 2020 2020 2023 2061 6464 2064 756d         # add dum
+00017720: 6d79 2061 7272 6179 2066 6f72 2076 746b  my array for vtk
+00017730: 5072 6f6a 6563 7465 6454 6574 7261 6865  ProjectedTetrahe
+00017740: 6472 614d 6170 7065 7220 746f 2077 6f72  draMapper to wor
+00017750: 6b3a 0a20 2020 2020 2020 2020 2020 2020  k:.             
+00017760: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00017770: 2e63 656c 6c64 6174 615b 2244 756d 6d79  .celldata["Dummy
+00017780: 4f6e 6541 7272 6179 225d 203d 206e 702e  OneArray"] = np.
+00017790: 6f6e 6573 2861 2e6e 6365 6c6c 7329 0a20  ones(a.ncells). 
+000177a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177b0: 2020 2073 6361 6e6e 6564 6163 7473 2e61     scannedacts.a
+000177c0: 7070 656e 6428 6129 0a0a 2020 2020 2020  ppend(a)..      
+000177d0: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
+000177e0: 7461 6e63 6528 612c 2076 6564 6f2e 5547  tance(a, vedo.UG
+000177f0: 7269 6429 3a0a 2020 2020 2020 2020 2020  rid):.          
+00017800: 2020 2020 2020 7363 616e 6e65 6461 6374        scannedact
+00017810: 732e 6170 7065 6e64 2861 2e74 6f6d 6573  s.append(a.tomes
+00017820: 6828 2929 0a0a 2020 2020 2020 2020 2020  h())..          
+00017830: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
+00017840: 6528 612c 2076 746b 2e76 746b 566f 6c75  e(a, vtk.vtkVolu
+00017850: 6d65 293a 2020 2320 6f72 6465 7220 6d61  me):  # order ma
+00017860: 7474 6572 7321 2064 6f6e 7420 6d6f 7665  tters! dont move
+00017870: 2061 626f 7665 2054 6574 4d65 7368 0a20   above TetMesh. 
+00017880: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+00017890: 766f 6c20 3d20 7665 646f 2e56 6f6c 756d  vol = vedo.Volum
+000178a0: 6528 612e 4765 744d 6170 7065 7228 292e  e(a.GetMapper().
+000178b0: 4765 7449 6e70 7574 2829 290a 2020 2020  GetInput()).    
+000178c0: 2020 2020 2020 2020 2020 2020 7670 726f              vpro
+000178d0: 7020 3d20 7674 6b2e 7674 6b56 6f6c 756d  p = vtk.vtkVolum
+000178e0: 6550 726f 7065 7274 7928 290a 2020 2020  eProperty().    
+000178f0: 2020 2020 2020 2020 2020 2020 7670 726f              vpro
+00017900: 702e 4465 6570 436f 7079 2861 2e47 6574  p.DeepCopy(a.Get
+00017910: 5072 6f70 6572 7479 2829 290a 2020 2020  Property()).    
+00017920: 2020 2020 2020 2020 2020 2020 7676 6f6c              vvol
+00017930: 2e53 6574 5072 6f70 6572 7479 2876 7072  .SetProperty(vpr
+00017940: 6f70 290a 2020 2020 2020 2020 2020 2020  op).            
+00017950: 2020 2020 7363 616e 6e65 6461 6374 732e      scannedacts.
+00017960: 6170 7065 6e64 2876 766f 6c29 0a0a 2020  append(vvol)..  
+00017970: 2020 2020 2020 2020 2020 656c 6966 2069            elif i
+00017980: 7369 6e73 7461 6e63 6528 612c 2073 7472  sinstance(a, str
+00017990: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+000179a0: 2020 2023 2061 7373 756d 6520 6120 3244     # assume a 2D
+000179b0: 2063 6f6d 6d65 6e74 2077 6173 2067 6976   comment was giv
+000179c0: 656e 0a20 2020 2020 2020 2020 2020 2020  en.             
+000179d0: 2020 2063 6861 6e67 6564 203d 2046 616c     changed = Fal
+000179e0: 7365 2020 2320 6368 6563 6b20 6966 206f  se  # check if o
+000179f0: 6e65 2061 6c72 6561 6479 2065 7869 7374  ne already exist
+00017a00: 7320 736f 2074 6f20 6a75 7374 2075 7064  s so to just upd
+00017a10: 6174 6520 7465 7874 0a20 2020 2020 2020  ate text.       
+00017a20: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00017a30: 2e72 656e 6465 7265 723a 2020 2320 6d69  .renderer:  # mi
+00017a40: 6768 7420 6265 206a 7570 7974 6572 0a20  ght be jupyter. 
+00017a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a60: 2020 2061 6373 203d 2073 656c 662e 7265     acs = self.re
+00017a70: 6e64 6572 6572 2e47 6574 4163 746f 7273  nderer.GetActors
+00017a80: 3244 2829 0a20 2020 2020 2020 2020 2020  2D().           
+00017a90: 2020 2020 2020 2020 2061 6373 2e49 6e69           acs.Ini
+00017aa0: 7454 7261 7665 7273 616c 2829 0a20 2020  tTraversal().   
+00017ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ac0: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+00017ad0: 6163 732e 4765 744e 756d 6265 724f 6649  acs.GetNumberOfI
+00017ae0: 7465 6d73 2829 293a 0a20 2020 2020 2020  tems()):.       
+00017af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b00: 2061 6374 203d 2061 6373 2e47 6574 4e65   act = acs.GetNe
+00017b10: 7874 4974 656d 2829 0a20 2020 2020 2020  xtItem().       
+00017b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b30: 2069 6620 6973 696e 7374 616e 6365 2861   if isinstance(a
+00017b40: 6374 2c20 7665 646f 2e73 6861 7065 732e  ct, vedo.shapes.
+00017b50: 5465 7874 3244 293a 0a20 2020 2020 2020  Text2D):.       
+00017b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b70: 2020 2020 2061 706f 7378 2c20 6170 6f73       aposx, apos
+00017b80: 7920 3d20 6163 742e 4765 7450 6f73 6974  y = act.GetPosit
+00017b90: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
+00017ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017bb0: 2020 6966 2061 706f 7378 203c 2030 2e30    if aposx < 0.0
+00017bc0: 3120 616e 6420 6170 6f73 7920 3e20 302e  1 and aposy > 0.
+00017bd0: 3939 3a20 2023 2022 746f 702d 6c65 6674  99:  # "top-left
+00017be0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00017bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c00: 2020 6163 742e 7465 7874 2861 2920 2023    act.text(a)  #
+00017c10: 2075 7064 6174 6520 636f 6e74 656e 7421   update content!
+00017c20: 206e 6f20 6170 7065 6e64 696e 6720 6e61   no appending na
+00017c30: 6461 0a20 2020 2020 2020 2020 2020 2020  da.             
+00017c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c50: 2020 2063 6861 6e67 6564 203d 2054 7275     changed = Tru
+00017c60: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
 00017c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c80: 2020 2020 2020 2020 7363 616e 6e65 6461          scanneda
-00017c90: 6374 732e 6170 7065 6e64 2876 6564 6f2e  cts.append(vedo.
-00017ca0: 4d65 7368 2862 2929 0a20 2020 2020 2020  Mesh(b)).       
-00017cb0: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-00017cc0: 6620 6973 696e 7374 616e 6365 2862 2c20  f isinstance(b, 
-00017cd0: 7674 6b2e 7674 6b49 6d61 6765 4461 7461  vtk.vtkImageData
-00017ce0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00017cf0: 2020 2020 2020 2020 2020 2073 6361 6e6e             scann
-00017d00: 6564 6163 7473 2e61 7070 656e 6428 7665  edacts.append(ve
-00017d10: 646f 2e56 6f6c 756d 6528 6229 290a 0a20  do.Volume(b)).. 
-00017d20: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00017d30: 2250 6f6c 7944 6174 6122 2069 6e20 7374  "PolyData" in st
-00017d40: 7228 7479 7065 2861 2929 3a20 2023 2061  r(type(a)):  # a
-00017d50: 7373 756d 6520 7079 7669 7374 6120 6f72  ssume pyvista or
-00017d60: 2076 746b 506f 6c79 6461 7461 0a20 2020   vtkPolydata.   
-00017d70: 2020 2020 2020 2020 2020 2020 2073 6361               sca
-00017d80: 6e6e 6564 6163 7473 2e61 7070 656e 6428  nnedacts.append(
-00017d90: 7665 646f 2e4d 6573 6828 6129 290a 0a20  vedo.Mesh(a)).. 
-00017da0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00017db0: 2264 6f6c 6669 6e22 2069 6e20 7374 7228  "dolfin" in str(
-00017dc0: 7479 7065 2861 2929 3a20 2023 2061 7373  type(a)):  # ass
-00017dd0: 756d 6520 6120 646f 6c66 696e 2e4d 6573  ume a dolfin.Mes
-00017de0: 6820 6f62 6a65 6374 0a20 2020 2020 2020  h object.       
-00017df0: 2020 2020 2020 2020 2069 6d70 6f72 7420           import 
-00017e00: 7665 646f 2e64 6f6c 6669 6e20 6173 2064  vedo.dolfin as d
-00017e10: 6c66 0a20 2020 2020 2020 2020 2020 2020  lf.             
-00017e20: 2020 2073 6361 6e6e 6564 6163 7473 2e61     scannedacts.a
-00017e30: 7070 656e 6428 646c 662e 4d65 7368 4163  ppend(dlf.MeshAc
-00017e40: 746f 7228 6129 290a 0a20 2020 2020 2020  tor(a))..       
-00017e50: 2020 2020 2065 6c69 6620 2274 7269 6d65       elif "trime
-00017e60: 7368 2220 696e 2073 7472 2874 7970 6528  sh" in str(type(
-00017e70: 6129 293a 0a20 2020 2020 2020 2020 2020  a)):.           
-00017e80: 2020 2020 2073 6361 6e6e 6564 6163 7473       scannedacts
-00017e90: 2e61 7070 656e 6428 7574 696c 732e 7472  .append(utils.tr
-00017ea0: 696d 6573 6832 7665 646f 2861 2929 0a0a  imesh2vedo(a))..
-00017eb0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00017ec0: 2022 6d65 7368 6c61 6222 2069 6e20 7374   "meshlab" in st
-00017ed0: 7228 7479 7065 2861 2929 3a0a 2020 2020  r(type(a)):.    
-00017ee0: 2020 2020 2020 2020 2020 2020 6966 2022              if "
-00017ef0: 4d65 7368 5365 7422 2069 6e20 7374 7228  MeshSet" in str(
-00017f00: 7479 7065 2861 2929 3a0a 2020 2020 2020  type(a)):.      
-00017f10: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00017f20: 7220 6920 696e 2072 616e 6765 2861 2e6e  r i in range(a.n
-00017f30: 756d 6265 725f 6d65 7368 6573 2829 293a  umber_meshes()):
-00017f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017f50: 2020 2020 2020 2020 2069 6620 612e 6d65           if a.me
-00017f60: 7368 5f69 645f 6578 6973 7473 2869 293a  sh_id_exists(i):
-00017f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017f80: 2020 2020 2020 2020 2020 2020 2073 6361               sca
-00017f90: 6e6e 6564 6163 7473 2e61 7070 656e 6428  nnedacts.append(
-00017fa0: 7665 646f 2e4d 6573 6828 7574 696c 732e  vedo.Mesh(utils.
-00017fb0: 6d65 7368 6c61 6232 7665 646f 2861 2e6d  meshlab2vedo(a.m
-00017fc0: 6573 6828 6929 2929 290a 2020 2020 2020  esh(i)))).      
-00017fd0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00017fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ff0: 2020 2020 7363 616e 6e65 6461 6374 732e      scannedacts.
-00018000: 6170 7065 6e64 2876 6564 6f2e 4d65 7368  append(vedo.Mesh
-00018010: 2875 7469 6c73 2e6d 6573 686c 6162 3276  (utils.meshlab2v
-00018020: 6564 6f28 6129 2929 0a0a 2020 2020 2020  edo(a)))..      
-00018030: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-00018040: 7461 6e63 6528 612c 2028 7674 6b2e 7674  tance(a, (vtk.vt
-00018050: 6b50 726f 702c 2029 293a 0a20 2020 2020  kProp, )):.     
-00018060: 2020 2020 2020 2020 2020 2073 6361 6e6e             scann
-00018070: 6564 6163 7473 2e61 7070 656e 6428 6129  edacts.append(a)
-00018080: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
-00018090: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-000180a0: 2020 2020 7665 646f 2e6c 6f67 6765 722e      vedo.logger.
-000180b0: 6572 726f 7228 6622 6361 6e6e 6f74 2075  error(f"cannot u
-000180c0: 6e64 6572 7374 616e 6420 696e 7075 7420  nderstand input 
-000180d0: 696e 2073 686f 7728 293a 207b 7479 7065  in show(): {type
-000180e0: 2861 297d 2229 0a20 2020 2020 2020 2072  (a)}").        r
-000180f0: 6574 7572 6e20 7363 616e 6e65 6461 6374  eturn scannedact
-00018100: 730a 0a0a 2020 2020 6465 6620 7368 6f77  s...    def show
-00018110: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
-00018120: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
-00018130: 2a61 6374 6f72 732c 0a20 2020 2020 2020  *actors,.       
-00018140: 2020 2020 2061 743d 4e6f 6e65 2c0a 2020       at=None,.  
-00018150: 2020 2020 2020 2020 2020 6178 6573 3d4e            axes=N
-00018160: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00018170: 2072 6573 6574 6361 6d3d 4e6f 6e65 2c0a   resetcam=None,.
-00018180: 2020 2020 2020 2020 2020 2020 7a6f 6f6d              zoom
-00018190: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
-000181a0: 2020 2020 696e 7465 7261 6374 6976 653d      interactive=
-000181b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-000181c0: 2020 7669 6577 7570 3d22 222c 0a20 2020    viewup="",.   
-000181d0: 2020 2020 2020 2020 2061 7a69 6d75 7468           azimuth
-000181e0: 3d30 2c0a 2020 2020 2020 2020 2020 2020  =0,.            
-000181f0: 656c 6576 6174 696f 6e3d 302c 0a20 2020  elevation=0,.   
-00018200: 2020 2020 2020 2020 2072 6f6c 6c3d 302c           roll=0,
-00018210: 0a20 2020 2020 2020 2020 2020 2063 616d  .            cam
-00018220: 6572 613d 4e6f 6e65 2c0a 2020 2020 2020  era=None,.      
-00018230: 2020 2020 2020 6d6f 6465 3d30 2c0a 2020        mode=0,.  
-00018240: 2020 2020 2020 2020 2020 7261 7465 3d4e            rate=N
-00018250: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00018260: 2062 673d 4e6f 6e65 2c0a 2020 2020 2020   bg=None,.      
-00018270: 2020 2020 2020 6267 323d 4e6f 6e65 2c0a        bg2=None,.
-00018280: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-00018290: 3d4e 6f6e 652c 0a20 2020 2020 2020 2020  =None,.         
-000182a0: 2020 2074 6974 6c65 3d4e 6f6e 652c 0a20     title=None,. 
-000182b0: 2020 2020 2020 2020 2020 2071 3d46 616c             q=Fal
-000182c0: 7365 2c0a 2020 2020 2020 2020 293a 0a20  se,.        ):. 
-000182d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000182e0: 2020 2052 656e 6465 7220 6120 6c69 7374     Render a list
-000182f0: 206f 6620 6f62 6a65 6374 732e 0a0a 2020   of objects...  
-00018300: 2020 2020 2020 4172 6775 6d65 6e74 733a        Arguments:
-00018310: 0a20 2020 2020 2020 2020 2020 2061 7420  .            at 
-00018320: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
-00018330: 2020 2020 2020 2020 6e75 6d62 6572 206f          number o
-00018340: 6620 7468 6520 7265 6e64 6572 6572 2074  f the renderer t
-00018350: 6f20 706c 6f74 2074 6f2c 2069 6e20 6361  o plot to, in ca
-00018360: 7365 206f 6620 6d6f 7265 2074 6861 6e20  se of more than 
-00018370: 6f6e 6520 6578 6973 7473 0a0a 2020 2020  one exists..    
-00018380: 2020 2020 2020 2020 6178 6573 203a 2028          axes : (
-00018390: 696e 7429 0a20 2020 2020 2020 2020 2020  int).           
-000183a0: 2020 2020 2061 7869 7320 7479 7065 2d31       axis type-1
-000183b0: 2063 616e 2062 6520 6675 6c6c 7920 6375   can be fully cu
-000183c0: 7374 6f6d 697a 6564 2062 7920 7061 7373  stomized by pass
-000183d0: 696e 6720 6120 6469 6374 696f 6e61 7279  ing a dictionary
-000183e0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000183f0: 2020 4368 6563 6b20 6061 6464 6f6e 732e    Check `addons.
-00018400: 4178 6573 2829 6020 666f 7220 7468 6520  Axes()` for the 
-00018410: 6675 6c6c 206c 6973 7420 6f66 206f 7074  full list of opt
-00018420: 696f 6e73 2e0a 2020 2020 2020 2020 2020  ions..          
-00018430: 2020 2020 2020 7365 7420 7468 6520 7479        set the ty
-00018440: 7065 206f 6620 6178 6573 2074 6f20 6265  pe of axes to be
-00018450: 2073 686f 776e 3a0a 2020 2020 2020 2020   shown:.        
-00018460: 2020 2020 2020 2020 2d20 302c 2020 6e6f          - 0,  no
-00018470: 2061 7865 730a 2020 2020 2020 2020 2020   axes.          
-00018480: 2020 2020 2020 2d20 312c 2020 6472 6177        - 1,  draw
-00018490: 2074 6872 6565 2067 7261 7920 6772 6964   three gray grid
-000184a0: 2077 616c 6c73 0a20 2020 2020 2020 2020   walls.         
-000184b0: 2020 2020 2020 202d 2032 2c20 2073 686f         - 2,  sho
-000184c0: 7720 6361 7274 6573 6961 6e20 6178 6573  w cartesian axes
-000184d0: 2066 726f 6d20 2830 2c30 2c30 290a 2020   from (0,0,0).  
-000184e0: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
-000184f0: 332c 2020 7368 6f77 2070 6f73 6974 6976  3,  show positiv
-00018500: 6520 7261 6e67 6520 6f66 2063 6172 7465  e range of carte
-00018510: 7369 616e 2061 7865 7320 6672 6f6d 2028  sian axes from (
-00018520: 302c 302c 3029 0a20 2020 2020 2020 2020  0,0,0).         
-00018530: 2020 2020 2020 202d 2034 2c20 2073 686f         - 4,  sho
-00018540: 7720 6120 7472 6961 6420 6174 2062 6f74  w a triad at bot
-00018550: 746f 6d20 6c65 6674 0a20 2020 2020 2020  tom left.       
-00018560: 2020 2020 2020 2020 202d 2035 2c20 2073           - 5,  s
-00018570: 686f 7720 6120 6375 6265 2061 7420 626f  how a cube at bo
-00018580: 7474 6f6d 206c 6566 740a 2020 2020 2020  ttom left.      
-00018590: 2020 2020 2020 2020 2020 2d20 362c 2020            - 6,  
-000185a0: 6d61 726b 2074 6865 2063 6f72 6e65 7273  mark the corners
-000185b0: 206f 6620 7468 6520 626f 756e 6469 6e67   of the bounding
-000185c0: 2062 6f78 0a20 2020 2020 2020 2020 2020   box.           
-000185d0: 2020 2020 202d 2037 2c20 2064 7261 7720       - 7,  draw 
-000185e0: 6120 3344 2072 756c 6572 2061 7420 6561  a 3D ruler at ea
-000185f0: 6368 2073 6964 6520 6f66 2074 6865 2063  ch side of the c
-00018600: 6172 7465 7369 616e 2061 7865 730a 2020  artesian axes.  
-00018610: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
-00018620: 382c 2020 7368 6f77 2074 6865 2060 7674  8,  show the `vt
-00018630: 6b43 7562 6541 7865 7341 6374 6f72 6020  kCubeAxesActor` 
-00018640: 6f62 6a65 6374 0a20 2020 2020 2020 2020  object.         
-00018650: 2020 2020 2020 202d 2039 2c20 2073 686f         - 9,  sho
-00018660: 7720 7468 6520 626f 756e 6469 6e67 2062  w the bounding b
-00018670: 6f78 206f 7574 4c69 6e65 0a20 2020 2020  ox outLine.     
-00018680: 2020 2020 2020 2020 2020 202d 2031 302c             - 10,
-00018690: 2073 686f 7720 7468 7265 6520 6369 7263   show three circ
-000186a0: 6c65 7320 7265 7072 6573 656e 7469 6e67  les representing
-000186b0: 2074 6865 206d 6178 696d 756d 2062 6f75   the maximum bou
-000186c0: 6e64 696e 6720 626f 780a 2020 2020 2020  nding box.      
-000186d0: 2020 2020 2020 2020 2020 2d20 3131 2c20            - 11, 
-000186e0: 7368 6f77 2061 206c 6172 6765 2067 7269  show a large gri
-000186f0: 6420 6f6e 2074 6865 2078 2d79 2070 6c61  d on the x-y pla
-00018700: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
-00018710: 2020 202d 2031 322c 2073 686f 7720 706f     - 12, show po
-00018720: 6c61 7220 6178 6573 0a20 2020 2020 2020  lar axes.       
-00018730: 2020 2020 2020 2020 202d 2031 332c 2064           - 13, d
-00018740: 7261 7720 6120 7369 6d70 6c65 2072 756c  raw a simple rul
-00018750: 6572 2061 7420 7468 6520 626f 7474 6f6d  er at the bottom
-00018760: 206f 6620 7468 6520 7769 6e64 6f77 0a0a   of the window..
-00018770: 2020 2020 2020 2020 2020 2020 617a 696d              azim
-00018780: 7574 682f 656c 6576 6174 696f 6e2f 726f  uth/elevation/ro
-00018790: 6c6c 203a 2028 666c 6f61 7429 0a20 2020  ll : (float).   
-000187a0: 2020 2020 2020 2020 2020 2020 206d 6f76               mov
-000187b0: 6520 6361 6d65 7261 2061 6363 6f72 6469  e camera accordi
-000187c0: 6e67 6c79 2074 6865 2073 7065 6369 6669  ngly the specifi
-000187d0: 6564 2076 616c 7565 0a0a 2020 2020 2020  ed value..      
-000187e0: 2020 2020 2020 7669 6577 7570 3a20 7374        viewup: st
-000187f0: 722c 206c 6973 740a 2020 2020 2020 2020  r, list.        
-00018800: 2020 2020 2020 2020 6569 7468 6572 2060          either `
-00018810: 5b27 7827 2c20 2779 272c 2027 7a27 5d60  ['x', 'y', 'z']`
-00018820: 206f 7220 6120 7665 6374 6f72 2074 6f20   or a vector to 
-00018830: 7365 7420 7665 7274 6963 616c 2064 6972  set vertical dir
-00018840: 6563 7469 6f6e 0a0a 2020 2020 2020 2020  ection..        
-00018850: 2020 2020 7265 7365 7463 616d 203a 2028      resetcam : (
-00018860: 626f 6f6c 290a 2020 2020 2020 2020 2020  bool).          
-00018870: 2020 2020 2020 7265 2d61 646a 7573 7420        re-adjust 
-00018880: 6361 6d65 7261 2070 6f73 6974 696f 6e20  camera position 
-00018890: 746f 2066 6974 206f 626a 6563 7473 0a0a  to fit objects..
-000188a0: 2020 2020 2020 2020 2020 2020 6361 6d65              came
-000188b0: 7261 203a 2028 6469 6374 2c20 7674 6b43  ra : (dict, vtkC
-000188c0: 616d 6572 6129 0a20 2020 2020 2020 2020  amera).         
-000188d0: 2020 2020 2020 2063 616d 6572 6120 7061         camera pa
-000188e0: 7261 6d65 7465 7273 2063 616e 2066 7572  rameters can fur
-000188f0: 7468 6572 2062 6520 7370 6563 6966 6965  ther be specifie
-00018900: 6420 7769 7468 2061 2064 6963 7469 6f6e  d with a diction
-00018910: 6172 790a 2020 2020 2020 2020 2020 2020  ary.            
-00018920: 2020 2020 6173 7369 676e 6564 2074 6f20      assigned to 
-00018930: 7468 6520 6060 6361 6d65 7261 6060 206b  the ``camera`` k
-00018940: 6579 776f 7264 2028 452e 672e 2060 7368  eyword (E.g. `sh
-00018950: 6f77 2863 616d 6572 613d 7b27 706f 7327  ow(camera={'pos'
-00018960: 3a28 312c 322c 3329 2c20 2774 6869 636b  :(1,2,3), 'thick
-00018970: 6e65 7373 273a 3130 3030 2c7d 2960 293a  ness':1000,})`):
+00017c80: 2020 6272 6561 6b0a 2020 2020 2020 2020    break.        
+00017c90: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+00017ca0: 6f74 2063 6861 6e67 6564 3a0a 2020 2020  ot changed:.    
+00017cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017cc0: 2020 2020 6f75 7420 3d20 7665 646f 2e73      out = vedo.s
+00017cd0: 6861 7065 732e 5465 7874 3244 2861 2920  hapes.Text2D(a) 
+00017ce0: 2023 2061 7070 656e 6420 6120 6e65 7720   # append a new 
+00017cf0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+00017d00: 2020 2020 2020 2020 2020 2020 7363 616e              scan
+00017d10: 6e65 6461 6374 732e 6170 7065 6e64 286f  nedacts.append(o
+00017d20: 7574 290a 0a20 2020 2020 2020 2020 2020  ut)..           
+00017d30: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
+00017d40: 2861 2c20 7674 6b2e 7674 6b49 6d61 6765  (a, vtk.vtkImage
+00017d50: 4163 746f 7229 3a0a 2020 2020 2020 2020  Actor):.        
+00017d60: 2020 2020 2020 2020 7363 616e 6e65 6461          scanneda
+00017d70: 6374 732e 6170 7065 6e64 2861 290a 0a20  cts.append(a).. 
+00017d80: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00017d90: 6973 696e 7374 616e 6365 2861 2c20 7674  isinstance(a, vt
+00017da0: 6b2e 7674 6b42 696c 6c62 6f61 7264 5465  k.vtkBillboardTe
+00017db0: 7874 4163 746f 7233 4429 3a0a 2020 2020  xtActor3D):.    
+00017dc0: 2020 2020 2020 2020 2020 2020 7363 616e              scan
+00017dd0: 6e65 6461 6374 732e 6170 7065 6e64 2861  nedacts.append(a
+00017de0: 290a 0a20 2020 2020 2020 2020 2020 2065  )..            e
+00017df0: 6c69 6620 6973 696e 7374 616e 6365 2861  lif isinstance(a
+00017e00: 2c20 7674 6b2e 7674 6b4c 6967 6874 293a  , vtk.vtkLight):
+00017e10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017e20: 2073 656c 662e 7265 6e64 6572 6572 2e41   self.renderer.A
+00017e30: 6464 4c69 6768 7428 6129 0a0a 2020 2020  ddLight(a)..    
+00017e40: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
+00017e50: 6e73 7461 6e63 6528 612c 2076 746b 2e76  nstance(a, vtk.v
+00017e60: 746b 4d75 6c74 6942 6c6f 636b 4461 7461  tkMultiBlockData
+00017e70: 5365 7429 3a0a 2020 2020 2020 2020 2020  Set):.          
+00017e80: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+00017e90: 616e 6765 2861 2e47 6574 4e75 6d62 6572  ange(a.GetNumber
+00017ea0: 4f66 426c 6f63 6b73 2829 293a 0a20 2020  OfBlocks()):.   
+00017eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ec0: 2062 203d 2061 2e47 6574 426c 6f63 6b28   b = a.GetBlock(
+00017ed0: 6929 0a20 2020 2020 2020 2020 2020 2020  i).             
+00017ee0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+00017ef0: 616e 6365 2862 2c20 7674 6b2e 7674 6b50  ance(b, vtk.vtkP
+00017f00: 6f6c 7944 6174 6129 3a0a 2020 2020 2020  olyData):.      
+00017f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017f20: 2020 7363 616e 6e65 6461 6374 732e 6170    scannedacts.ap
+00017f30: 7065 6e64 2876 6564 6f2e 4d65 7368 2862  pend(vedo.Mesh(b
+00017f40: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00017f50: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
+00017f60: 7374 616e 6365 2862 2c20 7674 6b2e 7674  stance(b, vtk.vt
+00017f70: 6b49 6d61 6765 4461 7461 293a 0a20 2020  kImageData):.   
+00017f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017f90: 2020 2020 2073 6361 6e6e 6564 6163 7473       scannedacts
+00017fa0: 2e61 7070 656e 6428 7665 646f 2e56 6f6c  .append(vedo.Vol
+00017fb0: 756d 6528 6229 290a 0a20 2020 2020 2020  ume(b))..       
+00017fc0: 2020 2020 2065 6c69 6620 2250 6f6c 7944       elif "PolyD
+00017fd0: 6174 6122 2069 6e20 7374 7228 7479 7065  ata" in str(type
+00017fe0: 2861 2929 3a20 2023 2061 7373 756d 6520  (a)):  # assume 
+00017ff0: 7079 7669 7374 6120 6f72 2076 746b 506f  pyvista or vtkPo
+00018000: 6c79 6461 7461 0a20 2020 2020 2020 2020  lydata.         
+00018010: 2020 2020 2020 2073 6361 6e6e 6564 6163         scannedac
+00018020: 7473 2e61 7070 656e 6428 7665 646f 2e4d  ts.append(vedo.M
+00018030: 6573 6828 6129 290a 0a20 2020 2020 2020  esh(a))..       
+00018040: 2020 2020 2065 6c69 6620 2264 6f6c 6669       elif "dolfi
+00018050: 6e22 2069 6e20 7374 7228 7479 7065 2861  n" in str(type(a
+00018060: 2929 3a20 2023 2061 7373 756d 6520 6120  )):  # assume a 
+00018070: 646f 6c66 696e 2e4d 6573 6820 6f62 6a65  dolfin.Mesh obje
+00018080: 6374 0a20 2020 2020 2020 2020 2020 2020  ct.             
+00018090: 2020 2069 6d70 6f72 7420 7665 646f 2e64     import vedo.d
+000180a0: 6f6c 6669 6e20 6173 2064 6c66 0a20 2020  olfin as dlf.   
+000180b0: 2020 2020 2020 2020 2020 2020 2073 6361               sca
+000180c0: 6e6e 6564 6163 7473 2e61 7070 656e 6428  nnedacts.append(
+000180d0: 646c 662e 4d65 7368 4163 746f 7228 6129  dlf.MeshActor(a)
+000180e0: 290a 0a20 2020 2020 2020 2020 2020 2065  )..            e
+000180f0: 6c69 6620 2274 7269 6d65 7368 2220 696e  lif "trimesh" in
+00018100: 2073 7472 2874 7970 6528 6129 293a 0a20   str(type(a)):. 
+00018110: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00018120: 6361 6e6e 6564 6163 7473 2e61 7070 656e  cannedacts.appen
+00018130: 6428 7574 696c 732e 7472 696d 6573 6832  d(utils.trimesh2
+00018140: 7665 646f 2861 2929 0a0a 2020 2020 2020  vedo(a))..      
+00018150: 2020 2020 2020 656c 6966 2022 6d65 7368        elif "mesh
+00018160: 6c61 6222 2069 6e20 7374 7228 7479 7065  lab" in str(type
+00018170: 2861 2929 3a0a 2020 2020 2020 2020 2020  (a)):.          
+00018180: 2020 2020 2020 6966 2022 4d65 7368 5365        if "MeshSe
+00018190: 7422 2069 6e20 7374 7228 7479 7065 2861  t" in str(type(a
+000181a0: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+000181b0: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+000181c0: 2072 616e 6765 2861 2e6e 756d 6265 725f   range(a.number_
+000181d0: 6d65 7368 6573 2829 293a 0a20 2020 2020  meshes()):.     
+000181e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000181f0: 2020 2069 6620 612e 6d65 7368 5f69 645f     if a.mesh_id_
+00018200: 6578 6973 7473 2869 293a 0a20 2020 2020  exists(i):.     
+00018210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018220: 2020 2020 2020 2073 6361 6e6e 6564 6163         scannedac
+00018230: 7473 2e61 7070 656e 6428 7665 646f 2e4d  ts.append(vedo.M
+00018240: 6573 6828 7574 696c 732e 6d65 7368 6c61  esh(utils.meshla
+00018250: 6232 7665 646f 2861 2e6d 6573 6828 6929  b2vedo(a.mesh(i)
+00018260: 2929 290a 2020 2020 2020 2020 2020 2020  ))).            
+00018270: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00018280: 2020 2020 2020 2020 2020 2020 2020 7363                sc
+00018290: 616e 6e65 6461 6374 732e 6170 7065 6e64  annedacts.append
+000182a0: 2876 6564 6f2e 4d65 7368 2875 7469 6c73  (vedo.Mesh(utils
+000182b0: 2e6d 6573 686c 6162 3276 6564 6f28 6129  .meshlab2vedo(a)
+000182c0: 2929 0a0a 2020 2020 2020 2020 2020 2020  ))..            
+000182d0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
+000182e0: 612c 2028 7674 6b2e 7674 6b50 726f 702c  a, (vtk.vtkProp,
+000182f0: 2076 746b 2e76 746b 496e 7465 7261 6374   vtk.vtkInteract
+00018300: 6f72 4f62 7365 7276 6572 2929 3a0a 2020  orObserver)):.  
+00018310: 2020 2020 2020 2020 2020 2020 2020 7363                sc
+00018320: 616e 6e65 6461 6374 732e 6170 7065 6e64  annedacts.append
+00018330: 2861 290a 0a20 2020 2020 2020 2020 2020  (a)..           
+00018340: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00018350: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
+00018360: 6572 2e65 7272 6f72 2866 2263 616e 6e6f  er.error(f"canno
+00018370: 7420 756e 6465 7273 7461 6e64 2069 6e70  t understand inp
+00018380: 7574 2069 6e20 7368 6f77 2829 3a20 7b74  ut in show(): {t
+00018390: 7970 6528 6129 7d22 290a 2020 2020 2020  ype(a)}").      
+000183a0: 2020 7265 7475 726e 2073 6361 6e6e 6564    return scanned
+000183b0: 6163 7473 0a0a 0a20 2020 2064 6566 2073  acts...    def s
+000183c0: 686f 7728 0a20 2020 2020 2020 2073 656c  how(.        sel
+000183d0: 662c 0a20 2020 2020 2020 202a 6163 746f  f,.        *acto
+000183e0: 7273 2c0a 2020 2020 2020 2020 6174 3d4e  rs,.        at=N
+000183f0: 6f6e 652c 0a20 2020 2020 2020 2061 7865  one,.        axe
+00018400: 733d 4e6f 6e65 2c0a 2020 2020 2020 2020  s=None,.        
+00018410: 7265 7365 7463 616d 3d4e 6f6e 652c 0a20  resetcam=None,. 
+00018420: 2020 2020 2020 207a 6f6f 6d3d 4661 6c73         zoom=Fals
+00018430: 652c 0a20 2020 2020 2020 2069 6e74 6572  e,.        inter
+00018440: 6163 7469 7665 3d4e 6f6e 652c 0a20 2020  active=None,.   
+00018450: 2020 2020 2076 6965 7775 703d 2222 2c0a       viewup="",.
+00018460: 2020 2020 2020 2020 617a 696d 7574 683d          azimuth=
+00018470: 302e 302c 0a20 2020 2020 2020 2065 6c65  0.0,.        ele
+00018480: 7661 7469 6f6e 3d30 2e30 2c0a 2020 2020  vation=0.0,.    
+00018490: 2020 2020 726f 6c6c 3d30 2e30 2c0a 2020      roll=0.0,.  
+000184a0: 2020 2020 2020 6361 6d65 7261 3d4e 6f6e        camera=Non
+000184b0: 652c 0a20 2020 2020 2020 206d 6f64 653d  e,.        mode=
+000184c0: 302c 0a20 2020 2020 2020 2072 6174 653d  0,.        rate=
+000184d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6267  None,.        bg
+000184e0: 3d4e 6f6e 652c 0a20 2020 2020 2020 2062  =None,.        b
+000184f0: 6732 3d4e 6f6e 652c 0a20 2020 2020 2020  g2=None,.       
+00018500: 2073 697a 653d 4e6f 6e65 2c0a 2020 2020   size=None,.    
+00018510: 2020 2020 7469 746c 653d 4e6f 6e65 2c0a      title=None,.
+00018520: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
+00018530: 2222 0a20 2020 2020 2020 2052 656e 6465  "".        Rende
+00018540: 7220 6120 6c69 7374 206f 6620 6f62 6a65  r a list of obje
+00018550: 6374 732e 0a0a 2020 2020 2020 2020 4172  cts...        Ar
+00018560: 6775 6d65 6e74 733a 0a20 2020 2020 2020  guments:.       
+00018570: 2020 2020 2061 7420 3a20 2869 6e74 290a       at : (int).
+00018580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018590: 6e75 6d62 6572 206f 6620 7468 6520 7265  number of the re
+000185a0: 6e64 6572 6572 2074 6f20 706c 6f74 2074  nderer to plot t
+000185b0: 6f2c 2069 6e20 6361 7365 206f 6620 6d6f  o, in case of mo
+000185c0: 7265 2074 6861 6e20 6f6e 6520 6578 6973  re than one exis
+000185d0: 7473 0a0a 2020 2020 2020 2020 2020 2020  ts..            
+000185e0: 6178 6573 203a 2028 696e 7429 0a20 2020  axes : (int).   
+000185f0: 2020 2020 2020 2020 2020 2020 2061 7869               axi
+00018600: 7320 7479 7065 2d31 2063 616e 2062 6520  s type-1 can be 
+00018610: 6675 6c6c 7920 6375 7374 6f6d 697a 6564  fully customized
+00018620: 2062 7920 7061 7373 696e 6720 6120 6469   by passing a di
+00018630: 6374 696f 6e61 7279 2e0a 2020 2020 2020  ctionary..      
+00018640: 2020 2020 2020 2020 2020 4368 6563 6b20            Check 
+00018650: 6061 6464 6f6e 732e 4178 6573 2829 6020  `addons.Axes()` 
+00018660: 666f 7220 7468 6520 6675 6c6c 206c 6973  for the full lis
+00018670: 7420 6f66 206f 7074 696f 6e73 2e0a 2020  t of options..  
+00018680: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00018690: 7420 7468 6520 7479 7065 206f 6620 6178  t the type of ax
+000186a0: 6573 2074 6f20 6265 2073 686f 776e 3a0a  es to be shown:.
+000186b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000186c0: 2d20 302c 2020 6e6f 2061 7865 730a 2020  - 0,  no axes.  
+000186d0: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+000186e0: 312c 2020 6472 6177 2074 6872 6565 2067  1,  draw three g
+000186f0: 7261 7920 6772 6964 2077 616c 6c73 0a20  ray grid walls. 
+00018700: 2020 2020 2020 2020 2020 2020 2020 202d                 -
+00018710: 2032 2c20 2073 686f 7720 6361 7274 6573   2,  show cartes
+00018720: 6961 6e20 6178 6573 2066 726f 6d20 2830  ian axes from (0
+00018730: 2c30 2c30 290a 2020 2020 2020 2020 2020  ,0,0).          
+00018740: 2020 2020 2020 2d20 332c 2020 7368 6f77        - 3,  show
+00018750: 2070 6f73 6974 6976 6520 7261 6e67 6520   positive range 
+00018760: 6f66 2063 6172 7465 7369 616e 2061 7865  of cartesian axe
+00018770: 7320 6672 6f6d 2028 302c 302c 3029 0a20  s from (0,0,0). 
+00018780: 2020 2020 2020 2020 2020 2020 2020 202d                 -
+00018790: 2034 2c20 2073 686f 7720 6120 7472 6961   4,  show a tria
+000187a0: 6420 6174 2062 6f74 746f 6d20 6c65 6674  d at bottom left
+000187b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000187c0: 202d 2035 2c20 2073 686f 7720 6120 6375   - 5,  show a cu
+000187d0: 6265 2061 7420 626f 7474 6f6d 206c 6566  be at bottom lef
+000187e0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+000187f0: 2020 2d20 362c 2020 6d61 726b 2074 6865    - 6,  mark the
+00018800: 2063 6f72 6e65 7273 206f 6620 7468 6520   corners of the 
+00018810: 626f 756e 6469 6e67 2062 6f78 0a20 2020  bounding box.   
+00018820: 2020 2020 2020 2020 2020 2020 202d 2037               - 7
+00018830: 2c20 2064 7261 7720 6120 3344 2072 756c  ,  draw a 3D rul
+00018840: 6572 2061 7420 6561 6368 2073 6964 6520  er at each side 
+00018850: 6f66 2074 6865 2063 6172 7465 7369 616e  of the cartesian
+00018860: 2061 7865 730a 2020 2020 2020 2020 2020   axes.          
+00018870: 2020 2020 2020 2d20 382c 2020 7368 6f77        - 8,  show
+00018880: 2074 6865 2060 7674 6b43 7562 6541 7865   the `vtkCubeAxe
+00018890: 7341 6374 6f72 6020 6f62 6a65 6374 0a20  sActor` object. 
+000188a0: 2020 2020 2020 2020 2020 2020 2020 202d                 -
+000188b0: 2039 2c20 2073 686f 7720 7468 6520 626f   9,  show the bo
+000188c0: 756e 6469 6e67 2062 6f78 206f 7574 4c69  unding box outLi
+000188d0: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
+000188e0: 2020 202d 2031 302c 2073 686f 7720 7468     - 10, show th
+000188f0: 7265 6520 6369 7263 6c65 7320 7265 7072  ree circles repr
+00018900: 6573 656e 7469 6e67 2074 6865 206d 6178  esenting the max
+00018910: 696d 756d 2062 6f75 6e64 696e 6720 626f  imum bounding bo
+00018920: 780a 2020 2020 2020 2020 2020 2020 2020  x.              
+00018930: 2020 2d20 3131 2c20 7368 6f77 2061 206c    - 11, show a l
+00018940: 6172 6765 2067 7269 6420 6f6e 2074 6865  arge grid on the
+00018950: 2078 2d79 2070 6c61 6e65 0a20 2020 2020   x-y plane.     
+00018960: 2020 2020 2020 2020 2020 202d 2031 322c             - 12,
+00018970: 2073 686f 7720 706f 6c61 7220 6178 6573   show polar axes
 00018980: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018990: 202d 2070 6f73 2c20 6028 6c69 7374 2960   - pos, `(list)`
-000189a0: 2c20 2074 6865 2070 6f73 6974 696f 6e20  ,  the position 
-000189b0: 6f66 2074 6865 2063 616d 6572 6120 696e  of the camera in
-000189c0: 2077 6f72 6c64 2063 6f6f 7264 696e 6174   world coordinat
-000189d0: 6573 0a20 2020 2020 2020 2020 2020 2020  es.             
-000189e0: 2020 202d 2066 6f63 616c 5f70 6f69 6e74     - focal_point
-000189f0: 2060 286c 6973 7429 602c 2074 6865 2066   `(list)`, the f
-00018a00: 6f63 616c 2070 6f69 6e74 206f 6620 7468  ocal point of th
-00018a10: 6520 6361 6d65 7261 2069 6e20 776f 726c  e camera in worl
-00018a20: 6420 636f 6f72 6469 6e61 7465 730a 2020  d coordinates.  
-00018a30: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
-00018a40: 7669 6577 7570 2060 286c 6973 7429 602c  viewup `(list)`,
-00018a50: 2074 6865 2076 6965 7720 7570 2064 6972   the view up dir
-00018a60: 6563 7469 6f6e 2066 6f72 2074 6865 2063  ection for the c
-00018a70: 616d 6572 610a 2020 2020 2020 2020 2020  amera.          
-00018a80: 2020 2020 2020 2d20 6469 7374 616e 6365        - distance
-00018a90: 2060 2866 6c6f 6174 2960 2c20 7365 7420   `(float)`, set 
-00018aa0: 7468 6520 666f 6361 6c20 706f 696e 7420  the focal point 
-00018ab0: 746f 2074 6865 2073 7065 6369 6669 6564  to the specified
-00018ac0: 2064 6973 7461 6e63 6520 6672 6f6d 2074   distance from t
-00018ad0: 6865 2063 616d 6572 6120 706f 7369 7469  he camera positi
-00018ae0: 6f6e 2e0a 2020 2020 2020 2020 2020 2020  on..            
-00018af0: 2020 2020 2d20 636c 6970 7069 6e67 5f72      - clipping_r
-00018b00: 616e 6765 2060 2866 6c6f 6174 2960 2c20  ange `(float)`, 
-00018b10: 6469 7374 616e 6365 206f 6620 7468 6520  distance of the 
-00018b20: 6e65 6172 2061 6e64 2066 6172 2063 6c69  near and far cli
-00018b30: 7070 696e 6720 706c 616e 6573 2061 6c6f  pping planes alo
-00018b40: 6e67 2074 6865 2064 6972 6563 7469 6f6e  ng the direction
-00018b50: 206f 6620 7072 6f6a 6563 7469 6f6e 2e0a   of projection..
-00018b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018b70: 2d20 7061 7261 6c6c 656c 5f73 6361 6c65  - parallel_scale
-00018b80: 2060 2866 6c6f 6174 2960 2c0a 2020 2020   `(float)`,.    
-00018b90: 2020 2020 2020 2020 2020 2020 7363 616c              scal
-00018ba0: 696e 6720 7573 6564 2066 6f72 2061 2070  ing used for a p
-00018bb0: 6172 616c 6c65 6c20 7072 6f6a 6563 7469  arallel projecti
-00018bc0: 6f6e 2c20 692e 652e 2074 6865 2068 6569  on, i.e. the hei
-00018bd0: 6768 7420 6f66 2074 6865 2076 6965 7770  ght of the viewp
-00018be0: 6f72 740a 2020 2020 2020 2020 2020 2020  ort.            
-00018bf0: 2020 2020 696e 2077 6f72 6c64 2d63 6f6f      in world-coo
-00018c00: 7264 696e 6174 6520 6469 7374 616e 6365  rdinate distance
-00018c10: 732e 2054 6865 2064 6566 6175 6c74 2069  s. The default i
-00018c20: 7320 312e 204e 6f74 6520 7468 6174 2074  s 1. Note that t
-00018c30: 6865 2022 7363 616c 6522 2070 6172 616d  he "scale" param
-00018c40: 6574 6572 2077 6f72 6b73 2061 730a 2020  eter works as.  
-00018c50: 2020 2020 2020 2020 2020 2020 2020 616e                an
-00018c60: 2022 696e 7665 7273 6520 7363 616c 6522   "inverse scale"
-00018c70: 2c20 6c61 7267 6572 206e 756d 6265 7273  , larger numbers
-00018c80: 2070 726f 6475 6365 2073 6d61 6c6c 6572   produce smaller
-00018c90: 2069 6d61 6765 732e 0a20 2020 2020 2020   images..       
-00018ca0: 2020 2020 2020 2020 2054 6869 7320 6d65           This me
-00018cb0: 7468 6f64 2068 6173 206e 6f20 6566 6665  thod has no effe
-00018cc0: 6374 2069 6e20 7065 7273 7065 6374 6976  ct in perspectiv
-00018cd0: 6520 7072 6f6a 6563 7469 6f6e 206d 6f64  e projection mod
-00018ce0: 652e 0a0a 2020 2020 2020 2020 2020 2020  e...            
-00018cf0: 2020 2020 2d20 7468 6963 6b6e 6573 7320      - thickness 
-00018d00: 6028 666c 6f61 7429 602c 0a20 2020 2020  `(float)`,.     
-00018d10: 2020 2020 2020 2020 2020 2073 6574 2074             set t
-00018d20: 6865 2064 6973 7461 6e63 6520 6265 7477  he distance betw
-00018d30: 6565 6e20 636c 6970 7069 6e67 2070 6c61  een clipping pla
-00018d40: 6e65 732e 2054 6869 7320 6d65 7468 6f64  nes. This method
-00018d50: 2061 646a 7573 7473 2074 6865 2066 6172   adjusts the far
-00018d60: 2063 6c69 7070 696e 670a 2020 2020 2020   clipping.      
-00018d70: 2020 2020 2020 2020 2020 706c 616e 6520            plane 
-00018d80: 746f 2062 6520 7365 7420 6120 6469 7374  to be set a dist
-00018d90: 616e 6365 2027 7468 6963 6b6e 6573 7327  ance 'thickness'
-00018da0: 2062 6579 6f6e 6420 7468 6520 6e65 6172   beyond the near
-00018db0: 2063 6c69 7070 696e 6720 706c 616e 652e   clipping plane.
-00018dc0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00018dd0: 2020 2d20 7669 6577 5f61 6e67 6c65 2060    - view_angle `
-00018de0: 2866 6c6f 6174 2960 2c0a 2020 2020 2020  (float)`,.      
-00018df0: 2020 2020 2020 2020 2020 7468 6520 6361            the ca
-00018e00: 6d65 7261 2076 6965 7720 616e 676c 652c  mera view angle,
-00018e10: 2077 6869 6368 2069 7320 7468 6520 616e   which is the an
-00018e20: 6775 6c61 7220 6865 6967 6874 206f 6620  gular height of 
-00018e30: 7468 6520 6361 6d65 7261 2076 6965 770a  the camera view.
-00018e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018e50: 6d65 6173 7572 6564 2069 6e20 6465 6772  measured in degr
-00018e60: 6565 732e 2054 6865 2064 6566 6175 6c74  ees. The default
-00018e70: 2061 6e67 6c65 2069 7320 3330 2064 6567   angle is 30 deg
-00018e80: 7265 6573 2e0a 2020 2020 2020 2020 2020  rees..          
-00018e90: 2020 2020 2020 5468 6973 206d 6574 686f        This metho
-00018ea0: 6420 6861 7320 6e6f 2065 6666 6563 7420  d has no effect 
-00018eb0: 696e 2070 6172 616c 6c65 6c20 7072 6f6a  in parallel proj
-00018ec0: 6563 7469 6f6e 206d 6f64 652e 0a20 2020  ection mode..   
-00018ed0: 2020 2020 2020 2020 2020 2020 2054 6865               The
-00018ee0: 2066 6f72 6d75 6c61 2066 6f72 2073 6574   formula for set
-00018ef0: 7469 6e67 2074 6865 2061 6e67 6c65 2075  ting the angle u
-00018f00: 7020 666f 7220 7065 7266 6563 7420 7065  p for perfect pe
-00018f10: 7273 7065 6374 6976 6520 7669 6577 696e  rspective viewin
-00018f20: 6720 6973 3a0a 2020 2020 2020 2020 2020  g is:.          
-00018f30: 2020 2020 2020 616e 676c 6520 3d20 322a        angle = 2*
-00018f40: 6174 616e 2828 682f 3229 2f64 2920 7768  atan((h/2)/d) wh
-00018f50: 6572 6520 6820 6973 2074 6865 2068 6569  ere h is the hei
-00018f60: 6768 7420 6f66 2074 6865 2052 656e 6465  ght of the Rende
-00018f70: 7257 696e 646f 770a 2020 2020 2020 2020  rWindow.        
-00018f80: 2020 2020 2020 2020 286d 6561 7375 7265          (measure
-00018f90: 6420 6279 2068 6f6c 6469 6e67 2061 2072  d by holding a r
-00018fa0: 756c 6572 2075 7020 746f 2079 6f75 7220  uler up to your 
-00018fb0: 7363 7265 656e 2920 616e 6420 6420 6973  screen) and d is
-00018fc0: 2074 6865 2064 6973 7461 6e63 650a 2020   the distance.  
-00018fd0: 2020 2020 2020 2020 2020 2020 2020 6672                fr
-00018fe0: 6f6d 2079 6f75 7220 6579 6573 2074 6f20  om your eyes to 
-00018ff0: 7468 6520 7363 7265 656e 2e0a 0a20 2020  the screen...   
-00019000: 2020 2020 2020 2020 2069 6e74 6572 6163           interac
-00019010: 7469 7665 203a 2028 626f 6f6c 290a 2020  tive : (bool).  
-00019020: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-00019030: 7573 6520 616e 6420 696e 7465 7261 6374  use and interact
-00019040: 2077 6974 6820 7769 6e64 6f77 2028 5472   with window (Tr
-00019050: 7565 2920 6f72 2063 6f6e 7469 6e75 6520  ue) or continue 
-00019060: 6578 6563 7574 696f 6e20 2846 616c 7365  execution (False
-00019070: 290a 0a20 2020 2020 2020 2020 2020 2072  )..            r
-00019080: 6174 6520 3a20 2866 6c6f 6174 290a 2020  ate : (float).  
-00019090: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-000190a0: 7869 6d75 6d20 7261 7465 206f 6620 6073  ximum rate of `s
-000190b0: 686f 7728 2960 2069 6e20 4865 7274 7a0a  how()` in Hertz.
-000190c0: 0a20 2020 2020 2020 2020 2020 206d 6f64  .            mod
-000190d0: 6520 3a20 2869 6e74 2c20 7374 7229 0a20  e : (int, str). 
-000190e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000190f0: 6574 2074 6865 2074 7970 6520 6f66 2069  et the type of i
-00019100: 6e74 6572 6163 7469 6f6e 3a0a 2020 2020  nteraction:.    
-00019110: 2020 2020 2020 2020 2020 2020 2d20 3020              - 0 
-00019120: 3d20 5472 6163 6b62 616c 6c43 616d 6572  = TrackballCamer
-00019130: 6120 5b64 6566 6175 6c74 5d0a 2020 2020  a [default].    
-00019140: 2020 2020 2020 2020 2020 2020 2d20 3120              - 1 
-00019150: 3d20 5472 6163 6b62 616c 6c41 6374 6f72  = TrackballActor
-00019160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019170: 202d 2032 203d 204a 6f79 7374 6963 6b43   - 2 = JoystickC
-00019180: 616d 6572 610a 2020 2020 2020 2020 2020  amera.          
-00019190: 2020 2020 2020 2d20 3320 3d20 4a6f 7973        - 3 = Joys
-000191a0: 7469 636b 4163 746f 720a 2020 2020 2020  tickActor.      
-000191b0: 2020 2020 2020 2020 2020 2d20 3420 3d20            - 4 = 
-000191c0: 466c 6967 6874 0a20 2020 2020 2020 2020  Flight.         
-000191d0: 2020 2020 2020 202d 2035 203d 2052 7562         - 5 = Rub
-000191e0: 6265 7242 616e 6432 440a 2020 2020 2020  berBand2D.      
-000191f0: 2020 2020 2020 2020 2020 2d20 3620 3d20            - 6 = 
-00019200: 5275 6262 6572 4261 6e64 3344 0a20 2020  RubberBand3D.   
-00019210: 2020 2020 2020 2020 2020 2020 202d 2037               - 7
-00019220: 203d 2052 7562 6265 7242 616e 645a 6f6f   = RubberBandZoo
-00019230: 6d0a 2020 2020 2020 2020 2020 2020 2020  m.              
-00019240: 2020 2d20 3820 3d20 436f 6e74 6578 740a    - 8 = Context.
-00019250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019260: 2d20 3920 3d20 3344 0a20 2020 2020 2020  - 9 = 3D.       
-00019270: 2020 2020 2020 2020 202d 2031 3020 3d20           - 10 = 
-00019280: 5465 7272 6169 6e0a 2020 2020 2020 2020  Terrain.        
-00019290: 2020 2020 2020 2020 2d20 3131 203d 2055          - 11 = U
-000192a0: 6e69 6361 6d0a 2020 2020 2020 2020 2222  nicam.        ""
-000192b0: 220a 0a20 2020 2020 2020 2069 6620 7365  "..        if se
-000192c0: 6c66 2e77 785f 7769 6467 6574 3a0a 2020  lf.wx_widget:.  
-000192d0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000192e0: 2073 656c 660a 0a20 2020 2020 2020 2069   self..        i
-000192f0: 6620 7365 6c66 2e72 656e 6465 7265 7273  f self.renderers
-00019300: 3a20 2023 2069 6e20 6361 7365 206f 6620  :  # in case of 
-00019310: 6e6f 7465 626f 6f6b 730a 0a20 2020 2020  notebooks..     
-00019320: 2020 2020 2020 2069 6620 6174 2069 7320         if at is 
-00019330: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00019340: 2020 2020 2020 6174 203d 2073 656c 662e        at = self.
-00019350: 7265 6e64 6572 6572 732e 696e 6465 7828  renderers.index(
-00019360: 7365 6c66 2e72 656e 6465 7265 7229 0a0a  self.renderer)..
-00019370: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00019380: 3a0a 0a20 2020 2020 2020 2020 2020 2020  :..             
-00019390: 2020 2069 6620 6174 203e 3d20 6c65 6e28     if at >= len(
-000193a0: 7365 6c66 2e72 656e 6465 7265 7273 293a  self.renderers):
-000193b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000193c0: 2020 2020 2074 203d 2066 2274 7279 696e       t = f"tryin
-000193d0: 6720 746f 2073 686f 7728 6174 3d7b 6174  g to show(at={at
-000193e0: 7d29 2062 7574 206f 6e6c 7920 7b6c 656e  }) but only {len
-000193f0: 2873 656c 662e 7265 6e64 6572 6572 7329  (self.renderers)
-00019400: 7d20 7265 6e64 6572 6572 7320 6578 6973  } renderers exis
-00019410: 7422 0a20 2020 2020 2020 2020 2020 2020  t".             
-00019420: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
-00019430: 6572 2e65 7272 6f72 2874 290a 2020 2020  er.error(t).    
-00019440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019450: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00019460: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00019470: 662e 7265 6e64 6572 6572 203d 2073 656c  f.renderer = sel
-00019480: 662e 7265 6e64 6572 6572 735b 6174 5d0a  f.renderers[at].
-00019490: 0a20 2020 2020 2020 2069 6620 7469 746c  .        if titl
-000194a0: 6520 6973 206e 6f74 204e 6f6e 653a 0a20  e is not None:. 
-000194b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000194c0: 7469 746c 6520 3d20 7469 746c 650a 0a20  title = title.. 
-000194d0: 2020 2020 2020 2069 6620 7369 7a65 2069         if size i
-000194e0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-000194f0: 2020 2020 2020 2020 7365 6c66 2e73 697a          self.siz
-00019500: 6520 3d20 7369 7a65 0a20 2020 2020 2020  e = size.       
-00019510: 2020 2020 2069 6620 7365 6c66 2e73 697a       if self.siz
-00019520: 655b 305d 203d 3d20 2266 223a 2020 2320  e[0] == "f":  # 
-00019530: 6675 6c6c 2073 6372 6565 6e0a 2020 2020  full screen.    
-00019540: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00019550: 2e73 697a 6520 3d20 2266 756c 6c73 6372  .size = "fullscr
-00019560: 6565 6e22 0a20 2020 2020 2020 2020 2020  een".           
-00019570: 2020 2020 2073 656c 662e 7769 6e64 6f77       self.window
-00019580: 2e53 6574 4675 6c6c 5363 7265 656e 2854  .SetFullScreen(T
-00019590: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-000195a0: 2020 2020 2073 656c 662e 7769 6e64 6f77       self.window
-000195b0: 2e42 6f72 6465 7273 4f6e 2829 0a20 2020  .BordersOn().   
-000195c0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000195d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000195e0: 656c 662e 7769 6e64 6f77 2e53 6574 5369  elf.window.SetSi
-000195f0: 7a65 2869 6e74 2873 656c 662e 7369 7a65  ze(int(self.size
-00019600: 5b30 5d29 2c20 696e 7428 7365 6c66 2e73  [0]), int(self.s
-00019610: 697a 655b 315d 2929 0a0a 2020 2020 2020  ize[1]))..      
-00019620: 2020 6966 2073 6574 7469 6e67 732e 6465    if settings.de
-00019630: 6661 756c 745f 6261 636b 656e 6420 3d3d  fault_backend ==
-00019640: 2027 7674 6b27 3a0a 2020 2020 2020 2020   'vtk':.        
-00019650: 2020 2020 6966 2073 7472 2862 6729 2e65      if str(bg).e
-00019660: 6e64 7377 6974 6828 222e 6864 7222 293a  ndswith(".hdr"):
-00019670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019680: 2073 656c 662e 5f61 6464 5f73 6b79 626f   self._add_skybo
-00019690: 7828 6267 290a 2020 2020 2020 2020 2020  x(bg).          
-000196a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000196b0: 2020 2020 2020 2020 6966 2062 6720 6973          if bg is
-000196c0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-000196d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000196e0: 656c 662e 6261 636b 6772 636f 6c20 3d20  elf.backgrcol = 
-000196f0: 7665 646f 2e67 6574 5f63 6f6c 6f72 2862  vedo.get_color(b
-00019700: 6729 0a20 2020 2020 2020 2020 2020 2020  g).             
-00019710: 2020 2020 2020 2073 656c 662e 7265 6e64         self.rend
-00019720: 6572 6572 2e53 6574 4261 636b 6772 6f75  erer.SetBackgrou
-00019730: 6e64 2873 656c 662e 6261 636b 6772 636f  nd(self.backgrco
-00019740: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
-00019750: 2020 2069 6620 6267 3220 6973 206e 6f74     if bg2 is not
-00019760: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00019770: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00019780: 7265 6e64 6572 6572 2e47 7261 6469 656e  renderer.Gradien
-00019790: 7442 6163 6b67 726f 756e 644f 6e28 290a  tBackgroundOn().
-000197a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000197b0: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
-000197c0: 722e 5365 7442 6163 6b67 726f 756e 6432  r.SetBackground2
-000197d0: 2876 6564 6f2e 6765 745f 636f 6c6f 7228  (vedo.get_color(
-000197e0: 6267 3229 290a 0a20 2020 2020 2020 2069  bg2))..        i
-000197f0: 6620 6178 6573 2069 7320 6e6f 7420 4e6f  f axes is not No
-00019800: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00019810: 6966 2069 7369 6e73 7461 6e63 6528 6178  if isinstance(ax
-00019820: 6573 2c20 7665 646f 2e41 7373 656d 626c  es, vedo.Assembl
-00019830: 7929 3a20 2023 2075 7365 7220 7061 7373  y):  # user pass
-00019840: 696e 6720 7368 6f77 282e 2e2e 2c20 6178  ing show(..., ax
-00019850: 6573 3d6d 7961 7865 7329 0a20 2020 2020  es=myaxes).     
-00019860: 2020 2020 2020 2020 2020 2061 6374 6f72             actor
-00019870: 7320 3d20 6c69 7374 2861 6374 6f72 7329  s = list(actors)
-00019880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019890: 2061 6374 6f72 732e 6170 7065 6e64 2861   actors.append(a
-000198a0: 7865 7329 2020 2320 6d6f 7665 2069 7420  xes)  # move it 
-000198b0: 696e 746f 2074 6865 206c 6973 7420 6f66  into the list of
-000198c0: 206e 6f72 6d61 6c20 7468 696e 6773 2074   normal things t
-000198d0: 6f20 7368 6f77 0a20 2020 2020 2020 2020  o show.         
-000198e0: 2020 2020 2020 2061 7865 7320 3d20 300a         axes = 0.
-000198f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00019900: 2e61 7865 7320 3d20 6178 6573 0a0a 2020  .axes = axes..  
-00019910: 2020 2020 2020 6966 2073 656c 662e 6f66        if self.of
-00019920: 6673 6372 6565 6e3a 0a20 2020 2020 2020  fscreen:.       
-00019930: 2020 2020 2069 6e74 6572 6163 7469 7665       interactive
-00019940: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-00019950: 2020 2020 2073 656c 662e 5f69 6e74 6572       self._inter
-00019960: 6163 7469 7665 203d 2046 616c 7365 0a0a  active = False..
-00019970: 2020 2020 2020 2020 2320 6361 6d65 7261          # camera
-00019980: 2073 7475 6666 0a20 2020 2020 2020 2069   stuff.        i
-00019990: 6620 7265 7365 7463 616d 2069 7320 6e6f  f resetcam is no
-000199a0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-000199b0: 2020 2020 7365 6c66 2e72 6573 6574 6361      self.resetca
-000199c0: 6d20 3d20 7265 7365 7463 616d 0a0a 2020  m = resetcam..  
-000199d0: 2020 2020 2020 6966 2063 616d 6572 6120        if camera 
-000199e0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-000199f0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-00019a00: 7365 7463 616d 203d 2046 616c 7365 0a20  setcam = False. 
-00019a10: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-00019a20: 696e 7374 616e 6365 2863 616d 6572 612c  instance(camera,
-00019a30: 2076 746b 2e76 746b 4361 6d65 7261 293a   vtk.vtkCamera):
-00019a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019a50: 2073 656c 662e 6361 6d65 7261 203d 2063   self.camera = c
-00019a60: 616d 6572 610a 2020 2020 2020 2020 2020  amera.          
-00019a70: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00019a80: 2020 2020 2020 2020 7365 6c66 2e63 616d          self.cam
-00019a90: 6572 6120 3d20 7574 696c 732e 6361 6d65  era = utils.came
-00019aa0: 7261 5f66 726f 6d5f 6469 6374 2863 616d  ra_from_dict(cam
-00019ab0: 6572 6129 0a20 2020 2020 2020 2020 2020  era).           
-00019ac0: 2069 6620 7365 6c66 2e72 656e 6465 7265   if self.rendere
-00019ad0: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00019ae0: 2020 2073 656c 662e 7265 6e64 6572 6572     self.renderer
-00019af0: 2e53 6574 4163 7469 7665 4361 6d65 7261  .SetActiveCamera
-00019b00: 2873 656c 662e 6361 6d65 7261 290a 0a20  (self.camera).. 
-00019b10: 2020 2020 2020 2069 6620 7365 6c66 2e72         if self.r
-00019b20: 656e 6465 7265 723a 0a20 2020 2020 2020  enderer:.       
-00019b30: 2020 2020 2073 656c 662e 6361 6d65 7261       self.camera
-00019b40: 203d 2073 656c 662e 7265 6e64 6572 6572   = self.renderer
-00019b50: 2e47 6574 4163 7469 7665 4361 6d65 7261  .GetActiveCamera
-00019b60: 2829 0a0a 2020 2020 2020 2020 2320 6966  ()..        # if
-00019b70: 2075 7365 7220 7061 7373 6573 2061 206c   user passes a l
-00019b80: 6973 7420 6f66 2061 6374 6f72 7320 666f  ist of actors fo
-00019b90: 7267 6574 2061 626f 7574 2065 7665 7279  rget about every
-00019ba0: 7468 696e 6720 616e 6420 7368 6f77 2074  thing and show t
-00019bb0: 686f 7365 0a20 2020 2020 2020 2069 6620  hose.        if 
-00019bc0: 6c65 6e28 6163 746f 7273 2920 3d3d 2030  len(actors) == 0
-00019bd0: 3a0a 2020 2020 2020 2020 2020 2020 6163  :.            ac
-00019be0: 746f 7273 203d 204e 6f6e 650a 2020 2020  tors = None.    
-00019bf0: 2020 2020 656c 6966 206c 656e 2861 6374      elif len(act
-00019c00: 6f72 7329 203d 3d20 313a 0a20 2020 2020  ors) == 1:.     
-00019c10: 2020 2020 2020 2061 6374 6f72 7320 3d20         actors = 
-00019c20: 6163 746f 7273 5b30 5d0a 2020 2020 2020  actors[0].      
-00019c30: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00019c40: 2020 2020 6163 746f 7273 203d 2075 7469      actors = uti
-00019c50: 6c73 2e66 6c61 7474 656e 2861 6374 6f72  ls.flatten(actor
-00019c60: 7329 0a0a 2020 2020 2020 2020 6163 746f  s)..        acto
-00019c70: 7273 3273 686f 7720 3d20 5b5d 0a20 2020  rs2show = [].   
-00019c80: 2020 2020 2069 6620 6163 746f 7273 2069       if actors i
-00019c90: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00019ca0: 2020 2020 2020 2020 7365 6c66 2e61 6374          self.act
-00019cb0: 6f72 7320 3d20 5b5d 0a20 2020 2020 2020  ors = [].       
-00019cc0: 2020 2020 2061 6374 6f72 7332 7368 6f77       actors2show
-00019cd0: 203d 2073 656c 662e 5f73 6361 6e5f 696e   = self._scan_in
-00019ce0: 7075 7428 6163 746f 7273 290a 2020 2020  put(actors).    
-00019cf0: 2020 2020 2020 2020 666f 7220 6120 696e          for a in
-00019d00: 2061 6374 6f72 7332 7368 6f77 3a0a 2020   actors2show:.  
-00019d10: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00019d20: 2061 206e 6f74 2069 6e20 7365 6c66 2e61   a not in self.a
-00019d30: 6374 6f72 733a 0a20 2020 2020 2020 2020  ctors:.         
-00019d40: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00019d50: 6163 746f 7273 2e61 7070 656e 6428 6129  actors.append(a)
-00019d60: 0a0a 2020 2020 2020 2020 2320 7570 6461  ..        # upda
-00019d70: 7465 2061 6c6c 2074 7261 696c 696e 6720  te all trailing 
-00019d80: 6c69 6e65 730a 2020 2020 2020 2020 666f  lines.        fo
-00019d90: 7220 6120 696e 2073 656c 662e 6163 746f  r a in self.acto
-00019da0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00019db0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00019dc0: 2020 2020 2069 6620 612e 7472 6169 6c3a       if a.trail:
-00019dd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019de0: 2020 2020 2061 2e5f 7570 6461 7465 5f74       a._update_t
-00019df0: 7261 696c 2829 0a20 2020 2020 2020 2020  rail().         
-00019e00: 2020 2065 7863 6570 7420 4174 7472 6962     except Attrib
-00019e10: 7574 6545 7272 6f72 3a0a 2020 2020 2020  uteError:.      
-00019e20: 2020 2020 2020 2020 2020 7061 7373 0a0a            pass..
-00019e30: 2020 2020 2020 2020 2320 4261 636b 656e          # Backen
-00019e40: 6420 2323 2323 2323 2323 2323 2323 2323  d ##############
-00019e50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019e60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019e70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019e80: 230a 2020 2020 2020 2020 6966 2073 6574  #.        if set
-00019e90: 7469 6e67 732e 6465 6661 756c 745f 6261  tings.default_ba
-00019ea0: 636b 656e 6420 213d 2027 7674 6b27 3a0a  ckend != 'vtk':.
-00019eb0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00019ec0: 6574 7469 6e67 732e 6465 6661 756c 745f  ettings.default_
-00019ed0: 6261 636b 656e 6420 696e 205b 226b 3364  backend in ["k3d
-00019ee0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-00019ef0: 2020 2020 7265 7475 726e 2062 6163 6b65      return backe
-00019f00: 6e64 732e 6765 745f 6e6f 7465 626f 6f6b  nds.get_notebook
-00019f10: 5f62 6163 6b65 6e64 2873 656c 662e 6163  _backend(self.ac
-00019f20: 746f 7273 290a 2020 2020 2020 2020 2323  tors).        ##
+00018990: 202d 2031 332c 2064 7261 7720 6120 7369   - 13, draw a si
+000189a0: 6d70 6c65 2072 756c 6572 2061 7420 7468  mple ruler at th
+000189b0: 6520 626f 7474 6f6d 206f 6620 7468 6520  e bottom of the 
+000189c0: 7769 6e64 6f77 0a0a 2020 2020 2020 2020  window..        
+000189d0: 2020 2020 617a 696d 7574 682f 656c 6576      azimuth/elev
+000189e0: 6174 696f 6e2f 726f 6c6c 203a 2028 666c  ation/roll : (fl
+000189f0: 6f61 7429 0a20 2020 2020 2020 2020 2020  oat).           
+00018a00: 2020 2020 206d 6f76 6520 6361 6d65 7261       move camera
+00018a10: 2061 6363 6f72 6469 6e67 6c79 2074 6865   accordingly the
+00018a20: 2073 7065 6369 6669 6564 2076 616c 7565   specified value
+00018a30: 0a0a 2020 2020 2020 2020 2020 2020 7669  ..            vi
+00018a40: 6577 7570 3a20 7374 722c 206c 6973 740a  ewup: str, list.
+00018a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a60: 6569 7468 6572 2060 5b27 7827 2c20 2779  either `['x', 'y
+00018a70: 272c 2027 7a27 5d60 206f 7220 6120 7665  ', 'z']` or a ve
+00018a80: 6374 6f72 2074 6f20 7365 7420 7665 7274  ctor to set vert
+00018a90: 6963 616c 2064 6972 6563 7469 6f6e 0a0a  ical direction..
+00018aa0: 2020 2020 2020 2020 2020 2020 7265 7365              rese
+00018ab0: 7463 616d 203a 2028 626f 6f6c 290a 2020  tcam : (bool).  
+00018ac0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00018ad0: 2d61 646a 7573 7420 6361 6d65 7261 2070  -adjust camera p
+00018ae0: 6f73 6974 696f 6e20 746f 2066 6974 206f  osition to fit o
+00018af0: 626a 6563 7473 0a0a 2020 2020 2020 2020  bjects..        
+00018b00: 2020 2020 6361 6d65 7261 203a 2028 6469      camera : (di
+00018b10: 6374 2c20 7674 6b43 616d 6572 6129 0a20  ct, vtkCamera). 
+00018b20: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00018b30: 616d 6572 6120 7061 7261 6d65 7465 7273  amera parameters
+00018b40: 2063 616e 2066 7572 7468 6572 2062 6520   can further be 
+00018b50: 7370 6563 6966 6965 6420 7769 7468 2061  specified with a
+00018b60: 2064 6963 7469 6f6e 6172 790a 2020 2020   dictionary.    
+00018b70: 2020 2020 2020 2020 2020 2020 6173 7369              assi
+00018b80: 676e 6564 2074 6f20 7468 6520 6060 6361  gned to the ``ca
+00018b90: 6d65 7261 6060 206b 6579 776f 7264 2028  mera`` keyword (
+00018ba0: 452e 672e 2060 7368 6f77 2863 616d 6572  E.g. `show(camer
+00018bb0: 613d 7b27 706f 7327 3a28 312c 322c 3329  a={'pos':(1,2,3)
+00018bc0: 2c20 2774 6869 636b 6e65 7373 273a 3130  , 'thickness':10
+00018bd0: 3030 2c7d 2960 293a 0a20 2020 2020 2020  00,})`):.       
+00018be0: 2020 2020 2020 2020 202d 2070 6f73 2c20           - pos, 
+00018bf0: 6028 6c69 7374 2960 2c20 2074 6865 2070  `(list)`,  the p
+00018c00: 6f73 6974 696f 6e20 6f66 2074 6865 2063  osition of the c
+00018c10: 616d 6572 6120 696e 2077 6f72 6c64 2063  amera in world c
+00018c20: 6f6f 7264 696e 6174 6573 0a20 2020 2020  oordinates.     
+00018c30: 2020 2020 2020 2020 2020 202d 2066 6f63             - foc
+00018c40: 616c 5f70 6f69 6e74 2060 286c 6973 7429  al_point `(list)
+00018c50: 602c 2074 6865 2066 6f63 616c 2070 6f69  `, the focal poi
+00018c60: 6e74 206f 6620 7468 6520 6361 6d65 7261  nt of the camera
+00018c70: 2069 6e20 776f 726c 6420 636f 6f72 6469   in world coordi
+00018c80: 6e61 7465 730a 2020 2020 2020 2020 2020  nates.          
+00018c90: 2020 2020 2020 2d20 7669 6577 7570 2060        - viewup `
+00018ca0: 286c 6973 7429 602c 2074 6865 2076 6965  (list)`, the vie
+00018cb0: 7720 7570 2064 6972 6563 7469 6f6e 2066  w up direction f
+00018cc0: 6f72 2074 6865 2063 616d 6572 610a 2020  or the camera.  
+00018cd0: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+00018ce0: 6469 7374 616e 6365 2060 2866 6c6f 6174  distance `(float
+00018cf0: 2960 2c20 7365 7420 7468 6520 666f 6361  )`, set the foca
+00018d00: 6c20 706f 696e 7420 746f 2074 6865 2073  l point to the s
+00018d10: 7065 6369 6669 6564 2064 6973 7461 6e63  pecified distanc
+00018d20: 6520 6672 6f6d 2074 6865 2063 616d 6572  e from the camer
+00018d30: 6120 706f 7369 7469 6f6e 2e0a 2020 2020  a position..    
+00018d40: 2020 2020 2020 2020 2020 2020 2d20 636c              - cl
+00018d50: 6970 7069 6e67 5f72 616e 6765 2060 2866  ipping_range `(f
+00018d60: 6c6f 6174 2960 2c20 6469 7374 616e 6365  loat)`, distance
+00018d70: 206f 6620 7468 6520 6e65 6172 2061 6e64   of the near and
+00018d80: 2066 6172 2063 6c69 7070 696e 6720 706c   far clipping pl
+00018d90: 616e 6573 2061 6c6f 6e67 2074 6865 2064  anes along the d
+00018da0: 6972 6563 7469 6f6e 206f 6620 7072 6f6a  irection of proj
+00018db0: 6563 7469 6f6e 2e0a 2020 2020 2020 2020  ection..        
+00018dc0: 2020 2020 2020 2020 2d20 7061 7261 6c6c          - parall
+00018dd0: 656c 5f73 6361 6c65 2060 2866 6c6f 6174  el_scale `(float
+00018de0: 2960 2c0a 2020 2020 2020 2020 2020 2020  )`,.            
+00018df0: 2020 2020 7363 616c 696e 6720 7573 6564      scaling used
+00018e00: 2066 6f72 2061 2070 6172 616c 6c65 6c20   for a parallel 
+00018e10: 7072 6f6a 6563 7469 6f6e 2c20 692e 652e  projection, i.e.
+00018e20: 2074 6865 2068 6569 6768 7420 6f66 2074   the height of t
+00018e30: 6865 2076 6965 7770 6f72 740a 2020 2020  he viewport.    
+00018e40: 2020 2020 2020 2020 2020 2020 696e 2077              in w
+00018e50: 6f72 6c64 2d63 6f6f 7264 696e 6174 6520  orld-coordinate 
+00018e60: 6469 7374 616e 6365 732e 2054 6865 2064  distances. The d
+00018e70: 6566 6175 6c74 2069 7320 312e 204e 6f74  efault is 1. Not
+00018e80: 6520 7468 6174 2074 6865 2022 7363 616c  e that the "scal
+00018e90: 6522 2070 6172 616d 6574 6572 2077 6f72  e" parameter wor
+00018ea0: 6b73 2061 730a 2020 2020 2020 2020 2020  ks as.          
+00018eb0: 2020 2020 2020 616e 2022 696e 7665 7273        an "invers
+00018ec0: 6520 7363 616c 6522 2c20 6c61 7267 6572  e scale", larger
+00018ed0: 206e 756d 6265 7273 2070 726f 6475 6365   numbers produce
+00018ee0: 2073 6d61 6c6c 6572 2069 6d61 6765 732e   smaller images.
+00018ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018f00: 2054 6869 7320 6d65 7468 6f64 2068 6173   This method has
+00018f10: 206e 6f20 6566 6665 6374 2069 6e20 7065   no effect in pe
+00018f20: 7273 7065 6374 6976 6520 7072 6f6a 6563  rspective projec
+00018f30: 7469 6f6e 206d 6f64 652e 0a0a 2020 2020  tion mode...    
+00018f40: 2020 2020 2020 2020 2020 2020 2d20 7468              - th
+00018f50: 6963 6b6e 6573 7320 6028 666c 6f61 7429  ickness `(float)
+00018f60: 602c 0a20 2020 2020 2020 2020 2020 2020  `,.             
+00018f70: 2020 2073 6574 2074 6865 2064 6973 7461     set the dista
+00018f80: 6e63 6520 6265 7477 6565 6e20 636c 6970  nce between clip
+00018f90: 7069 6e67 2070 6c61 6e65 732e 2054 6869  ping planes. Thi
+00018fa0: 7320 6d65 7468 6f64 2061 646a 7573 7473  s method adjusts
+00018fb0: 2074 6865 2066 6172 2063 6c69 7070 696e   the far clippin
+00018fc0: 670a 2020 2020 2020 2020 2020 2020 2020  g.              
+00018fd0: 2020 706c 616e 6520 746f 2062 6520 7365    plane to be se
+00018fe0: 7420 6120 6469 7374 616e 6365 2027 7468  t a distance 'th
+00018ff0: 6963 6b6e 6573 7327 2062 6579 6f6e 6420  ickness' beyond 
+00019000: 7468 6520 6e65 6172 2063 6c69 7070 696e  the near clippin
+00019010: 6720 706c 616e 652e 0a0a 2020 2020 2020  g plane...      
+00019020: 2020 2020 2020 2020 2020 2d20 7669 6577            - view
+00019030: 5f61 6e67 6c65 2060 2866 6c6f 6174 2960  _angle `(float)`
+00019040: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00019050: 2020 7468 6520 6361 6d65 7261 2076 6965    the camera vie
+00019060: 7720 616e 676c 652c 2077 6869 6368 2069  w angle, which i
+00019070: 7320 7468 6520 616e 6775 6c61 7220 6865  s the angular he
+00019080: 6967 6874 206f 6620 7468 6520 6361 6d65  ight of the came
+00019090: 7261 2076 6965 770a 2020 2020 2020 2020  ra view.        
+000190a0: 2020 2020 2020 2020 6d65 6173 7572 6564          measured
+000190b0: 2069 6e20 6465 6772 6565 732e 2054 6865   in degrees. The
+000190c0: 2064 6566 6175 6c74 2061 6e67 6c65 2069   default angle i
+000190d0: 7320 3330 2064 6567 7265 6573 2e0a 2020  s 30 degrees..  
+000190e0: 2020 2020 2020 2020 2020 2020 2020 5468                Th
+000190f0: 6973 206d 6574 686f 6420 6861 7320 6e6f  is method has no
+00019100: 2065 6666 6563 7420 696e 2070 6172 616c   effect in paral
+00019110: 6c65 6c20 7072 6f6a 6563 7469 6f6e 206d  lel projection m
+00019120: 6f64 652e 0a20 2020 2020 2020 2020 2020  ode..           
+00019130: 2020 2020 2054 6865 2066 6f72 6d75 6c61       The formula
+00019140: 2066 6f72 2073 6574 7469 6e67 2074 6865   for setting the
+00019150: 2061 6e67 6c65 2075 7020 666f 7220 7065   angle up for pe
+00019160: 7266 6563 7420 7065 7273 7065 6374 6976  rfect perspectiv
+00019170: 6520 7669 6577 696e 6720 6973 3a0a 2020  e viewing is:.  
+00019180: 2020 2020 2020 2020 2020 2020 2020 616e                an
+00019190: 676c 6520 3d20 322a 6174 616e 2828 682f  gle = 2*atan((h/
+000191a0: 3229 2f64 2920 7768 6572 6520 6820 6973  2)/d) where h is
+000191b0: 2074 6865 2068 6569 6768 7420 6f66 2074   the height of t
+000191c0: 6865 2052 656e 6465 7257 696e 646f 770a  he RenderWindow.
+000191d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000191e0: 286d 6561 7375 7265 6420 6279 2068 6f6c  (measured by hol
+000191f0: 6469 6e67 2061 2072 756c 6572 2075 7020  ding a ruler up 
+00019200: 746f 2079 6f75 7220 7363 7265 656e 2920  to your screen) 
+00019210: 616e 6420 6420 6973 2074 6865 2064 6973  and d is the dis
+00019220: 7461 6e63 650a 2020 2020 2020 2020 2020  tance.          
+00019230: 2020 2020 2020 6672 6f6d 2079 6f75 7220        from your 
+00019240: 6579 6573 2074 6f20 7468 6520 7363 7265  eyes to the scre
+00019250: 656e 2e0a 0a20 2020 2020 2020 2020 2020  en...           
+00019260: 2069 6e74 6572 6163 7469 7665 203a 2028   interactive : (
+00019270: 626f 6f6c 290a 2020 2020 2020 2020 2020  bool).          
+00019280: 2020 2020 2020 7061 7573 6520 616e 6420        pause and 
+00019290: 696e 7465 7261 6374 2077 6974 6820 7769  interact with wi
+000192a0: 6e64 6f77 2028 5472 7565 2920 6f72 2063  ndow (True) or c
+000192b0: 6f6e 7469 6e75 6520 6578 6563 7574 696f  ontinue executio
+000192c0: 6e20 2846 616c 7365 290a 0a20 2020 2020  n (False)..     
+000192d0: 2020 2020 2020 2072 6174 6520 3a20 2866         rate : (f
+000192e0: 6c6f 6174 290a 2020 2020 2020 2020 2020  loat).          
+000192f0: 2020 2020 2020 6d61 7869 6d75 6d20 7261        maximum ra
+00019300: 7465 206f 6620 6073 686f 7728 2960 2069  te of `show()` i
+00019310: 6e20 4865 7274 7a0a 0a20 2020 2020 2020  n Hertz..       
+00019320: 2020 2020 206d 6f64 6520 3a20 2869 6e74       mode : (int
+00019330: 2c20 7374 7229 0a20 2020 2020 2020 2020  , str).         
+00019340: 2020 2020 2020 2073 6574 2074 6865 2074         set the t
+00019350: 7970 6520 6f66 2069 6e74 6572 6163 7469  ype of interacti
+00019360: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+00019370: 2020 2020 2d20 3020 3d20 5472 6163 6b62      - 0 = Trackb
+00019380: 616c 6c43 616d 6572 6120 5b64 6566 6175  allCamera [defau
+00019390: 6c74 5d0a 2020 2020 2020 2020 2020 2020  lt].            
+000193a0: 2020 2020 2d20 3120 3d20 5472 6163 6b62      - 1 = Trackb
+000193b0: 616c 6c41 6374 6f72 0a20 2020 2020 2020  allActor.       
+000193c0: 2020 2020 2020 2020 202d 2032 203d 204a           - 2 = J
+000193d0: 6f79 7374 6963 6b43 616d 6572 610a 2020  oystickCamera.  
+000193e0: 2020 2020 2020 2020 2020 2020 2020 2d20                - 
+000193f0: 3320 3d20 4a6f 7973 7469 636b 4163 746f  3 = JoystickActo
+00019400: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+00019410: 2020 2d20 3420 3d20 466c 6967 6874 0a20    - 4 = Flight. 
+00019420: 2020 2020 2020 2020 2020 2020 2020 202d                 -
+00019430: 2035 203d 2052 7562 6265 7242 616e 6432   5 = RubberBand2
+00019440: 440a 2020 2020 2020 2020 2020 2020 2020  D.              
+00019450: 2020 2d20 3620 3d20 5275 6262 6572 4261    - 6 = RubberBa
+00019460: 6e64 3344 0a20 2020 2020 2020 2020 2020  nd3D.           
+00019470: 2020 2020 202d 2037 203d 2052 7562 6265       - 7 = Rubbe
+00019480: 7242 616e 645a 6f6f 6d0a 2020 2020 2020  rBandZoom.      
+00019490: 2020 2020 2020 2020 2020 2d20 3820 3d20            - 8 = 
+000194a0: 5465 7272 6169 6e0a 2020 2020 2020 2020  Terrain.        
+000194b0: 2020 2020 2020 2020 2d20 3920 3d20 556e          - 9 = Un
+000194c0: 6963 616d 0a20 2020 2020 2020 2020 2020  icam.           
+000194d0: 2020 2020 202d 2031 3020 3d20 496d 6167       - 10 = Imag
+000194e0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+000194f0: 2020 2d20 4368 6563 6b20 6f75 7420 6076    - Check out `v
+00019500: 6564 6f2e 696e 7465 7261 6374 696f 6e5f  edo.interaction_
+00019510: 6d6f 6465 7360 2066 6f72 206d 6f72 6520  modes` for more 
+00019520: 6f70 7469 6f6e 732e 0a20 2020 2020 2020  options..       
+00019530: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+00019540: 7365 6c66 2e77 785f 7769 6467 6574 3a0a  self.wx_widget:.
+00019550: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00019560: 726e 2073 656c 660a 0a20 2020 2020 2020  rn self..       
+00019570: 2069 6620 7365 6c66 2e72 656e 6465 7265   if self.rendere
+00019580: 7273 3a20 2023 2069 6e20 6361 7365 206f  rs:  # in case o
+00019590: 6620 6e6f 7465 626f 6f6b 730a 0a20 2020  f notebooks..   
+000195a0: 2020 2020 2020 2020 2069 6620 6174 2069           if at i
+000195b0: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+000195c0: 2020 2020 2020 2020 6174 203d 2073 656c          at = sel
+000195d0: 662e 7265 6e64 6572 6572 732e 696e 6465  f.renderers.inde
+000195e0: 7828 7365 6c66 2e72 656e 6465 7265 7229  x(self.renderer)
+000195f0: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
+00019600: 7365 3a0a 0a20 2020 2020 2020 2020 2020  se:..           
+00019610: 2020 2020 2069 6620 6174 203e 3d20 6c65       if at >= le
+00019620: 6e28 7365 6c66 2e72 656e 6465 7265 7273  n(self.renderers
+00019630: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00019640: 2020 2020 2020 2074 203d 2066 2274 7279         t = f"try
+00019650: 696e 6720 746f 2073 686f 7728 6174 3d7b  ing to show(at={
+00019660: 6174 7d29 2062 7574 206f 6e6c 7920 7b6c  at}) but only {l
+00019670: 656e 2873 656c 662e 7265 6e64 6572 6572  en(self.renderer
+00019680: 7329 7d20 7265 6e64 6572 6572 7320 6578  s)} renderers ex
+00019690: 6973 7422 0a20 2020 2020 2020 2020 2020  ist".           
+000196a0: 2020 2020 2020 2020 2076 6564 6f2e 6c6f           vedo.lo
+000196b0: 6767 6572 2e65 7272 6f72 2874 290a 2020  gger.error(t).  
+000196c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000196d0: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
+000196e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000196f0: 656c 662e 7265 6e64 6572 6572 203d 2073  elf.renderer = s
+00019700: 656c 662e 7265 6e64 6572 6572 735b 6174  elf.renderers[at
+00019710: 5d0a 0a20 2020 2020 2020 2069 6620 7469  ]..        if ti
+00019720: 746c 6520 6973 206e 6f74 204e 6f6e 653a  tle is not None:
+00019730: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00019740: 662e 7469 746c 6520 3d20 7469 746c 650a  f.title = title.
+00019750: 0a20 2020 2020 2020 2069 6620 7369 7a65  .        if size
+00019760: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00019770: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+00019780: 697a 6520 3d20 7369 7a65 0a20 2020 2020  ize = size.     
+00019790: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
+000197a0: 697a 655b 305d 203d 3d20 2266 223a 2020  ize[0] == "f":  
+000197b0: 2320 6675 6c6c 2073 6372 6565 6e0a 2020  # full screen.  
+000197c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000197d0: 6c66 2e73 697a 6520 3d20 2266 756c 6c73  lf.size = "fulls
+000197e0: 6372 6565 6e22 0a20 2020 2020 2020 2020  creen".         
+000197f0: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
+00019800: 6f77 2e53 6574 4675 6c6c 5363 7265 656e  ow.SetFullScreen
+00019810: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
+00019820: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
+00019830: 6f77 2e42 6f72 6465 7273 4f6e 2829 0a20  ow.BordersOn(). 
+00019840: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00019850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019860: 2073 656c 662e 7769 6e64 6f77 2e53 6574   self.window.Set
+00019870: 5369 7a65 2869 6e74 2873 656c 662e 7369  Size(int(self.si
+00019880: 7a65 5b30 5d29 2c20 696e 7428 7365 6c66  ze[0]), int(self
+00019890: 2e73 697a 655b 315d 2929 0a0a 2020 2020  .size[1]))..    
+000198a0: 2020 2020 6966 2073 6574 7469 6e67 732e      if settings.
+000198b0: 6465 6661 756c 745f 6261 636b 656e 6420  default_backend 
+000198c0: 3d3d 2022 7674 6b22 3a0a 2020 2020 2020  == "vtk":.      
+000198d0: 2020 2020 2020 6966 2073 7472 2862 6729        if str(bg)
+000198e0: 2e65 6e64 7377 6974 6828 222e 6864 7222  .endswith(".hdr"
+000198f0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00019900: 2020 2073 656c 662e 5f61 6464 5f73 6b79     self._add_sky
+00019910: 626f 7828 6267 290a 2020 2020 2020 2020  box(bg).        
+00019920: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00019930: 2020 2020 2020 2020 2020 6966 2062 6720            if bg 
+00019940: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+00019950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019960: 2073 656c 662e 6261 636b 6772 636f 6c20   self.backgrcol 
+00019970: 3d20 7665 646f 2e67 6574 5f63 6f6c 6f72  = vedo.get_color
+00019980: 2862 6729 0a20 2020 2020 2020 2020 2020  (bg).           
+00019990: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+000199a0: 6e64 6572 6572 2e53 6574 4261 636b 6772  nderer.SetBackgr
+000199b0: 6f75 6e64 2873 656c 662e 6261 636b 6772  ound(self.backgr
+000199c0: 636f 6c29 0a20 2020 2020 2020 2020 2020  col).           
+000199d0: 2020 2020 2069 6620 6267 3220 6973 206e       if bg2 is n
+000199e0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+000199f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00019a00: 662e 7265 6e64 6572 6572 2e47 7261 6469  f.renderer.Gradi
+00019a10: 656e 7442 6163 6b67 726f 756e 644f 6e28  entBackgroundOn(
+00019a20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00019a30: 2020 2020 2020 7365 6c66 2e72 656e 6465        self.rende
+00019a40: 7265 722e 5365 7442 6163 6b67 726f 756e  rer.SetBackgroun
+00019a50: 6432 2876 6564 6f2e 6765 745f 636f 6c6f  d2(vedo.get_colo
+00019a60: 7228 6267 3229 290a 0a20 2020 2020 2020  r(bg2))..       
+00019a70: 2069 6620 6178 6573 2069 7320 6e6f 7420   if axes is not 
+00019a80: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00019a90: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00019aa0: 6178 6573 2c20 7665 646f 2e41 7373 656d  axes, vedo.Assem
+00019ab0: 626c 7929 3a20 2023 2075 7365 7220 7061  bly):  # user pa
+00019ac0: 7373 696e 6720 7368 6f77 282e 2e2e 2c20  ssing show(..., 
+00019ad0: 6178 6573 3d6d 7961 7865 7329 0a20 2020  axes=myaxes).   
+00019ae0: 2020 2020 2020 2020 2020 2020 2061 6374               act
+00019af0: 6f72 7320 3d20 6c69 7374 2861 6374 6f72  ors = list(actor
+00019b00: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00019b10: 2020 2061 6374 6f72 732e 6170 7065 6e64     actors.append
+00019b20: 2861 7865 7329 2020 2320 6d6f 7665 2069  (axes)  # move i
+00019b30: 7420 696e 746f 2074 6865 206c 6973 7420  t into the list 
+00019b40: 6f66 206e 6f72 6d61 6c20 7468 696e 6773  of normal things
+00019b50: 2074 6f20 7368 6f77 0a20 2020 2020 2020   to show.       
+00019b60: 2020 2020 2020 2020 2061 7865 7320 3d20           axes = 
+00019b70: 300a 2020 2020 2020 2020 2020 2020 7365  0.            se
+00019b80: 6c66 2e61 7865 7320 3d20 6178 6573 0a0a  lf.axes = axes..
+00019b90: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00019ba0: 6f66 6673 6372 6565 6e3a 0a20 2020 2020  offscreen:.     
+00019bb0: 2020 2020 2020 2069 6e74 6572 6163 7469         interacti
+00019bc0: 7665 203d 2046 616c 7365 0a20 2020 2020  ve = False.     
+00019bd0: 2020 2020 2020 2073 656c 662e 5f69 6e74         self._int
+00019be0: 6572 6163 7469 7665 203d 2046 616c 7365  eractive = False
+00019bf0: 0a0a 2020 2020 2020 2020 2320 6361 6d65  ..        # came
+00019c00: 7261 2073 7475 6666 0a20 2020 2020 2020  ra stuff.       
+00019c10: 2069 6620 7265 7365 7463 616d 2069 7320   if resetcam is 
+00019c20: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00019c30: 2020 2020 2020 7365 6c66 2e72 6573 6574        self.reset
+00019c40: 6361 6d20 3d20 7265 7365 7463 616d 0a0a  cam = resetcam..
+00019c50: 2020 2020 2020 2020 6966 2063 616d 6572          if camer
+00019c60: 6120 6973 206e 6f74 204e 6f6e 653a 0a20  a is not None:. 
+00019c70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00019c80: 7265 7365 7463 616d 203d 2046 616c 7365  resetcam = False
+00019c90: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00019ca0: 6973 696e 7374 616e 6365 2863 616d 6572  isinstance(camer
+00019cb0: 612c 2076 746b 2e76 746b 4361 6d65 7261  a, vtk.vtkCamera
+00019cc0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00019cd0: 2020 2073 656c 662e 6361 6d65 7261 203d     self.camera =
+00019ce0: 2063 616d 6572 610a 2020 2020 2020 2020   camera.        
+00019cf0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00019d00: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
+00019d10: 616d 6572 6120 3d20 7574 696c 732e 6361  amera = utils.ca
+00019d20: 6d65 7261 5f66 726f 6d5f 6469 6374 2863  mera_from_dict(c
+00019d30: 616d 6572 6129 0a20 2020 2020 2020 2020  amera).         
+00019d40: 2020 2069 6620 7365 6c66 2e72 656e 6465     if self.rende
+00019d50: 7265 723a 0a20 2020 2020 2020 2020 2020  rer:.           
+00019d60: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
+00019d70: 6572 2e53 6574 4163 7469 7665 4361 6d65  er.SetActiveCame
+00019d80: 7261 2873 656c 662e 6361 6d65 7261 290a  ra(self.camera).
+00019d90: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00019da0: 2e72 656e 6465 7265 723a 0a20 2020 2020  .renderer:.     
+00019db0: 2020 2020 2020 2073 656c 662e 6361 6d65         self.came
+00019dc0: 7261 203d 2073 656c 662e 7265 6e64 6572  ra = self.render
+00019dd0: 6572 2e47 6574 4163 7469 7665 4361 6d65  er.GetActiveCame
+00019de0: 7261 2829 0a0a 2020 2020 2020 2020 7365  ra()..        se
+00019df0: 6c66 2e61 6464 2861 6374 6f72 7329 0a0a  lf.add(actors)..
+00019e00: 2020 2020 2020 2020 2320 4261 636b 656e          # Backen
+00019e10: 6420 2323 2323 2323 2323 2323 2323 2323  d ##############
+00019e20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00019e30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00019e40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00019e50: 230a 2020 2020 2020 2020 6966 2073 6574  #.        if set
+00019e60: 7469 6e67 732e 6465 6661 756c 745f 6261  tings.default_ba
+00019e70: 636b 656e 6420 213d 2022 7674 6b22 3a0a  ckend != "vtk":.
+00019e80: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00019e90: 6574 7469 6e67 732e 6465 6661 756c 745f  ettings.default_
+00019ea0: 6261 636b 656e 6420 696e 205b 226b 3364  backend in ["k3d
+00019eb0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+00019ec0: 2020 2020 7265 7475 726e 2062 6163 6b65      return backe
+00019ed0: 6e64 732e 6765 745f 6e6f 7465 626f 6f6b  nds.get_notebook
+00019ee0: 5f62 6163 6b65 6e64 2873 656c 662e 6163  _backend(self.ac
+00019ef0: 746f 7273 290a 2020 2020 2020 2020 2323  tors).        ##
+00019f00: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00019f10: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00019f20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
 00019f30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019f40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019f50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019f60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00019f70: 2323 2323 2323 230a 0a20 2020 2020 2020  #######..       
-00019f80: 2023 2072 656d 6f76 6520 616c 6c20 6f6c   # remove all ol
-00019f90: 6420 7368 6164 6f77 7320 6672 6f6d 2074  d shadows from t
-00019fa0: 6865 2073 6365 6e65 0a20 2020 2020 2020  he scene.       
-00019fb0: 2073 6861 645f 6163 7320 3d20 7365 6c66   shad_acs = self
-00019fc0: 2e72 656e 6465 7265 722e 4765 7441 6374  .renderer.GetAct
-00019fd0: 6f72 7328 290a 2020 2020 2020 2020 7368  ors().        sh
-00019fe0: 6164 5f61 6373 2e49 6e69 7454 7261 7665  ad_acs.InitTrave
-00019ff0: 7273 616c 2829 0a20 2020 2020 2020 2066  rsal().        f
-0001a000: 6f72 205f 2069 6e20 7261 6e67 6528 7368  or _ in range(sh
-0001a010: 6164 5f61 6373 2e47 6574 4e75 6d62 6572  ad_acs.GetNumber
-0001a020: 4f66 4974 656d 7328 2929 3a0a 2020 2020  OfItems()):.    
-0001a030: 2020 2020 2020 2020 6120 3d20 7368 6164          a = shad
-0001a040: 5f61 6373 2e47 6574 4e65 7874 4974 656d  _acs.GetNextItem
-0001a050: 2829 0a20 2020 2020 2020 2020 2020 2074  ().            t
-0001a060: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-0001a070: 2020 2020 6966 2061 2e6e 616d 6520 3d3d      if a.name ==
-0001a080: 2022 5368 6164 6f77 223a 0a20 2020 2020   "Shadow":.     
-0001a090: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001a0a0: 656c 662e 7265 6e64 6572 6572 2e52 656d  elf.renderer.Rem
-0001a0b0: 6f76 6541 6374 6f72 2861 290a 2020 2020  oveActor(a).    
-0001a0c0: 2020 2020 2020 2020 6578 6365 7074 2041          except A
-0001a0d0: 7474 7269 6275 7465 4572 726f 723a 0a20  ttributeError:. 
-0001a0e0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0001a0f0: 6173 730a 0a20 2020 2020 2020 2023 2072  ass..        # r
-0001a100: 656e 6465 7269 6e67 0a20 2020 2020 2020  endering.       
-0001a110: 2066 6f72 2069 6120 696e 2061 6374 6f72   for ia in actor
-0001a120: 7332 7368 6f77 3a0a 0a20 2020 2020 2020  s2show:..       
-0001a130: 2020 2020 2069 6620 6e6f 7420 6961 3a0a       if not ia:.
-0001a140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a150: 636f 6e74 696e 7565 0a0a 2020 2020 2020  continue..      
-0001a160: 2020 2020 2020 2320 6966 2068 6173 6174        # if hasat
-0001a170: 7472 2869 612c 2022 7368 6164 6f77 7322  tr(ia, "shadows"
-0001a180: 293a 0a20 2020 2020 2020 2020 2020 2023  ):.            #
-0001a190: 2020 2020 2066 6f72 2069 6173 2069 6e20       for ias in 
-0001a1a0: 6961 2e73 6861 646f 7773 3a0a 2020 2020  ia.shadows:.    
-0001a1b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0001a1c0: 2020 2320 7072 696e 7428 5b69 6173 2e6e    # print([ias.n
-0001a1d0: 616d 655d 290a 2020 2020 2020 2020 2020  ame]).          
-0001a1e0: 2020 2320 2020 2020 2020 2020 7365 6c66    #         self
-0001a1f0: 2e72 656e 6465 7265 722e 5265 6d6f 7665  .renderer.Remove
-0001a200: 4163 746f 7228 6961 7329 0a0a 2020 2020  Actor(ias)..    
-0001a210: 2020 2020 2020 2020 7365 6c66 2e72 656e          self.ren
-0001a220: 6465 7265 722e 4164 6441 6374 6f72 2869  derer.AddActor(i
-0001a230: 6129 0a0a 2020 2020 2020 2020 2020 2020  a)..            
-0001a240: 6966 2069 7369 6e73 7461 6e63 6528 6961  if isinstance(ia
-0001a250: 2c20 7665 646f 2e62 6173 652e 4261 7365  , vedo.base.Base
-0001a260: 3344 5072 6f70 293a 0a0a 2020 2020 2020  3DProp):..      
-0001a270: 2020 2020 2020 2020 2020 6966 2069 612e            if ia.
-0001a280: 5f69 7366 6f6c 6c6f 7765 723a 2020 2320  _isfollower:  # 
-0001a290: 7365 7420 6279 206d 6573 682e 666f 6c6c  set by mesh.foll
-0001a2a0: 6f77 5f63 616d 6572 6128 290a 2020 2020  ow_camera().    
-0001a2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a2c0: 6961 2e53 6574 4361 6d65 7261 2873 656c  ia.SetCamera(sel
-0001a2d0: 662e 6361 6d65 7261 290a 0a20 2020 2020  f.camera)..     
-0001a2e0: 2020 2020 2020 2020 2020 2069 612e 7265             ia.re
-0001a2f0: 6e64 6572 6564 5f61 742e 6164 6428 6174  ndered_at.add(at
-0001a300: 2920 2023 2073 6574 2e61 6464 2829 0a0a  )  # set.add()..
-0001a310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a320: 6966 2069 612e 7363 616c 6172 6261 723a  if ia.scalarbar:
-0001a330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a340: 2020 2020 2073 656c 662e 7265 6e64 6572       self.render
-0001a350: 6572 2e41 6464 4163 746f 7228 6961 2e73  er.AddActor(ia.s
-0001a360: 6361 6c61 7262 6172 290a 2020 2020 2020  calarbar).      
-0001a370: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0001a380: 6669 7820 6772 6179 2063 6f6c 6f72 206c  fix gray color l
-0001a390: 6162 656c 7320 616e 6420 7469 746c 6520  abels and title 
-0001a3a0: 746f 2077 6869 7465 206f 7220 626c 6163  to white or blac
-0001a3b0: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
-0001a3c0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-0001a3d0: 6e63 6528 6961 2e73 6361 6c61 7262 6172  nce(ia.scalarbar
-0001a3e0: 2c20 7674 6b2e 7674 6b53 6361 6c61 7242  , vtk.vtkScalarB
-0001a3f0: 6172 4163 746f 7229 3a0a 2020 2020 2020  arActor):.      
-0001a400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a410: 2020 6c74 6320 3d20 6e70 2e61 7272 6179    ltc = np.array
-0001a420: 2869 612e 7363 616c 6172 6261 722e 4765  (ia.scalarbar.Ge
-0001a430: 744c 6162 656c 5465 7874 5072 6f70 6572  tLabelTextProper
-0001a440: 7479 2829 2e47 6574 436f 6c6f 7228 2929  ty().GetColor())
-0001a450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a460: 2020 2020 2020 2020 2069 6620 6e70 2e6c           if np.l
-0001a470: 696e 616c 672e 6e6f 726d 286c 7463 202d  inalg.norm(ltc -
-0001a480: 2028 302e 352c 2030 2e35 2c20 302e 3529   (0.5, 0.5, 0.5)
-0001a490: 2920 2f20 3320 3c20 302e 3035 3a0a 2020  ) / 3 < 0.05:.  
-0001a4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a4b0: 2020 2020 2020 2020 2020 6320 3d20 2830            c = (0
-0001a4c0: 2e39 2c20 302e 392c 2030 2e39 290a 2020  .9, 0.9, 0.9).  
-0001a4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a4e0: 2020 2020 2020 2020 2020 6966 206e 702e            if np.
-0001a4f0: 7375 6d28 7365 6c66 2e72 656e 6465 7265  sum(self.rendere
-0001a500: 722e 4765 7442 6163 6b67 726f 756e 6428  r.GetBackground(
-0001a510: 2929 203e 2031 2e35 3a0a 2020 2020 2020  )) > 1.5:.      
-0001a520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a530: 2020 2020 2020 2020 2020 6320 3d20 2830            c = (0
-0001a540: 2e31 2c20 302e 312c 2030 2e31 290a 2020  .1, 0.1, 0.1).  
-0001a550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a560: 2020 2020 2020 2020 2020 6961 2e73 6361            ia.sca
-0001a570: 6c61 7262 6172 2e47 6574 4c61 6265 6c54  larbar.GetLabelT
-0001a580: 6578 7450 726f 7065 7274 7928 292e 5365  extProperty().Se
-0001a590: 7443 6f6c 6f72 2863 290a 2020 2020 2020  tColor(c).      
-0001a5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5b0: 2020 2020 2020 6961 2e73 6361 6c61 7262        ia.scalarb
-0001a5c0: 6172 2e47 6574 5469 746c 6554 6578 7450  ar.GetTitleTextP
-0001a5d0: 726f 7065 7274 7928 292e 5365 7443 6f6c  roperty().SetCol
-0001a5e0: 6f72 2863 290a 0a20 2020 2020 2020 2069  or(c)..        i
-0001a5f0: 6620 7365 6c66 2e73 6861 7265 6361 6d3a  f self.sharecam:
-0001a600: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0001a610: 2072 2069 6e20 7365 6c66 2e72 656e 6465   r in self.rende
-0001a620: 7265 7273 3a0a 2020 2020 2020 2020 2020  rers:.          
-0001a630: 2020 2020 2020 722e 5365 7441 6374 6976        r.SetActiv
-0001a640: 6543 616d 6572 6128 7365 6c66 2e63 616d  eCamera(self.cam
-0001a650: 6572 6129 0a0a 2020 2020 2020 2020 6966  era)..        if
-0001a660: 2073 656c 662e 7174 5f77 6964 6765 7420   self.qt_widget 
-0001a670: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-0001a680: 2020 2020 2020 2020 2073 656c 662e 7174           self.qt
-0001a690: 5f77 6964 6765 742e 4765 7452 656e 6465  _widget.GetRende
-0001a6a0: 7257 696e 646f 7728 292e 4164 6452 656e  rWindow().AddRen
-0001a6b0: 6465 7265 7228 7365 6c66 2e72 656e 6465  derer(self.rende
-0001a6c0: 7265 7229 0a0a 2020 2020 2020 2020 6966  rer)..        if
-0001a6d0: 2073 656c 662e 6178 6573 2069 7320 6e6f   self.axes is no
-0001a6e0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0001a6f0: 2020 2020 6966 2076 6965 7775 7020 213d      if viewup !=
-0001a700: 2022 3264 2220 6f72 2073 656c 662e 6178   "2d" or self.ax
-0001a710: 6573 2069 6e20 5b31 2c20 385d 206f 7220  es in [1, 8] or 
-0001a720: 6973 696e 7374 616e 6365 2873 656c 662e  isinstance(self.
-0001a730: 6178 6573 2c20 6469 6374 293a 0a20 2020  axes, dict):.   
-0001a740: 2020 2020 2020 2020 2020 2020 2061 6464               add
-0001a750: 6f6e 732e 6164 645f 676c 6f62 616c 5f61  ons.add_global_a
-0001a760: 7865 7328 7365 6c66 2e61 7865 7329 0a0a  xes(self.axes)..
-0001a770: 2020 2020 2020 2020 2323 2323 2323 2323          ########
-0001a780: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a790: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a7a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a7b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a7c0: 230a 2020 2020 2020 2020 6966 2073 6574  #.        if set
-0001a7d0: 7469 6e67 732e 6465 6661 756c 745f 6261  tings.default_ba
-0001a7e0: 636b 656e 6420 696e 205b 2269 7079 7674  ckend in ["ipyvt
-0001a7f0: 6b22 2c20 2274 7261 6d65 225d 3a0a 2020  k", "trame"]:.  
-0001a800: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001a810: 2062 6163 6b65 6e64 732e 6765 745f 6e6f   backends.get_no
-0001a820: 7465 626f 6f6b 5f62 6163 6b65 6e64 2829  tebook_backend()
-0001a830: 0a20 2020 2020 2020 2023 2323 2323 2323  .        #######
-0001a840: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a850: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a860: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a870: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001a880: 2323 0a0a 2020 2020 2020 2020 6966 2073  ##..        if s
-0001a890: 656c 662e 7265 7365 7463 616d 3a0a 2020  elf.resetcam:.  
-0001a8a0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-0001a8b0: 656e 6465 7265 722e 5265 7365 7443 616d  enderer.ResetCam
-0001a8c0: 6572 6128 290a 0a20 2020 2020 2020 2069  era()..        i
-0001a8d0: 6620 6c65 6e28 7365 6c66 2e72 656e 6465  f len(self.rende
-0001a8e0: 7265 7273 2920 3e20 313a 0a20 2020 2020  rers) > 1:.     
-0001a8f0: 2020 2020 2020 2073 656c 662e 6164 645f         self.add_
-0001a900: 7265 6e64 6572 6572 5f66 7261 6d65 2829  renderer_frame()
-0001a910: 0a0a 2020 2020 2020 2020 6966 2073 6574  ..        if set
-0001a920: 7469 6e67 732e 6465 6661 756c 745f 6261  tings.default_ba
-0001a930: 636b 656e 6420 3d3d 2027 3264 2720 616e  ckend == '2d' an
-0001a940: 6420 6e6f 7420 7a6f 6f6d 3a0a 2020 2020  d not zoom:.    
-0001a950: 2020 2020 2020 2020 7a6f 6f6d 203d 2022          zoom = "
-0001a960: 7469 6768 7465 7374 220a 0a20 2020 2020  tightest"..     
-0001a970: 2020 2069 6620 7a6f 6f6d 3a0a 2020 2020     if zoom:.    
-0001a980: 2020 2020 2020 2020 6966 207a 6f6f 6d20          if zoom 
-0001a990: 3d3d 2022 7469 6768 7422 3a0a 2020 2020  == "tight":.    
-0001a9a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001a9b0: 2e72 6573 6574 5f63 616d 6572 6128 7469  .reset_camera(ti
-0001a9c0: 6768 743d 302e 3034 290a 2020 2020 2020  ght=0.04).      
-0001a9d0: 2020 2020 2020 656c 6966 207a 6f6f 6d20        elif zoom 
-0001a9e0: 3d3d 2022 7469 6768 7465 7374 223a 0a20  == "tightest":. 
-0001a9f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001aa00: 656c 662e 7265 7365 745f 6361 6d65 7261  elf.reset_camera
-0001aa10: 2874 6967 6874 3d30 2e30 3030 3129 0a20  (tight=0.0001). 
-0001aa20: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001aa30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001aa40: 2073 656c 662e 6361 6d65 7261 2e5a 6f6f   self.camera.Zoo
-0001aa50: 6d28 7a6f 6f6d 290a 2020 2020 2020 2020  m(zoom).        
-0001aa60: 6966 2065 6c65 7661 7469 6f6e 3a0a 2020  if elevation:.  
-0001aa70: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-0001aa80: 616d 6572 612e 456c 6576 6174 696f 6e28  amera.Elevation(
-0001aa90: 656c 6576 6174 696f 6e29 0a20 2020 2020  elevation).     
-0001aaa0: 2020 2069 6620 617a 696d 7574 683a 0a20     if azimuth:. 
-0001aab0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001aac0: 6361 6d65 7261 2e41 7a69 6d75 7468 2861  camera.Azimuth(a
-0001aad0: 7a69 6d75 7468 290a 2020 2020 2020 2020  zimuth).        
-0001aae0: 6966 2072 6f6c 6c3a 0a20 2020 2020 2020  if roll:.       
-0001aaf0: 2020 2020 2073 656c 662e 6361 6d65 7261       self.camera
-0001ab00: 2e52 6f6c 6c28 726f 6c6c 290a 0a20 2020  .Roll(roll)..   
-0001ab10: 2020 2020 2069 6620 7365 6c66 2e5f 6669       if self._fi
-0001ab20: 7273 745f 7669 6577 7570 2061 6e64 206c  rst_viewup and l
-0001ab30: 656e 2876 6965 7775 7029 3e30 3a0a 2020  en(viewup)>0:.  
-0001ab40: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
-0001ab50: 6669 7273 745f 7669 6577 7570 203d 2046  first_viewup = F
-0001ab60: 616c 7365 2020 2320 6765 7473 2065 7865  alse  # gets exe
-0001ab70: 6375 7465 6420 6f6e 6c79 206f 6e63 650a  cuted only once.
-0001ab80: 2020 2020 2020 2020 2020 2020 6220 3d20              b = 
-0001ab90: 7365 6c66 2e72 656e 6465 7265 722e 436f  self.renderer.Co
-0001aba0: 6d70 7574 6556 6973 6962 6c65 5072 6f70  mputeVisibleProp
-0001abb0: 426f 756e 6473 2829 0a20 2020 2020 2020  Bounds().       
-0001abc0: 2020 2020 2063 6d20 3d20 6e70 2e61 7272       cm = np.arr
-0001abd0: 6179 285b 2862 5b31 5d2b 625b 305d 292f  ay([(b[1]+b[0])/
-0001abe0: 322c 2028 625b 335d 2b62 5b32 5d29 2f32  2, (b[3]+b[2])/2
-0001abf0: 2c20 2862 5b35 5d2b 625b 345d 292f 325d  , (b[5]+b[4])/2]
-0001ac00: 290a 2020 2020 2020 2020 2020 2020 737a  ).            sz
-0001ac10: 203d 206e 702e 6172 7261 7928 5b28 625b   = np.array([(b[
-0001ac20: 315d 2d62 5b30 5d29 2c20 2862 5b33 5d2d  1]-b[0]), (b[3]-
-0001ac30: 625b 325d 292c 2028 625b 355d 2d62 5b34  b[2]), (b[5]-b[4
-0001ac40: 5d29 5d29 0a20 2020 2020 2020 2020 2020  ])]).           
-0001ac50: 2069 6620 7669 6577 7570 203d 3d20 2278   if viewup == "x
-0001ac60: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-0001ac70: 2020 2073 7a20 3d20 6e70 2e6c 696e 616c     sz = np.linal
-0001ac80: 672e 6e6f 726d 2873 7a29 0a20 2020 2020  g.norm(sz).     
-0001ac90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001aca0: 6361 6d65 7261 2e53 6574 5669 6577 5570  camera.SetViewUp
-0001acb0: 285b 312c 2030 2c20 305d 290a 2020 2020  ([1, 0, 0]).    
-0001acc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001acd0: 2e63 616d 6572 612e 5365 7450 6f73 6974  .camera.SetPosit
-0001ace0: 696f 6e28 636d 202b 2073 7a29 0a20 2020  ion(cm + sz).   
-0001acf0: 2020 2020 2020 2020 2065 6c69 6620 7669           elif vi
-0001ad00: 6577 7570 203d 3d20 2279 223a 0a20 2020  ewup == "y":.   
-0001ad10: 2020 2020 2020 2020 2020 2020 2073 7a20               sz 
-0001ad20: 3d20 6e70 2e6c 696e 616c 672e 6e6f 726d  = np.linalg.norm
-0001ad30: 2873 7a29 0a20 2020 2020 2020 2020 2020  (sz).           
-0001ad40: 2020 2020 2073 656c 662e 6361 6d65 7261       self.camera
-0001ad50: 2e53 6574 5669 6577 5570 285b 302c 2031  .SetViewUp([0, 1
-0001ad60: 2c20 305d 290a 2020 2020 2020 2020 2020  , 0]).          
-0001ad70: 2020 2020 2020 7365 6c66 2e63 616d 6572        self.camer
-0001ad80: 612e 5365 7450 6f73 6974 696f 6e28 636d  a.SetPosition(cm
-0001ad90: 202b 2073 7a29 0a20 2020 2020 2020 2020   + sz).         
-0001ada0: 2020 2065 6c69 6620 7669 6577 7570 203d     elif viewup =
-0001adb0: 3d20 227a 223a 0a20 2020 2020 2020 2020  = "z":.         
-0001adc0: 2020 2020 2020 2073 7a20 3d20 6e70 2e61         sz = np.a
-0001add0: 7272 6179 285b 0a20 2020 2020 2020 2020  rray([.         
-0001ade0: 2020 2020 2020 2020 2020 2028 625b 315d             (b[1]
-0001adf0: 202d 2062 5b30 5d29 202a 2030 2e37 2c0a   - b[0]) * 0.7,.
-0001ae00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ae10: 2020 2020 2d28 625b 335d 202d 2062 5b32      -(b[3] - b[2
-0001ae20: 5d29 202a 2031 2e30 2c0a 2020 2020 2020  ]) * 1.0,.      
-0001ae30: 2020 2020 2020 2020 2020 2020 2020 2862                (b
-0001ae40: 5b35 5d20 2d20 625b 345d 2920 2a20 312e  [5] - b[4]) * 1.
-0001ae50: 322c 0a20 2020 2020 2020 2020 2020 2020  2,.             
-0001ae60: 2020 205d 290a 2020 2020 2020 2020 2020     ]).          
-0001ae70: 2020 2020 2020 7365 6c66 2e63 616d 6572        self.camer
-0001ae80: 612e 5365 7456 6965 7755 7028 5b30 2c20  a.SetViewUp([0, 
-0001ae90: 302c 2031 5d29 0a20 2020 2020 2020 2020  0, 1]).         
-0001aea0: 2020 2020 2020 2073 656c 662e 6361 6d65         self.came
-0001aeb0: 7261 2e53 6574 506f 7369 7469 6f6e 2863  ra.SetPosition(c
-0001aec0: 6d20 2b20 3220 2a20 737a 290a 2020 2020  m + 2 * sz).    
-0001aed0: 2020 2020 2020 2020 656c 6966 2075 7469          elif uti
-0001aee0: 6c73 2e69 735f 7365 7175 656e 6365 2876  ls.is_sequence(v
-0001aef0: 6965 7775 7029 3a0a 2020 2020 2020 2020  iewup):.        
-0001af00: 2020 2020 2020 2020 737a 203d 206e 702e          sz = np.
-0001af10: 6c69 6e61 6c67 2e6e 6f72 6d28 737a 290a  linalg.norm(sz).
-0001af20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af30: 7365 6c66 2e63 616d 6572 612e 5365 7456  self.camera.SetV
-0001af40: 6965 7755 7028 7669 6577 7570 290a 2020  iewUp(viewup).  
-0001af50: 2020 2020 2020 2020 2020 2020 2020 6370                cp
-0001af60: 6f73 203d 206e 702e 6372 6f73 7328 5b30  os = np.cross([0
-0001af70: 2c31 2c30 5d2c 2076 6965 7775 7029 0a20  ,1,0], viewup). 
-0001af80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001af90: 656c 662e 6361 6d65 7261 2e53 6574 506f  elf.camera.SetPo
-0001afa0: 7369 7469 6f6e 2863 6d20 2d20 3220 2a20  sition(cm - 2 * 
-0001afb0: 737a 202a 2063 706f 7329 0a20 2020 2020  sz * cpos).     
-0001afc0: 2020 2020 2020 2065 6c69 6620 7669 6577         elif view
-0001afd0: 7570 203d 3d20 2232 6422 3a0a 2020 2020  up == "2d":.    
-0001afe0: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
-0001aff0: 203d 2031 320a 0a20 2020 2020 2020 2073   = 12..        s
-0001b000: 656c 662e 7265 6e64 6572 6572 2e52 6573  elf.renderer.Res
-0001b010: 6574 4361 6d65 7261 436c 6970 7069 6e67  etCameraClipping
-0001b020: 5261 6e67 6528 290a 0a20 2020 2020 2020  Range()..       
-0001b030: 2069 6620 7365 6c66 2e69 6e74 6572 6163   if self.interac
-0001b040: 746f 7220 616e 6420 6e6f 7420 7365 6c66  tor and not self
-0001b050: 2e69 6e74 6572 6163 746f 722e 4765 7449  .interactor.GetI
-0001b060: 6e69 7469 616c 697a 6564 2829 3a0a 2020  nitialized():.  
-0001b070: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-0001b080: 6e74 6572 6163 746f 722e 496e 6974 6961  nteractor.Initia
-0001b090: 6c69 7a65 2829 0a20 2020 2020 2020 2020  lize().         
-0001b0a0: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
-0001b0b0: 6f72 2e52 656d 6f76 654f 6273 6572 7665  or.RemoveObserve
-0001b0c0: 7273 2822 4368 6172 4576 656e 7422 290a  rs("CharEvent").
-0001b0d0: 0a20 2020 2020 2020 2069 6620 7365 7474  .        if sett
-0001b0e0: 696e 6773 2e69 6d6d 6564 6961 7465 5f72  ings.immediate_r
-0001b0f0: 656e 6465 7269 6e67 3a0a 2020 2020 2020  endering:.      
-0001b100: 2020 2020 2020 7365 6c66 2e77 696e 646f        self.windo
-0001b110: 772e 5265 6e64 6572 2829 2020 2323 2323  w.Render()  ####
-0001b120: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b130: 2320 3c2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # <-------------
-0001b140: 2d20 5265 6e64 6572 0a0a 2020 2020 2020  - Render..      
-0001b150: 2020 2320 3264 2023 2323 2323 2323 2323    # 2d #########
-0001b160: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b170: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b180: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b190: 2323 2323 2323 2323 2323 230a 2020 2020  ###########.    
-0001b1a0: 2020 2020 6966 2073 6574 7469 6e67 732e      if settings.
-0001b1b0: 6465 6661 756c 745f 6261 636b 656e 6420  default_backend 
-0001b1c0: 3d3d 2022 3264 223a 0a20 2020 2020 2020  == "2d":.       
-0001b1d0: 2020 2020 2072 6574 7572 6e20 6261 636b       return back
-0001b1e0: 656e 6473 2e67 6574 5f6e 6f74 6562 6f6f  ends.get_noteboo
-0001b1f0: 6b5f 6261 636b 656e 6428 290a 2020 2020  k_backend().    
-0001b200: 2020 2020 2323 2323 2323 2323 2323 2323      ############
-0001b210: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b220: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b230: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001b240: 2323 2323 2323 2323 2323 2323 230a 0a20  #############.. 
-0001b250: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
-0001b260: 6f77 2e53 6574 5769 6e64 6f77 4e61 6d65  ow.SetWindowName
-0001b270: 2873 656c 662e 7469 746c 6529 0a0a 2020  (self.title)..  
-0001b280: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0001b290: 2020 2020 2020 2023 204e 6565 6473 2070         # Needs p
-0001b2a0: 6970 2069 6e73 7461 6c6c 2070 796f 626a  ip install pyobj
-0001b2b0: 630a 2020 2020 2020 2020 2020 2020 6966  c.            if
-0001b2c0: 2028 7365 6c66 2e5f 636f 636f 615f 696e   (self._cocoa_in
-0001b2d0: 6974 6961 6c69 7a65 6420 6973 2046 616c  itialized is Fal
-0001b2e0: 7365 0a20 2020 2020 2020 2020 2020 2020  se.             
-0001b2f0: 2020 2061 6e64 2022 4461 7277 696e 2220     and "Darwin" 
-0001b300: 696e 2076 6564 6f2e 7379 735f 706c 6174  in vedo.sys_plat
-0001b310: 666f 726d 0a20 2020 2020 2020 2020 2020  form.           
-0001b320: 2020 2020 2061 6e64 206e 6f74 2073 656c       and not sel
-0001b330: 662e 6f66 6673 6372 6565 6e0a 2020 2020  f.offscreen.    
-0001b340: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
-0001b350: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001b360: 5f63 6f63 6f61 5f69 6e69 7469 616c 697a  _cocoa_initializ
-0001b370: 6564 203d 2054 7275 650a 2020 2020 2020  ed = True.      
-0001b380: 2020 2020 2020 2020 2020 6672 6f6d 2043            from C
-0001b390: 6f63 6f61 2069 6d70 6f72 7420 4e53 5275  ocoa import NSRu
-0001b3a0: 6e6e 696e 6741 7070 6c69 6361 7469 6f6e  nningApplication
-0001b3b0: 2c20 4e53 4170 706c 6963 6174 696f 6e41  , NSApplicationA
-0001b3c0: 6374 6976 6174 6549 676e 6f72 696e 674f  ctivateIgnoringO
-0001b3d0: 7468 6572 4170 7073 0a20 2020 2020 2020  therApps.       
-0001b3e0: 2020 2020 2020 2020 2070 6964 203d 206f           pid = o
-0001b3f0: 732e 6765 7470 6964 2829 0a20 2020 2020  s.getpid().     
-0001b400: 2020 2020 2020 2020 2020 2078 203d 204e             x = N
-0001b410: 5352 756e 6e69 6e67 4170 706c 6963 6174  SRunningApplicat
-0001b420: 696f 6e2e 7275 6e6e 696e 6741 7070 6c69  ion.runningAppli
-0001b430: 6361 7469 6f6e 5769 7468 5072 6f63 6573  cationWithProces
-0001b440: 7349 6465 6e74 6966 6965 725f 2869 6e74  sIdentifier_(int
-0001b450: 2870 6964 2929 0a20 2020 2020 2020 2020  (pid)).         
-0001b460: 2020 2020 2020 2078 2e61 6374 6976 6174         x.activat
-0001b470: 6557 6974 684f 7074 696f 6e73 5f28 4e53  eWithOptions_(NS
-0001b480: 4170 706c 6963 6174 696f 6e41 6374 6976  ApplicationActiv
-0001b490: 6174 6549 676e 6f72 696e 674f 7468 6572  ateIgnoringOther
-0001b4a0: 4170 7073 290a 2020 2020 2020 2020 6578  Apps).        ex
-0001b4b0: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
-0001b4c0: 2020 7665 646f 2e6c 6f67 6765 722e 6465    vedo.logger.de
-0001b4d0: 6275 6728 224f 6e20 4d61 6320 4f53 5820  bug("On Mac OSX 
-0001b4e0: 7472 793a 2070 6970 2069 6e73 7461 6c6c  try: pip install
-0001b4f0: 2070 796f 626a 6322 290a 0a20 2020 2020   pyobjc")..     
-0001b500: 2020 2069 6620 7365 6c66 2e69 6e74 6572     if self.inter
-0001b510: 6163 746f 723a 2020 2320 6361 6e20 6265  actor:  # can be
-0001b520: 206f 6666 7363 7265 656e 2e2e 0a0a 2020   offscreen....  
-0001b530: 2020 2020 2020 2020 2020 6966 2069 6e74            if int
-0001b540: 6572 6163 7469 7665 2069 7320 6e6f 7420  eractive is not 
-0001b550: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0001b560: 2020 2020 2020 7365 6c66 2e5f 696e 7465        self._inte
-0001b570: 7261 6374 6976 6520 3d20 696e 7465 7261  ractive = intera
-0001b580: 6374 6976 650a 0a20 2020 2020 2020 2020  ctive..         
-0001b590: 2020 2023 2053 6574 2074 6865 2073 7479     # Set the sty
-0001b5a0: 6c65 206f 6620 696e 7465 7261 6374 696f  le of interactio
-0001b5b0: 6e0a 2020 2020 2020 2020 2020 2020 2320  n.            # 
-0001b5c0: 7365 6520 6874 7470 733a 2f2f 7674 6b2e  see https://vtk.
-0001b5d0: 6f72 672f 646f 632f 6e69 6768 746c 792f  org/doc/nightly/
-0001b5e0: 6874 6d6c 2f63 6c61 7373 7674 6b49 6e74  html/classvtkInt
-0001b5f0: 6572 6163 746f 7253 7479 6c65 2e68 746d  eractorStyle.htm
-0001b600: 6c0a 2020 2020 2020 2020 2020 2020 6966  l.            if
-0001b610: 206d 6f64 6520 696e 2028 302c 2027 5472   mode in (0, 'Tr
-0001b620: 6163 6b62 616c 6c43 616d 6572 6127 293a  ackballCamera'):
-0001b630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b640: 2023 2063 7374 7920 3d20 7365 6c66 2e69   # csty = self.i
-0001b650: 6e74 6572 6163 746f 722e 4765 7449 6e74  nteractor.GetInt
-0001b660: 6572 6163 746f 7253 7479 6c65 2829 2e47  eractorStyle().G
-0001b670: 6574 4375 7272 656e 7453 7479 6c65 2829  etCurrentStyle()
-0001b680: 2e47 6574 436c 6173 734e 616d 6528 290a  .GetClassName().
-0001b690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b6a0: 2320 6966 2022 5472 6163 6b62 616c 6c43  # if "TrackballC
-0001b6b0: 616d 6572 6122 206e 6f74 2069 6e20 6373  amera" not in cs
-0001b6c0: 7479 3a0a 2020 2020 2020 2020 2020 2020  ty:.            
-0001b6d0: 2020 2020 2320 7468 6973 2063 6175 7365      # this cause
-0001b6e0: 7320 7072 6f62 6c65 6d73 2028 7768 656e  s problems (when
-0001b6f0: 2070 7265 7373 696e 6720 3320 6567 2920   pressing 3 eg) 
-0001b700: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001b710: 2020 6966 2073 656c 662e 7174 5f77 6964    if self.qt_wid
-0001b720: 6765 743a 0a20 2020 2020 2020 2020 2020  get:.           
-0001b730: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
-0001b740: 7465 7261 6374 6f72 2e53 6574 496e 7465  teractor.SetInte
-0001b750: 7261 6374 6f72 5374 796c 6528 7674 6b2e  ractorStyle(vtk.
-0001b760: 7674 6b49 6e74 6572 6163 746f 7253 7479  vtkInteractorSty
-0001b770: 6c65 5472 6163 6b62 616c 6c43 616d 6572  leTrackballCamer
-0001b780: 6128 2929 0a20 2020 2020 2020 2020 2020  a()).           
-0001b790: 2065 6c69 6620 6d6f 6465 2069 6e20 2831   elif mode in (1
-0001b7a0: 2c20 2754 7261 636b 6261 6c6c 4163 746f  , 'TrackballActo
-0001b7b0: 7227 293a 0a20 2020 2020 2020 2020 2020  r'):.           
-0001b7c0: 2020 2020 2073 656c 662e 696e 7465 7261       self.intera
-0001b7d0: 6374 6f72 2e53 6574 496e 7465 7261 6374  ctor.SetInteract
-0001b7e0: 6f72 5374 796c 6528 7674 6b2e 7674 6b49  orStyle(vtk.vtkI
-0001b7f0: 6e74 6572 6163 746f 7253 7479 6c65 5472  nteractorStyleTr
-0001b800: 6163 6b62 616c 6c41 6374 6f72 2829 290a  ackballActor()).
-0001b810: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0001b820: 206d 6f64 6520 696e 2028 322c 2027 4a6f   mode in (2, 'Jo
-0001b830: 7973 7469 636b 4361 6d65 7261 2729 3a0a  ystickCamera'):.
-0001b840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b850: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-0001b860: 5365 7449 6e74 6572 6163 746f 7253 7479  SetInteractorSty
-0001b870: 6c65 2876 746b 2e76 746b 496e 7465 7261  le(vtk.vtkIntera
-0001b880: 6374 6f72 5374 796c 654a 6f79 7374 6963  ctorStyleJoystic
-0001b890: 6b43 616d 6572 6128 2929 0a20 2020 2020  kCamera()).     
-0001b8a0: 2020 2020 2020 2065 6c69 6620 6d6f 6465         elif mode
-0001b8b0: 2069 6e20 2833 2c20 274a 6f79 7374 6963   in (3, 'Joystic
-0001b8c0: 6b41 6374 6f72 2729 3a0a 2020 2020 2020  kActor'):.      
-0001b8d0: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-0001b8e0: 6e74 6572 6163 746f 722e 5365 7449 6e74  nteractor.SetInt
-0001b8f0: 6572 6163 746f 7253 7479 6c65 2876 746b  eractorStyle(vtk
-0001b900: 2e76 746b 496e 7465 7261 6374 6f72 5374  .vtkInteractorSt
-0001b910: 796c 654a 6f79 7374 6963 6b41 6374 6f72  yleJoystickActor
-0001b920: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-0001b930: 656c 6966 206d 6f64 6520 696e 2028 342c  elif mode in (4,
-0001b940: 2027 466c 6967 6874 2729 3a0a 2020 2020   'Flight'):.    
-0001b950: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001b960: 2e69 6e74 6572 6163 746f 722e 5365 7449  .interactor.SetI
-0001b970: 6e74 6572 6163 746f 7253 7479 6c65 2876  nteractorStyle(v
-0001b980: 746b 2e76 746b 496e 7465 7261 6374 6f72  tk.vtkInteractor
-0001b990: 5374 796c 6546 6c69 6768 7428 2929 0a20  StyleFlight()). 
-0001b9a0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-0001b9b0: 6d6f 6465 2069 6e20 2835 2c20 2752 7562  mode in (5, 'Rub
-0001b9c0: 6265 7242 616e 6432 4427 293a 0a20 2020  berBand2D'):.   
-0001b9d0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0001b9e0: 662e 696e 7465 7261 6374 6f72 2e53 6574  f.interactor.Set
-0001b9f0: 496e 7465 7261 6374 6f72 5374 796c 6528  InteractorStyle(
-0001ba00: 7674 6b2e 7674 6b49 6e74 6572 6163 746f  vtk.vtkInteracto
-0001ba10: 7253 7479 6c65 5275 6262 6572 4261 6e64  rStyleRubberBand
-0001ba20: 3244 2829 290a 2020 2020 2020 2020 2020  2D()).          
-0001ba30: 2020 656c 6966 206d 6f64 6520 696e 2028    elif mode in (
-0001ba40: 362c 2027 5275 6262 6572 4261 6e64 3344  6, 'RubberBand3D
-0001ba50: 2729 3a0a 2020 2020 2020 2020 2020 2020  '):.            
-0001ba60: 2020 2020 7365 6c66 2e69 6e74 6572 6163      self.interac
-0001ba70: 746f 722e 5365 7449 6e74 6572 6163 746f  tor.SetInteracto
-0001ba80: 7253 7479 6c65 2876 746b 2e76 746b 496e  rStyle(vtk.vtkIn
-0001ba90: 7465 7261 6374 6f72 5374 796c 6552 7562  teractorStyleRub
-0001baa0: 6265 7242 616e 6433 4428 2929 0a20 2020  berBand3D()).   
-0001bab0: 2020 2020 2020 2020 2065 6c69 6620 6d6f           elif mo
-0001bac0: 6465 2069 6e20 2837 2c20 2752 7562 6265  de in (7, 'Rubbe
-0001bad0: 7242 616e 645a 6f6f 6d27 293a 0a20 2020  rBandZoom'):.   
-0001bae0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0001baf0: 662e 696e 7465 7261 6374 6f72 2e53 6574  f.interactor.Set
-0001bb00: 496e 7465 7261 6374 6f72 5374 796c 6528  InteractorStyle(
-0001bb10: 7674 6b2e 7674 6b49 6e74 6572 6163 746f  vtk.vtkInteracto
-0001bb20: 7253 7479 6c65 5275 6262 6572 4261 6e64  rStyleRubberBand
-0001bb30: 5a6f 6f6d 2829 290a 2020 2020 2020 2020  Zoom()).        
-0001bb40: 2020 2020 656c 6966 206d 6f64 6520 696e      elif mode in
-0001bb50: 2028 382c 2027 436f 6e74 6578 7427 293a   (8, 'Context'):
-0001bb60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001bb70: 2073 656c 662e 696e 7465 7261 6374 6f72   self.interactor
-0001bb80: 2e53 6574 496e 7465 7261 6374 6f72 5374  .SetInteractorSt
-0001bb90: 796c 6528 7674 6b2e 7674 6b43 6f6e 7465  yle(vtk.vtkConte
-0001bba0: 7874 496e 7465 7261 6374 6f72 5374 796c  xtInteractorStyl
-0001bbb0: 6528 2929 0a20 2020 2020 2020 2020 2020  e()).           
-0001bbc0: 2065 6c69 6620 6d6f 6465 2069 6e20 2839   elif mode in (9
-0001bbd0: 2c20 2733 4427 293a 0a20 2020 2020 2020  , '3D'):.       
-0001bbe0: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
-0001bbf0: 7465 7261 6374 6f72 2e53 6574 496e 7465  teractor.SetInte
-0001bc00: 7261 6374 6f72 5374 796c 6528 7674 6b2e  ractorStyle(vtk.
-0001bc10: 7674 6b49 6e74 6572 6163 746f 7253 7479  vtkInteractorSty
-0001bc20: 6c65 3344 2829 290a 2020 2020 2020 2020  le3D()).        
-0001bc30: 2020 2020 656c 6966 206d 6f64 6520 696e      elif mode in
-0001bc40: 2028 3130 2c20 2754 6572 7261 696e 2729   (10, 'Terrain')
-0001bc50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001bc60: 2020 7365 6c66 2e69 6e74 6572 6163 746f    self.interacto
-0001bc70: 722e 5365 7449 6e74 6572 6163 746f 7253  r.SetInteractorS
-0001bc80: 7479 6c65 2876 746b 2e76 746b 496e 7465  tyle(vtk.vtkInte
-0001bc90: 7261 6374 6f72 5374 796c 6554 6572 7261  ractorStyleTerra
-0001bca0: 696e 2829 290a 2020 2020 2020 2020 2020  in()).          
-0001bcb0: 2020 656c 6966 206d 6f64 6520 696e 2028    elif mode in (
-0001bcc0: 3131 2c20 2755 6e69 6361 6d27 293a 0a20  11, 'Unicam'):. 
-0001bcd0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001bce0: 656c 662e 696e 7465 7261 6374 6f72 2e53  elf.interactor.S
-0001bcf0: 6574 496e 7465 7261 6374 6f72 5374 796c  etInteractorStyl
-0001bd00: 6528 7674 6b2e 7674 6b49 6e74 6572 6163  e(vtk.vtkInterac
-0001bd10: 746f 7253 7479 6c65 556e 6963 616d 2829  torStyleUnicam()
-0001bd20: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0001bd30: 6966 206d 6f64 6520 696e 2028 3132 2c20  if mode in (12, 
-0001bd40: 2749 6d61 6765 272c 2027 696d 6167 6527  'Image', 'image'
-0001bd50: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001bd60: 2020 2061 7374 796c 6520 3d20 7674 6b2e     astyle = vtk.
-0001bd70: 7674 6b49 6e74 6572 6163 746f 7253 7479  vtkInteractorSty
-0001bd80: 6c65 496d 6167 6528 290a 2020 2020 2020  leImage().      
-0001bd90: 2020 2020 2020 2020 2020 6173 7479 6c65            astyle
-0001bda0: 2e53 6574 496e 7465 7261 6374 696f 6e4d  .SetInteractionM
-0001bdb0: 6f64 6554 6f49 6d61 6765 3344 2829 0a20  odeToImage3D(). 
-0001bdc0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001bdd0: 656c 662e 696e 7465 7261 6374 6f72 2e53  elf.interactor.S
-0001bde0: 6574 496e 7465 7261 6374 6f72 5374 796c  etInteractorStyl
-0001bdf0: 6528 6173 7479 6c65 290a 0a20 2020 2020  e(astyle)..     
-0001be00: 2020 2020 2020 2069 6620 7365 6c66 2e5f         if self._
-0001be10: 696e 7465 7261 6374 6976 653a 0a20 2020  interactive:.   
-0001be20: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0001be30: 662e 696e 7465 7261 6374 6f72 2e53 7461  f.interactor.Sta
-0001be40: 7274 2829 0a20 2020 2020 2020 2020 2020  rt().           
-0001be50: 2020 2020 2023 2076 746b 2042 5547 3a0a       # vtk BUG:.
-0001be60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be70: 6966 2076 6564 6f2e 7674 6b5f 7665 7273  if vedo.vtk_vers
-0001be80: 696f 6e20 3d3d 2028 392c 322c 3229 3a0a  ion == (9,2,2):.
-0001be90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bea0: 2020 2020 7365 6c66 2e69 6e74 6572 6163      self.interac
-0001beb0: 746f 722e 4765 7452 656e 6465 7257 696e  tor.GetRenderWin
-0001bec0: 646f 7728 292e 5365 7444 6973 706c 6179  dow().SetDisplay
-0001bed0: 4964 2822 5f30 5f70 5f76 6f69 6422 2920  Id("_0_p_void") 
-0001bee0: 2323 4841 434b 0a20 2020 2020 2020 2020  ##HACK.         
-0001bef0: 2020 2065 6c69 6620 280a 2020 2020 2020     elif (.      
-0001bf00: 2020 2020 2020 2020 2020 2020 2020 2244                "D
-0001bf10: 6172 7769 6e22 2069 6e20 7665 646f 2e73  arwin" in vedo.s
-0001bf20: 7973 5f70 6c61 7466 6f72 6d0a 2020 2020  ys_platform.    
-0001bf30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf40: 616e 6420 7665 646f 2e76 746b 5f76 6572  and vedo.vtk_ver
-0001bf50: 7369 6f6e 203d 3d20 2839 2c32 2c35 290a  sion == (9,2,5).
-0001bf60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf70: 2020 2020 616e 6420 7365 7474 696e 6773      and settings
-0001bf80: 2e61 6c6c 6f77 5f69 6e74 6572 6163 7469  .allow_interacti
-0001bf90: 6f6e 0a20 2020 2020 2020 2020 2020 2020  on.             
-0001bfa0: 2020 2020 2020 2061 6e64 206c 656e 2873         and len(s
-0001bfb0: 656c 662e 7265 6e64 6572 6572 7329 203d  elf.renderers) =
-0001bfc0: 3d20 310a 2020 2020 2020 2020 2020 2020  = 1.            
-0001bfd0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001bfe0: 2020 2023 2074 6869 7320 6361 7573 6573     # this causes
-0001bff0: 2066 6f63 7573 2070 726f 626c 656d 7320   focus problems 
-0001c000: 7769 7468 2062 6f6f 6c65 616e 2e70 7920  with boolean.py 
-0001c010: 616e 6420 6f74 6865 7273 0a20 2020 2020  and others.     
-0001c020: 2020 2020 2020 2020 2020 2023 2077 6865             # whe
-0001c030: 6e20 6d75 6c74 6972 656e 6465 7269 6e67  n multirendering
-0001c040: 2069 7320 7072 6573 656e 742c 2062 7574   is present, but
-0001c050: 206d 616b 6573 2074 6865 2077 696e 646f   makes the windo
-0001c060: 7720 706f 7020 7570 0a20 2020 2020 2020  w pop up.       
-0001c070: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-0001c080: 6f63 6573 735f 6576 656e 7473 2829 0a0a  ocess_events()..
-0001c090: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-0001c0a0: 6174 653a 0a20 2020 2020 2020 2020 2020  ate:.           
-0001c0b0: 2020 2020 2069 6620 7365 6c66 2e63 6c6f       if self.clo
-0001c0c0: 636b 2069 7320 4e6f 6e65 3a20 2023 2073  ck is None:  # s
-0001c0d0: 6574 2063 6c6f 636b 2061 6e64 206c 696d  et clock and lim
-0001c0e0: 6974 2072 6174 650a 2020 2020 2020 2020  it rate.        
-0001c0f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001c100: 2e5f 636c 6f63 6b74 3020 3d20 7469 6d65  ._clockt0 = time
-0001c110: 2e74 696d 6528 290a 2020 2020 2020 2020  .time().        
-0001c120: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001c130: 2e63 6c6f 636b 203d 2030 2e30 0a20 2020  .clock = 0.0.   
-0001c140: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0001c150: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0001c160: 2020 2020 2020 2074 203d 2074 696d 652e         t = time.
-0001c170: 7469 6d65 2829 202d 2073 656c 662e 5f63  time() - self._c
-0001c180: 6c6f 636b 7430 0a20 2020 2020 2020 2020  lockt0.         
-0001c190: 2020 2020 2020 2020 2020 2065 6c61 7073             elaps
-0001c1a0: 6564 203d 2074 202d 2073 656c 662e 636c  ed = t - self.cl
-0001c1b0: 6f63 6b0a 2020 2020 2020 2020 2020 2020  ock.            
-0001c1c0: 2020 2020 2020 2020 6d69 6e74 203d 2031          mint = 1
-0001c1d0: 2e30 202f 2072 6174 650a 2020 2020 2020  .0 / rate.      
-0001c1e0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001c1f0: 2065 6c61 7073 6564 203c 206d 696e 743a   elapsed < mint:
-0001c200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c210: 2020 2020 2020 2020 2074 696d 652e 736c           time.sl
-0001c220: 6565 7028 6d69 6e74 202d 2065 6c61 7073  eep(mint - elaps
-0001c230: 6564 290a 2020 2020 2020 2020 2020 2020  ed).            
-0001c240: 2020 2020 2020 2020 7365 6c66 2e63 6c6f          self.clo
-0001c250: 636b 203d 2074 696d 652e 7469 6d65 2829  ck = time.time()
-0001c260: 202d 2073 656c 662e 5f63 6c6f 636b 7430   - self._clockt0
-0001c270: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0001c280: 2073 656c 660a 0a0a 2020 2020 6465 6620   self...    def 
-0001c290: 6164 645f 696e 7365 7428 7365 6c66 2c20  add_inset(self, 
-0001c2a0: 2a61 6374 6f72 732c 202a 2a6f 7074 696f  *actors, **optio
-0001c2b0: 6e73 293a 0a20 2020 2020 2020 2022 2222  ns):.        """
-0001c2c0: 4164 6420 6120 6472 6167 6761 626c 6520  Add a draggable 
-0001c2d0: 696e 7365 7420 7370 6163 6520 696e 746f  inset space into
-0001c2e0: 2061 2072 656e 6465 7265 722e 0a0a 2020   a renderer...  
-0001c2f0: 2020 2020 2020 4172 6775 6d65 6e74 733a        Arguments:
-0001c300: 0a20 2020 2020 2020 2020 2020 2061 7420  .            at 
-0001c310: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
-0001c320: 2020 2020 2020 2020 7370 6563 6966 7920          specify 
-0001c330: 7468 6520 7265 6e64 6572 6572 206e 756d  the renderer num
-0001c340: 6265 720a 2020 2020 2020 2020 2020 2020  ber.            
-0001c350: 706f 7320 3a20 286c 6973 7429 0a20 2020  pos : (list).   
-0001c360: 2020 2020 2020 2020 2020 2020 2069 636f               ico
-0001c370: 6e20 706f 7369 7469 6f6e 2069 6e20 7468  n position in th
-0001c380: 6520 7261 6e67 6520 5b31 2d34 5d20 696e  e range [1-4] in
-0001c390: 6469 6361 7469 6e67 206f 6e65 206f 6620  dicating one of 
-0001c3a0: 7468 6520 3420 636f 726e 6572 732c 0a20  the 4 corners,. 
-0001c3b0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-0001c3c0: 7220 6974 2063 616e 2062 6520 6120 7475  r it can be a tu
-0001c3d0: 706c 6520 2878 2c79 2920 6173 2061 2066  ple (x,y) as a f
-0001c3e0: 7261 6374 696f 6e20 6f66 2074 6865 2072  raction of the r
-0001c3f0: 656e 6465 7265 7220 7369 7a65 2e0a 2020  enderer size..  
-0001c400: 2020 2020 2020 2020 2020 7369 7a65 203a            size :
-0001c410: 2028 666c 6f61 7429 0a20 2020 2020 2020   (float).       
-0001c420: 2020 2020 2020 2020 2073 697a 6520 6f66           size of
-0001c430: 2074 6865 2073 7175 6172 6520 696e 7365   the square inse
-0001c440: 740a 2020 2020 2020 2020 2020 2020 6472  t.            dr
-0001c450: 6167 6761 626c 6520 3a20 2862 6f6f 6c29  aggable : (bool)
-0001c460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c470: 2069 6620 5472 7565 2074 6865 2073 7562   if True the sub
-0001c480: 7265 6e64 6572 6572 2073 7061 6365 2063  renderer space c
-0001c490: 616e 2062 6520 6472 6167 6765 6420 6172  an be dragged ar
-0001c4a0: 6f75 6e64 0a20 2020 2020 2020 2020 2020  ound.           
-0001c4b0: 2063 203a 2028 636f 6c6f 7229 0a20 2020   c : (color).   
-0001c4c0: 2020 2020 2020 2020 2020 2020 2063 6f6c               col
-0001c4d0: 6f72 206f 6620 7468 6520 696e 7365 7420  or of the inset 
-0001c4e0: 6672 616d 6520 7768 656e 2064 7261 6767  frame when dragg
-0001c4f0: 6564 0a0a 2020 2020 2020 2020 4578 616d  ed..        Exam
-0001c500: 706c 6573 3a0a 2020 2020 2020 2020 2020  ples:.          
-0001c510: 2020 2d20 5b69 6e73 6574 2e70 795d 2868    - [inset.py](h
-0001c520: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001c530: 6d2f 6d61 7263 6f6d 7573 792f 7665 646f  m/marcomusy/vedo
-0001c540: 2f74 7265 652f 6d61 7374 6572 2f65 7861  /tree/master/exa
-0001c550: 6d70 6c65 732f 6f74 6865 722f 696e 7365  mples/other/inse
-0001c560: 742e 7079 290a 0a20 2020 2020 2020 2020  t.py)..         
-0001c570: 2020 2021 5b5d 2868 7474 7073 3a2f 2f75     ![](https://u
-0001c580: 7365 722d 696d 6167 6573 2e67 6974 6875  ser-images.githu
-0001c590: 6275 7365 7263 6f6e 7465 6e74 2e63 6f6d  busercontent.com
-0001c5a0: 2f33 3238 3438 3339 312f 3536 3735 3835  /32848391/567585
-0001c5b0: 3630 2d33 6333 6631 3330 302d 3637 3937  60-3c3f1300-6797
-0001c5c0: 2d31 3165 392d 3962 3333 2d34 3966 3561  -11e9-9b33-49f5a
-0001c5d0: 3438 3736 3033 392e 6a70 6729 0a20 2020  4876039.jpg).   
-0001c5e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001c5f0: 2069 6620 6e6f 7420 7365 6c66 2e69 6e74   if not self.int
-0001c600: 6572 6163 746f 723a 0a20 2020 2020 2020  eractor:.       
-0001c610: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
-0001c620: 0a20 2020 2020 2020 2070 6f73 203d 206f  .        pos = o
-0001c630: 7074 696f 6e73 2e70 6f70 2822 706f 7322  ptions.pop("pos"
-0001c640: 2c20 3029 0a20 2020 2020 2020 2073 697a  , 0).        siz
-0001c650: 6520 3d20 6f70 7469 6f6e 732e 706f 7028  e = options.pop(
-0001c660: 2273 697a 6522 2c20 302e 3129 0a20 2020  "size", 0.1).   
-0001c670: 2020 2020 2063 203d 206f 7074 696f 6e73       c = options
-0001c680: 2e70 6f70 2822 6322 2c20 226c 6222 290a  .pop("c", "lb").
-0001c690: 2020 2020 2020 2020 6174 203d 206f 7074          at = opt
-0001c6a0: 696f 6e73 2e70 6f70 2822 6174 222c 204e  ions.pop("at", N
-0001c6b0: 6f6e 6529 0a20 2020 2020 2020 2064 7261  one).        dra
-0001c6c0: 6767 6162 6c65 203d 206f 7074 696f 6e73  ggable = options
-0001c6d0: 2e70 6f70 2822 6472 6167 6761 626c 6522  .pop("draggable"
-0001c6e0: 2c20 5472 7565 290a 0a20 2020 2020 2020  , True)..       
-0001c6f0: 2069 6620 6e6f 7420 7365 6c66 2e72 656e   if not self.ren
-0001c700: 6465 7265 723a 0a20 2020 2020 2020 2020  derer:.         
-0001c710: 2020 2076 6564 6f2e 6c6f 6767 6572 2e77     vedo.logger.w
-0001c720: 6172 6e69 6e67 2822 6361 6c6c 2061 6464  arning("call add
-0001c730: 5f69 6e73 6574 2829 206f 6e6c 7920 6166  _inset() only af
-0001c740: 7465 7220 6669 7273 7420 7265 6e64 6572  ter first render
-0001c750: 696e 6720 6f66 2074 6865 2073 6365 6e65  ing of the scene
-0001c760: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
-0001c770: 7361 7665 5f69 6e74 203d 2073 656c 662e  save_int = self.
-0001c780: 5f69 6e74 6572 6163 7469 7665 0a20 2020  _interactive.   
-0001c790: 2020 2020 2020 2020 2073 656c 662e 7368           self.sh
-0001c7a0: 6f77 2869 6e74 6572 6163 7469 7665 3d30  ow(interactive=0
-0001c7b0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001c7c0: 6c66 2e5f 696e 7465 7261 6374 6976 6520  lf._interactive 
-0001c7d0: 3d20 7361 7665 5f69 6e74 0a20 2020 2020  = save_int.     
-0001c7e0: 2020 2077 6964 6765 7420 3d20 7674 6b2e     widget = vtk.
-0001c7f0: 7674 6b4f 7269 656e 7461 7469 6f6e 4d61  vtkOrientationMa
-0001c800: 726b 6572 5769 6467 6574 2829 0a20 2020  rkerWidget().   
-0001c810: 2020 2020 2072 2c20 672c 2062 203d 2076       r, g, b = v
-0001c820: 6564 6f2e 6765 745f 636f 6c6f 7228 6329  edo.get_color(c)
-0001c830: 0a20 2020 2020 2020 2077 6964 6765 742e  .        widget.
-0001c840: 5365 744f 7574 6c69 6e65 436f 6c6f 7228  SetOutlineColor(
-0001c850: 722c 2067 2c20 6229 0a20 2020 2020 2020  r, g, b).       
-0001c860: 2069 6620 6c65 6e28 6163 746f 7273 2920   if len(actors) 
-0001c870: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
-0001c880: 2020 7769 6467 6574 2e53 6574 4f72 6965    widget.SetOrie
-0001c890: 6e74 6174 696f 6e4d 6172 6b65 7228 6163  ntationMarker(ac
-0001c8a0: 746f 7273 5b30 5d29 0a20 2020 2020 2020  tors[0]).       
-0001c8b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001c8c0: 2020 2077 6964 6765 742e 5365 744f 7269     widget.SetOri
-0001c8d0: 656e 7461 7469 6f6e 4d61 726b 6572 2876  entationMarker(v
-0001c8e0: 6564 6f2e 4173 7365 6d62 6c79 2861 6374  edo.Assembly(act
-0001c8f0: 6f72 7329 290a 0a20 2020 2020 2020 2077  ors))..        w
-0001c900: 6964 6765 742e 5365 7449 6e74 6572 6163  idget.SetInterac
-0001c910: 746f 7228 7365 6c66 2e69 6e74 6572 6163  tor(self.interac
-0001c920: 746f 7229 0a0a 2020 2020 2020 2020 6966  tor)..        if
-0001c930: 2075 7469 6c73 2e69 735f 7365 7175 656e   utils.is_sequen
-0001c940: 6365 2870 6f73 293a 0a20 2020 2020 2020  ce(pos):.       
-0001c950: 2020 2020 2077 6964 6765 742e 5365 7456       widget.SetV
-0001c960: 6965 7770 6f72 7428 706f 735b 305d 2d73  iewport(pos[0]-s
-0001c970: 697a 652c 2070 6f73 5b31 5d2d 7369 7a65  ize, pos[1]-size
-0001c980: 2c20 706f 735b 305d 2b73 697a 652c 2070  , pos[0]+size, p
-0001c990: 6f73 5b31 5d2b 7369 7a65 290a 2020 2020  os[1]+size).    
-0001c9a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001c9b0: 2020 2020 2020 6966 2070 6f73 203c 2032        if pos < 2
-0001c9c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001c9d0: 2020 7769 6467 6574 2e53 6574 5669 6577    widget.SetView
-0001c9e0: 706f 7274 2830 2c20 3120 2d20 3220 2a20  port(0, 1 - 2 * 
-0001c9f0: 7369 7a65 2c20 7369 7a65 202a 2032 2c20  size, size * 2, 
-0001ca00: 3129 0a20 2020 2020 2020 2020 2020 2065  1).            e
-0001ca10: 6c69 6620 706f 7320 3d3d 2032 3a0a 2020  lif pos == 2:.  
-0001ca20: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-0001ca30: 6467 6574 2e53 6574 5669 6577 706f 7274  dget.SetViewport
-0001ca40: 2831 202d 2032 202a 2073 697a 652c 2031  (1 - 2 * size, 1
-0001ca50: 202d 2032 202a 2073 697a 652c 2031 2c20   - 2 * size, 1, 
-0001ca60: 3129 0a20 2020 2020 2020 2020 2020 2065  1).            e
-0001ca70: 6c69 6620 706f 7320 3d3d 2033 3a0a 2020  lif pos == 3:.  
-0001ca80: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-0001ca90: 6467 6574 2e53 6574 5669 6577 706f 7274  dget.SetViewport
-0001caa0: 2830 2c20 302c 2073 697a 6520 2a20 322c  (0, 0, size * 2,
-0001cab0: 2073 697a 6520 2a20 3229 0a20 2020 2020   size * 2).     
-0001cac0: 2020 2020 2020 2065 6c69 6620 706f 7320         elif pos 
-0001cad0: 3d3d 2034 3a0a 2020 2020 2020 2020 2020  == 4:.          
-0001cae0: 2020 2020 2020 7769 6467 6574 2e53 6574        widget.Set
-0001caf0: 5669 6577 706f 7274 2831 202d 2032 202a  Viewport(1 - 2 *
-0001cb00: 2073 697a 652c 2030 2c20 312c 2073 697a   size, 0, 1, siz
-0001cb10: 6520 2a20 3229 0a20 2020 2020 2020 2077  e * 2).        w
-0001cb20: 6964 6765 742e 456e 6162 6c65 644f 6e28  idget.EnabledOn(
-0001cb30: 290a 2020 2020 2020 2020 7769 6467 6574  ).        widget
-0001cb40: 2e53 6574 496e 7465 7261 6374 6976 6528  .SetInteractive(
-0001cb50: 6472 6167 6761 626c 6529 0a20 2020 2020  draggable).     
-0001cb60: 2020 2069 6620 6174 2069 7320 6e6f 7420     if at is not 
-0001cb70: 4e6f 6e65 2061 6e64 2061 7420 3c20 6c65  None and at < le
-0001cb80: 6e28 7365 6c66 2e72 656e 6465 7265 7273  n(self.renderers
-0001cb90: 293a 0a20 2020 2020 2020 2020 2020 2077  ):.            w
-0001cba0: 6964 6765 742e 5365 7443 7572 7265 6e74  idget.SetCurrent
-0001cbb0: 5265 6e64 6572 6572 2873 656c 662e 7265  Renderer(self.re
-0001cbc0: 6e64 6572 6572 735b 6174 5d29 0a20 2020  nderers[at]).   
-0001cbd0: 2020 2020 2073 656c 662e 7769 6467 6574       self.widget
-0001cbe0: 732e 6170 7065 6e64 2877 6964 6765 7429  s.append(widget)
-0001cbf0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0001cc00: 7769 6467 6574 0a0a 2020 2020 6465 6620  widget..    def 
-0001cc10: 636c 6561 7228 7365 6c66 2c20 6174 3d4e  clear(self, at=N
-0001cc20: 6f6e 652c 2064 6565 703d 4661 6c73 652c  one, deep=False,
-0001cc30: 2072 656e 6465 723d 4661 6c73 6529 3a0a   render=False):.
-0001cc40: 2020 2020 2020 2020 2222 2243 6c65 6172          """Clear
-0001cc50: 2074 6865 2073 6365 6e65 2066 726f 6d20   the scene from 
-0001cc60: 616c 6c20 6d65 7368 6573 2061 6e64 2076  all meshes and v
-0001cc70: 6f6c 756d 6573 2e22 2222 0a20 2020 2020  olumes.""".     
-0001cc80: 2020 2069 6620 6174 2069 7320 6e6f 7420     if at is not 
-0001cc90: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0001cca0: 2020 7265 6e64 6572 6572 203d 2073 656c    renderer = sel
-0001ccb0: 662e 7265 6e64 6572 6572 735b 6174 5d0a  f.renderers[at].
-0001ccc0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001ccd0: 2020 2020 2020 2020 2020 7265 6e64 6572            render
-0001cce0: 6572 203d 2073 656c 662e 7265 6e64 6572  er = self.render
-0001ccf0: 6572 0a20 2020 2020 2020 2069 6620 6e6f  er.        if no
-0001cd00: 7420 7265 6e64 6572 6572 3a0a 2020 2020  t renderer:.    
-0001cd10: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001cd20: 656c 660a 0a20 2020 2020 2020 2069 6620  elf..        if 
-0001cd30: 6465 6570 3a0a 2020 2020 2020 2020 2020  deep:.          
-0001cd40: 2020 7265 6e64 6572 6572 2e52 656d 6f76    renderer.Remov
-0001cd50: 6541 6c6c 5669 6577 5072 6f70 7328 290a  eAllViewProps().
-0001cd60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001cd70: 2020 2020 2020 2020 2020 666f 7220 6120            for a 
-0001cd80: 696e 2073 6574 2873 656c 662e 6765 745f  in set(self.get_
-0001cd90: 6d65 7368 6573 2829 202b 2073 656c 662e  meshes() + self.
-0001cda0: 6765 745f 766f 6c75 6d65 7328 2920 2b20  get_volumes() + 
-0001cdb0: 7365 6c66 2e61 6374 6f72 7320 2b20 7365  self.actors + se
-0001cdc0: 6c66 2e61 7865 735f 696e 7374 616e 6365  lf.axes_instance
-0001cdd0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-0001cde0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0001cdf0: 6528 612c 2076 6564 6f2e 7368 6170 6573  e(a, vedo.shapes
-0001ce00: 2e54 6578 7432 4429 3a0a 2020 2020 2020  .Text2D):.      
-0001ce10: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0001ce20: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-0001ce30: 2020 2020 2020 2073 656c 662e 7265 6d6f         self.remo
-0001ce40: 7665 2861 290a 2020 2020 2020 2020 2020  ve(a).          
-0001ce50: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0001ce60: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001ce70: 6620 612e 7363 616c 6172 6261 723a 0a20  f a.scalarbar:. 
-0001ce80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ce90: 2020 2020 2020 2073 656c 662e 7265 6d6f         self.remo
-0001cea0: 7665 2861 2e73 6361 6c61 7262 6172 290a  ve(a.scalarbar).
-0001ceb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cec0: 6578 6365 7074 2041 7474 7269 6275 7465  except Attribute
-0001ced0: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
-0001cee0: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
-0001cef0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001cf00: 2e61 6374 6f72 7320 3d20 5b5d 0a0a 2020  .actors = []..  
-0001cf10: 2020 2020 2020 6966 2072 656e 6465 723a        if render:
-0001cf20: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001cf30: 662e 7265 6e64 6572 2829 0a20 2020 2020  f.render().     
-0001cf40: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-0001cf50: 2020 2020 6465 6620 6272 6561 6b5f 696e      def break_in
-0001cf60: 7465 7261 6374 696f 6e28 7365 6c66 293a  teraction(self):
-0001cf70: 0a20 2020 2020 2020 2022 2222 4272 6561  .        """Brea
-0001cf80: 6b20 7769 6e64 6f77 2069 6e74 6572 6163  k window interac
-0001cf90: 7469 6f6e 2061 6e64 2072 6574 7572 6e20  tion and return 
-0001cfa0: 746f 2074 6865 2070 7974 686f 6e20 6578  to the python ex
-0001cfb0: 6563 7574 696f 6e20 666c 6f77 2222 220a  ecution flow""".
-0001cfc0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001cfd0: 696e 7465 7261 6374 6f72 3a0a 2020 2020  interactor:.    
-0001cfe0: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
-0001cff0: 6572 6163 746f 722e 4578 6974 4361 6c6c  eractor.ExitCall
-0001d000: 6261 636b 2829 0a20 2020 2020 2020 2072  back().        r
-0001d010: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-0001d020: 6465 6620 636c 6f73 655f 7769 6e64 6f77  def close_window
-0001d030: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-0001d040: 2222 2243 6c6f 7365 2074 6865 2063 7572  """Close the cur
-0001d050: 7265 6e74 206f 7220 7468 6520 696e 7075  rent or the inpu
-0001d060: 7420 7265 6e64 6572 696e 6720 7769 6e64  t rendering wind
-0001d070: 6f77 2e0a 0a20 2020 2020 2020 2045 7861  ow...        Exa
-0001d080: 6d70 6c65 733a 0a20 2020 2020 2020 2020  mples:.         
-0001d090: 2020 202d 205b 636c 6f73 6577 696e 646f     - [closewindo
-0001d0a0: 772e 7079 5d28 6874 7470 733a 2f2f 6769  w.py](https://gi
-0001d0b0: 7468 7562 2e63 6f6d 2f6d 6172 636f 6d75  thub.com/marcomu
-0001d0c0: 7379 2f76 6564 6f2f 7472 6565 2f6d 6173  sy/vedo/tree/mas
-0001d0d0: 7465 722f 6578 616d 706c 6573 2f62 6173  ter/examples/bas
-0001d0e0: 6963 2f63 6c6f 7365 7769 6e64 6f77 2e70  ic/closewindow.p
-0001d0f0: 7929 0a20 2020 2020 2020 2022 2222 0a20  y).        """. 
-0001d100: 2020 2020 2020 2076 6564 6f2e 6c61 7374         vedo.last
-0001d110: 5f66 6967 7572 6520 3d20 4e6f 6e65 0a20  _figure = None. 
-0001d120: 2020 2020 2020 2073 656c 662e 736c 6964         self.slid
-0001d130: 6572 7320 3d20 5b5d 0a20 2020 2020 2020  ers = [].       
-0001d140: 2073 656c 662e 6275 7474 6f6e 7320 3d20   self.buttons = 
-0001d150: 5b5d 0a20 2020 2020 2020 2073 656c 662e  [].        self.
-0001d160: 7769 6467 6574 7320 3d20 5b5d 0a20 2020  widgets = [].   
-0001d170: 2020 2020 2073 656c 662e 686f 7665 725f       self.hover_
-0001d180: 6c65 6765 6e64 7320 3d20 5b5d 0a20 2020  legends = [].   
-0001d190: 2020 2020 2073 656c 662e 6261 636b 6772       self.backgr
-0001d1a0: 6f75 6e64 5f72 656e 6465 7265 7220 3d20  ound_renderer = 
-0001d1b0: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
-0001d1c0: 662e 5f66 6972 7374 5f76 6965 7775 7020  f._first_viewup 
-0001d1d0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
-0001d1e0: 656c 662e 5f65 7874 7261 6c69 6768 7420  elf._extralight 
-0001d1f0: 3d20 4e6f 6e65 0a0a 2020 2020 2020 2020  = None..        
-0001d200: 7365 6c66 2e68 696e 745f 7769 6467 6574  self.hint_widget
-0001d210: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-0001d220: 7365 6c66 2e63 7574 7465 725f 7769 6467  self.cutter_widg
-0001d230: 6574 203d 204e 6f6e 650a 0a20 2020 2020  et = None..     
-0001d240: 2020 2066 6f72 2072 2069 6e20 7365 6c66     for r in self
-0001d250: 2e72 656e 6465 7265 7273 3a0a 2020 2020  .renderers:.    
-0001d260: 2020 2020 2020 2020 722e 5265 6d6f 7665          r.Remove
-0001d270: 416c 6c4f 6273 6572 7665 7273 2829 0a20  AllObservers(). 
-0001d280: 2020 2020 2020 2069 6620 6861 7361 7474         if hasatt
-0001d290: 7228 7365 6c66 2c20 2277 696e 646f 7722  r(self, "window"
-0001d2a0: 2920 616e 6420 7365 6c66 2e77 696e 646f  ) and self.windo
-0001d2b0: 773a 0a20 2020 2020 2020 2020 2020 2069  w:.            i
-0001d2c0: 6620 6861 7361 7474 7228 7365 6c66 2c20  f hasattr(self, 
-0001d2d0: 2269 6e74 6572 6163 746f 7222 2920 616e  "interactor") an
-0001d2e0: 6420 7365 6c66 2e69 6e74 6572 6163 746f  d self.interacto
-0001d2f0: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-0001d300: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
-0001d310: 6f72 2e45 7869 7443 616c 6c62 6163 6b28  or.ExitCallback(
-0001d320: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001d330: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0001d340: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001d350: 696e 7465 7261 6374 6f72 2e53 6574 446f  interactor.SetDo
-0001d360: 6e65 2854 7275 6529 0a20 2020 2020 2020  ne(True).       
-0001d370: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0001d380: 4174 7472 6962 7574 6545 7272 6f72 3a0a  AttributeError:.
-0001d390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d3a0: 2020 2020 7061 7373 0a20 2020 2020 2020      pass.       
-0001d3b0: 2020 2020 2020 2020 2073 656c 662e 696e           self.in
-0001d3c0: 7465 7261 6374 6f72 2e54 6572 6d69 6e61  teractor.Termina
-0001d3d0: 7465 4170 7028 290a 0a20 2020 2020 2020  teApp()..       
-0001d3e0: 2020 2020 2020 2020 2023 2073 656c 662e           # self.
-0001d3f0: 696e 7465 7261 6374 6f72 203d 204e 6f6e  interactor = Non
-0001d400: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
-0001d410: 6c66 2e77 696e 646f 772e 4669 6e61 6c69  lf.window.Finali
-0001d420: 7a65 2829 2020 2320 7468 6973 206d 7573  ze()  # this mus
-0001d430: 7420 6265 2064 6f6e 6520 6865 7265 0a0a  t be done here..
-0001d440: 2020 2020 2020 2020 2020 2020 6966 2068              if h
-0001d450: 6173 6174 7472 2873 656c 662c 2022 696e  asattr(self, "in
-0001d460: 7465 7261 6374 6f72 2229 2061 6e64 2073  teractor") and s
-0001d470: 656c 662e 696e 7465 7261 6374 6f72 3a0a  elf.interactor:.
-0001d480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d490: 6966 2022 4461 7277 696e 2220 696e 2076  if "Darwin" in v
-0001d4a0: 6564 6f2e 7379 735f 706c 6174 666f 726d  edo.sys_platform
-0001d4b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001d4c0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0001d4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d4e0: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
-0001d4f0: 6f72 2e50 726f 6365 7373 4576 656e 7473  or.ProcessEvents
-0001d500: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0001d510: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
-0001d520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d530: 2020 2020 2020 2070 6173 730a 2020 2020         pass.    
-0001d540: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001d550: 2e69 6e74 6572 6163 746f 7220 3d20 4e6f  .interactor = No
-0001d560: 6e65 0a0a 2020 2020 2020 2020 2020 2020  ne..            
-0001d570: 7365 6c66 2e77 696e 646f 7720 3d20 4e6f  self.window = No
-0001d580: 6e65 0a0a 2020 2020 2020 2020 7365 6c66  ne..        self
-0001d590: 2e72 656e 6465 7265 7220 3d20 4e6f 6e65  .renderer = None
-0001d5a0: 2020 2320 6375 7272 656e 7420 7265 6e64    # current rend
-0001d5b0: 6572 6572 0a20 2020 2020 2020 2073 656c  erer.        sel
-0001d5c0: 662e 7265 6e64 6572 6572 7320 3d20 5b5d  f.renderers = []
-0001d5d0: 0a20 2020 2020 2020 2073 656c 662e 6361  .        self.ca
-0001d5e0: 6d65 7261 203d 204e 6f6e 650a 2020 2020  mera = None.    
-0001d5f0: 2020 2020 7365 6c66 2e73 6b79 626f 7820      self.skybox 
-0001d600: 3d20 4e6f 6e65 0a20 2020 2020 2020 2072  = None.        r
-0001d610: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-0001d620: 6465 6620 636c 6f73 6528 7365 6c66 293a  def close(self):
-0001d630: 0a20 2020 2020 2020 2022 2222 436c 6f73  .        """Clos
-0001d640: 6520 7468 6520 506c 6f74 7465 7220 696e  e the Plotter in
-0001d650: 7374 616e 6365 2061 6e64 2072 656c 6561  stance and relea
-0001d660: 7365 2072 6573 6f75 7263 6573 2e22 2222  se resources."""
-0001d670: 0a20 2020 2020 2020 2073 656c 662e 636c  .        self.cl
-0001d680: 6f73 655f 7769 6e64 6f77 2829 0a20 2020  ose_window().   
-0001d690: 2020 2020 2073 656c 662e 6163 746f 7273       self.actors
-0001d6a0: 203d 205b 5d0a 2020 2020 2020 2020 6966   = [].        if
-0001d6b0: 2076 6564 6f2e 706c 6f74 7465 725f 696e   vedo.plotter_in
-0001d6c0: 7374 616e 6365 203d 3d20 7365 6c66 3a0a  stance == self:.
-0001d6d0: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-0001d6e0: 2e70 6c6f 7474 6572 5f69 6e73 7461 6e63  .plotter_instanc
-0001d6f0: 6520 3d20 4e6f 6e65 0a0a 2020 2020 6465  e = None..    de
-0001d700: 6620 7363 7265 656e 7368 6f74 2873 656c  f screenshot(sel
-0001d710: 662c 2066 696c 656e 616d 653d 2273 6372  f, filename="scr
-0001d720: 6565 6e73 686f 742e 706e 6722 2c20 7363  eenshot.png", sc
-0001d730: 616c 653d 4e6f 6e65 2c20 6173 6172 7261  ale=None, asarra
-0001d740: 793d 4661 6c73 6529 3a0a 2020 2020 2020  y=False):.      
-0001d750: 2020 2222 220a 2020 2020 2020 2020 5461    """.        Ta
-0001d760: 6b65 2061 2073 6372 6565 6e73 686f 7420  ke a screenshot 
-0001d770: 6f66 2074 6865 2050 6c6f 7474 6572 2077  of the Plotter w
-0001d780: 696e 646f 772e 0a0a 2020 2020 2020 2020  indow...        
-0001d790: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
-0001d7a0: 2020 2020 2020 2073 6361 6c65 203a 2028         scale : (
-0001d7b0: 696e 7429 0a20 2020 2020 2020 2020 2020  int).           
-0001d7c0: 2020 2020 2073 6574 2069 6d61 6765 206d       set image m
-0001d7d0: 6167 6e69 6669 6361 7469 6f6e 2061 7320  agnification as 
-0001d7e0: 616e 2069 6e74 6567 6572 206d 756c 7469  an integer multi
-0001d7f0: 706c 6963 6174 696e 6720 6661 6374 6f72  plicating factor
-0001d800: 0a20 2020 2020 2020 2020 2020 2061 7361  .            asa
-0001d810: 7272 6179 203a 2028 626f 6f6c 290a 2020  rray : (bool).  
-0001d820: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0001d830: 7475 726e 2061 206e 756d 7079 2061 7272  turn a numpy arr
-0001d840: 6179 206f 6620 7468 6520 696d 6167 6520  ay of the image 
-0001d850: 696e 7374 6561 6420 6f66 2077 7269 7469  instead of writi
-0001d860: 6e67 2061 2066 696c 650a 2020 2020 2020  ng a file.      
-0001d870: 2020 2222 220a 2020 2020 2020 2020 7265    """.        re
-0001d880: 7475 726e 2076 6564 6f2e 696f 2e73 6372  turn vedo.io.scr
-0001d890: 6565 6e73 686f 7428 6669 6c65 6e61 6d65  eenshot(filename
-0001d8a0: 2c20 7363 616c 652c 2061 7361 7272 6179  , scale, asarray
-0001d8b0: 290a 0a20 2020 2064 6566 2074 6f70 6963  )..    def topic
-0001d8c0: 7475 7265 2873 656c 662c 2073 6361 6c65  ture(self, scale
-0001d8d0: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
-0001d8e0: 2222 220a 2020 2020 2020 2020 4765 6e65  """.        Gene
-0001d8f0: 7261 7465 2061 2050 6963 7475 7265 206f  rate a Picture o
-0001d900: 626a 6563 7420 6672 6f6d 2074 6865 2063  bject from the c
-0001d910: 7572 7265 6e74 2072 656e 6465 7269 6e67  urrent rendering
-0001d920: 2077 696e 646f 772e 0a0a 2020 2020 2020   window...      
-0001d930: 2020 4172 6775 6d65 6e74 733a 0a20 2020    Arguments:.   
-0001d940: 2020 2020 2020 2020 2073 6361 6c65 203a           scale :
-0001d950: 2028 696e 7429 0a20 2020 2020 2020 2020   (int).         
-0001d960: 2020 2020 2020 2073 6574 2069 6d61 6765         set image
-0001d970: 206d 6167 6e69 6669 6361 7469 6f6e 2061   magnification a
-0001d980: 7320 616e 2069 6e74 6567 6572 206d 756c  s an integer mul
-0001d990: 7469 706c 6963 6174 696e 6720 6661 6374  tiplicating fact
-0001d9a0: 6f72 0a20 2020 2020 2020 2022 2222 0a20  or.        """. 
-0001d9b0: 2020 2020 2020 2069 6620 7363 616c 6520         if scale 
-0001d9c0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0001d9d0: 2020 2020 2073 6361 6c65 203d 2073 6574       scale = set
-0001d9e0: 7469 6e67 732e 7363 7265 6573 686f 745f  tings.screeshot_
-0001d9f0: 7363 616c 650a 0a20 2020 2020 2020 2069  scale..        i
-0001da00: 6620 7365 7474 696e 6773 2e73 6372 6565  f settings.scree
-0001da10: 7368 6f74 5f6c 6172 6765 5f69 6d61 6765  shot_large_image
-0001da20: 3a0a 2020 2020 2020 2020 2020 2020 7732  :.            w2
-0001da30: 6966 203d 2076 746b 2e76 746b 5265 6e64  if = vtk.vtkRend
-0001da40: 6572 4c61 7267 6549 6d61 6765 2829 0a20  erLargeImage(). 
-0001da50: 2020 2020 2020 2020 2020 2077 3269 662e             w2if.
-0001da60: 5365 7449 6e70 7574 2873 656c 662e 7265  SetInput(self.re
-0001da70: 6e64 6572 6572 290a 2020 2020 2020 2020  nderer).        
-0001da80: 2020 2020 7732 6966 2e53 6574 4d61 676e      w2if.SetMagn
-0001da90: 6966 6963 6174 696f 6e28 7363 616c 6529  ification(scale)
-0001daa0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001dab0: 2020 2020 2020 2020 2020 2077 3269 6620             w2if 
-0001dac0: 3d20 7674 6b2e 7674 6b57 696e 646f 7754  = vtk.vtkWindowT
-0001dad0: 6f49 6d61 6765 4669 6c74 6572 2829 0a20  oImageFilter(). 
-0001dae0: 2020 2020 2020 2020 2020 2077 3269 662e             w2if.
-0001daf0: 5365 7449 6e70 7574 2873 656c 662e 7769  SetInput(self.wi
-0001db00: 6e64 6f77 290a 2020 2020 2020 2020 2020  ndow).          
-0001db10: 2020 6966 2068 6173 6174 7472 2877 3269    if hasattr(w2i
-0001db20: 662c 2022 5365 7453 6361 6c65 2229 3a0a  f, "SetScale"):.
-0001db30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001db40: 7732 6966 2e53 6574 5363 616c 6528 7363  w2if.SetScale(sc
-0001db50: 616c 652c 2073 6361 6c65 290a 2020 2020  ale, scale).    
-0001db60: 2020 2020 2020 2020 6966 2073 6574 7469          if setti
-0001db70: 6e67 732e 7363 7265 656e 7368 6f74 5f74  ngs.screenshot_t
-0001db80: 7261 6e73 7061 7265 6e74 5f62 6163 6b67  ransparent_backg
-0001db90: 726f 756e 643a 0a20 2020 2020 2020 2020  round:.         
-0001dba0: 2020 2020 2020 2077 3269 662e 5365 7449         w2if.SetI
-0001dbb0: 6e70 7574 4275 6666 6572 5479 7065 546f  nputBufferTypeTo
-0001dbc0: 5247 4241 2829 0a20 2020 2020 2020 2020  RGBA().         
-0001dbd0: 2020 2077 3269 662e 5265 6164 4672 6f6e     w2if.ReadFron
-0001dbe0: 7442 7566 6665 724f 6666 2829 2020 2320  tBufferOff()  # 
-0001dbf0: 7265 6164 2066 726f 6d20 7468 6520 6261  read from the ba
-0001dc00: 636b 2062 7566 6665 720a 2020 2020 2020  ck buffer.      
-0001dc10: 2020 7732 6966 2e55 7064 6174 6528 290a    w2if.Update().
-0001dc20: 2020 2020 2020 2020 7265 7475 726e 2076          return v
-0001dc30: 6564 6f2e 7069 6374 7572 652e 5069 6374  edo.picture.Pict
-0001dc40: 7572 6528 7732 6966 2e47 6574 4f75 7470  ure(w2if.GetOutp
-0001dc50: 7574 2829 290a 0a20 2020 2064 6566 2065  ut())..    def e
-0001dc60: 7870 6f72 7428 7365 6c66 2c20 6669 6c65  xport(self, file
-0001dc70: 6e61 6d65 3d22 7363 656e 652e 6e70 7a22  name="scene.npz"
-0001dc80: 2c20 6269 6e61 7279 3d46 616c 7365 293a  , binary=False):
-0001dc90: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001dca0: 2020 2020 2045 7870 6f72 7420 7363 656e       Export scen
-0001dcb0: 6520 746f 2066 696c 6520 746f 2048 544d  e to file to HTM
-0001dcc0: 4c2c 2058 3344 206f 7220 4e75 6d70 7920  L, X3D or Numpy 
-0001dcd0: 6669 6c65 2e0a 0a20 2020 2020 2020 2045  file...        E
-0001dce0: 7861 6d70 6c65 733a 0a20 2020 2020 2020  xamples:.       
-0001dcf0: 2020 2020 202d 205b 6578 706f 7274 5f78       - [export_x
-0001dd00: 3364 2e70 795d 2868 7474 7073 3a2f 2f67  3d.py](https://g
-0001dd10: 6974 6875 622e 636f 6d2f 6d61 7263 6f6d  ithub.com/marcom
-0001dd20: 7573 792f 7665 646f 2f74 7265 652f 6d61  usy/vedo/tree/ma
-0001dd30: 7374 6572 2f65 7861 6d70 6c65 732f 6f74  ster/examples/ot
-0001dd40: 6865 722f 6578 706f 7274 5f78 3364 2e70  her/export_x3d.p
-0001dd50: 7929 0a20 2020 2020 2020 2020 2020 202d  y).            -
-0001dd60: 205b 6578 706f 7274 5f6e 756d 7079 2e70   [export_numpy.p
-0001dd70: 795d 2868 7474 7073 3a2f 2f67 6974 6875  y](https://githu
-0001dd80: 622e 636f 6d2f 6d61 7263 6f6d 7573 792f  b.com/marcomusy/
-0001dd90: 7665 646f 2f74 7265 652f 6d61 7374 6572  vedo/tree/master
-0001dda0: 2f65 7861 6d70 6c65 732f 6f74 6865 722f  /examples/other/
-0001ddb0: 6578 706f 7274 5f6e 756d 7079 2e70 7929  export_numpy.py)
-0001ddc0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001ddd0: 2020 2020 2076 6564 6f2e 696f 2e65 7870       vedo.io.exp
-0001dde0: 6f72 745f 7769 6e64 6f77 2866 696c 656e  ort_window(filen
-0001ddf0: 616d 652c 2062 696e 6172 793d 6269 6e61  ame, binary=bina
-0001de00: 7279 290a 2020 2020 2020 2020 7265 7475  ry).        retu
-0001de10: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-0001de20: 2063 6f6c 6f72 5f70 6963 6b65 7228 7365   color_picker(se
-0001de30: 6c66 2c20 7879 2c20 7665 7262 6f73 653d  lf, xy, verbose=
-0001de40: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
-0001de50: 2222 2250 6963 6b20 636f 6c6f 7220 6f66  """Pick color of
-0001de60: 2073 7065 6369 6669 6320 2878 2c79 2920   specific (x,y) 
-0001de70: 7069 7865 6c20 6f6e 2074 6865 2073 6372  pixel on the scr
-0001de80: 6565 6e2e 2222 220a 2020 2020 2020 2020  een.""".        
-0001de90: 7732 6966 203d 2076 746b 2e76 746b 5769  w2if = vtk.vtkWi
-0001dea0: 6e64 6f77 546f 496d 6167 6546 696c 7465  ndowToImageFilte
-0001deb0: 7228 290a 2020 2020 2020 2020 7732 6966  r().        w2if
-0001dec0: 2e53 6574 496e 7075 7428 7365 6c66 2e77  .SetInput(self.w
-0001ded0: 696e 646f 7729 0a20 2020 2020 2020 2077  indow).        w
-0001dee0: 3269 662e 5265 6164 4672 6f6e 7442 7566  2if.ReadFrontBuf
-0001def0: 6665 724f 6666 2829 0a20 2020 2020 2020  ferOff().       
-0001df00: 2077 3269 662e 5570 6461 7465 2829 0a20   w2if.Update(). 
-0001df10: 2020 2020 2020 206e 782c 206e 7920 3d20         nx, ny = 
-0001df20: 7365 6c66 2e77 696e 646f 772e 4765 7453  self.window.GetS
-0001df30: 697a 6528 290a 2020 2020 2020 2020 7661  ize().        va
-0001df40: 7272 203d 2077 3269 662e 4765 744f 7574  rr = w2if.GetOut
-0001df50: 7075 7428 292e 4765 7450 6f69 6e74 4461  put().GetPointDa
-0001df60: 7461 2829 2e47 6574 5363 616c 6172 7328  ta().GetScalars(
-0001df70: 290a 0a20 2020 2020 2020 2061 7272 203d  )..        arr =
-0001df80: 2075 7469 6c73 2e76 746b 326e 756d 7079   utils.vtk2numpy
-0001df90: 2876 6172 7229 2e72 6573 6861 7065 286e  (varr).reshape(n
-0001dfa0: 792c 206e 782c 2033 290a 2020 2020 2020  y, nx, 3).      
-0001dfb0: 2020 782c 2079 203d 2069 6e74 2878 795b    x, y = int(xy[
-0001dfc0: 305d 292c 2069 6e74 2878 795b 315d 290a  0]), int(xy[1]).
-0001dfd0: 2020 2020 2020 2020 6966 2079 203c 206e          if y < n
-0001dfe0: 7920 616e 6420 7820 3c20 6e78 3a0a 0a20  y and x < nx:.. 
-0001dff0: 2020 2020 2020 2020 2020 2072 6762 203d             rgb =
-0001e000: 2061 7272 5b79 2c20 785d 0a0a 2020 2020   arr[y, x]..    
-0001e010: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
-0001e020: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001e030: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0001e040: 2250 6978 656c 222c 205b 782c 2079 5d2c  "Pixel", [x, y],
-0001e050: 2022 6861 7320 5247 425b 222c 2065 6e64   "has RGB[", end
-0001e060: 3d22 2229 0a20 2020 2020 2020 2020 2020  ="").           
-0001e070: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0001e080: 2822 e296 8822 2c20 633d 5b72 6762 5b30  ("...", c=[rgb[0
-0001e090: 5d2c 2030 2c20 305d 2c20 656e 643d 2222  ], 0, 0], end=""
-0001e0a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001e0b0: 2020 7665 646f 2e70 7269 6e74 6328 22e2    vedo.printc(".
-0001e0c0: 9688 222c 2063 3d5b 302c 2072 6762 5b31  ..", c=[0, rgb[1
-0001e0d0: 5d2c 2030 5d2c 2065 6e64 3d22 2229 0a20  ], 0], end=""). 
-0001e0e0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0001e0f0: 6564 6f2e 7072 696e 7463 2822 e296 8822  edo.printc("..."
-0001e100: 2c20 633d 5b30 2c20 302c 2072 6762 5b32  , c=[0, 0, rgb[2
-0001e110: 5d5d 2c20 656e 643d 2222 290a 2020 2020  ]], end="").    
-0001e120: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-0001e130: 2e70 7269 6e74 6328 225d 203d 2022 2c20  .printc("] = ", 
-0001e140: 656e 643d 2222 290a 2020 2020 2020 2020  end="").        
-0001e150: 2020 2020 2020 2020 636e 6d20 3d20 7665          cnm = ve
-0001e160: 646f 2e67 6574 5f63 6f6c 6f72 5f6e 616d  do.get_color_nam
-0001e170: 6528 7267 6229 0a20 2020 2020 2020 2020  e(rgb).         
-0001e180: 2020 2020 2020 2069 6620 6e70 2e73 756d         if np.sum
-0001e190: 2872 6762 2920 3c20 3135 303a 0a20 2020  (rgb) < 150:.   
-0001e1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e1b0: 2076 6564 6f2e 7072 696e 7463 2872 6762   vedo.printc(rgb
-0001e1c0: 2e74 6f6c 6973 7428 292c 2076 6564 6f2e  .tolist(), vedo.
-0001e1d0: 636f 6c6f 7273 2e72 6762 3268 6578 286e  colors.rgb2hex(n
-0001e1e0: 702e 6172 7261 7928 7267 6229 2f32 3535  p.array(rgb)/255
-0001e1f0: 292c 2063 3d27 7727 2c0a 2020 2020 2020  ), c='w',.      
-0001e200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e210: 2020 2020 2062 633d 7267 622c 2069 6e76       bc=rgb, inv
-0001e220: 6572 743d 312c 2065 6e64 3d27 2729 0a20  ert=1, end=''). 
-0001e230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e240: 2020 2076 6564 6f2e 7072 696e 7463 2827     vedo.printc('
-0001e250: 2020 2d3e 2027 2b63 6e6d 2c20 696e 7665    -> '+cnm, inve
-0001e260: 7274 3d31 2c20 633d 2777 2729 0a20 2020  rt=1, c='w').   
-0001e270: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0001e280: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0001e290: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0001e2a0: 7463 2872 6762 2e74 6f6c 6973 7428 292c  tc(rgb.tolist(),
-0001e2b0: 2076 6564 6f2e 636f 6c6f 7273 2e72 6762   vedo.colors.rgb
-0001e2c0: 3268 6578 286e 702e 6172 7261 7928 7267  2hex(np.array(rg
-0001e2d0: 6229 2f32 3535 292c 2063 3d72 6762 2c20  b)/255), c=rgb, 
-0001e2e0: 656e 643d 2727 290a 2020 2020 2020 2020  end='').        
-0001e2f0: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-0001e300: 2e70 7269 6e74 6328 2720 202d 3e20 272b  .printc('  -> '+
-0001e310: 636e 6d2c 2063 3d63 6e6d 290a 0a20 2020  cnm, c=cnm)..   
-0001e320: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0001e330: 7267 620a 0a20 2020 2020 2020 2072 6574  rgb..        ret
-0001e340: 7572 6e20 4e6f 6e65 0a0a 2020 2020 2323  urn None..    ##
-0001e350: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001e360: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001e370: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001e380: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001e390: 2323 2323 230a 2020 2020 6465 6620 5f6d  #####.    def _m
-0001e3a0: 6f75 7365 6c65 6674 636c 6963 6b28 7365  ouseleftclick(se
-0001e3b0: 6c66 2c20 6972 656e 2c20 6576 656e 7429  lf, iren, event)
-0001e3c0: 3a0a 0a20 2020 2020 2020 2078 2c20 7920  :..        x, y 
-0001e3d0: 3d20 6972 656e 2e47 6574 4576 656e 7450  = iren.GetEventP
-0001e3e0: 6f73 6974 696f 6e28 290a 0a20 2020 2020  osition()..     
-0001e3f0: 2020 2072 656e 6465 7265 7220 3d20 6972     renderer = ir
-0001e400: 656e 2e46 696e 6450 6f6b 6564 5265 6e64  en.FindPokedRend
-0001e410: 6572 6572 2878 2c20 7929 0a20 2020 2020  erer(x, y).     
-0001e420: 2020 2070 6963 6b65 7220 3d20 7674 6b2e     picker = vtk.
-0001e430: 7674 6b50 726f 7050 6963 6b65 7228 290a  vtkPropPicker().
-0001e440: 2020 2020 2020 2020 7069 636b 6572 2e50          picker.P
-0001e450: 6963 6b50 726f 7028 782c 2079 2c20 7265  ickProp(x, y, re
-0001e460: 6e64 6572 6572 290a 0a20 2020 2020 2020  nderer)..       
-0001e470: 2073 656c 662e 7265 6e64 6572 6572 203d   self.renderer =
-0001e480: 2072 656e 6465 7265 720a 0a20 2020 2020   renderer..     
-0001e490: 2020 2063 6c69 636b 6564 5f61 6374 6f72     clicked_actor
-0001e4a0: 203d 2070 6963 6b65 722e 4765 7441 6374   = picker.GetAct
-0001e4b0: 6f72 2829 0a0a 2020 2020 2020 2020 2320  or()..        # 
-0001e4c0: 7072 696e 7428 275f 6d6f 7573 656c 6566  print('_mouselef
-0001e4d0: 7463 6c69 636b 206d 6f75 7365 2061 7427  tclick mouse at'
-0001e4e0: 2c20 782c 2079 290a 2020 2020 2020 2020  , x, y).        
-0001e4f0: 2320 7072 696e 7428 2270 6963 6b65 6420  # print("picked 
-0001e500: 566f 6c75 6d65 3a22 2c20 2020 5b70 6963  Volume:",   [pic
-0001e510: 6b65 722e 4765 7456 6f6c 756d 6528 295d  ker.GetVolume()]
-0001e520: 290a 2020 2020 2020 2020 2320 7072 696e  ).        # prin
-0001e530: 7428 2270 6963 6b65 6420 4163 746f 7232  t("picked Actor2
-0001e540: 443a 222c 2020 5b70 6963 6b65 722e 4765  D:",  [picker.Ge
-0001e550: 7441 6374 6f72 3244 2829 5d29 0a20 2020  tActor2D()]).   
-0001e560: 2020 2020 2023 2070 7269 6e74 2822 7069       # print("pi
-0001e570: 636b 6564 2041 7373 656d 626c 793a 222c  cked Assembly:",
-0001e580: 205b 7069 636b 6572 2e47 6574 4173 7365   [picker.GetAsse
-0001e590: 6d62 6c79 2829 5d29 0a20 2020 2020 2020  mbly()]).       
-0001e5a0: 2023 2070 7269 6e74 2822 7069 636b 6564   # print("picked
-0001e5b0: 2050 726f 7033 443a 222c 2020 205b 7069   Prop3D:",   [pi
-0001e5c0: 636b 6572 2e47 6574 5072 6f70 3344 2829  cker.GetProp3D()
-0001e5d0: 5d29 0a0a 2020 2020 2020 2020 2320 6368  ])..        # ch
-0001e5e0: 6563 6b20 6966 2061 6e79 2062 7574 746f  eck if any butto
-0001e5f0: 6e20 6f62 6a65 6374 7320 6172 6520 636c  n objects are cl
-0001e600: 6963 6b65 640a 2020 2020 2020 2020 636c  icked.        cl
-0001e610: 6963 6b65 645f 6163 746f 7232 4420 3d20  icked_actor2D = 
-0001e620: 7069 636b 6572 2e47 6574 4163 746f 7232  picker.GetActor2
-0001e630: 4428 290a 2020 2020 2020 2020 6966 2063  D().        if c
-0001e640: 6c69 636b 6564 5f61 6374 6f72 3244 3a0a  licked_actor2D:.
-0001e650: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0001e660: 6274 2069 6e20 7365 6c66 2e62 7574 746f  bt in self.butto
-0001e670: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0001e680: 2020 2020 6966 2063 6c69 636b 6564 5f61      if clicked_a
-0001e690: 6374 6f72 3244 203d 3d20 6274 2e61 6374  ctor2D == bt.act
-0001e6a0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-0001e6b0: 2020 2020 2020 2020 6274 2e66 756e 6374          bt.funct
-0001e6c0: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
-0001e6d0: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
-0001e6e0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0001e6f0: 636c 6963 6b65 645f 6163 746f 723a 0a20  clicked_actor:. 
-0001e700: 2020 2020 2020 2020 2020 2063 6c69 636b             click
-0001e710: 6564 5f61 6374 6f72 203d 2070 6963 6b65  ed_actor = picke
-0001e720: 722e 4765 7441 7373 656d 626c 7928 290a  r.GetAssembly().
-0001e730: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0001e740: 636c 6963 6b65 645f 6163 746f 723a 0a20  clicked_actor:. 
-0001e750: 2020 2020 2020 2020 2020 2063 6c69 636b             click
-0001e760: 6564 5f61 6374 6f72 203d 2070 6963 6b65  ed_actor = picke
-0001e770: 722e 4765 7450 726f 7033 4428 290a 0a20  r.GetProp3D().. 
-0001e780: 2020 2020 2020 2069 6620 6e6f 7420 6861         if not ha
-0001e790: 7361 7474 7228 636c 6963 6b65 645f 6163  sattr(clicked_ac
-0001e7a0: 746f 722c 2022 4765 7450 6963 6b61 626c  tor, "GetPickabl
-0001e7b0: 6522 2920 6f72 206e 6f74 2063 6c69 636b  e") or not click
-0001e7c0: 6564 5f61 6374 6f72 2e47 6574 5069 636b  ed_actor.GetPick
-0001e7d0: 6162 6c65 2829 3a0a 2020 2020 2020 2020  able():.        
-0001e7e0: 2020 2020 7265 7475 726e 0a0a 2020 2020      return..    
-0001e7f0: 2020 2020 7365 6c66 2e70 6963 6b65 6433      self.picked3
-0001e800: 6420 3d20 7069 636b 6572 2e47 6574 5069  d = picker.GetPi
-0001e810: 636b 506f 7369 7469 6f6e 2829 0a20 2020  ckPosition().   
-0001e820: 2020 2020 2073 656c 662e 7069 636b 6564       self.picked
-0001e830: 3264 203d 206e 702e 6172 7261 7928 5b78  2d = np.array([x
-0001e840: 2c20 795d 290a 0a20 2020 2020 2020 2069  , y])..        i
-0001e850: 6620 6e6f 7420 636c 6963 6b65 645f 6163  f not clicked_ac
-0001e860: 746f 723a 0a20 2020 2020 2020 2020 2020  tor:.           
-0001e870: 2072 6574 7572 6e0a 0a20 2020 2020 2020   return..       
-0001e880: 2073 656c 662e 6a75 7374 7265 6d6f 7665   self.justremove
-0001e890: 6420 3d20 4e6f 6e65 0a0a 2020 2020 2020  d = None..      
-0001e8a0: 2020 7365 6c66 2e63 6c69 636b 6564 5f61    self.clicked_a
-0001e8b0: 6374 6f72 203d 2063 6c69 636b 6564 5f61  ctor = clicked_a
-0001e8c0: 6374 6f72 0a20 2020 2020 2020 2069 6620  ctor.        if 
-0001e8d0: 6861 7361 7474 7228 636c 6963 6b65 645f  hasattr(clicked_
-0001e8e0: 6163 746f 722c 2022 7069 636b 6564 3364  actor, "picked3d
-0001e8f0: 2229 3a20 2023 206d 6967 6874 2062 6520  "):  # might be 
-0001e900: 6e6f 7420 6120 7665 646f 206f 626a 0a20  not a vedo obj. 
-0001e910: 2020 2020 2020 2020 2020 2063 6c69 636b             click
-0001e920: 6564 5f61 6374 6f72 2e70 6963 6b65 6433  ed_actor.picked3
-0001e930: 6420 3d20 7069 636b 6572 2e47 6574 5069  d = picker.GetPi
-0001e940: 636b 506f 7369 7469 6f6e 2829 0a20 2020  ckPosition().   
-0001e950: 2020 2020 2020 2020 2078 2c20 7920 3d20           x, y = 
-0001e960: 6972 656e 2e47 6574 4576 656e 7450 6f73  iren.GetEventPos
-0001e970: 6974 696f 6e28 290a 0a20 2020 2020 2020  ition()..       
-0001e980: 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20   # -----------. 
-0001e990: 2020 2020 2020 2069 6620 2248 6973 746f         if "Histo
-0001e9a0: 6772 616d 3144 2220 696e 2073 7472 2874  gram1D" in str(t
-0001e9b0: 7970 6528 7069 636b 6572 2e47 6574 4173  ype(picker.GetAs
-0001e9c0: 7365 6d62 6c79 2829 2929 3a0a 2020 2020  sembly())):.    
-0001e9d0: 2020 2020 2020 2020 6869 7374 6f20 3d20          histo = 
-0001e9e0: 7069 636b 6572 2e47 6574 4173 7365 6d62  picker.GetAssemb
-0001e9f0: 6c79 2829 0a20 2020 2020 2020 2020 2020  ly().           
-0001ea00: 2078 203d 2073 656c 662e 7069 636b 6564   x = self.picked
-0001ea10: 3364 5b30 5d0a 2020 2020 2020 2020 2020  3d[0].          
-0001ea20: 2020 6964 7820 3d20 6e70 2e64 6967 6974    idx = np.digit
-0001ea30: 697a 6528 782c 2068 6973 746f 2e65 6467  ize(x, histo.edg
-0001ea40: 6573 2920 2d20 310a 2020 2020 2020 2020  es) - 1.        
-0001ea50: 2020 2020 6620 3d20 6869 7374 6f2e 6672      f = histo.fr
-0001ea60: 6571 7565 6e63 6965 735b 6964 785d 0a20  equencies[idx]. 
-0001ea70: 2020 2020 2020 2020 2020 2063 6e20 3d20             cn = 
-0001ea80: 6869 7374 6f2e 6365 6e74 6572 735b 6964  histo.centers[id
-0001ea90: 785d 0a20 2020 2020 2020 2020 2020 2076  x].            v
-0001eaa0: 6564 6f2e 636f 6c6f 7273 2e70 7269 6e74  edo.colors.print
-0001eab0: 6328 6622 7b68 6973 746f 2e6e 616d 657d  c(f"{histo.name}
-0001eac0: 2c20 6269 6e3d 7b69 6478 7d2c 2063 656e  , bin={idx}, cen
-0001ead0: 7465 723d 7b63 6e7d 2c20 7661 6c75 653d  ter={cn}, value=
-0001eae0: 7b66 7d22 290a 0a0a 2020 2020 2323 2323  {f}")...    ####
-0001eaf0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001eb00: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001eb10: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001eb20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0001eb30: 2323 230a 2020 2020 6465 6620 5f6b 6579  ###.    def _key
-0001eb40: 7072 6573 7328 7365 6c66 2c20 6972 656e  press(self, iren
-0001eb50: 2c20 6576 656e 7429 3a0a 0a20 2020 2020  , event):..     
-0001eb60: 2020 2023 204e 423a 2071 7420 6372 6561     # NB: qt crea
-0001eb70: 7465 7320 616e 6420 7061 7373 6573 2061  tes and passes a
-0001eb80: 2076 746b 4765 6e65 7269 6352 656e 6465   vtkGenericRende
-0001eb90: 7257 696e 646f 7749 6e74 6572 6163 746f  rWindowInteracto
-0001eba0: 720a 0a20 2020 2020 2020 206b 6579 203d  r..        key =
-0001ebb0: 2069 7265 6e2e 4765 744b 6579 5379 6d28   iren.GetKeySym(
-0001ebc0: 290a 0a20 2020 2020 2020 2069 6620 225f  )..        if "_
-0001ebd0: 4c22 2069 6e20 6b65 7920 6f72 2022 5f52  L" in key or "_R
-0001ebe0: 2220 696e 206b 6579 3a0a 2020 2020 2020  " in key:.      
-0001ebf0: 2020 2020 2020 7265 7475 726e 0a0a 2020        return..  
-0001ec00: 2020 2020 2020 6966 2069 7265 6e2e 4765        if iren.Ge
-0001ec10: 7453 6869 6674 4b65 7928 293a 0a20 2020  tShiftKey():.   
-0001ec20: 2020 2020 2020 2020 206b 6579 203d 206b           key = k
-0001ec30: 6579 2e75 7070 6572 2829 0a0a 2020 2020  ey.upper()..    
-0001ec40: 2020 2020 6966 2069 7265 6e2e 4765 7443      if iren.GetC
-0001ec50: 6f6e 7472 6f6c 4b65 7928 293a 0a20 2020  ontrolKey():.   
-0001ec60: 2020 2020 2020 2020 206b 6579 203d 2022           key = "
-0001ec70: 4374 726c 2b22 202b 206b 6579 0a0a 2020  Ctrl+" + key..  
-0001ec80: 2020 2020 2020 6966 2069 7265 6e2e 4765        if iren.Ge
-0001ec90: 7441 6c74 4b65 7928 293a 0a20 2020 2020  tAltKey():.     
-0001eca0: 2020 2020 2020 206b 6579 203d 2022 416c         key = "Al
-0001ecb0: 742b 2220 2b20 6b65 790a 0a20 2020 2020  t+" + key..     
-0001ecc0: 2020 2023 2075 7469 6c73 2e76 6564 6f2e     # utils.vedo.
-0001ecd0: 7072 696e 7463 2827 5072 6573 7365 6420  printc('Pressed 
-0001ece0: 6b65 793a 272c 206b 6579 2c20 633d 2779  key:', key, c='y
-0001ecf0: 272c 2062 6f78 3d27 2d27 290a 2020 2020  ', box='-').    
-0001ed00: 2020 2020 2320 7072 696e 7428 6b65 792c      # print(key,
-0001ed10: 2069 7265 6e2e 4765 7453 6869 6674 4b65   iren.GetShiftKe
-0001ed20: 7928 292c 2069 7265 6e2e 4765 7441 6c74  y(), iren.GetAlt
-0001ed30: 4b65 7928 292c 2069 7265 6e2e 4765 7443  Key(), iren.GetC
-0001ed40: 6f6e 7472 6f6c 4b65 7928 292c 0a20 2020  ontrolKey(),.   
-0001ed50: 2020 2020 2023 2020 2020 2020 2069 7265       #       ire
-0001ed60: 6e2e 4765 744b 6579 436f 6465 2829 2c20  n.GetKeyCode(), 
-0001ed70: 6972 656e 2e47 6574 5265 7065 6174 436f  iren.GetRepeatCo
-0001ed80: 756e 7428 2929 0a20 2020 2020 2020 2023  unt()).        #
-0001ed90: 2069 7265 6e2e 4578 6974 4361 6c6c 6261   iren.ExitCallba
-0001eda0: 636b 2829 0a20 2020 2020 2020 2023 2072  ck().        # r
-0001edb0: 6574 7572 6e0a 0a20 2020 2020 2020 2078  eturn..        x
-0001edc0: 2c20 7920 3d20 6972 656e 2e47 6574 4576  , y = iren.GetEv
-0001edd0: 656e 7450 6f73 6974 696f 6e28 290a 2020  entPosition().  
-0001ede0: 2020 2020 2020 7265 6e64 6572 6572 203d        renderer =
-0001edf0: 2069 7265 6e2e 4669 6e64 506f 6b65 6452   iren.FindPokedR
-0001ee00: 656e 6465 7265 7228 782c 2079 290a 0a20  enderer(x, y).. 
-0001ee10: 2020 2020 2020 2069 6620 6b65 7920 696e         if key in
-0001ee20: 205b 2271 222c 2022 4374 726c 2b71 222c   ["q", "Ctrl+q",
-0001ee30: 2022 4374 726c 2b77 222c 2022 7370 6163   "Ctrl+w", "spac
-0001ee40: 6522 2c20 2252 6574 7572 6e22 2c20 2245  e", "Return", "E
-0001ee50: 7363 6170 6522 5d3a 0a20 2020 2020 2020  scape"]:.       
-0001ee60: 2020 2020 2069 7265 6e2e 4578 6974 4361       iren.ExitCa
-0001ee70: 6c6c 6261 636b 2829 0a20 2020 2020 2020  llback().       
-0001ee80: 2020 2020 2072 6574 7572 6e0a 0a20 2020       return..   
-0001ee90: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
-0001eea0: 2022 4631 223a 0a20 2020 2020 2020 2020   "F1":.         
-0001eeb0: 2020 2076 6564 6f2e 6c6f 6767 6572 2e69     vedo.logger.i
-0001eec0: 6e66 6f28 2245 7865 6375 7469 6f6e 2061  nfo("Execution a
-0001eed0: 626f 7274 6564 2e20 4578 6974 696e 6720  borted. Exiting 
-0001eee0: 7079 7468 6f6e 206b 6572 6e65 6c20 6e6f  python kernel no
-0001eef0: 772e 2229 0a20 2020 2020 2020 2020 2020  w.").           
-0001ef00: 2069 7265 6e2e 4578 6974 4361 6c6c 6261   iren.ExitCallba
-0001ef10: 636b 2829 0a20 2020 2020 2020 2020 2020  ck().           
-0001ef20: 2073 7973 2e65 7869 7428 3029 0a0a 2020   sys.exit(0)..  
-0001ef30: 2020 2020 2020 656c 6966 206b 6579 203d        elif key =
-0001ef40: 3d20 2244 6f77 6e22 3a0a 2020 2020 2020  = "Down":.      
-0001ef50: 2020 2020 2020 6966 2073 656c 662e 636c        if self.cl
-0001ef60: 6963 6b65 645f 6163 746f 7220 696e 2073  icked_actor in s
-0001ef70: 656c 662e 6765 745f 6d65 7368 6573 2829  elf.get_meshes()
-0001ef80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001ef90: 2020 7365 6c66 2e63 6c69 636b 6564 5f61    self.clicked_a
-0001efa0: 6374 6f72 2e47 6574 5072 6f70 6572 7479  ctor.GetProperty
-0001efb0: 2829 2e53 6574 4f70 6163 6974 7928 302e  ().SetOpacity(0.
-0001efc0: 3032 290a 2020 2020 2020 2020 2020 2020  02).            
-0001efd0: 2020 2020 6266 7020 3d20 7365 6c66 2e63      bfp = self.c
-0001efe0: 6c69 636b 6564 5f61 6374 6f72 2e47 6574  licked_actor.Get
-0001eff0: 4261 636b 6661 6365 5072 6f70 6572 7479  BackfaceProperty
-0001f000: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0001f010: 2020 2069 6620 6266 7020 616e 6420 6861     if bfp and ha
-0001f020: 7361 7474 7228 7365 6c66 2e63 6c69 636b  sattr(self.click
-0001f030: 6564 5f61 6374 6f72 2c20 225f 6266 7072  ed_actor, "_bfpr
-0001f040: 6f70 2229 3a0a 2020 2020 2020 2020 2020  op"):.          
-0001f050: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-0001f060: 6c69 636b 6564 5f61 6374 6f72 2e5f 6266  licked_actor._bf
-0001f070: 7072 6f70 203d 2062 6670 2020 2320 7361  prop = bfp  # sa
-0001f080: 7665 2069 740a 2020 2020 2020 2020 2020  ve it.          
-0001f090: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-0001f0a0: 6c69 636b 6564 5f61 6374 6f72 2e53 6574  licked_actor.Set
-0001f0b0: 4261 636b 6661 6365 5072 6f70 6572 7479  BackfaceProperty
-0001f0c0: 284e 6f6e 6529 0a20 2020 2020 2020 2020  (None).         
-0001f0d0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001f0e0: 2020 2020 2020 2020 2066 6f72 2061 2069           for a i
-0001f0f0: 6e20 7365 6c66 2e67 6574 5f6d 6573 6865  n self.get_meshe
-0001f100: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
-0001f110: 2020 2020 2020 2020 2069 6620 612e 4765           if a.Ge
-0001f120: 7450 6963 6b61 626c 6528 293a 0a20 2020  tPickable():.   
-0001f130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f140: 2020 2020 2061 2e47 6574 5072 6f70 6572       a.GetProper
-0001f150: 7479 2829 2e53 6574 4f70 6163 6974 7928  ty().SetOpacity(
-0001f160: 302e 3032 290a 2020 2020 2020 2020 2020  0.02).          
-0001f170: 2020 2020 2020 2020 2020 2020 2020 6266                bf
-0001f180: 7020 3d20 612e 4765 7442 6163 6b66 6163  p = a.GetBackfac
-0001f190: 6550 726f 7065 7274 7928 290a 2020 2020  eProperty().    
-0001f1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1b0: 2020 2020 6966 2062 6670 2061 6e64 2068      if bfp and h
-0001f1c0: 6173 6174 7472 2861 2c20 225f 6266 7072  asattr(a, "_bfpr
-0001f1d0: 6f70 2229 3a0a 2020 2020 2020 2020 2020  op"):.          
-0001f1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1f0: 2020 612e 5f62 6670 726f 7020 3d20 6266    a._bfprop = bf
-0001f200: 700a 2020 2020 2020 2020 2020 2020 2020  p.              
-0001f210: 2020 2020 2020 2020 2020 2020 2020 612e                a.
-0001f220: 5365 7442 6163 6b66 6163 6550 726f 7065  SetBackfacePrope
-0001f230: 7274 7928 4e6f 6e65 290a 0a20 2020 2020  rty(None)..     
-0001f240: 2020 2065 6c69 6620 6b65 7920 3d3d 2022     elif key == "
-0001f250: 4c65 6674 223a 0a20 2020 2020 2020 2020  Left":.         
-0001f260: 2020 2069 6620 7365 6c66 2e63 6c69 636b     if self.click
-0001f270: 6564 5f61 6374 6f72 2069 6e20 7365 6c66  ed_actor in self
-0001f280: 2e67 6574 5f6d 6573 6865 7328 293a 0a20  .get_meshes():. 
-0001f290: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0001f2a0: 7020 3d20 7365 6c66 2e63 6c69 636b 6564  p = self.clicked
-0001f2b0: 5f61 6374 6f72 2e47 6574 5072 6f70 6572  _actor.GetProper
-0001f2c0: 7479 2829 0a20 2020 2020 2020 2020 2020  ty().           
-0001f2d0: 2020 2020 2061 616c 203d 206d 6178 285b       aal = max([
-0001f2e0: 6170 2e47 6574 4f70 6163 6974 7928 2920  ap.GetOpacity() 
-0001f2f0: 2a20 302e 3735 2c20 302e 3031 5d29 0a20  * 0.75, 0.01]). 
-0001f300: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0001f310: 702e 5365 744f 7061 6369 7479 2861 616c  p.SetOpacity(aal
-0001f320: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001f330: 2020 6266 7020 3d20 7365 6c66 2e63 6c69    bfp = self.cli
-0001f340: 636b 6564 5f61 6374 6f72 2e47 6574 4261  cked_actor.GetBa
-0001f350: 636b 6661 6365 5072 6f70 6572 7479 2829  ckfaceProperty()
-0001f360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001f370: 2069 6620 6266 7020 616e 6420 6861 7361   if bfp and hasa
-0001f380: 7474 7228 7365 6c66 2e63 6c69 636b 6564  ttr(self.clicked
-0001f390: 5f61 6374 6f72 2c20 225f 6266 7072 6f70  _actor, "_bfprop
-0001f3a0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-0001f3b0: 2020 2020 2020 2020 7365 6c66 2e63 6c69          self.cli
-0001f3c0: 636b 6564 5f61 6374 6f72 2e5f 6266 7072  cked_actor._bfpr
-0001f3d0: 6f70 203d 2062 6670 0a20 2020 2020 2020  op = bfp.       
-0001f3e0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0001f3f0: 662e 636c 6963 6b65 645f 6163 746f 722e  f.clicked_actor.
-0001f400: 5365 7442 6163 6b66 6163 6550 726f 7065  SetBackfacePrope
-0001f410: 7274 7928 4e6f 6e65 290a 2020 2020 2020  rty(None).      
-0001f420: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001f430: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0001f440: 6120 696e 2073 656c 662e 6765 745f 6d65  a in self.get_me
-0001f450: 7368 6573 2829 3a0a 2020 2020 2020 2020  shes():.        
-0001f460: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-0001f470: 2e47 6574 5069 636b 6162 6c65 2829 3a0a  .GetPickable():.
-0001f480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f490: 2020 2020 2020 2020 6170 203d 2061 2e47          ap = a.G
-0001f4a0: 6574 5072 6f70 6572 7479 2829 0a20 2020  etProperty().   
-0001f4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f4c0: 2020 2020 2061 616c 203d 206d 6178 285b       aal = max([
-0001f4d0: 6170 2e47 6574 4f70 6163 6974 7928 2920  ap.GetOpacity() 
-0001f4e0: 2a20 302e 3735 2c20 302e 3031 5d29 0a20  * 0.75, 0.01]). 
-0001f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f500: 2020 2020 2020 2061 702e 5365 744f 7061         ap.SetOpa
-0001f510: 6369 7479 2861 616c 290a 2020 2020 2020  city(aal).      
+00019f40: 2323 2323 2323 230a 0a20 2020 2020 2020  #######..       
+00019f50: 2066 6f72 2069 6120 696e 2075 7469 6c73   for ia in utils
+00019f60: 2e66 6c61 7474 656e 2861 6374 6f72 7329  .flatten(actors)
+00019f70: 3a0a 2020 2020 2020 2020 2020 2020 0a20  :.            . 
+00019f80: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+00019f90: 696e 7374 616e 6365 2869 612c 2076 6564  instance(ia, ved
+00019fa0: 6f2e 6261 7365 2e42 6173 6533 4450 726f  o.base.Base3DPro
+00019fb0: 7029 3a0a 0a20 2020 2020 2020 2020 2020  p):..           
+00019fc0: 2020 2020 2069 6620 6961 2e5f 6973 666f       if ia._isfo
+00019fd0: 6c6c 6f77 6572 3a20 2023 2073 6574 2062  llower:  # set b
+00019fe0: 7920 6d65 7368 2e66 6f6c 6c6f 775f 6361  y mesh.follow_ca
+00019ff0: 6d65 7261 2829 0a20 2020 2020 2020 2020  mera().         
+0001a000: 2020 2020 2020 2020 2020 2069 612e 5365             ia.Se
+0001a010: 7443 616d 6572 6128 7365 6c66 2e63 616d  tCamera(self.cam
+0001a020: 6572 6129 0a0a 2020 2020 2020 2020 2020  era)..          
+0001a030: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0001a040: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001a050: 2066 6978 2067 7261 7920 636f 6c6f 7220   fix gray color 
+0001a060: 6c61 6265 6c73 2061 6e64 2074 6974 6c65  labels and title
+0001a070: 2074 6f20 7768 6974 6520 6f72 2062 6c61   to white or bla
+0001a080: 636b 0a20 2020 2020 2020 2020 2020 2020  ck.             
+0001a090: 2020 2020 2020 206c 7463 203d 206e 702e         ltc = np.
+0001a0a0: 6172 7261 7928 6961 2e73 6361 6c61 7262  array(ia.scalarb
+0001a0b0: 6172 2e47 6574 4c61 6265 6c54 6578 7450  ar.GetLabelTextP
+0001a0c0: 726f 7065 7274 7928 292e 4765 7443 6f6c  roperty().GetCol
+0001a0d0: 6f72 2829 290a 2020 2020 2020 2020 2020  or()).          
+0001a0e0: 2020 2020 2020 2020 2020 6966 206e 702e            if np.
+0001a0f0: 6c69 6e61 6c67 2e6e 6f72 6d28 6c74 6320  linalg.norm(ltc 
+0001a100: 2d20 2830 2e35 2c20 302e 352c 2030 2e35  - (0.5, 0.5, 0.5
+0001a110: 2929 202f 2033 203c 2030 2e30 353a 0a20  )) / 3 < 0.05:. 
+0001a120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a130: 2020 2020 2020 2063 203d 2028 302e 392c         c = (0.9,
+0001a140: 2030 2e39 2c20 302e 3929 0a20 2020 2020   0.9, 0.9).     
+0001a150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a160: 2020 2069 6620 6e70 2e73 756d 2873 656c     if np.sum(sel
+0001a170: 662e 7265 6e64 6572 6572 2e47 6574 4261  f.renderer.GetBa
+0001a180: 636b 6772 6f75 6e64 2829 2920 3e20 312e  ckground()) > 1.
+0001a190: 353a 0a20 2020 2020 2020 2020 2020 2020  5:.             
+0001a1a0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0001a1b0: 203d 2028 302e 312c 2030 2e31 2c20 302e   = (0.1, 0.1, 0.
+0001a1c0: 3129 0a20 2020 2020 2020 2020 2020 2020  1).             
+0001a1d0: 2020 2020 2020 2020 2020 2069 612e 7363             ia.sc
+0001a1e0: 616c 6172 6261 722e 4765 744c 6162 656c  alarbar.GetLabel
+0001a1f0: 5465 7874 5072 6f70 6572 7479 2829 2e53  TextProperty().S
+0001a200: 6574 436f 6c6f 7228 6329 0a20 2020 2020  etColor(c).     
+0001a210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a220: 2020 2069 612e 7363 616c 6172 6261 722e     ia.scalarbar.
+0001a230: 4765 7454 6974 6c65 5465 7874 5072 6f70  GetTitleTextProp
+0001a240: 6572 7479 2829 2e53 6574 436f 6c6f 7228  erty().SetColor(
+0001a250: 6329 0a20 2020 2020 2020 2020 2020 2020  c).             
+0001a260: 2020 2065 7863 6570 7420 4174 7472 6962     except Attrib
+0001a270: 7574 6545 7272 6f72 3a0a 2020 2020 2020  uteError:.      
+0001a280: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+0001a290: 7373 0a0a 2020 2020 2020 2020 6966 2073  ss..        if s
+0001a2a0: 656c 662e 7368 6172 6563 616d 3a0a 2020  elf.sharecam:.  
+0001a2b0: 2020 2020 2020 2020 2020 666f 7220 7220            for r 
+0001a2c0: 696e 2073 656c 662e 7265 6e64 6572 6572  in self.renderer
+0001a2d0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+0001a2e0: 2020 2072 2e53 6574 4163 7469 7665 4361     r.SetActiveCa
+0001a2f0: 6d65 7261 2873 656c 662e 6361 6d65 7261  mera(self.camera
+0001a300: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
+0001a310: 6c66 2e71 745f 7769 6467 6574 2069 7320  lf.qt_widget is 
+0001a320: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+0001a330: 2020 2020 2020 7365 6c66 2e71 745f 7769        self.qt_wi
+0001a340: 6467 6574 2e47 6574 5265 6e64 6572 5769  dget.GetRenderWi
+0001a350: 6e64 6f77 2829 2e41 6464 5265 6e64 6572  ndow().AddRender
+0001a360: 6572 2873 656c 662e 7265 6e64 6572 6572  er(self.renderer
+0001a370: 290a 0a0a 2020 2020 2020 2020 6966 2073  )...        if s
+0001a380: 656c 662e 6178 6573 2069 7320 6e6f 7420  elf.axes is not 
+0001a390: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0001a3a0: 2020 6966 2076 6965 7775 7020 213d 2022    if viewup != "
+0001a3b0: 3264 2220 6f72 2073 656c 662e 6178 6573  2d" or self.axes
+0001a3c0: 2069 6e20 5b31 2c20 385d 206f 7220 6973   in [1, 8] or is
+0001a3d0: 696e 7374 616e 6365 2873 656c 662e 6178  instance(self.ax
+0001a3e0: 6573 2c20 6469 6374 293a 0a20 2020 2020  es, dict):.     
+0001a3f0: 2020 2020 2020 2020 2020 2062 6e73 203d             bns =
+0001a400: 2073 656c 662e 7265 6e64 6572 6572 2e43   self.renderer.C
+0001a410: 6f6d 7075 7465 5669 7369 626c 6550 726f  omputeVisiblePro
+0001a420: 7042 6f75 6e64 7328 290a 2020 2020 2020  pBounds().      
+0001a430: 2020 2020 2020 2020 2020 6164 646f 6e73            addons
+0001a440: 2e61 6464 5f67 6c6f 6261 6c5f 6178 6573  .add_global_axes
+0001a450: 2873 656c 662e 6178 6573 2c20 626f 756e  (self.axes, boun
+0001a460: 6473 3d62 6e73 290a 0a20 2020 2020 2020  ds=bns)..       
+0001a470: 2023 2323 2323 2323 2323 2323 2323 2323   ###############
+0001a480: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001a490: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001a4a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001a4b0: 2323 2323 2323 2323 2323 0a20 2020 2020  ##########.     
+0001a4c0: 2020 2069 6620 7365 7474 696e 6773 2e64     if settings.d
+0001a4d0: 6566 6175 6c74 5f62 6163 6b65 6e64 2069  efault_backend i
+0001a4e0: 6e20 5b22 6970 7976 746b 222c 2022 7472  n ["ipyvtk", "tr
+0001a4f0: 616d 6522 5d3a 0a20 2020 2020 2020 2020  ame"]:.         
+0001a500: 2020 2072 6574 7572 6e20 6261 636b 656e     return backen
+0001a510: 6473 2e67 6574 5f6e 6f74 6562 6f6f 6b5f  ds.get_notebook_
+0001a520: 6261 636b 656e 6428 290a 2020 2020 2020  backend().      
+0001a530: 2020 2323 2323 2323 2323 2323 2323 2323    ##############
+0001a540: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001a550: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001a560: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001a570: 2323 2323 2323 2323 2323 230a 0a20 2020  ###########..   
+0001a580: 2020 2020 2069 6620 7365 6c66 2e72 6573       if self.res
+0001a590: 6574 6361 6d3a 0a20 2020 2020 2020 2020  etcam:.         
+0001a5a0: 2020 2073 656c 662e 7265 6e64 6572 6572     self.renderer
+0001a5b0: 2e52 6573 6574 4361 6d65 7261 2829 0a0a  .ResetCamera()..
+0001a5c0: 2020 2020 2020 2020 6966 206c 656e 2873          if len(s
+0001a5d0: 656c 662e 7265 6e64 6572 6572 7329 203e  elf.renderers) >
+0001a5e0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
+0001a5f0: 7365 6c66 2e61 6464 5f72 656e 6465 7265  self.add_rendere
+0001a600: 725f 6672 616d 6528 290a 0a20 2020 2020  r_frame()..     
+0001a610: 2020 2069 6620 7365 7474 696e 6773 2e64     if settings.d
+0001a620: 6566 6175 6c74 5f62 6163 6b65 6e64 203d  efault_backend =
+0001a630: 3d20 2232 6422 2061 6e64 206e 6f74 207a  = "2d" and not z
+0001a640: 6f6f 6d3a 0a20 2020 2020 2020 2020 2020  oom:.           
+0001a650: 207a 6f6f 6d20 3d20 2274 6967 6874 6573   zoom = "tightes
+0001a660: 7422 0a0a 2020 2020 2020 2020 6966 207a  t"..        if z
+0001a670: 6f6f 6d3a 0a20 2020 2020 2020 2020 2020  oom:.           
+0001a680: 2069 6620 7a6f 6f6d 203d 3d20 2274 6967   if zoom == "tig
+0001a690: 6874 223a 0a20 2020 2020 2020 2020 2020  ht":.           
+0001a6a0: 2020 2020 2073 656c 662e 7265 7365 745f       self.reset_
+0001a6b0: 6361 6d65 7261 2874 6967 6874 3d30 2e30  camera(tight=0.0
+0001a6c0: 3429 0a20 2020 2020 2020 2020 2020 2065  4).            e
+0001a6d0: 6c69 6620 7a6f 6f6d 203d 3d20 2274 6967  lif zoom == "tig
+0001a6e0: 6874 6573 7422 3a0a 2020 2020 2020 2020  htest":.        
+0001a6f0: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
+0001a700: 6574 5f63 616d 6572 6128 7469 6768 743d  et_camera(tight=
+0001a710: 302e 3030 3031 290a 2020 2020 2020 2020  0.0001).        
+0001a720: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001a730: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
+0001a740: 616d 6572 612e 5a6f 6f6d 287a 6f6f 6d29  amera.Zoom(zoom)
+0001a750: 0a20 2020 2020 2020 2069 6620 656c 6576  .        if elev
+0001a760: 6174 696f 6e3a 0a20 2020 2020 2020 2020  ation:.         
+0001a770: 2020 2073 656c 662e 6361 6d65 7261 2e45     self.camera.E
+0001a780: 6c65 7661 7469 6f6e 2865 6c65 7661 7469  levation(elevati
+0001a790: 6f6e 290a 2020 2020 2020 2020 6966 2061  on).        if a
+0001a7a0: 7a69 6d75 7468 3a0a 2020 2020 2020 2020  zimuth:.        
+0001a7b0: 2020 2020 7365 6c66 2e63 616d 6572 612e      self.camera.
+0001a7c0: 417a 696d 7574 6828 617a 696d 7574 6829  Azimuth(azimuth)
+0001a7d0: 0a20 2020 2020 2020 2069 6620 726f 6c6c  .        if roll
+0001a7e0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001a7f0: 6c66 2e63 616d 6572 612e 526f 6c6c 2872  lf.camera.Roll(r
+0001a800: 6f6c 6c29 0a0a 2020 2020 2020 2020 6966  oll)..        if
+0001a810: 206c 656e 2876 6965 7775 7029 203e 2030   len(viewup) > 0
+0001a820: 3a0a 2020 2020 2020 2020 2020 2020 6220  :.            b 
+0001a830: 3d20 7365 6c66 2e72 656e 6465 7265 722e  = self.renderer.
+0001a840: 436f 6d70 7574 6556 6973 6962 6c65 5072  ComputeVisiblePr
+0001a850: 6f70 426f 756e 6473 2829 0a20 2020 2020  opBounds().     
+0001a860: 2020 2020 2020 2063 6d20 3d20 6e70 2e61         cm = np.a
+0001a870: 7272 6179 285b 2862 5b31 5d20 2b20 625b  rray([(b[1] + b[
+0001a880: 305d 2920 2f20 322c 2028 625b 335d 202b  0]) / 2, (b[3] +
+0001a890: 2062 5b32 5d29 202f 2032 2c20 2862 5b35   b[2]) / 2, (b[5
+0001a8a0: 5d20 2b20 625b 345d 2920 2f20 325d 290a  ] + b[4]) / 2]).
+0001a8b0: 2020 2020 2020 2020 2020 2020 737a 203d              sz =
+0001a8c0: 206e 702e 6172 7261 7928 5b28 625b 315d   np.array([(b[1]
+0001a8d0: 202d 2062 5b30 5d29 2c20 2862 5b33 5d20   - b[0]), (b[3] 
+0001a8e0: 2d20 625b 325d 292c 2028 625b 355d 202d  - b[2]), (b[5] -
+0001a8f0: 2062 5b34 5d29 5d29 0a20 2020 2020 2020   b[4])]).       
+0001a900: 2020 2020 2069 6620 7669 6577 7570 203d       if viewup =
+0001a910: 3d20 2278 223a 0a20 2020 2020 2020 2020  = "x":.         
+0001a920: 2020 2020 2020 2073 7a20 3d20 6e70 2e6c         sz = np.l
+0001a930: 696e 616c 672e 6e6f 726d 2873 7a29 0a20  inalg.norm(sz). 
+0001a940: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001a950: 656c 662e 6361 6d65 7261 2e53 6574 5669  elf.camera.SetVi
+0001a960: 6577 5570 285b 312c 2030 2c20 305d 290a  ewUp([1, 0, 0]).
+0001a970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a980: 7365 6c66 2e63 616d 6572 612e 5365 7450  self.camera.SetP
+0001a990: 6f73 6974 696f 6e28 636d 202b 2073 7a29  osition(cm + sz)
+0001a9a0: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+0001a9b0: 6620 7669 6577 7570 203d 3d20 2279 223a  f viewup == "y":
+0001a9c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a9d0: 2073 7a20 3d20 6e70 2e6c 696e 616c 672e   sz = np.linalg.
+0001a9e0: 6e6f 726d 2873 7a29 0a20 2020 2020 2020  norm(sz).       
+0001a9f0: 2020 2020 2020 2020 2073 656c 662e 6361           self.ca
+0001aa00: 6d65 7261 2e53 6574 5669 6577 5570 285b  mera.SetViewUp([
+0001aa10: 302c 2031 2c20 305d 290a 2020 2020 2020  0, 1, 0]).      
+0001aa20: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
+0001aa30: 616d 6572 612e 5365 7450 6f73 6974 696f  amera.SetPositio
+0001aa40: 6e28 636d 202b 2073 7a29 0a20 2020 2020  n(cm + sz).     
+0001aa50: 2020 2020 2020 2065 6c69 6620 7669 6577         elif view
+0001aa60: 7570 203d 3d20 227a 223a 0a20 2020 2020  up == "z":.     
+0001aa70: 2020 2020 2020 2020 2020 2073 7a20 3d20             sz = 
+0001aa80: 6e70 2e61 7272 6179 285b 2862 5b31 5d20  np.array([(b[1] 
+0001aa90: 2d20 625b 305d 2920 2a20 302e 372c 202d  - b[0]) * 0.7, -
+0001aaa0: 2862 5b33 5d20 2d20 625b 325d 2920 2a20  (b[3] - b[2]) * 
+0001aab0: 312e 302c 2028 625b 355d 202d 2062 5b34  1.0, (b[5] - b[4
+0001aac0: 5d29 202a 2031 2e32 5d29 0a20 2020 2020  ]) * 1.2]).     
+0001aad0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001aae0: 6361 6d65 7261 2e53 6574 5669 6577 5570  camera.SetViewUp
+0001aaf0: 285b 302c 2030 2c20 315d 290a 2020 2020  ([0, 0, 1]).    
+0001ab00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001ab10: 2e63 616d 6572 612e 5365 7450 6f73 6974  .camera.SetPosit
+0001ab20: 696f 6e28 636d 202b 2032 202a 2073 7a29  ion(cm + 2 * sz)
+0001ab30: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+0001ab40: 6620 7574 696c 732e 6973 5f73 6571 7565  f utils.is_seque
+0001ab50: 6e63 6528 7669 6577 7570 293a 0a20 2020  nce(viewup):.   
+0001ab60: 2020 2020 2020 2020 2020 2020 2073 7a20               sz 
+0001ab70: 3d20 6e70 2e6c 696e 616c 672e 6e6f 726d  = np.linalg.norm
+0001ab80: 2873 7a29 0a20 2020 2020 2020 2020 2020  (sz).           
+0001ab90: 2020 2020 2073 656c 662e 6361 6d65 7261       self.camera
+0001aba0: 2e53 6574 5669 6577 5570 2876 6965 7775  .SetViewUp(viewu
+0001abb0: 7029 0a20 2020 2020 2020 2020 2020 2020  p).             
+0001abc0: 2020 2063 706f 7320 3d20 6e70 2e63 726f     cpos = np.cro
+0001abd0: 7373 285b 302c 2031 2c20 305d 2c20 7669  ss([0, 1, 0], vi
+0001abe0: 6577 7570 290a 2020 2020 2020 2020 2020  ewup).          
+0001abf0: 2020 2020 2020 7365 6c66 2e63 616d 6572        self.camer
+0001ac00: 612e 5365 7450 6f73 6974 696f 6e28 636d  a.SetPosition(cm
+0001ac10: 202d 2032 202a 2073 7a20 2a20 6370 6f73   - 2 * sz * cpos
+0001ac20: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+0001ac30: 7265 6e64 6572 6572 2e52 6573 6574 4361  renderer.ResetCa
+0001ac40: 6d65 7261 436c 6970 7069 6e67 5261 6e67  meraClippingRang
+0001ac50: 6528 290a 0a20 2020 2020 2020 2069 6620  e()..        if 
+0001ac60: 7365 6c66 2e69 6e74 6572 6163 746f 7220  self.interactor 
+0001ac70: 616e 6420 6e6f 7420 7365 6c66 2e69 6e74  and not self.int
+0001ac80: 6572 6163 746f 722e 4765 7449 6e69 7469  eractor.GetIniti
+0001ac90: 616c 697a 6564 2829 3a0a 2020 2020 2020  alized():.      
+0001aca0: 2020 2020 2020 7365 6c66 2e69 6e74 6572        self.inter
+0001acb0: 6163 746f 722e 496e 6974 6961 6c69 7a65  actor.Initialize
+0001acc0: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+0001acd0: 656c 662e 696e 7465 7261 6374 6f72 2e52  elf.interactor.R
+0001ace0: 656d 6f76 654f 6273 6572 7665 7273 2822  emoveObservers("
+0001acf0: 4368 6172 4576 656e 7422 290a 0a20 2020  CharEvent")..   
+0001ad00: 2020 2020 2069 6620 7365 7474 696e 6773       if settings
+0001ad10: 2e69 6d6d 6564 6961 7465 5f72 656e 6465  .immediate_rende
+0001ad20: 7269 6e67 3a0a 2020 2020 2020 2020 2020  ring:.          
+0001ad30: 2020 7365 6c66 2e77 696e 646f 772e 5265    self.window.Re
+0001ad40: 6e64 6572 2829 2020 2323 2323 2323 2323  nder()  ########
+0001ad50: 2323 2323 2323 2323 2323 2323 2320 3c2d  ############# <-
+0001ad60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 5265  ------------- Re
+0001ad70: 6e64 6572 0a0a 2020 2020 2020 2020 2320  nder..        # 
+0001ad80: 3264 2023 2323 2323 2323 2323 2323 2323  2d #############
+0001ad90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001ada0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001adb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001adc0: 2323 2323 2323 230a 2020 2020 2020 2020  #######.        
+0001add0: 6966 2073 6574 7469 6e67 732e 6465 6661  if settings.defa
+0001ade0: 756c 745f 6261 636b 656e 6420 3d3d 2022  ult_backend == "
+0001adf0: 3264 223a 0a20 2020 2020 2020 2020 2020  2d":.           
+0001ae00: 2072 6574 7572 6e20 6261 636b 656e 6473   return backends
+0001ae10: 2e67 6574 5f6e 6f74 6562 6f6f 6b5f 6261  .get_notebook_ba
+0001ae20: 636b 656e 6428 290a 2020 2020 2020 2020  ckend().        
+0001ae30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001ae40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001ae50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001ae60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001ae70: 2323 2323 2323 2323 230a 0a20 2020 2020  #########..     
+0001ae80: 2020 2073 656c 662e 7769 6e64 6f77 2e53     self.window.S
+0001ae90: 6574 5769 6e64 6f77 4e61 6d65 2873 656c  etWindowName(sel
+0001aea0: 662e 7469 746c 6529 0a0a 2020 2020 2020  f.title)..      
+0001aeb0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0001aec0: 2020 2023 204e 6565 6473 2022 7069 7020     # Needs "pip 
+0001aed0: 696e 7374 616c 6c20 7079 6f62 6a63 2220  install pyobjc" 
+0001aee0: 6f6e 204d 6163 204f 5358 0a20 2020 2020  on Mac OSX.     
+0001aef0: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+0001af00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001af10: 2e5f 636f 636f 615f 696e 6974 6961 6c69  ._cocoa_initiali
+0001af20: 7a65 6420 6973 2046 616c 7365 0a20 2020  zed is False.   
+0001af30: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+0001af40: 2022 4461 7277 696e 2220 696e 2076 6564   "Darwin" in ved
+0001af50: 6f2e 7379 735f 706c 6174 666f 726d 0a20  o.sys_platform. 
+0001af60: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+0001af70: 6e64 206e 6f74 2073 656c 662e 6f66 6673  nd not self.offs
+0001af80: 6372 6565 6e0a 2020 2020 2020 2020 2020  creen.          
+0001af90: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
+0001afa0: 2020 2020 2073 656c 662e 5f63 6f63 6f61       self._cocoa
+0001afb0: 5f69 6e69 7469 616c 697a 6564 203d 2054  _initialized = T
+0001afc0: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+0001afd0: 2020 2020 6672 6f6d 2043 6f63 6f61 2069      from Cocoa i
+0001afe0: 6d70 6f72 7420 4e53 5275 6e6e 696e 6741  mport NSRunningA
+0001aff0: 7070 6c69 6361 7469 6f6e 2c20 4e53 4170  pplication, NSAp
+0001b000: 706c 6963 6174 696f 6e41 6374 6976 6174  plicationActivat
+0001b010: 6549 676e 6f72 696e 674f 7468 6572 4170  eIgnoringOtherAp
+0001b020: 7073 0a20 2020 2020 2020 2020 2020 2020  ps.             
+0001b030: 2020 2070 6964 203d 206f 732e 6765 7470     pid = os.getp
+0001b040: 6964 2829 0a20 2020 2020 2020 2020 2020  id().           
+0001b050: 2020 2020 2078 203d 204e 5352 756e 6e69       x = NSRunni
+0001b060: 6e67 4170 706c 6963 6174 696f 6e2e 7275  ngApplication.ru
+0001b070: 6e6e 696e 6741 7070 6c69 6361 7469 6f6e  nningApplication
+0001b080: 5769 7468 5072 6f63 6573 7349 6465 6e74  WithProcessIdent
+0001b090: 6966 6965 725f 2869 6e74 2870 6964 2929  ifier_(int(pid))
+0001b0a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b0b0: 2078 2e61 6374 6976 6174 6557 6974 684f   x.activateWithO
+0001b0c0: 7074 696f 6e73 5f28 4e53 4170 706c 6963  ptions_(NSApplic
+0001b0d0: 6174 696f 6e41 6374 6976 6174 6549 676e  ationActivateIgn
+0001b0e0: 6f72 696e 674f 7468 6572 4170 7073 290a  oringOtherApps).
+0001b0f0: 2020 2020 2020 2020 6578 6365 7074 3a0a          except:.
+0001b100: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+0001b110: 0a20 2020 2020 2020 2020 2020 2023 2076  .            # v
+0001b120: 6564 6f2e 6c6f 6767 6572 2e64 6562 7567  edo.logger.debug
+0001b130: 2822 4f6e 204d 6163 204f 5358 2074 7279  ("On Mac OSX try
+0001b140: 3a20 7069 7020 696e 7374 616c 6c20 7079  : pip install py
+0001b150: 6f62 6a63 2229 0a0a 2020 2020 2020 2020  objc")..        
+0001b160: 6966 2073 656c 662e 696e 7465 7261 6374  if self.interact
+0001b170: 6f72 3a20 2023 2063 616e 2062 6520 6f66  or:  # can be of
+0001b180: 6673 6372 6565 6e2e 2e0a 0a20 2020 2020  fscreen....     
+0001b190: 2020 2020 2020 2069 6620 696e 7465 7261         if intera
+0001b1a0: 6374 6976 6520 6973 206e 6f74 204e 6f6e  ctive is not Non
+0001b1b0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0001b1c0: 2020 2073 656c 662e 5f69 6e74 6572 6163     self._interac
+0001b1d0: 7469 7665 203d 2069 6e74 6572 6163 7469  tive = interacti
+0001b1e0: 7665 0a0a 2020 2020 2020 2020 2020 2020  ve..            
+0001b1f0: 7365 6c66 2e75 7365 725f 6d6f 6465 286d  self.user_mode(m
+0001b200: 6f64 6529 0a0a 2020 2020 2020 2020 2020  ode)..          
+0001b210: 2020 6966 2073 656c 662e 5f69 6e74 6572    if self._inter
+0001b220: 6163 7469 7665 3a0a 2020 2020 2020 2020  active:.        
+0001b230: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
+0001b240: 6572 6163 746f 722e 5374 6172 7428 290a  eractor.Start().
+0001b250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b260: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0001b270: 7261 7465 3a0a 2020 2020 2020 2020 2020  rate:.          
+0001b280: 2020 2020 2020 6966 2073 656c 662e 636c        if self.cl
+0001b290: 6f63 6b20 6973 204e 6f6e 653a 2020 2320  ock is None:  # 
+0001b2a0: 7365 7420 636c 6f63 6b20 616e 6420 6c69  set clock and li
+0001b2b0: 6d69 7420 7261 7465 0a20 2020 2020 2020  mit rate.       
+0001b2c0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001b2d0: 662e 5f63 6c6f 636b 7430 203d 2074 696d  f._clockt0 = tim
+0001b2e0: 652e 7469 6d65 2829 0a20 2020 2020 2020  e.time().       
+0001b2f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001b300: 662e 636c 6f63 6b20 3d20 302e 300a 2020  f.clock = 0.0.  
+0001b310: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001b320: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001b330: 2020 2020 2020 2020 7420 3d20 7469 6d65          t = time
+0001b340: 2e74 696d 6528 2920 2d20 7365 6c66 2e5f  .time() - self._
+0001b350: 636c 6f63 6b74 300a 2020 2020 2020 2020  clockt0.        
+0001b360: 2020 2020 2020 2020 2020 2020 656c 6170              elap
+0001b370: 7365 6420 3d20 7420 2d20 7365 6c66 2e63  sed = t - self.c
+0001b380: 6c6f 636b 0a20 2020 2020 2020 2020 2020  lock.           
+0001b390: 2020 2020 2020 2020 206d 696e 7420 3d20           mint = 
+0001b3a0: 312e 3020 2f20 7261 7465 0a20 2020 2020  1.0 / rate.     
+0001b3b0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001b3c0: 6620 656c 6170 7365 6420 3c20 6d69 6e74  f elapsed < mint
+0001b3d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001b3e0: 2020 2020 2020 2020 2020 7469 6d65 2e73            time.s
+0001b3f0: 6c65 6570 286d 696e 7420 2d20 656c 6170  leep(mint - elap
+0001b400: 7365 6429 0a20 2020 2020 2020 2020 2020  sed).           
+0001b410: 2020 2020 2020 2020 2073 656c 662e 636c           self.cl
+0001b420: 6f63 6b20 3d20 7469 6d65 2e74 696d 6528  ock = time.time(
+0001b430: 2920 2d20 7365 6c66 2e5f 636c 6f63 6b74  ) - self._clockt
+0001b440: 300a 0a20 2020 2020 2020 2072 6574 7572  0..        retur
+0001b450: 6e20 7365 6c66 0a0a 0a20 2020 2064 6566  n self...    def
+0001b460: 2061 6464 5f69 6e73 6574 2873 656c 662c   add_inset(self,
+0001b470: 202a 6163 746f 7273 2c20 2a2a 6f70 7469   *actors, **opti
+0001b480: 6f6e 7329 3a0a 2020 2020 2020 2020 2222  ons):.        ""
+0001b490: 2241 6464 2061 2064 7261 6767 6162 6c65  "Add a draggable
+0001b4a0: 2069 6e73 6574 2073 7061 6365 2069 6e74   inset space int
+0001b4b0: 6f20 6120 7265 6e64 6572 6572 2e0a 0a20  o a renderer... 
+0001b4c0: 2020 2020 2020 2041 7267 756d 656e 7473         Arguments
+0001b4d0: 3a0a 2020 2020 2020 2020 2020 2020 6174  :.            at
+0001b4e0: 203a 2028 696e 7429 0a20 2020 2020 2020   : (int).       
+0001b4f0: 2020 2020 2020 2020 2073 7065 6369 6679           specify
+0001b500: 2074 6865 2072 656e 6465 7265 7220 6e75   the renderer nu
+0001b510: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+0001b520: 2070 6f73 203a 2028 6c69 7374 290a 2020   pos : (list).  
+0001b530: 2020 2020 2020 2020 2020 2020 2020 6963                ic
+0001b540: 6f6e 2070 6f73 6974 696f 6e20 696e 2074  on position in t
+0001b550: 6865 2072 616e 6765 205b 312d 345d 2069  he range [1-4] i
+0001b560: 6e64 6963 6174 696e 6720 6f6e 6520 6f66  ndicating one of
+0001b570: 2074 6865 2034 2063 6f72 6e65 7273 2c0a   the 4 corners,.
+0001b580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b590: 6f72 2069 7420 6361 6e20 6265 2061 2074  or it can be a t
+0001b5a0: 7570 6c65 2028 782c 7929 2061 7320 6120  uple (x,y) as a 
+0001b5b0: 6672 6163 7469 6f6e 206f 6620 7468 6520  fraction of the 
+0001b5c0: 7265 6e64 6572 6572 2073 697a 652e 0a20  renderer size.. 
+0001b5d0: 2020 2020 2020 2020 2020 2073 697a 6520             size 
+0001b5e0: 3a20 2866 6c6f 6174 290a 2020 2020 2020  : (float).      
+0001b5f0: 2020 2020 2020 2020 2020 7369 7a65 206f            size o
+0001b600: 6620 7468 6520 7371 7561 7265 2069 6e73  f the square ins
+0001b610: 6574 0a20 2020 2020 2020 2020 2020 2064  et.            d
+0001b620: 7261 6767 6162 6c65 203a 2028 626f 6f6c  raggable : (bool
+0001b630: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001b640: 2020 6966 2054 7275 6520 7468 6520 7375    if True the su
+0001b650: 6272 656e 6465 7265 7220 7370 6163 6520  brenderer space 
+0001b660: 6361 6e20 6265 2064 7261 6767 6564 2061  can be dragged a
+0001b670: 726f 756e 640a 2020 2020 2020 2020 2020  round.          
+0001b680: 2020 6320 3a20 2863 6f6c 6f72 290a 2020    c : (color).  
+0001b690: 2020 2020 2020 2020 2020 2020 2020 636f                co
+0001b6a0: 6c6f 7220 6f66 2074 6865 2069 6e73 6574  lor of the inset
+0001b6b0: 2066 7261 6d65 2077 6865 6e20 6472 6167   frame when drag
+0001b6c0: 6765 640a 0a20 2020 2020 2020 2045 7861  ged..        Exa
+0001b6d0: 6d70 6c65 733a 0a20 2020 2020 2020 2020  mples:.         
+0001b6e0: 2020 202d 205b 696e 7365 742e 7079 5d28     - [inset.py](
+0001b6f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001b700: 6f6d 2f6d 6172 636f 6d75 7379 2f76 6564  om/marcomusy/ved
+0001b710: 6f2f 7472 6565 2f6d 6173 7465 722f 6578  o/tree/master/ex
+0001b720: 616d 706c 6573 2f6f 7468 6572 2f69 6e73  amples/other/ins
+0001b730: 6574 2e70 7929 0a0a 2020 2020 2020 2020  et.py)..        
+0001b740: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
+0001b750: 7573 6572 2d69 6d61 6765 732e 6769 7468  user-images.gith
+0001b760: 7562 7573 6572 636f 6e74 656e 742e 636f  ubusercontent.co
+0001b770: 6d2f 3332 3834 3833 3931 2f35 3637 3538  m/32848391/56758
+0001b780: 3536 302d 3363 3366 3133 3030 2d36 3739  560-3c3f1300-679
+0001b790: 372d 3131 6539 2d39 6233 332d 3439 6635  7-11e9-9b33-49f5
+0001b7a0: 6134 3837 3630 3339 2e6a 7067 290a 2020  a4876039.jpg).  
+0001b7b0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001b7c0: 2020 6966 206e 6f74 2073 656c 662e 696e    if not self.in
+0001b7d0: 7465 7261 6374 6f72 3a0a 2020 2020 2020  teractor:.      
+0001b7e0: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+0001b7f0: 650a 2020 2020 2020 2020 706f 7320 3d20  e.        pos = 
+0001b800: 6f70 7469 6f6e 732e 706f 7028 2270 6f73  options.pop("pos
+0001b810: 222c 2030 290a 2020 2020 2020 2020 7369  ", 0).        si
+0001b820: 7a65 203d 206f 7074 696f 6e73 2e70 6f70  ze = options.pop
+0001b830: 2822 7369 7a65 222c 2030 2e31 290a 2020  ("size", 0.1).  
+0001b840: 2020 2020 2020 6320 3d20 6f70 7469 6f6e        c = option
+0001b850: 732e 706f 7028 2263 222c 2022 6c62 2229  s.pop("c", "lb")
+0001b860: 0a20 2020 2020 2020 2061 7420 3d20 6f70  .        at = op
+0001b870: 7469 6f6e 732e 706f 7028 2261 7422 2c20  tions.pop("at", 
+0001b880: 4e6f 6e65 290a 2020 2020 2020 2020 6472  None).        dr
+0001b890: 6167 6761 626c 6520 3d20 6f70 7469 6f6e  aggable = option
+0001b8a0: 732e 706f 7028 2264 7261 6767 6162 6c65  s.pop("draggable
+0001b8b0: 222c 2054 7275 6529 0a0a 2020 2020 2020  ", True)..      
+0001b8c0: 2020 6966 206e 6f74 2073 656c 662e 7265    if not self.re
+0001b8d0: 6e64 6572 6572 3a0a 2020 2020 2020 2020  nderer:.        
+0001b8e0: 2020 2020 7665 646f 2e6c 6f67 6765 722e      vedo.logger.
+0001b8f0: 7761 726e 696e 6728 2263 616c 6c20 6164  warning("call ad
+0001b900: 645f 696e 7365 7428 2920 6f6e 6c79 2061  d_inset() only a
+0001b910: 6674 6572 2066 6972 7374 2072 656e 6465  fter first rende
+0001b920: 7269 6e67 206f 6620 7468 6520 7363 656e  ring of the scen
+0001b930: 652e 2229 0a20 2020 2020 2020 2020 2020  e.").           
+0001b940: 2073 6176 655f 696e 7420 3d20 7365 6c66   save_int = self
+0001b950: 2e5f 696e 7465 7261 6374 6976 650a 2020  ._interactive.  
+0001b960: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+0001b970: 686f 7728 696e 7465 7261 6374 6976 653d  how(interactive=
+0001b980: 3029 0a20 2020 2020 2020 2020 2020 2073  0).            s
+0001b990: 656c 662e 5f69 6e74 6572 6163 7469 7665  elf._interactive
+0001b9a0: 203d 2073 6176 655f 696e 740a 2020 2020   = save_int.    
+0001b9b0: 2020 2020 7769 6467 6574 203d 2076 746b      widget = vtk
+0001b9c0: 2e76 746b 4f72 6965 6e74 6174 696f 6e4d  .vtkOrientationM
+0001b9d0: 6172 6b65 7257 6964 6765 7428 290a 2020  arkerWidget().  
+0001b9e0: 2020 2020 2020 722c 2067 2c20 6220 3d20        r, g, b = 
+0001b9f0: 7665 646f 2e67 6574 5f63 6f6c 6f72 2863  vedo.get_color(c
+0001ba00: 290a 2020 2020 2020 2020 7769 6467 6574  ).        widget
+0001ba10: 2e53 6574 4f75 746c 696e 6543 6f6c 6f72  .SetOutlineColor
+0001ba20: 2872 2c20 672c 2062 290a 2020 2020 2020  (r, g, b).      
+0001ba30: 2020 6966 206c 656e 2861 6374 6f72 7329    if len(actors)
+0001ba40: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
+0001ba50: 2020 2077 6964 6765 742e 5365 744f 7269     widget.SetOri
+0001ba60: 656e 7461 7469 6f6e 4d61 726b 6572 2861  entationMarker(a
+0001ba70: 6374 6f72 735b 305d 290a 2020 2020 2020  ctors[0]).      
+0001ba80: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001ba90: 2020 2020 7769 6467 6574 2e53 6574 4f72      widget.SetOr
+0001baa0: 6965 6e74 6174 696f 6e4d 6172 6b65 7228  ientationMarker(
+0001bab0: 7665 646f 2e41 7373 656d 626c 7928 6163  vedo.Assembly(ac
+0001bac0: 746f 7273 2929 0a0a 2020 2020 2020 2020  tors))..        
+0001bad0: 7769 6467 6574 2e53 6574 496e 7465 7261  widget.SetIntera
+0001bae0: 6374 6f72 2873 656c 662e 696e 7465 7261  ctor(self.intera
+0001baf0: 6374 6f72 290a 0a20 2020 2020 2020 2069  ctor)..        i
+0001bb00: 6620 7574 696c 732e 6973 5f73 6571 7565  f utils.is_seque
+0001bb10: 6e63 6528 706f 7329 3a0a 2020 2020 2020  nce(pos):.      
+0001bb20: 2020 2020 2020 7769 6467 6574 2e53 6574        widget.Set
+0001bb30: 5669 6577 706f 7274 2870 6f73 5b30 5d20  Viewport(pos[0] 
+0001bb40: 2d20 7369 7a65 2c20 706f 735b 315d 202d  - size, pos[1] -
+0001bb50: 2073 697a 652c 2070 6f73 5b30 5d20 2b20   size, pos[0] + 
+0001bb60: 7369 7a65 2c20 706f 735b 315d 202b 2073  size, pos[1] + s
+0001bb70: 697a 6529 0a20 2020 2020 2020 2065 6c73  ize).        els
+0001bb80: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
+0001bb90: 6620 706f 7320 3c20 323a 0a20 2020 2020  f pos < 2:.     
+0001bba0: 2020 2020 2020 2020 2020 2077 6964 6765             widge
+0001bbb0: 742e 5365 7456 6965 7770 6f72 7428 302c  t.SetViewport(0,
+0001bbc0: 2031 202d 2032 202a 2073 697a 652c 2073   1 - 2 * size, s
+0001bbd0: 697a 6520 2a20 322c 2031 290a 2020 2020  ize * 2, 1).    
+0001bbe0: 2020 2020 2020 2020 656c 6966 2070 6f73          elif pos
+0001bbf0: 203d 3d20 323a 0a20 2020 2020 2020 2020   == 2:.         
+0001bc00: 2020 2020 2020 2077 6964 6765 742e 5365         widget.Se
+0001bc10: 7456 6965 7770 6f72 7428 3120 2d20 3220  tViewport(1 - 2 
+0001bc20: 2a20 7369 7a65 2c20 3120 2d20 3220 2a20  * size, 1 - 2 * 
+0001bc30: 7369 7a65 2c20 312c 2031 290a 2020 2020  size, 1, 1).    
+0001bc40: 2020 2020 2020 2020 656c 6966 2070 6f73          elif pos
+0001bc50: 203d 3d20 333a 0a20 2020 2020 2020 2020   == 3:.         
+0001bc60: 2020 2020 2020 2077 6964 6765 742e 5365         widget.Se
+0001bc70: 7456 6965 7770 6f72 7428 302c 2030 2c20  tViewport(0, 0, 
+0001bc80: 7369 7a65 202a 2032 2c20 7369 7a65 202a  size * 2, size *
+0001bc90: 2032 290a 2020 2020 2020 2020 2020 2020   2).            
+0001bca0: 656c 6966 2070 6f73 203d 3d20 343a 0a20  elif pos == 4:. 
+0001bcb0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+0001bcc0: 6964 6765 742e 5365 7456 6965 7770 6f72  idget.SetViewpor
+0001bcd0: 7428 3120 2d20 3220 2a20 7369 7a65 2c20  t(1 - 2 * size, 
+0001bce0: 302c 2031 2c20 7369 7a65 202a 2032 290a  0, 1, size * 2).
+0001bcf0: 2020 2020 2020 2020 7769 6467 6574 2e45          widget.E
+0001bd00: 6e61 626c 6564 4f6e 2829 0a20 2020 2020  nabledOn().     
+0001bd10: 2020 2077 6964 6765 742e 5365 7449 6e74     widget.SetInt
+0001bd20: 6572 6163 7469 7665 2864 7261 6767 6162  eractive(draggab
+0001bd30: 6c65 290a 2020 2020 2020 2020 6966 2061  le).        if a
+0001bd40: 7420 6973 206e 6f74 204e 6f6e 6520 616e  t is not None an
+0001bd50: 6420 6174 203c 206c 656e 2873 656c 662e  d at < len(self.
+0001bd60: 7265 6e64 6572 6572 7329 3a0a 2020 2020  renderers):.    
+0001bd70: 2020 2020 2020 2020 7769 6467 6574 2e53          widget.S
+0001bd80: 6574 4375 7272 656e 7452 656e 6465 7265  etCurrentRendere
+0001bd90: 7228 7365 6c66 2e72 656e 6465 7265 7273  r(self.renderers
+0001bda0: 5b61 745d 290a 2020 2020 2020 2020 7365  [at]).        se
+0001bdb0: 6c66 2e77 6964 6765 7473 2e61 7070 656e  lf.widgets.appen
+0001bdc0: 6428 7769 6467 6574 290a 2020 2020 2020  d(widget).      
+0001bdd0: 2020 7265 7475 726e 2077 6964 6765 740a    return widget.
+0001bde0: 0a20 2020 2064 6566 2063 6c65 6172 2873  .    def clear(s
+0001bdf0: 656c 662c 2061 743d 4e6f 6e65 2c20 6465  elf, at=None, de
+0001be00: 6570 3d46 616c 7365 293a 0a20 2020 2020  ep=False):.     
+0001be10: 2020 2022 2222 436c 6561 7220 7468 6520     """Clear the 
+0001be20: 7363 656e 6520 6672 6f6d 2061 6c6c 206d  scene from all m
+0001be30: 6573 6865 7320 616e 6420 766f 6c75 6d65  eshes and volume
+0001be40: 732e 2222 220a 2020 2020 2020 2020 6966  s.""".        if
+0001be50: 2061 7420 6973 206e 6f74 204e 6f6e 653a   at is not None:
+0001be60: 0a20 2020 2020 2020 2020 2020 2072 656e  .            ren
+0001be70: 6465 7265 7220 3d20 7365 6c66 2e72 656e  derer = self.ren
+0001be80: 6465 7265 7273 5b61 745d 0a20 2020 2020  derers[at].     
+0001be90: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001bea0: 2020 2020 2072 656e 6465 7265 7220 3d20       renderer = 
+0001beb0: 7365 6c66 2e72 656e 6465 7265 720a 2020  self.renderer.  
+0001bec0: 2020 2020 2020 6966 206e 6f74 2072 656e        if not ren
+0001bed0: 6465 7265 723a 0a20 2020 2020 2020 2020  derer:.         
+0001bee0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+0001bef0: 2020 2020 2020 2020 6966 2064 6565 703a          if deep:
+0001bf00: 0a20 2020 2020 2020 2020 2020 2072 656e  .            ren
+0001bf10: 6465 7265 722e 5265 6d6f 7665 416c 6c56  derer.RemoveAllV
+0001bf20: 6965 7750 726f 7073 2829 0a20 2020 2020  iewProps().     
+0001bf30: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001bf40: 2020 2020 2066 6f72 2061 2069 6e20 7365       for a in se
+0001bf50: 7428 7365 6c66 2e67 6574 5f6d 6573 6865  t(self.get_meshe
+0001bf60: 7328 2920 2b20 7365 6c66 2e67 6574 5f76  s() + self.get_v
+0001bf70: 6f6c 756d 6573 2829 202b 2073 656c 662e  olumes() + self.
+0001bf80: 6163 746f 7273 202b 2073 656c 662e 6178  actors + self.ax
+0001bf90: 6573 5f69 6e73 7461 6e63 6573 293a 0a20  es_instances):. 
+0001bfa0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001bfb0: 6620 6973 696e 7374 616e 6365 2861 2c20  f isinstance(a, 
+0001bfc0: 7665 646f 2e73 6861 7065 732e 5465 7874  vedo.shapes.Text
+0001bfd0: 3244 293a 0a20 2020 2020 2020 2020 2020  2D):.           
+0001bfe0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
+0001bff0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0001c000: 2020 7365 6c66 2e72 656d 6f76 6528 6129    self.remove(a)
+0001c010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c020: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+0001c030: 2020 2020 2020 2020 2020 6966 2061 2e73            if a.s
+0001c040: 6361 6c61 7262 6172 3a0a 2020 2020 2020  calarbar:.      
+0001c050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c060: 2020 7365 6c66 2e72 656d 6f76 6528 612e    self.remove(a.
+0001c070: 7363 616c 6172 6261 7229 0a20 2020 2020  scalarbar).     
+0001c080: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001c090: 7420 4174 7472 6962 7574 6545 7272 6f72  t AttributeError
+0001c0a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001c0b0: 2020 2020 2020 7061 7373 0a20 2020 2020        pass.     
+0001c0c0: 2020 2020 2020 2073 656c 662e 6163 746f         self.acto
+0001c0d0: 7273 203d 205b 5d0a 2020 2020 2020 2020  rs = [].        
+0001c0e0: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+0001c0f0: 2064 6566 2062 7265 616b 5f69 6e74 6572   def break_inter
+0001c100: 6163 7469 6f6e 2873 656c 6629 3a0a 2020  action(self):.  
+0001c110: 2020 2020 2020 2222 2242 7265 616b 2077        """Break w
+0001c120: 696e 646f 7720 696e 7465 7261 6374 696f  indow interactio
+0001c130: 6e20 616e 6420 7265 7475 726e 2074 6f20  n and return to 
+0001c140: 7468 6520 7079 7468 6f6e 2065 7865 6375  the python execu
+0001c150: 7469 6f6e 2066 6c6f 7722 2222 0a20 2020  tion flow""".   
+0001c160: 2020 2020 2069 6620 7365 6c66 2e69 6e74       if self.int
+0001c170: 6572 6163 746f 723a 0a20 2020 2020 2020  eractor:.       
+0001c180: 2020 2020 2073 656c 662e 696e 7465 7261       self.intera
+0001c190: 6374 6f72 2e45 7869 7443 616c 6c62 6163  ctor.ExitCallbac
+0001c1a0: 6b28 290a 2020 2020 2020 2020 7265 7475  k().        retu
+0001c1b0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+0001c1c0: 2075 7365 725f 6d6f 6465 2873 656c 662c   user_mode(self,
+0001c1d0: 206d 6f64 6529 3a0a 2020 2020 2020 2020   mode):.        
+0001c1e0: 2222 220a 2020 2020 2020 2020 4d6f 6469  """.        Modi
+0001c1f0: 6679 2074 6865 2075 7365 7220 696e 7465  fy the user inte
+0001c200: 7261 6374 696f 6e20 6d6f 6465 2e0a 0a20  raction mode... 
+0001c210: 2020 2020 2020 2045 7861 6d70 6c65 733a         Examples:
+0001c220: 0a20 2020 2020 2020 2020 2020 2060 6060  .            ```
+0001c230: 7079 7468 6f6e 0a20 2020 2020 2020 2020  python.         
+0001c240: 2020 2066 726f 6d20 7665 646f 2069 6d70     from vedo imp
+0001c250: 6f72 7420 2a0a 2020 2020 2020 2020 2020  ort *.          
+0001c260: 2020 6d6f 6465 203d 2069 6e74 6572 6163    mode = interac
+0001c270: 746f 725f 6d6f 6465 732e 4d6f 7573 6550  tor_modes.MouseP
+0001c280: 616e 2829 0a20 2020 2020 2020 2020 2020  an().           
+0001c290: 206d 6573 6820 3d20 4d65 7368 2864 6174   mesh = Mesh(dat
+0001c2a0: 6175 726c 2b22 636f 772e 7674 6b22 290a  aurl+"cow.vtk").
+0001c2b0: 2020 2020 2020 2020 2020 2020 706c 7420              plt 
+0001c2c0: 3d20 506c 6f74 7465 7228 292e 7573 6572  = Plotter().user
+0001c2d0: 5f6d 6f64 6528 6d6f 6465 290a 2020 2020  _mode(mode).    
+0001c2e0: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
+0001c2f0: 286d 6573 682c 2061 7865 733d 3129 0a20  (mesh, axes=1). 
+0001c300: 2020 2020 2020 2020 2020 6060 600a 2020            ```.  
+0001c310: 2020 2020 2020 5365 6520 616c 736f 3a0a        See also:.
+0001c320: 2020 2020 2020 2020 5b69 6e74 6572 6163          [interac
+0001c330: 746f 7273 5d28 6874 7470 733a 2f2f 7674  tors](https://vt
+0001c340: 6b2e 6f72 672f 646f 632f 6e69 6768 746c  k.org/doc/nightl
+0001c350: 792f 6874 6d6c 2f63 6c61 7373 7674 6b49  y/html/classvtkI
+0001c360: 6e74 6572 6163 746f 7253 7479 6c65 2e68  nteractorStyle.h
+0001c370: 746d 6c29 0a20 2020 2020 2020 2022 2222  tml).        """
+0001c380: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0001c390: 7365 6c66 2e69 6e74 6572 6163 746f 723a  self.interactor:
+0001c3a0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0001c3b0: 7572 6e20 4e6f 6e65 0a0a 2020 2020 2020  urn None..      
+0001c3c0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+0001c3d0: 6d6f 6465 2c20 2873 7472 2c20 696e 7429  mode, (str, int)
+0001c3e0: 293a 0a20 2020 2020 2020 2020 2020 2023  ):.            #
+0001c3f0: 2053 6574 2074 6865 2073 7479 6c65 206f   Set the style o
+0001c400: 6620 696e 7465 7261 6374 696f 6e0a 2020  f interaction.  
+0001c410: 2020 2020 2020 2020 2020 2320 7365 6520            # see 
+0001c420: 6874 7470 733a 2f2f 7674 6b2e 6f72 672f  https://vtk.org/
+0001c430: 646f 632f 6e69 6768 746c 792f 6874 6d6c  doc/nightly/html
+0001c440: 2f63 6c61 7373 7674 6b49 6e74 6572 6163  /classvtkInterac
+0001c450: 746f 7253 7479 6c65 2e68 746d 6c0a 2020  torStyle.html.  
+0001c460: 2020 2020 2020 2020 2020 6966 206d 6f64            if mod
+0001c470: 6520 696e 2028 302c 2022 5472 6163 6b62  e in (0, "Trackb
+0001c480: 616c 6c43 616d 6572 6122 293a 0a20 2020  allCamera"):.   
+0001c490: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001c4a0: 7365 6c66 2e71 745f 7769 6467 6574 3a0a  self.qt_widget:.
+0001c4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c4c0: 2020 2020 7365 6c66 2e69 6e74 6572 6163      self.interac
+0001c4d0: 746f 722e 5365 7449 6e74 6572 6163 746f  tor.SetInteracto
+0001c4e0: 7253 7479 6c65 2876 746b 2e76 746b 496e  rStyle(vtk.vtkIn
+0001c4f0: 7465 7261 6374 6f72 5374 796c 6554 7261  teractorStyleTra
+0001c500: 636b 6261 6c6c 4361 6d65 7261 2829 290a  ckballCamera()).
+0001c510: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0001c520: 206d 6f64 6520 696e 2028 312c 2022 5472   mode in (1, "Tr
+0001c530: 6163 6b62 616c 6c41 6374 6f72 2229 3a0a  ackballActor"):.
+0001c540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c550: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
+0001c560: 5365 7449 6e74 6572 6163 746f 7253 7479  SetInteractorSty
+0001c570: 6c65 2876 746b 2e76 746b 496e 7465 7261  le(vtk.vtkIntera
+0001c580: 6374 6f72 5374 796c 6554 7261 636b 6261  ctorStyleTrackba
+0001c590: 6c6c 4163 746f 7228 2929 0a20 2020 2020  llActor()).     
+0001c5a0: 2020 2020 2020 2065 6c69 6620 6d6f 6465         elif mode
+0001c5b0: 2069 6e20 2832 2c20 224a 6f79 7374 6963   in (2, "Joystic
+0001c5c0: 6b43 616d 6572 6122 293a 0a20 2020 2020  kCamera"):.     
+0001c5d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c5e0: 696e 7465 7261 6374 6f72 2e53 6574 496e  interactor.SetIn
+0001c5f0: 7465 7261 6374 6f72 5374 796c 6528 7674  teractorStyle(vt
+0001c600: 6b2e 7674 6b49 6e74 6572 6163 746f 7253  k.vtkInteractorS
+0001c610: 7479 6c65 4a6f 7973 7469 636b 4361 6d65  tyleJoystickCame
+0001c620: 7261 2829 290a 2020 2020 2020 2020 2020  ra()).          
+0001c630: 2020 656c 6966 206d 6f64 6520 696e 2028    elif mode in (
+0001c640: 332c 2022 4a6f 7973 7469 636b 4163 746f  3, "JoystickActo
+0001c650: 7222 293a 0a20 2020 2020 2020 2020 2020  r"):.           
+0001c660: 2020 2020 2073 656c 662e 696e 7465 7261       self.intera
+0001c670: 6374 6f72 2e53 6574 496e 7465 7261 6374  ctor.SetInteract
+0001c680: 6f72 5374 796c 6528 7674 6b2e 7674 6b49  orStyle(vtk.vtkI
+0001c690: 6e74 6572 6163 746f 7253 7479 6c65 4a6f  nteractorStyleJo
+0001c6a0: 7973 7469 636b 4163 746f 7228 2929 0a20  ystickActor()). 
+0001c6b0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0001c6c0: 6d6f 6465 2069 6e20 2834 2c20 2246 6c69  mode in (4, "Fli
+0001c6d0: 6768 7422 293a 0a20 2020 2020 2020 2020  ght"):.         
+0001c6e0: 2020 2020 2020 2073 656c 662e 696e 7465         self.inte
+0001c6f0: 7261 6374 6f72 2e53 6574 496e 7465 7261  ractor.SetIntera
+0001c700: 6374 6f72 5374 796c 6528 7674 6b2e 7674  ctorStyle(vtk.vt
+0001c710: 6b49 6e74 6572 6163 746f 7253 7479 6c65  kInteractorStyle
+0001c720: 466c 6967 6874 2829 290a 2020 2020 2020  Flight()).      
+0001c730: 2020 2020 2020 656c 6966 206d 6f64 6520        elif mode 
+0001c740: 696e 2028 352c 2022 5275 6262 6572 4261  in (5, "RubberBa
+0001c750: 6e64 3244 2229 3a0a 2020 2020 2020 2020  nd2D"):.        
+0001c760: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
+0001c770: 6572 6163 746f 722e 5365 7449 6e74 6572  eractor.SetInter
+0001c780: 6163 746f 7253 7479 6c65 2876 746b 2e76  actorStyle(vtk.v
+0001c790: 746b 496e 7465 7261 6374 6f72 5374 796c  tkInteractorStyl
+0001c7a0: 6552 7562 6265 7242 616e 6432 4428 2929  eRubberBand2D())
+0001c7b0: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+0001c7c0: 6620 6d6f 6465 2069 6e20 2836 2c20 2252  f mode in (6, "R
+0001c7d0: 7562 6265 7242 616e 6433 4422 293a 0a20  ubberBand3D"):. 
+0001c7e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001c7f0: 656c 662e 696e 7465 7261 6374 6f72 2e53  elf.interactor.S
+0001c800: 6574 496e 7465 7261 6374 6f72 5374 796c  etInteractorStyl
+0001c810: 6528 7674 6b2e 7674 6b49 6e74 6572 6163  e(vtk.vtkInterac
+0001c820: 746f 7253 7479 6c65 5275 6262 6572 4261  torStyleRubberBa
+0001c830: 6e64 3344 2829 290a 2020 2020 2020 2020  nd3D()).        
+0001c840: 2020 2020 656c 6966 206d 6f64 6520 696e      elif mode in
+0001c850: 2028 372c 2022 5275 6262 6572 4261 6e64   (7, "RubberBand
+0001c860: 5a6f 6f6d 2229 3a0a 2020 2020 2020 2020  Zoom"):.        
+0001c870: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
+0001c880: 6572 6163 746f 722e 5365 7449 6e74 6572  eractor.SetInter
+0001c890: 6163 746f 7253 7479 6c65 2876 746b 2e76  actorStyle(vtk.v
+0001c8a0: 746b 496e 7465 7261 6374 6f72 5374 796c  tkInteractorStyl
+0001c8b0: 6552 7562 6265 7242 616e 645a 6f6f 6d28  eRubberBandZoom(
+0001c8c0: 2929 0a20 2020 2020 2020 2020 2020 2065  )).            e
+0001c8d0: 6c69 6620 6d6f 6465 2069 6e20 2838 2c20  lif mode in (8, 
+0001c8e0: 2254 6572 7261 696e 2229 3a0a 2020 2020  "Terrain"):.    
+0001c8f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c900: 2e69 6e74 6572 6163 746f 722e 5365 7449  .interactor.SetI
+0001c910: 6e74 6572 6163 746f 7253 7479 6c65 2876  nteractorStyle(v
+0001c920: 746b 2e76 746b 496e 7465 7261 6374 6f72  tk.vtkInteractor
+0001c930: 5374 796c 6554 6572 7261 696e 2829 290a  StyleTerrain()).
+0001c940: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0001c950: 206d 6f64 6520 696e 2028 392c 2022 556e   mode in (9, "Un
+0001c960: 6963 616d 2229 3a0a 2020 2020 2020 2020  icam"):.        
+0001c970: 2020 2020 2020 2020 7365 6c66 2e69 6e74          self.int
+0001c980: 6572 6163 746f 722e 5365 7449 6e74 6572  eractor.SetInter
+0001c990: 6163 746f 7253 7479 6c65 2876 746b 2e76  actorStyle(vtk.v
+0001c9a0: 746b 496e 7465 7261 6374 6f72 5374 796c  tkInteractorStyl
+0001c9b0: 6555 6e69 6361 6d28 2929 0a20 2020 2020  eUnicam()).     
+0001c9c0: 2020 2020 2020 2065 6c69 6620 6d6f 6465         elif mode
+0001c9d0: 2069 6e20 2831 302c 2022 496d 6167 6522   in (10, "Image"
+0001c9e0: 2c20 2269 6d61 6765 222c 2022 3264 2229  , "image", "2d")
+0001c9f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ca00: 2020 6173 7479 6c65 203d 2076 746b 2e76    astyle = vtk.v
+0001ca10: 746b 496e 7465 7261 6374 6f72 5374 796c  tkInteractorStyl
+0001ca20: 6549 6d61 6765 2829 0a20 2020 2020 2020  eImage().       
+0001ca30: 2020 2020 2020 2020 2061 7374 796c 652e           astyle.
+0001ca40: 5365 7449 6e74 6572 6163 7469 6f6e 4d6f  SetInteractionMo
+0001ca50: 6465 546f 496d 6167 6533 4428 290a 2020  deToImage3D().  
+0001ca60: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001ca70: 6c66 2e69 6e74 6572 6163 746f 722e 5365  lf.interactor.Se
+0001ca80: 7449 6e74 6572 6163 746f 7253 7479 6c65  tInteractorStyle
+0001ca90: 2861 7374 796c 6529 0a20 2020 2020 2020  (astyle).       
+0001caa0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001cab0: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0001cac0: 6c6f 6767 6572 2e77 6172 6e69 6e67 2866  logger.warning(f
+0001cad0: 2255 6e6b 6e6f 776e 2069 6e74 6572 6163  "Unknown interac
+0001cae0: 7469 6f6e 206d 6f64 653a 207b 6d6f 6465  tion mode: {mode
+0001caf0: 7d22 290a 0a20 2020 2020 2020 2065 6c69  }")..        eli
+0001cb00: 6620 6973 696e 7374 616e 6365 286d 6f64  f isinstance(mod
+0001cb10: 652c 2076 746b 2e76 746b 496e 7465 7261  e, vtk.vtkIntera
+0001cb20: 6374 6f72 5374 796c 6555 7365 7229 3a0a  ctorStyleUser):.
+0001cb30: 2020 2020 2020 2020 2020 2020 2320 7365              # se
+0001cb40: 7420 6120 6375 7374 6f6d 2069 6e74 6572  t a custom inter
+0001cb50: 6163 746f 7220 7374 796c 650a 2020 2020  actor style.    
+0001cb60: 2020 2020 2020 2020 6d6f 6465 2e69 6e74          mode.int
+0001cb70: 6572 6163 746f 7220 3d20 7365 6c66 2e69  eractor = self.i
+0001cb80: 6e74 6572 6163 746f 720a 2020 2020 2020  nteractor.      
+0001cb90: 2020 2020 2020 6d6f 6465 2e72 656e 6465        mode.rende
+0001cba0: 7265 7220 3d20 7365 6c66 2e72 656e 6465  rer = self.rende
+0001cbb0: 7265 720a 2020 2020 2020 2020 2020 2020  rer.            
+0001cbc0: 6d6f 6465 2e53 6574 496e 7465 7261 6374  mode.SetInteract
+0001cbd0: 6f72 2873 656c 662e 696e 7465 7261 6374  or(self.interact
+0001cbe0: 6f72 290a 2020 2020 2020 2020 2020 2020  or).            
+0001cbf0: 6d6f 6465 2e53 6574 4465 6661 756c 7452  mode.SetDefaultR
+0001cc00: 656e 6465 7265 7228 7365 6c66 2e72 656e  enderer(self.ren
+0001cc10: 6465 7265 7229 0a20 2020 2020 2020 2020  derer).         
+0001cc20: 2020 2073 656c 662e 696e 7465 7261 6374     self.interact
+0001cc30: 6f72 2e53 6574 496e 7465 7261 6374 6f72  or.SetInteractor
+0001cc40: 5374 796c 6528 6d6f 6465 290a 0a20 2020  Style(mode)..   
+0001cc50: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0001cc60: 0a0a 2020 2020 6465 6620 636c 6f73 655f  ..    def close_
+0001cc70: 7769 6e64 6f77 2873 656c 6629 3a0a 2020  window(self):.  
+0001cc80: 2020 2020 2020 2222 2243 6c6f 7365 2074        """Close t
+0001cc90: 6865 2063 7572 7265 6e74 206f 7220 7468  he current or th
+0001cca0: 6520 696e 7075 7420 7265 6e64 6572 696e  e input renderin
+0001ccb0: 6720 7769 6e64 6f77 2e0a 0a20 2020 2020  g window...     
+0001ccc0: 2020 2045 7861 6d70 6c65 733a 0a20 2020     Examples:.   
+0001ccd0: 2020 2020 2020 2020 202d 205b 636c 6f73           - [clos
+0001cce0: 6577 696e 646f 772e 7079 5d28 6874 7470  ewindow.py](http
+0001ccf0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0001cd00: 6172 636f 6d75 7379 2f76 6564 6f2f 7472  arcomusy/vedo/tr
+0001cd10: 6565 2f6d 6173 7465 722f 6578 616d 706c  ee/master/exampl
+0001cd20: 6573 2f62 6173 6963 2f63 6c6f 7365 7769  es/basic/closewi
+0001cd30: 6e64 6f77 2e70 7929 0a20 2020 2020 2020  ndow.py).       
+0001cd40: 2022 2222 0a20 2020 2020 2020 2076 6564   """.        ved
+0001cd50: 6f2e 6c61 7374 5f66 6967 7572 6520 3d20  o.last_figure = 
+0001cd60: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
+0001cd70: 662e 736c 6964 6572 7320 3d20 5b5d 0a20  f.sliders = []. 
+0001cd80: 2020 2020 2020 2073 656c 662e 6275 7474         self.butt
+0001cd90: 6f6e 7320 3d20 5b5d 0a20 2020 2020 2020  ons = [].       
+0001cda0: 2073 656c 662e 7769 6467 6574 7320 3d20   self.widgets = 
+0001cdb0: 5b5d 0a20 2020 2020 2020 2073 656c 662e  [].        self.
+0001cdc0: 686f 7665 725f 6c65 6765 6e64 7320 3d20  hover_legends = 
+0001cdd0: 5b5d 0a20 2020 2020 2020 2073 656c 662e  [].        self.
+0001cde0: 6261 636b 6772 6f75 6e64 5f72 656e 6465  background_rende
+0001cdf0: 7265 7220 3d20 4e6f 6e65 0a20 2020 2020  rer = None.     
+0001ce00: 2020 2073 656c 662e 5f65 7874 7261 6c69     self._extrali
+0001ce10: 6768 7420 3d20 4e6f 6e65 0a0a 2020 2020  ght = None..    
+0001ce20: 2020 2020 7365 6c66 2e68 696e 745f 7769      self.hint_wi
+0001ce30: 6467 6574 203d 204e 6f6e 650a 2020 2020  dget = None.    
+0001ce40: 2020 2020 7365 6c66 2e63 7574 7465 725f      self.cutter_
+0001ce50: 7769 6467 6574 203d 204e 6f6e 650a 0a20  widget = None.. 
+0001ce60: 2020 2020 2020 2066 6f72 2072 2069 6e20         for r in 
+0001ce70: 7365 6c66 2e72 656e 6465 7265 7273 3a0a  self.renderers:.
+0001ce80: 2020 2020 2020 2020 2020 2020 722e 5265              r.Re
+0001ce90: 6d6f 7665 416c 6c4f 6273 6572 7665 7273  moveAllObservers
+0001cea0: 2829 0a20 2020 2020 2020 2069 6620 6861  ().        if ha
+0001ceb0: 7361 7474 7228 7365 6c66 2c20 2277 696e  sattr(self, "win
+0001cec0: 646f 7722 2920 616e 6420 7365 6c66 2e77  dow") and self.w
+0001ced0: 696e 646f 773a 0a20 2020 2020 2020 2020  indow:.         
+0001cee0: 2020 2069 6620 6861 7361 7474 7228 7365     if hasattr(se
+0001cef0: 6c66 2c20 2269 6e74 6572 6163 746f 7222  lf, "interactor"
+0001cf00: 2920 616e 6420 7365 6c66 2e69 6e74 6572  ) and self.inter
+0001cf10: 6163 746f 723a 0a20 2020 2020 2020 2020  actor:.         
+0001cf20: 2020 2020 2020 2073 656c 662e 696e 7465         self.inte
+0001cf30: 7261 6374 6f72 2e45 7869 7443 616c 6c62  ractor.ExitCallb
+0001cf40: 6163 6b28 290a 2020 2020 2020 2020 2020  ack().          
+0001cf50: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0001cf60: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001cf70: 656c 662e 696e 7465 7261 6374 6f72 2e53  elf.interactor.S
+0001cf80: 6574 446f 6e65 2854 7275 6529 0a20 2020  etDone(True).   
+0001cf90: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+0001cfa0: 6570 7420 4174 7472 6962 7574 6545 7272  ept AttributeErr
+0001cfb0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+0001cfc0: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
+0001cfd0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001cfe0: 662e 696e 7465 7261 6374 6f72 2e54 6572  f.interactor.Ter
+0001cff0: 6d69 6e61 7465 4170 7028 290a 0a20 2020  minateApp()..   
+0001d000: 2020 2020 2020 2020 2020 2020 2023 2073               # s
+0001d010: 656c 662e 696e 7465 7261 6374 6f72 203d  elf.interactor =
+0001d020: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
+0001d030: 2020 7365 6c66 2e77 696e 646f 772e 4669    self.window.Fi
+0001d040: 6e61 6c69 7a65 2829 2020 2320 7468 6973  nalize()  # this
+0001d050: 206d 7573 7420 6265 2064 6f6e 6520 6865   must be done he
+0001d060: 7265 0a0a 2020 2020 2020 2020 2020 2020  re..            
+0001d070: 6966 2068 6173 6174 7472 2873 656c 662c  if hasattr(self,
+0001d080: 2022 696e 7465 7261 6374 6f72 2229 2061   "interactor") a
+0001d090: 6e64 2073 656c 662e 696e 7465 7261 6374  nd self.interact
+0001d0a0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+0001d0b0: 2020 2020 6966 2022 4461 7277 696e 2220      if "Darwin" 
+0001d0c0: 696e 2076 6564 6f2e 7379 735f 706c 6174  in vedo.sys_plat
+0001d0d0: 666f 726d 3a0a 2020 2020 2020 2020 2020  form:.          
+0001d0e0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+0001d0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d100: 2020 2020 2020 2073 656c 662e 696e 7465         self.inte
+0001d110: 7261 6374 6f72 2e50 726f 6365 7373 4576  ractor.ProcessEv
+0001d120: 656e 7473 2829 0a20 2020 2020 2020 2020  ents().         
+0001d130: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001d140: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+0001d150: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
+0001d160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d170: 7365 6c66 2e69 6e74 6572 6163 746f 7220  self.interactor 
+0001d180: 3d20 4e6f 6e65 0a0a 2020 2020 2020 2020  = None..        
+0001d190: 2020 2020 7365 6c66 2e77 696e 646f 7720      self.window 
+0001d1a0: 3d20 4e6f 6e65 0a0a 2020 2020 2020 2020  = None..        
+0001d1b0: 7365 6c66 2e72 656e 6465 7265 7220 3d20  self.renderer = 
+0001d1c0: 4e6f 6e65 2020 2320 6375 7272 656e 7420  None  # current 
+0001d1d0: 7265 6e64 6572 6572 0a20 2020 2020 2020  renderer.       
+0001d1e0: 2073 656c 662e 7265 6e64 6572 6572 7320   self.renderers 
+0001d1f0: 3d20 5b5d 0a20 2020 2020 2020 2073 656c  = [].        sel
+0001d200: 662e 6361 6d65 7261 203d 204e 6f6e 650a  f.camera = None.
+0001d210: 2020 2020 2020 2020 7365 6c66 2e73 6b79          self.sky
+0001d220: 626f 7820 3d20 4e6f 6e65 0a20 2020 2020  box = None.     
+0001d230: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+0001d240: 2020 2020 6465 6620 636c 6f73 6528 7365      def close(se
+0001d250: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+0001d260: 436c 6f73 6520 7468 6520 506c 6f74 7465  Close the Plotte
+0001d270: 7220 696e 7374 616e 6365 2061 6e64 2072  r instance and r
+0001d280: 656c 6561 7365 2072 6573 6f75 7263 6573  elease resources
+0001d290: 2e22 2222 0a20 2020 2020 2020 2073 656c  .""".        sel
+0001d2a0: 662e 636c 6f73 655f 7769 6e64 6f77 2829  f.close_window()
+0001d2b0: 0a20 2020 2020 2020 2073 656c 662e 6163  .        self.ac
+0001d2c0: 746f 7273 203d 205b 5d0a 2020 2020 2020  tors = [].      
+0001d2d0: 2020 6966 2076 6564 6f2e 706c 6f74 7465    if vedo.plotte
+0001d2e0: 725f 696e 7374 616e 6365 203d 3d20 7365  r_instance == se
+0001d2f0: 6c66 3a0a 2020 2020 2020 2020 2020 2020  lf:.            
+0001d300: 7665 646f 2e70 6c6f 7474 6572 5f69 6e73  vedo.plotter_ins
+0001d310: 7461 6e63 6520 3d20 4e6f 6e65 0a0a 2020  tance = None..  
+0001d320: 2020 6465 6620 7363 7265 656e 7368 6f74    def screenshot
+0001d330: 2873 656c 662c 2066 696c 656e 616d 653d  (self, filename=
+0001d340: 2273 6372 6565 6e73 686f 742e 706e 6722  "screenshot.png"
+0001d350: 2c20 7363 616c 653d 312c 2061 7361 7272  , scale=1, asarr
+0001d360: 6179 3d46 616c 7365 293a 0a20 2020 2020  ay=False):.     
+0001d370: 2020 2022 2222 0a20 2020 2020 2020 2054     """.        T
+0001d380: 616b 6520 6120 7363 7265 656e 7368 6f74  ake a screenshot
+0001d390: 206f 6620 7468 6520 506c 6f74 7465 7220   of the Plotter 
+0001d3a0: 7769 6e64 6f77 2e0a 0a20 2020 2020 2020  window...       
+0001d3b0: 2041 7267 756d 656e 7473 3a0a 2020 2020   Arguments:.    
+0001d3c0: 2020 2020 2020 2020 7363 616c 6520 3a20          scale : 
+0001d3d0: 2869 6e74 290a 2020 2020 2020 2020 2020  (int).          
+0001d3e0: 2020 2020 2020 7365 7420 696d 6167 6520        set image 
+0001d3f0: 6d61 676e 6966 6963 6174 696f 6e20 6173  magnification as
+0001d400: 2061 6e20 696e 7465 6765 7220 6d75 6c74   an integer mult
+0001d410: 6970 6c69 6361 7469 6e67 2066 6163 746f  iplicating facto
+0001d420: 720a 2020 2020 2020 2020 2020 2020 6173  r.            as
+0001d430: 6172 7261 7920 3a20 2862 6f6f 6c29 0a20  array : (bool). 
+0001d440: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001d450: 6574 7572 6e20 6120 6e75 6d70 7920 6172  eturn a numpy ar
+0001d460: 7261 7920 6f66 2074 6865 2069 6d61 6765  ray of the image
+0001d470: 2069 6e73 7465 6164 206f 6620 7772 6974   instead of writ
+0001d480: 696e 6720 6120 6669 6c65 0a20 2020 2020  ing a file.     
+0001d490: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
+0001d4a0: 6574 7572 6e20 7665 646f 2e66 696c 655f  eturn vedo.file_
+0001d4b0: 696f 2e73 6372 6565 6e73 686f 7428 6669  io.screenshot(fi
+0001d4c0: 6c65 6e61 6d65 2c20 7363 616c 652c 2061  lename, scale, a
+0001d4d0: 7361 7272 6179 290a 0a20 2020 2064 6566  sarray)..    def
+0001d4e0: 2074 6f70 6963 7475 7265 2873 656c 662c   topicture(self,
+0001d4f0: 2073 6361 6c65 3d31 293a 0a20 2020 2020   scale=1):.     
+0001d500: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
+0001d510: 656e 6572 6174 6520 6120 5069 6374 7572  enerate a Pictur
+0001d520: 6520 6f62 6a65 6374 2066 726f 6d20 7468  e object from th
+0001d530: 6520 6375 7272 656e 7420 7265 6e64 6572  e current render
+0001d540: 696e 6720 7769 6e64 6f77 2e0a 0a20 2020  ing window...   
+0001d550: 2020 2020 2041 7267 756d 656e 7473 3a0a       Arguments:.
+0001d560: 2020 2020 2020 2020 2020 2020 7363 616c              scal
+0001d570: 6520 3a20 2869 6e74 290a 2020 2020 2020  e : (int).      
+0001d580: 2020 2020 2020 2020 2020 7365 7420 696d            set im
+0001d590: 6167 6520 6d61 676e 6966 6963 6174 696f  age magnificatio
+0001d5a0: 6e20 6173 2061 6e20 696e 7465 6765 7220  n as an integer 
+0001d5b0: 6d75 6c74 6970 6c69 6361 7469 6e67 2066  multiplicating f
+0001d5c0: 6163 746f 720a 2020 2020 2020 2020 2222  actor.        ""
+0001d5d0: 220a 2020 2020 2020 2020 6966 2073 6574  ".        if set
+0001d5e0: 7469 6e67 732e 7363 7265 6573 686f 745f  tings.screeshot_
+0001d5f0: 6c61 7267 655f 696d 6167 653a 0a20 2020  large_image:.   
+0001d600: 2020 2020 2020 2020 2077 3269 6620 3d20           w2if = 
+0001d610: 7674 6b2e 7674 6b52 656e 6465 724c 6172  vtk.vtkRenderLar
+0001d620: 6765 496d 6167 6528 290a 2020 2020 2020  geImage().      
+0001d630: 2020 2020 2020 7732 6966 2e53 6574 496e        w2if.SetIn
+0001d640: 7075 7428 7365 6c66 2e72 656e 6465 7265  put(self.rendere
+0001d650: 7229 0a20 2020 2020 2020 2020 2020 2077  r).            w
+0001d660: 3269 662e 5365 744d 6167 6e69 6669 6361  2if.SetMagnifica
+0001d670: 7469 6f6e 2873 6361 6c65 290a 2020 2020  tion(scale).    
+0001d680: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001d690: 2020 2020 2020 7732 6966 203d 2076 746b        w2if = vtk
+0001d6a0: 2e76 746b 5769 6e64 6f77 546f 496d 6167  .vtkWindowToImag
+0001d6b0: 6546 696c 7465 7228 290a 2020 2020 2020  eFilter().      
+0001d6c0: 2020 2020 2020 7732 6966 2e53 6574 496e        w2if.SetIn
+0001d6d0: 7075 7428 7365 6c66 2e77 696e 646f 7729  put(self.window)
+0001d6e0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0001d6f0: 6861 7361 7474 7228 7732 6966 2c20 2253  hasattr(w2if, "S
+0001d700: 6574 5363 616c 6522 293a 0a20 2020 2020  etScale"):.     
+0001d710: 2020 2020 2020 2020 2020 2077 3269 662e             w2if.
+0001d720: 5365 7453 6361 6c65 2873 6361 6c65 2c20  SetScale(scale, 
+0001d730: 7363 616c 6529 0a20 2020 2020 2020 2020  scale).         
+0001d740: 2020 2069 6620 7365 7474 696e 6773 2e73     if settings.s
+0001d750: 6372 6565 6e73 686f 745f 7472 616e 7370  creenshot_transp
+0001d760: 6172 656e 745f 6261 636b 6772 6f75 6e64  arent_background
+0001d770: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001d780: 2020 7732 6966 2e53 6574 496e 7075 7442    w2if.SetInputB
+0001d790: 7566 6665 7254 7970 6554 6f52 4742 4128  ufferTypeToRGBA(
+0001d7a0: 290a 2020 2020 2020 2020 2020 2020 7732  ).            w2
+0001d7b0: 6966 2e52 6561 6446 726f 6e74 4275 6666  if.ReadFrontBuff
+0001d7c0: 6572 4f66 6628 2920 2023 2072 6561 6420  erOff()  # read 
+0001d7d0: 6672 6f6d 2074 6865 2062 6163 6b20 6275  from the back bu
+0001d7e0: 6666 6572 0a20 2020 2020 2020 2077 3269  ffer.        w2i
+0001d7f0: 662e 5570 6461 7465 2829 0a20 2020 2020  f.Update().     
+0001d800: 2020 2072 6574 7572 6e20 7665 646f 2e70     return vedo.p
+0001d810: 6963 7475 7265 2e50 6963 7475 7265 2877  icture.Picture(w
+0001d820: 3269 662e 4765 744f 7574 7075 7428 2929  2if.GetOutput())
+0001d830: 0a0a 2020 2020 6465 6620 6578 706f 7274  ..    def export
+0001d840: 2873 656c 662c 2066 696c 656e 616d 653d  (self, filename=
+0001d850: 2273 6365 6e65 2e6e 707a 222c 2062 696e  "scene.npz", bin
+0001d860: 6172 793d 4661 6c73 6529 3a0a 2020 2020  ary=False):.    
+0001d870: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001d880: 4578 706f 7274 2073 6365 6e65 2074 6f20  Export scene to 
+0001d890: 6669 6c65 2074 6f20 4854 4d4c 2c20 5833  file to HTML, X3
+0001d8a0: 4420 6f72 204e 756d 7079 2066 696c 652e  D or Numpy file.
+0001d8b0: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
+0001d8c0: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+0001d8d0: 2d20 5b65 7870 6f72 745f 7833 642e 7079  - [export_x3d.py
+0001d8e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001d8f0: 2e63 6f6d 2f6d 6172 636f 6d75 7379 2f76  .com/marcomusy/v
+0001d900: 6564 6f2f 7472 6565 2f6d 6173 7465 722f  edo/tree/master/
+0001d910: 6578 616d 706c 6573 2f6f 7468 6572 2f65  examples/other/e
+0001d920: 7870 6f72 745f 7833 642e 7079 290a 2020  xport_x3d.py).  
+0001d930: 2020 2020 2020 2020 2020 2d20 5b65 7870            - [exp
+0001d940: 6f72 745f 6e75 6d70 792e 7079 5d28 6874  ort_numpy.py](ht
+0001d950: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001d960: 2f6d 6172 636f 6d75 7379 2f76 6564 6f2f  /marcomusy/vedo/
+0001d970: 7472 6565 2f6d 6173 7465 722f 6578 616d  tree/master/exam
+0001d980: 706c 6573 2f6f 7468 6572 2f65 7870 6f72  ples/other/expor
+0001d990: 745f 6e75 6d70 792e 7079 290a 2020 2020  t_numpy.py).    
+0001d9a0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001d9b0: 7665 646f 2e66 696c 655f 696f 2e65 7870  vedo.file_io.exp
+0001d9c0: 6f72 745f 7769 6e64 6f77 2866 696c 656e  ort_window(filen
+0001d9d0: 616d 652c 2062 696e 6172 793d 6269 6e61  ame, binary=bina
+0001d9e0: 7279 290a 2020 2020 2020 2020 7265 7475  ry).        retu
+0001d9f0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+0001da00: 2063 6f6c 6f72 5f70 6963 6b65 7228 7365   color_picker(se
+0001da10: 6c66 2c20 7879 2c20 7665 7262 6f73 653d  lf, xy, verbose=
+0001da20: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
+0001da30: 2222 2250 6963 6b20 636f 6c6f 7220 6f66  """Pick color of
+0001da40: 2073 7065 6369 6669 6320 2878 2c79 2920   specific (x,y) 
+0001da50: 7069 7865 6c20 6f6e 2074 6865 2073 6372  pixel on the scr
+0001da60: 6565 6e2e 2222 220a 2020 2020 2020 2020  een.""".        
+0001da70: 7732 6966 203d 2076 746b 2e76 746b 5769  w2if = vtk.vtkWi
+0001da80: 6e64 6f77 546f 496d 6167 6546 696c 7465  ndowToImageFilte
+0001da90: 7228 290a 2020 2020 2020 2020 7732 6966  r().        w2if
+0001daa0: 2e53 6574 496e 7075 7428 7365 6c66 2e77  .SetInput(self.w
+0001dab0: 696e 646f 7729 0a20 2020 2020 2020 2077  indow).        w
+0001dac0: 3269 662e 5265 6164 4672 6f6e 7442 7566  2if.ReadFrontBuf
+0001dad0: 6665 724f 6666 2829 0a20 2020 2020 2020  ferOff().       
+0001dae0: 2077 3269 662e 5570 6461 7465 2829 0a20   w2if.Update(). 
+0001daf0: 2020 2020 2020 206e 782c 206e 7920 3d20         nx, ny = 
+0001db00: 7365 6c66 2e77 696e 646f 772e 4765 7453  self.window.GetS
+0001db10: 697a 6528 290a 2020 2020 2020 2020 7661  ize().        va
+0001db20: 7272 203d 2077 3269 662e 4765 744f 7574  rr = w2if.GetOut
+0001db30: 7075 7428 292e 4765 7450 6f69 6e74 4461  put().GetPointDa
+0001db40: 7461 2829 2e47 6574 5363 616c 6172 7328  ta().GetScalars(
+0001db50: 290a 0a20 2020 2020 2020 2061 7272 203d  )..        arr =
+0001db60: 2075 7469 6c73 2e76 746b 326e 756d 7079   utils.vtk2numpy
+0001db70: 2876 6172 7229 2e72 6573 6861 7065 286e  (varr).reshape(n
+0001db80: 792c 206e 782c 2033 290a 2020 2020 2020  y, nx, 3).      
+0001db90: 2020 782c 2079 203d 2069 6e74 2878 795b    x, y = int(xy[
+0001dba0: 305d 292c 2069 6e74 2878 795b 315d 290a  0]), int(xy[1]).
+0001dbb0: 2020 2020 2020 2020 6966 2079 203c 206e          if y < n
+0001dbc0: 7920 616e 6420 7820 3c20 6e78 3a0a 0a20  y and x < nx:.. 
+0001dbd0: 2020 2020 2020 2020 2020 2072 6762 203d             rgb =
+0001dbe0: 2061 7272 5b79 2c20 785d 0a0a 2020 2020   arr[y, x]..    
+0001dbf0: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
+0001dc00: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001dc10: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
+0001dc20: 223a 7261 696e 626f 773a 5069 7865 6c22  ":rainbow:Pixel"
+0001dc30: 2c20 5b78 2c20 795d 2c20 2268 6173 2052  , [x, y], "has R
+0001dc40: 4742 5b22 2c20 656e 643d 2222 290a 2020  GB[", end="").  
+0001dc50: 2020 2020 2020 2020 2020 2020 2020 7665                ve
+0001dc60: 646f 2e70 7269 6e74 6328 22e2 9688 222c  do.printc("...",
+0001dc70: 2063 3d5b 7267 625b 305d 2c20 302c 2030   c=[rgb[0], 0, 0
+0001dc80: 5d2c 2065 6e64 3d22 2229 0a20 2020 2020  ], end="").     
+0001dc90: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0001dca0: 7072 696e 7463 2822 e296 8822 2c20 633d  printc("...", c=
+0001dcb0: 5b30 2c20 7267 625b 315d 2c20 305d 2c20  [0, rgb[1], 0], 
+0001dcc0: 656e 643d 2222 290a 2020 2020 2020 2020  end="").        
+0001dcd0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0001dce0: 6e74 6328 22e2 9688 222c 2063 3d5b 302c  ntc("...", c=[0,
+0001dcf0: 2030 2c20 7267 625b 325d 5d2c 2065 6e64   0, rgb[2]], end
+0001dd00: 3d22 2229 0a20 2020 2020 2020 2020 2020  ="").           
+0001dd10: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0001dd20: 2822 5d20 3d20 222c 2065 6e64 3d22 2229  ("] = ", end="")
+0001dd30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001dd40: 2063 6e6d 203d 2076 6564 6f2e 6765 745f   cnm = vedo.get_
+0001dd50: 636f 6c6f 725f 6e61 6d65 2872 6762 290a  color_name(rgb).
+0001dd60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dd70: 6966 206e 702e 7375 6d28 7267 6229 203c  if np.sum(rgb) <
+0001dd80: 2031 3530 3a0a 2020 2020 2020 2020 2020   150:.          
+0001dd90: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+0001dda0: 7269 6e74 6328 0a20 2020 2020 2020 2020  rintc(.         
+0001ddb0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001ddc0: 6762 2e74 6f6c 6973 7428 292c 0a20 2020  gb.tolist(),.   
+0001ddd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dde0: 2020 2020 2076 6564 6f2e 636f 6c6f 7273       vedo.colors
+0001ddf0: 2e72 6762 3268 6578 286e 702e 6172 7261  .rgb2hex(np.arra
+0001de00: 7928 7267 6229 202f 2032 3535 292c 0a20  y(rgb) / 255),. 
+0001de10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de20: 2020 2020 2020 2063 3d22 7722 2c0a 2020         c="w",.  
+0001de30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de40: 2020 2020 2020 6263 3d72 6762 2c0a 2020        bc=rgb,.  
+0001de50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de60: 2020 2020 2020 696e 7665 7274 3d31 2c0a        invert=1,.
+0001de70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de80: 2020 2020 2020 2020 656e 643d 2222 2c0a          end="",.
+0001de90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dea0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+0001deb0: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+0001dec0: 7269 6e74 6328 2220 202d 3e20 2220 2b20  rintc("  -> " + 
+0001ded0: 636e 6d2c 2069 6e76 6572 743d 312c 2063  cnm, invert=1, c
+0001dee0: 3d22 7722 290a 2020 2020 2020 2020 2020  ="w").          
+0001def0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001df00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001df10: 7665 646f 2e70 7269 6e74 6328 0a20 2020  vedo.printc(.   
+0001df20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001df30: 2020 2020 2072 6762 2e74 6f6c 6973 7428       rgb.tolist(
+0001df40: 292c 2076 6564 6f2e 636f 6c6f 7273 2e72  ), vedo.colors.r
+0001df50: 6762 3268 6578 286e 702e 6172 7261 7928  gb2hex(np.array(
+0001df60: 7267 6229 202f 2032 3535 292c 2063 3d72  rgb) / 255), c=r
+0001df70: 6762 2c20 656e 643d 2222 0a20 2020 2020  gb, end="".     
+0001df80: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+0001df90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001dfa0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0001dfb0: 2822 2020 2d3e 2022 202b 2063 6e6d 2c20  ("  -> " + cnm, 
+0001dfc0: 633d 636e 6d29 0a0a 2020 2020 2020 2020  c=cnm)..        
+0001dfd0: 2020 2020 7265 7475 726e 2072 6762 0a0a      return rgb..
+0001dfe0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+0001dff0: 6f6e 650a 0a20 2020 2023 2323 2323 2323  one..    #######
+0001e000: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e010: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e020: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e030: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e040: 0a20 2020 2064 6566 205f 6d6f 7573 656c  .    def _mousel
+0001e050: 6566 7463 6c69 636b 2873 656c 662c 2069  eftclick(self, i
+0001e060: 7265 6e2c 2065 7665 6e74 293a 0a0a 2020  ren, event):..  
+0001e070: 2020 2020 2020 782c 2079 203d 2069 7265        x, y = ire
+0001e080: 6e2e 4765 7445 7665 6e74 506f 7369 7469  n.GetEventPositi
+0001e090: 6f6e 2829 0a0a 2020 2020 2020 2020 7265  on()..        re
+0001e0a0: 6e64 6572 6572 203d 2069 7265 6e2e 4669  nderer = iren.Fi
+0001e0b0: 6e64 506f 6b65 6452 656e 6465 7265 7228  ndPokedRenderer(
+0001e0c0: 782c 2079 290a 2020 2020 2020 2020 7069  x, y).        pi
+0001e0d0: 636b 6572 203d 2076 746b 2e76 746b 5072  cker = vtk.vtkPr
+0001e0e0: 6f70 5069 636b 6572 2829 0a20 2020 2020  opPicker().     
+0001e0f0: 2020 2070 6963 6b65 722e 5069 636b 5072     picker.PickPr
+0001e100: 6f70 2878 2c20 792c 2072 656e 6465 7265  op(x, y, rendere
+0001e110: 7229 0a0a 2020 2020 2020 2020 7365 6c66  r)..        self
+0001e120: 2e72 656e 6465 7265 7220 3d20 7265 6e64  .renderer = rend
+0001e130: 6572 6572 0a0a 2020 2020 2020 2020 636c  erer..        cl
+0001e140: 6963 6b65 645f 6163 746f 7220 3d20 7069  icked_actor = pi
+0001e150: 636b 6572 2e47 6574 4163 746f 7228 290a  cker.GetActor().
+0001e160: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
+0001e170: 2827 5f6d 6f75 7365 6c65 6674 636c 6963  ('_mouseleftclic
+0001e180: 6b20 6d6f 7573 6520 6174 272c 2078 2c20  k mouse at', x, 
+0001e190: 7929 0a20 2020 2020 2020 2023 2070 7269  y).        # pri
+0001e1a0: 6e74 2822 7069 636b 6564 2056 6f6c 756d  nt("picked Volum
+0001e1b0: 653a 222c 2020 205b 7069 636b 6572 2e47  e:",   [picker.G
+0001e1c0: 6574 566f 6c75 6d65 2829 5d29 0a20 2020  etVolume()]).   
+0001e1d0: 2020 2020 2023 2070 7269 6e74 2822 7069       # print("pi
+0001e1e0: 636b 6564 2041 6374 6f72 3244 3a22 2c20  cked Actor2D:", 
+0001e1f0: 205b 7069 636b 6572 2e47 6574 4163 746f   [picker.GetActo
+0001e200: 7232 4428 295d 290a 2020 2020 2020 2020  r2D()]).        
+0001e210: 2320 7072 696e 7428 2270 6963 6b65 6420  # print("picked 
+0001e220: 4173 7365 6d62 6c79 3a22 2c20 5b70 6963  Assembly:", [pic
+0001e230: 6b65 722e 4765 7441 7373 656d 626c 7928  ker.GetAssembly(
+0001e240: 295d 290a 2020 2020 2020 2020 2320 7072  )]).        # pr
+0001e250: 696e 7428 2270 6963 6b65 6420 5072 6f70  int("picked Prop
+0001e260: 3344 3a22 2c20 2020 5b70 6963 6b65 722e  3D:",   [picker.
+0001e270: 4765 7450 726f 7033 4428 295d 290a 0a20  GetProp3D()]).. 
+0001e280: 2020 2020 2020 2023 2063 6865 636b 2069         # check i
+0001e290: 6620 616e 7920 6275 7474 6f6e 206f 626a  f any button obj
+0001e2a0: 6563 7473 2061 7265 2063 6c69 636b 6564  ects are clicked
+0001e2b0: 0a20 2020 2020 2020 2063 6c69 636b 6564  .        clicked
+0001e2c0: 5f61 6374 6f72 3244 203d 2070 6963 6b65  _actor2D = picke
+0001e2d0: 722e 4765 7441 6374 6f72 3244 2829 0a20  r.GetActor2D(). 
+0001e2e0: 2020 2020 2020 2069 6620 636c 6963 6b65         if clicke
+0001e2f0: 645f 6163 746f 7232 443a 0a20 2020 2020  d_actor2D:.     
+0001e300: 2020 2020 2020 2066 6f72 2062 7420 696e         for bt in
+0001e310: 2073 656c 662e 6275 7474 6f6e 733a 0a20   self.buttons:. 
+0001e320: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001e330: 6620 636c 6963 6b65 645f 6163 746f 7232  f clicked_actor2
+0001e340: 4420 3d3d 2062 742e 6163 746f 723a 0a20  D == bt.actor:. 
+0001e350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e360: 2020 2062 742e 6675 6e63 7469 6f6e 2829     bt.function()
+0001e370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e380: 2020 2020 2062 7265 616b 0a0a 2020 2020       break..    
+0001e390: 2020 2020 6966 206e 6f74 2063 6c69 636b      if not click
+0001e3a0: 6564 5f61 6374 6f72 3a0a 2020 2020 2020  ed_actor:.      
+0001e3b0: 2020 2020 2020 636c 6963 6b65 645f 6163        clicked_ac
+0001e3c0: 746f 7220 3d20 7069 636b 6572 2e47 6574  tor = picker.Get
+0001e3d0: 4173 7365 6d62 6c79 2829 0a0a 2020 2020  Assembly()..    
+0001e3e0: 2020 2020 6966 206e 6f74 2063 6c69 636b      if not click
+0001e3f0: 6564 5f61 6374 6f72 3a0a 2020 2020 2020  ed_actor:.      
+0001e400: 2020 2020 2020 636c 6963 6b65 645f 6163        clicked_ac
+0001e410: 746f 7220 3d20 7069 636b 6572 2e47 6574  tor = picker.Get
+0001e420: 5072 6f70 3344 2829 0a0a 2020 2020 2020  Prop3D()..      
+0001e430: 2020 6966 206e 6f74 2068 6173 6174 7472    if not hasattr
+0001e440: 2863 6c69 636b 6564 5f61 6374 6f72 2c20  (clicked_actor, 
+0001e450: 2247 6574 5069 636b 6162 6c65 2229 206f  "GetPickable") o
+0001e460: 7220 6e6f 7420 636c 6963 6b65 645f 6163  r not clicked_ac
+0001e470: 746f 722e 4765 7450 6963 6b61 626c 6528  tor.GetPickable(
+0001e480: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+0001e490: 6574 7572 6e0a 0a20 2020 2020 2020 2073  eturn..        s
+0001e4a0: 656c 662e 7069 636b 6564 3364 203d 2070  elf.picked3d = p
+0001e4b0: 6963 6b65 722e 4765 7450 6963 6b50 6f73  icker.GetPickPos
+0001e4c0: 6974 696f 6e28 290a 2020 2020 2020 2020  ition().        
+0001e4d0: 7365 6c66 2e70 6963 6b65 6432 6420 3d20  self.picked2d = 
+0001e4e0: 6e70 2e61 7272 6179 285b 782c 2079 5d29  np.array([x, y])
+0001e4f0: 0a0a 2020 2020 2020 2020 6966 206e 6f74  ..        if not
+0001e500: 2063 6c69 636b 6564 5f61 6374 6f72 3a0a   clicked_actor:.
+0001e510: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0001e520: 726e 0a0a 2020 2020 2020 2020 7365 6c66  rn..        self
+0001e530: 2e6a 7573 7472 656d 6f76 6564 203d 204e  .justremoved = N
+0001e540: 6f6e 650a 0a20 2020 2020 2020 2073 656c  one..        sel
+0001e550: 662e 636c 6963 6b65 645f 6163 746f 7220  f.clicked_actor 
+0001e560: 3d20 636c 6963 6b65 645f 6163 746f 720a  = clicked_actor.
+0001e570: 2020 2020 2020 2020 6966 2068 6173 6174          if hasat
+0001e580: 7472 2863 6c69 636b 6564 5f61 6374 6f72  tr(clicked_actor
+0001e590: 2c20 2270 6963 6b65 6433 6422 293a 2020  , "picked3d"):  
+0001e5a0: 2320 6d69 6768 7420 6265 206e 6f74 2061  # might be not a
+0001e5b0: 2076 6564 6f20 6f62 6a0a 2020 2020 2020   vedo obj.      
+0001e5c0: 2020 2020 2020 636c 6963 6b65 645f 6163        clicked_ac
+0001e5d0: 746f 722e 7069 636b 6564 3364 203d 2070  tor.picked3d = p
+0001e5e0: 6963 6b65 722e 4765 7450 6963 6b50 6f73  icker.GetPickPos
+0001e5f0: 6974 696f 6e28 290a 2020 2020 2020 2020  ition().        
+0001e600: 2020 2020 782c 2079 203d 2069 7265 6e2e      x, y = iren.
+0001e610: 4765 7445 7665 6e74 506f 7369 7469 6f6e  GetEventPosition
+0001e620: 2829 0a0a 2020 2020 2020 2020 2320 2d2d  ()..        # --
+0001e630: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
+0001e640: 2020 6966 2022 4869 7374 6f67 7261 6d31    if "Histogram1
+0001e650: 4422 2069 6e20 7069 636b 6572 2e47 6574  D" in picker.Get
+0001e660: 4173 7365 6d62 6c79 2829 2e5f 5f63 6c61  Assembly().__cla
+0001e670: 7373 5f5f 2e5f 5f6e 616d 655f 5f3a 0a20  ss__.__name__:. 
+0001e680: 2020 2020 2020 2020 2020 2068 6973 746f             histo
+0001e690: 203d 2070 6963 6b65 722e 4765 7441 7373   = picker.GetAss
+0001e6a0: 656d 626c 7928 290a 2020 2020 2020 2020  embly().        
+0001e6b0: 2020 2020 6966 2068 6973 746f 2e76 6572      if histo.ver
+0001e6c0: 626f 7365 3a0a 2020 2020 2020 2020 2020  bose:.          
+0001e6d0: 2020 2020 2020 7820 3d20 7365 6c66 2e70        x = self.p
+0001e6e0: 6963 6b65 6433 645b 305d 0a20 2020 2020  icked3d[0].     
+0001e6f0: 2020 2020 2020 2020 2020 2069 6478 203d             idx =
+0001e700: 206e 702e 6469 6769 7469 7a65 2878 2c20   np.digitize(x, 
+0001e710: 6869 7374 6f2e 6564 6765 7329 202d 2031  histo.edges) - 1
+0001e720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e730: 2066 203d 2068 6973 746f 2e66 7265 7175   f = histo.frequ
+0001e740: 656e 6369 6573 5b69 6478 5d0a 2020 2020  encies[idx].    
+0001e750: 2020 2020 2020 2020 2020 2020 636e 203d              cn =
+0001e760: 2068 6973 746f 2e63 656e 7465 7273 5b69   histo.centers[i
+0001e770: 6478 5d0a 2020 2020 2020 2020 2020 2020  dx].            
+0001e780: 2020 2020 7665 646f 2e63 6f6c 6f72 732e      vedo.colors.
+0001e790: 7072 696e 7463 2866 227b 6869 7374 6f2e  printc(f"{histo.
+0001e7a0: 6e61 6d65 7d2c 2062 696e 3d7b 6964 787d  name}, bin={idx}
+0001e7b0: 2c20 6365 6e74 6572 3d7b 636e 7d2c 2076  , center={cn}, v
+0001e7c0: 616c 7565 3d7b 667d 2229 0a0a 0a20 2020  alue={f}")...   
+0001e7d0: 2023 2323 2323 2323 2323 2323 2323 2323   ###############
+0001e7e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e7f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e800: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0001e810: 2323 2323 2323 2323 0a20 2020 2064 6566  ########.    def
+0001e820: 205f 6b65 7970 7265 7373 2873 656c 662c   _keypress(self,
+0001e830: 2069 7265 6e2c 2065 7665 6e74 293a 0a0a   iren, event):..
+0001e840: 2020 2020 2020 2020 2320 4e42 3a20 7174          # NB: qt
+0001e850: 2063 7265 6174 6573 2061 6e64 2070 6173   creates and pas
+0001e860: 7365 7320 6120 7674 6b47 656e 6572 6963  ses a vtkGeneric
+0001e870: 5265 6e64 6572 5769 6e64 6f77 496e 7465  RenderWindowInte
+0001e880: 7261 6374 6f72 0a0a 2020 2020 2020 2020  ractor..        
+0001e890: 6b65 7920 3d20 6972 656e 2e47 6574 4b65  key = iren.GetKe
+0001e8a0: 7953 796d 2829 0a0a 2020 2020 2020 2020  ySym()..        
+0001e8b0: 6966 2022 5f4c 2220 696e 206b 6579 206f  if "_L" in key o
+0001e8c0: 7220 225f 5222 2069 6e20 6b65 793a 0a20  r "_R" in key:. 
+0001e8d0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0001e8e0: 6e0a 0a20 2020 2020 2020 2069 6620 6972  n..        if ir
+0001e8f0: 656e 2e47 6574 5368 6966 744b 6579 2829  en.GetShiftKey()
+0001e900: 3a0a 2020 2020 2020 2020 2020 2020 6b65  :.            ke
+0001e910: 7920 3d20 6b65 792e 7570 7065 7228 290a  y = key.upper().
+0001e920: 0a20 2020 2020 2020 2069 6620 6972 656e  .        if iren
+0001e930: 2e47 6574 436f 6e74 726f 6c4b 6579 2829  .GetControlKey()
+0001e940: 3a0a 2020 2020 2020 2020 2020 2020 6b65  :.            ke
+0001e950: 7920 3d20 2243 7472 6c2b 2220 2b20 6b65  y = "Ctrl+" + ke
+0001e960: 790a 0a20 2020 2020 2020 2069 6620 6972  y..        if ir
+0001e970: 656e 2e47 6574 416c 744b 6579 2829 3a0a  en.GetAltKey():.
+0001e980: 2020 2020 2020 2020 2020 2020 6b65 7920              key 
+0001e990: 3d20 2241 6c74 2b22 202b 206b 6579 0a0a  = "Alt+" + key..
+0001e9a0: 2020 2020 2020 2020 2320 7574 696c 732e          # utils.
+0001e9b0: 7665 646f 2e70 7269 6e74 6328 2750 7265  vedo.printc('Pre
+0001e9c0: 7373 6564 206b 6579 3a27 2c20 6b65 792c  ssed key:', key,
+0001e9d0: 2063 3d27 7927 2c20 626f 783d 272d 2729   c='y', box='-')
+0001e9e0: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
+0001e9f0: 286b 6579 2c20 6972 656e 2e47 6574 5368  (key, iren.GetSh
+0001ea00: 6966 744b 6579 2829 2c20 6972 656e 2e47  iftKey(), iren.G
+0001ea10: 6574 416c 744b 6579 2829 2c20 6972 656e  etAltKey(), iren
+0001ea20: 2e47 6574 436f 6e74 726f 6c4b 6579 2829  .GetControlKey()
+0001ea30: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0001ea40: 2020 6972 656e 2e47 6574 4b65 7943 6f64    iren.GetKeyCod
+0001ea50: 6528 292c 2069 7265 6e2e 4765 7452 6570  e(), iren.GetRep
+0001ea60: 6561 7443 6f75 6e74 2829 290a 2020 2020  eatCount()).    
+0001ea70: 2020 2020 2320 6972 656e 2e45 7869 7443      # iren.ExitC
+0001ea80: 616c 6c62 6163 6b28 290a 2020 2020 2020  allback().      
+0001ea90: 2020 2320 7265 7475 726e 0a0a 2020 2020    # return..    
+0001eaa0: 2020 2020 782c 2079 203d 2069 7265 6e2e      x, y = iren.
+0001eab0: 4765 7445 7665 6e74 506f 7369 7469 6f6e  GetEventPosition
+0001eac0: 2829 0a20 2020 2020 2020 2072 656e 6465  ().        rende
+0001ead0: 7265 7220 3d20 6972 656e 2e46 696e 6450  rer = iren.FindP
+0001eae0: 6f6b 6564 5265 6e64 6572 6572 2878 2c20  okedRenderer(x, 
+0001eaf0: 7929 0a0a 2020 2020 2020 2020 6966 206b  y)..        if k
+0001eb00: 6579 2069 6e20 5b22 7122 2c20 2243 7472  ey in ["q", "Ctr
+0001eb10: 6c2b 7122 2c20 2243 7472 6c2b 7722 2c20  l+q", "Ctrl+w", 
+0001eb20: 2245 7363 6170 6522 5d3a 0a20 2020 2020  "Escape"]:.     
+0001eb30: 2020 2020 2020 2069 7265 6e2e 4578 6974         iren.Exit
+0001eb40: 4361 6c6c 6261 636b 2829 0a20 2020 2020  Callback().     
+0001eb50: 2020 2020 2020 2072 6574 7572 6e0a 0a20         return.. 
+0001eb60: 2020 2020 2020 2065 6c69 6620 6b65 7920         elif key 
+0001eb70: 3d3d 2022 4631 223a 0a20 2020 2020 2020  == "F1":.       
+0001eb80: 2020 2020 2076 6564 6f2e 6c6f 6767 6572       vedo.logger
+0001eb90: 2e69 6e66 6f28 2245 7865 6375 7469 6f6e  .info("Execution
+0001eba0: 2061 626f 7274 6564 2e20 4578 6974 696e   aborted. Exitin
+0001ebb0: 6720 7079 7468 6f6e 206b 6572 6e65 6c20  g python kernel 
+0001ebc0: 6e6f 772e 2229 0a20 2020 2020 2020 2020  now.").         
+0001ebd0: 2020 2069 7265 6e2e 4578 6974 4361 6c6c     iren.ExitCall
+0001ebe0: 6261 636b 2829 0a20 2020 2020 2020 2020  back().         
+0001ebf0: 2020 2073 7973 2e65 7869 7428 3029 0a0a     sys.exit(0)..
+0001ec00: 2020 2020 2020 2020 656c 6966 206b 6579          elif key
+0001ec10: 203d 3d20 2244 6f77 6e22 3a0a 2020 2020   == "Down":.    
+0001ec20: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0001ec30: 636c 6963 6b65 645f 6163 746f 7220 696e  clicked_actor in
+0001ec40: 2073 656c 662e 6765 745f 6d65 7368 6573   self.get_meshes
+0001ec50: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+0001ec60: 2020 2020 7365 6c66 2e63 6c69 636b 6564      self.clicked
+0001ec70: 5f61 6374 6f72 2e47 6574 5072 6f70 6572  _actor.GetProper
+0001ec80: 7479 2829 2e53 6574 4f70 6163 6974 7928  ty().SetOpacity(
+0001ec90: 302e 3032 290a 2020 2020 2020 2020 2020  0.02).          
+0001eca0: 2020 2020 2020 6266 7020 3d20 7365 6c66        bfp = self
+0001ecb0: 2e63 6c69 636b 6564 5f61 6374 6f72 2e47  .clicked_actor.G
+0001ecc0: 6574 4261 636b 6661 6365 5072 6f70 6572  etBackfaceProper
+0001ecd0: 7479 2829 0a20 2020 2020 2020 2020 2020  ty().           
+0001ece0: 2020 2020 2069 6620 6266 7020 616e 6420       if bfp and 
+0001ecf0: 6861 7361 7474 7228 7365 6c66 2e63 6c69  hasattr(self.cli
+0001ed00: 636b 6564 5f61 6374 6f72 2c20 225f 6266  cked_actor, "_bf
+0001ed10: 7072 6f70 2229 3a0a 2020 2020 2020 2020  prop"):.        
+0001ed20: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001ed30: 2e63 6c69 636b 6564 5f61 6374 6f72 2e5f  .clicked_actor._
+0001ed40: 6266 7072 6f70 203d 2062 6670 2020 2320  bfprop = bfp  # 
+0001ed50: 7361 7665 2069 740a 2020 2020 2020 2020  save it.        
+0001ed60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001ed70: 2e63 6c69 636b 6564 5f61 6374 6f72 2e53  .clicked_actor.S
+0001ed80: 6574 4261 636b 6661 6365 5072 6f70 6572  etBackfaceProper
+0001ed90: 7479 284e 6f6e 6529 0a20 2020 2020 2020  ty(None).       
+0001eda0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001edb0: 2020 2020 2020 2020 2020 2066 6f72 2061             for a
+0001edc0: 2069 6e20 7365 6c66 2e67 6574 5f6d 6573   in self.get_mes
+0001edd0: 6865 7328 293a 0a20 2020 2020 2020 2020  hes():.         
+0001ede0: 2020 2020 2020 2020 2020 2061 2e47 6574             a.Get
+0001edf0: 5072 6f70 6572 7479 2829 2e53 6574 4f70  Property().SetOp
+0001ee00: 6163 6974 7928 302e 3032 290a 2020 2020  acity(0.02).    
+0001ee10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ee20: 6266 7020 3d20 612e 4765 7442 6163 6b66  bfp = a.GetBackf
+0001ee30: 6163 6550 726f 7065 7274 7928 290a 2020  aceProperty().  
+0001ee40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ee50: 2020 6966 2062 6670 2061 6e64 2068 6173    if bfp and has
+0001ee60: 6174 7472 2861 2c20 225f 6266 7072 6f70  attr(a, "_bfprop
+0001ee70: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+0001ee80: 2020 2020 2020 2020 2020 2020 612e 5f62              a._b
+0001ee90: 6670 726f 7020 3d20 6266 700a 2020 2020  fprop = bfp.    
+0001eea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eeb0: 2020 2020 612e 5365 7442 6163 6b66 6163      a.SetBackfac
+0001eec0: 6550 726f 7065 7274 7928 4e6f 6e65 290a  eProperty(None).
+0001eed0: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+0001eee0: 7920 3d3d 2022 4c65 6674 223a 0a20 2020  y == "Left":.   
+0001eef0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+0001ef00: 2e63 6c69 636b 6564 5f61 6374 6f72 2069  .clicked_actor i
+0001ef10: 6e20 7365 6c66 2e67 6574 5f6d 6573 6865  n self.get_meshe
+0001ef20: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+0001ef30: 2020 2020 2061 7020 3d20 7365 6c66 2e63       ap = self.c
+0001ef40: 6c69 636b 6564 5f61 6374 6f72 2e47 6574  licked_actor.Get
+0001ef50: 5072 6f70 6572 7479 2829 0a20 2020 2020  Property().     
+0001ef60: 2020 2020 2020 2020 2020 2061 616c 203d             aal =
+0001ef70: 206d 6178 285b 6170 2e47 6574 4f70 6163   max([ap.GetOpac
+0001ef80: 6974 7928 2920 2a20 302e 3735 2c20 302e  ity() * 0.75, 0.
+0001ef90: 3031 5d29 0a20 2020 2020 2020 2020 2020  01]).           
+0001efa0: 2020 2020 2061 702e 5365 744f 7061 6369       ap.SetOpaci
+0001efb0: 7479 2861 616c 290a 2020 2020 2020 2020  ty(aal).        
+0001efc0: 2020 2020 2020 2020 6266 7020 3d20 7365          bfp = se
+0001efd0: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
+0001efe0: 2e47 6574 4261 636b 6661 6365 5072 6f70  .GetBackfaceProp
+0001eff0: 6572 7479 2829 0a20 2020 2020 2020 2020  erty().         
+0001f000: 2020 2020 2020 2069 6620 6266 7020 616e         if bfp an
+0001f010: 6420 6861 7361 7474 7228 7365 6c66 2e63  d hasattr(self.c
+0001f020: 6c69 636b 6564 5f61 6374 6f72 2c20 225f  licked_actor, "_
+0001f030: 6266 7072 6f70 2229 3a0a 2020 2020 2020  bfprop"):.      
+0001f040: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001f050: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
+0001f060: 2e5f 6266 7072 6f70 203d 2062 6670 0a20  ._bfprop = bfp. 
+0001f070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f080: 2020 2073 656c 662e 636c 6963 6b65 645f     self.clicked_
+0001f090: 6163 746f 722e 5365 7442 6163 6b66 6163  actor.SetBackfac
+0001f0a0: 6550 726f 7065 7274 7928 4e6f 6e65 290a  eProperty(None).
+0001f0b0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001f0c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001f0d0: 2020 666f 7220 6120 696e 2073 656c 662e    for a in self.
+0001f0e0: 6765 745f 6d65 7368 6573 2829 3a0a 2020  get_meshes():.  
+0001f0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f100: 2020 6170 203d 2061 2e47 6574 5072 6f70    ap = a.GetProp
+0001f110: 6572 7479 2829 0a20 2020 2020 2020 2020  erty().         
+0001f120: 2020 2020 2020 2020 2020 2061 616c 203d             aal =
+0001f130: 206d 6178 285b 6170 2e47 6574 4f70 6163   max([ap.GetOpac
+0001f140: 6974 7928 2920 2a20 302e 3735 2c20 302e  ity() * 0.75, 0.
+0001f150: 3031 5d29 0a20 2020 2020 2020 2020 2020  01]).           
+0001f160: 2020 2020 2020 2020 2061 702e 5365 744f           ap.SetO
+0001f170: 7061 6369 7479 2861 616c 290a 2020 2020  pacity(aal).    
+0001f180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f190: 6266 7020 3d20 612e 4765 7442 6163 6b66  bfp = a.GetBackf
+0001f1a0: 6163 6550 726f 7065 7274 7928 290a 2020  aceProperty().  
+0001f1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f1c0: 2020 6966 2062 6670 2061 6e64 2068 6173    if bfp and has
+0001f1d0: 6174 7472 2861 2c20 225f 6266 7072 6f70  attr(a, "_bfprop
+0001f1e0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+0001f1f0: 2020 2020 2020 2020 2020 2020 612e 5f62              a._b
+0001f200: 6670 726f 7020 3d20 6266 700a 2020 2020  fprop = bfp.    
+0001f210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f220: 2020 2020 612e 5365 7442 6163 6b66 6163      a.SetBackfac
+0001f230: 6550 726f 7065 7274 7928 4e6f 6e65 290a  eProperty(None).
+0001f240: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+0001f250: 7920 3d3d 2022 5269 6768 7422 3a0a 2020  y == "Right":.  
+0001f260: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+0001f270: 662e 636c 6963 6b65 645f 6163 746f 7220  f.clicked_actor 
+0001f280: 696e 2073 656c 662e 6765 745f 6d65 7368  in self.get_mesh
+0001f290: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
+0001f2a0: 2020 2020 2020 6170 203d 2073 656c 662e        ap = self.
+0001f2b0: 636c 6963 6b65 645f 6163 746f 722e 4765  clicked_actor.Ge
+0001f2c0: 7450 726f 7065 7274 7928 290a 2020 2020  tProperty().    
+0001f2d0: 2020 2020 2020 2020 2020 2020 6161 6c20              aal 
+0001f2e0: 3d20 6d69 6e28 5b61 702e 4765 744f 7061  = min([ap.GetOpa
+0001f2f0: 6369 7479 2829 202a 2031 2e32 352c 2031  city() * 1.25, 1
+0001f300: 2e30 5d29 0a20 2020 2020 2020 2020 2020  .0]).           
+0001f310: 2020 2020 2061 702e 5365 744f 7061 6369       ap.SetOpaci
+0001f320: 7479 2861 616c 290a 2020 2020 2020 2020  ty(aal).        
+0001f330: 2020 2020 2020 2020 6966 2028 0a20 2020          if (.   
+0001f340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f350: 2061 616c 203d 3d20 310a 2020 2020 2020   aal == 1.      
+0001f360: 2020 2020 2020 2020 2020 2020 2020 616e                an
+0001f370: 6420 6861 7361 7474 7228 7365 6c66 2e63  d hasattr(self.c
+0001f380: 6c69 636b 6564 5f61 6374 6f72 2c20 225f  licked_actor, "_
+0001f390: 6266 7072 6f70 2229 0a20 2020 2020 2020  bfprop").       
+0001f3a0: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+0001f3b0: 2073 656c 662e 636c 6963 6b65 645f 6163   self.clicked_ac
+0001f3c0: 746f 722e 5f62 6670 726f 700a 2020 2020  tor._bfprop.    
+0001f3d0: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
+0001f3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f3f0: 2020 2023 2070 7574 2062 6163 6b0a 2020     # put back.  
+0001f400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f410: 2020 7365 6c66 2e63 6c69 636b 6564 5f61    self.clicked_a
+0001f420: 6374 6f72 2e53 6574 4261 636b 6661 6365  ctor.SetBackface
+0001f430: 5072 6f70 6572 7479 2873 656c 662e 636c  Property(self.cl
+0001f440: 6963 6b65 645f 6163 746f 722e 5f62 6670  icked_actor._bfp
+0001f450: 726f 7029 0a20 2020 2020 2020 2020 2020  rop).           
+0001f460: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001f470: 2020 2020 2020 2066 6f72 2061 2069 6e20         for a in 
+0001f480: 7365 6c66 2e67 6574 5f6d 6573 6865 7328  self.get_meshes(
+0001f490: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0001f4a0: 2020 2020 2020 2061 7020 3d20 612e 4765         ap = a.Ge
+0001f4b0: 7450 726f 7065 7274 7928 290a 2020 2020  tProperty().    
+0001f4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f4d0: 6161 6c20 3d20 6d69 6e28 5b61 702e 4765  aal = min([ap.Ge
+0001f4e0: 744f 7061 6369 7479 2829 202a 2031 2e32  tOpacity() * 1.2
+0001f4f0: 352c 2031 2e30 5d29 0a20 2020 2020 2020  5, 1.0]).       
+0001f500: 2020 2020 2020 2020 2020 2020 2061 702e               ap.
+0001f510: 5365 744f 7061 6369 7479 2861 616c 290a  SetOpacity(aal).
 0001f520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f530: 2020 6266 7020 3d20 612e 4765 7442 6163    bfp = a.GetBac
-0001f540: 6b66 6163 6550 726f 7065 7274 7928 290a  kfaceProperty().
-0001f550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f560: 2020 2020 2020 2020 6966 2062 6670 2061          if bfp a
-0001f570: 6e64 2068 6173 6174 7472 2861 2c20 225f  nd hasattr(a, "_
-0001f580: 6266 7072 6f70 2229 3a0a 2020 2020 2020  bfprop"):.      
-0001f590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f5a0: 2020 2020 2020 612e 5f62 6670 726f 7020        a._bfprop 
-0001f5b0: 3d20 6266 700a 2020 2020 2020 2020 2020  = bfp.          
-0001f5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f5d0: 2020 612e 5365 7442 6163 6b66 6163 6550    a.SetBackfaceP
-0001f5e0: 726f 7065 7274 7928 4e6f 6e65 290a 0a20  roperty(None).. 
-0001f5f0: 2020 2020 2020 2065 6c69 6620 6b65 7920         elif key 
-0001f600: 3d3d 2022 5269 6768 7422 3a0a 2020 2020  == "Right":.    
-0001f610: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001f620: 636c 6963 6b65 645f 6163 746f 7220 696e  clicked_actor in
-0001f630: 2073 656c 662e 6765 745f 6d65 7368 6573   self.get_meshes
-0001f640: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-0001f650: 2020 2020 6170 203d 2073 656c 662e 636c      ap = self.cl
-0001f660: 6963 6b65 645f 6163 746f 722e 4765 7450  icked_actor.GetP
-0001f670: 726f 7065 7274 7928 290a 2020 2020 2020  roperty().      
-0001f680: 2020 2020 2020 2020 2020 6161 6c20 3d20            aal = 
-0001f690: 6d69 6e28 5b61 702e 4765 744f 7061 6369  min([ap.GetOpaci
-0001f6a0: 7479 2829 202a 2031 2e32 352c 2031 2e30  ty() * 1.25, 1.0
-0001f6b0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
-0001f6c0: 2020 2061 702e 5365 744f 7061 6369 7479     ap.SetOpacity
-0001f6d0: 2861 616c 290a 2020 2020 2020 2020 2020  (aal).          
-0001f6e0: 2020 2020 2020 6966 2061 616c 203d 3d20        if aal == 
-0001f6f0: 3120 616e 6420 6861 7361 7474 7228 7365  1 and hasattr(se
-0001f700: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
-0001f710: 2c20 225f 6266 7072 6f70 2229 205c 0a20  , "_bfprop") \. 
-0001f720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f730: 2061 6e64 2073 656c 662e 636c 6963 6b65   and self.clicke
-0001f740: 645f 6163 746f 722e 5f62 6670 726f 703a  d_actor._bfprop:
-0001f750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001f760: 2020 2020 2023 2070 7574 2062 6163 6b0a       # put back.
-0001f770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f780: 2020 2020 7365 6c66 2e63 6c69 636b 6564      self.clicked
-0001f790: 5f61 6374 6f72 2e53 6574 4261 636b 6661  _actor.SetBackfa
-0001f7a0: 6365 5072 6f70 6572 7479 2873 656c 662e  ceProperty(self.
-0001f7b0: 636c 6963 6b65 645f 6163 746f 722e 5f62  clicked_actor._b
-0001f7c0: 6670 726f 7029 0a20 2020 2020 2020 2020  fprop).         
-0001f7d0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001f7e0: 2020 2020 2020 2020 2066 6f72 2061 2069           for a i
-0001f7f0: 6e20 7365 6c66 2e67 6574 5f6d 6573 6865  n self.get_meshe
-0001f800: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
-0001f810: 2020 2020 2020 2020 2069 6620 612e 4765           if a.Ge
-0001f820: 7450 6963 6b61 626c 6528 293a 0a20 2020  tPickable():.   
-0001f830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f840: 2020 2020 2061 7020 3d20 612e 4765 7450       ap = a.GetP
-0001f850: 726f 7065 7274 7928 290a 2020 2020 2020  roperty().      
-0001f860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f870: 2020 6161 6c20 3d20 6d69 6e28 5b61 702e    aal = min([ap.
-0001f880: 4765 744f 7061 6369 7479 2829 202a 2031  GetOpacity() * 1
-0001f890: 2e32 352c 2031 2e30 5d29 0a20 2020 2020  .25, 1.0]).     
-0001f8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f8b0: 2020 2061 702e 5365 744f 7061 6369 7479     ap.SetOpacity
-0001f8c0: 2861 616c 290a 2020 2020 2020 2020 2020  (aal).          
-0001f8d0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001f8e0: 2061 616c 203d 3d20 3120 616e 6420 6861   aal == 1 and ha
-0001f8f0: 7361 7474 7228 612c 2022 5f62 6670 726f  sattr(a, "_bfpro
-0001f900: 7022 2920 616e 6420 612e 5f62 6670 726f  p") and a._bfpro
-0001f910: 703a 0a20 2020 2020 2020 2020 2020 2020  p:.             
-0001f920: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0001f930: 2e53 6574 4261 636b 6661 6365 5072 6f70  .SetBackfaceProp
-0001f940: 6572 7479 2861 2e5f 6266 7072 6f70 290a  erty(a._bfprop).
-0001f950: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
-0001f960: 7920 696e 2028 2773 6c61 7368 272c 2027  y in ('slash', '
-0001f970: 5570 2729 3a0a 2020 2020 2020 2020 2020  Up'):.          
-0001f980: 2020 6966 2073 656c 662e 636c 6963 6b65    if self.clicke
-0001f990: 645f 6163 746f 7220 696e 2073 656c 662e  d_actor in self.
-0001f9a0: 6765 745f 6d65 7368 6573 2829 3a0a 2020  get_meshes():.  
-0001f9b0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0001f9c0: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
-0001f9d0: 2e47 6574 5072 6f70 6572 7479 2829 2e53  .GetProperty().S
-0001f9e0: 6574 4f70 6163 6974 7928 3129 0a20 2020  etOpacity(1).   
-0001f9f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0001fa00: 6861 7361 7474 7228 7365 6c66 2e63 6c69  hasattr(self.cli
-0001fa10: 636b 6564 5f61 6374 6f72 2c20 225f 6266  cked_actor, "_bf
-0001fa20: 7072 6f70 2229 2061 6e64 2073 656c 662e  prop") and self.
-0001fa30: 636c 6963 6b65 645f 6163 746f 722e 5f62  clicked_actor._b
-0001fa40: 6670 726f 703a 0a20 2020 2020 2020 2020  fprop:.         
-0001fa50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001fa60: 636c 6963 6b65 645f 6163 746f 722e 5365  clicked_actor.Se
-0001fa70: 7442 6163 6b66 6163 6550 726f 7065 7274  tBackfacePropert
-0001fa80: 7928 7365 6c66 2e63 6c69 636b 6564 5f61  y(self.clicked_a
-0001fa90: 6374 6f72 2e5f 6266 7072 6f70 290a 2020  ctor._bfprop).  
-0001faa0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0001fab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fac0: 666f 7220 6120 696e 2073 656c 662e 6765  for a in self.ge
-0001fad0: 745f 6d65 7368 6573 2829 3a0a 2020 2020  t_meshes():.    
-0001fae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001faf0: 6966 2061 2e47 6574 5069 636b 6162 6c65  if a.GetPickable
-0001fb00: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-0001fb10: 2020 2020 2020 2020 2020 2020 612e 4765              a.Ge
-0001fb20: 7450 726f 7065 7274 7928 292e 5365 744f  tProperty().SetO
-0001fb30: 7061 6369 7479 2831 290a 2020 2020 2020  pacity(1).      
-0001fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb50: 2020 6966 2068 6173 6174 7472 2861 2c20    if hasattr(a, 
-0001fb60: 225f 6266 7072 6f70 2229 2061 6e64 2061  "_bfprop") and a
-0001fb70: 2e5f 6266 7072 6f70 3a0a 2020 2020 2020  ._bfprop:.      
-0001fb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb90: 2020 2020 2020 612e 5365 7442 6163 6b66        a.SetBackf
-0001fba0: 6163 6550 726f 7065 7274 7928 612e 5f62  aceProperty(a._b
-0001fbb0: 6670 726f 7029 0a0a 2020 2020 2020 2020  fprop)..        
-0001fbc0: 656c 6966 206b 6579 203d 3d20 2250 223a  elif key == "P":
-0001fbd0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0001fbe0: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
-0001fbf0: 6f72 2069 6e20 7365 6c66 2e67 6574 5f6d  or in self.get_m
-0001fc00: 6573 6865 7328 293a 0a20 2020 2020 2020  eshes():.       
-0001fc10: 2020 2020 2020 2020 2061 6374 7320 3d20           acts = 
-0001fc20: 5b73 656c 662e 636c 6963 6b65 645f 6163  [self.clicked_ac
-0001fc30: 746f 725d 0a20 2020 2020 2020 2020 2020  tor].           
-0001fc40: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001fc50: 2020 2020 2020 2061 6374 7320 3d20 7365         acts = se
-0001fc60: 6c66 2e67 6574 5f6d 6573 6865 7328 290a  lf.get_meshes().
-0001fc70: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0001fc80: 6961 2069 6e20 6163 7473 3a0a 2020 2020  ia in acts:.    
-0001fc90: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-0001fca0: 612e 4765 7450 6963 6b61 626c 6528 293a  a.GetPickable():
-0001fcb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001fcc0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-0001fcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fce0: 2020 7073 203d 2069 612e 4765 7450 726f    ps = ia.GetPro
-0001fcf0: 7065 7274 7928 292e 4765 7450 6f69 6e74  perty().GetPoint
-0001fd00: 5369 7a65 2829 0a20 2020 2020 2020 2020  Size().         
-0001fd10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001fd20: 6620 7073 203e 2031 3a0a 2020 2020 2020  f ps > 1:.      
-0001fd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd40: 2020 2020 2020 6961 2e47 6574 5072 6f70        ia.GetProp
-0001fd50: 6572 7479 2829 2e53 6574 506f 696e 7453  erty().SetPointS
-0001fd60: 697a 6528 7073 202d 2031 290a 2020 2020  ize(ps - 1).    
-0001fd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd80: 2020 2020 6961 2e47 6574 5072 6f70 6572      ia.GetProper
-0001fd90: 7479 2829 2e53 6574 5265 7072 6573 656e  ty().SetRepresen
-0001fda0: 7461 7469 6f6e 546f 506f 696e 7473 2829  tationToPoints()
-0001fdb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001fdc0: 2020 2020 2065 7863 6570 7420 4174 7472       except Attr
-0001fdd0: 6962 7574 6545 7272 6f72 3a0a 2020 2020  ibuteError:.    
+0001f530: 2020 2020 6966 2061 616c 203d 3d20 3120      if aal == 1 
+0001f540: 616e 6420 6861 7361 7474 7228 612c 2022  and hasattr(a, "
+0001f550: 5f62 6670 726f 7022 2920 616e 6420 612e  _bfprop") and a.
+0001f560: 5f62 6670 726f 703a 0a20 2020 2020 2020  _bfprop:.       
+0001f570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f580: 2061 2e53 6574 4261 636b 6661 6365 5072   a.SetBackfacePr
+0001f590: 6f70 6572 7479 2861 2e5f 6266 7072 6f70  operty(a._bfprop
+0001f5a0: 290a 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+0001f5b0: 6b65 7920 696e 2028 2273 6c61 7368 222c  key in ("slash",
+0001f5c0: 2022 5570 2229 3a0a 2020 2020 2020 2020   "Up"):.        
+0001f5d0: 2020 2020 6966 2073 656c 662e 636c 6963      if self.clic
+0001f5e0: 6b65 645f 6163 746f 7220 696e 2073 656c  ked_actor in sel
+0001f5f0: 662e 6765 745f 6d65 7368 6573 2829 3a0a  f.get_meshes():.
+0001f600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f610: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+0001f620: 6f72 2e47 6574 5072 6f70 6572 7479 2829  or.GetProperty()
+0001f630: 2e53 6574 4f70 6163 6974 7928 3129 0a20  .SetOpacity(1). 
+0001f640: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001f650: 6620 6861 7361 7474 7228 7365 6c66 2e63  f hasattr(self.c
+0001f660: 6c69 636b 6564 5f61 6374 6f72 2c20 225f  licked_actor, "_
+0001f670: 6266 7072 6f70 2229 2061 6e64 2073 656c  bfprop") and sel
+0001f680: 662e 636c 6963 6b65 645f 6163 746f 722e  f.clicked_actor.
+0001f690: 5f62 6670 726f 703a 0a20 2020 2020 2020  _bfprop:.       
+0001f6a0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001f6b0: 662e 636c 6963 6b65 645f 6163 746f 722e  f.clicked_actor.
+0001f6c0: 5365 7442 6163 6b66 6163 6550 726f 7065  SetBackfacePrope
+0001f6d0: 7274 7928 7365 6c66 2e63 6c69 636b 6564  rty(self.clicked
+0001f6e0: 5f61 6374 6f72 2e5f 6266 7072 6f70 290a  _actor._bfprop).
+0001f6f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001f700: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001f710: 2020 666f 7220 6120 696e 2073 656c 662e    for a in self.
+0001f720: 6765 745f 6d65 7368 6573 2829 3a0a 2020  get_meshes():.  
+0001f730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f740: 2020 612e 4765 7450 726f 7065 7274 7928    a.GetProperty(
+0001f750: 292e 5365 744f 7061 6369 7479 2831 290a  ).SetOpacity(1).
+0001f760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f770: 2020 2020 6966 2068 6173 6174 7472 2861      if hasattr(a
+0001f780: 2c20 225f 6266 7072 6f70 2229 2061 6e64  , "_bfprop") and
+0001f790: 2061 2e5f 6266 7072 6f70 3a0a 2020 2020   a._bfprop:.    
+0001f7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f7b0: 2020 2020 612e 5365 7442 6163 6b66 6163      a.SetBackfac
+0001f7c0: 6550 726f 7065 7274 7928 612e 5f62 6670  eProperty(a._bfp
+0001f7d0: 726f 7029 0a0a 2020 2020 2020 2020 656c  rop)..        el
+0001f7e0: 6966 206b 6579 203d 3d20 2250 223a 0a20  if key == "P":. 
+0001f7f0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+0001f800: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
+0001f810: 2069 6e20 7365 6c66 2e67 6574 5f6d 6573   in self.get_mes
+0001f820: 6865 7328 293a 0a20 2020 2020 2020 2020  hes():.         
+0001f830: 2020 2020 2020 2061 6374 7320 3d20 5b73         acts = [s
+0001f840: 656c 662e 636c 6963 6b65 645f 6163 746f  elf.clicked_acto
+0001f850: 725d 0a20 2020 2020 2020 2020 2020 2065  r].            e
+0001f860: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001f870: 2020 2020 2061 6374 7320 3d20 7365 6c66       acts = self
+0001f880: 2e67 6574 5f6d 6573 6865 7328 290a 2020  .get_meshes().  
+0001f890: 2020 2020 2020 2020 2020 666f 7220 6961            for ia
+0001f8a0: 2069 6e20 6163 7473 3a0a 2020 2020 2020   in acts:.      
+0001f8b0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+0001f8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f8d0: 2020 2070 7320 3d20 6961 2e47 6574 5072     ps = ia.GetPr
+0001f8e0: 6f70 6572 7479 2829 2e47 6574 506f 696e  operty().GetPoin
+0001f8f0: 7453 697a 6528 290a 2020 2020 2020 2020  tSize().        
+0001f900: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+0001f910: 7320 3e20 313a 0a20 2020 2020 2020 2020  s > 1:.         
+0001f920: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001f930: 612e 4765 7450 726f 7065 7274 7928 292e  a.GetProperty().
+0001f940: 5365 7450 6f69 6e74 5369 7a65 2870 7320  SetPointSize(ps 
+0001f950: 2d20 3129 0a20 2020 2020 2020 2020 2020  - 1).           
+0001f960: 2020 2020 2020 2020 2069 612e 4765 7450           ia.GetP
+0001f970: 726f 7065 7274 7928 292e 5365 7452 6570  roperty().SetRep
+0001f980: 7265 7365 6e74 6174 696f 6e54 6f50 6f69  resentationToPoi
+0001f990: 6e74 7328 290a 2020 2020 2020 2020 2020  nts().          
+0001f9a0: 2020 2020 2020 6578 6365 7074 2041 7474        except Att
+0001f9b0: 7269 6275 7465 4572 726f 723a 0a20 2020  ributeError:.   
+0001f9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f9d0: 2070 6173 730a 0a20 2020 2020 2020 2065   pass..        e
+0001f9e0: 6c69 6620 6b65 7920 3d3d 2022 5522 3a0a  lif key == "U":.
+0001f9f0: 2020 2020 2020 2020 2020 2020 7076 616c              pval
+0001fa00: 203d 2072 656e 6465 7265 722e 4765 7441   = renderer.GetA
+0001fa10: 6374 6976 6543 616d 6572 6128 292e 4765  ctiveCamera().Ge
+0001fa20: 7450 6172 616c 6c65 6c50 726f 6a65 6374  tParallelProject
+0001fa30: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
+0001fa40: 2020 7265 6e64 6572 6572 2e47 6574 4163    renderer.GetAc
+0001fa50: 7469 7665 4361 6d65 7261 2829 2e53 6574  tiveCamera().Set
+0001fa60: 5061 7261 6c6c 656c 5072 6f6a 6563 7469  ParallelProjecti
+0001fa70: 6f6e 286e 6f74 2070 7661 6c29 0a20 2020  on(not pval).   
+0001fa80: 2020 2020 2020 2020 2069 6620 7076 616c           if pval
+0001fa90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001faa0: 2020 7265 6e64 6572 6572 2e52 6573 6574    renderer.Reset
+0001fab0: 4361 6d65 7261 2829 0a0a 2020 2020 2020  Camera()..      
+0001fac0: 2020 656c 6966 206b 6579 203d 3d20 2270    elif key == "p
+0001fad0: 223a 0a20 2020 2020 2020 2020 2020 2069  ":.            i
+0001fae0: 6620 7365 6c66 2e63 6c69 636b 6564 5f61  f self.clicked_a
+0001faf0: 6374 6f72 2069 6e20 7365 6c66 2e67 6574  ctor in self.get
+0001fb00: 5f6d 6573 6865 7328 293a 0a20 2020 2020  _meshes():.     
+0001fb10: 2020 2020 2020 2020 2020 2061 6374 7320             acts 
+0001fb20: 3d20 5b73 656c 662e 636c 6963 6b65 645f  = [self.clicked_
+0001fb30: 6163 746f 725d 0a20 2020 2020 2020 2020  actor].         
+0001fb40: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001fb50: 2020 2020 2020 2020 2061 6374 7320 3d20           acts = 
+0001fb60: 7365 6c66 2e67 6574 5f6d 6573 6865 7328  self.get_meshes(
+0001fb70: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
+0001fb80: 7220 6961 2069 6e20 6163 7473 3a0a 2020  r ia in acts:.  
+0001fb90: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+0001fba0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+0001fbb0: 2020 2020 2020 2070 7320 3d20 6961 2e47         ps = ia.G
+0001fbc0: 6574 5072 6f70 6572 7479 2829 2e47 6574  etProperty().Get
+0001fbd0: 506f 696e 7453 697a 6528 290a 2020 2020  PointSize().    
+0001fbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fbf0: 6961 2e47 6574 5072 6f70 6572 7479 2829  ia.GetProperty()
+0001fc00: 2e53 6574 506f 696e 7453 697a 6528 7073  .SetPointSize(ps
+0001fc10: 202b 2032 290a 2020 2020 2020 2020 2020   + 2).          
+0001fc20: 2020 2020 2020 2020 2020 6961 2e47 6574            ia.Get
+0001fc30: 5072 6f70 6572 7479 2829 2e53 6574 5265  Property().SetRe
+0001fc40: 7072 6573 656e 7461 7469 6f6e 546f 506f  presentationToPo
+0001fc50: 696e 7473 2829 0a20 2020 2020 2020 2020  ints().         
+0001fc60: 2020 2020 2020 2065 7863 6570 7420 4174         except At
+0001fc70: 7472 6962 7574 6545 7272 6f72 3a0a 2020  tributeError:.  
+0001fc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fc90: 2020 7061 7373 0a0a 2020 2020 2020 2020    pass..        
+0001fca0: 656c 6966 206b 6579 203d 3d20 2277 223a  elif key == "w":
+0001fcb0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0001fcc0: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+0001fcd0: 6f72 2061 6e64 2073 656c 662e 636c 6963  or and self.clic
+0001fce0: 6b65 645f 6163 746f 7220 696e 2073 656c  ked_actor in sel
+0001fcf0: 662e 6765 745f 6d65 7368 6573 2829 3a0a  f.get_meshes():.
+0001fd00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fd10: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+0001fd20: 6f72 2e47 6574 5072 6f70 6572 7479 2829  or.GetProperty()
+0001fd30: 2e53 6574 5265 7072 6573 656e 7461 7469  .SetRepresentati
+0001fd40: 6f6e 546f 5769 7265 6672 616d 6528 290a  onToWireframe().
+0001fd50: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001fd60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001fd70: 2020 666f 7220 6120 696e 2073 656c 662e    for a in self.
+0001fd80: 6765 745f 6d65 7368 6573 2829 3a0a 2020  get_meshes():.  
+0001fd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fda0: 2020 6966 2061 2e47 6574 5072 6f70 6572    if a.GetProper
+0001fdb0: 7479 2829 2e47 6574 5265 7072 6573 656e  ty().GetRepresen
+0001fdc0: 7461 7469 6f6e 2829 203d 3d20 313a 2020  tation() == 1:  
+0001fdd0: 2320 746f 6767 6c65 0a20 2020 2020 2020  # toggle.       
 0001fde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fdf0: 2020 2020 7061 7373 0a0a 2020 2020 2020      pass..      
-0001fe00: 2020 656c 6966 206b 6579 203d 3d20 2275    elif key == "u
-0001fe10: 223a 0a20 2020 2020 2020 2020 2020 2070  ":.            p
-0001fe20: 7661 6c20 3d20 7265 6e64 6572 6572 2e47  val = renderer.G
-0001fe30: 6574 4163 7469 7665 4361 6d65 7261 2829  etActiveCamera()
-0001fe40: 2e47 6574 5061 7261 6c6c 656c 5072 6f6a  .GetParallelProj
-0001fe50: 6563 7469 6f6e 2829 0a20 2020 2020 2020  ection().       
-0001fe60: 2020 2020 2072 656e 6465 7265 722e 4765       renderer.Ge
-0001fe70: 7441 6374 6976 6543 616d 6572 6128 292e  tActiveCamera().
-0001fe80: 5365 7450 6172 616c 6c65 6c50 726f 6a65  SetParallelProje
-0001fe90: 6374 696f 6e28 6e6f 7420 7076 616c 290a  ction(not pval).
-0001fea0: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-0001feb0: 7661 6c3a 0a20 2020 2020 2020 2020 2020  val:.           
-0001fec0: 2020 2020 2072 656e 6465 7265 722e 5265       renderer.Re
-0001fed0: 7365 7443 616d 6572 6128 290a 0a20 2020  setCamera()..   
-0001fee0: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
-0001fef0: 2022 7022 3a0a 2020 2020 2020 2020 2020   "p":.          
-0001ff00: 2020 6966 2073 656c 662e 636c 6963 6b65    if self.clicke
-0001ff10: 645f 6163 746f 7220 696e 2073 656c 662e  d_actor in self.
-0001ff20: 6765 745f 6d65 7368 6573 2829 3a0a 2020  get_meshes():.  
-0001ff30: 2020 2020 2020 2020 2020 2020 2020 6163                ac
-0001ff40: 7473 203d 205b 7365 6c66 2e63 6c69 636b  ts = [self.click
-0001ff50: 6564 5f61 6374 6f72 5d0a 2020 2020 2020  ed_actor].      
-0001ff60: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001ff70: 2020 2020 2020 2020 2020 2020 6163 7473              acts
-0001ff80: 203d 2073 656c 662e 6765 745f 6d65 7368   = self.get_mesh
-0001ff90: 6573 2829 0a20 2020 2020 2020 2020 2020  es().           
-0001ffa0: 2066 6f72 2069 6120 696e 2061 6374 733a   for ia in acts:
-0001ffb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ffc0: 2069 6620 6961 2e47 6574 5069 636b 6162   if ia.GetPickab
-0001ffd0: 6c65 2829 3a0a 2020 2020 2020 2020 2020  le():.          
-0001ffe0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
-0001fff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020000: 2020 2020 2020 2070 7320 3d20 6961 2e47         ps = ia.G
-00020010: 6574 5072 6f70 6572 7479 2829 2e47 6574  etProperty().Get
-00020020: 506f 696e 7453 697a 6528 290a 2020 2020  PointSize().    
-00020030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020040: 2020 2020 6961 2e47 6574 5072 6f70 6572      ia.GetProper
-00020050: 7479 2829 2e53 6574 506f 696e 7453 697a  ty().SetPointSiz
-00020060: 6528 7073 202b 2032 290a 2020 2020 2020  e(ps + 2).      
-00020070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020080: 2020 6961 2e47 6574 5072 6f70 6572 7479    ia.GetProperty
-00020090: 2829 2e53 6574 5265 7072 6573 656e 7461  ().SetRepresenta
-000200a0: 7469 6f6e 546f 506f 696e 7473 2829 0a20  tionToPoints(). 
-000200b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200c0: 2020 2065 7863 6570 7420 4174 7472 6962     except Attrib
-000200d0: 7574 6545 7272 6f72 3a0a 2020 2020 2020  uteError:.      
-000200e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200f0: 2020 7061 7373 0a0a 2020 2020 2020 2020    pass..        
-00020100: 656c 6966 206b 6579 203d 3d20 2277 223a  elif key == "w":
-00020110: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00020120: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
-00020130: 6f72 2061 6e64 2073 656c 662e 636c 6963  or and self.clic
-00020140: 6b65 645f 6163 746f 7220 696e 2073 656c  ked_actor in sel
-00020150: 662e 6765 745f 6d65 7368 6573 2829 3a0a  f.get_meshes():.
-00020160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020170: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
-00020180: 6f72 2e47 6574 5072 6f70 6572 7479 2829  or.GetProperty()
-00020190: 2e53 6574 5265 7072 6573 656e 7461 7469  .SetRepresentati
-000201a0: 6f6e 546f 5769 7265 6672 616d 6528 290a  onToWireframe().
-000201b0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000201c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000201d0: 2020 666f 7220 6120 696e 2073 656c 662e    for a in self.
-000201e0: 6765 745f 6d65 7368 6573 2829 3a0a 2020  get_meshes():.  
-000201f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020200: 2020 6966 2061 2061 6e64 2061 2e47 6574    if a and a.Get
-00020210: 5069 636b 6162 6c65 2829 3a0a 2020 2020  Pickable():.    
-00020220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020230: 2020 2020 6966 2061 2e47 6574 5072 6f70      if a.GetProp
-00020240: 6572 7479 2829 2e47 6574 5265 7072 6573  erty().GetRepres
-00020250: 656e 7461 7469 6f6e 2829 203d 3d20 313a  entation() == 1:
-00020260: 2020 2320 746f 6767 6c65 0a20 2020 2020    # toggle.     
+0001fdf0: 2061 2e47 6574 5072 6f70 6572 7479 2829   a.GetProperty()
+0001fe00: 2e53 6574 5265 7072 6573 656e 7461 7469  .SetRepresentati
+0001fe10: 6f6e 546f 5375 7266 6163 6528 290a 2020  onToSurface().  
+0001fe20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fe30: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001fe40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fe50: 612e 4765 7450 726f 7065 7274 7928 292e  a.GetProperty().
+0001fe60: 5365 7452 6570 7265 7365 6e74 6174 696f  SetRepresentatio
+0001fe70: 6e54 6f57 6972 6566 7261 6d65 2829 0a0a  nToWireframe()..
+0001fe80: 2020 2020 2020 2020 656c 6966 206b 6579          elif key
+0001fe90: 203d 3d20 2272 223a 0a20 2020 2020 2020   == "r":.       
+0001fea0: 2020 2020 2072 656e 6465 7265 722e 5265       renderer.Re
+0001feb0: 7365 7443 616d 6572 6128 290a 0a20 2020  setCamera()..   
+0001fec0: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
+0001fed0: 2022 6822 3a0a 2020 2020 2020 2020 2020   "h":.          
+0001fee0: 2020 6d73 6720 3d20 280a 2020 2020 2020    msg = (.      
+0001fef0: 2020 2020 2020 2020 2020 2220 203d 3d3d            "  ===
+0001ff00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001ff10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001ff20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001ff30: 3d3d 3d3d 3d3d 3d3d 3d5c 6e22 0a20 2020  =========\n".   
+0001ff40: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+0001ff50: 2050 7265 7373 3a20 6920 2020 2020 7072   Press: i     pr
+0001ff60: 696e 7420 696e 666f 2061 626f 7574 2073  int info about s
+0001ff70: 656c 6563 7465 6420 6f62 6a65 6374 2020  elected object  
+0001ff80: 2020 2020 2020 2020 2020 2020 7c5c 6e22              |\n"
+0001ff90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ffa0: 2022 207c 2020 2020 2020 2020 4920 2020   " |        I   
+0001ffb0: 2020 7072 696e 7420 7468 6520 5247 4220    print the RGB 
+0001ffc0: 636f 6c6f 7220 756e 6465 7220 7468 6520  color under the 
+0001ffd0: 6d6f 7573 6520 2020 2020 2020 2020 2020  mouse           
+0001ffe0: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+0001fff0: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+00020000: 7920 2020 2020 7368 6f77 2074 6865 2070  y     show the p
+00020010: 6970 656c 696e 6520 666f 7220 7468 6973  ipeline for this
+00020020: 206f 626a 6563 7420 6173 2061 2067 7261   object as a gra
+00020030: 7068 2020 7c5c 6e22 0a20 2020 2020 2020  ph  |\n".       
+00020040: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+00020050: 2020 2020 3c2d 2d3e 2020 7573 6520 6172      <-->  use ar
+00020060: 726f 7773 2074 6f20 7265 6475 6365 2f69  rows to reduce/i
+00020070: 6e63 7265 6173 6520 6f70 6163 6974 7920  ncrease opacity 
+00020080: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+00020090: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+000200a0: 2020 2020 2020 2020 772f 7320 2020 746f          w/s   to
+000200b0: 6767 6c65 2077 6972 6566 7261 6d65 2f73  ggle wireframe/s
+000200c0: 7572 6661 6365 2073 7479 6c65 2020 2020  urface style    
+000200d0: 2020 2020 2020 2020 2020 2020 7c5c 6e22              |\n"
+000200e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000200f0: 2022 207c 2020 2020 2020 2020 702f 5020   " |        p/P 
+00020100: 2020 6368 616e 6765 2070 6f69 6e74 2073    change point s
+00020110: 697a 6520 6f66 2076 6572 7469 6365 7320  ize of vertices 
+00020120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020130: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+00020140: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+00020150: 6c20 2020 2020 746f 6767 6c65 2065 6467  l     toggle edg
+00020160: 6573 2076 6973 6962 696c 6974 7920 2020  es visibility   
+00020170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020180: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+00020190: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+000201a0: 2020 2020 7820 2020 2020 746f 6767 6c65      x     toggle
+000201b0: 206d 6573 6820 7669 7369 6269 6c69 7479   mesh visibility
+000201c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000201d0: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+000201e0: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+000201f0: 2020 2020 2020 2020 5820 2020 2020 696e          X     in
+00020200: 766f 6b65 2061 2063 7574 7465 7220 7769  voke a cutter wi
+00020210: 6467 6574 2074 6f6f 6c20 2020 2020 2020  dget tool       
+00020220: 2020 2020 2020 2020 2020 2020 7c5c 6e22              |\n"
+00020230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020240: 2022 207c 2020 2020 2020 2020 312d 3320   " |        1-3 
+00020250: 2020 6368 616e 6765 206d 6573 6820 636f    change mesh co
+00020260: 6c6f 7220 2020 2020 2020 2020 2020 2020  lor             
 00020270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020280: 2020 2020 2020 2061 2e47 6574 5072 6f70         a.GetProp
-00020290: 6572 7479 2829 2e53 6574 5265 7072 6573  erty().SetRepres
-000202a0: 656e 7461 7469 6f6e 546f 5375 7266 6163  entationToSurfac
-000202b0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-000202c0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000202d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000202e0: 2020 2020 2020 2020 2020 2020 2020 612e                a.
-000202f0: 4765 7450 726f 7065 7274 7928 292e 5365  GetProperty().Se
-00020300: 7452 6570 7265 7365 6e74 6174 696f 6e54  tRepresentationT
-00020310: 6f57 6972 6566 7261 6d65 2829 0a0a 2020  oWireframe()..  
-00020320: 2020 2020 2020 656c 6966 206b 6579 203d        elif key =
-00020330: 3d20 2272 223a 0a20 2020 2020 2020 2020  = "r":.         
-00020340: 2020 2072 656e 6465 7265 722e 5265 7365     renderer.Rese
-00020350: 7443 616d 6572 6128 290a 0a20 2020 2020  tCamera()..     
-00020360: 2020 2065 6c69 6620 6b65 7920 3d3d 2022     elif key == "
-00020370: 6822 3a0a 2020 2020 2020 2020 2020 2020  h":.            
-00020380: 6d73 6720 203d 2028 0a20 2020 2020 2020  msg  = (.       
-00020390: 2020 2020 2020 2020 2022 2020 3d3d 3d3d           "  ====
-000203a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000203b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000203c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000203d0: 3d3d 3d3d 3d3d 3d3d 5c6e 220a 2020 2020  ========\n".    
-000203e0: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-000203f0: 5072 6573 733a 2069 2020 2020 2070 7269  Press: i     pri
-00020400: 6e74 2069 6e66 6f20 6162 6f75 7420 7365  nt info about se
-00020410: 6c65 6374 6564 206f 626a 6563 7420 2020  lected object   
-00020420: 2020 2020 2020 2020 2020 207c 5c6e 220a             |\n".
-00020430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020440: 2220 7c20 2020 2020 2020 2049 2020 2020  " |        I    
-00020450: 2070 7269 6e74 2074 6865 2052 4742 2063   print the RGB c
-00020460: 6f6c 6f72 2075 6e64 6572 2074 6865 206d  olor under the m
-00020470: 6f75 7365 2020 2020 2020 2020 2020 207c  ouse           |
-00020480: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020490: 2020 2020 2220 7c20 2020 2020 2020 2079      " |        y
-000204a0: 2020 2020 2073 686f 7720 7468 6520 7069       show the pi
-000204b0: 7065 6c69 6e65 2066 6f72 2074 6869 7320  peline for this 
-000204c0: 6f62 6a65 6374 2061 7320 6120 6772 6170  object as a grap
-000204d0: 6820 207c 5c6e 220a 2020 2020 2020 2020  h  |\n".        
-000204e0: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-000204f0: 2020 203c 2d2d 3e20 2075 7365 2061 7272     <-->  use arr
-00020500: 6f77 7320 746f 2072 6564 7563 652f 696e  ows to reduce/in
-00020510: 6372 6561 7365 206f 7061 6369 7479 2020  crease opacity  
-00020520: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-00020530: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020540: 2020 2020 2020 2077 2f73 2020 2074 6f67         w/s   tog
-00020550: 676c 6520 7769 7265 6672 616d 652f 7375  gle wireframe/su
-00020560: 7266 6163 6520 7374 796c 6520 2020 2020  rface style     
-00020570: 2020 2020 2020 2020 2020 207c 5c6e 220a             |\n".
-00020580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020590: 2220 7c20 2020 2020 2020 2070 2f50 2020  " |        p/P  
-000205a0: 2063 6861 6e67 6520 706f 696e 7420 7369   change point si
-000205b0: 7a65 206f 6620 7665 7274 6963 6573 2020  ze of vertices  
-000205c0: 2020 2020 2020 2020 2020 2020 2020 207c                 |
-000205d0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-000205e0: 2020 2020 2220 7c20 2020 2020 2020 206c      " |        l
-000205f0: 2020 2020 2074 6f67 676c 6520 6564 6765       toggle edge
-00020600: 7320 7669 7369 6269 6c69 7479 2020 2020  s visibility    
-00020610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020620: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-00020630: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-00020640: 2020 2078 2020 2020 2074 6f67 676c 6520     x     toggle 
-00020650: 6d65 7368 2076 6973 6962 696c 6974 7920  mesh visibility 
-00020660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020670: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-00020680: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020690: 2020 2020 2020 2058 2020 2020 2069 6e76         X     inv
-000206a0: 6f6b 6520 6120 6375 7474 6572 2077 6964  oke a cutter wid
-000206b0: 6765 7420 746f 6f6c 2020 2020 2020 2020  get tool        
-000206c0: 2020 2020 2020 2020 2020 207c 5c6e 220a             |\n".
-000206d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000206e0: 2220 7c20 2020 2020 2020 2031 2d33 2020  " |        1-3  
-000206f0: 2063 6861 6e67 6520 6d65 7368 2063 6f6c   change mesh col
-00020700: 6f72 2020 2020 2020 2020 2020 2020 2020  or              
-00020710: 2020 2020 2020 2020 2020 2020 2020 207c                 |
-00020720: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020730: 2020 2020 2220 7c20 2020 2020 2020 2034      " |        4
-00020740: 2020 2020 2075 7365 2064 6174 6120 6172       use data ar
-00020750: 7261 7920 6173 2063 6f6c 6f72 732c 2069  ray as colors, i
-00020760: 6620 7072 6573 656e 7420 2020 2020 2020  f present       
-00020770: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-00020780: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-00020790: 2020 2035 2d36 2020 2063 6861 6e67 6520     5-6   change 
-000207a0: 6261 636b 6772 6f75 6e64 2063 6f6c 6f72  background color
-000207b0: 2873 2920 2020 2020 2020 2020 2020 2020  (s)             
-000207c0: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-000207d0: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-000207e0: 2020 2020 2020 2030 392b 2d20 2028 6f6e         09+-  (on
-000207f0: 206b 6579 7061 6429 206f 7220 2b2f 2d20   keypad) or +/- 
-00020800: 746f 2063 7963 6c65 2061 7865 7320 7374  to cycle axes st
-00020810: 796c 6520 2020 2020 2020 207c 5c6e 220a  yle        |\n".
-00020820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020830: 2220 7c20 2020 2020 2020 206b 2020 2020  " |        k    
-00020840: 2063 7963 6c65 2061 7661 696c 6162 6c65   cycle available
-00020850: 206c 6967 6874 696e 6720 7374 796c 6573   lighting styles
-00020860: 2020 2020 2020 2020 2020 2020 2020 207c                 |
-00020870: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020880: 2020 2020 2220 7c20 2020 2020 2020 204b      " |        K
-00020890: 2020 2020 2063 7963 6c65 2061 7661 696c       cycle avail
-000208a0: 6162 6c65 2073 6861 6469 6e67 2073 7479  able shading sty
-000208b0: 6c65 7320 2020 2020 2020 2020 2020 2020  les             
-000208c0: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-000208d0: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-000208e0: 2020 2041 2020 2020 2074 6f67 676c 6520     A     toggle 
-000208f0: 616e 7469 2d61 6c69 6173 696e 6720 2020  anti-aliasing   
-00020900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020910: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-00020920: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020930: 2020 2020 2020 2044 2020 2020 2074 6f67         D     tog
-00020940: 676c 6520 6465 7074 682d 7065 656c 696e  gle depth-peelin
-00020950: 6720 2866 6f72 2074 7261 6e73 7061 7265  g (for transpare
-00020960: 6e63 6965 7329 2020 2020 207c 5c6e 220a  ncies)     |\n".
-00020970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020980: 2220 7c20 2020 2020 2020 206f 2f4f 2020  " |        o/O  
-00020990: 2061 6464 2f72 656d 6f76 6520 6c69 6768   add/remove ligh
-000209a0: 7420 746f 2073 6365 6e65 2061 6e64 2072  t to scene and r
-000209b0: 6f74 6174 6520 6974 2020 2020 2020 207c  otate it       |
-000209c0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-000209d0: 2020 2020 2220 7c20 2020 2020 2020 206e      " |        n
-000209e0: 2020 2020 2073 686f 7720 7375 7266 6163       show surfac
-000209f0: 6520 6d65 7368 206e 6f72 6d61 6c73 2020  e mesh normals  
-00020a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020a10: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-00020a20: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-00020a30: 2020 2061 2020 2020 2074 6f67 676c 6520     a     toggle 
-00020a40: 696e 7465 7261 6374 696f 6e20 746f 2041  interaction to A
-00020a50: 6374 6f72 204d 6f64 6520 2020 2020 2020  ctor Mode       
-00020a60: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-00020a70: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020a80: 2020 2020 2020 206a 2020 2020 2074 6f67         j     tog
-00020a90: 676c 6520 696e 7465 7261 6374 696f 6e20  gle interaction 
-00020aa0: 746f 204a 6f79 7374 6963 6b20 4d6f 6465  to Joystick Mode
-00020ab0: 2020 2020 2020 2020 2020 207c 5c6e 220a             |\n".
-00020ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020ad0: 2220 7c20 2020 2020 2020 2075 2020 2020  " |        u    
-00020ae0: 2074 6f67 676c 6520 7065 7273 7065 6374   toggle perspect
-00020af0: 6976 652f 7061 7261 6c6c 656c 2070 726f  ive/parallel pro
-00020b00: 6a65 6374 696f 6e20 2020 2020 2020 207c  jection        |
-00020b10: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020b20: 2020 2020 2220 7c20 2020 2020 2020 2072      " |        r
-00020b30: 2020 2020 2072 6573 6574 2063 616d 6572       reset camer
-00020b40: 6120 706f 7369 7469 6f6e 2020 2020 2020  a position      
-00020b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020b60: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-00020b70: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-00020b80: 2020 2052 2020 2020 2072 6573 6574 2063     R     reset c
-00020b90: 616d 6572 6120 6f72 6965 6e74 6174 696f  amera orientatio
-00020ba0: 6e20 746f 206f 7274 686f 676f 6e61 6c20  n to orthogonal 
-00020bb0: 7669 6577 2020 207c 5c6e 220a 2020 2020  view   |\n".    
-00020bc0: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020bd0: 2020 2020 2020 202e 2020 2020 2066 6c79         .     fly
-00020be0: 2063 616d 6572 6120 746f 7761 7264 7320   camera towards 
-00020bf0: 6c61 7374 2063 6c69 636b 6564 2070 6f69  last clicked poi
-00020c00: 6e74 2020 2020 2020 2020 207c 5c6e 220a  nt         |\n".
-00020c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020c20: 2220 7c20 2020 2020 2020 2043 2020 2020  " |        C    
-00020c30: 2070 7269 6e74 2063 7572 7265 6e74 2063   print current c
-00020c40: 616d 6572 6120 7365 7474 696e 6773 2020  amera settings  
-00020c50: 2020 2020 2020 2020 2020 2020 2020 207c                 |
-00020c60: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020c70: 2020 2020 2220 7c20 2020 2020 2020 2053      " |        S
-00020c80: 2020 2020 2073 6176 6520 6120 7363 7265       save a scre
-00020c90: 656e 7368 6f74 2020 2020 2020 2020 2020  enshot          
-00020ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020cb0: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-00020cc0: 2020 2020 2020 2020 2220 7c20 2020 2020          " |     
-00020cd0: 2020 2045 2f46 2020 2065 7870 6f72 7420     E/F   export 
-00020ce0: 3344 2073 6365 6e65 2074 6f20 6e75 6d70  3D scene to nump
-00020cf0: 7920 6669 6c65 206f 7220 5833 4420 2020  y file or X3D   
-00020d00: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-00020d10: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020d20: 2020 2020 2020 2071 2020 2020 2072 6574         q     ret
-00020d30: 7572 6e20 636f 6e74 726f 6c20 746f 2070  urn control to p
-00020d40: 7974 686f 6e20 7363 7269 7074 2020 2020  ython script    
-00020d50: 2020 2020 2020 2020 2020 207c 5c6e 220a             |\n".
-00020d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020d70: 2220 7c20 2020 2020 2020 2045 7363 2020  " |        Esc  
-00020d80: 2061 626f 7274 2065 7865 6375 7469 6f6e   abort execution
-00020d90: 2061 6e64 2065 7869 7420 7079 7468 6f6e   and exit python
-00020da0: 206b 6572 6e65 6c20 2020 2020 2020 207c   kernel        |
-00020db0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020dc0: 2020 2020 2220 7c2d 2d2d 2d2d 2d2d 2d2d      " |---------
-00020dd0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020de0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020df0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020e00: 2d2d 2d7c 5c6e 220a 2020 2020 2020 2020  ---|\n".        
-00020e10: 2020 2020 2020 2020 2220 7c20 4d6f 7573          " | Mous
-00020e20: 653a 204c 6566 742d 636c 6963 6b20 2020  e: Left-click   
-00020e30: 2072 6f74 6174 6520 7363 656e 6520 2f20   rotate scene / 
-00020e40: 7069 636b 2061 6374 6f72 7320 2020 2020  pick actors     
-00020e50: 2020 2020 2020 207c 5c6e 220a 2020 2020         |\n".    
-00020e60: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020e70: 2020 2020 2020 204d 6964 646c 652d 636c         Middle-cl
-00020e80: 6963 6b20 2070 616e 2073 6365 6e65 2020  ick  pan scene  
-00020e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020ea0: 2020 2020 2020 2020 2020 207c 5c6e 220a             |\n".
-00020eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020ec0: 2220 7c20 2020 2020 2020 2052 6967 6874  " |        Right
-00020ed0: 2d63 6c69 636b 2020 207a 6f6f 6d20 7363  -click   zoom sc
-00020ee0: 656e 6520 696e 206f 7220 6f75 7420 2020  ene in or out   
-00020ef0: 2020 2020 2020 2020 2020 2020 2020 207c                 |
-00020f00: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00020f10: 2020 2020 2220 7c20 2020 2020 2020 2043      " |        C
-00020f20: 6e74 726c 2d63 6c69 636b 2020 2072 6f74  ntrl-click   rot
-00020f30: 6174 6520 7363 656e 6520 2020 2020 2020  ate scene       
-00020f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020f50: 2020 207c 5c6e 220a 2020 2020 2020 2020     |\n".        
-00020f60: 2020 2020 2020 2020 2220 7c2d 2d2d 2d2d          " |-----
-00020f70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020f80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020f90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020fa0: 2d2d 2d2d 2d2d 2d7c 5c6e 220a 2020 2020  -------|\n".    
-00020fb0: 2020 2020 2020 2020 2020 2020 2220 7c20              " | 
-00020fc0: 2020 4368 6563 6b20 6f75 7420 7468 6520    Check out the 
-00020fd0: 646f 6375 6d65 6e74 6174 696f 6e20 6174  documentation at
-00020fe0: 3a20 2068 7474 7073 3a2f 2f76 6564 6f2e  :  https://vedo.
-00020ff0: 656d 626c 2e65 7320 2020 207c 5c6e 220a  embl.es    |\n".
-00021000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021010: 2220 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  "  =============
-00021020: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00021030: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00021040: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d22  ==============="
-00021050: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00021060: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
-00021070: 7072 696e 7463 286d 7367 2c20 6469 6d3d  printc(msg, dim=
-00021080: 5472 7565 290a 0a20 2020 2020 2020 2020  True)..         
-00021090: 2020 206d 7367 203d 2022 2076 6564 6f20     msg = " vedo 
-000210a0: 2220 2b20 7665 646f 2e5f 5f76 6572 7369  " + vedo.__versi
-000210b0: 6f6e 5f5f 202b 2022 2022 0a20 2020 2020  on__ + " ".     
-000210c0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-000210d0: 7463 286d 7367 2c20 696e 7665 7274 3d54  tc(msg, invert=T
-000210e0: 7275 652c 2064 696d 3d54 7275 652c 2065  rue, dim=True, e
-000210f0: 6e64 3d22 2229 0a20 2020 2020 2020 2020  nd="").         
-00021100: 2020 2076 746b 5665 7273 203d 2076 746b     vtkVers = vtk
-00021110: 2e76 746b 5665 7273 696f 6e28 292e 4765  .vtkVersion().Ge
-00021120: 7456 544b 5665 7273 696f 6e28 290a 2020  tVTKVersion().  
-00021130: 2020 2020 2020 2020 2020 6d73 6720 3d20            msg = 
-00021140: 227c 2076 746b 2022 202b 2073 7472 2876  "| vtk " + str(v
-00021150: 746b 5665 7273 290a 2020 2020 2020 2020  tkVers).        
-00021160: 2020 2020 6d73 6720 2b3d 2022 207c 206e      msg += " | n
-00021170: 756d 7079 2022 202b 2073 7472 286e 702e  umpy " + str(np.
-00021180: 5f5f 7665 7273 696f 6e5f 5f29 0a20 2020  __version__).   
-00021190: 2020 2020 2020 2020 206d 7367 202b 3d20           msg += 
-000211a0: 2220 7c20 7079 7468 6f6e 2022 202b 2073  " | python " + s
-000211b0: 7472 2873 7973 2e76 6572 7369 6f6e 5f69  tr(sys.version_i
-000211c0: 6e66 6f5b 305d 2920 2b20 222e 2220 2b20  nfo[0]) + "." + 
-000211d0: 7374 7228 7379 732e 7665 7273 696f 6e5f  str(sys.version_
-000211e0: 696e 666f 5b31 5d29 0a20 2020 2020 2020  info[1]).       
-000211f0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-00021200: 286d 7367 2c20 696e 7665 7274 3d46 616c  (msg, invert=Fal
-00021210: 7365 2c20 6469 6d3d 5472 7565 290a 2020  se, dim=True).  
-00021220: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00021230: 0a0a 2020 2020 2020 2020 656c 6966 206b  ..        elif k
-00021240: 6579 203d 3d20 2261 223a 0a20 2020 2020  ey == "a":.     
-00021250: 2020 2020 2020 2069 7265 6e2e 4578 6974         iren.Exit
-00021260: 4361 6c6c 6261 636b 2829 0a20 2020 2020  Callback().     
-00021270: 2020 2020 2020 2063 7572 203d 2069 7265         cur = ire
-00021280: 6e2e 4765 7449 6e74 6572 6163 746f 7253  n.GetInteractorS
-00021290: 7479 6c65 2829 0a20 2020 2020 2020 2020  tyle().         
-000212a0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-000212b0: 2863 7572 2c20 7674 6b2e 7674 6b49 6e74  (cur, vtk.vtkInt
-000212c0: 6572 6163 746f 7253 7479 6c65 5472 6163  eractorStyleTrac
-000212d0: 6b62 616c 6c43 616d 6572 6129 3a0a 2020  kballCamera):.  
-000212e0: 2020 2020 2020 2020 2020 2020 2020 6d73                ms
-000212f0: 6720 3d20 225c 6e49 6e74 6572 6163 746f  g = "\nInteracto
-00021300: 7220 7374 796c 6520 6368 616e 6765 6420  r style changed 
-00021310: 746f 2054 7261 636b 6261 6c6c 4163 746f  to TrackballActo
-00021320: 725c 6e22 0a20 2020 2020 2020 2020 2020  r\n".           
-00021330: 2020 2020 206d 7367 202b 3d20 2220 2079       msg += "  y
-00021340: 6f75 2063 616e 206e 6f77 206d 6f76 6520  ou can now move 
-00021350: 616e 6420 726f 7461 7465 2069 6e64 6976  and rotate indiv
-00021360: 6964 7561 6c20 6d65 7368 6573 3a5c 6e22  idual meshes:\n"
-00021370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00021380: 206d 7367 202b 3d20 2220 2070 7265 7373   msg += "  press
-00021390: 2058 2074 7769 6365 2074 6f20 7361 7665   X twice to save
-000213a0: 2074 6865 2072 6570 6f73 6974 696f 6e65   the repositione
-000213b0: 6420 6d65 7368 5c6e 220a 2020 2020 2020  d mesh\n".      
-000213c0: 2020 2020 2020 2020 2020 6d73 6720 2b3d            msg +=
-000213d0: 2022 2020 7072 6573 7320 2761 2720 746f   "  press 'a' to
-000213e0: 2067 6f20 6261 636b 2074 6f20 6e6f 726d   go back to norm
-000213f0: 616c 2073 7479 6c65 220a 2020 2020 2020  al style".      
-00021400: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
-00021410: 7269 6e74 6328 6d73 6729 0a20 2020 2020  rintc(msg).     
-00021420: 2020 2020 2020 2020 2020 2069 7265 6e2e             iren.
-00021430: 5365 7449 6e74 6572 6163 746f 7253 7479  SetInteractorSty
-00021440: 6c65 2876 746b 2e76 746b 496e 7465 7261  le(vtk.vtkIntera
-00021450: 6374 6f72 5374 796c 6554 7261 636b 6261  ctorStyleTrackba
-00021460: 6c6c 4163 746f 7228 2929 0a20 2020 2020  llActor()).     
-00021470: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00021480: 2020 2020 2020 2020 2020 2020 2069 7265               ire
-00021490: 6e2e 5365 7449 6e74 6572 6163 746f 7253  n.SetInteractorS
-000214a0: 7479 6c65 2876 746b 2e76 746b 496e 7465  tyle(vtk.vtkInte
-000214b0: 7261 6374 6f72 5374 796c 6554 7261 636b  ractorStyleTrack
-000214c0: 6261 6c6c 4361 6d65 7261 2829 290a 2020  ballCamera()).  
-000214d0: 2020 2020 2020 2020 2020 6972 656e 2e53            iren.S
-000214e0: 7461 7274 2829 0a20 2020 2020 2020 2020  tart().         
-000214f0: 2020 2069 6620 7665 646f 2e76 746b 5f76     if vedo.vtk_v
-00021500: 6572 7369 6f6e 203d 3d20 2839 2c32 2c32  ersion == (9,2,2
-00021510: 293a 2069 7265 6e2e 4765 7452 656e 6465  ): iren.GetRende
-00021520: 7257 696e 646f 7728 292e 5365 7444 6973  rWindow().SetDis
-00021530: 706c 6179 4964 2822 5f30 5f70 5f76 6f69  playId("_0_p_voi
-00021540: 6422 2920 2323 4841 434b 0a20 2020 2020  d") ##HACK.     
-00021550: 2020 2020 2020 2072 6574 7572 6e0a 0a20         return.. 
-00021560: 2020 2020 2020 2065 6c69 6620 6b65 7920         elif key 
-00021570: 3d3d 2022 4122 3a20 2023 2074 6f67 676c  == "A":  # toggl
-00021580: 6520 616e 7469 616c 6961 7369 6e67 0a20  e antialiasing. 
-00021590: 2020 2020 2020 2020 2020 206d 7361 6d20             msam 
-000215a0: 3d20 7365 6c66 2e77 696e 646f 772e 4765  = self.window.Ge
-000215b0: 744d 756c 7469 5361 6d70 6c65 7328 290a  tMultiSamples().
-000215c0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-000215d0: 6f74 206d 7361 6d3a 0a20 2020 2020 2020  ot msam:.       
-000215e0: 2020 2020 2020 2020 2073 656c 662e 7769           self.wi
-000215f0: 6e64 6f77 2e53 6574 4d75 6c74 6953 616d  ndow.SetMultiSam
-00021600: 706c 6573 2838 290a 2020 2020 2020 2020  ples(8).        
-00021610: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00021620: 2020 2020 2020 2020 2020 7365 6c66 2e77            self.w
-00021630: 696e 646f 772e 5365 744d 756c 7469 5361  indow.SetMultiSa
-00021640: 6d70 6c65 7328 3029 0a20 2020 2020 2020  mples(0).       
-00021650: 2020 2020 206d 7361 6d20 3d20 7365 6c66       msam = self
-00021660: 2e77 696e 646f 772e 4765 744d 756c 7469  .window.GetMulti
-00021670: 5361 6d70 6c65 7328 290a 2020 2020 2020  Samples().      
-00021680: 2020 2020 2020 6966 206d 7361 6d3a 0a20        if msam:. 
-00021690: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-000216a0: 6564 6f2e 7072 696e 7463 2866 2241 6e74  edo.printc(f"Ant
-000216b0: 6961 6c69 6173 696e 6720 6973 206e 6f77  ialiasing is now
-000216c0: 2073 6574 2074 6f20 7b6d 7361 6d7d 2073   set to {msam} s
-000216d0: 616d 706c 6573 222c 2063 3d62 6f6f 6c28  amples", c=bool(
-000216e0: 6d73 616d 2929 0a20 2020 2020 2020 2020  msam)).         
-000216f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00021700: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
-00021710: 696e 7463 2822 416e 7469 616c 6961 7369  intc("Antialiasi
-00021720: 6e67 2069 7320 6e6f 7720 6469 7361 626c  ng is now disabl
-00021730: 6564 222c 2063 3d62 6f6f 6c28 6d73 616d  ed", c=bool(msam
-00021740: 2929 0a0a 2020 2020 2020 2020 656c 6966  ))..        elif
-00021750: 206b 6579 203d 3d20 2244 223a 2020 2320   key == "D":  # 
-00021760: 746f 6767 6c65 2064 6570 7468 7065 656c  toggle depthpeel
-00021770: 696e 670a 2020 2020 2020 2020 2020 2020  ing.            
-00021780: 7564 7020 3d20 6e6f 7420 7265 6e64 6572  udp = not render
-00021790: 6572 2e47 6574 5573 6544 6570 7468 5065  er.GetUseDepthPe
-000217a0: 656c 696e 6728 290a 2020 2020 2020 2020  eling().        
-000217b0: 2020 2020 7265 6e64 6572 6572 2e53 6574      renderer.Set
-000217c0: 5573 6544 6570 7468 5065 656c 696e 6728  UseDepthPeeling(
-000217d0: 7564 7029 0a20 2020 2020 2020 2020 2020  udp).           
-000217e0: 2023 2073 656c 662e 7265 6e64 6572 6572   # self.renderer
-000217f0: 2e53 6574 5573 6544 6570 7468 5065 656c  .SetUseDepthPeel
-00021800: 696e 6746 6f72 566f 6c75 6d65 7328 7564  ingForVolumes(ud
-00021810: 7029 0a20 2020 2020 2020 2020 2020 2023  p).            #
-00021820: 2070 7269 6e74 2873 656c 662e 7769 6e64   print(self.wind
-00021830: 6f77 2e47 6574 416c 7068 6142 6974 506c  ow.GetAlphaBitPl
-00021840: 616e 6573 2829 290a 2020 2020 2020 2020  anes()).        
-00021850: 2020 2020 6966 2075 6470 3a0a 2020 2020      if udp:.    
-00021860: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00021870: 2e77 696e 646f 772e 5365 7441 6c70 6861  .window.SetAlpha
-00021880: 4269 7450 6c61 6e65 7328 3129 0a20 2020  BitPlanes(1).   
-00021890: 2020 2020 2020 2020 2020 2020 2072 656e               ren
-000218a0: 6465 7265 722e 5365 744d 6178 696d 756d  derer.SetMaximum
-000218b0: 4e75 6d62 6572 4f66 5065 656c 7328 7365  NumberOfPeels(se
-000218c0: 7474 696e 6773 2e6d 6178 5f6e 756d 6265  ttings.max_numbe
-000218d0: 725f 6f66 5f70 6565 6c73 290a 2020 2020  r_of_peels).    
-000218e0: 2020 2020 2020 2020 2020 2020 7265 6e64              rend
-000218f0: 6572 6572 2e53 6574 4f63 636c 7573 696f  erer.SetOcclusio
-00021900: 6e52 6174 696f 2873 6574 7469 6e67 732e  nRatio(settings.
-00021910: 6f63 636c 7573 696f 6e5f 7261 7469 6f29  occlusion_ratio)
-00021920: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00021930: 662e 696e 7465 7261 6374 6f72 2e52 656e  f.interactor.Ren
-00021940: 6465 7228 290a 2020 2020 2020 2020 2020  der().          
-00021950: 2020 7761 7355 7365 6420 3d20 7265 6e64    wasUsed = rend
-00021960: 6572 6572 2e47 6574 4c61 7374 5265 6e64  erer.GetLastRend
-00021970: 6572 696e 6755 7365 6444 6570 7468 5065  eringUsedDepthPe
-00021980: 656c 696e 6728 290a 2020 2020 2020 2020  eling().        
-00021990: 2020 2020 726e 7220 3d20 7365 6c66 2e72      rnr = self.r
-000219a0: 656e 6465 7265 7273 2e69 6e64 6578 2872  enderers.index(r
-000219b0: 656e 6465 7265 7229 0a20 2020 2020 2020  enderer).       
-000219c0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-000219d0: 2866 2744 6570 7468 2070 6565 6c69 6e67  (f'Depth peeling
-000219e0: 2069 7320 6e6f 7720 7365 7420 746f 207b   is now set to {
-000219f0: 7564 707d 2066 6f72 2072 656e 6465 7265  udp} for rendere
-00021a00: 7220 6e72 2e7b 726e 727d 272c 2063 3d75  r nr.{rnr}', c=u
-00021a10: 6470 290a 2020 2020 2020 2020 2020 2020  dp).            
-00021a20: 6966 206e 6f74 2077 6173 5573 6564 2061  if not wasUsed a
-00021a30: 6e64 2075 6470 3a0a 2020 2020 2020 2020  nd udp:.        
-00021a40: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
-00021a50: 6e74 6328 275c 742e 2e2e 6275 7420 6c61  ntc('\t...but la
-00021a60: 7374 2072 656e 6465 7269 6e67 2064 6964  st rendering did
-00021a70: 206e 6f74 2061 6374 7561 6c6c 7920 7573   not actually us
-00021a80: 6564 2069 7421 272c 2063 3d75 6470 2c20  ed it!', c=udp, 
-00021a90: 696e 7665 7274 3d54 7275 6529 0a20 2020  invert=True).   
-00021aa0: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
-00021ab0: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
-00021ac0: 7920 3d3d 2022 6a22 3a0a 2020 2020 2020  y == "j":.      
-00021ad0: 2020 2020 2020 6972 656e 2e45 7869 7443        iren.ExitC
-00021ae0: 616c 6c62 6163 6b28 290a 2020 2020 2020  allback().      
-00021af0: 2020 2020 2020 6375 7220 3d20 6972 656e        cur = iren
-00021b00: 2e47 6574 496e 7465 7261 6374 6f72 5374  .GetInteractorSt
-00021b10: 796c 6528 290a 2020 2020 2020 2020 2020  yle().          
-00021b20: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00021b30: 6375 722c 2076 746b 2e76 746b 496e 7465  cur, vtk.vtkInte
-00021b40: 7261 6374 6f72 5374 796c 654a 6f79 7374  ractorStyleJoyst
-00021b50: 6963 6b43 616d 6572 6129 3a0a 2020 2020  ickCamera):.    
-00021b60: 2020 2020 2020 2020 2020 2020 6972 656e              iren
-00021b70: 2e53 6574 496e 7465 7261 6374 6f72 5374  .SetInteractorSt
-00021b80: 796c 6528 7674 6b2e 7674 6b49 6e74 6572  yle(vtk.vtkInter
-00021b90: 6163 746f 7253 7479 6c65 5472 6163 6b62  actorStyleTrackb
-00021ba0: 616c 6c43 616d 6572 6128 2929 0a20 2020  allCamera()).   
-00021bb0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00021bc0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-00021bd0: 6564 6f2e 7072 696e 7463 2822 5c6e 496e  edo.printc("\nIn
-00021be0: 7465 7261 6374 6f72 2073 7479 6c65 2063  teractor style c
-00021bf0: 6861 6e67 6564 2074 6f20 4a6f 7973 7469  hanged to Joysti
-00021c00: 636b 2c22 2c20 656e 643d 2222 290a 2020  ck,", end="").  
-00021c10: 2020 2020 2020 2020 2020 2020 2020 7665                ve
-00021c20: 646f 2e70 7269 6e74 6328 2220 7072 6573  do.printc(" pres
-00021c30: 7320 6a20 746f 2067 6f20 6261 636b 2074  s j to go back t
-00021c40: 6f20 6e6f 726d 616c 2e22 290a 2020 2020  o normal.").    
-00021c50: 2020 2020 2020 2020 2020 2020 6972 656e              iren
-00021c60: 2e53 6574 496e 7465 7261 6374 6f72 5374  .SetInteractorSt
-00021c70: 796c 6528 7674 6b2e 7674 6b49 6e74 6572  yle(vtk.vtkInter
-00021c80: 6163 746f 7253 7479 6c65 4a6f 7973 7469  actorStyleJoysti
-00021c90: 636b 4361 6d65 7261 2829 290a 2020 2020  ckCamera()).    
-00021ca0: 2020 2020 2020 2020 6972 656e 2e53 7461          iren.Sta
-00021cb0: 7274 2829 0a20 2020 2020 2020 2020 2020  rt().           
-00021cc0: 2069 6620 7665 646f 2e76 746b 5f76 6572   if vedo.vtk_ver
-00021cd0: 7369 6f6e 203d 3d20 2839 2c32 2c32 293a  sion == (9,2,2):
-00021ce0: 2069 7265 6e2e 4765 7452 656e 6465 7257   iren.GetRenderW
-00021cf0: 696e 646f 7728 292e 5365 7444 6973 706c  indow().SetDispl
-00021d00: 6179 4964 2822 5f30 5f70 5f76 6f69 6422  ayId("_0_p_void"
-00021d10: 2920 2323 4841 434b 0a20 2020 2020 2020  ) ##HACK.       
-00021d20: 2020 2020 2072 6574 7572 6e0a 0a20 2020       return..   
-00021d30: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
-00021d40: 2022 7065 7269 6f64 223a 0a20 2020 2020   "period":.     
-00021d50: 2020 2020 2020 2069 6620 7365 6c66 2e70         if self.p
-00021d60: 6963 6b65 6433 643a 0a20 2020 2020 2020  icked3d:.       
-00021d70: 2020 2020 2020 2020 2073 656c 662e 666c           self.fl
-00021d80: 795f 746f 2873 656c 662e 7069 636b 6564  y_to(self.picked
-00021d90: 3364 290a 2020 2020 2020 2020 2020 2020  3d).            
-00021da0: 7265 7475 726e 0a0a 2020 2020 2020 2020  return..        
-00021db0: 656c 6966 206b 6579 203d 3d20 2253 223a  elif key == "S":
-00021dc0: 0a20 2020 2020 2020 2020 2020 2076 6564  .            ved
-00021dd0: 6f2e 696f 2e73 6372 6565 6e73 686f 7428  o.io.screenshot(
-00021de0: 2273 6372 6565 6e73 686f 742e 706e 6722  "screenshot.png"
-00021df0: 290a 2020 2020 2020 2020 2020 2020 7665  ).            ve
-00021e00: 646f 2e70 7269 6e74 6328 7222 5c63 616d  do.printc(r"\cam
-00021e10: 6572 6120 5361 7665 6420 7265 6e64 6572  era Saved render
-00021e20: 696e 6720 7769 6e64 6f77 2061 7320 7363  ing window as sc
-00021e30: 7265 656e 7368 6f74 2e70 6e67 222c 2063  reenshot.png", c
-00021e40: 3d22 626c 7565 2229 0a20 2020 2020 2020  ="blue").       
-00021e50: 2020 2020 2072 6574 7572 6e0a 0a20 2020       return..   
-00021e60: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
-00021e70: 2022 4322 3a0a 2020 2020 2020 2020 2020   "C":.          
-00021e80: 2020 2320 5072 6563 6973 696f 6e20 6e65    # Precision ne
-00021e90: 6564 7320 746f 2062 6520 3720 286f 7220  eds to be 7 (or 
-00021ea0: 6576 656e 206c 6172 6765 7229 2074 6f20  even larger) to 
-00021eb0: 6775 6172 616e 7465 6520 6120 636f 6e73  guarantee a cons
-00021ec0: 6973 7465 6e74 2063 616d 6572 6120 7768  istent camera wh
-00021ed0: 656e 0a20 2020 2020 2020 2020 2020 2023  en.            #
-00021ee0: 2020 2074 6865 206d 6f64 656c 2063 6f6f     the model coo
-00021ef0: 7264 696e 6174 6573 2061 7265 206e 6f74  rdinates are not
-00021f00: 2063 656e 7465 7265 6420 6174 2028 302c   centered at (0,
-00021f10: 2030 2c20 3029 2061 6e64 2074 6865 206d   0, 0) and the m
-00021f20: 6f64 6520 6973 206c 6172 6765 2e0a 2020  ode is large..  
-00021f30: 2020 2020 2020 2020 2020 2320 5468 6973            # This
-00021f40: 2063 6f75 6c64 2068 6170 7065 6e20 666f   could happen fo
-00021f50: 7220 706c 6f74 7469 6e67 2067 656f 6c6f  r plotting geolo
-00021f60: 6769 6361 6c20 6d6f 6465 6c73 2077 6974  gical models wit
-00021f70: 6820 5554 4d20 636f 6f72 6469 6e61 7465  h UTM coordinate
-00021f80: 2073 7973 7465 6d73 0a20 2020 2020 2020   systems.       
-00021f90: 2020 2020 2063 616d 203d 2072 656e 6465       cam = rende
-00021fa0: 7265 722e 4765 7441 6374 6976 6543 616d  rer.GetActiveCam
-00021fb0: 6572 6128 290a 2020 2020 2020 2020 2020  era().          
-00021fc0: 2020 7665 646f 2e70 7269 6e74 6328 275c    vedo.printc('\
-00021fd0: 6e23 2323 2323 2323 2323 2323 2323 2323  n###############
-00021fe0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00021ff0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00022000: 2323 2323 272c 2063 3d27 7927 290a 2020  ####', c='y').  
-00022010: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
-00022020: 7269 6e74 6328 2723 2320 5465 6d70 6c61  rintc('## Templa
-00022030: 7465 2070 7974 686f 6e20 636f 6465 2074  te python code t
-00022040: 6f20 706f 7369 7469 6f6e 2074 6869 7320  o position this 
-00022050: 6361 6d65 7261 3a20 2323 272c 2063 3d27  camera: ##', c='
-00022060: 7927 290a 2020 2020 2020 2020 2020 2020  y').            
-00022070: 7665 646f 2e70 7269 6e74 6328 2763 616d  vedo.printc('cam
-00022080: 203d 2064 6963 7428 272c 2063 3d27 7927   = dict(', c='y'
-00022090: 290a 2020 2020 2020 2020 2020 2020 7665  ).            ve
-000220a0: 646f 2e70 7269 6e74 6328 2720 2020 2070  do.printc('    p
-000220b0: 6f73 6974 696f 6e3d 2720 2020 2020 2b75  osition='     +u
-000220c0: 7469 6c73 2e70 7265 6369 7369 6f6e 2863  tils.precision(c
-000220d0: 616d 2e47 6574 506f 7369 7469 6f6e 2829  am.GetPosition()
-000220e0: 2c36 292b 272c 272c 2063 3d27 7927 290a  ,6)+',', c='y').
-000220f0: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-00022100: 2e70 7269 6e74 6328 2720 2020 2066 6f63  .printc('    foc
-00022110: 616c 5f70 6f69 6e74 3d27 2020 2b75 7469  al_point='  +uti
-00022120: 6c73 2e70 7265 6369 7369 6f6e 2863 616d  ls.precision(cam
-00022130: 2e47 6574 466f 6361 6c50 6f69 6e74 2829  .GetFocalPoint()
-00022140: 2c36 292b 272c 272c 2063 3d27 7927 290a  ,6)+',', c='y').
-00022150: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-00022160: 2e70 7269 6e74 6328 2720 2020 2076 6965  .printc('    vie
-00022170: 7775 703d 2720 2020 2020 2020 2b75 7469  wup='       +uti
-00022180: 6c73 2e70 7265 6369 7369 6f6e 2863 616d  ls.precision(cam
-00022190: 2e47 6574 5669 6577 5570 2829 2c36 292b  .GetViewUp(),6)+
-000221a0: 272c 272c 2063 3d27 7927 290a 2020 2020  ',', c='y').    
-000221b0: 2020 2020 2020 2020 6966 2073 6574 7469          if setti
-000221c0: 6e67 732e 7573 655f 7061 7261 6c6c 656c  ngs.use_parallel
-000221d0: 5f70 726f 6a65 6374 696f 6e3a 0a20 2020  _projection:.   
-000221e0: 2020 2020 2020 2020 2020 2020 2076 6564               ved
-000221f0: 6f2e 7072 696e 7463 2827 2020 2020 7061  o.printc('    pa
-00022200: 7261 6c6c 656c 5f73 6361 6c65 3d27 2b75  rallel_scale='+u
-00022210: 7469 6c73 2e70 7265 6369 7369 6f6e 2863  tils.precision(c
-00022220: 616d 2e47 6574 5061 7261 6c6c 656c 5363  am.GetParallelSc
-00022230: 616c 6528 292c 3629 2b27 2c27 2c20 633d  ale(),6)+',', c=
-00022240: 2779 2729 0a20 2020 2020 2020 2020 2020  'y').           
-00022250: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00022260: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-00022270: 7463 2827 2020 2020 6469 7374 616e 6365  tc('    distance
-00022280: 3d27 2020 2020 202b 7574 696c 732e 7072  ='     +utils.pr
-00022290: 6563 6973 696f 6e28 6361 6d2e 4765 7444  ecision(cam.GetD
-000222a0: 6973 7461 6e63 6528 292c 3629 2b27 2c27  istance(),6)+','
-000222b0: 2c20 633d 2779 2729 0a20 2020 2020 2020  , c='y').       
-000222c0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-000222d0: 2827 2020 2020 636c 6970 7069 6e67 5f72  ('    clipping_r
-000222e0: 616e 6765 3d27 2b75 7469 6c73 2e70 7265  ange='+utils.pre
-000222f0: 6369 7369 6f6e 2863 616d 2e47 6574 436c  cision(cam.GetCl
-00022300: 6970 7069 6e67 5261 6e67 6528 292c 3629  ippingRange(),6)
-00022310: 2b27 2c27 2c20 633d 2779 2729 0a20 2020  +',', c='y').   
-00022320: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
-00022330: 696e 7463 2827 2927 2c20 633d 2779 2729  intc(')', c='y')
-00022340: 0a20 2020 2020 2020 2020 2020 2076 6564  .            ved
-00022350: 6f2e 7072 696e 7463 2827 7368 6f77 286d  o.printc('show(m
-00022360: 796d 6573 6865 732c 2063 616d 6572 613d  ymeshes, camera=
-00022370: 6361 6d29 272c 2063 3d27 7927 290a 2020  cam)', c='y').  
-00022380: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
-00022390: 7269 6e74 6328 2723 2323 2323 2323 2323  rintc('#########
-000223a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000223b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000223c0: 2323 2323 2323 2323 2323 272c 2063 3d27  ##########', c='
-000223d0: 7927 290a 2020 2020 2020 2020 2020 2020  y').            
-000223e0: 7265 7475 726e 0a0a 2020 2020 2020 2020  return..        
-000223f0: 656c 6966 206b 6579 203d 3d20 2252 223a  elif key == "R":
-00022400: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00022410: 662e 7265 7365 745f 7669 6577 7570 2829  f.reset_viewup()
-00022420: 0a0a 2020 2020 2020 2020 656c 6966 206b  ..        elif k
-00022430: 6579 203d 3d20 2273 223a 0a20 2020 2020  ey == "s":.     
-00022440: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
-00022450: 6c69 636b 6564 5f61 6374 6f72 2061 6e64  licked_actor and
-00022460: 2073 656c 662e 636c 6963 6b65 645f 6163   self.clicked_ac
-00022470: 746f 7220 696e 2073 656c 662e 6765 745f  tor in self.get_
-00022480: 6d65 7368 6573 2829 3a0a 2020 2020 2020  meshes():.      
-00022490: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-000224a0: 6c69 636b 6564 5f61 6374 6f72 2e47 6574  licked_actor.Get
-000224b0: 5072 6f70 6572 7479 2829 2e53 6574 5265  Property().SetRe
-000224c0: 7072 6573 656e 7461 7469 6f6e 546f 5375  presentationToSu
-000224d0: 7266 6163 6528 290a 2020 2020 2020 2020  rface().        
-000224e0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000224f0: 2020 2020 2020 2020 2020 666f 7220 6120            for a 
-00022500: 696e 2073 656c 662e 6765 745f 6d65 7368  in self.get_mesh
-00022510: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
-00022520: 2020 2020 2020 2020 2020 6966 2061 2061            if a a
-00022530: 6e64 2061 2e47 6574 5069 636b 6162 6c65  nd a.GetPickable
-00022540: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00022550: 2020 2020 2020 2020 2020 2020 612e 4765              a.Ge
-00022560: 7450 726f 7065 7274 7928 292e 5365 7452  tProperty().SetR
-00022570: 6570 7265 7365 6e74 6174 696f 6e54 6f53  epresentationToS
-00022580: 7572 6661 6365 2829 0a0a 2020 2020 2020  urface()..      
-00022590: 2020 656c 6966 206b 6579 203d 3d20 2231    elif key == "1
-000225a0: 223a 0a20 2020 2020 2020 2020 2020 2073  ":.            s
-000225b0: 656c 662e 5f69 636f 6c20 2b3d 2031 0a20  elf._icol += 1. 
-000225c0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-000225d0: 696e 7374 616e 6365 2873 656c 662e 636c  instance(self.cl
-000225e0: 6963 6b65 645f 6163 746f 722c 2076 6564  icked_actor, ved
-000225f0: 6f2e 506f 696e 7473 293a 0a20 2020 2020  o.Points):.     
-00022600: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00022610: 636c 6963 6b65 645f 6163 746f 722e 4765  clicked_actor.Ge
-00022620: 744d 6170 7065 7228 292e 5363 616c 6172  tMapper().Scalar
-00022630: 5669 7369 6269 6c69 7479 4f66 6628 290a  VisibilityOff().
-00022640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022650: 7061 6c20 3d20 7665 646f 2e63 6f6c 6f72  pal = vedo.color
-00022660: 732e 7061 6c65 7474 6573 5b73 6574 7469  s.palettes[setti
-00022670: 6e67 732e 7061 6c65 7474 6520 2520 6c65  ngs.palette % le
-00022680: 6e28 7665 646f 2e63 6f6c 6f72 732e 7061  n(vedo.colors.pa
-00022690: 6c65 7474 6573 295d 0a20 2020 2020 2020  lettes)].       
-000226a0: 2020 2020 2020 2020 2073 656c 662e 636c           self.cl
-000226b0: 6963 6b65 645f 6163 746f 722e 4765 7450  icked_actor.GetP
-000226c0: 726f 7065 7274 7928 292e 5365 7443 6f6c  roperty().SetCol
-000226d0: 6f72 2870 616c 5b28 7365 6c66 2e5f 6963  or(pal[(self._ic
-000226e0: 6f6c 2920 2520 3130 5d29 0a0a 2020 2020  ol) % 10])..    
-000226f0: 2020 2020 656c 6966 206b 6579 203d 3d20      elif key == 
-00022700: 2232 223a 0a20 2020 2020 2020 2020 2020  "2":.           
-00022710: 2073 656c 662e 5f69 636f 6c20 2b3d 2031   self._icol += 1
-00022720: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
-00022730: 7469 6e67 732e 7061 6c65 7474 6520 2b3d  tings.palette +=
-00022740: 2031 0a20 2020 2020 2020 2020 2020 2073   1.            s
-00022750: 6574 7469 6e67 732e 7061 6c65 7474 6520  ettings.palette 
-00022760: 3d20 7365 7474 696e 6773 2e70 616c 6574  = settings.palet
-00022770: 7465 2025 206c 656e 2876 6564 6f2e 636f  te % len(vedo.co
-00022780: 6c6f 7273 2e70 616c 6574 7465 7329 0a20  lors.palettes). 
-00022790: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-000227a0: 696e 7374 616e 6365 2873 656c 662e 636c  instance(self.cl
-000227b0: 6963 6b65 645f 6163 746f 722c 2076 6564  icked_actor, ved
-000227c0: 6f2e 506f 696e 7473 293a 0a20 2020 2020  o.Points):.     
-000227d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000227e0: 636c 6963 6b65 645f 6163 746f 722e 4765  clicked_actor.Ge
-000227f0: 744d 6170 7065 7228 292e 5363 616c 6172  tMapper().Scalar
-00022800: 5669 7369 6269 6c69 7479 4f66 6628 290a  VisibilityOff().
+00020280: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+00020290: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+000202a0: 3420 2020 2020 7573 6520 6461 7461 2061  4     use data a
+000202b0: 7272 6179 2061 7320 636f 6c6f 7273 2c20  rray as colors, 
+000202c0: 6966 2070 7265 7365 6e74 2020 2020 2020  if present      
+000202d0: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+000202e0: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+000202f0: 2020 2020 352d 3620 2020 6368 616e 6765      5-6   change
+00020300: 2062 6163 6b67 726f 756e 6420 636f 6c6f   background colo
+00020310: 7228 7329 2020 2020 2020 2020 2020 2020  r(s)            
+00020320: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+00020330: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+00020340: 2020 2020 2020 2020 3039 2b2d 2020 286f          09+-  (o
+00020350: 6e20 6b65 7970 6164 2920 6f72 202b 2f2d  n keypad) or +/-
+00020360: 2074 6f20 6379 636c 6520 6178 6573 2073   to cycle axes s
+00020370: 7479 6c65 2020 2020 2020 2020 7c5c 6e22  tyle        |\n"
+00020380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020390: 2022 207c 2020 2020 2020 2020 6b20 2020   " |        k   
+000203a0: 2020 6379 636c 6520 6176 6169 6c61 626c    cycle availabl
+000203b0: 6520 6c69 6768 7469 6e67 2073 7479 6c65  e lighting style
+000203c0: 7320 2020 2020 2020 2020 2020 2020 2020  s               
+000203d0: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+000203e0: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+000203f0: 4b20 2020 2020 6379 636c 6520 6176 6169  K     cycle avai
+00020400: 6c61 626c 6520 7368 6164 696e 6720 7374  lable shading st
+00020410: 796c 6573 2020 2020 2020 2020 2020 2020  yles            
+00020420: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+00020430: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+00020440: 2020 2020 4120 2020 2020 746f 6767 6c65      A     toggle
+00020450: 2061 6e74 692d 616c 6961 7369 6e67 2020   anti-aliasing  
+00020460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020470: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+00020480: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+00020490: 2020 2020 2020 2020 4420 2020 2020 746f          D     to
+000204a0: 6767 6c65 2064 6570 7468 2d70 6565 6c69  ggle depth-peeli
+000204b0: 6e67 2028 666f 7220 7472 616e 7370 6172  ng (for transpar
+000204c0: 656e 6369 6573 2920 2020 2020 7c5c 6e22  encies)     |\n"
+000204d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000204e0: 2022 207c 2020 2020 2020 2020 6f2f 4f20   " |        o/O 
+000204f0: 2020 6164 642f 7265 6d6f 7665 206c 6967    add/remove lig
+00020500: 6874 2074 6f20 7363 656e 6520 616e 6420  ht to scene and 
+00020510: 726f 7461 7465 2069 7420 2020 2020 2020  rotate it       
+00020520: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+00020530: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+00020540: 6e20 2020 2020 7368 6f77 2073 7572 6661  n     show surfa
+00020550: 6365 206d 6573 6820 6e6f 726d 616c 7320  ce mesh normals 
+00020560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020570: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+00020580: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+00020590: 2020 2020 6120 2020 2020 746f 6767 6c65      a     toggle
+000205a0: 2069 6e74 6572 6163 7469 6f6e 2074 6f20   interaction to 
+000205b0: 4163 746f 7220 4d6f 6465 2020 2020 2020  Actor Mode      
+000205c0: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+000205d0: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+000205e0: 2020 2020 2020 2020 6a20 2020 2020 746f          j     to
+000205f0: 6767 6c65 2069 6e74 6572 6163 7469 6f6e  ggle interaction
+00020600: 2074 6f20 4a6f 7973 7469 636b 204d 6f64   to Joystick Mod
+00020610: 6520 2020 2020 2020 2020 2020 7c5c 6e22  e           |\n"
+00020620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020630: 2022 207c 2020 2020 2020 2020 5520 2020   " |        U   
+00020640: 2020 746f 6767 6c65 2070 6572 7370 6563    toggle perspec
+00020650: 7469 7665 2f70 6172 616c 6c65 6c20 7072  tive/parallel pr
+00020660: 6f6a 6563 7469 6f6e 2020 2020 2020 2020  ojection        
+00020670: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+00020680: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+00020690: 7220 2020 2020 7265 7365 7420 6361 6d65  r     reset came
+000206a0: 7261 2070 6f73 6974 696f 6e20 2020 2020  ra position     
+000206b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000206c0: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+000206d0: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+000206e0: 2020 2020 5220 2020 2020 7265 7365 7420      R     reset 
+000206f0: 6361 6d65 7261 206f 7269 656e 7461 7469  camera orientati
+00020700: 6f6e 2074 6f20 6f72 7468 6f67 6f6e 616c  on to orthogonal
+00020710: 2076 6965 7720 2020 7c5c 6e22 0a20 2020   view   |\n".   
+00020720: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+00020730: 2020 2020 2020 2020 2e20 2020 2020 666c          .     fl
+00020740: 7920 6361 6d65 7261 2074 6f77 6172 6473  y camera towards
+00020750: 206c 6173 7420 636c 6963 6b65 6420 706f   last clicked po
+00020760: 696e 7420 2020 2020 2020 2020 7c5c 6e22  int         |\n"
+00020770: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020780: 2022 207c 2020 2020 2020 2020 4320 2020   " |        C   
+00020790: 2020 7072 696e 7420 6375 7272 656e 7420    print current 
+000207a0: 6361 6d65 7261 2073 6574 7469 6e67 7320  camera settings 
+000207b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000207c0: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+000207d0: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+000207e0: 5320 2020 2020 7361 7665 2061 2073 6372  S     save a scr
+000207f0: 6565 6e73 686f 7420 2020 2020 2020 2020  eenshot         
+00020800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020810: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+00020820: 2020 2020 2020 2020 2022 207c 2020 2020           " |    
+00020830: 2020 2020 452f 4620 2020 6578 706f 7274      E/F   export
+00020840: 2033 4420 7363 656e 6520 746f 206e 756d   3D scene to num
+00020850: 7079 2066 696c 6520 6f72 2058 3344 2020  py file or X3D  
+00020860: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+00020870: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+00020880: 2020 2020 2020 2020 7120 2020 2020 7265          q     re
+00020890: 7475 726e 2063 6f6e 7472 6f6c 2074 6f20  turn control to 
+000208a0: 7079 7468 6f6e 2073 6372 6970 7420 2020  python script   
+000208b0: 2020 2020 2020 2020 2020 2020 7c5c 6e22              |\n"
+000208c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000208d0: 2022 207c 2020 2020 2020 2020 4573 6320   " |        Esc 
+000208e0: 2020 6162 6f72 7420 6578 6563 7574 696f    abort executio
+000208f0: 6e20 616e 6420 6578 6974 2070 7974 686f  n and exit pytho
+00020900: 6e20 6b65 726e 656c 2020 2020 2020 2020  n kernel        
+00020910: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+00020920: 2020 2020 2022 207c 2d2d 2d2d 2d2d 2d2d       " |--------
+00020930: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00020940: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00020950: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00020960: 2d2d 2d2d 7c5c 6e22 0a20 2020 2020 2020  ----|\n".       
+00020970: 2020 2020 2020 2020 2022 207c 204d 6f75           " | Mou
+00020980: 7365 3a20 4c65 6674 2d63 6c69 636b 2020  se: Left-click  
+00020990: 2020 726f 7461 7465 2073 6365 6e65 202f    rotate scene /
+000209a0: 2070 6963 6b20 6163 746f 7273 2020 2020   pick actors    
+000209b0: 2020 2020 2020 2020 7c5c 6e22 0a20 2020          |\n".   
+000209c0: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+000209d0: 2020 2020 2020 2020 4d69 6464 6c65 2d63          Middle-c
+000209e0: 6c69 636b 2020 7061 6e20 7363 656e 6520  lick  pan scene 
+000209f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020a00: 2020 2020 2020 2020 2020 2020 7c5c 6e22              |\n"
+00020a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020a20: 2022 207c 2020 2020 2020 2020 5269 6768   " |        Righ
+00020a30: 742d 636c 6963 6b20 2020 7a6f 6f6d 2073  t-click   zoom s
+00020a40: 6365 6e65 2069 6e20 6f72 206f 7574 2020  cene in or out  
+00020a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020a60: 7c5c 6e22 0a20 2020 2020 2020 2020 2020  |\n".           
+00020a70: 2020 2020 2022 207c 2020 2020 2020 2020       " |        
+00020a80: 436e 7472 6c2d 636c 6963 6b20 2020 726f  Cntrl-click   ro
+00020a90: 7461 7465 2073 6365 6e65 2020 2020 2020  tate scene      
+00020aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020ab0: 2020 2020 7c5c 6e22 0a20 2020 2020 2020      |\n".       
+00020ac0: 2020 2020 2020 2020 2022 207c 2d2d 2d2d           " |----
+00020ad0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00020ae0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00020af0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00020b00: 2d2d 2d2d 2d2d 2d2d 7c5c 6e22 0a20 2020  --------|\n".   
+00020b10: 2020 2020 2020 2020 2020 2020 2022 207c               " |
+00020b20: 2020 2043 6865 636b 206f 7574 2074 6865     Check out the
+00020b30: 2064 6f63 756d 656e 7461 7469 6f6e 2061   documentation a
+00020b40: 743a 2020 6874 7470 733a 2f2f 7665 646f  t:  https://vedo
+00020b50: 2e65 6d62 6c2e 6573 2020 2020 7c5c 6e22  .embl.es    |\n"
+00020b60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020b70: 2022 2020 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d   "  ============
+00020b80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00020b90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00020ba0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00020bb0: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
+00020bc0: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+00020bd0: 2e70 7269 6e74 6328 6d73 672c 2064 696d  .printc(msg, dim
+00020be0: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
+00020bf0: 2020 2020 6d73 6720 3d20 2220 7665 646f      msg = " vedo
+00020c00: 2022 202b 2076 6564 6f2e 5f5f 7665 7273   " + vedo.__vers
+00020c10: 696f 6e5f 5f20 2b20 2220 220a 2020 2020  ion__ + " ".    
+00020c20: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+00020c30: 6e74 6328 6d73 672c 2069 6e76 6572 743d  ntc(msg, invert=
+00020c40: 5472 7565 2c20 6469 6d3d 5472 7565 2c20  True, dim=True, 
+00020c50: 656e 643d 2222 290a 2020 2020 2020 2020  end="").        
+00020c60: 2020 2020 7674 6b56 6572 7320 3d20 7674      vtkVers = vt
+00020c70: 6b2e 7674 6b56 6572 7369 6f6e 2829 2e47  k.vtkVersion().G
+00020c80: 6574 5654 4b56 6572 7369 6f6e 2829 0a20  etVTKVersion(). 
+00020c90: 2020 2020 2020 2020 2020 206d 7367 203d             msg =
+00020ca0: 2022 7c20 7674 6b20 2220 2b20 7374 7228   "| vtk " + str(
+00020cb0: 7674 6b56 6572 7329 0a20 2020 2020 2020  vtkVers).       
+00020cc0: 2020 2020 206d 7367 202b 3d20 2220 7c20       msg += " | 
+00020cd0: 6e75 6d70 7920 2220 2b20 7374 7228 6e70  numpy " + str(np
+00020ce0: 2e5f 5f76 6572 7369 6f6e 5f5f 290a 2020  .__version__).  
+00020cf0: 2020 2020 2020 2020 2020 6d73 6720 2b3d            msg +=
+00020d00: 2022 207c 2070 7974 686f 6e20 2220 2b20   " | python " + 
+00020d10: 7374 7228 7379 732e 7665 7273 696f 6e5f  str(sys.version_
+00020d20: 696e 666f 5b30 5d29 202b 2022 2e22 202b  info[0]) + "." +
+00020d30: 2073 7472 2873 7973 2e76 6572 7369 6f6e   str(sys.version
+00020d40: 5f69 6e66 6f5b 315d 290a 2020 2020 2020  _info[1]).      
+00020d50: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+00020d60: 6328 6d73 672c 2069 6e76 6572 743d 4661  c(msg, invert=Fa
+00020d70: 6c73 652c 2064 696d 3d54 7275 6529 0a20  lse, dim=True). 
+00020d80: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00020d90: 6e0a 0a20 2020 2020 2020 2065 6c69 6620  n..        elif 
+00020da0: 6b65 7920 3d3d 2022 6122 3a0a 2020 2020  key == "a":.    
+00020db0: 2020 2020 2020 2020 6972 656e 2e45 7869          iren.Exi
+00020dc0: 7443 616c 6c62 6163 6b28 290a 2020 2020  tCallback().    
+00020dd0: 2020 2020 2020 2020 6375 7220 3d20 6972          cur = ir
+00020de0: 656e 2e47 6574 496e 7465 7261 6374 6f72  en.GetInteractor
+00020df0: 5374 796c 6528 290a 2020 2020 2020 2020  Style().        
+00020e00: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00020e10: 6528 6375 722c 2076 746b 2e76 746b 496e  e(cur, vtk.vtkIn
+00020e20: 7465 7261 6374 6f72 5374 796c 6554 7261  teractorStyleTra
+00020e30: 636b 6261 6c6c 4361 6d65 7261 293a 0a20  ckballCamera):. 
+00020e40: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00020e50: 7367 203d 2022 5c6e 496e 7465 7261 6374  sg = "\nInteract
+00020e60: 6f72 2073 7479 6c65 2063 6861 6e67 6564  or style changed
+00020e70: 2074 6f20 5472 6163 6b62 616c 6c41 6374   to TrackballAct
+00020e80: 6f72 5c6e 220a 2020 2020 2020 2020 2020  or\n".          
+00020e90: 2020 2020 2020 6d73 6720 2b3d 2022 2020        msg += "  
+00020ea0: 796f 7520 6361 6e20 6e6f 7720 6d6f 7665  you can now move
+00020eb0: 2061 6e64 2072 6f74 6174 6520 696e 6469   and rotate indi
+00020ec0: 7669 6475 616c 206d 6573 6865 733a 5c6e  vidual meshes:\n
+00020ed0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00020ee0: 2020 6d73 6720 2b3d 2022 2020 7072 6573    msg += "  pres
+00020ef0: 7320 5820 7477 6963 6520 746f 2073 6176  s X twice to sav
+00020f00: 6520 7468 6520 7265 706f 7369 7469 6f6e  e the reposition
+00020f10: 6564 206d 6573 685c 6e22 0a20 2020 2020  ed mesh\n".     
+00020f20: 2020 2020 2020 2020 2020 206d 7367 202b             msg +
+00020f30: 3d20 2220 2070 7265 7373 2027 6127 2074  = "  press 'a' t
+00020f40: 6f20 676f 2062 6163 6b20 746f 206e 6f72  o go back to nor
+00020f50: 6d61 6c20 7374 796c 6522 0a20 2020 2020  mal style".     
+00020f60: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+00020f70: 7072 696e 7463 286d 7367 290a 2020 2020  printc(msg).    
+00020f80: 2020 2020 2020 2020 2020 2020 6972 656e              iren
+00020f90: 2e53 6574 496e 7465 7261 6374 6f72 5374  .SetInteractorSt
+00020fa0: 796c 6528 7674 6b2e 7674 6b49 6e74 6572  yle(vtk.vtkInter
+00020fb0: 6163 746f 7253 7479 6c65 5472 6163 6b62  actorStyleTrackb
+00020fc0: 616c 6c41 6374 6f72 2829 290a 2020 2020  allActor()).    
+00020fd0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00020fe0: 2020 2020 2020 2020 2020 2020 2020 6972                ir
+00020ff0: 656e 2e53 6574 496e 7465 7261 6374 6f72  en.SetInteractor
+00021000: 5374 796c 6528 7674 6b2e 7674 6b49 6e74  Style(vtk.vtkInt
+00021010: 6572 6163 746f 7253 7479 6c65 5472 6163  eractorStyleTrac
+00021020: 6b62 616c 6c43 616d 6572 6128 2929 0a20  kballCamera()). 
+00021030: 2020 2020 2020 2020 2020 2069 7265 6e2e             iren.
+00021040: 5374 6172 7428 290a 2020 2020 2020 2020  Start().        
+00021050: 2020 2020 7265 7475 726e 0a0a 2020 2020      return..    
+00021060: 2020 2020 656c 6966 206b 6579 203d 3d20      elif key == 
+00021070: 2241 223a 2020 2320 746f 6767 6c65 2061  "A":  # toggle a
+00021080: 6e74 6961 6c69 6173 696e 670a 2020 2020  ntialiasing.    
+00021090: 2020 2020 2020 2020 6d73 616d 203d 2073          msam = s
+000210a0: 656c 662e 7769 6e64 6f77 2e47 6574 4d75  elf.window.GetMu
+000210b0: 6c74 6953 616d 706c 6573 2829 0a20 2020  ltiSamples().   
+000210c0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+000210d0: 6d73 616d 3a0a 2020 2020 2020 2020 2020  msam:.          
+000210e0: 2020 2020 2020 7365 6c66 2e77 696e 646f        self.windo
+000210f0: 772e 5365 744d 756c 7469 5361 6d70 6c65  w.SetMultiSample
+00021100: 7328 3829 0a20 2020 2020 2020 2020 2020  s(8).           
+00021110: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00021120: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
+00021130: 6f77 2e53 6574 4d75 6c74 6953 616d 706c  ow.SetMultiSampl
+00021140: 6573 2830 290a 2020 2020 2020 2020 2020  es(0).          
+00021150: 2020 6d73 616d 203d 2073 656c 662e 7769    msam = self.wi
+00021160: 6e64 6f77 2e47 6574 4d75 6c74 6953 616d  ndow.GetMultiSam
+00021170: 706c 6573 2829 0a20 2020 2020 2020 2020  ples().         
+00021180: 2020 2069 6620 6d73 616d 3a0a 2020 2020     if msam:.    
+00021190: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+000211a0: 2e70 7269 6e74 6328 6622 416e 7469 616c  .printc(f"Antial
+000211b0: 6961 7369 6e67 2069 7320 6e6f 7720 7365  iasing is now se
+000211c0: 7420 746f 207b 6d73 616d 7d20 7361 6d70  t to {msam} samp
+000211d0: 6c65 7322 2c20 633d 626f 6f6c 286d 7361  les", c=bool(msa
+000211e0: 6d29 290a 2020 2020 2020 2020 2020 2020  m)).            
+000211f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00021200: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+00021210: 6328 2241 6e74 6961 6c69 6173 696e 6720  c("Antialiasing 
+00021220: 6973 206e 6f77 2064 6973 6162 6c65 6422  is now disabled"
+00021230: 2c20 633d 626f 6f6c 286d 7361 6d29 290a  , c=bool(msam)).
+00021240: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+00021250: 7920 3d3d 2022 4422 3a20 2023 2074 6f67  y == "D":  # tog
+00021260: 676c 6520 6465 7074 6870 6565 6c69 6e67  gle depthpeeling
+00021270: 0a20 2020 2020 2020 2020 2020 2075 6470  .            udp
+00021280: 203d 206e 6f74 2072 656e 6465 7265 722e   = not renderer.
+00021290: 4765 7455 7365 4465 7074 6850 6565 6c69  GetUseDepthPeeli
+000212a0: 6e67 2829 0a20 2020 2020 2020 2020 2020  ng().           
+000212b0: 2072 656e 6465 7265 722e 5365 7455 7365   renderer.SetUse
+000212c0: 4465 7074 6850 6565 6c69 6e67 2875 6470  DepthPeeling(udp
+000212d0: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+000212e0: 7365 6c66 2e72 656e 6465 7265 722e 5365  self.renderer.Se
+000212f0: 7455 7365 4465 7074 6850 6565 6c69 6e67  tUseDepthPeeling
+00021300: 466f 7256 6f6c 756d 6573 2875 6470 290a  ForVolumes(udp).
+00021310: 2020 2020 2020 2020 2020 2020 2320 7072              # pr
+00021320: 696e 7428 7365 6c66 2e77 696e 646f 772e  int(self.window.
+00021330: 4765 7441 6c70 6861 4269 7450 6c61 6e65  GetAlphaBitPlane
+00021340: 7328 2929 0a20 2020 2020 2020 2020 2020  s()).           
+00021350: 2069 6620 7564 703a 0a20 2020 2020 2020   if udp:.       
+00021360: 2020 2020 2020 2020 2073 656c 662e 7769           self.wi
+00021370: 6e64 6f77 2e53 6574 416c 7068 6142 6974  ndow.SetAlphaBit
+00021380: 506c 616e 6573 2831 290a 2020 2020 2020  Planes(1).      
+00021390: 2020 2020 2020 2020 2020 7265 6e64 6572            render
+000213a0: 6572 2e53 6574 4d61 7869 6d75 6d4e 756d  er.SetMaximumNum
+000213b0: 6265 724f 6650 6565 6c73 2873 6574 7469  berOfPeels(setti
+000213c0: 6e67 732e 6d61 785f 6e75 6d62 6572 5f6f  ngs.max_number_o
+000213d0: 665f 7065 656c 7329 0a20 2020 2020 2020  f_peels).       
+000213e0: 2020 2020 2020 2020 2072 656e 6465 7265           rendere
+000213f0: 722e 5365 744f 6363 6c75 7369 6f6e 5261  r.SetOcclusionRa
+00021400: 7469 6f28 7365 7474 696e 6773 2e6f 6363  tio(settings.occ
+00021410: 6c75 7369 6f6e 5f72 6174 696f 290a 2020  lusion_ratio).  
+00021420: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
+00021430: 6e74 6572 6163 746f 722e 5265 6e64 6572  nteractor.Render
+00021440: 2829 0a20 2020 2020 2020 2020 2020 2077  ().            w
+00021450: 6173 5573 6564 203d 2072 656e 6465 7265  asUsed = rendere
+00021460: 722e 4765 744c 6173 7452 656e 6465 7269  r.GetLastRenderi
+00021470: 6e67 5573 6564 4465 7074 6850 6565 6c69  ngUsedDepthPeeli
+00021480: 6e67 2829 0a20 2020 2020 2020 2020 2020  ng().           
+00021490: 2072 6e72 203d 2073 656c 662e 7265 6e64   rnr = self.rend
+000214a0: 6572 6572 732e 696e 6465 7828 7265 6e64  erers.index(rend
+000214b0: 6572 6572 290a 2020 2020 2020 2020 2020  erer).          
+000214c0: 2020 7665 646f 2e70 7269 6e74 6328 6622    vedo.printc(f"
+000214d0: 4465 7074 6820 7065 656c 696e 6720 6973  Depth peeling is
+000214e0: 206e 6f77 2073 6574 2074 6f20 7b75 6470   now set to {udp
+000214f0: 7d20 666f 7220 7265 6e64 6572 6572 206e  } for renderer n
+00021500: 722e 7b72 6e72 7d22 2c20 633d 7564 7029  r.{rnr}", c=udp)
+00021510: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00021520: 6e6f 7420 7761 7355 7365 6420 616e 6420  not wasUsed and 
+00021530: 7564 703a 0a20 2020 2020 2020 2020 2020  udp:.           
+00021540: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+00021550: 2822 5c74 2e2e 2e62 7574 206c 6173 7420  ("\t...but last 
+00021560: 7265 6e64 6572 696e 6720 6469 6420 6e6f  rendering did no
+00021570: 7420 6163 7475 616c 6c79 2075 7365 6420  t actually used 
+00021580: 6974 2122 2c20 633d 7564 702c 2069 6e76  it!", c=udp, inv
+00021590: 6572 743d 5472 7565 290a 2020 2020 2020  ert=True).      
+000215a0: 2020 2020 2020 7265 7475 726e 0a0a 2020        return..  
+000215b0: 2020 2020 2020 656c 6966 206b 6579 203d        elif key =
+000215c0: 3d20 226a 223a 0a20 2020 2020 2020 2020  = "j":.         
+000215d0: 2020 2069 7265 6e2e 4578 6974 4361 6c6c     iren.ExitCall
+000215e0: 6261 636b 2829 0a20 2020 2020 2020 2020  back().         
+000215f0: 2020 2063 7572 203d 2069 7265 6e2e 4765     cur = iren.Ge
+00021600: 7449 6e74 6572 6163 746f 7253 7479 6c65  tInteractorStyle
+00021610: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+00021620: 6620 6973 696e 7374 616e 6365 2863 7572  f isinstance(cur
+00021630: 2c20 7674 6b2e 7674 6b49 6e74 6572 6163  , vtk.vtkInterac
+00021640: 746f 7253 7479 6c65 4a6f 7973 7469 636b  torStyleJoystick
+00021650: 4361 6d65 7261 293a 0a20 2020 2020 2020  Camera):.       
+00021660: 2020 2020 2020 2020 2069 7265 6e2e 5365           iren.Se
+00021670: 7449 6e74 6572 6163 746f 7253 7479 6c65  tInteractorStyle
+00021680: 2876 746b 2e76 746b 496e 7465 7261 6374  (vtk.vtkInteract
+00021690: 6f72 5374 796c 6554 7261 636b 6261 6c6c  orStyleTrackball
+000216a0: 4361 6d65 7261 2829 290a 2020 2020 2020  Camera()).      
+000216b0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000216c0: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+000216d0: 2e70 7269 6e74 6328 225c 6e49 6e74 6572  .printc("\nInter
+000216e0: 6163 746f 7220 7374 796c 6520 6368 616e  actor style chan
+000216f0: 6765 6420 746f 204a 6f79 7374 6963 6b2c  ged to Joystick,
+00021700: 222c 2065 6e64 3d22 2229 0a20 2020 2020  ", end="").     
+00021710: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+00021720: 7072 696e 7463 2822 2070 7265 7373 206a  printc(" press j
+00021730: 2074 6f20 676f 2062 6163 6b20 746f 206e   to go back to n
+00021740: 6f72 6d61 6c2e 2229 0a20 2020 2020 2020  ormal.").       
+00021750: 2020 2020 2020 2020 2069 7265 6e2e 5365           iren.Se
+00021760: 7449 6e74 6572 6163 746f 7253 7479 6c65  tInteractorStyle
+00021770: 2876 746b 2e76 746b 496e 7465 7261 6374  (vtk.vtkInteract
+00021780: 6f72 5374 796c 654a 6f79 7374 6963 6b43  orStyleJoystickC
+00021790: 616d 6572 6128 2929 0a20 2020 2020 2020  amera()).       
+000217a0: 2020 2020 2069 7265 6e2e 5374 6172 7428       iren.Start(
+000217b0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+000217c0: 7475 726e 0a0a 2020 2020 2020 2020 656c  turn..        el
+000217d0: 6966 206b 6579 203d 3d20 2270 6572 696f  if key == "perio
+000217e0: 6422 3a0a 2020 2020 2020 2020 2020 2020  d":.            
+000217f0: 6966 2073 656c 662e 7069 636b 6564 3364  if self.picked3d
+00021800: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00021810: 2020 7365 6c66 2e66 6c79 5f74 6f28 7365    self.fly_to(se
+00021820: 6c66 2e70 6963 6b65 6433 6429 0a20 2020  lf.picked3d).   
+00021830: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
+00021840: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+00021850: 7920 3d3d 2022 5322 3a0a 2020 2020 2020  y == "S":.      
+00021860: 2020 2020 2020 7665 646f 2e66 696c 655f        vedo.file_
+00021870: 696f 2e73 6372 6565 6e73 686f 7428 2273  io.screenshot("s
+00021880: 6372 6565 6e73 686f 742e 706e 6722 290a  creenshot.png").
+00021890: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+000218a0: 2e70 7269 6e74 6328 7222 3a63 616d 6572  .printc(r":camer
+000218b0: 613a 2053 6176 6564 2072 656e 6465 7269  a: Saved renderi
+000218c0: 6e67 2077 696e 646f 7720 746f 2027 7363  ng window to 'sc
+000218d0: 7265 656e 7368 6f74 2e70 6e67 2722 2c20  reenshot.png'", 
+000218e0: 633d 2262 2229 0a20 2020 2020 2020 2020  c="b").         
+000218f0: 2020 2072 6574 7572 6e0a 0a20 2020 2020     return..     
+00021900: 2020 2065 6c69 6620 6b65 7920 3d3d 2022     elif key == "
+00021910: 4322 3a0a 2020 2020 2020 2020 2020 2020  C":.            
+00021920: 2320 5072 6563 6973 696f 6e20 6e65 6564  # Precision need
+00021930: 7320 746f 2062 6520 3720 286f 7220 6576  s to be 7 (or ev
+00021940: 656e 206c 6172 6765 7229 2074 6f20 6775  en larger) to gu
+00021950: 6172 616e 7465 6520 6120 636f 6e73 6973  arantee a consis
+00021960: 7465 6e74 2063 616d 6572 6120 7768 656e  tent camera when
+00021970: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+00021980: 2074 6865 206d 6f64 656c 2063 6f6f 7264   the model coord
+00021990: 696e 6174 6573 2061 7265 206e 6f74 2063  inates are not c
+000219a0: 656e 7465 7265 6420 6174 2028 302c 2030  entered at (0, 0
+000219b0: 2c20 3029 2061 6e64 2074 6865 206d 6f64  , 0) and the mod
+000219c0: 6520 6973 206c 6172 6765 2e0a 2020 2020  e is large..    
+000219d0: 2020 2020 2020 2020 2320 5468 6973 2063          # This c
+000219e0: 6f75 6c64 2068 6170 7065 6e20 666f 7220  ould happen for 
+000219f0: 706c 6f74 7469 6e67 2067 656f 6c6f 6769  plotting geologi
+00021a00: 6361 6c20 6d6f 6465 6c73 2077 6974 6820  cal models with 
+00021a10: 5554 4d20 636f 6f72 6469 6e61 7465 2073  UTM coordinate s
+00021a20: 7973 7465 6d73 0a20 2020 2020 2020 2020  ystems.         
+00021a30: 2020 2063 616d 203d 2072 656e 6465 7265     cam = rendere
+00021a40: 722e 4765 7441 6374 6976 6543 616d 6572  r.GetActiveCamer
+00021a50: 6128 290a 2020 2020 2020 2020 2020 2020  a().            
+00021a60: 7665 646f 2e70 7269 6e74 6328 225c 6e23  vedo.printc("\n#
+00021a70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00021a80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00021a90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00021aa0: 2323 222c 2063 3d22 7922 290a 2020 2020  ##", c="y").    
+00021ab0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+00021ac0: 6e74 6328 2223 2320 5465 6d70 6c61 7465  ntc("## Template
+00021ad0: 2070 7974 686f 6e20 636f 6465 2074 6f20   python code to 
+00021ae0: 706f 7369 7469 6f6e 2074 6869 7320 6361  position this ca
+00021af0: 6d65 7261 3a20 2323 222c 2063 3d22 7922  mera: ##", c="y"
+00021b00: 290a 2020 2020 2020 2020 2020 2020 7665  ).            ve
+00021b10: 646f 2e70 7269 6e74 6328 2263 616d 203d  do.printc("cam =
+00021b20: 2064 6963 7428 222c 2063 3d22 7922 290a   dict(", c="y").
+00021b30: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+00021b40: 2e70 7269 6e74 6328 2220 2020 2070 6f73  .printc("    pos
+00021b50: 6974 696f 6e3d 2220 2b20 7574 696c 732e  ition=" + utils.
+00021b60: 7072 6563 6973 696f 6e28 6361 6d2e 4765  precision(cam.Ge
+00021b70: 7450 6f73 6974 696f 6e28 292c 2036 2920  tPosition(), 6) 
+00021b80: 2b20 222c 222c 2063 3d22 7922 290a 2020  + ",", c="y").  
+00021b90: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+00021ba0: 7269 6e74 6328 2220 2020 2066 6f63 616c  rintc("    focal
+00021bb0: 5f70 6f69 6e74 3d22 202b 2075 7469 6c73  _point=" + utils
+00021bc0: 2e70 7265 6369 7369 6f6e 2863 616d 2e47  .precision(cam.G
+00021bd0: 6574 466f 6361 6c50 6f69 6e74 2829 2c20  etFocalPoint(), 
+00021be0: 3629 202b 2022 2c22 2c20 633d 2279 2229  6) + ",", c="y")
+00021bf0: 0a20 2020 2020 2020 2020 2020 2076 6564  .            ved
+00021c00: 6f2e 7072 696e 7463 2822 2020 2020 7669  o.printc("    vi
+00021c10: 6577 7570 3d22 202b 2075 7469 6c73 2e70  ewup=" + utils.p
+00021c20: 7265 6369 7369 6f6e 2863 616d 2e47 6574  recision(cam.Get
+00021c30: 5669 6577 5570 2829 2c20 3629 202b 2022  ViewUp(), 6) + "
+00021c40: 2c22 2c20 633d 2279 2229 0a20 2020 2020  ,", c="y").     
+00021c50: 2020 2020 2020 2069 6620 7365 7474 696e         if settin
+00021c60: 6773 2e75 7365 5f70 6172 616c 6c65 6c5f  gs.use_parallel_
+00021c70: 7072 6f6a 6563 7469 6f6e 3a0a 2020 2020  projection:.    
+00021c80: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+00021c90: 2e70 7269 6e74 6328 2720 2020 2070 6172  .printc('    par
+00021ca0: 616c 6c65 6c5f 7363 616c 653d 272b 7574  allel_scale='+ut
+00021cb0: 696c 732e 7072 6563 6973 696f 6e28 6361  ils.precision(ca
+00021cc0: 6d2e 4765 7450 6172 616c 6c65 6c53 6361  m.GetParallelSca
+00021cd0: 6c65 2829 2c36 292b 272c 272c 2063 3d27  le(),6)+',', c='
+00021ce0: 7927 290a 2020 2020 2020 2020 2020 2020  y').            
+00021cf0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00021d00: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+00021d10: 6328 2720 2020 2064 6973 7461 6e63 653d  c('    distance=
+00021d20: 2720 2020 2020 2b75 7469 6c73 2e70 7265  '     +utils.pre
+00021d30: 6369 7369 6f6e 2863 616d 2e47 6574 4469  cision(cam.GetDi
+00021d40: 7374 616e 6365 2829 2c36 292b 272c 272c  stance(),6)+',',
+00021d50: 2063 3d27 7927 290a 2020 2020 2020 2020   c='y').        
+00021d60: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
+00021d70: 2720 2020 2063 6c69 7070 696e 675f 7261  '    clipping_ra
+00021d80: 6e67 653d 272b 7574 696c 732e 7072 6563  nge='+utils.prec
+00021d90: 6973 696f 6e28 6361 6d2e 4765 7443 6c69  ision(cam.GetCli
+00021da0: 7070 696e 6752 616e 6765 2829 2c36 292b  ppingRange(),6)+
+00021db0: 272c 272c 2063 3d27 7927 290a 2020 2020  ',', c='y').    
+00021dc0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+00021dd0: 6e74 6328 2729 272c 2063 3d27 7927 290a  ntc(')', c='y').
+00021de0: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+00021df0: 2e70 7269 6e74 6328 2773 686f 7728 6d79  .printc('show(my
+00021e00: 6d65 7368 6573 2c20 6361 6d65 7261 3d63  meshes, camera=c
+00021e10: 616d 2927 2c20 633d 2779 2729 0a20 2020  am)', c='y').   
+00021e20: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+00021e30: 696e 7463 2827 2323 2323 2323 2323 2323  intc('##########
+00021e40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00021e50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00021e60: 2323 2323 2323 2323 2327 2c20 633d 2779  #########', c='y
+00021e70: 2729 0a20 2020 2020 2020 2020 2020 2072  ').            r
+00021e80: 6574 7572 6e0a 0a20 2020 2020 2020 2065  eturn..        e
+00021e90: 6c69 6620 6b65 7920 3d3d 2022 5222 3a0a  lif key == "R":.
+00021ea0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00021eb0: 2e72 6573 6574 5f76 6965 7775 7028 290a  .reset_viewup().
+00021ec0: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+00021ed0: 7920 3d3d 2022 7322 3a0a 2020 2020 2020  y == "s":.      
+00021ee0: 2020 2020 2020 6966 2073 656c 662e 636c        if self.cl
+00021ef0: 6963 6b65 645f 6163 746f 7220 616e 6420  icked_actor and 
+00021f00: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+00021f10: 6f72 2069 6e20 7365 6c66 2e67 6574 5f6d  or in self.get_m
+00021f20: 6573 6865 7328 293a 0a20 2020 2020 2020  eshes():.       
+00021f30: 2020 2020 2020 2020 2073 656c 662e 636c           self.cl
+00021f40: 6963 6b65 645f 6163 746f 722e 4765 7450  icked_actor.GetP
+00021f50: 726f 7065 7274 7928 292e 5365 7452 6570  roperty().SetRep
+00021f60: 7265 7365 6e74 6174 696f 6e54 6f53 7572  resentationToSur
+00021f70: 6661 6365 2829 0a20 2020 2020 2020 2020  face().         
+00021f80: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00021f90: 2020 2020 2020 2020 2066 6f72 2061 2069           for a i
+00021fa0: 6e20 7365 6c66 2e67 6574 5f6d 6573 6865  n self.get_meshe
+00021fb0: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+00021fc0: 2020 2020 2020 2020 2061 2e47 6574 5072           a.GetPr
+00021fd0: 6f70 6572 7479 2829 2e53 6574 5265 7072  operty().SetRepr
+00021fe0: 6573 656e 7461 7469 6f6e 546f 5375 7266  esentationToSurf
+00021ff0: 6163 6528 290a 0a20 2020 2020 2020 2065  ace()..        e
+00022000: 6c69 6620 6b65 7920 3d3d 2022 3122 3a0a  lif key == "1":.
+00022010: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00022020: 2e5f 6963 6f6c 202b 3d20 310a 2020 2020  ._icol += 1.    
+00022030: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00022040: 7461 6e63 6528 7365 6c66 2e63 6c69 636b  tance(self.click
+00022050: 6564 5f61 6374 6f72 2c20 7665 646f 2e50  ed_actor, vedo.P
+00022060: 6f69 6e74 7329 3a0a 2020 2020 2020 2020  oints):.        
+00022070: 2020 2020 2020 2020 7365 6c66 2e63 6c69          self.cli
+00022080: 636b 6564 5f61 6374 6f72 2e47 6574 4d61  cked_actor.GetMa
+00022090: 7070 6572 2829 2e53 6361 6c61 7256 6973  pper().ScalarVis
+000220a0: 6962 696c 6974 794f 6666 2829 0a20 2020  ibilityOff().   
+000220b0: 2020 2020 2020 2020 2020 2020 2070 616c               pal
+000220c0: 203d 2076 6564 6f2e 636f 6c6f 7273 2e70   = vedo.colors.p
+000220d0: 616c 6574 7465 735b 7365 7474 696e 6773  alettes[settings
+000220e0: 2e70 616c 6574 7465 2025 206c 656e 2876  .palette % len(v
+000220f0: 6564 6f2e 636f 6c6f 7273 2e70 616c 6574  edo.colors.palet
+00022100: 7465 7329 5d0a 2020 2020 2020 2020 2020  tes)].          
+00022110: 2020 2020 2020 7365 6c66 2e63 6c69 636b        self.click
+00022120: 6564 5f61 6374 6f72 2e47 6574 5072 6f70  ed_actor.GetProp
+00022130: 6572 7479 2829 2e53 6574 436f 6c6f 7228  erty().SetColor(
+00022140: 7061 6c5b 2873 656c 662e 5f69 636f 6c29  pal[(self._icol)
+00022150: 2025 2031 305d 290a 0a20 2020 2020 2020   % 10])..       
+00022160: 2065 6c69 6620 6b65 7920 3d3d 2022 3222   elif key == "2"
+00022170: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00022180: 6c66 2e5f 6963 6f6c 202b 3d20 310a 2020  lf._icol += 1.  
+00022190: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+000221a0: 6773 2e70 616c 6574 7465 202b 3d20 310a  gs.palette += 1.
+000221b0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+000221c0: 696e 6773 2e70 616c 6574 7465 203d 2073  ings.palette = s
+000221d0: 6574 7469 6e67 732e 7061 6c65 7474 6520  ettings.palette 
+000221e0: 2520 6c65 6e28 7665 646f 2e63 6f6c 6f72  % len(vedo.color
+000221f0: 732e 7061 6c65 7474 6573 290a 2020 2020  s.palettes).    
+00022200: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00022210: 7461 6e63 6528 7365 6c66 2e63 6c69 636b  tance(self.click
+00022220: 6564 5f61 6374 6f72 2c20 7665 646f 2e50  ed_actor, vedo.P
+00022230: 6f69 6e74 7329 3a0a 2020 2020 2020 2020  oints):.        
+00022240: 2020 2020 2020 2020 7365 6c66 2e63 6c69          self.cli
+00022250: 636b 6564 5f61 6374 6f72 2e47 6574 4d61  cked_actor.GetMa
+00022260: 7070 6572 2829 2e53 6361 6c61 7256 6973  pper().ScalarVis
+00022270: 6962 696c 6974 794f 6666 2829 0a20 2020  ibilityOff().   
+00022280: 2020 2020 2020 2020 2020 2020 2070 616c               pal
+00022290: 203d 2076 6564 6f2e 636f 6c6f 7273 2e70   = vedo.colors.p
+000222a0: 616c 6574 7465 735b 7365 7474 696e 6773  alettes[settings
+000222b0: 2e70 616c 6574 7465 2025 206c 656e 2876  .palette % len(v
+000222c0: 6564 6f2e 636f 6c6f 7273 2e70 616c 6574  edo.colors.palet
+000222d0: 7465 7329 5d0a 2020 2020 2020 2020 2020  tes)].          
+000222e0: 2020 2020 2020 7365 6c66 2e63 6c69 636b        self.click
+000222f0: 6564 5f61 6374 6f72 2e47 6574 5072 6f70  ed_actor.GetProp
+00022300: 6572 7479 2829 2e53 6574 436f 6c6f 7228  erty().SetColor(
+00022310: 7061 6c5b 2873 656c 662e 5f69 636f 6c29  pal[(self._icol)
+00022320: 2025 2031 305d 290a 0a20 2020 2020 2020   % 10])..       
+00022330: 2065 6c69 6620 6b65 7920 3d3d 2022 3322   elif key == "3"
+00022340: 3a0a 2020 2020 2020 2020 2020 2020 6273  :.            bs
+00022350: 6320 3d20 5b22 6235 222c 2022 6379 616e  c = ["b5", "cyan
+00022360: 3522 2c20 2267 3422 2c20 226f 3522 2c20  5", "g4", "o5", 
+00022370: 2270 3522 2c20 2272 3422 2c20 2274 6561  "p5", "r4", "tea
+00022380: 6c34 222c 2022 7965 6c6c 6f77 3422 5d0a  l4", "yellow4"].
+00022390: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000223a0: 2e5f 6963 6f6c 202b 3d20 310a 2020 2020  ._icol += 1.    
+000223b0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+000223c0: 7461 6e63 6528 7365 6c66 2e63 6c69 636b  tance(self.click
+000223d0: 6564 5f61 6374 6f72 2c20 7665 646f 2e50  ed_actor, vedo.P
+000223e0: 6f69 6e74 7329 3a0a 2020 2020 2020 2020  oints):.        
+000223f0: 2020 2020 2020 2020 7365 6c66 2e63 6c69          self.cli
+00022400: 636b 6564 5f61 6374 6f72 2e47 6574 4d61  cked_actor.GetMa
+00022410: 7070 6572 2829 2e53 6361 6c61 7256 6973  pper().ScalarVis
+00022420: 6962 696c 6974 794f 6666 2829 0a20 2020  ibilityOff().   
+00022430: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00022440: 662e 636c 6963 6b65 645f 6163 746f 722e  f.clicked_actor.
+00022450: 4765 7450 726f 7065 7274 7928 292e 5365  GetProperty().Se
+00022460: 7443 6f6c 6f72 2876 6564 6f2e 6765 745f  tColor(vedo.get_
+00022470: 636f 6c6f 7228 6273 635b 2873 656c 662e  color(bsc[(self.
+00022480: 5f69 636f 6c29 2025 206c 656e 2862 7363  _icol) % len(bsc
+00022490: 295d 2929 0a0a 2020 2020 2020 2020 656c  )]))..        el
+000224a0: 6966 206b 6579 203d 3d20 2234 223a 0a20  if key == "4":. 
+000224b0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+000224c0: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
+000224d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000224e0: 2020 6163 7473 203d 205b 7365 6c66 2e63    acts = [self.c
+000224f0: 6c69 636b 6564 5f61 6374 6f72 5d0a 2020  licked_actor].  
+00022500: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00022510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022520: 6163 7473 203d 2073 656c 662e 6765 745f  acts = self.get_
+00022530: 6d65 7368 6573 2829 0a20 2020 2020 2020  meshes().       
+00022540: 2020 2020 2066 6f72 2069 6120 696e 2061       for ia in a
+00022550: 6374 733a 0a20 2020 2020 2020 2020 2020  cts:.           
+00022560: 2020 2020 2069 6620 6e6f 7420 6861 7361       if not hasa
+00022570: 7474 7228 6961 2c20 225f 636d 6170 5f6e  ttr(ia, "_cmap_n
+00022580: 616d 6522 293a 0a20 2020 2020 2020 2020  ame"):.         
+00022590: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
+000225a0: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
+000225b0: 2020 2020 636d 6170 5f6e 616d 6520 3d20      cmap_name = 
+000225c0: 6961 2e5f 636d 6170 5f6e 616d 650a 2020  ia._cmap_name.  
+000225d0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000225e0: 206e 6f74 2063 6d61 705f 6e61 6d65 3a0a   not cmap_name:.
+000225f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022600: 2020 2020 636d 6170 5f6e 616d 6520 3d20      cmap_name = 
+00022610: 2272 6169 6e62 6f77 220a 2020 2020 2020  "rainbow".      
+00022620: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+00022630: 6e73 7461 6e63 6528 6961 2c20 7665 646f  nstance(ia, vedo
+00022640: 2e70 6f69 6e74 636c 6f75 642e 506f 696e  .pointcloud.Poin
+00022650: 7473 293a 0a20 2020 2020 2020 2020 2020  ts):.           
+00022660: 2020 2020 2020 2020 2061 726e 616d 6573           arnames
+00022670: 203d 2069 612e 706f 696e 7464 6174 612e   = ia.pointdata.
+00022680: 6b65 7973 2829 0a20 2020 2020 2020 2020  keys().         
+00022690: 2020 2020 2020 2020 2020 2069 6620 6c65             if le
+000226a0: 6e28 6172 6e61 6d65 7329 203e 2030 3a0a  n(arnames) > 0:.
+000226b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000226c0: 2020 2020 2020 2020 6172 6e61 6d20 3d20          arnam = 
+000226d0: 6172 6e61 6d65 735b 6961 2e5f 7363 616c  arnames[ia._scal
+000226e0: 735f 6964 785d 0a20 2020 2020 2020 2020  s_idx].         
+000226f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00022700: 6620 6172 6e61 6d20 616e 6420 2822 6e6f  f arnam and ("no
+00022710: 726d 616c 7322 206e 6f74 2069 6e20 6172  rmals" not in ar
+00022720: 6e61 6d2e 6c6f 7765 7228 2929 3a20 2023  nam.lower()):  #
+00022730: 2065 7863 6c75 6465 206e 6f72 6d61 6c73   exclude normals
+00022740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022750: 2020 2020 2020 2020 2020 2020 2069 612e               ia.
+00022760: 636d 6170 2863 6d61 705f 6e61 6d65 2c20  cmap(cmap_name, 
+00022770: 6172 6e61 6d2c 206f 6e3d 2270 6f69 6e74  arnam, on="point
+00022780: 7322 290a 2020 2020 2020 2020 2020 2020  s").            
+00022790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000227a0: 7665 646f 2e70 7269 6e74 6328 222e 2e61  vedo.printc("..a
+000227b0: 6374 6976 6520 706f 696e 7420 6461 7461  ctive point data
+000227c0: 2073 6574 2074 6f3a 222c 2061 726e 616d   set to:", arnam
+000227d0: 2c20 633d 2267 222c 2062 6f6c 643d 3029  , c="g", bold=0)
+000227e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000227f0: 2020 2020 2020 2020 2020 2020 2069 612e               ia.
+00022800: 5f73 6361 6c73 5f69 6478 202b 3d20 310a  _scals_idx += 1.
 00022810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022820: 7061 6c20 3d20 7665 646f 2e63 6f6c 6f72  pal = vedo.color
-00022830: 732e 7061 6c65 7474 6573 5b73 6574 7469  s.palettes[setti
-00022840: 6e67 732e 7061 6c65 7474 6520 2520 6c65  ngs.palette % le
-00022850: 6e28 7665 646f 2e63 6f6c 6f72 732e 7061  n(vedo.colors.pa
-00022860: 6c65 7474 6573 295d 0a20 2020 2020 2020  lettes)].       
-00022870: 2020 2020 2020 2020 2073 656c 662e 636c           self.cl
-00022880: 6963 6b65 645f 6163 746f 722e 4765 7450  icked_actor.GetP
-00022890: 726f 7065 7274 7928 292e 5365 7443 6f6c  roperty().SetCol
-000228a0: 6f72 2870 616c 5b28 7365 6c66 2e5f 6963  or(pal[(self._ic
-000228b0: 6f6c 2920 2520 3130 5d29 0a0a 2020 2020  ol) % 10])..    
-000228c0: 2020 2020 656c 6966 206b 6579 203d 3d20      elif key == 
-000228d0: 2233 223a 0a20 2020 2020 2020 2020 2020  "3":.           
-000228e0: 2062 7363 203d 205b 2262 3522 2c20 2263   bsc = ["b5", "c
-000228f0: 7961 6e35 222c 2022 6734 222c 2022 6f35  yan5", "g4", "o5
-00022900: 222c 2022 7035 222c 2022 7234 222c 2022  ", "p5", "r4", "
-00022910: 7465 616c 3422 2c20 2279 656c 6c6f 7734  teal4", "yellow4
-00022920: 225d 0a20 2020 2020 2020 2020 2020 2073  "].            s
-00022930: 656c 662e 5f69 636f 6c20 2b3d 2031 0a20  elf._icol += 1. 
-00022940: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-00022950: 696e 7374 616e 6365 2873 656c 662e 636c  instance(self.cl
-00022960: 6963 6b65 645f 6163 746f 722c 2076 6564  icked_actor, ved
-00022970: 6f2e 506f 696e 7473 293a 0a20 2020 2020  o.Points):.     
-00022980: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00022990: 636c 6963 6b65 645f 6163 746f 722e 4765  clicked_actor.Ge
-000229a0: 744d 6170 7065 7228 292e 5363 616c 6172  tMapper().Scalar
-000229b0: 5669 7369 6269 6c69 7479 4f66 6628 290a  VisibilityOff().
-000229c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000229d0: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
-000229e0: 6f72 2e47 6574 5072 6f70 6572 7479 2829  or.GetProperty()
-000229f0: 2e53 6574 436f 6c6f 7228 7665 646f 2e67  .SetColor(vedo.g
-00022a00: 6574 5f63 6f6c 6f72 2862 7363 5b28 7365  et_color(bsc[(se
-00022a10: 6c66 2e5f 6963 6f6c 2920 2520 6c65 6e28  lf._icol) % len(
-00022a20: 6273 6329 5d29 290a 0a20 2020 2020 2020  bsc)]))..       
-00022a30: 2065 6c69 6620 6b65 7920 3d3d 2022 3422   elif key == "4"
-00022a40: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00022a50: 2073 656c 662e 636c 6963 6b65 645f 6163   self.clicked_ac
-00022a60: 746f 723a 0a20 2020 2020 2020 2020 2020  tor:.           
-00022a70: 2020 2020 2061 6374 7320 3d20 5b73 656c       acts = [sel
-00022a80: 662e 636c 6963 6b65 645f 6163 746f 725d  f.clicked_actor]
-00022a90: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00022aa0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00022ab0: 2020 2061 6374 7320 3d20 7365 6c66 2e67     acts = self.g
-00022ac0: 6574 5f6d 6573 6865 7328 290a 2020 2020  et_meshes().    
-00022ad0: 2020 2020 2020 2020 666f 7220 6961 2069          for ia i
-00022ae0: 6e20 6163 7473 3a0a 2020 2020 2020 2020  n acts:.        
-00022af0: 2020 2020 2020 2020 6966 206e 6f74 2068          if not h
-00022b00: 6173 6174 7472 2869 612c 2022 5f63 6d61  asattr(ia, "_cma
-00022b10: 705f 6e61 6d65 2229 3a0a 2020 2020 2020  p_name"):.      
-00022b20: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00022b30: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-00022b40: 2020 2020 2020 2063 6d61 705f 6e61 6d65         cmap_name
-00022b50: 203d 2069 612e 5f63 6d61 705f 6e61 6d65   = ia._cmap_name
-00022b60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022b70: 2069 6620 6e6f 7420 636d 6170 5f6e 616d   if not cmap_nam
-00022b80: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00022b90: 2020 2020 2020 2063 6d61 705f 6e61 6d65         cmap_name
-00022ba0: 203d 2022 7261 696e 626f 7722 0a20 2020   = "rainbow".   
-00022bb0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00022bc0: 6973 696e 7374 616e 6365 2869 612c 2076  isinstance(ia, v
-00022bd0: 6564 6f2e 706f 696e 7463 6c6f 7564 2e50  edo.pointcloud.P
-00022be0: 6f69 6e74 7329 3a0a 2020 2020 2020 2020  oints):.        
-00022bf0: 2020 2020 2020 2020 2020 2020 6172 6e61              arna
-00022c00: 6d65 7320 3d20 6961 2e70 6f69 6e74 6461  mes = ia.pointda
-00022c10: 7461 2e6b 6579 7328 290a 2020 2020 2020  ta.keys().      
-00022c20: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00022c30: 206c 656e 2861 726e 616d 6573 293a 0a20   len(arnames):. 
-00022c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022c50: 2020 2020 2020 2061 726e 616d 203d 2020         arnam =  
-00022c60: 6172 6e61 6d65 735b 6961 2e5f 7363 616c  arnames[ia._scal
-00022c70: 735f 6964 785d 0a20 2020 2020 2020 2020  s_idx].         
-00022c80: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00022c90: 6620 6172 6e61 6d20 616e 6420 2822 6e6f  f arnam and ("no
-00022ca0: 726d 616c 7322 206e 6f74 2069 6e20 6172  rmals" not in ar
-00022cb0: 6e61 6d2e 6c6f 7765 7228 2929 3a20 2320  nam.lower()): # 
-00022cc0: 6578 636c 7564 6520 6e6f 726d 616c 730a  exclude normals.
-00022cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022ce0: 2020 2020 2020 2020 2020 2020 6961 2e63              ia.c
-00022cf0: 6d61 7028 636d 6170 5f6e 616d 652c 2061  map(cmap_name, a
-00022d00: 726e 616d 2c20 6f6e 3d22 706f 696e 7473  rnam, on="points
-00022d10: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00022d20: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-00022d30: 6564 6f2e 7072 696e 7463 2822 2e2e 6163  edo.printc("..ac
-00022d40: 7469 7665 2070 6f69 6e74 2064 6174 6120  tive point data 
-00022d50: 7365 7420 746f 3a22 2c20 6172 6e61 6d2c  set to:", arnam,
-00022d60: 2063 3d27 6727 2c20 626f 6c64 3d30 290a   c='g', bold=0).
-00022d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d80: 2020 2020 2020 2020 2020 2020 6961 2e5f              ia._
-00022d90: 7363 616c 735f 6964 7820 2b3d 2031 0a20  scals_idx += 1. 
-00022da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022db0: 2020 2020 2020 2020 2020 2069 6620 6961             if ia
-00022dc0: 2e5f 7363 616c 735f 6964 7820 3e3d 206c  ._scals_idx >= l
-00022dd0: 656e 2861 726e 616d 6573 293a 0a20 2020  en(arnames):.   
-00022de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022df0: 2020 2020 2020 2020 2020 2020 2069 612e               ia.
-00022e00: 5f73 6361 6c73 5f69 6478 203d 2030 0a20  _scals_idx = 0. 
-00022e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e20: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00022e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e40: 2061 726e 616d 6573 203d 2069 612e 6365   arnames = ia.ce
-00022e50: 6c6c 6461 7461 2e6b 6579 7328 290a 2020  lldata.keys().  
-00022e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e70: 2020 2020 2020 6966 206c 656e 2861 726e        if len(arn
-00022e80: 616d 6573 293a 0a20 2020 2020 2020 2020  ames):.         
-00022e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022ea0: 2020 2061 726e 616d 203d 2020 6172 6e61     arnam =  arna
-00022eb0: 6d65 735b 6961 2e5f 7363 616c 735f 6964  mes[ia._scals_id
-00022ec0: 785d 0a20 2020 2020 2020 2020 2020 2020  x].             
-00022ed0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00022ee0: 6620 6172 6e61 6d20 616e 6420 2822 6e6f  f arnam and ("no
-00022ef0: 726d 616c 7322 206e 6f74 2069 6e20 6172  rmals" not in ar
-00022f00: 6e61 6d2e 6c6f 7765 7228 2929 3a20 2320  nam.lower()): # 
-00022f10: 6578 636c 7564 6520 6e6f 726d 616c 730a  exclude normals.
+00022820: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+00022830: 612e 5f73 6361 6c73 5f69 6478 203e 3d20  a._scals_idx >= 
+00022840: 6c65 6e28 6172 6e61 6d65 7329 3a0a 2020  len(arnames):.  
+00022850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022860: 2020 2020 2020 2020 2020 2020 2020 6961                ia
+00022870: 2e5f 7363 616c 735f 6964 7820 3d20 300a  ._scals_idx = 0.
+00022880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022890: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000228a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000228b0: 2020 6172 6e61 6d65 7320 3d20 6961 2e63    arnames = ia.c
+000228c0: 656c 6c64 6174 612e 6b65 7973 2829 0a20  elldata.keys(). 
+000228d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000228e0: 2020 2020 2020 2069 6620 6c65 6e28 6172         if len(ar
+000228f0: 6e61 6d65 7329 203e 2030 3a0a 2020 2020  names) > 0:.    
+00022900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022910: 2020 2020 2020 2020 6172 6e61 6d20 3d20          arnam = 
+00022920: 6172 6e61 6d65 735b 6961 2e5f 7363 616c  arnames[ia._scal
+00022930: 735f 6964 785d 0a20 2020 2020 2020 2020  s_idx].         
+00022940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022950: 2020 2069 6620 6172 6e61 6d20 616e 6420     if arnam and 
+00022960: 2822 6e6f 726d 616c 7322 206e 6f74 2069  ("normals" not i
+00022970: 6e20 6172 6e61 6d2e 6c6f 7765 7228 2929  n arnam.lower())
+00022980: 3a20 2023 2065 7863 6c75 6465 206e 6f72  :  # exclude nor
+00022990: 6d61 6c73 0a20 2020 2020 2020 2020 2020  mals.           
+000229a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000229b0: 2020 2020 2069 612e 636d 6170 2863 6d61       ia.cmap(cma
+000229c0: 705f 6e61 6d65 2c20 6172 6e61 6d2c 206f  p_name, arnam, o
+000229d0: 6e3d 2263 656c 6c73 2229 0a20 2020 2020  n="cells").     
+000229e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000229f0: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+00022a00: 7072 696e 7463 2822 2e2e 6163 7469 7665  printc("..active
+00022a10: 2063 656c 6c20 6172 7261 7920 7365 7420   cell array set 
+00022a20: 746f 3a22 2c20 6172 6e61 6d2c 2063 3d22  to:", arnam, c="
+00022a30: 6722 2c20 626f 6c64 3d30 290a 2020 2020  g", bold=0).    
+00022a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022a50: 2020 2020 2020 2020 2020 2020 6961 2e5f              ia._
+00022a60: 7363 616c 735f 6964 7820 2b3d 2031 0a20  scals_idx += 1. 
+00022a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022a80: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00022a90: 6620 6961 2e5f 7363 616c 735f 6964 7820  f ia._scals_idx 
+00022aa0: 3e3d 206c 656e 2861 726e 616d 6573 293a  >= len(arnames):
+00022ab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022ad0: 2020 2020 2069 612e 5f73 6361 6c73 5f69       ia._scals_i
+00022ae0: 6478 203d 2030 0a0a 2020 2020 2020 2020  dx = 0..        
+00022af0: 656c 6966 206b 6579 203d 3d20 2235 223a  elif key == "5":
+00022b00: 0a20 2020 2020 2020 2020 2020 2062 6763  .            bgc
+00022b10: 203d 206e 702e 6172 7261 7928 7265 6e64   = np.array(rend
+00022b20: 6572 6572 2e47 6574 4261 636b 6772 6f75  erer.GetBackgrou
+00022b30: 6e64 2829 292e 7375 6d28 2920 2f20 330a  nd()).sum() / 3.
+00022b40: 2020 2020 2020 2020 2020 2020 6966 2062              if b
+00022b50: 6763 203c 3d20 303a 0a20 2020 2020 2020  gc <= 0:.       
+00022b60: 2020 2020 2020 2020 2062 6763 203d 2030           bgc = 0
+00022b70: 2e32 3233 0a20 2020 2020 2020 2020 2020  .223.           
+00022b80: 2065 6c69 6620 3020 3c20 6267 6320 3c20   elif 0 < bgc < 
+00022b90: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+00022ba0: 2020 2062 6763 203d 2031 0a20 2020 2020     bgc = 1.     
+00022bb0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00022bc0: 2020 2020 2020 2020 2020 2020 2062 6763               bgc
+00022bd0: 203d 2030 0a20 2020 2020 2020 2020 2020   = 0.           
+00022be0: 2072 656e 6465 7265 722e 5365 7442 6163   renderer.SetBac
+00022bf0: 6b67 726f 756e 6428 6267 632c 2062 6763  kground(bgc, bgc
+00022c00: 2c20 6267 6329 0a0a 2020 2020 2020 2020  , bgc)..        
+00022c10: 656c 6966 206b 6579 203d 3d20 2236 223a  elif key == "6":
+00022c20: 0a20 2020 2020 2020 2020 2020 2062 6732  .            bg2
+00022c30: 636f 6c73 203d 205b 0a20 2020 2020 2020  cols = [.       
+00022c40: 2020 2020 2020 2020 2022 6c69 6768 7479           "lighty
+00022c50: 656c 6c6f 7722 2c0a 2020 2020 2020 2020  ellow",.        
+00022c60: 2020 2020 2020 2020 2264 6172 6b73 6561          "darksea
+00022c70: 6772 6565 6e22 2c0a 2020 2020 2020 2020  green",.        
+00022c80: 2020 2020 2020 2020 2270 616c 6567 7265          "palegre
+00022c90: 656e 222c 0a20 2020 2020 2020 2020 2020  en",.           
+00022ca0: 2020 2020 2022 7374 6565 6c62 6c75 6522       "steelblue"
+00022cb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00022cc0: 2020 226c 6967 6874 626c 7565 222c 0a20    "lightblue",. 
+00022cd0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00022ce0: 6361 6465 7462 6c75 6522 2c0a 2020 2020  cadetblue",.    
+00022cf0: 2020 2020 2020 2020 2020 2020 226c 6176              "lav
+00022d00: 656e 6465 7222 2c0a 2020 2020 2020 2020  ender",.        
+00022d10: 2020 2020 2020 2020 2277 6869 7465 222c          "white",
+00022d20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022d30: 2022 626c 6163 6b62 6f61 7264 222c 0a20   "blackboard",. 
+00022d40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00022d50: 626c 6163 6b22 2c0a 2020 2020 2020 2020  black",.        
+00022d60: 2020 2020 5d0a 2020 2020 2020 2020 2020      ].          
+00022d70: 2020 6267 326e 616d 6520 3d20 7665 646f    bg2name = vedo
+00022d80: 2e67 6574 5f63 6f6c 6f72 5f6e 616d 6528  .get_color_name(
+00022d90: 7265 6e64 6572 6572 2e47 6574 4261 636b  renderer.GetBack
+00022da0: 6772 6f75 6e64 3228 2929 0a20 2020 2020  ground2()).     
+00022db0: 2020 2020 2020 2069 6620 6267 326e 616d         if bg2nam
+00022dc0: 6520 696e 2062 6732 636f 6c73 3a0a 2020  e in bg2cols:.  
+00022dd0: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00022de0: 7820 3d20 6267 3263 6f6c 732e 696e 6465  x = bg2cols.inde
+00022df0: 7828 6267 326e 616d 6529 0a20 2020 2020  x(bg2name).     
+00022e00: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00022e10: 2020 2020 2020 2020 2020 2020 2069 6478               idx
+00022e20: 203d 2034 0a20 2020 2020 2020 2020 2020   = 4.           
+00022e30: 2069 6620 6964 7820 6973 206e 6f74 204e   if idx is not N
+00022e40: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00022e50: 2020 2020 2062 6732 6e61 6d65 5f6e 6578       bg2name_nex
+00022e60: 7420 3d20 6267 3263 6f6c 735b 2869 6478  t = bg2cols[(idx
+00022e70: 202b 2031 2920 2520 286c 656e 2862 6732   + 1) % (len(bg2
+00022e80: 636f 6c73 2920 2d20 3129 5d0a 2020 2020  cols) - 1)].    
+00022e90: 2020 2020 2020 2020 6966 206e 6f74 2062          if not b
+00022ea0: 6732 6e61 6d65 5f6e 6578 743a 0a20 2020  g2name_next:.   
+00022eb0: 2020 2020 2020 2020 2020 2020 2072 656e               ren
+00022ec0: 6465 7265 722e 4772 6164 6965 6e74 4261  derer.GradientBa
+00022ed0: 636b 6772 6f75 6e64 4f66 6628 290a 2020  ckgroundOff().  
+00022ee0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00022ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f00: 7265 6e64 6572 6572 2e47 7261 6469 656e  renderer.Gradien
+00022f10: 7442 6163 6b67 726f 756e 644f 6e28 290a  tBackgroundOn().
 00022f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f40: 6961 2e63 6d61 7028 636d 6170 5f6e 616d  ia.cmap(cmap_nam
-00022f50: 652c 2061 726e 616d 2c20 6f6e 3d22 6365  e, arnam, on="ce
-00022f60: 6c6c 7322 290a 2020 2020 2020 2020 2020  lls").          
-00022f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f80: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
-00022f90: 6328 222e 2e61 6374 6976 6520 6365 6c6c  c("..active cell
-00022fa0: 2061 7272 6179 2073 6574 2074 6f3a 222c   array set to:",
-00022fb0: 2061 726e 616d 2c20 633d 2767 272c 2062   arnam, c='g', b
-00022fc0: 6f6c 643d 3029 0a20 2020 2020 2020 2020  old=0).         
-00022fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022fe0: 2020 2020 2020 2069 612e 5f73 6361 6c73         ia._scals
-00022ff0: 5f69 6478 202b 3d20 310a 2020 2020 2020  _idx += 1.      
-00023000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023010: 2020 2020 2020 2020 2020 6966 2069 612e            if ia.
-00023020: 5f73 6361 6c73 5f69 6478 203e 3d20 6c65  _scals_idx >= le
-00023030: 6e28 6172 6e61 6d65 7329 3a0a 2020 2020  n(arnames):.    
-00023040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023060: 6961 2e5f 7363 616c 735f 6964 7820 3d20  ia._scals_idx = 
-00023070: 300a 0a20 2020 2020 2020 2065 6c69 6620  0..        elif 
-00023080: 6b65 7920 3d3d 2022 3522 3a0a 2020 2020  key == "5":.    
-00023090: 2020 2020 2020 2020 6267 6320 3d20 6e70          bgc = np
-000230a0: 2e61 7272 6179 2872 656e 6465 7265 722e  .array(renderer.
-000230b0: 4765 7442 6163 6b67 726f 756e 6428 2929  GetBackground())
-000230c0: 2e73 756d 2829 202f 2033 0a20 2020 2020  .sum() / 3.     
-000230d0: 2020 2020 2020 2069 6620 6267 6320 3c3d         if bgc <=
-000230e0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-000230f0: 2020 2020 6267 6320 3d20 302e 3232 330a      bgc = 0.223.
-00023100: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00023110: 2030 203c 2062 6763 203c 2031 3a0a 2020   0 < bgc < 1:.  
-00023120: 2020 2020 2020 2020 2020 2020 2020 6267                bg
-00023130: 6320 3d20 310a 2020 2020 2020 2020 2020  c = 1.          
-00023140: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00023150: 2020 2020 2020 2020 6267 6320 3d20 300a          bgc = 0.
-00023160: 2020 2020 2020 2020 2020 2020 7265 6e64              rend
-00023170: 6572 6572 2e53 6574 4261 636b 6772 6f75  erer.SetBackgrou
-00023180: 6e64 2862 6763 2c20 6267 632c 2062 6763  nd(bgc, bgc, bgc
-00023190: 290a 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-000231a0: 6b65 7920 3d3d 2022 3622 3a0a 2020 2020  key == "6":.    
-000231b0: 2020 2020 2020 2020 6267 3263 6f6c 7320          bg2cols 
-000231c0: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
-000231d0: 2020 2020 226c 6967 6874 7965 6c6c 6f77      "lightyellow
-000231e0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000231f0: 2020 2022 6461 726b 7365 6167 7265 656e     "darkseagreen
-00023200: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00023210: 2020 2022 7061 6c65 6772 6565 6e22 2c0a     "palegreen",.
-00023220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023230: 2273 7465 656c 626c 7565 222c 0a20 2020  "steelblue",.   
-00023240: 2020 2020 2020 2020 2020 2020 2022 6c69               "li
-00023250: 6768 7462 6c75 6522 2c0a 2020 2020 2020  ghtblue",.      
-00023260: 2020 2020 2020 2020 2020 2263 6164 6574            "cadet
-00023270: 626c 7565 222c 0a20 2020 2020 2020 2020  blue",.         
-00023280: 2020 2020 2020 2022 6c61 7665 6e64 6572         "lavender
-00023290: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000232a0: 2020 2022 7768 6974 6522 2c0a 2020 2020     "white",.    
-000232b0: 2020 2020 2020 2020 2020 2020 2262 6c61              "bla
-000232c0: 636b 626f 6172 6422 2c0a 2020 2020 2020  ckboard",.      
-000232d0: 2020 2020 2020 2020 2020 2262 6c61 636b            "black
-000232e0: 222c 0a20 2020 2020 2020 2020 2020 205d  ",.            ]
-000232f0: 0a20 2020 2020 2020 2020 2020 2062 6732  .            bg2
-00023300: 6e61 6d65 203d 2076 6564 6f2e 6765 745f  name = vedo.get_
-00023310: 636f 6c6f 725f 6e61 6d65 2872 656e 6465  color_name(rende
-00023320: 7265 722e 4765 7442 6163 6b67 726f 756e  rer.GetBackgroun
-00023330: 6432 2829 290a 2020 2020 2020 2020 2020  d2()).          
-00023340: 2020 6966 2062 6732 6e61 6d65 2069 6e20    if bg2name in 
-00023350: 6267 3263 6f6c 733a 0a20 2020 2020 2020  bg2cols:.       
-00023360: 2020 2020 2020 2020 2069 6478 203d 2062           idx = b
-00023370: 6732 636f 6c73 2e69 6e64 6578 2862 6732  g2cols.index(bg2
-00023380: 6e61 6d65 290a 2020 2020 2020 2020 2020  name).          
-00023390: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000233a0: 2020 2020 2020 2020 6964 7820 3d20 340a          idx = 4.
-000233b0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-000233c0: 6478 2069 7320 6e6f 7420 4e6f 6e65 3a0a  dx is not None:.
-000233d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000233e0: 6267 326e 616d 655f 6e65 7874 203d 2062  bg2name_next = b
-000233f0: 6732 636f 6c73 5b28 6964 7820 2b20 3129  g2cols[(idx + 1)
-00023400: 2025 2028 6c65 6e28 6267 3263 6f6c 7329   % (len(bg2cols)
-00023410: 202d 2031 295d 0a20 2020 2020 2020 2020   - 1)].         
-00023420: 2020 2069 6620 6e6f 7420 6267 326e 616d     if not bg2nam
-00023430: 655f 6e65 7874 3a0a 2020 2020 2020 2020  e_next:.        
-00023440: 2020 2020 2020 2020 7265 6e64 6572 6572          renderer
-00023450: 2e47 7261 6469 656e 7442 6163 6b67 726f  .GradientBackgro
-00023460: 756e 644f 6666 2829 0a20 2020 2020 2020  undOff().       
-00023470: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00023480: 2020 2020 2020 2020 2020 2072 656e 6465             rende
-00023490: 7265 722e 4772 6164 6965 6e74 4261 636b  rer.GradientBack
-000234a0: 6772 6f75 6e64 4f6e 2829 0a20 2020 2020  groundOn().     
-000234b0: 2020 2020 2020 2020 2020 2072 656e 6465             rende
-000234c0: 7265 722e 5365 7442 6163 6b67 726f 756e  rer.SetBackgroun
-000234d0: 6432 2876 6564 6f2e 6765 745f 636f 6c6f  d2(vedo.get_colo
-000234e0: 7228 6267 326e 616d 655f 6e65 7874 2929  r(bg2name_next))
-000234f0: 0a0a 2020 2020 2020 2020 656c 6966 206b  ..        elif k
-00023500: 6579 2069 6e20 5b22 706c 7573 222c 2022  ey in ["plus", "
-00023510: 6571 7561 6c22 2c20 224b 505f 4164 6422  equal", "KP_Add"
-00023520: 2c20 226d 696e 7573 222c 2022 4b50 5f53  , "minus", "KP_S
-00023530: 7562 7472 6163 7422 5d3a 2020 2320 6379  ubtract"]:  # cy
-00023540: 636c 6520 6178 6573 2073 7479 6c65 0a20  cle axes style. 
-00023550: 2020 2020 2020 2020 2020 2063 6c69 636b             click
-00023560: 6564 7220 3d20 7365 6c66 2e72 656e 6465  edr = self.rende
-00023570: 7265 7273 2e69 6e64 6578 2872 656e 6465  rers.index(rende
-00023580: 7265 7229 0a20 2020 2020 2020 2020 2020  rer).           
-00023590: 2069 6620 7365 6c66 2e61 7865 735f 696e   if self.axes_in
-000235a0: 7374 616e 6365 735b 636c 6963 6b65 6472  stances[clickedr
-000235b0: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-000235c0: 2020 2069 6620 6861 7361 7474 7228 7365     if hasattr(se
-000235d0: 6c66 2e61 7865 735f 696e 7374 616e 6365  lf.axes_instance
-000235e0: 735b 636c 6963 6b65 6472 5d2c 2022 456e  s[clickedr], "En
-000235f0: 6162 6c65 644f 6666 2229 3a20 2023 2077  abledOff"):  # w
-00023600: 6964 6765 740a 2020 2020 2020 2020 2020  idget.          
-00023610: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-00023620: 7865 735f 696e 7374 616e 6365 735b 636c  xes_instances[cl
-00023630: 6963 6b65 6472 5d2e 456e 6162 6c65 644f  ickedr].EnabledO
-00023640: 6666 2829 0a20 2020 2020 2020 2020 2020  ff().           
-00023650: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00023660: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00023670: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00023680: 2020 2020 2020 2020 2020 2020 7265 6e64              rend
-00023690: 6572 6572 2e52 656d 6f76 6541 6374 6f72  erer.RemoveActor
-000236a0: 2873 656c 662e 6178 6573 5f69 6e73 7461  (self.axes_insta
-000236b0: 6e63 6573 5b63 6c69 636b 6564 725d 290a  nces[clickedr]).
-000236c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000236d0: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
-000236e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000236f0: 2020 2020 7061 7373 0a20 2020 2020 2020      pass.       
-00023700: 2020 2020 2020 2020 2073 656c 662e 6178           self.ax
-00023710: 6573 5f69 6e73 7461 6e63 6573 5b63 6c69  es_instances[cli
-00023720: 636b 6564 725d 203d 204e 6f6e 650a 2020  ckedr] = None.  
-00023730: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-00023740: 2073 656c 662e 6178 6573 3a0a 2020 2020   self.axes:.    
-00023750: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00023760: 2e61 7865 7320 3d20 300a 2020 2020 2020  .axes = 0.      
-00023770: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00023780: 6e63 6528 7365 6c66 2e61 7865 732c 2064  nce(self.axes, d
-00023790: 6963 7429 3a0a 2020 2020 2020 2020 2020  ict):.          
-000237a0: 2020 2020 2020 7365 6c66 2e61 7865 7320        self.axes 
-000237b0: 3d20 310a 2020 2020 2020 2020 2020 2020  = 1.            
-000237c0: 6966 206b 6579 2069 6e20 5b22 6d69 6e75  if key in ["minu
-000237d0: 7322 2c20 224b 505f 5375 6274 7261 6374  s", "KP_Subtract
-000237e0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-000237f0: 2020 2020 6966 206e 6f74 2073 6574 7469      if not setti
-00023800: 6e67 732e 7573 655f 7061 7261 6c6c 656c  ngs.use_parallel
-00023810: 5f70 726f 6a65 6374 696f 6e20 616e 6420  _projection and 
-00023820: 7365 6c66 2e61 7865 7320 3d3d 2030 3a0a  self.axes == 0:.
-00023830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023840: 2020 2020 7365 6c66 2e61 7865 7320 2d3d      self.axes -=
-00023850: 2031 2020 2320 6a75 6d70 2072 756c 6572   1  # jump ruler
-00023860: 2064 6f65 736e 7420 6d61 6b65 2073 656e   doesnt make sen
-00023870: 7365 2069 6e20 7065 7273 7065 6374 6976  se in perspectiv
-00023880: 6520 6d6f 6465 0a20 2020 2020 2020 2020  e mode.         
-00023890: 2020 2020 2020 2061 6464 6f6e 732e 6164         addons.ad
-000238a0: 645f 676c 6f62 616c 5f61 7865 7328 6178  d_global_axes(ax
-000238b0: 7479 7065 3d28 7365 6c66 2e61 7865 7320  type=(self.axes 
-000238c0: 2d20 3129 2025 2031 352c 2063 3d4e 6f6e  - 1) % 15, c=Non
-000238d0: 6529 0a20 2020 2020 2020 2020 2020 2065  e).            e
-000238e0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-000238f0: 2020 2020 2069 6620 6e6f 7420 7365 7474       if not sett
-00023900: 696e 6773 2e75 7365 5f70 6172 616c 6c65  ings.use_paralle
-00023910: 6c5f 7072 6f6a 6563 7469 6f6e 2061 6e64  l_projection and
-00023920: 2073 656c 662e 6178 6573 203d 3d20 3132   self.axes == 12
-00023930: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00023940: 2020 2020 2020 7365 6c66 2e61 7865 7320        self.axes 
-00023950: 2b3d 2031 2020 2320 6a75 6d70 2072 756c  += 1  # jump rul
-00023960: 6572 2064 6f65 736e 7420 6d61 6b65 2073  er doesnt make s
-00023970: 656e 7365 2069 6e20 7065 7273 7065 6374  ense in perspect
-00023980: 6976 6520 6d6f 6465 0a20 2020 2020 2020  ive mode.       
-00023990: 2020 2020 2020 2020 2061 6464 6f6e 732e           addons.
-000239a0: 6164 645f 676c 6f62 616c 5f61 7865 7328  add_global_axes(
-000239b0: 6178 7479 7065 3d28 7365 6c66 2e61 7865  axtype=(self.axe
-000239c0: 7320 2b20 3129 2025 2031 352c 2063 3d4e  s + 1) % 15, c=N
-000239d0: 6f6e 6529 0a20 2020 2020 2020 2020 2020  one).           
-000239e0: 2073 656c 662e 696e 7465 7261 6374 6f72   self.interactor
-000239f0: 2e52 656e 6465 7228 290a 0a20 2020 2020  .Render()..     
-00023a00: 2020 2065 6c69 6620 224b 505f 2220 696e     elif "KP_" in
-00023a10: 206b 6579 206f 7220 6b65 7920 696e 205b   key or key in [
-00023a20: 2249 6e73 6572 7422 2c22 456e 6422 2c22  "Insert","End","
-00023a30: 446f 776e 222c 224e 6578 7422 2c22 4c65  Down","Next","Le
-00023a40: 6674 222c 2242 6567 696e 222c 2252 6967  ft","Begin","Rig
-00023a50: 6874 222c 2248 6f6d 6522 2c22 5570 222c  ht","Home","Up",
-00023a60: 2250 7269 6f72 225d 3a0a 2020 2020 2020  "Prior"]:.      
-00023a70: 2020 2020 2020 2320 6368 616e 6765 2061        # change a
-00023a80: 7865 7320 7374 796c 650a 2020 2020 2020  xes style.      
-00023a90: 2020 2020 2020 6173 736f 203d 207b 0a20        asso = {. 
-00023aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ab0: 2020 2022 4b50 5f49 6e73 6572 7422 3a30     "KP_Insert":0
-00023ac0: 2c20 224b 505f 3022 3a30 2c0a 2020 2020  , "KP_0":0,.    
-00023ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ae0: 224b 505f 456e 6422 3a31 2c20 2020 2022  "KP_End":1,    "
-00023af0: 4b50 5f31 223a 312c 0a20 2020 2020 2020  KP_1":1,.       
-00023b00: 2020 2020 2020 2020 2020 2020 2022 4b50               "KP
-00023b10: 5f44 6f77 6e22 3a32 2c20 2020 224b 505f  _Down":2,   "KP_
-00023b20: 3222 3a32 2c0a 2020 2020 2020 2020 2020  2":2,.          
-00023b30: 2020 2020 2020 2020 2020 224b 505f 4e65            "KP_Ne
-00023b40: 7874 223a 332c 2020 2022 4b50 5f33 223a  xt":3,   "KP_3":
-00023b50: 332c 0a20 2020 2020 2020 2020 2020 2020  3,.             
-00023b60: 2020 2020 2020 2022 4b50 5f4c 6566 7422         "KP_Left"
-00023b70: 3a34 2c20 2020 224b 505f 3422 3a34 2c0a  :4,   "KP_4":4,.
-00023b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b90: 2020 2020 224b 505f 4265 6769 6e22 3a35      "KP_Begin":5
-00023ba0: 2c20 2022 4b50 5f35 223a 352c 0a20 2020  ,  "KP_5":5,.   
-00023bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023bc0: 2022 4b50 5f52 6967 6874 223a 362c 2020   "KP_Right":6,  
-00023bd0: 224b 505f 3622 3a36 2c0a 2020 2020 2020  "KP_6":6,.      
-00023be0: 2020 2020 2020 2020 2020 2020 2020 224b                "K
-00023bf0: 505f 486f 6d65 223a 372c 2020 2022 4b50  P_Home":7,   "KP
-00023c00: 5f37 223a 372c 0a20 2020 2020 2020 2020  _7":7,.         
-00023c10: 2020 2020 2020 2020 2020 2022 4b50 5f55             "KP_U
-00023c20: 7022 3a38 2c20 2020 2020 224b 505f 3822  p":8,     "KP_8"
-00023c30: 3a38 2c0a 2020 2020 2020 2020 2020 2020  :8,.            
-00023c40: 2020 2020 2020 2020 2250 7269 6f72 223a          "Prior":
-00023c50: 392c 2020 2320 6f6e 2077 696e 646f 7773  9,  # on windows
-00023c60: 204f 530a 2020 2020 2020 2020 2020 2020   OS.            
-00023c70: 2020 2020 2020 2020 2249 6e73 6572 7422          "Insert"
-00023c80: 3a30 2c0a 2020 2020 2020 2020 2020 2020  :0,.            
-00023c90: 2020 2020 2020 2020 2245 6e64 223a 312c          "End":1,
-00023ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023cb0: 2020 2020 2022 446f 776e 223a 322c 0a20       "Down":2,. 
-00023cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023cd0: 2020 2022 4e65 7874 223a 332c 0a20 2020     "Next":3,.   
-00023ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023cf0: 2022 4c65 6674 223a 342c 0a20 2020 2020   "Left":4,.     
-00023d00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00023d10: 4265 6769 6e22 3a35 2c0a 2020 2020 2020  Begin":5,.      
-00023d20: 2020 2020 2020 2020 2020 2020 2020 2252                "R
-00023d30: 6967 6874 223a 362c 0a20 2020 2020 2020  ight":6,.       
-00023d40: 2020 2020 2020 2020 2020 2020 2022 486f               "Ho
-00023d50: 6d65 223a 372c 0a20 2020 2020 2020 2020  me":7,.         
-00023d60: 2020 2020 2020 2020 2020 2022 5570 223a             "Up":
-00023d70: 382c 0a20 2020 2020 2020 2020 2020 2020  8,.             
-00023d80: 2020 2020 2020 2022 5072 696f 7222 3a39         "Prior":9
-00023d90: 2c0a 2020 2020 2020 2020 2020 2020 7d0a  ,.            }.
-00023da0: 2020 2020 2020 2020 2020 2020 636c 6963              clic
-00023db0: 6b65 6472 203d 2073 656c 662e 7265 6e64  kedr = self.rend
-00023dc0: 6572 6572 732e 696e 6465 7828 7265 6e64  erers.index(rend
-00023dd0: 6572 6572 290a 2020 2020 2020 2020 2020  erer).          
-00023de0: 2020 6966 206b 6579 2069 6e20 6173 736f    if key in asso
-00023df0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00023e00: 2020 6966 2073 656c 662e 6178 6573 5f69    if self.axes_i
-00023e10: 6e73 7461 6e63 6573 5b63 6c69 636b 6564  nstances[clicked
-00023e20: 725d 3a0a 2020 2020 2020 2020 2020 2020  r]:.            
-00023e30: 2020 2020 2020 2020 6966 2068 6173 6174          if hasat
-00023e40: 7472 2873 656c 662e 6178 6573 5f69 6e73  tr(self.axes_ins
-00023e50: 7461 6e63 6573 5b63 6c69 636b 6564 725d  tances[clickedr]
-00023e60: 2c20 2245 6e61 626c 6564 4f66 6622 293a  , "EnabledOff"):
-00023e70: 2020 2320 7769 6467 6574 0a20 2020 2020    # widget.     
-00023e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023e90: 2020 2073 656c 662e 6178 6573 5f69 6e73     self.axes_ins
-00023ea0: 7461 6e63 6573 5b63 6c69 636b 6564 725d  tances[clickedr]
-00023eb0: 2e45 6e61 626c 6564 4f66 6628 290a 2020  .EnabledOff().  
-00023ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ed0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00023ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ef0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00023f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f10: 2072 656e 6465 7265 722e 5265 6d6f 7665   renderer.Remove
-00023f20: 4163 746f 7228 7365 6c66 2e61 7865 735f  Actor(self.axes_
-00023f30: 696e 7374 616e 6365 735b 636c 6963 6b65  instances[clicke
-00023f40: 6472 5d29 0a20 2020 2020 2020 2020 2020  dr]).           
-00023f50: 2020 2020 2020 2020 2020 2020 2065 7863               exc
-00023f60: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
-00023f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f80: 2070 6173 730a 2020 2020 2020 2020 2020   pass.          
-00023f90: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-00023fa0: 7865 735f 696e 7374 616e 6365 735b 636c  xes_instances[cl
-00023fb0: 6963 6b65 6472 5d20 3d20 4e6f 6e65 0a20  ickedr] = None. 
-00023fc0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00023fd0: 6464 6f6e 732e 6164 645f 676c 6f62 616c  ddons.add_global
-00023fe0: 5f61 7865 7328 6178 7479 7065 3d61 7373  _axes(axtype=ass
-00023ff0: 6f5b 6b65 795d 2c20 633d 4e6f 6e65 290a  o[key], c=None).
-00024000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024010: 7365 6c66 2e69 6e74 6572 6163 746f 722e  self.interactor.
-00024020: 5265 6e64 6572 2829 0a0a 2020 2020 2020  Render()..      
-00024030: 2020 6966 206b 6579 203d 3d20 224f 223a    if key == "O":
-00024040: 0a20 2020 2020 2020 2020 2020 2072 656e  .            ren
-00024050: 6465 7265 722e 5265 6d6f 7665 4c69 6768  derer.RemoveLigh
-00024060: 7428 7365 6c66 2e5f 6578 7472 616c 6967  t(self._extralig
-00024070: 6874 290a 2020 2020 2020 2020 2020 2020  ht).            
-00024080: 7365 6c66 2e5f 6578 7472 616c 6967 6874  self._extralight
-00024090: 203d 204e 6f6e 650a 0a20 2020 2020 2020   = None..       
-000240a0: 2065 6c69 6620 6b65 7920 3d3d 2022 6f22   elif key == "o"
-000240b0: 3a0a 2020 2020 2020 2020 2020 2020 7662  :.            vb
-000240c0: 622c 2073 697a 6573 2c20 5f2c 205f 203d  b, sizes, _, _ =
-000240d0: 2061 6464 6f6e 732e 636f 6d70 7574 655f   addons.compute_
-000240e0: 7669 7369 626c 655f 626f 756e 6473 2829  visible_bounds()
-000240f0: 0a20 2020 2020 2020 2020 2020 2063 6d20  .            cm 
-00024100: 3d20 7574 696c 732e 7665 6374 6f72 280a  = utils.vector(.
-00024110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024120: 2876 6262 5b30 5d20 2b20 7662 625b 315d  (vbb[0] + vbb[1]
-00024130: 2920 2f20 322c 2028 7662 625b 325d 202b  ) / 2, (vbb[2] +
-00024140: 2076 6262 5b33 5d29 202f 2032 2c20 2876   vbb[3]) / 2, (v
-00024150: 6262 5b34 5d20 2b20 7662 625b 355d 2920  bb[4] + vbb[5]) 
-00024160: 2f20 320a 2020 2020 2020 2020 2020 2020  / 2.            
-00024170: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00024180: 206e 6f74 2073 656c 662e 5f65 7874 7261   not self._extra
-00024190: 6c69 6768 743a 0a20 2020 2020 2020 2020  light:.         
-000241a0: 2020 2020 2020 2076 7570 203d 2072 656e         vup = ren
-000241b0: 6465 7265 722e 4765 7441 6374 6976 6543  derer.GetActiveC
-000241c0: 616d 6572 6128 292e 4765 7456 6965 7755  amera().GetViewU
-000241d0: 7028 290a 2020 2020 2020 2020 2020 2020  p().            
-000241e0: 2020 2020 706f 7320 3d20 636d 202b 2075      pos = cm + u
-000241f0: 7469 6c73 2e76 6563 746f 7228 7675 7029  tils.vector(vup)
-00024200: 202a 2075 7469 6c73 2e6d 6167 2873 697a   * utils.mag(siz
-00024210: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
-00024220: 2020 2020 7365 6c66 2e5f 6578 7472 616c      self._extral
-00024230: 6967 6874 203d 2061 6464 6f6e 732e 4c69  ight = addons.Li
-00024240: 6768 7428 706f 732c 2066 6f63 616c 5f70  ght(pos, focal_p
-00024250: 6f69 6e74 3d63 6d29 0a20 2020 2020 2020  oint=cm).       
-00024260: 2020 2020 2020 2020 2072 656e 6465 7265           rendere
-00024270: 722e 4164 644c 6967 6874 2873 656c 662e  r.AddLight(self.
-00024280: 5f65 7874 7261 6c69 6768 7429 0a20 2020  _extralight).   
-00024290: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-000242a0: 6e74 2822 5072 6573 7320 6167 6169 6e20  nt("Press again 
-000242b0: 6f20 746f 2072 6f74 6174 6520 6c69 6768  o to rotate ligh
-000242c0: 7420 736f 7572 6365 2c20 6f72 204f 2074  t source, or O t
-000242d0: 6f20 7265 6d6f 7665 2069 742e 2229 0a20  o remove it."). 
-000242e0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-000242f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024300: 2063 706f 7320 3d20 7574 696c 732e 7665   cpos = utils.ve
-00024310: 6374 6f72 2873 656c 662e 5f65 7874 7261  ctor(self._extra
-00024320: 6c69 6768 742e 4765 7450 6f73 6974 696f  light.GetPositio
-00024330: 6e28 2929 0a20 2020 2020 2020 2020 2020  n()).           
-00024340: 2020 2020 2078 2c20 792c 207a 203d 2073       x, y, z = s
-00024350: 656c 662e 5f65 7874 7261 6c69 6768 742e  elf._extralight.
-00024360: 4765 7450 6f73 6974 696f 6e28 2920 2d20  GetPosition() - 
-00024370: 636d 0a20 2020 2020 2020 2020 2020 2020  cm.             
-00024380: 2020 2072 2c20 7468 2c20 7068 203d 2075     r, th, ph = u
-00024390: 7469 6c73 2e63 6172 7432 7370 6865 7228  tils.cart2spher(
-000243a0: 782c 2079 2c20 7a29 0a20 2020 2020 2020  x, y, z).       
-000243b0: 2020 2020 2020 2020 2074 6820 2b3d 2030           th += 0
-000243c0: 2e32 0a20 2020 2020 2020 2020 2020 2020  .2.             
-000243d0: 2020 2069 6620 7468 203e 206e 702e 7069     if th > np.pi
-000243e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000243f0: 2020 2020 2020 7468 203d 206e 702e 7261        th = np.ra
-00024400: 6e64 6f6d 2e72 616e 646f 6d28 2920 2a20  ndom.random() * 
-00024410: 6e70 2e70 6920 2f20 320a 2020 2020 2020  np.pi / 2.      
-00024420: 2020 2020 2020 2020 2020 7068 202b 3d20            ph += 
-00024430: 302e 330a 2020 2020 2020 2020 2020 2020  0.3.            
-00024440: 2020 2020 6370 6f73 203d 2075 7469 6c73      cpos = utils
-00024450: 2e73 7068 6572 3263 6172 7428 722c 2074  .spher2cart(r, t
-00024460: 682c 2070 6829 202b 2063 6d0a 2020 2020  h, ph) + cm.    
-00024470: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00024480: 2e5f 6578 7472 616c 6967 6874 2e53 6574  ._extralight.Set
-00024490: 506f 7369 7469 6f6e 2863 706f 7329 0a0a  Position(cpos)..
-000244a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000244b0: 2e77 696e 646f 772e 5265 6e64 6572 2829  .window.Render()
-000244c0: 0a0a 2020 2020 2020 2020 656c 6966 206b  ..        elif k
-000244d0: 6579 203d 3d20 226c 223a 0a20 2020 2020  ey == "l":.     
-000244e0: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
-000244f0: 6c69 636b 6564 5f61 6374 6f72 2069 6e20  licked_actor in 
-00024500: 7365 6c66 2e67 6574 5f6d 6573 6865 7328  self.get_meshes(
-00024510: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00024520: 2020 2061 6374 7320 3d20 5b73 656c 662e     acts = [self.
-00024530: 636c 6963 6b65 645f 6163 746f 725d 0a20  clicked_actor]. 
-00024540: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00024550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024560: 2061 6374 7320 3d20 7365 6c66 2e67 6574   acts = self.get
-00024570: 5f6d 6573 6865 7328 290a 2020 2020 2020  _meshes().      
-00024580: 2020 2020 2020 666f 7220 6961 2069 6e20        for ia in 
-00024590: 6163 7473 3a0a 2020 2020 2020 2020 2020  acts:.          
-000245a0: 2020 2020 2020 6966 206e 6f74 2069 612e        if not ia.
-000245b0: 4765 7450 6963 6b61 626c 6528 293a 0a20  GetPickable():. 
-000245c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000245d0: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-000245e0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-000245f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024600: 2020 2020 2065 7620 3d20 6961 2e47 6574       ev = ia.Get
-00024610: 5072 6f70 6572 7479 2829 2e47 6574 4564  Property().GetEd
-00024620: 6765 5669 7369 6269 6c69 7479 2829 0a20  geVisibility(). 
-00024630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024640: 2020 2069 612e 4765 7450 726f 7065 7274     ia.GetPropert
-00024650: 7928 292e 5365 7445 6467 6556 6973 6962  y().SetEdgeVisib
-00024660: 696c 6974 7928 6e6f 7420 6576 290a 2020  ility(not ev).  
-00024670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024680: 2020 6961 2e47 6574 5072 6f70 6572 7479    ia.GetProperty
-00024690: 2829 2e53 6574 5265 7072 6573 656e 7461  ().SetRepresenta
-000246a0: 7469 6f6e 546f 5375 7266 6163 6528 290a  tionToSurface().
-000246b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000246c0: 2020 2020 6961 2e47 6574 5072 6f70 6572      ia.GetProper
-000246d0: 7479 2829 2e53 6574 4c69 6e65 5769 6474  ty().SetLineWidt
-000246e0: 6828 302e 3129 0a20 2020 2020 2020 2020  h(0.1).         
-000246f0: 2020 2020 2020 2065 7863 6570 7420 4174         except At
-00024700: 7472 6962 7574 6545 7272 6f72 3a0a 2020  tributeError:.  
-00024710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024720: 2020 7061 7373 0a0a 2020 2020 2020 2020    pass..        
-00024730: 656c 6966 206b 6579 203d 3d20 226b 223a  elif key == "k":
-00024740: 2020 2320 6c69 6768 7469 6e67 730a 2020    # lightings.  
-00024750: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-00024760: 662e 636c 6963 6b65 645f 6163 746f 7220  f.clicked_actor 
-00024770: 696e 2073 656c 662e 6765 745f 6d65 7368  in self.get_mesh
-00024780: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
-00024790: 2020 2020 2020 6163 7473 203d 205b 7365        acts = [se
-000247a0: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
-000247b0: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
-000247c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-000247d0: 2020 2020 6163 7473 203d 2073 656c 662e      acts = self.
-000247e0: 6765 745f 6d65 7368 6573 2829 0a20 2020  get_meshes().   
-000247f0: 2020 2020 2020 2020 2073 6864 7320 3d20           shds = 
-00024800: 2827 6465 6661 756c 7427 2c0a 2020 2020  ('default',.    
-00024810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024820: 276d 6574 616c 6c69 6327 2c0a 2020 2020  'metallic',.    
-00024830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024840: 2770 6c61 7374 6963 272c 0a20 2020 2020  'plastic',.     
-00024850: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00024860: 7368 696e 7927 2c0a 2020 2020 2020 2020  shiny',.        
-00024870: 2020 2020 2020 2020 2020 2020 2767 6c6f              'glo
-00024880: 7373 7927 2c0a 2020 2020 2020 2020 2020  ssy',.          
-00024890: 2020 2020 2020 2020 2020 276f 6666 2729            'off')
-000248a0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-000248b0: 2069 6120 696e 2061 6374 733a 0a20 2020   ia in acts:.   
-000248c0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000248d0: 6961 2e47 6574 5069 636b 6162 6c65 2829  ia.GetPickable()
-000248e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000248f0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00024900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024910: 2020 206c 6e72 203d 2028 6961 2e5f 6c69     lnr = (ia._li
-00024920: 6774 6869 6e67 6e72 202b 2031 2920 2520  gthingnr + 1) % 
-00024930: 360a 2020 2020 2020 2020 2020 2020 2020  6.              
-00024940: 2020 2020 2020 2020 2020 6961 2e6c 6967            ia.lig
-00024950: 6874 696e 6728 7368 6473 5b6c 6e72 5d29  hting(shds[lnr])
-00024960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024970: 2020 2020 2020 2020 2069 612e 5f6c 6967           ia._lig
-00024980: 7468 696e 676e 7220 3d20 6c6e 720a 2020  thingnr = lnr.  
+00022f30: 7265 6e64 6572 6572 2e53 6574 4261 636b  renderer.SetBack
+00022f40: 6772 6f75 6e64 3228 7665 646f 2e67 6574  ground2(vedo.get
+00022f50: 5f63 6f6c 6f72 2862 6732 6e61 6d65 5f6e  _color(bg2name_n
+00022f60: 6578 7429 290a 0a20 2020 2020 2020 2065  ext))..        e
+00022f70: 6c69 6620 6b65 7920 696e 205b 2270 6c75  lif key in ["plu
+00022f80: 7322 2c20 2265 7175 616c 222c 2022 4b50  s", "equal", "KP
+00022f90: 5f41 6464 222c 2022 6d69 6e75 7322 2c20  _Add", "minus", 
+00022fa0: 224b 505f 5375 6274 7261 6374 225d 3a20  "KP_Subtract"]: 
+00022fb0: 2023 2063 7963 6c65 2061 7865 7320 7374   # cycle axes st
+00022fc0: 796c 650a 2020 2020 2020 2020 2020 2020  yle.            
+00022fd0: 636c 6963 6b65 6472 203d 2073 656c 662e  clickedr = self.
+00022fe0: 7265 6e64 6572 6572 732e 696e 6465 7828  renderers.index(
+00022ff0: 7265 6e64 6572 6572 290a 2020 2020 2020  renderer).      
+00023000: 2020 2020 2020 6966 2073 656c 662e 6178        if self.ax
+00023010: 6573 5f69 6e73 7461 6e63 6573 5b63 6c69  es_instances[cli
+00023020: 636b 6564 725d 3a0a 2020 2020 2020 2020  ckedr]:.        
+00023030: 2020 2020 2020 2020 6966 2068 6173 6174          if hasat
+00023040: 7472 2873 656c 662e 6178 6573 5f69 6e73  tr(self.axes_ins
+00023050: 7461 6e63 6573 5b63 6c69 636b 6564 725d  tances[clickedr]
+00023060: 2c20 2245 6e61 626c 6564 4f66 6622 293a  , "EnabledOff"):
+00023070: 2020 2320 7769 6467 6574 0a20 2020 2020    # widget.     
+00023080: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00023090: 656c 662e 6178 6573 5f69 6e73 7461 6e63  elf.axes_instanc
+000230a0: 6573 5b63 6c69 636b 6564 725d 2e45 6e61  es[clickedr].Ena
+000230b0: 626c 6564 4f66 6628 290a 2020 2020 2020  bledOff().      
+000230c0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000230d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000230e0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+000230f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023100: 2072 656e 6465 7265 722e 5265 6d6f 7665   renderer.Remove
+00023110: 4163 746f 7228 7365 6c66 2e61 7865 735f  Actor(self.axes_
+00023120: 696e 7374 616e 6365 735b 636c 6963 6b65  instances[clicke
+00023130: 6472 5d29 0a20 2020 2020 2020 2020 2020  dr]).           
+00023140: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+00023150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023160: 2020 2020 2020 2020 2070 6173 730a 2020           pass.  
+00023170: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00023180: 6c66 2e61 7865 735f 696e 7374 616e 6365  lf.axes_instance
+00023190: 735b 636c 6963 6b65 6472 5d20 3d20 4e6f  s[clickedr] = No
+000231a0: 6e65 0a20 2020 2020 2020 2020 2020 2069  ne.            i
+000231b0: 6620 6e6f 7420 7365 6c66 2e61 7865 733a  f not self.axes:
+000231c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000231d0: 2073 656c 662e 6178 6573 203d 2030 0a20   self.axes = 0. 
+000231e0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+000231f0: 696e 7374 616e 6365 2873 656c 662e 6178  instance(self.ax
+00023200: 6573 2c20 6469 6374 293a 0a20 2020 2020  es, dict):.     
+00023210: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00023220: 6178 6573 203d 2031 0a20 2020 2020 2020  axes = 1.       
+00023230: 2020 2020 2069 6620 6b65 7920 696e 205b       if key in [
+00023240: 226d 696e 7573 222c 2022 4b50 5f53 7562  "minus", "KP_Sub
+00023250: 7472 6163 7422 5d3a 0a20 2020 2020 2020  tract"]:.       
+00023260: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00023270: 7365 7474 696e 6773 2e75 7365 5f70 6172  settings.use_par
+00023280: 616c 6c65 6c5f 7072 6f6a 6563 7469 6f6e  allel_projection
+00023290: 2061 6e64 2073 656c 662e 6178 6573 203d   and self.axes =
+000232a0: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
+000232b0: 2020 2020 2020 2020 2073 656c 662e 6178           self.ax
+000232c0: 6573 202d 3d20 3120 2023 206a 756d 7020  es -= 1  # jump 
+000232d0: 7275 6c65 7220 646f 6573 6e74 206d 616b  ruler doesnt mak
+000232e0: 6520 7365 6e73 6520 696e 2070 6572 7370  e sense in persp
+000232f0: 6563 7469 7665 206d 6f64 650a 2020 2020  ective mode.    
+00023300: 2020 2020 2020 2020 2020 2020 6164 646f              addo
+00023310: 6e73 2e61 6464 5f67 6c6f 6261 6c5f 6178  ns.add_global_ax
+00023320: 6573 2861 7874 7970 653d 2873 656c 662e  es(axtype=(self.
+00023330: 6178 6573 202d 2031 2920 2520 3135 2c20  axes - 1) % 15, 
+00023340: 633d 4e6f 6e65 290a 2020 2020 2020 2020  c=None).        
+00023350: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00023360: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00023370: 2073 6574 7469 6e67 732e 7573 655f 7061   settings.use_pa
+00023380: 7261 6c6c 656c 5f70 726f 6a65 6374 696f  rallel_projectio
+00023390: 6e20 616e 6420 7365 6c66 2e61 7865 7320  n and self.axes 
+000233a0: 3d3d 2031 323a 0a20 2020 2020 2020 2020  == 12:.         
+000233b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000233c0: 6178 6573 202b 3d20 3120 2023 206a 756d  axes += 1  # jum
+000233d0: 7020 7275 6c65 7220 646f 6573 6e74 206d  p ruler doesnt m
+000233e0: 616b 6520 7365 6e73 6520 696e 2070 6572  ake sense in per
+000233f0: 7370 6563 7469 7665 206d 6f64 650a 2020  spective mode.  
+00023400: 2020 2020 2020 2020 2020 2020 2020 6164                ad
+00023410: 646f 6e73 2e61 6464 5f67 6c6f 6261 6c5f  dons.add_global_
+00023420: 6178 6573 2861 7874 7970 653d 2873 656c  axes(axtype=(sel
+00023430: 662e 6178 6573 202b 2031 2920 2520 3135  f.axes + 1) % 15
+00023440: 2c20 633d 4e6f 6e65 290a 2020 2020 2020  , c=None).      
+00023450: 2020 2020 2020 7365 6c66 2e69 6e74 6572        self.inter
+00023460: 6163 746f 722e 5265 6e64 6572 2829 0a0a  actor.Render()..
+00023470: 2020 2020 2020 2020 656c 6966 2022 4b50          elif "KP
+00023480: 5f22 2069 6e20 6b65 7920 6f72 206b 6579  _" in key or key
+00023490: 2069 6e20 5b0a 2020 2020 2020 2020 2020   in [.          
+000234a0: 2020 2249 6e73 6572 7422 2c0a 2020 2020    "Insert",.    
+000234b0: 2020 2020 2020 2020 2245 6e64 222c 0a20          "End",. 
+000234c0: 2020 2020 2020 2020 2020 2022 446f 776e             "Down
+000234d0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+000234e0: 4e65 7874 222c 0a20 2020 2020 2020 2020  Next",.         
+000234f0: 2020 2022 4c65 6674 222c 0a20 2020 2020     "Left",.     
+00023500: 2020 2020 2020 2022 4265 6769 6e22 2c0a         "Begin",.
+00023510: 2020 2020 2020 2020 2020 2020 2252 6967              "Rig
+00023520: 6874 222c 0a20 2020 2020 2020 2020 2020  ht",.           
+00023530: 2022 486f 6d65 222c 0a20 2020 2020 2020   "Home",.       
+00023540: 2020 2020 2022 5570 222c 0a20 2020 2020       "Up",.     
+00023550: 2020 2020 2020 2022 5072 696f 7222 2c0a         "Prior",.
+00023560: 2020 2020 2020 2020 5d3a 0a20 2020 2020          ]:.     
+00023570: 2020 2020 2020 2023 2063 6861 6e67 6520         # change 
+00023580: 6178 6573 2073 7479 6c65 0a20 2020 2020  axes style.     
+00023590: 2020 2020 2020 2061 7373 6f20 3d20 7b0a         asso = {.
+000235a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000235b0: 224b 505f 496e 7365 7274 223a 2030 2c0a  "KP_Insert": 0,.
+000235c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000235d0: 224b 505f 3022 3a20 302c 0a20 2020 2020  "KP_0": 0,.     
+000235e0: 2020 2020 2020 2020 2020 2022 4b50 5f45             "KP_E
+000235f0: 6e64 223a 2031 2c0a 2020 2020 2020 2020  nd": 1,.        
+00023600: 2020 2020 2020 2020 224b 505f 3122 3a20          "KP_1": 
+00023610: 312c 0a20 2020 2020 2020 2020 2020 2020  1,.             
+00023620: 2020 2022 4b50 5f44 6f77 6e22 3a20 322c     "KP_Down": 2,
+00023630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023640: 2022 4b50 5f32 223a 2032 2c0a 2020 2020   "KP_2": 2,.    
+00023650: 2020 2020 2020 2020 2020 2020 224b 505f              "KP_
+00023660: 4e65 7874 223a 2033 2c0a 2020 2020 2020  Next": 3,.      
+00023670: 2020 2020 2020 2020 2020 224b 505f 3322            "KP_3"
+00023680: 3a20 332c 0a20 2020 2020 2020 2020 2020  : 3,.           
+00023690: 2020 2020 2022 4b50 5f4c 6566 7422 3a20       "KP_Left": 
+000236a0: 342c 0a20 2020 2020 2020 2020 2020 2020  4,.             
+000236b0: 2020 2022 4b50 5f34 223a 2034 2c0a 2020     "KP_4": 4,.  
+000236c0: 2020 2020 2020 2020 2020 2020 2020 224b                "K
+000236d0: 505f 4265 6769 6e22 3a20 352c 0a20 2020  P_Begin": 5,.   
+000236e0: 2020 2020 2020 2020 2020 2020 2022 4b50               "KP
+000236f0: 5f35 223a 2035 2c0a 2020 2020 2020 2020  _5": 5,.        
+00023700: 2020 2020 2020 2020 224b 505f 5269 6768          "KP_Righ
+00023710: 7422 3a20 362c 0a20 2020 2020 2020 2020  t": 6,.         
+00023720: 2020 2020 2020 2022 4b50 5f36 223a 2036         "KP_6": 6
+00023730: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00023740: 2020 224b 505f 486f 6d65 223a 2037 2c0a    "KP_Home": 7,.
+00023750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023760: 224b 505f 3722 3a20 372c 0a20 2020 2020  "KP_7": 7,.     
+00023770: 2020 2020 2020 2020 2020 2022 4b50 5f55             "KP_U
+00023780: 7022 3a20 382c 0a20 2020 2020 2020 2020  p": 8,.         
+00023790: 2020 2020 2020 2022 4b50 5f38 223a 2038         "KP_8": 8
+000237a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000237b0: 2020 2250 7269 6f72 223a 2039 2c20 2023    "Prior": 9,  #
+000237c0: 206f 6e20 7769 6e64 6f77 7320 4f53 0a20   on windows OS. 
+000237d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000237e0: 496e 7365 7274 223a 2030 2c0a 2020 2020  Insert": 0,.    
+000237f0: 2020 2020 2020 2020 2020 2020 2245 6e64              "End
+00023800: 223a 2031 2c0a 2020 2020 2020 2020 2020  ": 1,.          
+00023810: 2020 2020 2020 2244 6f77 6e22 3a20 322c        "Down": 2,
+00023820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023830: 2022 4e65 7874 223a 2033 2c0a 2020 2020   "Next": 3,.    
+00023840: 2020 2020 2020 2020 2020 2020 224c 6566              "Lef
+00023850: 7422 3a20 342c 0a20 2020 2020 2020 2020  t": 4,.         
+00023860: 2020 2020 2020 2022 4265 6769 6e22 3a20         "Begin": 
+00023870: 352c 0a20 2020 2020 2020 2020 2020 2020  5,.             
+00023880: 2020 2022 5269 6768 7422 3a20 362c 0a20     "Right": 6,. 
+00023890: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000238a0: 486f 6d65 223a 2037 2c0a 2020 2020 2020  Home": 7,.      
+000238b0: 2020 2020 2020 2020 2020 2255 7022 3a20            "Up": 
+000238c0: 382c 0a20 2020 2020 2020 2020 2020 2020  8,.             
+000238d0: 2020 2022 5072 696f 7222 3a20 392c 0a20     "Prior": 9,. 
+000238e0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
+000238f0: 2020 2020 2020 2020 2063 6c69 636b 6564           clicked
+00023900: 7220 3d20 7365 6c66 2e72 656e 6465 7265  r = self.rendere
+00023910: 7273 2e69 6e64 6578 2872 656e 6465 7265  rs.index(rendere
+00023920: 7229 0a20 2020 2020 2020 2020 2020 2069  r).            i
+00023930: 6620 6b65 7920 696e 2061 7373 6f3a 0a20  f key in asso:. 
+00023940: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00023950: 6620 7365 6c66 2e61 7865 735f 696e 7374  f self.axes_inst
+00023960: 616e 6365 735b 636c 6963 6b65 6472 5d3a  ances[clickedr]:
+00023970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023980: 2020 2020 2069 6620 6861 7361 7474 7228       if hasattr(
+00023990: 7365 6c66 2e61 7865 735f 696e 7374 616e  self.axes_instan
+000239a0: 6365 735b 636c 6963 6b65 6472 5d2c 2022  ces[clickedr], "
+000239b0: 456e 6162 6c65 644f 6666 2229 3a20 2023  EnabledOff"):  #
+000239c0: 2077 6964 6765 740a 2020 2020 2020 2020   widget.        
+000239d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000239e0: 7365 6c66 2e61 7865 735f 696e 7374 616e  self.axes_instan
+000239f0: 6365 735b 636c 6963 6b65 6472 5d2e 456e  ces[clickedr].En
+00023a00: 6162 6c65 644f 6666 2829 0a20 2020 2020  abledOff().     
+00023a10: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00023a20: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00023a30: 2020 2020 2020 2020 2020 2020 2074 7279               try
+00023a40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00023a50: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00023a60: 6e64 6572 6572 2e52 656d 6f76 6541 6374  nderer.RemoveAct
+00023a70: 6f72 2873 656c 662e 6178 6573 5f69 6e73  or(self.axes_ins
+00023a80: 7461 6e63 6573 5b63 6c69 636b 6564 725d  tances[clickedr]
+00023a90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00023aa0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00023ab0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00023ac0: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+00023ad0: 7373 0a20 2020 2020 2020 2020 2020 2020  ss.             
+00023ae0: 2020 2020 2020 2073 656c 662e 6178 6573         self.axes
+00023af0: 5f69 6e73 7461 6e63 6573 5b63 6c69 636b  _instances[click
+00023b00: 6564 725d 203d 204e 6f6e 650a 2020 2020  edr] = None.    
+00023b10: 2020 2020 2020 2020 2020 2020 6164 646f              addo
+00023b20: 6e73 2e61 6464 5f67 6c6f 6261 6c5f 6178  ns.add_global_ax
+00023b30: 6573 2861 7874 7970 653d 6173 736f 5b6b  es(axtype=asso[k
+00023b40: 6579 5d2c 2063 3d4e 6f6e 6529 0a20 2020  ey], c=None).   
+00023b50: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00023b60: 662e 696e 7465 7261 6374 6f72 2e52 656e  f.interactor.Ren
+00023b70: 6465 7228 290a 0a20 2020 2020 2020 2069  der()..        i
+00023b80: 6620 6b65 7920 3d3d 2022 4f22 3a0a 2020  f key == "O":.  
+00023b90: 2020 2020 2020 2020 2020 7265 6e64 6572            render
+00023ba0: 6572 2e52 656d 6f76 654c 6967 6874 2873  er.RemoveLight(s
+00023bb0: 656c 662e 5f65 7874 7261 6c69 6768 7429  elf._extralight)
+00023bc0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00023bd0: 662e 5f65 7874 7261 6c69 6768 7420 3d20  f._extralight = 
+00023be0: 4e6f 6e65 0a0a 2020 2020 2020 2020 656c  None..        el
+00023bf0: 6966 206b 6579 203d 3d20 226f 223a 0a20  if key == "o":. 
+00023c00: 2020 2020 2020 2020 2020 2076 6262 2c20             vbb, 
+00023c10: 7369 7a65 732c 205f 2c20 5f20 3d20 6164  sizes, _, _ = ad
+00023c20: 646f 6e73 2e63 6f6d 7075 7465 5f76 6973  dons.compute_vis
+00023c30: 6962 6c65 5f62 6f75 6e64 7328 290a 2020  ible_bounds().  
+00023c40: 2020 2020 2020 2020 2020 636d 203d 2075            cm = u
+00023c50: 7469 6c73 2e76 6563 746f 7228 2876 6262  tils.vector((vbb
+00023c60: 5b30 5d20 2b20 7662 625b 315d 2920 2f20  [0] + vbb[1]) / 
+00023c70: 322c 2028 7662 625b 325d 202b 2076 6262  2, (vbb[2] + vbb
+00023c80: 5b33 5d29 202f 2032 2c20 2876 6262 5b34  [3]) / 2, (vbb[4
+00023c90: 5d20 2b20 7662 625b 355d 2920 2f20 3229  ] + vbb[5]) / 2)
+00023ca0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00023cb0: 6e6f 7420 7365 6c66 2e5f 6578 7472 616c  not self._extral
+00023cc0: 6967 6874 3a0a 2020 2020 2020 2020 2020  ight:.          
+00023cd0: 2020 2020 2020 7675 7020 3d20 7265 6e64        vup = rend
+00023ce0: 6572 6572 2e47 6574 4163 7469 7665 4361  erer.GetActiveCa
+00023cf0: 6d65 7261 2829 2e47 6574 5669 6577 5570  mera().GetViewUp
+00023d00: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+00023d10: 2020 2070 6f73 203d 2063 6d20 2b20 7574     pos = cm + ut
+00023d20: 696c 732e 7665 6374 6f72 2876 7570 2920  ils.vector(vup) 
+00023d30: 2a20 7574 696c 732e 6d61 6728 7369 7a65  * utils.mag(size
+00023d40: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00023d50: 2020 2073 656c 662e 5f65 7874 7261 6c69     self._extrali
+00023d60: 6768 7420 3d20 6164 646f 6e73 2e4c 6967  ght = addons.Lig
+00023d70: 6874 2870 6f73 2c20 666f 6361 6c5f 706f  ht(pos, focal_po
+00023d80: 696e 743d 636d 290a 2020 2020 2020 2020  int=cm).        
+00023d90: 2020 2020 2020 2020 7265 6e64 6572 6572          renderer
+00023da0: 2e41 6464 4c69 6768 7428 7365 6c66 2e5f  .AddLight(self._
+00023db0: 6578 7472 616c 6967 6874 290a 2020 2020  extralight).    
+00023dc0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+00023dd0: 7428 2250 7265 7373 2061 6761 696e 206f  t("Press again o
+00023de0: 2074 6f20 726f 7461 7465 206c 6967 6874   to rotate light
+00023df0: 2073 6f75 7263 652c 206f 7220 4f20 746f   source, or O to
+00023e00: 2072 656d 6f76 6520 6974 2e22 290a 2020   remove it.").  
+00023e10: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00023e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023e30: 6370 6f73 203d 2075 7469 6c73 2e76 6563  cpos = utils.vec
+00023e40: 746f 7228 7365 6c66 2e5f 6578 7472 616c  tor(self._extral
+00023e50: 6967 6874 2e47 6574 506f 7369 7469 6f6e  ight.GetPosition
+00023e60: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+00023e70: 2020 2020 782c 2079 2c20 7a20 3d20 7365      x, y, z = se
+00023e80: 6c66 2e5f 6578 7472 616c 6967 6874 2e47  lf._extralight.G
+00023e90: 6574 506f 7369 7469 6f6e 2829 202d 2063  etPosition() - c
+00023ea0: 6d0a 2020 2020 2020 2020 2020 2020 2020  m.              
+00023eb0: 2020 722c 2074 682c 2070 6820 3d20 7574    r, th, ph = ut
+00023ec0: 696c 732e 6361 7274 3273 7068 6572 2878  ils.cart2spher(x
+00023ed0: 2c20 792c 207a 290a 2020 2020 2020 2020  , y, z).        
+00023ee0: 2020 2020 2020 2020 7468 202b 3d20 302e          th += 0.
+00023ef0: 320a 2020 2020 2020 2020 2020 2020 2020  2.              
+00023f00: 2020 6966 2074 6820 3e20 6e70 2e70 693a    if th > np.pi:
+00023f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023f20: 2020 2020 2074 6820 3d20 6e70 2e72 616e       th = np.ran
+00023f30: 646f 6d2e 7261 6e64 6f6d 2829 202a 206e  dom.random() * n
+00023f40: 702e 7069 202f 2032 0a20 2020 2020 2020  p.pi / 2.       
+00023f50: 2020 2020 2020 2020 2070 6820 2b3d 2030           ph += 0
+00023f60: 2e33 0a20 2020 2020 2020 2020 2020 2020  .3.             
+00023f70: 2020 2063 706f 7320 3d20 7574 696c 732e     cpos = utils.
+00023f80: 7370 6865 7232 6361 7274 2872 2c20 7468  spher2cart(r, th
+00023f90: 2c20 7068 2920 2b20 636d 0a20 2020 2020  , ph) + cm.     
+00023fa0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00023fb0: 5f65 7874 7261 6c69 6768 742e 5365 7450  _extralight.SetP
+00023fc0: 6f73 6974 696f 6e28 6370 6f73 290a 0a20  osition(cpos).. 
+00023fd0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00023fe0: 7769 6e64 6f77 2e52 656e 6465 7228 290a  window.Render().
+00023ff0: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+00024000: 7920 3d3d 2022 6c22 3a0a 2020 2020 2020  y == "l":.      
+00024010: 2020 2020 2020 6966 2073 656c 662e 636c        if self.cl
+00024020: 6963 6b65 645f 6163 746f 7220 696e 2073  icked_actor in s
+00024030: 656c 662e 6765 745f 6d65 7368 6573 2829  elf.get_meshes()
+00024040: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024050: 2020 6163 7473 203d 205b 7365 6c66 2e63    acts = [self.c
+00024060: 6c69 636b 6564 5f61 6374 6f72 5d0a 2020  licked_actor].  
+00024070: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00024080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024090: 6163 7473 203d 2073 656c 662e 6765 745f  acts = self.get_
+000240a0: 6d65 7368 6573 2829 0a20 2020 2020 2020  meshes().       
+000240b0: 2020 2020 2066 6f72 2069 6120 696e 2061       for ia in a
+000240c0: 6374 733a 0a20 2020 2020 2020 2020 2020  cts:.           
+000240d0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+000240e0: 2020 2020 2020 2020 2020 2020 2020 6576                ev
+000240f0: 203d 2069 612e 4765 7450 726f 7065 7274   = ia.GetPropert
+00024100: 7928 292e 4765 7445 6467 6556 6973 6962  y().GetEdgeVisib
+00024110: 696c 6974 7928 290a 2020 2020 2020 2020  ility().        
+00024120: 2020 2020 2020 2020 2020 2020 6961 2e47              ia.G
+00024130: 6574 5072 6f70 6572 7479 2829 2e53 6574  etProperty().Set
+00024140: 4564 6765 5669 7369 6269 6c69 7479 286e  EdgeVisibility(n
+00024150: 6f74 2065 7629 0a20 2020 2020 2020 2020  ot ev).         
+00024160: 2020 2020 2020 2020 2020 2069 612e 4765             ia.Ge
+00024170: 7450 726f 7065 7274 7928 292e 5365 7452  tProperty().SetR
+00024180: 6570 7265 7365 6e74 6174 696f 6e54 6f53  epresentationToS
+00024190: 7572 6661 6365 2829 0a20 2020 2020 2020  urface().       
+000241a0: 2020 2020 2020 2020 2020 2020 2069 612e               ia.
+000241b0: 4765 7450 726f 7065 7274 7928 292e 5365  GetProperty().Se
+000241c0: 744c 696e 6557 6964 7468 2830 2e31 290a  tLineWidth(0.1).
+000241d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241e0: 6578 6365 7074 2041 7474 7269 6275 7465  except Attribute
+000241f0: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
+00024200: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
+00024210: 0a20 2020 2020 2020 2065 6c69 6620 6b65  .        elif ke
+00024220: 7920 3d3d 2022 6b22 3a20 2023 206c 6967  y == "k":  # lig
+00024230: 6874 696e 6773 0a20 2020 2020 2020 2020  htings.         
+00024240: 2020 2069 6620 7365 6c66 2e63 6c69 636b     if self.click
+00024250: 6564 5f61 6374 6f72 2069 6e20 7365 6c66  ed_actor in self
+00024260: 2e67 6574 5f6d 6573 6865 7328 293a 0a20  .get_meshes():. 
+00024270: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00024280: 6374 7320 3d20 5b73 656c 662e 636c 6963  cts = [self.clic
+00024290: 6b65 645f 6163 746f 725d 0a20 2020 2020  ked_actor].     
+000242a0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000242b0: 2020 2020 2020 2020 2020 2020 2061 6374               act
+000242c0: 7320 3d20 7365 6c66 2e67 6574 5f6d 6573  s = self.get_mes
+000242d0: 6865 7328 290a 2020 2020 2020 2020 2020  hes().          
+000242e0: 2020 7368 6473 203d 2028 2264 6566 6175    shds = ("defau
+000242f0: 6c74 222c 2022 6d65 7461 6c6c 6963 222c  lt", "metallic",
+00024300: 2022 706c 6173 7469 6322 2c20 2273 6869   "plastic", "shi
+00024310: 6e79 222c 2022 676c 6f73 7379 222c 2022  ny", "glossy", "
+00024320: 6f66 6622 290a 2020 2020 2020 2020 2020  off").          
+00024330: 2020 666f 7220 6961 2069 6e20 6163 7473    for ia in acts
+00024340: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024350: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00024360: 2020 2020 2020 2020 2020 206c 6e72 203d             lnr =
+00024370: 2028 6961 2e5f 6c69 6774 6869 6e67 6e72   (ia._ligthingnr
+00024380: 202b 2031 2920 2520 360a 2020 2020 2020   + 1) % 6.      
+00024390: 2020 2020 2020 2020 2020 2020 2020 6961                ia
+000243a0: 2e6c 6967 6874 696e 6728 7368 6473 5b6c  .lighting(shds[l
+000243b0: 6e72 5d29 0a20 2020 2020 2020 2020 2020  nr]).           
+000243c0: 2020 2020 2020 2020 2069 612e 5f6c 6967           ia._lig
+000243d0: 7468 696e 676e 7220 3d20 6c6e 720a 2020  thingnr = lnr.  
+000243e0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000243f0: 6365 7074 2041 7474 7269 6275 7465 4572  cept AttributeEr
+00024400: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
+00024410: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
+00024420: 2020 2020 2020 2065 6c69 6620 6b65 7920         elif key 
+00024430: 3d3d 2022 4b22 3a20 2023 2073 6861 6469  == "K":  # shadi
+00024440: 6e67 0a20 2020 2020 2020 2020 2020 2069  ng.            i
+00024450: 6620 7365 6c66 2e63 6c69 636b 6564 5f61  f self.clicked_a
+00024460: 6374 6f72 2069 6e20 7365 6c66 2e67 6574  ctor in self.get
+00024470: 5f6d 6573 6865 7328 293a 0a20 2020 2020  _meshes():.     
+00024480: 2020 2020 2020 2020 2020 2061 6374 7320             acts 
+00024490: 3d20 5b73 656c 662e 636c 6963 6b65 645f  = [self.clicked_
+000244a0: 6163 746f 725d 0a20 2020 2020 2020 2020  actor].         
+000244b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000244c0: 2020 2020 2020 2020 2061 6374 7320 3d20           acts = 
+000244d0: 7365 6c66 2e67 6574 5f6d 6573 6865 7328  self.get_meshes(
+000244e0: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
+000244f0: 7220 6961 2069 6e20 6163 7473 3a0a 2020  r ia in acts:.  
+00024500: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00024510: 2069 7369 6e73 7461 6e63 6528 6961 2c20   isinstance(ia, 
+00024520: 7665 646f 2e4d 6573 6829 3a0a 2020 2020  vedo.Mesh):.    
+00024530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024540: 6961 2e63 6f6d 7075 7465 5f6e 6f72 6d61  ia.compute_norma
+00024550: 6c73 2863 656c 6c73 3d46 616c 7365 290a  ls(cells=False).
+00024560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024570: 2020 2020 696e 7472 7020 3d20 6961 2e47      intrp = ia.G
+00024580: 6574 5072 6f70 6572 7479 2829 2e47 6574  etProperty().Get
+00024590: 496e 7465 7270 6f6c 6174 696f 6e28 290a  Interpolation().
+000245a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000245b0: 2020 2020 2320 7072 696e 7428 696e 7472      # print(intr
+000245c0: 702c 2069 612e 4765 7450 726f 7065 7274  p, ia.GetPropert
+000245d0: 7928 292e 4765 7449 6e74 6572 706f 6c61  y().GetInterpola
+000245e0: 7469 6f6e 4173 5374 7269 6e67 2829 290a  tionAsString()).
+000245f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024600: 2020 2020 6966 2069 6e74 7270 203e 2030      if intrp > 0
+00024610: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024620: 2020 2020 2020 2020 2020 6961 2e47 6574            ia.Get
+00024630: 5072 6f70 6572 7479 2829 2e53 6574 496e  Property().SetIn
+00024640: 7465 7270 6f6c 6174 696f 6e28 3029 2020  terpolation(0)  
+00024650: 2320 666c 6174 0a20 2020 2020 2020 2020  # flat.         
+00024660: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00024670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024680: 2020 2020 2020 2020 2069 612e 4765 7450           ia.GetP
+00024690: 726f 7065 7274 7928 292e 5365 7449 6e74  roperty().SetInt
+000246a0: 6572 706f 6c61 7469 6f6e 2832 2920 2023  erpolation(2)  #
+000246b0: 2070 686f 6e67 0a0a 2020 2020 2020 2020   phong..        
+000246c0: 656c 6966 206b 6579 203d 3d20 226e 223a  elif key == "n":
+000246d0: 2020 2320 7368 6f77 206e 6f72 6d61 6c73    # show normals
+000246e0: 2074 6f20 616e 2061 6374 6f72 0a20 2020   to an actor.   
+000246f0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00024700: 2e63 6c69 636b 6564 5f61 6374 6f72 2069  .clicked_actor i
+00024710: 6e20 7365 6c66 2e67 6574 5f6d 6573 6865  n self.get_meshe
+00024720: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+00024730: 2020 2020 2069 6620 7365 6c66 2e63 6c69       if self.cli
+00024740: 636b 6564 5f61 6374 6f72 2e47 6574 5069  cked_actor.GetPi
+00024750: 636b 6162 6c65 2829 3a0a 2020 2020 2020  ckable():.      
+00024760: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00024770: 6c66 2e72 656e 6465 7265 722e 4164 6441  lf.renderer.AddA
+00024780: 6374 6f72 2876 6564 6f2e 7368 6170 6573  ctor(vedo.shapes
+00024790: 2e4e 6f72 6d61 6c4c 696e 6573 2873 656c  .NormalLines(sel
+000247a0: 662e 636c 6963 6b65 645f 6163 746f 7229  f.clicked_actor)
+000247b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000247c0: 2020 2020 2020 6972 656e 2e52 656e 6465        iren.Rende
+000247d0: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
+000247e0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000247f0: 2020 2020 2020 7072 696e 7428 2243 6c69        print("Cli
+00024800: 636b 2061 6e20 6163 746f 7220 616e 6420  ck an actor and 
+00024810: 7072 6573 7320 6e20 746f 2061 6464 206e  press n to add n
+00024820: 6f72 6d61 6c73 2e22 290a 0a20 2020 2020  ormals.")..     
+00024830: 2020 2065 6c69 6620 6b65 7920 3d3d 2022     elif key == "
+00024840: 7822 3a0a 2020 2020 2020 2020 2020 2020  x":.            
+00024850: 6966 2073 656c 662e 6a75 7374 7265 6d6f  if self.justremo
+00024860: 7665 6420 6973 204e 6f6e 653a 0a20 2020  ved is None:.   
+00024870: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00024880: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+00024890: 6f72 2069 6e20 7365 6c66 2e67 6574 5f6d  or in self.get_m
+000248a0: 6573 6865 7328 2920 6f72 2069 7369 6e73  eshes() or isins
+000248b0: 7461 6e63 6528 0a20 2020 2020 2020 2020  tance(.         
+000248c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000248d0: 636c 6963 6b65 645f 6163 746f 722c 2076  clicked_actor, v
+000248e0: 746b 2e76 746b 4173 7365 6d62 6c79 0a20  tk.vtkAssembly. 
+000248f0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00024900: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024910: 2020 2020 2020 7365 6c66 2e6a 7573 7472        self.justr
+00024920: 656d 6f76 6564 203d 2073 656c 662e 636c  emoved = self.cl
+00024930: 6963 6b65 645f 6163 746f 720a 2020 2020  icked_actor.    
+00024940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024950: 7365 6c66 2e72 656e 6465 7265 722e 5265  self.renderer.Re
+00024960: 6d6f 7665 4163 746f 7228 7365 6c66 2e63  moveActor(self.c
+00024970: 6c69 636b 6564 5f61 6374 6f72 290a 2020  licked_actor).  
+00024980: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
 00024990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000249a0: 2020 2020 2020 2320 7665 646f 2e70 7269        # vedo.pri
-000249b0: 6e74 6328 272d 3e20 6c69 6768 7469 6e67  ntc('-> lighting
-000249c0: 2073 6574 2074 6f3a 272c 2073 6864 735b   set to:', shds[
-000249d0: 6c6e 725d 2c20 633d 2767 272c 2062 6f6c  lnr], c='g', bol
-000249e0: 643d 3029 0a20 2020 2020 2020 2020 2020  d=0).           
-000249f0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-00024a00: 4174 7472 6962 7574 6545 7272 6f72 3a0a  AttributeError:.
-00024a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024a20: 2020 2020 2020 2020 7061 7373 0a0a 2020          pass..  
-00024a30: 2020 2020 2020 656c 6966 206b 6579 203d        elif key =
-00024a40: 3d20 224b 223a 2020 2320 7368 6164 696e  = "K":  # shadin
-00024a50: 670a 2020 2020 2020 2020 2020 2020 6966  g.            if
-00024a60: 2073 656c 662e 636c 6963 6b65 645f 6163   self.clicked_ac
-00024a70: 746f 7220 696e 2073 656c 662e 6765 745f  tor in self.get_
-00024a80: 6d65 7368 6573 2829 3a0a 2020 2020 2020  meshes():.      
-00024a90: 2020 2020 2020 2020 2020 6163 7473 203d            acts =
-00024aa0: 205b 7365 6c66 2e63 6c69 636b 6564 5f61   [self.clicked_a
-00024ab0: 6374 6f72 5d0a 2020 2020 2020 2020 2020  ctor].          
-00024ac0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00024ad0: 2020 2020 2020 2020 6163 7473 203d 2073          acts = s
-00024ae0: 656c 662e 6765 745f 6d65 7368 6573 2829  elf.get_meshes()
-00024af0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00024b00: 2069 6120 696e 2061 6374 733a 0a20 2020   ia in acts:.   
-00024b10: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00024b20: 6961 2e47 6574 5069 636b 6162 6c65 2829  ia.GetPickable()
-00024b30: 2061 6e64 2069 7369 6e73 7461 6e63 6528   and isinstance(
-00024b40: 6961 2c20 7665 646f 2e4d 6573 6829 3a0a  ia, vedo.Mesh):.
-00024b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024b60: 2020 2020 6961 2e63 6f6d 7075 7465 5f6e      ia.compute_n
-00024b70: 6f72 6d61 6c73 2863 656c 6c73 3d46 616c  ormals(cells=Fal
-00024b80: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-00024b90: 2020 2020 2020 2020 696e 7472 7020 3d20          intrp = 
-00024ba0: 6961 2e47 6574 5072 6f70 6572 7479 2829  ia.GetProperty()
-00024bb0: 2e47 6574 496e 7465 7270 6f6c 6174 696f  .GetInterpolatio
-00024bc0: 6e28 290a 2020 2020 2020 2020 2020 2020  n().            
-00024bd0: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
-00024be0: 696e 7472 702c 2069 612e 4765 7450 726f  intrp, ia.GetPro
-00024bf0: 7065 7274 7928 292e 4765 7449 6e74 6572  perty().GetInter
-00024c00: 706f 6c61 7469 6f6e 4173 5374 7269 6e67  polationAsString
-00024c10: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-00024c20: 2020 2020 2020 2020 6966 2069 6e74 7270          if intrp
-00024c30: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
-00024c40: 2020 2020 2020 2020 2020 2020 2020 6961                ia
-00024c50: 2e47 6574 5072 6f70 6572 7479 2829 2e53  .GetProperty().S
-00024c60: 6574 496e 7465 7270 6f6c 6174 696f 6e28  etInterpolation(
-00024c70: 3029 2020 2320 666c 6174 0a20 2020 2020  0)  # flat.     
-00024c80: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00024c90: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00024ca0: 2020 2020 2020 2020 2020 2020 2069 612e               ia.
-00024cb0: 4765 7450 726f 7065 7274 7928 292e 5365  GetProperty().Se
-00024cc0: 7449 6e74 6572 706f 6c61 7469 6f6e 2832  tInterpolation(2
-00024cd0: 2920 2023 2070 686f 6e67 0a0a 2020 2020  )  # phong..    
-00024ce0: 2020 2020 656c 6966 206b 6579 203d 3d20      elif key == 
-00024cf0: 226e 223a 2020 2320 7368 6f77 206e 6f72  "n":  # show nor
-00024d00: 6d61 6c73 2074 6f20 616e 2061 6374 6f72  mals to an actor
-00024d10: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00024d20: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
-00024d30: 6f72 2069 6e20 7365 6c66 2e67 6574 5f6d  or in self.get_m
-00024d40: 6573 6865 7328 293a 0a20 2020 2020 2020  eshes():.       
-00024d50: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-00024d60: 2e63 6c69 636b 6564 5f61 6374 6f72 2e47  .clicked_actor.G
-00024d70: 6574 5069 636b 6162 6c65 2829 3a0a 2020  etPickable():.  
-00024d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d90: 2020 7365 6c66 2e72 656e 6465 7265 722e    self.renderer.
-00024da0: 4164 6441 6374 6f72 2876 6564 6f2e 7368  AddActor(vedo.sh
-00024db0: 6170 6573 2e4e 6f72 6d61 6c4c 696e 6573  apes.NormalLines
-00024dc0: 2873 656c 662e 636c 6963 6b65 645f 6163  (self.clicked_ac
-00024dd0: 746f 7229 290a 2020 2020 2020 2020 2020  tor)).          
-00024de0: 2020 2020 2020 2020 2020 6972 656e 2e52            iren.R
-00024df0: 656e 6465 7228 290a 2020 2020 2020 2020  ender().        
-00024e00: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00024e10: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-00024e20: 2243 6c69 636b 2061 6e20 6163 746f 7220  "Click an actor 
-00024e30: 616e 6420 7072 6573 7320 6e20 746f 2061  and press n to a
-00024e40: 6464 206e 6f72 6d61 6c73 2e22 290a 0a20  dd normals.").. 
-00024e50: 2020 2020 2020 2065 6c69 6620 6b65 7920         elif key 
-00024e60: 3d3d 2022 7822 3a0a 2020 2020 2020 2020  == "x":.        
-00024e70: 2020 2020 6966 2073 656c 662e 6a75 7374      if self.just
-00024e80: 7265 6d6f 7665 6420 6973 204e 6f6e 653a  removed is None:
-00024e90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024ea0: 2069 6620 7365 6c66 2e63 6c69 636b 6564   if self.clicked
-00024eb0: 5f61 6374 6f72 2069 6e20 7365 6c66 2e67  _actor in self.g
-00024ec0: 6574 5f6d 6573 6865 7328 2920 6f72 2069  et_meshes() or i
-00024ed0: 7369 6e73 7461 6e63 6528 0a20 2020 2020  sinstance(.     
-00024ee0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00024ef0: 656c 662e 636c 6963 6b65 645f 6163 746f  elf.clicked_acto
-00024f00: 722c 2076 746b 2e76 746b 4173 7365 6d62  r, vtk.vtkAssemb
-00024f10: 6c79 0a20 2020 2020 2020 2020 2020 2020  ly.             
-00024f20: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-00024f30: 2020 2020 2020 2020 2020 7365 6c66 2e6a            self.j
-00024f40: 7573 7472 656d 6f76 6564 203d 2073 656c  ustremoved = sel
-00024f50: 662e 636c 6963 6b65 645f 6163 746f 720a  f.clicked_actor.
-00024f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024f70: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
-00024f80: 722e 5265 6d6f 7665 4163 746f 7228 7365  r.RemoveActor(se
-00024f90: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
-00024fa0: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-00024fb0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00024fc0: 2020 2020 7365 6c66 2e72 656e 6465 7265      self.rendere
-00024fd0: 722e 4164 6441 6374 6f72 2873 656c 662e  r.AddActor(self.
-00024fe0: 6a75 7374 7265 6d6f 7665 6429 0a20 2020  justremoved).   
-00024ff0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00025000: 662e 7265 6e64 6572 6572 2e52 656e 6465  f.renderer.Rende
-00025010: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
-00025020: 2020 2020 7365 6c66 2e6a 7573 7472 656d      self.justrem
-00025030: 6f76 6564 203d 204e 6f6e 650a 0a20 2020  oved = None..   
-00025040: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
-00025050: 2022 5822 3a0a 2020 2020 2020 2020 2020   "X":.          
-00025060: 2020 6966 2073 656c 662e 636c 6963 6b65    if self.clicke
-00025070: 645f 6163 746f 723a 0a20 2020 2020 2020  d_actor:.       
-00025080: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00025090: 7365 6c66 2e63 7574 7465 725f 7769 6467  self.cutter_widg
-000250a0: 6574 3a0a 2020 2020 2020 2020 2020 2020  et:.            
-000250b0: 2020 2020 2020 2020 6164 646f 6e73 2e61          addons.a
-000250c0: 6464 5f63 7574 7465 725f 746f 6f6c 2873  dd_cutter_tool(s
-000250d0: 656c 662e 636c 6963 6b65 645f 6163 746f  elf.clicked_acto
-000250e0: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
-000250f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00025100: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00025110: 6973 696e 7374 616e 6365 2873 656c 662e  isinstance(self.
-00025120: 636c 6963 6b65 645f 6163 746f 722c 2076  clicked_actor, v
-00025130: 746b 2e76 746b 4163 746f 7229 3a0a 2020  tk.vtkActor):.  
-00025140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025150: 2020 2020 2020 666e 616d 6520 3d20 2263        fname = "c
-00025160: 6c69 7070 6564 2e76 746b 220a 2020 2020  lipped.vtk".    
-00025170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025180: 2020 2020 7720 3d20 7674 6b2e 7674 6b50      w = vtk.vtkP
-00025190: 6f6c 7944 6174 6157 7269 7465 7228 290a  olyDataWriter().
-000251a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000251b0: 2020 2020 2020 2020 772e 5365 7449 6e70          w.SetInp
-000251c0: 7574 4461 7461 2873 656c 662e 636c 6963  utData(self.clic
-000251d0: 6b65 645f 6163 746f 722e 706f 6c79 6461  ked_actor.polyda
-000251e0: 7461 2829 290a 2020 2020 2020 2020 2020  ta()).          
-000251f0: 2020 2020 2020 2020 2020 2020 2020 772e                w.
-00025200: 5365 7446 696c 654e 616d 6528 666e 616d  SetFileName(fnam
-00025210: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00025220: 2020 2020 2020 2020 2020 2077 2e57 7269             w.Wri
-00025230: 7465 2829 0a20 2020 2020 2020 2020 2020  te().           
-00025240: 2020 2020 2020 2020 2020 2020 2076 6564               ved
-00025250: 6f2e 7072 696e 7463 2872 225c 7361 7665  o.printc(r"\save
-00025260: 2053 6176 6564 2066 696c 653a 222c 2066   Saved file:", f
-00025270: 6e61 6d65 2c20 633d 226d 2229 0a20 2020  name, c="m").   
-00025280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025290: 2020 2020 2073 656c 662e 6375 7474 6572       self.cutter
-000252a0: 5f77 6964 6765 742e 4f66 6628 290a 2020  _widget.Off().  
-000252b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000252c0: 2020 2020 2020 7365 6c66 2e63 7574 7465        self.cutte
-000252d0: 725f 7769 6467 6574 203d 204e 6f6e 650a  r_widget = None.
-000252e0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000252f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00025300: 2020 666f 7220 6120 696e 2073 656c 662e    for a in self.
-00025310: 6163 746f 7273 3a0a 2020 2020 2020 2020  actors:.        
-00025320: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-00025330: 7369 6e73 7461 6e63 6528 612c 2076 746b  sinstance(a, vtk
-00025340: 2e76 746b 566f 6c75 6d65 293a 0a20 2020  .vtkVolume):.   
-00025350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025360: 2020 2020 2061 6464 6f6e 732e 6164 645f       addons.add_
-00025370: 6375 7474 6572 5f74 6f6f 6c28 6129 0a20  cutter_tool(a). 
-00025380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025390: 2020 2020 2020 2072 6574 7572 6e0a 0a20         return.. 
-000253a0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-000253b0: 6564 6f2e 7072 696e 7463 2822 436c 6963  edo.printc("Clic
-000253c0: 6b20 6f62 6a65 6374 2061 6e64 2070 7265  k object and pre
-000253d0: 7373 2058 2074 6f20 6f70 656e 2074 6865  ss X to open the
-000253e0: 2063 7574 7465 7220 626f 7820 7769 6467   cutter box widg
-000253f0: 6574 2e22 2c20 633d 3429 0a0a 2020 2020  et.", c=4)..    
-00025400: 2020 2020 656c 6966 206b 6579 203d 3d20      elif key == 
-00025410: 2245 223a 0a20 2020 2020 2020 2020 2020  "E":.           
-00025420: 2076 6564 6f2e 7072 696e 7463 2872 225c   vedo.printc(r"\
-00025430: 6361 6d65 7261 2045 7870 6f72 7469 6e67  camera Exporting
-00025440: 2033 4420 7769 6e64 6f77 2074 6f20 6669   3D window to fi
-00025450: 6c65 222c 2063 3d22 626c 7565 222c 2065  le", c="blue", e
-00025460: 6e64 3d22 2229 0a20 2020 2020 2020 2020  nd="").         
-00025470: 2020 2076 6564 6f2e 696f 2e65 7870 6f72     vedo.io.expor
-00025480: 745f 7769 6e64 6f77 2822 7363 656e 652e  t_window("scene.
-00025490: 6e70 7a22 290a 2020 2020 2020 2020 2020  npz").          
-000254a0: 2020 7665 646f 2e70 7269 6e74 6328 222e    vedo.printc(".
-000254b0: 2054 7279 3a5c 6e3e 2076 6564 6f20 7363   Try:\n> vedo sc
-000254c0: 656e 652e 6e70 7a22 2c20 633d 2262 6c75  ene.npz", c="blu
-000254d0: 6522 290a 0a20 2020 2020 2020 2065 6c69  e")..        eli
-000254e0: 6620 6b65 7920 3d3d 2022 4622 3a0a 2020  f key == "F":.  
-000254f0: 2020 2020 2020 2020 2020 7665 646f 2e69            vedo.i
-00025500: 6f2e 6578 706f 7274 5f77 696e 646f 7728  o.export_window(
-00025510: 2273 6365 6e65 2e78 3364 2229 0a20 2020  "scene.x3d").   
-00025520: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
-00025530: 696e 7463 2822 5472 793a 2066 6972 6566  intc("Try: firef
-00025540: 6f78 2073 6365 6e65 2e68 746d 6c22 2c20  ox scene.html", 
-00025550: 633d 2262 6c75 6522 290a 0a20 2020 2020  c="blue")..     
-00025560: 2020 2065 6c69 6620 6b65 7920 3d3d 2022     elif key == "
-00025570: 6922 3a20 2023 2070 7269 6e74 2069 6e66  i":  # print inf
-00025580: 6f0a 2020 2020 2020 2020 2020 2020 6966  o.            if
-00025590: 2073 656c 662e 636c 6963 6b65 645f 6163   self.clicked_ac
-000255a0: 746f 723a 0a20 2020 2020 2020 2020 2020  tor:.           
-000255b0: 2020 2020 2075 7469 6c73 2e70 7269 6e74       utils.print
-000255c0: 5f69 6e66 6f28 7365 6c66 2e63 6c69 636b  _info(self.click
-000255d0: 6564 5f61 6374 6f72 290a 2020 2020 2020  ed_actor).      
-000255e0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-000255f0: 2020 2020 2020 2020 2020 2020 7574 696c              util
-00025600: 732e 7072 696e 745f 696e 666f 2873 656c  s.print_info(sel
-00025610: 6629 0a0a 2020 2020 2020 2020 656c 6966  f)..        elif
-00025620: 206b 6579 203d 3d20 2249 223a 2020 2320   key == "I":  # 
-00025630: 7072 696e 7420 636f 6c6f 7220 756e 6465  print color unde
-00025640: 7220 7468 6520 6d6f 7573 650a 2020 2020  r the mouse.    
-00025650: 2020 2020 2020 2020 782c 2079 203d 2069          x, y = i
-00025660: 7265 6e2e 4765 7445 7665 6e74 506f 7369  ren.GetEventPosi
-00025670: 7469 6f6e 2829 0a20 2020 2020 2020 2020  tion().         
-00025680: 2020 2073 656c 662e 636f 6c6f 725f 7069     self.color_pi
-00025690: 636b 6572 285b 782c 2079 5d2c 2076 6572  cker([x, y], ver
-000256a0: 626f 7365 3d54 7275 6529 0a0a 2020 2020  bose=True)..    
-000256b0: 2020 2020 656c 6966 206b 6579 203d 3d20      elif key == 
-000256c0: 2279 223a 0a20 2020 2020 2020 2020 2020  "y":.           
-000256d0: 2069 6620 7365 6c66 2e63 6c69 636b 6564   if self.clicked
-000256e0: 5f61 6374 6f72 2061 6e64 2073 656c 662e  _actor and self.
-000256f0: 636c 6963 6b65 645f 6163 746f 722e 7069  clicked_actor.pi
-00025700: 7065 6c69 6e65 3a0a 2020 2020 2020 2020  peline:.        
-00025710: 2020 2020 2020 2020 2320 7365 6c66 2e63          # self.c
-00025720: 6c69 636b 6564 5f61 6374 6f72 2e70 6970  licked_actor.pip
-00025730: 656c 696e 6520 3d20 2075 7469 6c73 2e4f  eline =  utils.O
-00025740: 7065 7261 7469 6f6e 4e6f 6465 280a 2020  perationNode(.  
-00025750: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00025760: 2020 2020 2020 2020 2273 686f 7722 2c20          "show", 
-00025770: 7061 7265 6e74 733d 5b73 656c 662e 636c  parents=[self.cl
-00025780: 6963 6b65 645f 6163 746f 725d 2c0a 2020  icked_actor],.  
-00025790: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-000257a0: 2020 2020 2020 2020 7368 6170 653d 2263          shape="c
-000257b0: 6972 636c 6522 2c0a 2020 2020 2020 2020  ircle",.        
-000257c0: 2020 2020 2020 2020 2320 290a 2020 2020          # ).    
-000257d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000257e0: 2e63 6c69 636b 6564 5f61 6374 6f72 2e70  .clicked_actor.p
-000257f0: 6970 656c 696e 652e 7368 6f77 2829 0a0a  ipeline.show()..
-00025800: 2020 2020 2020 2020 6966 2069 7265 6e3a          if iren:
-00025810: 0a20 2020 2020 2020 2020 2020 2069 7265  .            ire
-00025820: 6e2e 5265 6e64 6572 2829 0a0a            n.Render()..
+000249a0: 7365 6c66 2e72 656e 6465 7265 722e 4164  self.renderer.Ad
+000249b0: 6441 6374 6f72 2873 656c 662e 6a75 7374  dActor(self.just
+000249c0: 7265 6d6f 7665 6429 0a20 2020 2020 2020  removed).       
+000249d0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+000249e0: 6e64 6572 6572 2e52 656e 6465 7228 290a  nderer.Render().
+000249f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024a00: 7365 6c66 2e6a 7573 7472 656d 6f76 6564  self.justremoved
+00024a10: 203d 204e 6f6e 650a 0a20 2020 2020 2020   = None..       
+00024a20: 2065 6c69 6620 6b65 7920 3d3d 2022 5822   elif key == "X"
+00024a30: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00024a40: 2073 656c 662e 636c 6963 6b65 645f 6163   self.clicked_ac
+00024a50: 746f 723a 0a20 2020 2020 2020 2020 2020  tor:.           
+00024a60: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
+00024a70: 2e63 7574 7465 725f 7769 6467 6574 3a0a  .cutter_widget:.
+00024a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024a90: 2020 2020 7365 6c66 2e63 7574 7465 725f      self.cutter_
+00024aa0: 7769 6467 6574 203d 2061 6464 6f6e 732e  widget = addons.
+00024ab0: 426f 7843 7574 7465 7228 7365 6c66 2e63  BoxCutter(self.c
+00024ac0: 6c69 636b 6564 5f61 6374 6f72 290a 2020  licked_actor).  
+00024ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ae0: 2020 7365 6c66 2e61 6464 2873 656c 662e    self.add(self.
+00024af0: 6375 7474 6572 5f77 6964 6765 7429 0a20  cutter_widget). 
+00024b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024b10: 2020 2070 7269 6e74 2822 5072 6573 7320     print("Press 
+00024b20: 5368 6966 742b 5820 746f 2063 6c6f 7365  Shift+X to close
+00024b30: 2074 6865 2063 7574 7465 7220 626f 7820   the cutter box 
+00024b40: 7769 6467 6574 2c20 4374 726c 2b73 2074  widget, Ctrl+s t
+00024b50: 6f20 7361 7665 2074 6865 2063 7574 2073  o save the cut s
+00024b60: 6563 7469 6f6e 2e22 290a 2020 2020 2020  ection.").      
+00024b70: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00024b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024b90: 2020 2020 7365 6c66 2e72 656d 6f76 6528      self.remove(
+00024ba0: 7365 6c66 2e63 7574 7465 725f 7769 6467  self.cutter_widg
+00024bb0: 6574 290a 2020 2020 2020 2020 2020 2020  et).            
+00024bc0: 2020 2020 2020 2020 7365 6c66 2e63 7574          self.cut
+00024bd0: 7465 725f 7769 6467 6574 203d 204e 6f6e  ter_widget = Non
+00024be0: 650a 2020 2020 2020 2020 2020 2020 656c  e.            el
+00024bf0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00024c00: 2020 2020 666f 7220 6120 696e 2073 656c      for a in sel
+00024c10: 662e 6163 746f 7273 3a0a 2020 2020 2020  f.actors:.      
+00024c20: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00024c30: 2069 7369 6e73 7461 6e63 6528 612c 2076   isinstance(a, v
+00024c40: 746b 2e76 746b 566f 6c75 6d65 293a 0a20  tk.vtkVolume):. 
+00024c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024c60: 2020 2020 2020 2061 6464 6f6e 732e 6164         addons.ad
+00024c70: 645f 6375 7474 6572 5f74 6f6f 6c28 6129  d_cutter_tool(a)
+00024c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024c90: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
+00024ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024cb0: 2076 6564 6f2e 7072 696e 7463 2822 436c   vedo.printc("Cl
+00024cc0: 6963 6b20 6f62 6a65 6374 2061 6e64 2070  ick object and p
+00024cd0: 7265 7373 2058 2074 6f20 6f70 656e 2074  ress X to open t
+00024ce0: 6865 2063 7574 7465 7220 626f 7820 7769  he cutter box wi
+00024cf0: 6467 6574 2e22 2c20 633d 3429 0a0a 2020  dget.", c=4)..  
+00024d00: 2020 2020 2020 656c 6966 206b 6579 203d        elif key =
+00024d10: 3d20 2245 223a 0a20 2020 2020 2020 2020  = "E":.         
+00024d20: 2020 2076 6564 6f2e 7072 696e 7463 2872     vedo.printc(r
+00024d30: 223a 6361 6d65 7261 3a20 4578 706f 7274  ":camera: Export
+00024d40: 696e 6720 3344 2077 696e 646f 7720 746f  ing 3D window to
+00024d50: 2066 696c 6522 2c20 633d 2262 6c75 6522   file", c="blue"
+00024d60: 2c20 656e 643d 2222 290a 2020 2020 2020  , end="").      
+00024d70: 2020 2020 2020 7665 646f 2e66 696c 655f        vedo.file_
+00024d80: 696f 2e65 7870 6f72 745f 7769 6e64 6f77  io.export_window
+00024d90: 2822 7363 656e 652e 6e70 7a22 290a 2020  ("scene.npz").  
+00024da0: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+00024db0: 7269 6e74 6328 222e 2054 7279 3a5c 6e3e  rintc(". Try:\n>
+00024dc0: 2076 6564 6f20 7363 656e 652e 6e70 7a22   vedo scene.npz"
+00024dd0: 2c20 633d 2262 6c75 6522 290a 0a20 2020  , c="blue")..   
+00024de0: 2020 2020 2065 6c69 6620 6b65 7920 3d3d       elif key ==
+00024df0: 2022 4622 3a0a 2020 2020 2020 2020 2020   "F":.          
+00024e00: 2020 7665 646f 2e66 696c 655f 696f 2e65    vedo.file_io.e
+00024e10: 7870 6f72 745f 7769 6e64 6f77 2822 7363  xport_window("sc
+00024e20: 656e 652e 7833 6422 290a 2020 2020 2020  ene.x3d").      
+00024e30: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+00024e40: 6328 223a 6964 6561 3a20 5472 793a 2066  c(":idea: Try: f
+00024e50: 6972 6566 6f78 2073 6365 6e65 2e68 746d  irefox scene.htm
+00024e60: 6c22 2c20 633d 2262 6c75 6522 290a 0a20  l", c="blue").. 
+00024e70: 2020 2020 2020 2065 6c69 6620 6b65 7920         elif key 
+00024e80: 3d3d 2022 6922 3a20 2023 2070 7269 6e74  == "i":  # print
+00024e90: 2069 6e66 6f0a 2020 2020 2020 2020 2020   info.          
+00024ea0: 2020 6966 2073 656c 662e 636c 6963 6b65    if self.clicke
+00024eb0: 645f 6163 746f 723a 0a20 2020 2020 2020  d_actor:.       
+00024ec0: 2020 2020 2020 2020 2075 7469 6c73 2e70           utils.p
+00024ed0: 7269 6e74 5f69 6e66 6f28 7365 6c66 2e63  rint_info(self.c
+00024ee0: 6c69 636b 6564 5f61 6374 6f72 290a 2020  licked_actor).  
+00024ef0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00024f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024f10: 7574 696c 732e 7072 696e 745f 696e 666f  utils.print_info
+00024f20: 2873 656c 6629 0a0a 2020 2020 2020 2020  (self)..        
+00024f30: 656c 6966 206b 6579 203d 3d20 2249 223a  elif key == "I":
+00024f40: 2020 2320 7072 696e 7420 636f 6c6f 7220    # print color 
+00024f50: 756e 6465 7220 7468 6520 6d6f 7573 650a  under the mouse.
+00024f60: 2020 2020 2020 2020 2020 2020 782c 2079              x, y
+00024f70: 203d 2069 7265 6e2e 4765 7445 7665 6e74   = iren.GetEvent
+00024f80: 506f 7369 7469 6f6e 2829 0a20 2020 2020  Position().     
+00024f90: 2020 2020 2020 2073 656c 662e 636f 6c6f         self.colo
+00024fa0: 725f 7069 636b 6572 285b 782c 2079 5d2c  r_picker([x, y],
+00024fb0: 2076 6572 626f 7365 3d54 7275 6529 0a0a   verbose=True)..
+00024fc0: 2020 2020 2020 2020 656c 6966 206b 6579          elif key
+00024fd0: 203d 3d20 2279 223a 0a20 2020 2020 2020   == "y":.       
+00024fe0: 2020 2020 2069 6620 7365 6c66 2e63 6c69       if self.cli
+00024ff0: 636b 6564 5f61 6374 6f72 2061 6e64 2073  cked_actor and s
+00025000: 656c 662e 636c 6963 6b65 645f 6163 746f  elf.clicked_acto
+00025010: 722e 7069 7065 6c69 6e65 3a0a 2020 2020  r.pipeline:.    
+00025020: 2020 2020 2020 2020 2020 2020 2320 7365              # se
+00025030: 6c66 2e63 6c69 636b 6564 5f61 6374 6f72  lf.clicked_actor
+00025040: 2e70 6970 656c 696e 6520 3d20 2075 7469  .pipeline =  uti
+00025050: 6c73 2e4f 7065 7261 7469 6f6e 4e6f 6465  ls.OperationNode
+00025060: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00025070: 2020 2320 2020 2020 2020 2020 2273 686f    #         "sho
+00025080: 7722 2c20 7061 7265 6e74 733d 5b73 656c  w", parents=[sel
+00025090: 662e 636c 6963 6b65 645f 6163 746f 725d  f.clicked_actor]
+000250a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000250b0: 2020 2320 2020 2020 2020 2020 7368 6170    #         shap
+000250c0: 653d 2263 6972 636c 6522 2c0a 2020 2020  e="circle",.    
+000250d0: 2020 2020 2020 2020 2020 2020 2320 290a              # ).
+000250e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250f0: 7365 6c66 2e63 6c69 636b 6564 5f61 6374  self.clicked_act
+00025100: 6f72 2e70 6970 656c 696e 652e 7368 6f77  or.pipeline.show
+00025110: 2829 0a0a 2020 2020 2020 2020 6966 2069  ()..        if i
+00025120: 7265 6e3a 0a20 2020 2020 2020 2020 2020  ren:.           
+00025130: 2069 7265 6e2e 5265 6e64 6572 2829 0a     iren.Render().
```

### Comparing `vedo-2023.4.4/vedo/pointcloud.py` & `vedo-2023.4.5/vedo/pointcloud.py`

 * *Files 2% similar despite different names*

```diff
@@ -88,15 +88,15 @@
         cprp = vtk.vtkProperty()
         cprp.DeepCopy(acts[0].GetProperty())
         msh.SetProperty(cprp)
         msh.property = cprp
 
     msh.pipeline = utils.OperationNode(
         "merge", parents=acts,
-        comment=f"#pts {msh._data.GetNumberOfPoints()}",
+        comment=f"#pts {msh.inputdata().GetNumberOfPoints()}",
     )
     return msh
 
 
 ####################################################
 def visible_points(mesh, area=(), tol=None, invert=False):
     """
@@ -147,15 +147,15 @@
     svp.Update()
 
     m = Points(svp.GetOutput()).pointSize(5)
     m.name = "VisiblePoints"
     return m
 
 
-def delaunay2d(plist, mode="scipy", boundaries=(), tol=None, alpha=0, offset=0, transform=None):
+def delaunay2d(plist, mode="scipy", boundaries=(), tol=None, alpha=0.0, offset=0.0, transform=None):
     """
     Create a mesh from points in the XY plane.
     If `mode='fit'` then the filter computes a best fitting
     plane and projects the points onto it.
 
     Arguments:
         tol : (float)
@@ -225,21 +225,21 @@
 
     if mode == "fit":
         delny.SetProjectionPlaneMode(vtk.VTK_BEST_FITTING_PLANE)
     delny.Update()
     msh = vedo.mesh.Mesh(delny.GetOutput()).clean().lighting("off")
 
     msh.pipeline = utils.OperationNode(
-        "delaunay2d", parents=parents, 
-        comment=f"#cells {msh._data.GetNumberOfCells()}",
+        "delaunay2d", parents=parents,
+        comment=f"#cells {msh.inputdata().GetNumberOfCells()}"
     )
     return msh
 
 
-def voronoi(pts, padding=0, fit=False, method="vtk"):
+def voronoi(pts, padding=0.0, fit=False, method="vtk"):
     """
     Generate the 2D Voronoi convex tiling of the input points (z is ignored).
     The points are assumed to lie in a plane. The output is a Mesh. Each output cell is a convex polygon.
 
     The 2D Voronoi tessellation is a tiling of space, where each Voronoi tile represents the region nearest
     to one of the input points. Voronoi tessellations are important in computational geometry
     (and many other fields), and are the dual of Delaunay triangulations.
@@ -289,15 +289,15 @@
         regs = []  # filter out invalid indices
         for r in vor.regions:
             flag = True
             for x in r:
                 if x < 0:
                     flag = False
                     break
-            if flag and len(r):
+            if flag and len(r) > 0:
                 regs.append(r)
 
         m = vedo.Mesh([vor.vertices, regs], c="orange5")
         m.celldata["VoronoiID"] = np.array(list(range(len(regs)))).astype(int)
         m.locator = None
 
     elif method == "vtk":
@@ -539,15 +539,15 @@
     except:
         C, residue, rank, _ = np.linalg.lstsq(A, f)  # solve AC=f
     if rank < 4:
         return None
     t = (C[0] * C[0]) + (C[1] * C[1]) + (C[2] * C[2]) + C[3]
     radius = np.sqrt(t)[0]
     center = np.array([C[0][0], C[1][0], C[2][0]])
-    if len(residue):
+    if len(residue) > 0:
         residue = np.sqrt(residue[0]) / n
     else:
         residue = 0
     sph = vedo.shapes.Sphere(center, radius, c=(1, 0, 0)).wireframe(1)
     sph.radius = radius
     sph.center = center
     sph.residue = residue
@@ -696,52 +696,55 @@
     elli.axis3 /= np.linalg.norm(elli.axis3)
     elli.transformation = vtra
     elli.name = "PCAEllipsoid"
     return elli
 
 
 ###################################################
-def Point(pos=(0, 0, 0), r=12, c="red", alpha=1):
+def Point(pos=(0, 0, 0), r=12, c="red", alpha=1.0):
     """
     Create a simple point in space.
 
     .. note:: if you are creating many points you should definitely use class `Points` instead!
     """
     if isinstance(pos, vtk.vtkActor):
         pos = pos.GetPosition()
     pd = utils.buildPolyData([[0, 0, 0]])
     if len(pos) == 2:
         pos = (pos[0], pos[1], 0.0)
-    pt = Points(pd, c, alpha, r)
+    pt = Points(pd, r, c, alpha)
     pt.SetPosition(pos)
     pt.name = "Point"
     return pt
 
 
 ###################################################
 class Points(BaseActor, vtk.vtkActor):
     """Work with pointclouds."""
 
-    def __init__(
-        self, inputobj=None, c=(0.2, 0.2, 0.2), alpha=1, r=4,
-    ):
+    def __init__(self, inputobj=None, r=4, c=(0.2, 0.2, 0.2), alpha=1, blur=False, emissive=True):
         """
         Build an object made of only vertex points for a list of 2D/3D points.
         Both shapes (N, 3) or (3, N) are accepted as input, if N>3.
         For very large point clouds a list of colors and alpha can be assigned to each
         point in the form c=[(R,G,B,A), ... ] where 0<=R<256, ... 0<=A<256.
 
         Arguments:
             inputobj : (list, tuple)
+            r : (int)
+                Point radius in units of pixels.
             c : (str, list)
                 Color name or rgb tuple.
             alpha : (float)
                 Transparency in range [0,1].
-            r : (int)
-                Point radius in units of pixels.
+            blur : (bool)
+                Apply a gaussian convolution filter to the points.
+                In this case the radius `r` is in absolute units of the mesh coordinates.
+            emissive : (bool)
+                Halo of point becomes emissive.
 
         Example:
             ```python
             from vedo import *
 
             def fibonacci_sphere(n):
                 s = np.linspace(0, n, num=n, endpoint=False)
@@ -758,27 +761,51 @@
         """
 
         vtk.vtkActor.__init__(self)
         BaseActor.__init__(self)
 
         self._data = None
 
-        self._mapper = vtk.vtkPolyDataMapper()
+        if blur:
+            self._mapper = vtk.vtkPointGaussianMapper()
+            if emissive:
+                self._mapper.SetEmissive(bool(emissive))
+            self._mapper.SetScaleFactor(r * 1.4142)
+
+            # https://kitware.github.io/vtk-examples/site/Python/Meshes/PointInterpolator/
+            if alpha < 1:
+                self._mapper.SetSplatShaderCode(
+                    "//VTK::Color::Impl\n"
+                    "float dist = dot(offsetVCVSOutput.xy,offsetVCVSOutput.xy);\n"
+                    "if (dist > 1.0) {\n"
+                    "   discard;\n"
+                    "} else {\n"
+                    f"  float scale = ({alpha} - dist);\n"
+                    "   ambientColor *= scale;\n"
+                    "   diffuseColor *= scale;\n"
+                    "}\n"
+                )
+                alpha = 1
+
+        else:
+            self._mapper = vtk.vtkPolyDataMapper()
         self.SetMapper(self._mapper)
 
         self._bfprop = None  # backface property holder
 
         self._scals_idx = 0  # index of the active scalar changed from CLI
         self._ligthingnr = 0  # index of the lighting mode changed from CLI
         self._cmap_name = ""  # remember the name for self._keypress
         # self.name = "Points" # better not to give it a name here
 
         self.property = self.GetProperty()
+
         try:
-            self.property.RenderPointsAsSpheresOn()
+            if not blur:
+                self.property.RenderPointsAsSpheresOn()
         except AttributeError:
             pass
 
         if inputobj is None:  ####################
             self._data = vtk.vtkPolyData()
             return
         ########################################
@@ -866,17 +893,17 @@
                 if utils.is_sequence(cols):
                     c = None
                     if len(cols[0]) == 4:
                         for i in range(n):  # FAST
                             rc, gc, bc, ac = cols[i]
                             ucols.InsertNextTuple4(rc, gc, bc, ac)
                     else:
-                        for i in range(n): # SLOW
-                            rc,gc,bc = colors.get_color(cols[i])
-                            ucols.InsertNextTuple4(rc*255, gc*255, bc*255, alphas[i]*255)
+                        for i in range(n):  # SLOW
+                            rc, gc, bc = colors.get_color(cols[i])
+                            ucols.InsertNextTuple4(rc * 255, gc * 255, bc * 255, alphas[i] * 255)
                 else:
                     c = cols
 
                 pd.GetPointData().AddArray(ucols)
                 pd.GetPointData().SetActiveScalars("Points_RGBA")
                 self._mapper.SetInputData(pd)
                 self._mapper.ScalarVisibilityOn()
@@ -889,21 +916,21 @@
                 c = colors.get_color(c)
                 self.property.SetColor(c)
                 self.property.SetOpacity(alpha)
                 self._data = pd
 
             ##########
             self.pipeline = utils.OperationNode(
-                self, parents=[], comment=f"#pts {self._data.GetNumberOfPoints()}",
+                self, parents=[], comment=f"#pts {self._data.GetNumberOfPoints()}"
             )
             return
             ##########
 
         elif isinstance(inputobj, str):
-            verts = vedo.io.load(inputobj)
+            verts = vedo.file_io.load(inputobj)
             self.filename = inputobj
             self._data = verts.polydata()
 
         else:
 
             # try to extract the points from the VTK input data object
             try:
@@ -926,22 +953,22 @@
         c = colors.get_color(c)
         self.property.SetColor(c)
         self.property.SetOpacity(alpha)
 
         self._mapper.SetInputData(self._data)
 
         self.pipeline = utils.OperationNode(
-            self, parents=[], comment=f"#pts {self._data.GetNumberOfPoints()}",
+            self, parents=[], comment=f"#pts {self._data.GetNumberOfPoints()}"
         )
         return
 
     def _repr_html_(self):
         """
         HTML representation of the Point cloud object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -952,61 +979,65 @@
         im = Image.fromarray(arr)
         buffered = io.BytesIO()
         im.save(buffered, format="PNG", quality=100)
         encoded = base64.b64encode(buffered.getvalue()).decode("utf-8")
         url = "data:image/png;base64," + encoded
         image = f"<img src='{url}'></img>"
 
-        # mesh statisitics
         bounds = "<br/>".join(
             [
-                utils.precision(min_x,4) + " ... " + utils.precision(max_x,4)
+                utils.precision(min_x, 4) + " ... " + utils.precision(max_x, 4)
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
         average_size = "{size:.3f}".format(size=self.average_size())
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         pdata = ""
         if self._data.GetPointData().GetScalars():
             if self._data.GetPointData().GetScalars().GetName():
                 name = self._data.GetPointData().GetScalars().GetName()
                 pdata = "<tr><td><b> point data array </b></td><td>" + name + "</td></tr>"
 
         cdata = ""
         if self._data.GetCellData().GetScalars():
             if self._data.GetCellData().GetScalars().GetName():
                 name = self._data.GetCellData().GetScalars().GetName()
                 cdata = "<tr><td><b> cell data array </b></td><td>" + name + "</td></tr>"
 
-        all = [
+        allt = [
             "<table>",
-            "<tr>", 
-            "<td>", image, "</td>",
-            "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
+            "<tr>",
+            "<td>",
+            image,
+            "</td>",
+            "<td style='text-align: center; vertical-align: center;'><br/>",
+            help_text,
             "<table>",
             "<tr><td><b> bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
-            "<tr><td><b> center of mass </b></td><td>" + utils.precision(self.center_of_mass(),3) + "</td></tr>",
+            "<tr><td><b> center of mass </b></td><td>"
+            + utils.precision(self.center_of_mass(), 3)
+            + "</td></tr>",
             "<tr><td><b> average size </b></td><td>" + str(average_size) + "</td></tr>",
             "<tr><td><b> nr. points </b></td><td>" + str(self.npoints) + "</td></tr>",
             pdata,
             cdata,
             "</table>",
             "</table>",
         ]
-        return "\n".join(all)
+        return "\n".join(allt)
 
 
     ##################################################################################
     def _update(self, polydata):
         # Overwrite the polygonal mesh with a new vtkPolyData
         self._data = polydata
         self.mapper().SetInputData(polydata)
@@ -1056,18 +1087,14 @@
             tp.SetInputData(self._data)
             tp.Update()
             return tp.GetOutput()
 
         return self._data
 
 
-    def vertices(self, pts=None, transformed=True):
-        """Alias for `points()`."""
-        return self.points(pts, transformed)
-
     def clone(self, deep=True, transformed=False):
         """
         Clone a `PointCloud` or `Mesh` object to make an exact copy of it.
 
         Arguments:
             deep : (bool)
                 if False only build a shallow copy of the object (faster copy).
@@ -1121,29 +1148,30 @@
         lsr = sm.GetUseLookupTableScalarRange()
         mp.SetUseLookupTableScalarRange(lsr)
         mp.SetScalarMode(sm.GetScalarMode())
         lut = sm.GetLookupTable()
         if lut:
             mp.SetLookupTable(lut)
 
+        if self.GetTexture():
+            cloned.texture(self.GetTexture())
+
         cloned.SetPickable(self.GetPickable())
 
         cloned.base = np.array(self.base)
         cloned.top = np.array(self.top)
         cloned.name = str(self.name)
         cloned.filename = str(self.filename)
         cloned.info = dict(self.info)
 
         # better not to share the same locators with original obj
         cloned.point_locator = None
         cloned.cell_locator = None
 
-        cloned.pipeline = utils.OperationNode(
-            "clone", parents=[self], shape='diamond', c='#edede9',
-        )
+        cloned.pipeline = utils.OperationNode("clone", parents=[self], shape="diamond", c="#edede9")
         return cloned
 
     def clone2d(
         self,
         pos=(0, 0),
         coordsys=4,
         scale=None,
@@ -1233,15 +1261,15 @@
         if sendback:
             act2d.GetProperty().SetDisplayLocationToBackground()
 
         # print(csys.GetCoordinateSystemAsString())
         # print(act2d.GetHeight(), act2d.GetWidth(), act2d.GetLayerNumber())
         return act2d
 
-    def add_trail(self, offset=(0, 0, 0), n=50, c=None, alpha=1, lw=2):
+    def add_trail(self, offset=(0, 0, 0), n=50, c=None, alpha=1.0, lw=2):
         """
         Add a trailing line to mesh.
         This new mesh is accessible through `mesh.trail`.
 
         Arguments:
             offset : (float)
                 set an offset vector from the object center.
@@ -1268,35 +1296,125 @@
             else:
                 col = colors.get_color(c)
 
             tline = vedo.shapes.Line(pos, pos, res=n, c=col, alpha=alpha, lw=lw)
             self.trail = tline  # holds the Line
         return self
 
-    def _update_trail(self):
+    def update_trail(self):
+        """
+        Update the trailing line of a moving object.
+        """
         if isinstance(self, vedo.shapes.Arrow):
             currentpos = self.tipPoint()  # the tip of Arrow
         else:
             currentpos = np.array(self.GetPosition())
 
         self.trail_points.append(currentpos)  # cycle
         self.trail_points.pop(0)
 
         data = np.array(self.trail_points) - currentpos + self.trail_offset
         tpoly = self.trail.polydata(False)
         tpoly.GetPoints().SetData(utils.numpy2vtk(data, dtype=np.float32))
         self.trail.SetPosition(currentpos)
+        return self
+
+
+    def _compute_shadow(self, plane, point, direction):
+        shad = self.clone()
+        shad._data.GetPointData().SetTCoords(None) # remove any texture coords
+        shad.name = "Shadow"
+
+        pts = shad.points()
+        if plane == 'x':
+            # shad = shad.project_on_plane('x')
+            # instead do it manually so in case of alpha<1 
+            # we dont see glitches due to coplanar points
+            # we leave a small tolerance of 0.1% in thickness
+            x0, x1 = self.xbounds()
+            pts[:, 0] = (pts[:, 0] - (x0 + x1) / 2) / 1000 + self.GetOrigin()[0]
+            shad.points(pts)
+            shad.x(point)
+        elif plane == 'y':
+            x0, x1 = self.ybounds()
+            pts[:, 1] = (pts[:, 1] - (x0 + x1) / 2) / 1000 + self.GetOrigin()[1]
+            shad.points(pts)
+            shad.y(point)
+        elif plane == "z":
+            x0, x1 = self.zbounds()
+            pts[:, 2] = (pts[:, 2] - (x0 + x1) / 2) / 1000 + self.GetOrigin()[2]
+            shad.points(pts)
+            shad.z(point)
+        else:
+            shad = shad.project_on_plane(plane, point, direction)
+        return shad
+
+    def add_shadow(self, plane, point, direction=None, c=(0.6, 0.6, 0.6), alpha=1, culling=0):
+        """
+        Generate a shadow out of an `Mesh` on one of the three Cartesian planes.
+        The output is a new `Mesh` representing the shadow.
+        This new mesh is accessible through `mesh.shadow`.
+        By default the shadow mesh is placed on the bottom wall of the bounding box.
+
+        See also `pointcloud.project_on_plane()`.
+
+        Arguments:
+            plane : (str, Plane)
+                if plane is `str`, plane can be one of `['x', 'y', 'z']`,
+                represents x-plane, y-plane and z-plane, respectively.
+                Otherwise, plane should be an instance of `vedo.shapes.Plane`
+            point : (float, array)
+                if plane is `str`, point should be a float represents the intercept.
+                Otherwise, point is the camera point of perspective projection
+            direction : (list)
+                direction of oblique projection
+            culling : (int)
+                choose between front [1] or backface [-1] culling or None.
+
+        Examples:
+            - [shadow1.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/shadow1.py)
+            - [airplane1.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/airplane1.py)
+            - [airplane2.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/airplane2.py)
+
+            ![](https://vedo.embl.es/images/simulations/57341963-b8910900-713c-11e9-898a-84b6d3712bce.gif)
+        """
+        shad = self._compute_shadow(plane, point, direction)
+        shad.c(c).alpha(alpha)
+
+        try:
+            # Points dont have these methods
+            shad.flat()
+            if culling in (1, True):
+                shad.frontface_culling()
+            elif culling == -1:
+                shad.backface_culling()
+        except AttributeError:
+            pass
+
+        shad.GetProperty().LightingOff()
+        shad.SetPickable(False)
+        shad.SetUseBounds(True)
+
+        if shad not in self.shadows:
+            self.shadows.append(shad)
+            shad.info = dict(plane=plane, point=point, direction=direction)
+        return self
+
+    def update_shadows(self):
+        """
+        Update the shadows of a moving object.
+        """
+        for sha in self.shadows:
+            plane = sha.info['plane']
+            point = sha.info['point']
+            direction = sha.info['direction']
+            new_sha = self._compute_shadow(plane, point, direction)
+            sha._update(new_sha._data)
+        return self
 
-    def _update_shadows(self):
-        shadows = self.shadows
-        self.shadows = []
-        for sha in shadows:
-            color = sha.GetProperty().GetColor()
-            opacity = sha.GetProperty().GetOpacity()
-            self.add_shadow(**sha.info, c=color, alpha=opacity)
 
     def delete_cells_by_point_index(self, indices):
         """
         Delete a list of vertices identified by any of their vertex index.
 
         See also `delete_cells()`.
 
@@ -1313,16 +1431,15 @@
             data.GetPointCells(i, cell_ids)
             for j in range(cell_ids.GetNumberOfIds()):
                 data.DeleteCell(cell_ids.GetId(j))  # flag cell
                 n += 1
 
         data.RemoveDeletedCells()
         self.mapper().Modified()
-        self.pipeline = utils.OperationNode(
-            f"delete {n} cells\nby point index", parents=[self])
+        self.pipeline = utils.OperationNode(f"delete {n} cells\nby point index", parents=[self])
         return self
 
     def compute_normals_with_pca(self, n=20, orientation_point=None, invert=False):
         """
         Generate point normals using PCA (principal component analysis).
         Basically this estimates a local tangent plane around each sample point p
         by considering a small neighborhood of points around p, and fitting a plane
@@ -1354,18 +1471,18 @@
         pcan.Update()
 
         varr = pcan.GetOutput().GetPointData().GetNormals()
         varr.SetName("Normals")
         self.inputdata().GetPointData().SetNormals(varr)
         self.inputdata().GetPointData().Modified()
         return self
-    
-    def compute_acoplanarity(self, n=25, radius=None, on='points'):
+
+    def compute_acoplanarity(self, n=25, radius=None, on="points"):
         """
-        Compute acoplanarity which is a measure of how much a local region of the mesh 
+        Compute acoplanarity which is a measure of how much a local region of the mesh
         differs from a plane.
         The information is stored in a `pointdata` or `celldata` array with name 'Acoplanarity'.
         Either `n` (number of neighbour points) or `radius` (radius of local search) can be specified.
         If a radius value is given and not enough points fall inside it, then a -1 is stored.
 
         Example:
             ```python
@@ -1374,47 +1491,42 @@
             msh.compute_acoplanarity(radius=0.1, on='cells')
             msh.cmap("coolwarm", on='cells').add_scalarbar()
             msh.show(axes=1).close()
             ```
             ![](https://vedo.embl.es/images/feats/acoplanarity.jpg)
         """
         acoplanarities = []
-        if 'point'  in on:
+        if "point" in on:
             pts = self.points()
-        elif 'cell' in on:
+        elif "cell" in on:
             pts = self.cell_centers()
         else:
             raise ValueError(f"In compute_acoplanarity() set on to either 'cells' or 'points', not {on}")
 
-        for p in utils.progressbar(pts, delay=5, width=15, title=f'{on} acoplanarity'):
+        for p in utils.progressbar(pts, delay=5, width=15, title=f"{on} acoplanarity"):
             if n:
                 data = self.closest_point(p, n=n)
                 npts = n
             elif radius:
                 data = self.closest_point(p, radius=radius)
                 npts = len(data)
 
             try:
                 center = data.mean(axis=0)
                 res = np.linalg.svd(data - center)
-                acoplanarities.append(res[1][2]/npts)
+                acoplanarities.append(res[1][2] / npts)
             except:
                 acoplanarities.append(-1.0)
 
-        if 'point'  in on:
+        if "point" in on:
             self.pointdata["Acoplanarity"] = np.array(acoplanarities, dtype=float)
         else:
             self.celldata["Acoplanarity"] = np.array(acoplanarities, dtype=float)
         return self
 
-    @deprecated(reason=vedo.colors.red + "Please use distance_to()" + vedo.colors.reset)
-    def distanceTo(self, pcloud, signed=False, invert=False, name="Distance"):
-        "Please use `distance_to()`."
-        return self.distance_to(pcloud, signed, invert, name)
-
     def distance_to(self, pcloud, signed=False, invert=False, name="Distance"):
         """
         Computes the distance from one point cloud or mesh to another point cloud or mesh.
         This new `pointdata` array is saved with default name "Distance".
 
         Keywords `signed` and `invert` are used to compute signed distance,
         but the mesh in that case must have polygonal faces (not a simple point cloud),
@@ -1462,18 +1574,18 @@
 
         scals.SetName(name)
         self.inputdata().GetPointData().AddArray(scals)  # must be self.inputdata() !
         self.inputdata().GetPointData().SetActiveScalars(scals.GetName())
         rng = scals.GetRange()
         self.mapper().SetScalarRange(rng[0], rng[1])
         self.mapper().ScalarVisibilityOn()
-        
+
         self.pipeline = utils.OperationNode(
-            "distance_to", 
-            parents=[self, pcloud], 
+            "distance_to",
+            parents=[self, pcloud],
             shape="cylinder",
             comment=f"#pts {self._data.GetNumberOfPoints()}",
         )
         return dists
 
     def alpha(self, opacity=None):
         """Set/get mesh's transparency. Same as `mesh.opacity()`."""
@@ -1502,31 +1614,19 @@
         return self
 
     def force_translucent(self, value=True):
         """ Force the Mesh, Line or point cloud to be treated as translucent"""
         self.SetForceTranslucent(value)
         return self
 
-    def occlusion(self, value=None):
-        """Occlusion strength in range [0,1]."""
-        if value is None:
-            return self.GetProperty().GetOcclusionStrength()
-        self.GetProperty().SetOcclusionStrength(value)
-        return self
-
-
-    @deprecated(reason=vedo.colors.red + "Please use point_size()" + vedo.colors.reset)
-    def pointSize(self, value):
-        "Deprecated. Please use `point_size()`."
-        return self.point_size(value)
-
-    def point_size(self, value):
+    def point_size(self, value=None):
         """Set/get mesh's point size of vertices. Same as `mesh.ps()`"""
-        if not value:
-            self.GetProperty().SetRepresentationToSurface()
+        if value is None:
+            return self.GetProperty().GetPointSize()
+            #self.GetProperty().SetRepresentationToSurface()
         else:
             self.GetProperty().SetRepresentationToPoints()
             self.GetProperty().SetPointSize(value)
         return self
 
     def ps(self, pointsize=None):
         """Set/get mesh's point size of vertices. Same as `mesh.point_size()`"""
@@ -1568,16 +1668,16 @@
         cpd.ConvertPolysToLinesOn()
         cpd.ConvertStripsToPolysOn()
         cpd.SetInputData(self.inputdata())
         cpd.Update()
         out = self._update(cpd.GetOutput())
 
         out.pipeline = utils.OperationNode(
-            "clean", parents=[self], 
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+            "clean", parents=[self],
+            comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     def subsample(self, fraction, absolute=False):
         """
         Subsample a point cloud by requiring that the points
         or vertices are far apart at least by the specified fraction of the object size.
@@ -1591,40 +1691,41 @@
 
             - [recosurface.py](https://github.com/marcomusy/vedo/tree/master/examples/advanced/recosurface.py)
 
                 ![](https://vedo.embl.es/images/advanced/recosurface.png)
         """
         if not absolute:
             if fraction > 1:
-                vedo.logger.warning(f"subsample(fraction=...), fraction must be < 1, but is {fraction}")
+                vedo.logger.warning(
+                    f"subsample(fraction=...), fraction must be < 1, but is {fraction}"
+                )
             if fraction <= 0:
                 return self
 
         cpd = vtk.vtkCleanPolyData()
         cpd.PointMergingOn()
         cpd.ConvertLinesToPointsOn()
         cpd.ConvertPolysToLinesOn()
         cpd.ConvertStripsToPolysOn()
         cpd.SetInputData(self.inputdata())
         if absolute:
-            cpd.SetTolerance(fraction/self.diagonal_size())
+            cpd.SetTolerance(fraction / self.diagonal_size())
             # cpd.SetToleranceIsAbsolute(absolute)
         else:
             cpd.SetTolerance(fraction)
         cpd.Update()
 
         ps = 2
         if self.GetProperty().GetRepresentation() == 0:
             ps = self.GetProperty().GetPointSize()
-        
+
         out = self._update(cpd.GetOutput()).ps(ps)
 
         out.pipeline = utils.OperationNode(
-            "subsample", parents=[self],
-            comment=f"#pts {out._data.GetNumberOfPoints()}",
+            "subsample", parents=[self], comment=f"#pts {out.inputdata().GetNumberOfPoints()}"
         )
         return out
 
     def threshold(self, scalars, above=None, below=None, on="points"):
         """
         Extracts cells where scalar value satisfies threshold criterion.
 
@@ -1686,20 +1787,14 @@
         coords = self.points()
         cm = np.mean(coords, axis=0)
         if coords.shape[0] == 0:
             return 0.0
         cc = coords - cm
         return np.mean(np.linalg.norm(cc, axis=1))
 
-
-    @deprecated(reason=vedo.colors.red + "Please use center_of_mass()" + vedo.colors.reset)
-    def centerOfMass(self):
-        "Deprecated. Please use `center_of_mass()`"
-        return self.center_of_mass()
-
     def center_of_mass(self):
         """Get the center of mass of mesh."""
         cmf = vtk.vtkCenterOfMass()
         cmf.SetInputData(self.polydata())
         cmf.Update()
         c = cmf.GetCenter()
         return np.array(c)
@@ -1740,24 +1835,24 @@
         return utils.vtk2numpy(vtknormals)
 
     def labels(
         self,
         content=None,
         on="points",
         scale=None,
-        xrot=0,
-        yrot=0,
-        zrot=0,
+        xrot=0.0,
+        yrot=0.0,
+        zrot=0.0,
         ratio=1,
         precision=None,
         italic=False,
         font="",
         justify="bottom-left",
         c="black",
-        alpha=1,
+        alpha=1.0,
         cells=None,
     ):
         """
         Generate value or ID labels for mesh cells or points.
         For large nr. of labels use `font="VTK"` which is much faster.
 
         See also:
@@ -1795,29 +1890,29 @@
         if cells is not None:  # deprecation message
             vedo.logger.warning("In labels(cells=...) please use labels(on='cells') instead")
 
         if "cell" in on or "face" in on:
             cells = True
 
         if isinstance(content, str):
-            if content in ('cellid', 'cellsid'):
+            if content in ("cellid", "cellsid"):
                 cells = True
                 content = "id"
 
         if cells:
             elems = self.cell_centers()
             norms = self.normals(cells=True, recompute=False)
             ns = np.sqrt(self.ncells)
         else:
             elems = self.points()
             norms = self.normals(cells=False, recompute=False)
             ns = np.sqrt(self.npoints)
 
         hasnorms = False
-        if len(norms):
+        if len(norms) > 0:
             hasnorms = True
 
         if scale is None:
             if not ns:
                 ns = 100
             scale = self.diagonal_size() / ns / 10
 
@@ -1926,31 +2021,32 @@
             tapp.Update()
             lpoly = tapp.GetOutput()
         else:  # return an empty obj
             lpoly = vtk.vtkPolyData()
 
         ids = vedo.mesh.Mesh(lpoly, c=c, alpha=alpha)
         ids.GetProperty().LightingOff()
+        ids.PickableOff()
         ids.SetUseBounds(False)
         return ids
 
     def labels2d(
-            self,
-            content="id",
-            on="points",
-            scale=1,
-            precision=4,
-            font="Calco",
-            justify="bottom-left",
-            angle=0,
-            frame=False,
-            c="black",
-            bc=None,
-            alpha=1,
-        ):
+        self,
+        content="id",
+        on="points",
+        scale=1.0,
+        precision=4,
+        font="Calco",
+        justify="bottom-left",
+        angle=0.0,
+        frame=False,
+        c="black",
+        bc=None,
+        alpha=1.0,
+    ):
         """
         Generate value or ID bi-dimensional labels for mesh cells or points.
 
         See also: `labels()`, `flagpole()`, `caption()` and `legend()`.
 
         Arguments:
             content : (str)
@@ -1975,46 +2071,46 @@
         l2d = sph.labels("zvals", on="cells", precision=2).backcolor('orange9')
         show(sph, l2d, axes=1).close()
         ```
         ![](https://vedo.embl.es/images/feats/labels2d.png)
         """
         cells = False
         if isinstance(content, str):
-            if content in ('cellid', 'cellsid'):
+            if content in ("cellid", "cellsid"):
                 cells = True
                 content = "id"
-        
+
         if "cell" in on:
             cells = True
         elif "point" in on:
             cells = False
 
         if cells:
-            if content != 'id' and content not in self.celldata.keys():
-                vedo.logger.error(f"In labels2D: cell array {content} does not exist.")
+            if content != "id" and content not in self.celldata.keys():
+                vedo.logger.error(f"In labels2d: cell array {content} does not exist.")
                 return None
             cellcloud = Points(self.cell_centers())
             arr = self.inputdata().GetCellData().GetScalars()
             poly = cellcloud.polydata(False)
             poly.GetPointData().SetScalars(arr)
         else:
             poly = self.polydata()
-            if content != 'id' and content not in self.pointdata.keys():
-                vedo.logger.error(f"In labels2D: point array {content} does not exist.")
+            if content != "id" and content not in self.pointdata.keys():
+                vedo.logger.error(f"In labels2d: point array {content} does not exist.")
                 return None
             self.pointdata.select(content)
 
         mp = vtk.vtkLabeledDataMapper()
 
-        if content == 'id':
+        if content == "id":
             mp.SetLabelModeToLabelIds()
         else:
             mp.SetLabelModeToLabelScalars()
             if precision is not None:
-                mp.SetLabelFormat(f'%-#.{precision}g')
+                mp.SetLabelFormat(f"%-#.{precision}g")
 
         pr = mp.GetLabelTextProperty()
         c = colors.get_color(c)
         pr.SetColor(c)
         pr.SetOpacity(alpha)
         pr.SetFrame(frame)
         pr.SetFrameColor(c)
@@ -2022,15 +2118,15 @@
         pr.BoldOff()
         pr.ShadowOff()
         pr.UseTightBoundingBoxOn()
         pr.SetOrientation(angle)
         pr.SetFontFamily(vtk.VTK_FONT_FILE)
         fl = utils.get_font_path(font)
         pr.SetFontFile(fl)
-        pr.SetFontSize(int(20*scale))
+        pr.SetFontSize(int(20 * scale))
 
         if "cent" in justify or "mid" in justify:
             pr.SetJustificationToCentered()
         elif "rig" in justify:
             pr.SetJustificationToRight()
         elif "left" in justify:
             pr.SetJustificationToLeft()
@@ -2043,70 +2139,66 @@
         if bc is not None:
             bc = colors.get_color(bc)
             pr.SetBackgroundColor(bc)
             pr.SetBackgroundOpacity(alpha)
 
         mp.SetInputData(poly)
         a2d = vtk.vtkActor2D()
+        a2d.PickableOff()
         a2d.SetMapper(mp)
         return a2d
 
     def legend(self, txt):
         """Book a legend text."""
         self.info["legend"] = txt
         return self
 
-    @deprecated(reason=vedo.colors.red + "Please use flagpole() instead" + vedo.colors.reset)
-    def vignette(self, *args, **kwargs):
-        """Deprecated. Use `flagpole()`."""
-        return self.flagpole(*args, **kwargs)
-
     def flagpole(
         self,
         txt=None,
         point=None,
         offset=None,
         s=None,
         font="",
         rounded=True,
         c=None,
-        alpha=1,
+        alpha=1.0,
         lw=2,
-        italic=0,
+        italic=0.0,
         padding=0.1,
     ):
         """
         Generate a flag pole style element to describe an object.
         Returns a `Mesh` object.
 
         Use flagpole.follow_camera() to make it face the camera in the scene.
 
         See also `flagpost()`.
 
         Arguments:
             txt : (str)
                 Text to display. The default is the filename or the object name.
             point : (list)
-                position of the flagpole pointer. The default is None.
+                position of the flagpole pointer. 
             offset : (list)
-                text offset wrt the application point. The default is None.
+                text offset wrt the application point. 
             s : (float)
-                size of the flagpole. The default is None.
+                size of the flagpole.
             font : (str)
                 font face. Check [available fonts here](https://vedo.embl.es/fonts).
             rounded : (bool)
-                draw a rounded or squared box around the text. The default is True.
+                draw a rounded or squared box around the text.
             c : (list)
-                text and box color. The default is None.
+                text and box color.
             alpha : (float)
-                opacity of text and box. The default is 1.
+                opacity of text and box.
             lw : (float)
-                line with of box frame. The default is 2.
+                line with of box frame.
             italic : (float)
-                italicness of text. The default is 0.
+                italicness of text.
 
         Examples:
             - [intersect2d.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/intersect2d.py)
 
                 ![](https://vedo.embl.es/images/pyplot/intersect2d.png)
 
             - [goniometer.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/goniometer.py)
@@ -2144,37 +2236,36 @@
         if d and (z1 - z0) / d > 0.1:
             sph = vedo.shapes.Sphere(pt, r=s * 0.4, res=6)
 
         if c is None:
             c = np.array(self.color()) / 1.4
 
         lb = vedo.shapes.Text3D(
-            txt, pos=pt+offset, s=s, font=font,
-            italic=italic, justify="center-left",
+            txt, pos=pt + offset, s=s, font=font, italic=italic, justify="center-left"
         )
         acts.append(lb)
 
         if d and not sph:
             sph = vedo.shapes.Circle(pt, r=s / 3, res=15)
         acts.append(sph)
 
         x0, x1, y0, y1, z0, z1 = lb.GetBounds()
         if rounded:
             box = vedo.shapes.KSpline(
                 [(x0, y0, z0), (x1, y0, z0), (x1, y1, z0), (x0, y1, z0)], closed=True
             )
         else:
             box = vedo.shapes.Line(
-                [(x0,y0,z0), (x1,y0,z0), (x1,y1,z0), (x0,y1,z0), (x0,y0,z0)]
+                [(x0, y0, z0), (x1, y0, z0), (x1, y1, z0), (x0, y1, z0), (x0, y0, z0)]
             )
 
-        cnt = [(x0+x1) / 2, (y0+y1) / 2, (z0+z1) / 2]
+        cnt = [(x0 + x1) / 2, (y0 + y1) / 2, (z0 + z1) / 2]
 
         box.SetOrigin(cnt)
-        box.scale([1 + padding, 1 + 2*padding, 1])
+        box.scale([1 + padding, 1 + 2 * padding, 1])
         acts.append(box)
 
         # pts = box.points()
         # bfaces = []
         # for i, pt in enumerate(pts):
         #     if i:
         #         face = [i-1, i, 0]
@@ -2197,33 +2288,34 @@
             c1 = [x1 + (pt[0] - x1) / 4, (y0 + y1) / 2, pt[2]]
 
         con = vedo.shapes.Line([c0, c1, pt])
         acts.append(con)
 
         macts = vedo.merge(acts).c(c).alpha(alpha)
         macts.SetOrigin(pt)
-        macts.bc("t").pickable(False).GetProperty().LightingOff()
+        macts.bc("tomato").pickable(False)
+        macts.GetProperty().LightingOff()
         macts.GetProperty().SetLineWidth(lw)
         macts.UseBoundsOff()
         macts.name = "FlagPole"
         return macts
 
     def flagpost(
         self,
         txt=None,
         point=None,
         offset=None,
-        s=1,
+        s=1.0,
         c="k9",
         bc="k1",
         alpha=1,
         lw=0,
         font="Calco",
         justify="center-left",
-        vspacing=1,
+        vspacing=1.0,
     ):
         """
         Generate a flag post style element to describe an object.
 
         Arguments:
             txt : (str)
                 Text to display. The default is the filename or the object name.
@@ -2245,15 +2337,15 @@
                 font name. Use a monospace font for better rendering. The default is "Calco".
                 Type `vedo -r fonts` for a font demo.
                 Check [available fonts here](https://vedo.embl.es/fonts).
             justify : (str)
                 internal text justification. The default is "center-left".
             vspacing : (float)
                 vertical spacing between lines.
-        
+
         Examples:
             - [flag_labels2.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/other/flag_labels2.py)
 
             ![](https://vedo.embl.es/images/other/flag_labels2.png)
         """
         if txt is None:
             if self.filename:
@@ -2270,44 +2362,34 @@
                 point = self.closest_point([(x0 + x1) / 2, (y0 + y1) / 2, z1])
             else:  # it's a Point
                 point = self.GetPosition()
 
         point = utils.make3d(point)
 
         if offset is None:
-            offset = [0,0, (z1-z0)/2]
+            offset = [0, 0, (z1 - z0) / 2]
         offset = utils.make3d(offset)
 
         fpost = vedo.addons.Flagpost(
-            txt, 
-            point, 
-            point + offset,
-            s,
-            c,
-            bc,
-            alpha,
-            lw,
-            font,
-            justify,
-            vspacing,
+            txt, point, point + offset, s, c, bc, alpha, lw, font, justify, vspacing
         )
         self._caption = fpost
         return fpost
 
     def caption(
         self,
         txt=None,
         point=None,
         size=(0.30, 0.15),
         padding=5,
         font="Calco",
         justify="center-right",
-        vspacing=1,
+        vspacing=1.0,
         c=None,
-        alpha=1,
+        alpha=1.0,
         lw=1,
         ontop=True,
     ):
         """
         Add a 2D caption to an object which follows the camera movements.
         Latex is not supported. Returns the same input object for concatenation.
 
@@ -2375,15 +2457,15 @@
         capt.SetAttachmentPoint(point)
         capt.SetBorder(True)
         capt.SetLeader(True)
         sph = vtk.vtkSphereSource()
         sph.Update()
         capt.SetLeaderGlyphData(sph.GetOutput())
         capt.SetMaximumLeaderGlyphSize(5)
-        capt.SetPadding(padding)
+        capt.SetPadding(int(padding))
         capt.SetCaption(txt)
         capt.SetWidth(size[0])
         capt.SetHeight(size[1])
         capt.SetThreeDimensionalLeader(not ontop)
 
         pra = capt.GetProperty()
         pra.SetColor(c)
@@ -2416,22 +2498,15 @@
         return self
 
     @deprecated(reason=vedo.colors.red + "Please use align_to()" + vedo.colors.reset)
     def alignTo(self, *a, **b):
         "Deprecated, Please use `align_to()`."
         return self.align_to(*a, **b)
 
-    def align_to(
-            self,
-            target,
-            iters=100,
-            rigid=False,
-            invert=False,
-            use_centroids=False,
-        ):
+    def align_to(self, target, iters=100, rigid=False, invert=False, use_centroids=False):
         """
         Aligned to target mesh through the `Iterative Closest Point` algorithm.
 
         The core of the algorithm is to match each vertex in one surface with
         the closest surface point on the other, then apply the transformation
         that modify one surface to best match the other (in the least-square sense).
 
@@ -2470,28 +2545,23 @@
             M.Invert()  # icp.GetInverse() doesnt work!
         # self.apply_transform(M)
         self.SetUserMatrix(M)
 
         self.transform = self.GetUserTransform()
         self.point_locator = None
         self.cell_locator = None
-        
+
         self.pipeline = utils.OperationNode(
-            "align_to", parents=[self, target], comment=f"rigid = {rigid}",
+            "align_to", parents=[self, target], comment=f"rigid = {rigid}"
         )
         return self
 
     def transform_with_landmarks(
-            self,
-            source_landmarks,
-            target_landmarks,
-            rigid=False,
-            affine=False,
-            least_squares=False,
-        ):
+        self, source_landmarks, target_landmarks, rigid=False, affine=False, least_squares=False
+    ):
         """
         Transform mesh orientation and position based on a set of landmarks points.
         The algorithm finds the best matching of source points to target points
         in the mean least square sense, in one single step.
 
         If affine is True the x, y and z axes can scale independently but stay collinear.
         With least_squares they can vary orientation.
@@ -2539,21 +2609,21 @@
             lmt.SetModeToAffine()
             lmt.Update()
             self.SetUserTransform(lmt)
 
         elif least_squares:
             cms = source_landmarks.mean(axis=0)
             cmt = target_landmarks.mean(axis=0)
-            m = np.linalg.lstsq(source_landmarks-cms, target_landmarks-cmt, rcond=None)[0]
+            m = np.linalg.lstsq(source_landmarks - cms, target_landmarks - cmt, rcond=None)[0]
             M = vtk.vtkMatrix4x4()
             for i in range(3):
                 for j in range(3):
                     M.SetElement(j, i, m[i][j])
             lmt = vtk.vtkTransform()
-            lmt.Translate( cmt)
+            lmt.Translate(cmt)
             lmt.Concatenate(M)
             lmt.Translate(-cms)
             self.apply_transform(lmt, concatenate=True)
         else:
             self.SetUserTransform(lmt)
 
         self.transform = lmt
@@ -2612,26 +2682,26 @@
             for i in range(n):
                 for j in range(n):
                     M.SetElement(i, j, T[i][j])
             tr = vtk.vtkTransform()
             tr.SetMatrix(M)
             T = tr
 
-        if reset or not hasattr(T, 'GetScale'): # might be non-linear
+        if reset or not hasattr(T, "GetScale"):  # might be non-linear
 
             tf = vtk.vtkTransformPolyDataFilter()
             tf.SetTransform(T)
             tf.SetInputData(self.polydata())
             tf.Update()
 
             I = vtk.vtkMatrix4x4()
             self.PokeMatrix(I)  # reset to identity
             self.SetUserTransform(None)
 
-            self._update(tf.GetOutput()) ### UPDATE
+            self._update(tf.GetOutput())  ### UPDATE
             self.transform = T
 
         else:
 
             if concatenate:
 
                 M = vtk.vtkTransform()
@@ -2723,16 +2793,15 @@
             outpoly = rs.GetOutput()
 
         self.point_locator = None
         self.cell_locator = None
 
         out = self._update(outpoly)
 
-        out.pipeline = utils.OperationNode(
-            f"mirror\naxis = {axis}", parents=[self])
+        out.pipeline = utils.OperationNode(f"mirror\naxis = {axis}", parents=[self])
         return out
 
     def shear(self, x=0, y=0, z=0):
         """Apply a shear deformation along one of the main axes"""
         t = vtk.vtkTransform()
         sx, sy, sz = self.GetScale()
         t.SetMatrix([sx, x, 0, 0,
@@ -2759,16 +2828,16 @@
         input_cmap,
         input_array=None,
         on="points",
         name="Scalars",
         vmin=None,
         vmax=None,
         n_colors=256,
-        alpha=1,
-        logscale=False
+        alpha=1.0,
+        logscale=False,
     ):
         """
         Set individual point/cell colors by providing a list of scalar values and a color map.
 
         Arguments:
             input_cmap : (str, list, vtkLookupTable, matplotlib.colors.LinearSegmentedColormap)
                 color map scheme to transform a real number into a color.
@@ -2812,24 +2881,24 @@
             n = poly.GetNumberOfPoints()
         elif on.startswith("cell"):
             data = poly.GetCellData()
             n = poly.GetNumberOfCells()
         else:
             vedo.logger.error("Must specify in cmap(on=...) to either 'cells' or 'points'")
             raise RuntimeError()
-        
+
         if input_array is None:  # if None try to fetch the active scalars
             arr = data.GetScalars()
             if not arr:
                 vedo.logger.error(f"in cmap(), cannot find any {on} active array ...skip coloring.")
                 return self
 
             if not arr.GetName():  # sometimes arrays dont have a name..
                 arr.SetName(name)
-            
+
         elif isinstance(input_array, str):  # if a string is passed
             arr = data.GetArray(input_array)
             if not arr:
                 vedo.logger.error(f"in cmap(), cannot find {on} array {input_array} ...skip coloring.")
                 return self
 
         elif isinstance(input_array, int):  # if an int is passed
@@ -2873,16 +2942,16 @@
             if vmax is None:
                 vmax = vn.max()
 
         # interpolate alphas if they are not constant
         if not utils.is_sequence(alpha):
             alpha = [alpha] * n_colors
         else:
-            v = np.linspace(0,1, n_colors, endpoint=True)
-            xp = np.linspace(0,1, len(alpha), endpoint=True)
+            v = np.linspace(0, 1, n_colors, endpoint=True)
+            xp = np.linspace(0, 1, len(alpha), endpoint=True)
             alpha = np.interp(v, xp, alpha)
 
         ########################### build the look-up table
         if isinstance(input_cmap, vtk.vtkLookupTable):  # vtkLookupTable
             lut = input_cmap
 
         elif utils.is_sequence(input_cmap):  # manual sequence of colors
@@ -2918,33 +2987,28 @@
         # data.SetActiveAttribute(array_name, 0) # boh!
 
         if data.GetScalars():
             data.GetScalars().SetLookupTable(lut)
             data.GetScalars().Modified()
 
         self._mapper.SetLookupTable(lut)
-        self._mapper.SetColorModeToMapScalars() # so we dont need to convert uint8 scalars
+        self._mapper.SetColorModeToMapScalars()  # so we dont need to convert uint8 scalars
 
         self._mapper.ScalarVisibilityOn()
         self._mapper.SetScalarRange(lut.GetRange())
         if on.startswith("point"):
             self._mapper.SetScalarModeToUsePointData()
         else:
             self._mapper.SetScalarModeToUseCellData()
         if hasattr(self._mapper, "SetArrayName"):
             self._mapper.SetArrayName(array_name)
 
         return self
 
     @deprecated(reason=vedo.colors.red + "Please use property mesh.cellcolors" + vedo.colors.reset)
-    def cellIndividualColors(self, colorlist):
-        self.cellcolors = colorlist
-        return self
-
-    @deprecated(reason=vedo.colors.red + "Please use property mesh.cellcolors" + vedo.colors.reset)
     def cell_individual_colors(self, colorlist):
         self.cellcolors = colorlist
         return self
 
     @property
     def cellcolors(self):
         """
@@ -2964,19 +3028,19 @@
         """
         if "CellsRGBA" not in self.celldata.keys():
             lut = self.mapper().GetLookupTable()
             vscalars = self._data.GetCellData().GetScalars()
             if vscalars is None or lut is None:
                 arr = np.zeros([self.ncells, 4], dtype=np.uint8)
                 col = np.array(self.property.GetColor())
-                col = np.round(col*255).astype(np.uint8)
+                col = np.round(col * 255).astype(np.uint8)
                 alf = self.property.GetOpacity()
-                alf = np.round(alf*255).astype(np.uint8)
-                arr[:,(0,1,2)] = col
-                arr[:,3] = alf
+                alf = np.round(alf * 255).astype(np.uint8)
+                arr[:, (0, 1, 2)] = col
+                arr[:, 3] = alf
             else:
                 cols = lut.MapScalars(vscalars, 0, 0)
                 arr = utils.vtk2numpy(cols)
             self.celldata["CellsRGBA"] = arr
         self.celldata.select("CellsRGBA")
         return self.celldata["CellsRGBA"]
 
@@ -2990,16 +3054,16 @@
         value = np.asarray(value)
         n = self.ncells
 
         if value.ndim == 1:
             value = np.repeat([value], n, axis=0)
 
         if value.shape[1] == 3:
-            z = np.zeros((n,1), dtype=np.uint8)
-            value = np.append(value, z+255, axis=1)
+            z = np.zeros((n, 1), dtype=np.uint8)
+            value = np.append(value, z + 255, axis=1)
 
         assert n == value.shape[0]
 
         self.celldata["CellsRGBA"] = value.astype(np.uint8)
         self.celldata.select("CellsRGBA")
 
 
@@ -3016,19 +3080,19 @@
         """
         if "PointsRGBA" not in self.pointdata.keys():
             lut = self.mapper().GetLookupTable()
             vscalars = self._data.GetPointData().GetScalars()
             if vscalars is None or lut is None:
                 arr = np.zeros([self.npoints, 4], dtype=np.uint8)
                 col = np.array(self.property.GetColor())
-                col = np.round(col*255).astype(np.uint8)
+                col = np.round(col * 255).astype(np.uint8)
                 alf = self.property.GetOpacity()
-                alf = np.round(alf*255).astype(np.uint8)
-                arr[:,(0,1,2)] = col
-                arr[:,3] = alf
+                alf = np.round(alf * 255).astype(np.uint8)
+                arr[:, (0, 1, 2)] = col
+                arr[:, 3] = alf
             else:
                 cols = lut.MapScalars(vscalars, 0, 0)
                 arr = utils.vtk2numpy(cols)
             self.pointdata["PointsRGBA"] = arr
         self.pointdata.select("PointsRGBA")
         return self.pointdata["PointsRGBA"]
 
@@ -3042,39 +3106,23 @@
         value = np.asarray(value)
         n = self.npoints
 
         if value.ndim == 1:
             value = np.repeat([value], n, axis=0)
 
         if value.shape[1] == 3:
-            z = np.zeros((n,1), dtype=np.uint8)
-            value = np.append(value, z+255, axis=1)
+            z = np.zeros((n, 1), dtype=np.uint8)
+            value = np.append(value, z + 255, axis=1)
 
         assert n == value.shape[0]
 
         self.pointdata["PointsRGBA"] = value.astype(np.uint8)
         self.pointdata.select("PointsRGBA")
 
 
-    @deprecated(reason=vedo.colors.red + "Please use interpolate_data_from()" + vedo.colors.reset)
-    def interpolateDataFrom(self,
-            source,
-            radius=None,
-            N=None,
-            kernel="shepard",
-            exclude=("Normals",),
-            on="points",
-            nullStrategy=1,
-            nullValue=0,
-        ):
-        "Deprecated. Please use `interpolate_data_from()`."
-        return self.interpolate_data_from(
-            source, radius, N, kernel, exclude, on, nullStrategy, nullValue,
-        )
-
     def interpolate_data_from(
         self,
         source,
         radius=None,
         n=None,
         kernel="shepard",
         exclude=("Normals",),
@@ -3177,21 +3225,19 @@
             tr = vtk.vtkTransform()
             tr.SetMatrix(M)
             tf = vtk.vtkTransformPolyDataFilter()
             tf.SetTransform(tr)
             tf.SetInputData(cpoly)
             tf.Update()
             self._update(tf.GetOutput())
-    
-        self.pipeline = utils.OperationNode(
-            "interpolate_data_from", parents=[self, source], 
-        )
+
+        self.pipeline = utils.OperationNode("interpolate_data_from", parents=[self, source])
         return self
 
-    def add_gaussian_noise(self, sigma=1):
+    def add_gaussian_noise(self, sigma=1.0):
         """
         Add gaussian noise to point positions.
         An extra array is added named "GaussianNoise" with the shifts.
 
         Arguments:
             sigma : (float)
                 nr. of standard deviations, expressed in percent of the diagonal size of mesh.
@@ -3210,18 +3256,15 @@
         vpts = vtk.vtkPoints()
         vpts.SetNumberOfPoints(n)
         vpts.SetData(utils.numpy2vtk(pts + ns, dtype=np.float32))
         self.inputdata().SetPoints(vpts)
         self.inputdata().GetPoints().Modified()
         self.pointdata["GaussianNoise"] = -ns
         self.pipeline = utils.OperationNode(
-            "gaussian_noise", 
-            parents=[self], 
-            shape="egg",
-            comment=f"sigma = {sigma}",
+            "gaussian_noise", parents=[self], shape="egg", comment=f"sigma = {sigma}"
         )
         return self
 
     @deprecated(reason=vedo.colors.red + "Please use closest_point()" + vedo.colors.reset)
     def closestPoint(self, pt, N=1, radius=None, returnPointId=False, returnCellId=False):
         "Deprecated. Please use `closest_point()`."
         return self.closest_point(pt, N, radius, returnPointId, returnCellId)
@@ -3406,15 +3449,15 @@
             carr = vtk.vtkCellArray()
             for i in range(inputobj.GetNumberOfPoints()):
                 carr.InsertNextCell(1)
                 carr.InsertCellPoint(i)
             inputobj.SetVerts(carr)
         self._update(inputobj)
         self.mapper().ScalarVisibilityOff()
-        self.pipeline = utils.OperationNode("remove\outliers", parents=[self])
+        self.pipeline = utils.OperationNode("remove_outliers", parents=[self])
         return self
 
     def smooth_mls_1d(self, f=0.2, radius=None):
         """
         Smooth mesh or points with a `Moving Least Squares` variant.
         The point data array "Variances" will contain the residue calculated for each point.
         Input mesh's polydata is modified.
@@ -3518,17 +3561,17 @@
                     valid.append(False)
 
         self.info["variances"] = np.array(variances)
         self.info["is_valid"] = np.array(valid)
         self.points(newpts)
 
         self.pipeline = utils.OperationNode("smooth_mls_2d", parents=[self])
-        return self 
-    
-    def smooth_lloyd_2d(self, interations=2, bounds=None, options="Qbb Qc Qx"):
+        return self
+
+    def smooth_lloyd_2d(self, iterations=2, bounds=None, options="Qbb Qc Qx"):
         """Lloyd relaxation of a 2D pointcloud."""
         # Credits: https://hatarilabs.com/ih-en/
         # tutorial-to-create-a-geospatial-voronoi-sh-mesh-with-python-scipy-and-geopandas
         from scipy.spatial import Voronoi as scipy_voronoi
 
         def _constrain_points(points):
             # Update any points that have drifted beyond the boundaries of this space
@@ -3542,19 +3585,18 @@
 
         def _find_centroid(vertices):
             # The equation for the method used here to find the centroid of a
             # 2D polygon is given here: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon
             area = 0
             centroid_x = 0
             centroid_y = 0
-            for i in range(len(vertices)-1):
-                step = (vertices[i  , 0] * vertices[i+1, 1]) - \
-                    (vertices[i+1, 0] * vertices[i  , 1])
-                centroid_x += (vertices[i, 0] + vertices[i+1, 0]) * step
-                centroid_y += (vertices[i, 1] + vertices[i+1, 1]) * step
+            for i in range(len(vertices) - 1):
+                step = (vertices[i, 0] * vertices[i + 1, 1]) - (vertices[i + 1, 0] * vertices[i, 1])
+                centroid_x += (vertices[i, 0] + vertices[i + 1, 0]) * step
+                centroid_y += (vertices[i, 1] + vertices[i + 1, 1]) * step
                 area += step
             if area:
                 centroid_x = (1.0 / (3.0 * area)) * centroid_x
                 centroid_y = (1.0 / (3.0 * area)) * centroid_y
             # prevent centroids from escaping bounding box
             return _constrain_points([[centroid_x, centroid_y]])[0]
 
@@ -3574,15 +3616,15 @@
                 centroids.append(_find_centroid(verts))
             return _constrain_points(centroids)
 
         if bounds is None:
             bounds = self.bounds()
 
         pts = self.points()[:, (0, 1)]
-        for i in range(interations):
+        for i in range(iterations):
             vor = scipy_voronoi(pts, qhull_options=options)
             _constrain_points(vor.vertices)
             pts = _relax(vor)
         # m = vedo.Mesh([pts, self.faces()]) # not yet working properly
         out = Points(pts, c="k")
         out.pipeline = utils.OperationNode("smooth_lloyd", parents=[self])
         return out
@@ -3666,15 +3708,15 @@
             vedo.logger.error(f"unknown plane {plane}")
             raise RuntimeError()
 
         self.alpha(0.1)
         self.points(coords)
         return self
 
-    def warp(self, source, target, sigma=1, mode="3d"):
+    def warp(self, source, target, sigma=1.0, mode="3d"):
         """
         `Thin Plate Spline` transformations describe a nonlinear warp transform defined by a set
         of source and target landmarks. Any point on the mesh close to a source landmark will
         be moved to a place close to the corresponding target landmark.
         The points in between are interpolated smoothly using
         Bookstein's Thin Plate Spline algorithm.
 
@@ -3693,17 +3735,22 @@
 
                 ![](https://vedo.embl.es/images/advanced/warp2.png)
         """
         parents = [self]
         if isinstance(source, Points):
             parents.append(source)
             source = source.points()
+        else:
+            source = utils.make3d(source)
+
         if isinstance(target, Points):
             parents.append(target)
             target = target.points()
+        else:
+            target = utils.make3d(target)
 
         ns = len(source)
         ptsou = vtk.vtkPoints()
         ptsou.SetNumberOfPoints(ns)
         for i in range(ns):
             ptsou.SetPoint(i, source[i])
 
@@ -3728,29 +3775,17 @@
 
         T.SetSigma(sigma)
         T.SetSourceLandmarks(ptsou)
         T.SetTargetLandmarks(pttar)
         self.transform = T
         self.apply_transform(T, reset=True)
 
-        self.pipeline = utils.OperationNode(
-            "warp", parents=parents, 
-        )
+        self.pipeline = utils.OperationNode("warp", parents=parents)
         return self
 
-    @deprecated(reason=vedo.colors.red + "Please use cut_with_plane()" + vedo.colors.reset)
-    def cutWithPlane(self, origin=(0, 0, 0), normal=(1, 0, 0)):
-        "Deprecated. Please use `cut_with_plane()`."
-        return self.cut_with_plane(origin, normal)
-
-    @deprecated(reason=vedo.colors.red + "Please use cut_with_mesh()" + vedo.colors.reset)
-    def cutWithMesh(self, mesh, invert=False, keep=False):
-        "Deprecated. Please use `cut_with_mesh()`."
-        return self.cut_with_mesh(mesh, invert, keep)
-
     def cut_with_plane(self, origin=(0, 0, 0), normal=(1, 0, 0), invert=False):
         """
         Cut the mesh with the plane defined by a point and a normal.
 
         Arguments:
             origin : (array)
                 the cutting plane goes through this point
@@ -3988,14 +4023,103 @@
             tf.SetInputData(cpoly)
             tf.Update()
             self._update(tf.GetOutput())
 
         self.pipeline = utils.OperationNode("cut_with_line", parents=[self])
         return self
 
+    def cut_with_cookiecutter(self, lines):
+        """
+        Cut the current mesh with a single line or a set of lines.
+
+        Input `lines` can be either:
+        - a `Mesh` or `Points` object
+        - a list of 3D points: `[(x1,y1,z1), (x2,y2,z2), ...]`
+        - a list of 2D points: `[(x1,y1), (x2,y2), ...]`
+
+        Example:
+            ```python
+            from vedo import *
+            grid = Mesh(dataurl + "dolfin_fine.vtk")
+            grid.compute_quality().cmap("Greens")
+            pols = merge(
+                Polygon(nsides=10, r=0.3).pos(0.7, 0.3),
+                Polygon(nsides=10, r=0.2).pos(0.3, 0.7),
+            )
+            lines = pols.boundaries()
+            grid.cut_with_cookiecutter(lines)
+            show(grid, lines, axes=8, bg='blackboard').close()
+            ```
+            ![](https://vedo.embl.es/images/feats/cookiecutter.png)
+
+        Check out also:
+            `cut_with_line()` and `cut_with_point_loop()`
+
+        Note:
+            In case of a warning message like:
+                "Mesh and trim loop point data attributes are different"
+            consider interpolating the mesh point data to the loop points,
+            Eg. (in the above example):
+            ```python
+            lines = pols.boundaries().interpolate_data_from(grid, n=2)
+            ```
+
+        Note:
+            trying to invert the selection by reversing the loop order
+            will have no effect in this method, hence it does not have
+            the `invert` option.
+        """
+        if utils.is_sequence(lines):
+            lines = utils.make3d(lines)
+            iline = list(range(len(lines))) + [0]
+            poly = utils.buildPolyData(lines, lines=[iline])
+        else:
+            poly = lines.polydata()
+
+        # if invert: # not working
+        #     rev = vtk.vtkReverseSense()
+        #     rev.ReverseCellsOn()
+        #     rev.SetInputData(poly)
+        #     rev.Update()
+        #     poly = rev.GetOutput()
+
+        # Build loops from the polyline
+        build_loops = vtk.vtkContourLoopExtraction()
+        build_loops.SetInputData(poly)
+        build_loops.Update()
+        boundaryPoly = build_loops.GetOutput()
+
+        ccut = vtk.vtkCookieCutter()
+        ccut.SetInputData(self.polydata())
+        ccut.SetLoopsData(boundaryPoly)
+        ccut.SetPointInterpolationToMeshEdges()
+        # ccut.SetPointInterpolationToLoopEdges()
+        ccut.PassCellDataOn()
+        # ccut.PassPointDataOn()
+        ccut.Update()
+        cpoly = ccut.GetOutput()
+
+        if self.GetIsIdentity() or cpoly.GetNumberOfPoints() == 0:
+            self._update(cpoly)
+        else:
+            # bring the underlying polydata to where _data is
+            M = vtk.vtkMatrix4x4()
+            M.DeepCopy(self.GetMatrix())
+            M.Invert()
+            tr = vtk.vtkTransform()
+            tr.SetMatrix(M)
+            tf = vtk.vtkTransformPolyDataFilter()
+            tf.SetTransform(tr)
+            tf.SetInputData(cpoly)
+            tf.Update()
+            self._update(tf.GetOutput())
+
+        self.pipeline = utils.OperationNode("cut_with_cookiecutter", parents=[self])
+        return self
+
     def cut_with_cylinder(self, center=(0, 0, 0), axis=(0, 0, 1), r=1, invert=False):
         """
         Cut the current mesh with an infinite cylinder.
         This is much faster than `cut_with_mesh()`.
 
         Arguments:
             center : (array)
@@ -4057,15 +4181,15 @@
             tf.SetInputData(cpoly)
             tf.Update()
             self._update(tf.GetOutput())
 
         self.pipeline = utils.OperationNode("cut_with_cylinder", parents=[self])
         return self
 
-    def cut_with_sphere(self, center=(0, 0, 0), r=1, invert=False):
+    def cut_with_sphere(self, center=(0, 0, 0), r=1.0, invert=False):
         """
         Cut the current mesh with an sphere.
         This is much faster than `cut_with_mesh()`.
 
         Arguments:
             center : (array)
                 the center of the sphere
@@ -4131,15 +4255,15 @@
         ```python
         from vedo import *
         arr = np.random.randn(100000, 3)/2
         pts = Points(arr).c('red3').pos(5,0,0)
         cube = Cube().pos(4,0.5,0)
         assem = pts.cut_with_mesh(cube, keep=True)
         show(assem.unpack(), axes=1).close()
-        ```        
+        ```
         ![](https://vedo.embl.es/images/feats/cut_with_mesh.png)
 
        Check out also:
             `cut_with_box()`, `cut_with_plane()`, `cut_with_cylinder()`
        """
         polymesh = mesh.polydata()
         poly = self.polydata()
@@ -4208,39 +4332,33 @@
             cutoff.SetProperty(cutoff.property)
             cutoff.c("k5").alpha(0.2)
             return vedo.Assembly([self, cutoff])
 
         self.pipeline = utils.OperationNode("cut_with_mesh", parents=[self, mesh])
         return self
 
-    def cut_with_point_loop(
-        self,
-        points,
-        invert=False,
-        on="points",
-        include_boundary=False,
-    ):
+    def cut_with_point_loop(self, points, invert=False, on="points", include_boundary=False):
         """
         Cut an `Mesh` object with a set of points forming a closed loop.
 
         Arguments:
             invert : (bool)
                 invert selection (inside-out)
             on : (str)
                 if 'cells' will extract the whole cells lying inside (or outside) the point loop
             include_boundary : (bool)
                 include cells lying exactly on the boundary line. Only relevant on 'cells' mode
 
         Examples:
             - [cut_with_points1.py](https://github.com/marcomusy/vedo/blob/master/examples/advanced/cut_with_points1.py)
-            
+
                 ![](https://vedo.embl.es/images/advanced/cutWithPoints1.png)
-            
+
             - [cut_with_points2.py](https://github.com/marcomusy/vedo/blob/master/examples/advanced/cut_with_points2.py)
-        
+
                 ![](https://vedo.embl.es/images/advanced/cutWithPoints2.png)
         """
         if isinstance(points, Points):
             parents = [points]
             vpts = points.polydata().GetPoints()
             points = points.points()
         else:
@@ -4283,20 +4401,19 @@
             tr = vtk.vtkTransform()
             tr.SetMatrix(M)
             tf = vtk.vtkTransformPolyDataFilter()
             tf.SetTransform(tr)
             tf.SetInputData(clipper.GetOutput())
             tf.Update()
             self._update(tf.GetOutput())
-        
-        self.pipeline = utils.OperationNode(
-            "cut_with_pointloop", parents=parents)
+
+        self.pipeline = utils.OperationNode("cut_with_pointloop", parents=parents)
         return self
 
-    def cut_with_scalars(self, value, name="", invert=False):
+    def cut_with_scalar(self, value, name="", invert=False):
         """
         Cut a mesh or point cloud with some input scalar point-data.
 
         Arguments:
             value : (float)
                 cutting value
             name : (str)
@@ -4307,15 +4424,15 @@
         Example:
             ```python
             from vedo import *
             s = Sphere().lw(1)
             pts = s.points()
             scalars = np.sin(3*pts[:,2]) + pts[:,0]
             s.pointdata["somevalues"] = scalars
-            s.cut_with_scalars(0.3)
+            s.cut_with_scalar(0.3)
             s.cmap("Spectral", "somevalues").add_scalarbar()
             s.show(axes=1).close()
             ```
             ![](https://vedo.embl.es/images/feats/cut_with_scalars.png)
         """
         if name:
             self.pointdata.select(name)
@@ -4323,20 +4440,18 @@
         clipper.SetInputData(self._data)
         clipper.SetValue(value)
         clipper.GenerateClippedOutputOff()
         clipper.SetInsideOut(not invert)
         clipper.Update()
         self._update(clipper.GetOutput())
 
-        self.pipeline = utils.OperationNode(
-            "cut_with_scalars", parents=[self],
-        )
+        self.pipeline = utils.OperationNode("cut_with_scalars", parents=[self])
         return self
 
-    def implicit_modeller(self, distance=0.05, res=(50,50,50), bounds=(), maxdist=None):
+    def implicit_modeller(self, distance=0.05, res=(50, 50, 50), bounds=(), maxdist=None):
         """Find the surface which sits at the specified distance from the input one."""
         if not bounds:
             bounds = self.bounds()
 
         if not maxdist:
             maxdist = self.diagonal_size() / 2
 
@@ -4348,30 +4463,23 @@
         contour = vtk.vtkContourFilter()
         contour.SetInputConnection(imp.GetOutputPort())
         contour.SetValue(0, distance)
         contour.Update()
         poly = contour.GetOutput()
         out = vedo.Mesh(poly, c="lb")
 
-        out.pipeline = utils.OperationNode(
-            "implicit_modeller", parents=[self],
-        )        
+        out.pipeline = utils.OperationNode("implicit_modeller", parents=[self])
         return out
 
 
-    @deprecated(reason=vedo.colors.red + "Please use generate_mesh()" + vedo.colors.reset)
-    def tomesh(self, *args, **kwargs):
-        """Deprecated, please use `generate_mesh()`."""
-        return self.generate_mesh(*args, **kwargs)
-
     def generate_mesh(
         self,
         line_resolution=None,
         mesh_resolution=None,
-        smooth=0,
+        smooth=0.0,
         jitter=0.001,
         grid=None,
         quads=False,
         invert=False,
     ):
         """
         Generate a polygonal Mesh from a closed contour line.
@@ -4379,15 +4487,14 @@
 
         Arguments:
             line_resolution : (int)
                 resolution of the contour line. The default is None, in this case
                 the contour is not resampled.
             mesh_resolution : (int)
                 resolution of the internal triangles not touching the boundary.
-                The default is None.
             smooth : (float)
                 smoothing of the contour before meshing.
             jitter : (float)
                 add a small noise to the internal points.
             grid : (Grid)
                 manually pass a Grid object. The default is True.
             quads : (bool)
@@ -4397,15 +4504,15 @@
 
         Examples:
             - [line2mesh_tri.py](https://github.com/marcomusy/vedo/blob/master/examples/advanced/line2mesh_tri.py)
 
                 ![](https://vedo.embl.es/images/advanced/line2mesh_tri.jpg)
 
             - [line2mesh_quads.py](https://github.com/marcomusy/vedo/blob/master/examples/advanced/line2mesh_quads.py)
-        
+
                 ![](https://vedo.embl.es/images/advanced/line2mesh_quads.png)
         """
         if line_resolution is None:
             contour = vedo.shapes.Line(self.points())
         else:
             contour = vedo.shapes.Spline(self.points(), smooth=smooth, res=line_resolution)
         contour.clean()
@@ -4445,16 +4552,17 @@
         contour = vedo.merge(contour, joinline).subsample(0.0001)
 
         ####################################### quads
         if quads:
             cmesh = grid.clone().cut_with_point_loop(contour, on="cells", invert=invert)
             cmesh.wireframe(False).lw(0.5)
             cmesh.pipeline = utils.OperationNode(
-                "generate_mesh", parents=[self, contour], 
-                comment=f"#quads {cmesh._data.GetNumberOfCells()}",
+                "generate_mesh",
+                parents=[self, contour],
+                comment=f"#quads {cmesh.inputdata().GetNumberOfCells()}",
             )
             return cmesh
         #############################################
 
         grid_tmp = grid.points()
 
         if jitter:
@@ -4490,24 +4598,20 @@
             boundary = range(contour.npoints)
 
         dln = delaunay2d(points, mode="xy", boundaries=[boundary])
         dln.compute_normals(points=False)  # fixes reversd faces
         dln.lw(0.5)
 
         dln.pipeline = utils.OperationNode(
-            "generate_mesh", parents=[self, contour], 
-            comment=f"#cells {dln._data.GetNumberOfCells()}",
+            "generate_mesh",
+            parents=[self, contour],
+            comment=f"#cells {dln.inputdata().GetNumberOfCells()}",
         )
         return dln
 
-    @deprecated(reason=vedo.colors.red + "Please use reconstruct_surface()" + vedo.colors.reset)
-    def reconstructSurface(self, *a, **b):
-        "Deprecated. Please use `reconstruct_surface()`."
-        return self.reconstruct_surface(*a, **b)
-
     def reconstruct_surface(
         self,
         dims=(100, 100, 100),
         radius=None,
         sample_size=None,
         hole_filling=True,
         bounds=(),
@@ -4548,17 +4652,20 @@
         sdf = vtk.vtkSignedDistance()
 
         if len(bounds) == 6:
             sdf.SetBounds(bounds)
         else:
             x0, x1, y0, y1, z0, z1 = self.bounds()
             sdf.SetBounds(
-                x0-(x1-x0)*padding, x1+(x1-x0)*padding,
-                y0-(y1-y0)*padding, y1+(y1-y0)*padding,
-                z0-(z1-z0)*padding, z1+(z1-z0)*padding
+                x0 - (x1 - x0) * padding,
+                x1 + (x1 - x0) * padding,
+                y0 - (y1 - y0) * padding,
+                y1 + (y1 - y0) * padding,
+                z0 - (z1 - z0) * padding,
+                z1 + (z1 - z0) * padding,
             )
 
         pd = self.polydata()
 
         if pd.GetPointData().GetNormals():
             sdf.SetInputData(pd)
         else:
@@ -4585,16 +4692,16 @@
         surface.ComputeNormalsOff()
         surface.ComputeGradientsOff()
         surface.SetInputConnection(sdf.GetOutputPort())
         surface.Update()
         m = vedo.mesh.Mesh(surface.GetOutput(), c=self.color())
 
         m.pipeline = utils.OperationNode(
-            "reconstruct_surface", parents=[self], 
-            comment=f"#pts {m._data.GetNumberOfPoints()}",
+            "reconstruct_surface", parents=[self],
+            comment=f"#pts {m.inputdata().GetNumberOfPoints()}"
         )
         return m
 
     def compute_clustering(self, radius):
         """
         Cluster points in space. The `radius` is the radius of local search.
         An array named "ClusterId" is added to the vertex points.
@@ -4610,20 +4717,19 @@
         cluster.SetRadius(radius)
         cluster.ColorClustersOn()
         cluster.Update()
         idsarr = cluster.GetOutput().GetPointData().GetArray("ClusterId")
         self.inputdata().GetPointData().AddArray(idsarr)
 
         self.pipeline = utils.OperationNode(
-            "compute_clustering", parents=[self],
-            comment=f"radius = {radius}",
+            "compute_clustering", parents=[self], comment=f"radius = {radius}"
         )
         return self
 
-    def compute_connections(self, radius, mode=0, regions=(), vrange=(0,1), seeds=(), angle=0):
+    def compute_connections(self, radius, mode=0, regions=(), vrange=(0, 1), seeds=(), angle=0):
         """
         Extracts and/or segments points from a point cloud based on geometric distance measures
         (e.g., proximity, normal alignments, etc.) and optional measures such as scalar range.
         The default operation is to segment the points into "connected" regions where the connection
         is determined by an appropriate distance measure. Each region is given a region id.
 
         Optionally, the filter can output the largest connected region of points; a particular region
@@ -4711,20 +4817,15 @@
             dc.SetInputData(poly)
             dc.SetRenderer(vedo.plotter_instance.renderer)
             dc.Update()
             return self._update(dc.GetOutput())
         return self
 
     def density(
-        self,
-        dims=(40, 40, 40),
-        bounds=None,
-        radius=None,
-        compute_gradient=False,
-        locator=None,
+        self, dims=(40, 40, 40), bounds=None, radius=None, compute_gradient=False, locator=None
     ):
         """
         Generate a density field from a point cloud. Input can also be a set of 3D coordinates.
         Output is a `Volume`.
 
         The local neighborhood is specified as the `radius` around each sample position (each voxel).
         The density is expressed as the number of counts in the radius search.
@@ -4750,45 +4851,44 @@
         pdf.SetInputData(self.polydata())
 
         if not utils.is_sequence(dims):
             dims = [dims, dims, dims]
 
         if bounds is None:
             bounds = list(self.bounds())
-        elif len(bounds)==4:
+        elif len(bounds) == 4:
             bounds = [*bounds, 0, 0]
 
         if bounds[5] - bounds[4] == 0 or len(dims) == 2:  # its 2D
             dims = list(dims)
             dims = [dims[0], dims[1], 2]
             diag = self.diagonal_size()
             bounds[5] = bounds[4] + diag / 1000
         pdf.SetModelBounds(bounds)
 
         pdf.SetSampleDimensions(dims)
 
         if locator:
             pdf.SetLocator(locator)
-         
+
         pdf.SetDensityEstimateToFixedRadius()
         if radius is None:
             radius = self.diagonal_size() / 20
         pdf.SetRadius(radius)
 
         pdf.SetComputeGradient(compute_gradient)
         pdf.Update()
         img = pdf.GetOutput()
         vol = vedo.volume.Volume(img).mode(1)
         vol.name = "PointDensity"
         vol.info["radius"] = radius
         vol.locator = pdf.GetLocator()
-    
+
         vol.pipeline = utils.OperationNode(
-            "density", parents=[self], 
-            comment=f"dims = {tuple(vol.dimensions())}",
+            "density", parents=[self], comment=f"dims = {tuple(vol.dimensions())}"
         )
         return vol
 
     def densify(self, target_distance=0.1, nclosest=6, radius=None, niter=1, nmax=None):
         """
         Return a copy of the cloud with new added points.
         The new points are created in such a way that all points in any local neighborhood are
@@ -4849,35 +4949,29 @@
             dens.SetNeighborhoodTypeToNClosest()
             dens.SetNumberOfClosestPoints(nclosest)
         else:
             vedo.logger.error("set either radius or nclosest")
             raise RuntimeError()
         dens.Update()
         pts = utils.vtk2numpy(dens.GetOutput().GetPoints().GetData())
-        cld = Points(pts, c=None).pointSize(self.GetProperty().GetPointSize())
+        cld = Points(pts, c=None).point_size(self.GetProperty().GetPointSize())
         cld.interpolate_data_from(self, n=nclosest, radius=radius)
         cld.name = "densifiedCloud"
 
         cld.pipeline = utils.OperationNode(
-            "densify", parents=[self], 
-            c="#e9c46a:",
-            comment=f"#pts {cld._data.GetNumberOfPoints()}",
+            "densify", parents=[self], c="#e9c46a:",
+            comment=f"#pts {cld.inputdata().GetNumberOfPoints()}"
         )
         return cld
 
 
     ###############################################################################
     ## stuff returning Volume
 
-    @deprecated(reason=vedo.colors.red + "Please use signed_distance()" + vedo.colors.reset)
-    def signedDistance(self, bounds=None, dims=(20,20,20), invert=False, maxradius=None):
-        "Please use `signed_distance()`."
-        return self.signed_distance(bounds, dims, invert, maxradius)
-
-    def signed_distance(self, bounds=None, dims=(20,20,20), invert=False, maxradius=None):
+    def signed_distance(self, bounds=None, dims=(20, 20, 20), invert=False, maxradius=None):
         """
         Compute the `Volume` object whose voxels contains the signed distance from
         the point cloud. The point cloud must have Normals.
 
         Arguments:
             bounds : (list, actor)
                 bounding box sizes
@@ -4912,29 +5006,23 @@
             mat.Update()
             img = mat.GetOutput()
 
         vol = vedo.Volume(img)
         vol.name = "SignedDistanceVolume"
 
         vol.pipeline = utils.OperationNode(
-            "signed_distance", parents=[self], 
+            "signed_distance",
+            parents=[self],
             comment=f"dim = {tuple(vol.dimensions())}",
-            c="#e9c46a:#0096c7"
+            c="#e9c46a:#0096c7",
         )
         return vol
 
     def tovolume(
-        self,
-        kernel="shepard",
-        radius=None,
-        n=None,
-        bounds=None,
-        null_value=None,
-        dims=(25, 25, 25),
-        N=None, # deprecated, do not use
+        self, kernel="shepard", radius=None, n=None, bounds=None, null_value=None, dims=(25, 25, 25)
     ):
         """
         Generate a `Volume` by interpolating a scalar
         or vector field which is only known on a scattered set of points or mesh.
         Available interpolation kernels are: shepard, gaussian, or linear.
 
         Arguments:
@@ -4952,18 +5040,14 @@
                 value to be assigned to invalid points
 
         Examples:
             - [interpolate_volume.py](https://github.com/marcomusy/vedo/blob/master/examples/volumetric/interpolate_volume.py)
 
                 ![](https://vedo.embl.es/images/volumetric/59095175-1ec5a300-8918-11e9-8bc0-fd35c8981e2b.jpg)
         """
-        if N is not None:
-            colors.printc(" Warning! In tovolume() please use n=... instead of N=...", c='y')
-            n = N
-
         if radius is None and not n:
             vedo.logger.error("please set either radius or n")
             raise RuntimeError
 
         poly = self.polydata()
 
         # Create a probe volume
@@ -5015,31 +5099,29 @@
         else:
             interpolator.SetNullPointsStrategyToClosestPoint()
         interpolator.Update()
 
         vol = vedo.Volume(interpolator.GetOutput())
 
         vol.pipeline = utils.OperationNode(
-            "signed_distance", parents=[self], 
+            "signed_distance",
+            parents=[self],
             comment=f"dim = {tuple(vol.dimensions())}",
             c="#e9c46a:#0096c7",
         )
         return vol
-    
+
     def generate_random_data(self):
         """Fill a dataset with random attributes"""
         gen = vtk.vtkRandomAttributeGenerator()
         gen.SetInputData(self._data)
         gen.GenerateAllDataOn()
         gen.SetDataTypeToFloat()
         gen.GeneratePointNormalsOff()
         gen.GeneratePointTensorsOn()
         gen.GenerateCellScalarsOn()
         gen.Update()
 
         m = self._update(gen.GetOutput())
-        
-        m.pipeline = utils.OperationNode(
-            "generate\nrandom data", parents=[self]
-        )
-        return m
 
+        m.pipeline = utils.OperationNode("generate\nrandom data", parents=[self])
+        return m
```

### Comparing `vedo-2023.4.4/vedo/pyplot.py` & `vedo-2023.4.5/vedo/pyplot.py`

 * *Files 1% similar despite different names*

```diff
@@ -41,25 +41,26 @@
     "whisker",
     "streamplot",
     "matrix",
     "DirectedGraph",
 ]
 
 ##########################################################################
-def _to2d(actor, offset, z, scale):
+def _to2d(actor, offset, scale):
 
     poly = actor.polydata()
 
     tp = vtk.vtkTransformPolyDataFilter()
     transform = vtk.vtkTransform()
     transform.Scale(scale, scale, scale)
     transform.Translate(-offset[0], -offset[1], 0)
     tp.SetTransform(transform)
     tp.SetInputData(poly)
     tp.Update()
+
     poly = tp.GetOutput()
 
     mapper2d = vtk.vtkPolyDataMapper2D()
     mapper2d.SetInputData(poly)
 
     act2d = vtk.vtkActor2D()
     act2d.SetMapper(mapper2d)
@@ -73,36 +74,32 @@
 
     csys = act2d.GetPositionCoordinate()
     csys.SetCoordinateSystem(4)
 
     act2d.GetProperty().SetDisplayLocationToBackground()
     return act2d
 
+
 ##########################################################################
 class LabelData:
     """Helper internal class to hold label information."""
+
     def __init__(self):
         """Helper internal class to hold label information."""
         self.text = "dataset"
         self.tcolor = "black"
         self.marker = "s"
         self.mcolor = "black"
 
 
 ##########################################################################
 class Figure(Assembly):
     """Format class for figures."""
-    def __init__(
-            self,
-            xlim,
-            ylim,
-            aspect=4/3,
-            padding=(0.05, 0.05, 0.05, 0.05),
-            **kwargs,
-        ):
+
+    def __init__(self, xlim, ylim, aspect=4 / 3, padding=(0.05, 0.05, 0.05, 0.05), **kwargs):
         """
         Create an empty formatted figure for plotting.
 
         Arguments:
             xlim : (list)
                 range of the x-axis as [x0, x1]
             ylim : (list)
@@ -119,14 +116,16 @@
                 title for the y-axis, can also be set using `axes=dict(ytitle="my y axis")`
             grid : (bool)
                 show the background grid for the axes, can also be set using `axes=dict(xygrid=True)`
             axes : (dict)
                 an extra dictionary of options for the `vedo.addons.Axes` object
         """
 
+        self.verbose = True  # printing to stdout on every mouse click
+
         self.xlim = np.asarray(xlim)
         self.ylim = np.asarray(ylim)
         self.aspect = aspect
         self.padding = padding
         if not utils.is_sequence(self.padding):
             self.padding = [self.padding, self.padding, self.padding, self.padding]
 
@@ -220,19 +219,15 @@
 
         ############## create axes
         if self.axopts:
             axes_opts = self.axopts
             if self.axopts is True or self.axopts == 1:
                 axes_opts = {}
 
-            tp, ts = utils.make_ticks(
-                y0lim / self.yscale,
-                y1lim / self.yscale,
-                number_of_divisions,
-            )
+            tp, ts = utils.make_ticks(y0lim / self.yscale, y1lim / self.yscale, number_of_divisions)
             labs = []
             for i in range(1, len(tp) - 1):
                 ynew = utils.lin_interpolate(tp[i], [0, 1], [y0lim, y1lim])
                 labs.append([ynew, ts[i]])
 
             if self.title:
                 axes_opts["htitle"] = self.title
@@ -252,15 +247,15 @@
 
         vedo.last_figure = self if settings.remember_last_figure_format else None
         return
 
     def _repr_html_(self):
         """
         HTML representation of the Figure object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -272,42 +267,44 @@
         im = Image.fromarray(arr)
         buffered = io.BytesIO()
         im.save(buffered, format="PNG", quality=100)
         encoded = base64.b64encode(buffered.getvalue()).decode("utf-8")
         url = "data:image/png;base64," + encoded
         image = f"<img src='{url}'></img>"
 
-        # statisitics
         bounds = "<br/>".join(
             [
-                vedo.utils.precision(min_x,4) + " ... " + vedo.utils.precision(max_x,4)
+                vedo.utils.precision(min_x, 4) + " ... " + vedo.utils.precision(max_x, 4)
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         all = [
             "<table>",
-            "<tr>", 
-            "<td>", image, "</td>",
-            "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
+            "<tr>",
+            "<td>",
+            image,
+            "</td>",
+            "<td style='text-align: center; vertical-align: center;'><br/>",
+            help_text,
             "<table>",
-            "<tr><td><b> nr. of objects </b></td><td>" + str(self.GetNumberOfPaths()) + "</td></tr>",
+            "<tr><td><b> nr. of parts </b></td><td>" + str(self.GetNumberOfPaths()) + "</td></tr>",
             "<tr><td><b> position </b></td><td>" + str(self.GetPosition()) + "</td></tr>",
-            "<tr><td><b> x-limits </b></td><td>" + utils.precision(self.xlim,4) + "</td></tr>",
-            "<tr><td><b> y-limits </b></td><td>" + utils.precision(self.ylim,4) + "</td></tr>",
+            "<tr><td><b> x-limits </b></td><td>" + utils.precision(self.xlim, 4) + "</td></tr>",
+            "<tr><td><b> y-limits </b></td><td>" + utils.precision(self.ylim, 4) + "</td></tr>",
             "<tr><td><b> world bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
             "</table>",
             "</table>",
         ]
         return "\n".join(all)
 
     def __add__(self, *obj):
@@ -324,15 +321,15 @@
     def _check_unpack_and_insert(self, fig):
 
         if fig.label:
             self.labels.append(fig.label)
 
         if abs(self.yscale - fig.yscale) > 0.0001:
 
-            colors.printc("ERROR: adding incompatible Figure. Y-scales are different:",
+            colors.printc(":bomb:ERROR: adding incompatible Figure. Y-scales are different:",
                           c='r', invert=True)
             colors.printc("  first  figure:", self.yscale, c='r')
             colors.printc("  second figure:", fig.yscale, c='r')
 
             colors.printc("One or more of these parameters can be the cause:", c="r")
             if list(self.xlim) != list(fig.xlim):
                 colors.printc("xlim --------------------------------------------\n",
@@ -344,32 +341,32 @@
                               " second figure:", fig.ylim, c='r')
             if list(self.padding) != list(fig.padding):
                 colors.printc("padding -----------------------------------------\n",
                               " first  figure:", self.padding,
                               " second figure:", fig.padding, c='r')
             if self.aspect != fig.aspect:
                 colors.printc("aspect ------------------------------------------\n",
-                              " first  figure:", self.aspect,
+                              " first  figure:", self.aspect, "\n",
                               " second figure:", fig.aspect, c='r')
 
-            colors.printc("\n*Consider using fig2 = histogram(..., like=fig1)", c="r")
+            colors.printc("\n:idea: Consider using fig2 = histogram(..., like=fig1)", c="r")
             colors.printc(" Or fig += histogram(..., like=fig)\n", c="r")
             return self
 
         offset = self.zbounds()[1] + self.ztolerance
 
         for ele in fig.unpack():
             if "Axes" in ele.name:
                 continue
             ele.z(offset)
             self.insert(ele, rescale=False)
 
         return self
 
-    def insert(self, *objs, rescale=True, as3d=True, adjusted=True, cut=True):
+    def insert(self, *objs, rescale=True, as3d=True, adjusted=False, cut=True):
         """
         Insert objects into a Figure.
 
         The recommended syntax is to use "+=", which calls `insert()` under the hood.
         If a whole Figure is added with "+=", it is unpacked and its objects are added
         one by one.
 
@@ -440,19 +437,19 @@
                     # shift it in y
                     a.y(a.y() * self.yscale)
 
             if cut:
                 try:
                     bx0, bx1, by0, by1, _, _ = a.bounds()
                     if self.y0lim > by0:
-                        a.cut_with_plane([0, self.y0lim, 0], [ 0, 1, 0])
+                        a.cut_with_plane([0, self.y0lim, 0], [0, 1, 0])
                     if self.y1lim < by1:
-                        a.cut_with_plane([0, self.y1lim, 0], [ 0,-1, 0])
+                        a.cut_with_plane([0, self.y1lim, 0], [0, -1, 0])
                     if self.x0lim > bx0:
-                        a.cut_with_plane([self.x0lim, 0, 0], [ 1, 0, 0])
+                        a.cut_with_plane([self.x0lim, 0, 0], [1, 0, 0])
                     if self.x1lim < bx1:
                         a.cut_with_plane([self.x1lim, 0, 0], [-1, 0, 0])
                 except:
                     # print("insert(): cannot cut", [a])
                     pass
 
             self.AddPart(a)
@@ -478,30 +475,30 @@
         newlabel.text = text.replace("\n", " ")
         newlabel.tcolor = c
         newlabel.marker = marker
         newlabel.mcolor = mc
         self.labels.append(newlabel)
         return self
 
-
-    def add_legend(self,
-            pos="top-right",
-            relative=True,
-            font=None,
-            s=1,
-            c=None,
-            vspace=1.75,
-            padding=0.1,
-            radius=0,
-            alpha=1,
-            bc='k7',
-            lw=1,
-            lc='k4',
-            z=0,
-        ):
+    def add_legend(
+        self,
+        pos="top-right",
+        relative=True,
+        font=None,
+        s=1,
+        c=None,
+        vspace=1.75,
+        padding=0.1,
+        radius=0,
+        alpha=1,
+        bc="k7",
+        lw=1,
+        lc="k4",
+        z=0,
+    ):
         """
         Add existing labels to form a legend box.
         Labels have been previously filled with eg: `plot(..., label="text")`
 
         Arguments:
             pos : (str, list)
                 A string or 2D coordinates. The default is "top-right".
@@ -595,17 +592,15 @@
             if len(self.labels) == 1:
                 padding *= 4
             x0 -= padding
             x1 += padding
             y0 -= padding
             y1 += padding
 
-            box = shapes.Rectangle(
-                [x0, y0], [x1, y1], radius=radius, c=bc, alpha=alpha,
-            )
+            box = shapes.Rectangle([x0, y0], [x1, y1], radius=radius, c=bc, alpha=alpha)
             box.shift(0, 0, -dy / 100).pickable(False)
             if lc:
                 box.lc(lc).lw(lw)
             aleg.AddPart(box)
 
         xlim = self.xlim
         ylim = self.ylim
@@ -660,17 +655,15 @@
         self.insert(aleg, rescale=False, cut=False)
         self.legend = aleg
         aleg.name = "Legend"
         return self
 
     def as2d(self, pos="bottom-left", scale=1, padding=0.05):
         """
-        Convert the Figure into a 2D static object (a 2D assembly).
-
-        Still experimental.
+        Convert the Figure into a 2D static object (a 2D Assembly).
 
         Arguments:
             pos : (str, list)
                 position in 2D, as atring or list (x,y).
                 Any combination of "center", "top", "bottom", "left" and "right" will work.
                 The center of the renderer is [0,0] while top-right is [1,1].
             scale : (float)
@@ -689,22 +682,14 @@
         y0 -= pp[1]
         y1 -= pp[1]
 
         if not utils.is_sequence(padding):
             padding = (padding, padding)
         padding = np.array(padding)
 
-        def _unpack(p):
-            for o in list(objs):
-                if isinstance(o, Assembly):
-                    objs.extend(o.unpack())
-        objs = [self]
-        for _ in range(3):
-            _unpack(self)
-
         if "cent" in pos:
             offset = [(x0 + x1) / 2, (y0 + y1) / 2]
             position = [0, 0]
             if "right" in pos:
                 offset[0] = x1
                 position = [1 - padding[0], 0]
             if "left" in pos:
@@ -731,77 +716,75 @@
                 position = [1 - padding[0], -1 + padding[1]]
             elif "left" in pos:
                 offset = [x0, y0]
                 position = [-1, -1] + padding
             else:
                 raise ValueError(f"incomplete position pos='{pos}'")
         else:
-            offset = [0,0]
+            offset = [0, 0]
             position = pos
 
         scanned = []
         group = Group()
-        for a in objs:
+        for a in self.recursive_unpack():
             if a in scanned:
                 continue
             if not isinstance(a, vedo.Points):
                 continue
             if a.npoints == 0:
                 continue
             if a.GetProperty().GetRepresentation() == 1:
-                # wireframe is not renedered in 2d
+                # wireframe is not rendered correctly in 2d
                 continue
-            aa = _to2d(a, offset, self.z(), scale / (x1-x0) * 550)
-            aa.SetPosition(position)
-            group += aa
+            a2d = _to2d(a, offset, scale * 550 / (x1 - x0))
+            a2d.SetPosition(position)
+            group += a2d
         return group
 
 
 #########################################################################################
 class Histogram1D(Figure):
     "1D histogramming."
 
     def __init__(
-            self,
-            data,
-            weights=None,
-            bins=None,
-            errors=False,
-            density=False,
-            logscale=False,
-            fill=True,
-            radius=0.075,
-            c="olivedrab",
-            gap=0.02,
-            alpha=1,
-            outline=False,
-            lw=2,
-            lc="k",
-            texture="",
-            marker="",
-            ms=None,
-            mc=None,
-            ma=None,
-
-            # Figure and axes options:
-            like=None,
-            xlim=None,
-            ylim=(0, None),
-            aspect=4/3,
-            padding=(0., 0., 0., 0.05),
-
-            title="",
-            xtitle=" ",
-            ytitle=" ",
-            ac="k",
-            grid=False,
-            ztolerance=None,
-            label="",
-            **fig_kwargs,
-        ):
+        self,
+        data,
+        weights=None,
+        bins=None,
+        errors=False,
+        density=False,
+        logscale=False,
+        fill=True,
+        radius=0.075,
+        c="olivedrab",
+        gap=0.02,
+        alpha=1,
+        outline=False,
+        lw=2,
+        lc="k",
+        texture="",
+        marker="",
+        ms=None,
+        mc=None,
+        ma=None,
+        # Figure and axes options:
+        like=None,
+        xlim=None,
+        ylim=(0, None),
+        aspect=4 / 3,
+        padding=(0.0, 0.0, 0.0, 0.05),
+        title="",
+        xtitle=" ",
+        ytitle=" ",
+        ac="k",
+        grid=False,
+        ztolerance=None,
+        label="",
+        **fig_kwargs,
+    ):
         """
         Creates a `Histogram1D(Figure)` object.
 
         Arguments:
             weights : (list)
                 An array of weights, of the same shape as `data`. Each value in `data`
                 only contributes its associated weight towards the bin count (instead of 1).
@@ -851,15 +834,15 @@
         data = np.asarray(data[valid_ids]).ravel()
 
         # if data.dtype is integer try to center bins by default
         if like is None and bins is None and np.issubdtype(data.dtype, np.integer):
             if xlim is None and ylim == (0, None):
                 x1, x0 = data.max(), data.min()
                 if 0 < x1 - x0 <= 100:
-                    bins = x1 - x0 +1 
+                    bins = x1 - x0 + 1
                     xlim = (x0 - 0.5, x1 + 0.5)
 
         if like is None and vedo.last_figure is not None:
             if xlim is None and ylim == (0, None):
                 like = vedo.last_figure
 
         if like is not None:
@@ -1019,17 +1002,17 @@
                 if radius:
                     if gap:
                         rds = np.array([0, 0, radius, radius])
                     else:
                         rd1 = 0 if i < bins - 1 and fs[i + 1] >= F else radius / 2
                         rd2 = 0 if i > 0 and fs[i - 1] >= F else radius / 2
                         rds = np.array([0, 0, rd1, rd2])
-                    p1_yscaled = [p1[0], p1[1]*self.yscale, 0]
-                    r = shapes.Rectangle(p0, p1_yscaled, radius=rds*binsize, res=6)
-                    r.scale([1, 1/self.yscale, 1])
+                    p1_yscaled = [p1[0], p1[1] * self.yscale, 0]
+                    r = shapes.Rectangle(p0, p1_yscaled, radius=rds * binsize, res=6)
+                    r.scale([1, 1 / self.yscale, 1])
                     r.radius = None  # so it doesnt get recreated and rescaled by insert()
                 else:
                     r = shapes.Rectangle(p0, p1)
 
                 if texture:
                     r.texture(texture)
                     c = "w"
@@ -1039,15 +1022,15 @@
                 #     else:
                 #         r.texture(texture)
                 #     c = 'w'
 
                 r.PickableOff()
                 maxheigth = max(maxheigth, p1[1])
                 if c in colors.cmaps_names:
-                    col = colors.color_map((p0[0]+p1[0])/2, c, myedges[0], myedges[-1])
+                    col = colors.color_map((p0[0] + p1[0]) / 2, c, myedges[0], myedges[-1])
                 else:
                     col = c
                 r.color(col).alpha(alpha).lighting("off")
                 r.z(self.ztolerance)
                 rs.append(r)
 
         if outline:  #####################
@@ -1067,54 +1050,48 @@
                 f = fs[i]
                 if not f:
                     continue
                 err = _errors[i]
                 if utils.is_sequence(err):
                     el = shapes.Line([x, err[0], 0], [x, err[1], 0], c=lc, alpha=alpha, lw=lw)
                 else:
-                    el = shapes.Line([x, f-err/2, 0], [x, f+err/2, 0], c=lc, alpha=alpha, lw=lw)
-                el.z(self.ztolerance*3)
+                    el = shapes.Line(
+                        [x, f - err / 2, 0], [x, f + err / 2, 0], c=lc, alpha=alpha, lw=lw
+                    )
+                el.z(self.ztolerance * 3)
                 rs.append(el)
 
         if marker:  #####################
 
             # remove empty bins (we dont want a marker there)
             bin_centers = np.array(bin_centers)
             bin_centers = bin_centers[bin_centers[:, 1] > 0]
 
             if utils.is_sequence(ms):  ### variable point size
                 mk = shapes.Marker(marker, s=1)
                 mk.scale([1, 1 / self.yscale, 1])
                 msv = np.zeros_like(bin_centers)
                 msv[:, 0] = ms
                 marked = shapes.Glyph(
-                    bin_centers,
-                    mk,
-                    c=mc,
-                    orientation_array=msv,
-                    scale_by_vector_size=True,
+                    bin_centers, mk, c=mc, orientation_array=msv, scale_by_vector_size=True
                 )
             else:  ### fixed point size
 
                 if ms is None:
                     ms = (xlim[1] - xlim[0]) / 100.0
                 else:
                     ms = (xlim[1] - xlim[0]) / 100.0 * ms
 
                 if utils.is_sequence(mc):
                     mk = shapes.Marker(marker, s=ms)
                     mk.scale([1, 1 / self.yscale, 1])
                     msv = np.zeros_like(bin_centers)
                     msv[:, 0] = 1
                     marked = shapes.Glyph(
-                        bin_centers,
-                        mk,
-                        c=mc,
-                        orientation_array=msv,
-                        scale_by_vector_size=True,
+                        bin_centers, mk, c=mc, orientation_array=msv, scale_by_vector_size=True
                     )
                 else:
                     mk = shapes.Marker(marker, s=ms)
                     mk.scale([1, 1 / self.yscale, 1])
                     marked = shapes.Glyph(bin_centers, mk, c=mc)
 
             marked.alpha(ma)
@@ -1138,38 +1115,36 @@
 
 
 #########################################################################################
 class Histogram2D(Figure):
     """2D histogramming."""
 
     def __init__(
-            self,
-            xvalues,
-            yvalues=None,
-            bins=25,
-            weights=None,
-            cmap="cividis",
-            alpha=1,
-            gap=0,
-            scalarbar=True,
-
-            # Figure and axes options:
-            like=None,
-            xlim=None,
-            ylim=(None, None),
-            zlim=(None, None),
-            aspect=1,
-
-            title="",
-            xtitle=" ",
-            ytitle=" ",
-            ztitle="",
-            ac="k",
-            **fig_kwargs,
-        ):
+        self,
+        xvalues,
+        yvalues=None,
+        bins=25,
+        weights=None,
+        cmap="cividis",
+        alpha=1,
+        gap=0,
+        scalarbar=True,
+        # Figure and axes options:
+        like=None,
+        xlim=None,
+        ylim=(None, None),
+        zlim=(None, None),
+        aspect=1,
+        title="",
+        xtitle=" ",
+        ytitle=" ",
+        ztitle="",
+        ac="k",
+        **fig_kwargs,
+    ):
         """
         Input data formats `[(x1,x2,..), (y1,y2,..)] or [(x1,y1), (x2,y2),..]`
         are both valid.
 
         Use keyword `like=...` if you want to use the same format of a previously
         created Figure (useful when superimposing Figures) to make sure
         they are compatible and comparable. If they are not compatible
@@ -1220,14 +1195,16 @@
             ![](https://vedo.embl.es/images/pyplot/histo_2D.png)
         """
         xvalues = np.asarray(xvalues)
         if yvalues is None:
             # assume [(x1,y1), (x2,y2) ...] format
             yvalues = xvalues[:, 1]
             xvalues = xvalues[:, 0]
+        else:
+            yvalues = np.asarray(yvalues)
 
         padding = [0, 0, 0, 0]
 
         if like is None and vedo.last_figure is not None:
             if xlim is None and ylim == (None, None) and zlim == (None, None):
                 like = vedo.last_figure
 
@@ -1259,16 +1236,15 @@
             if _y0 is None:
                 _y0 = yvalues.min()
             if _y1 is None:
                 _y1 = yvalues.max()
             ylim = [_y0, _y1]
 
         H, xedges, yedges = np.histogram2d(
-            xvalues, yvalues, 
-            weights=weights, bins=bins, range=(xlim, ylim),
+            xvalues, yvalues, weights=weights, bins=bins, range=(xlim, ylim)
         )
 
         xlim = np.min(xedges), np.max(xedges)
         ylim = np.min(yedges), np.max(yedges)
         dx, dy = xlim[1] - xlim[0], ylim[1] - ylim[0]
 
         fig_kwargs["title"] = title
@@ -1309,17 +1285,15 @@
         ############################################### Figure init
         Figure.__init__(self, xlim, ylim, aspect, padding, **fig_kwargs)
 
         if self.yscale:
             ##################### the grid
             acts = []
             g = shapes.Grid(
-                pos=[(xlim[0] + xlim[1]) / 2, (ylim[0] + ylim[1]) / 2, 0],
-                s=(dx, dy),
-                res=bins[:2],
+                pos=[(xlim[0] + xlim[1]) / 2, (ylim[0] + ylim[1]) / 2, 0], s=(dx, dy), res=bins[:2]
             )
             g.alpha(alpha).lw(0).wireframe(False).flat().lighting("off")
             g.cmap(cmap, np.ravel(H.T), on="cells", vmin=zlim[0], vmax=zlim[1])
             if gap:
                 g.shrink(abs(1 - gap))
 
             if scalarbar:
@@ -1335,42 +1309,42 @@
 
 
 #########################################################################################
 class PlotBars(Figure):
     """Creates a `PlotBars(Figure)` object."""
 
     def __init__(
-            self,
-            data,
-            errors=False,
-            logscale=False,
-            fill=True,
-            gap=0.02,
-            radius=0.05,
-            c="olivedrab",
-            alpha=1,
-            texture="",
-            outline=False,
-            lw=2,
-            lc="k",
-            # Figure and axes options:
-            like=None,
-            xlim=(None, None),
-            ylim=(0, None),
-            aspect=4/3,
-            padding=(0.025, 0.025, 0, 0.05),
-            #
-            title="",
-            xtitle=" ",
-            ytitle=" ",
-            ac="k",
-            grid=False,
-            ztolerance=None,
-            **fig_kwargs,
-        ):
+        self,
+        data,
+        errors=False,
+        logscale=False,
+        fill=True,
+        gap=0.02,
+        radius=0.05,
+        c="olivedrab",
+        alpha=1,
+        texture="",
+        outline=False,
+        lw=2,
+        lc="k",
+        # Figure and axes options:
+        like=None,
+        xlim=(None, None),
+        ylim=(0, None),
+        aspect=4 / 3,
+        padding=(0.025, 0.025, 0, 0.05),
+        #
+        title="",
+        xtitle=" ",
+        ytitle=" ",
+        ac="k",
+        grid=False,
+        ztolerance=None,
+        **fig_kwargs,
+    ):
         """
         Input must be in format `[counts, labels, colors, edges]`.
         Either or both `edges` and `colors` are optional and can be omitted.
 
         Use keyword `like=...` if you want to use the same format of a previously
         created Figure (useful when superimposing Figures) to make sure
         they are compatible and comparable. If they are not compatible
@@ -1505,17 +1479,17 @@
             for i in range(len(centers)):
                 binsize = binsizes[i]
                 p0 = (edges[i] + gap * binsize, 0, 0)
                 p1 = (edges[i + 1] - gap * binsize, counts[i], 0)
 
                 if radius:
                     rds = np.array([0, 0, radius, radius])
-                    p1_yscaled = [p1[0], p1[1]*self.yscale, 0]
-                    r = shapes.Rectangle(p0, p1_yscaled, radius=rds*binsize, res=6)
-                    r.scale([1, 1/self.yscale, 1])
+                    p1_yscaled = [p1[0], p1[1] * self.yscale, 0]
+                    r = shapes.Rectangle(p0, p1_yscaled, radius=rds * binsize, res=6)
+                    r.scale([1, 1 / self.yscale, 1])
                     r.radius = None  # so it doesnt get recreated and rescaled by insert()
                 else:
                     r = shapes.Rectangle(p0, p1)
 
                 if texture:
                     r.texture(texture)
                     c = "w"
@@ -1541,62 +1515,63 @@
             outl = shapes.Line(lns, c=lc, alpha=alpha, lw=lw).z(self.ztolerance)
             outl.name = f"bar_outline_{i}"
             rs.append(outl)
 
         if errors:  #####################
             for x, f in centers:
                 err = np.sqrt(f)
-                el = shapes.Line([x, f-err/2, 0], [x, f+err/2, 0], c=lc, alpha=alpha, lw=lw)
+                el = shapes.Line([x, f - err / 2, 0], [x, f + err / 2, 0], c=lc, alpha=alpha, lw=lw)
                 el.z(self.ztolerance * 2)
                 rs.append(el)
 
         self.insert(*rs, as3d=False)
         self.name = "PlotBars"
 
 
 #########################################################################################
 class PlotXY(Figure):
     """Creates a `PlotXY(Figure)` object."""
+
     def __init__(
-            self,
-            #
-            data,
-            xerrors=None,
-            yerrors=None,
-            #
-            lw=2,
-            lc=None,
-            la=1,
-            dashed=False,
-            splined=False,
-            #
-            elw=2,  # error line width
-            ec=None,  # error line or band color
-            error_band=False, # errors in x are ignored
-            #
-            marker="",
-            ms=None,
-            mc=None,
-            ma=None,
-            # Figure and axes options:
-            like=None,
-            xlim=None,
-            ylim=(None, None),
-            aspect=4/3,
-            padding=0.05,
-            #
-            title="",
-            xtitle=" ",
-            ytitle=" ",
-            ac="k",
-            grid=True,
-            ztolerance=None,
-            label="",
-            **fig_kwargs,
-        ):
+        self,
+        #
+        data,
+        xerrors=None,
+        yerrors=None,
+        #
+        lw=2,
+        lc=None,
+        la=1,
+        dashed=False,
+        splined=False,
+        #
+        elw=2,  # error line width
+        ec=None,  # error line or band color
+        error_band=False,  # errors in x are ignored
+        #
+        marker="",
+        ms=None,
+        mc=None,
+        ma=None,
+        # Figure and axes options:
+        like=None,
+        xlim=None,
+        ylim=(None, None),
+        aspect=4 / 3,
+        padding=0.05,
+        #
+        title="",
+        xtitle=" ",
+        ytitle=" ",
+        ac="k",
+        grid=True,
+        ztolerance=None,
+        label="",
+        **fig_kwargs,
+    ):
         """
         Arguments:
             xerrors : (bool)
                 show error bars associated to each point in x
             yerrors : (bool)
                 show error bars associated to each point in y
             lw : (int)
@@ -1741,15 +1716,15 @@
             if mc is None:
                 mc = fig_kwargs["c"]
             if lc is None:
                 lc = fig_kwargs["c"]
             if ec is None:
                 ec = fig_kwargs["c"]
         if lc is None:
-            lc = 'k'
+            lc = "k"
         if mc is None:
             mc = lc
         if ma is None:
             ma = la
         if ec is None:
             if mc is None:
                 ec = lc
@@ -1806,19 +1781,15 @@
                 if utils.is_sequence(mc):
                     fig_kwargs["marker_color"] = None  # for labels
                     mk = shapes.Marker(marker, s=ms)
                     mk.scale([1, 1 / self.yscale, 1])
                     msv = np.zeros_like(pts)
                     msv[:, 0] = 1
                     marked = shapes.Glyph(
-                        pts,
-                        mk,
-                        c=mc,
-                        orientation_array=msv,
-                        scale_by_vector_size=True,
+                        pts, mk, c=mc, orientation_array=msv, scale_by_vector_size=True
                     )
                 else:
                     mk = shapes.Marker(marker, s=ms)
                     mk.scale([1, 1 / self.yscale, 1])
                     marked = shapes.Glyph(pts, mk, c=mc)
 
             marked.name = "Marker"
@@ -1844,42 +1815,42 @@
                 dd = list(reversed(dd.tolist()))
                 band = shapes.Line(du.tolist() + dd, closed=True)
                 band.triangulate().lw(0)
             if ec is None:
                 band.c(lc)
             else:
                 band.c(ec)
-            band.lighting("off").alpha(la).z(ztol/10)
+            band.lighting("off").alpha(la).z(ztol / 20)
             acts.append(band)
 
         else:
 
             ## xerrors
             if xerrors is not None:
                 if len(xerrors) == len(data):
                     errs = []
                     for i, val in enumerate(data):
                         xval, yval = val
                         xerr = xerrors[i] / 2
-                        el = shapes.Line((xval-xerr, yval, ztol), (xval+xerr, yval, ztol))
+                        el = shapes.Line((xval - xerr, yval, ztol), (xval + xerr, yval, ztol))
                         el.lw(elw)
                         errs.append(el)
                     mxerrs = merge(errs).c(ec).lw(lw).alpha(ma).z(2 * ztol)
                     acts.append(mxerrs)
                 else:
                     vedo.logger.error("in PlotXY(xerrors=...): mismatch in array length")
 
             ## yerrors
             if yerrors is not None:
                 if len(yerrors) == len(data):
                     errs = []
                     for i, val in enumerate(data):
                         xval, yval = val
                         yerr = yerrors[i]
-                        el = shapes.Line((xval, yval-yerr, ztol), (xval, yval+yerr, ztol))
+                        el = shapes.Line((xval, yval - yerr, ztol), (xval, yval + yerr, ztol))
                         el.lw(elw)
                         errs.append(el)
                     myerrs = merge(errs).c(ec).lw(lw).alpha(ma).z(2 * ztol)
                     acts.append(myerrs)
                 else:
                     vedo.logger.error("in PlotXY(yerrors=...): mismatch in array length")
 
@@ -1958,22 +1929,22 @@
         import numpy as np
         x = np.linspace(0, 6.28, num=50)
         plot(np.sin(x), 'r').plot(np.cos(x), 'bo-').show().close()
         ```
         <img src="https://user-images.githubusercontent.com/32848391/74363882-c3638300-4dcb-11ea-8a78-eb492ad9711f.png" width="600">
 
     Examples:
-        - [plot_errbars.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/plot_errbars.py)
-        - [plot_errband.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/plot_errband.py)
-        - [plot_pip.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/plot_pip.py)
-        
+        - [plot_errbars.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/plot_errbars.py)
+        - [plot_errband.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/plot_errband.py)
+        - [plot_pip.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/plot_pip.py)
+
             ![](https://vedo.embl.es/images/pyplot/plot_pip.png)
-        
-        - [scatter1.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/scatter1.py)
-        - [scatter2.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/scatter2.py)
+
+        - [scatter1.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/scatter1.py)
+        - [scatter2.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/scatter2.py)
 
 
 
     -------------------------------------------------------------------------
     .. note:: mode="bar"
 
     Creates a `PlotBars(Figure)` object.
@@ -2007,18 +1978,18 @@
             This can be a list of four numbers.
         aspect : (float)
             the desired aspect ratio of the figure. Default is 4/3.
         grid : (bool)
             show the background grid for the axes, can also be set using `axes=dict(xygrid=True)`
 
     Examples:
-        - [histo_1d_a.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_a.py)
-        - [histo_1d_b.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_b.py)
-        - [histo_1d_c.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_c.py)
-        - [histo_1d_d.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_d.py)
+        - [histo_1d_a.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_a.py)
+        - [histo_1d_b.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_b.py)
+        - [histo_1d_c.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_c.py)
+        - [histo_1d_d.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_d.py)
 
         ![](https://vedo.embl.es/images/pyplot/histo_1D.png)
 
 
     ----------------------------------------------------------------------
     .. note:: 2D functions
 
@@ -2036,15 +2007,15 @@
             will draw the specified number of z-levels contour lines
         show_nan : (bool)
             show where the function does not exist as red points
         bins : (list)
             number of bins in x and y
 
     Examples:
-        - [plot_fxy.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/plot_fxy.py)
+        - [plot_fxy.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/plot_fxy.py)
 
             ![](https://vedo.embl.es/images/pyplot/plot_fxy.png)
 
 
     --------------------------------------------------------------------
     .. note:: mode="complex"
 
@@ -2055,15 +2026,15 @@
             diverging color map (white means `imag(z)=0`)
         lw : (float)
             line with of the binning
         bins : (list)
             binning in x and y
 
     Examples:
-        - [plot_fxy.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/plot_fxy.py)
+        - [plot_fxy.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/plot_fxy.py)
 
             ![](https://user-images.githubusercontent.com/32848391/73392962-1709a300-42db-11ea-9278-30c9d6e5eeaa.png)
 
 
     --------------------------------------------------------------------
     .. note:: mode="polar"
 
@@ -2107,15 +2078,15 @@
             draw this number of axis rays (continuous and dashed)
         show_lines : (bool)
             draw lines to the origin
         show_angles : (bool)
             draw angle values
 
     Examples:
-        - [histo_polar.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_polar.py)
+        - [histo_polar.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_polar.py)
 
             ![](https://user-images.githubusercontent.com/32848391/64992590-7fc82400-d8d4-11e9-9c10-795f4756a73f.png)
 
 
     --------------------------------------------------------------------
     .. note:: mode="spheric"
 
@@ -2138,15 +2109,15 @@
             color of the unit sphere
         alpha : (float)
             opacity of the unit sphere
         cmap : (str)
             color map for the surface
 
     Examples:
-        - [plot_spheric.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/plot_spheric.py)
+        - [plot_spheric.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/plot_spheric.py)
 
             ![](https://vedo.embl.es/images/pyplot/plot_spheric.png)
     """
     mode = kwargs.pop("mode", "")
     if "spher" in mode:
         return _plot_spheric(args[0], **kwargs)
 
@@ -2170,15 +2141,15 @@
             opts = opts.replace("--", "")
             kwargs["dashed"] = True
         elif "-" in opts:
             opts = opts.replace("-", "")
         else:
             kwargs["lw"] = 0
 
-        symbs = ['.','o','O', '0', 'p','*','h','D','d','v','^','>','<','s', 'x', 'a']
+        symbs = [".", "o", "O", "0", "p", "*", "h", "D", "d", "v", "^", ">", "<", "s", "x", "a"]
 
         allcols = list(colors.colors.keys()) + list(colors.color_nicks.keys())
         for cc in allcols:
             if cc == "o":
                 continue
             if cc in opts:
                 opts = opts.replace(cc, "")
@@ -2193,36 +2164,36 @@
                 break
 
         opts.replace(" ", "")
         if opts:
             vedo.logger.error(f"in plot(), could not understand option(s): {opts}")
 
     if optidx == 1 or optidx is None:
-        if utils.is_sequence(args[0][0]) and len(args[0][0])>1:
+        if utils.is_sequence(args[0][0]) and len(args[0][0]) > 1:
             # print('------------- case 1', 'plot([(x,y),..])')
-            data = np.asarray(args[0]) #(x,y)
+            data = np.asarray(args[0])  # (x,y)
             x = np.asarray(data[:, 0])
             y = np.asarray(data[:, 1])
 
         elif len(args) == 1 or optidx == 1:
             # print('------------- case 2', 'plot(x)')
             if "pandas" in str(type(args[0])):
                 if "ytitle" not in kwargs:
-                    kwargs.update({"ytitle" : args[0].name.replace("_","\_")})
+                    kwargs.update({"ytitle": args[0].name.replace("_", "_ ")})
             x = np.linspace(0, len(args[0]), num=len(args[0]))
             y = np.asarray(args[0]).ravel()
 
         elif utils.is_sequence(args[1]):
             # print('------------- case 3', 'plot(allx,ally)',str(type(args[0])))
             if "pandas" in str(type(args[0])):
                 if "xtitle" not in kwargs:
-                    kwargs.update({"xtitle" : args[0].name.replace("_","\_")})
+                    kwargs.update({"xtitle": args[0].name.replace("_", "_ ")})
             if "pandas" in str(type(args[1])):
                 if "ytitle" not in kwargs:
-                    kwargs.update({"ytitle" : args[1].name.replace("_","\_")})
+                    kwargs.update({"ytitle": args[1].name.replace("_", "_ ")})
             x = np.asarray(args[0]).ravel()
             y = np.asarray(args[1]).ravel()
 
         elif utils.is_sequence(args[0]) and utils.is_sequence(args[0][0]):
             # print('------------- case 4', 'plot([allx,ally])')
             x = np.asarray(args[0][0]).ravel()
             y = np.asarray(args[0][1]).ravel()
@@ -2294,18 +2265,18 @@
             the desired aspect ratio of the histogram. Default is 4/3.
         grid : (bool)
             show the background grid for the axes, can also be set using `axes=dict(xygrid=True)`
         ztolerance : (float)
             a tolerance factor to superimpose objects (along the z-axis).
 
     Examples:
-        - [histo_1d_a.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_a.py)
-        - [histo_1d_b.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_b.py)
-        - [histo_1d_c.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_c.py)
-        - [histo_1d_d.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_1d_d.py)
+        - [histo_1d_a.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_a.py)
+        - [histo_1d_b.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_b.py)
+        - [histo_1d_c.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_c.py)
+        - [histo_1d_d.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_1d_d.py)
 
         ![](https://vedo.embl.es/images/pyplot/histo_1D.png)
 
 
     -------------------------------------------------------------------------
     .. note:: default mode, for 2D arrays
 
@@ -2348,16 +2319,16 @@
         ztitle : (str)
             title for the scalar bar
         ac : (str)
             axes color, additional keyword for Axes can also be added
             using e.g. `axes=dict(xygrid=True)`
 
     Examples:
-        - [histo_2d_a.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_2d_a.py)
-        - [histo_2d_b.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_2d_b.py)
+        - [histo_2d_a.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_2d_a.py)
+        - [histo_2d_b.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_2d_b.py)
 
         ![](https://vedo.embl.es/images/pyplot/histo_2D.png)
 
 
     -------------------------------------------------------------------------
     .. note:: mode="3d"
 
@@ -2401,15 +2372,15 @@
             sets a scaling factor for the z axis (frequency axis)
         fill : (bool)
             draw solid hexagons
         cmap : (str)
             color map name for elevation
 
     Examples:
-        - [histo_hexagonal.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_hexagonal.py)
+        - [histo_hexagonal.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_hexagonal.py)
 
         ![](https://vedo.embl.es/images/pyplot/histo_hexagonal.png)
 
 
     -------------------------------------------------------------------------
     .. note:: mode="polar"
 
@@ -2461,15 +2432,15 @@
             show lines to the origin
         show_angles : (bool)
             show angular values
         show_errors : (bool)
             show error bars
 
     Examples:
-        - [histo_polar.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_polar.py)
+        - [histo_polar.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_polar.py)
 
         ![](https://vedo.embl.es/images/pyplot/histo_polar.png)
 
 
     -------------------------------------------------------------------------
     .. note:: mode="spheric"
 
@@ -2482,15 +2453,15 @@
             sphere resolution
         cmap : (str)
             color map name
         lw : (int)
             line width of the bin edges
 
     Examples:
-        - [histo_spheric.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/histo_spheric.py)
+        - [histo_spheric.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/histo_spheric.py)
 
         ![](https://vedo.embl.es/images/pyplot/histo_spheric.png)
     """
     mode = kwargs.pop("mode", "")
     if len(args) == 2:  # x, y
 
         if "spher" in mode:
@@ -2514,15 +2485,15 @@
                 data = pd0.ravel()
             else:
                 data = args[0].celldata[0].ravel()
         else:
             try:
                 if "pandas" in str(type(args[0])):
                     if "xtitle" not in kwargs:
-                        kwargs.update({"xtitle" : args[0].name.replace("_","\_")})
+                        kwargs.update({"xtitle": args[0].name.replace("_", "_ ")})
             except:
                 pass
             data = np.asarray(args[0])
 
         if "spher" in mode:
             return _histogram_spheric(args[0][:, 0], args[0][:, 1], **kwargs)
 
@@ -2540,25 +2511,16 @@
         return Histogram2D(args[0], **kwargs)
 
     vedo.logger.error(f"in histogram(): could not understand input {args[0]}")
     return None
 
 
 def fit(
-        points,
-        deg=1,
-        niter=0,
-        nstd=3,
-        xerrors=None,
-        yerrors=None,
-        vrange=None,
-        res=250,
-        lw=3,
-        c='red4',
-    ):
+    points, deg=1, niter=0, nstd=3, xerrors=None, yerrors=None, vrange=None, res=250, lw=3, c="red4"
+):
     """
     Polynomial fitting with parameter error and error bands calculation.
     Errors bars in both x and y are supported.
 
     Returns a `vedo.shapes.Line` object.
 
     Additional information about the fitting output can be accessed with:
@@ -2596,15 +2558,15 @@
             specify the domain range of the fitting line
             (only affects visualization, but can be used to extrapolate the fit
             outside the data range)
         res : (int)
             resolution of the output fitted line and error lines
 
     Examples:
-        - [fit_polynomial1.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/fit_polynomial1.py)
+        - [fit_polynomial1.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/fit_polynomial1.py)
 
         ![](https://vedo.embl.es/images/pyplot/fitPolynomial1.png)
     """
     if isinstance(points, vedo.pointcloud.Points):
         points = points.points()
     points = np.asarray(points)
     if len(points) == 2:  # assume user is passing [x,y]
@@ -2704,27 +2666,27 @@
     cband = l1 + list(reversed(error_lines[1].points().tolist())) + [l1[0]]
     fitl.error_band = shapes.Line(cband).triangulate().lw(0).c("k", 0.15)
     fitl.error_band.name = "PolynomialFitErrorBand"
     return fitl
 
 
 def _plot_fxy(
-        z,
-        xlim=(0, 3),
-        ylim=(0, 3),
-        zlim=(None, None),
-        show_nan=True,
-        zlevels=10,
-        c=None,
-        bc="aqua",
-        alpha=1,
-        texture="",
-        bins=(100, 100),
-        axes=True,
-    ):
+    z,
+    xlim=(0, 3),
+    ylim=(0, 3),
+    zlim=(None, None),
+    show_nan=True,
+    zlevels=10,
+    c=None,
+    bc="aqua",
+    alpha=1,
+    texture="",
+    bins=(100, 100),
+    axes=True,
+):
     if c is not None:
         texture = None  # disable
 
     ps = vtk.vtkPlaneSource()
     ps.SetResolution(bins[0], bins[1])
     ps.SetNormal([0, 0, 1])
     ps.Update()
@@ -2831,24 +2793,24 @@
 
     assem = Assembly(acts)
     assem.name = "PlotFxy"
     return assem
 
 
 def _plot_fz(
-        z,
-        x=(-1, 1),
-        y=(-1, 1),
-        zlimits=(None, None),
-        cmap="PiYG",
-        alpha=1,
-        lw=0.1,
-        bins=(75, 75),
-        axes=True,
-    ):
+    z,
+    x=(-1, 1),
+    y=(-1, 1),
+    zlimits=(None, None),
+    cmap="PiYG",
+    alpha=1,
+    lw=0.1,
+    bins=(75, 75),
+    axes=True,
+):
     ps = vtk.vtkPlaneSource()
     ps.SetResolution(bins[0], bins[1])
     ps.SetNormal([0, 0, 1])
     ps.Update()
     poly = ps.GetOutput()
     dx = x[1] - x[0]
     dy = y[1] - y[0]
@@ -2883,34 +2845,34 @@
     asse.name = "PlotFz"
     if isinstance(z, str):
         asse.name += " " + z
     return asse
 
 
 def _plot_polar(
-        rphi,
-        title="",
-        tsize=0.1,
-        lsize=0.05,
-        r1=0,
-        r2=1,
-        c="blue",
-        bc="k",
-        alpha=1,
-        ps=5,
-        lw=3,
-        deg=False,
-        vmax=None,
-        fill=False,
-        splined=False,
-        nrays=8,
-        show_disc=True,
-        show_lines=True,
-        show_angles=True,
-    ):
+    rphi,
+    title="",
+    tsize=0.1,
+    lsize=0.05,
+    r1=0,
+    r2=1,
+    c="blue",
+    bc="k",
+    alpha=1,
+    ps=5,
+    lw=3,
+    deg=False,
+    vmax=None,
+    fill=False,
+    splined=False,
+    nrays=8,
+    show_disc=True,
+    show_lines=True,
+    show_angles=True,
+):
     if len(rphi) == 2:
         rphi = np.stack((rphi[0], rphi[1]), axis=1)
 
     rphi = np.array(rphi, dtype=float)
     thetas = rphi[:, 0]
     radii = rphi[:, 1]
 
@@ -2979,17 +2941,15 @@
         rgap = 0.05
         for t in np.linspace(0, 2 * np.pi, num=nrays, endpoint=False):
             ct, st = np.cos(t), np.sin(t)
             if show_lines:
                 l = shapes.Line((0, 0, -0.01), (r2e * ct * 1.03, r2e * st * 1.03, -0.01))
                 rays.append(l)
                 ct2, st2 = np.cos(t + np.pi / nrays), np.sin(t + np.pi / nrays)
-                lm = shapes.DashedLine(
-                    (0, 0, -0.01), (r2e * ct2, r2e * st2, -0.01), spacing=0.25
-                )
+                lm = shapes.DashedLine((0, 0, -0.01), (r2e * ct2, r2e * st2, -0.01), spacing=0.25)
                 rays.append(lm)
             elif show_angles:  # just the ticks
                 l = shapes.Line(
                     (r2e * ct * 0.98, r2e * st * 0.98, -0.01),
                     (r2e * ct * 1.03, r2e * st * 1.03, -0.01),
                 )
             if show_angles:
@@ -3060,29 +3020,29 @@
     ssurf.cmap(cmap, newr)
     ssurf.compute_normals()
 
     if scalarbar:
         xm = np.max([np.max(pts[0]), 1])
         ym = np.max([np.abs(np.max(pts[1])), 1])
         ssurf.mapper().SetScalarRange(np.min(newr), np.max(newr))
-        sb3d = ssurf.add_scalarbar3d(s=(xm * 0.07, ym), c="k").scalarbar
+        sb3d = ssurf.add_scalarbar3d(size=(xm * 0.07, ym), c="k").scalarbar
         sb3d.rotate_x(90).pos(xm * 1.1, 0, -0.5)
     else:
         sb3d = None
 
     sg.pickable(False)
     asse = Assembly([ssurf, sg] + nanpts + [sb3d])
     asse.name = "PlotSpheric"
     return asse
 
 
-def _histogram_quad_bin(x,y, **kwargs):
-    # generate a histgram with 3D bars
+def _histogram_quad_bin(x, y, **kwargs):
+    # generate a histogram with 3D bars
     #
-    histo = Histogram2D(x,y, **kwargs)
+    histo = Histogram2D(x, y, **kwargs)
 
     gap = kwargs.pop("gap", 0)
     zscale = kwargs.pop("zscale", 1)
     cmap = kwargs.pop("cmap", "Blues_r")
 
     gr = histo.actors[2]
     d = gr.diagonal_size()
@@ -3124,23 +3084,16 @@
     histo.actors[2] = msh
     histo.RemovePart(gr)
     histo.AddPart(msh)
     return histo
 
 
 def _histogram_hex_bin(
-        xvalues,
-        yvalues,
-        bins=12,
-        norm=1,
-        fill=True,
-        c=None,
-        cmap="terrain_r",
-        alpha=1,
-    ):
+    xvalues, yvalues, bins=12, norm=1, fill=True, c=None, cmap="terrain_r", alpha=1
+):
     xmin, xmax = np.min(xvalues), np.max(xvalues)
     ymin, ymax = np.min(yvalues), np.max(yvalues)
     dx, dy = xmax - xmin, ymax - ymin
 
     if utils.is_sequence(bins):
         n, m = bins
     else:
@@ -3217,55 +3170,53 @@
     asse.base = np.array([0, 0, 0], dtype=float)
     asse.top = np.array([0, 0, 1], dtype=float)
     asse.name = "HistogramHexBin"
     return asse
 
 
 def _histogram_polar(
-        values,
-        weights=None,
-        title="",
-        tsize=0.1,
-        bins=16,
-        r1=0.25,
-        r2=1,
-        phigap=0.5,
-        rgap=0.05,
-        lpos=1,
-        lsize=0.04,
-        c='grey',
-        bc="k",
-        alpha=1,
-        cmap=None,
-        deg=False,
-        vmin=None,
-        vmax=None,
-        labels=(),
-        show_disc=True,
-        nrays=8,
-        show_lines=True,
-        show_angles=True,
-        show_errors=False,
-    ):
+    values,
+    weights=None,
+    title="",
+    tsize=0.1,
+    bins=16,
+    r1=0.25,
+    r2=1,
+    phigap=0.5,
+    rgap=0.05,
+    lpos=1,
+    lsize=0.04,
+    c="grey",
+    bc="k",
+    alpha=1,
+    cmap=None,
+    deg=False,
+    vmin=None,
+    vmax=None,
+    labels=(),
+    show_disc=True,
+    nrays=8,
+    show_lines=True,
+    show_angles=True,
+    show_errors=False,
+):
     k = 180 / np.pi
     if deg:
         values = np.array(values, dtype=float) / k
     else:
         values = np.array(values, dtype=float)
 
     vals = []
     for v in values:  # normalize range
         t = np.arctan2(np.sin(v), np.cos(v))
         if t < 0:
             t += 2 * np.pi
         vals.append(t + 0.00001)
 
-    histodata, edges = np.histogram(
-        vals, weights=weights, bins=bins, range=(0, 2 * np.pi)
-    )
+    histodata, edges = np.histogram(vals, weights=weights, bins=bins, range=(0, 2 * np.pi))
 
     thetas = []
     for i in range(bins):
         thetas.append((edges[i] + edges[i + 1]) / 2)
 
     if vmin is None:
         vmin = np.min(histodata)
@@ -3331,17 +3282,15 @@
         rgap = 0.05
         for t in np.linspace(0, 2 * np.pi, num=nrays, endpoint=False):
             ct, st = np.cos(t), np.sin(t)
             if show_lines:
                 l = shapes.Line((0, 0, -0.01), (r2e * ct * 1.03, r2e * st * 1.03, -0.01))
                 rays.append(l)
                 ct2, st2 = np.cos(t + np.pi / nrays), np.sin(t + np.pi / nrays)
-                lm = shapes.DashedLine(
-                    (0, 0, -0.01), (r2e * ct2, r2e * st2, -0.01), spacing=0.25
-                )
+                lm = shapes.DashedLine((0, 0, -0.01), (r2e * ct2, r2e * st2, -0.01), spacing=0.25)
                 rays.append(lm)
             elif show_angles:  # just the ticks
                 l = shapes.Line(
                     (r2e * ct * 0.98, r2e * st * 0.98, -0.01),
                     (r2e * ct * 1.03, r2e * st * 1.03, -0.01),
                 )
             if show_angles:
@@ -3385,20 +3334,21 @@
     acts = slices + errbars + [mrg]
     asse = Assembly(acts)
     asse.frequencies = histodata
     asse.bins = edges
     asse.name = "HistogramPolar"
     return asse
 
+
 def _histogram_spheric(thetavalues, phivalues, rmax=1.2, res=8, cmap="rainbow", gap=0.1):
 
     x, y, z = utils.spher2cart(np.ones_like(thetavalues) * 1.1, thetavalues, phivalues)
     ptsvals = np.c_[x, y, z]
 
-    sg = shapes.Sphere(res=res, quads=True).shrink(1-gap)
+    sg = shapes.Sphere(res=res, quads=True).shrink(1 - gap)
     sgfaces = sg.faces()
     sgpts = sg.points()
 
     cntrs = sg.cell_centers()
     counts = np.zeros(len(cntrs))
     for p in ptsvals:
         cell = sg.closest_point(p, return_cell_id=True)
@@ -3416,49 +3366,49 @@
         sgpts[fs] = np.c_[x, y, z]
 
     sg.points(sgpts)
     sg.cmap(cmap, acounts, on="cells")
     vals = sg.celldata["Scalars"]
 
     faces = sg.faces()
-    points = sg.points().tolist() + [[0.,0.,0.]]
-    lp = len(points)-1
+    points = sg.points().tolist() + [[0.0, 0.0, 0.0]]
+    lp = len(points) - 1
     newfaces = []
     newvals = []
     for i, f in enumerate(faces):
-        p0,p1,p2,p3 = f
+        p0, p1, p2, p3 = f
         newfaces.append(f)
-        newfaces.append([p0,lp,p1])
-        newfaces.append([p1,lp,p2])
-        newfaces.append([p2,lp,p3])
-        newfaces.append([p3,lp,p0])
-        for j in range(5):
+        newfaces.append([p0, lp, p1])
+        newfaces.append([p1, lp, p2])
+        newfaces.append([p2, lp, p3])
+        newfaces.append([p3, lp, p0])
+        for _ in range(5):
             newvals.append(vals[i])
 
-    newsg = Mesh([points, newfaces]).cmap(cmap,newvals,on='cells')
-    newsg.compute_normals().lw(0.1).flat()
+    newsg = Mesh([points, newfaces]).cmap(cmap, newvals, on="cells")
+    newsg.compute_normals().flat()
     newsg.name = "HistogramSpheric"
     return newsg
 
 
 def donut(
-        fractions,
-        title="",
-        tsize=0.3,
-        r1=1.7,
-        r2=1,
-        phigap=0,
-        lpos=0.8,
-        lsize=0.15,
-        c=None,
-        bc="k",
-        alpha=1,
-        labels=(),
-        show_disc=False,
-    ):
+    fractions,
+    title="",
+    tsize=0.3,
+    r1=1.7,
+    r2=1,
+    phigap=0,
+    lpos=0.8,
+    lsize=0.15,
+    c=None,
+    bc="k",
+    alpha=1,
+    labels=(),
+    show_disc=False,
+):
     """
     Donut plot or pie chart.
 
     Arguments:
         title : (str)
             plot title
         tsize : (float)
@@ -3480,15 +3430,15 @@
             opacity of the disc frame
         labels : (list)
             list of labels
         show_disc : (bool)
             show the outer ring axis
 
     Examples:
-        - [donut.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/donut.py)
+        - [donut.py](https://github.com/marcomusy/vedo/tree/master/examples/pyplot/donut.py)
 
             ![](https://vedo.embl.es/images/pyplot/donut.png)
     """
     fractions = np.array(fractions, dtype=float)
     angles = np.add.accumulate(2 * np.pi * fractions)
     angles[-1] = 2 * np.pi
     if angles[-2] > 2 * np.pi:
@@ -3502,15 +3452,15 @@
                 cols.append(c[ia])
                 break
     labs = ()
     if labels:
         angles = np.concatenate([[0], angles])
         labs = [""] * 360
         for i in range(len(labels)):
-            a = (angles[i+1] + angles[i]) / 2
+            a = (angles[i + 1] + angles[i]) / 2
             j = int(a / np.pi * 180)
             labs[j] = labels[i]
 
     data = np.linspace(0, 2 * np.pi, 360, endpoint=False) + 0.005
     dn = _histogram_polar(
         data,
         title=title,
@@ -3533,28 +3483,28 @@
         show_errors=0,
     )
     dn.name = "Donut"
     return dn
 
 
 def violin(
-        values,
-        bins=10,
-        vlim=None,
-        x=0,
-        width=3,
-        splined=True,
-        fill=True,
-        c="violet",
-        alpha=1,
-        outline=True,
-        centerline=True,
-        lc="darkorchid",
-        lw=3,
-    ):
+    values,
+    bins=10,
+    vlim=None,
+    x=0,
+    width=3,
+    splined=True,
+    fill=True,
+    c="violet",
+    alpha=1,
+    outline=True,
+    centerline=True,
+    lc="darkorchid",
+    lw=3,
+):
     """
     Violin style histogram.
 
     Arguments:
         bins : (int)
             number of bins
         vlim : (list)
@@ -3635,25 +3585,15 @@
         rs.append(cl)
 
     asse = Assembly(rs)
     asse.name = "Violin"
     return asse
 
 
-def whisker(
-        data,
-        s=0.25,
-        c='k',
-        lw=2,
-        bc='blue',
-        alpha=0.25,
-        r=5,
-        jitter=True,
-        horizontal=False,
-    ):
+def whisker(data, s=0.25, c="k", lw=2, bc="blue", alpha=0.25, r=5, jitter=True, horizontal=False):
     """
     Generate a "whisker" bar from a 1-dimensional dataset.
 
     Arguments:
         s : (float)
             size of the box
         c : (color)
@@ -3690,17 +3630,15 @@
 
     pts = None
     if r:
         pts = shapes.Points([xvals, data], c=c, r=r)
 
     rec = shapes.Rectangle([-s / 2, dq25], [s / 2, dq75], c=bc, alpha=alpha)
     rec.GetProperty().LightingOff()
-    rl = shapes.Line(
-        [[-s / 2, dq25], [s / 2, dq25], [s / 2, dq75], [-s / 2, dq75]], closed=True
-    )
+    rl = shapes.Line([[-s / 2, dq25], [s / 2, dq25], [s / 2, dq75], [-s / 2, dq75]], closed=True)
     l1 = shapes.Line([0, dq05, 0], [0, dq25, 0], c=c, lw=lw)
     l2 = shapes.Line([0, dq75, 0], [0, dq95, 0], c=c, lw=lw)
     lm = shapes.Line([-s / 2, dmean], [s / 2, dmean])
     lns = merge(l1, l2, lm, rl)
     asse = Assembly([lns, rec, pts])
     if horizontal:
         asse.rotate_z(-90)
@@ -3710,24 +3648,15 @@
     asse.info["quantile_25"] = dq25
     asse.info["quantile_75"] = dq75
     asse.info["quantile_95"] = dq95
     return asse
 
 
 def streamplot(
-    X,
-    Y,
-    U,
-    V,
-    direction="both",
-    max_propagation=None,
-    mode=1,
-    lw=0.001,
-    c=None,
-    probes=(),
+    X, Y, U, V, direction="both", max_propagation=None, mode=1, lw=0.001, c=None, probes=()
 ):
     """
     Generate a streamline plot of a vectorial field (U,V) defined at positions (X,Y).
     Returns a `Mesh` object.
 
     Arguments:
         direction : (str)
@@ -3763,15 +3692,15 @@
 
     uf = np.ravel(U, order="F")
     vf = np.ravel(V, order="F")
     vects = np.c_[uf, vf, np.zeros_like(uf)]
     vol.pointdata["StreamPlotField"] = vects
 
     if len(probes) == 0:
-        probe = shapes.Grid(pos=((n-1)/2,(n-1)/2,0), s=(n-1, n-1), res=(n-1,n-1))
+        probe = shapes.Grid(pos=((n - 1) / 2, (n - 1) / 2, 0), s=(n - 1, n - 1), res=(n - 1, n - 1))
     else:
         if isinstance(probes, vedo.Points):
             probes = probes.points()
         else:
             probes = np.array(probes, dtype=float)
             if len(probes[0]) == 2:
                 probes = np.c_[probes[:, 0], probes[:, 1], np.zeros(len(probes))]
@@ -3779,15 +3708,15 @@
         probes = probes - [xmin, ymin, 0]
         probes = np.multiply(probes, sv)
         probe = vedo.Points(probes)
 
     stream = vedo.shapes.StreamLines(
         vol,
         probe,
-        tubes={"radius": lw, "mode": mode,},
+        tubes={"radius": lw, "mode": mode},
         lw=lw,
         max_propagation=max_propagation,
         direction=direction,
     )
     if c is not None:
         stream.color(c)
     else:
@@ -3796,33 +3725,33 @@
 
     stream.scale([1 / (n - 1) * (xmax - xmin), 1 / (n - 1) * (ymax - ymin), 1])
     stream.shift(xmin, ymin)
     return stream
 
 
 def matrix(
-        M,
-        title='Matrix',
-        xtitle='',
-        ytitle='',
-        xlabels=(),
-        ylabels=(),
-        xrotation=0,
-        cmap='Reds',
-        vmin=None,
-        vmax=None,
-        precision=2,
-        font='Theemim',
-        scale=0,
-        scalarbar=True,
-        lc='white',
-        lw=0,
-        c='black',
-        alpha=1,
-    ):
+    M,
+    title="Matrix",
+    xtitle="",
+    ytitle="",
+    xlabels=(),
+    ylabels=(),
+    xrotation=0,
+    cmap="Reds",
+    vmin=None,
+    vmax=None,
+    precision=2,
+    font="Theemim",
+    scale=0,
+    scalarbar=True,
+    lc="white",
+    lw=0,
+    c="black",
+    alpha=1,
+):
     """
     Generate a matrix, or a 2D color-coded plot with bin labels.
 
     Returns an `Assembly` object.
 
     Arguments:
         M : (list, numpy array)
@@ -3900,43 +3829,37 @@
     xlabs = None
     if len(xlabels) == m:
         xlabs = []
         jus = "top-center"
         if xrotation > 44:
             jus = "right-center"
         for i in range(m):
-            xl = shapes.Text3D(xlabels[i], font=font, s=0.02, justify=jus, c=c).rotate_z(
-                xrotation
-            )
+            xl = shapes.Text3D(xlabels[i], font=font, s=0.02, justify=jus, c=c).rotate_z(xrotation)
             xl.shift((2 * i - m + 1) / (m + n), -n / (m + n) * 1.05)
             xlabs.append(xl)
 
     ylabs = None
     if len(ylabels) == n:
         ylabels = list(reversed(ylabels))
         ylabs = []
         for i in range(n):
-            yl = shapes.Text3D(
-                ylabels[i], font=font, s=0.02, justify="right-center", c=c
-            )
+            yl = shapes.Text3D(ylabels[i], font=font, s=0.02, justify="right-center", c=c)
             yl.shift(-m / (m + n) * 1.05, (2 * i - n + 1) / (m + n))
             ylabs.append(yl)
 
     xt = None
     if xtitle:
         xt = shapes.Text3D(xtitle, font=font, s=0.035, justify="top-center", c=c)
         xt.shift(0, -n / (m + n) * 1.05)
         if xlabs is not None:
             y0, y1 = xlabs[0].ybounds()
             xt.shift(0, -(y1 - y0) - 0.55 / (m + n))
     yt = None
     if ytitle:
-        yt = shapes.Text3D(
-            ytitle, font=font, s=0.035, justify="bottom-center", c=c
-        ).rotate_z(90)
+        yt = shapes.Text3D(ytitle, font=font, s=0.035, justify="bottom-center", c=c).rotate_z(90)
         yt.shift(-m / (m + n) * 1.05, 0)
         if ylabs is not None:
             x0, x1 = ylabs[0].xbounds()
             yt.shift(-(x1 - x0) - 0.55 / (m + n), 0)
     asse = Assembly(gr, sbar, labs, t, xt, yt, xlabs, ylabs)
     asse.name = "Matrix"
     return asse
@@ -4018,29 +3941,29 @@
         xyplot.GetPositionCoordinate().SetValue(pos[0], pos[1], 0)
 
     xyplot.GetPosition2Coordinate().SetValue(s, s, 0)
     return xyplot
 
 
 def CornerHistogram(
-        values,
-        bins=20,
-        vrange=None,
-        minbin=0,
-        logscale=False,
-        title="",
-        c="g",
-        bg="k",
-        alpha=1,
-        pos="bottom-left",
-        s=0.175,
-        lines=True,
-        dots=False,
-        nmax=None,
-    ):
+    values,
+    bins=20,
+    vrange=None,
+    minbin=0,
+    logscale=False,
+    title="",
+    c="g",
+    bg="k",
+    alpha=1,
+    pos="bottom-left",
+    s=0.175,
+    lines=True,
+    dots=False,
+    nmax=None,
+):
     """
     Build a histogram from a list of values in n bins.
     The resulting object is a 2D actor.
 
     Use `vrange` to restrict the range of the histogram.
 
     Use `nmax` to limit the sampling to this max nr of entries
@@ -4065,15 +3988,15 @@
 
     if minbin:
         fs = fs[minbin:-1]
     if logscale:
         fs = np.log10(fs + 1)
     pts = []
     for i in range(len(fs)):
-        pts.append([(edges[i] + edges[i+1]) / 2, fs[i]])
+        pts.append([(edges[i] + edges[i + 1]) / 2, fs[i]])
 
     cplot = CornerPlot(pts, pos, s, title, c, bg, lines, dots)
     cplot.SetNumberOfYLabels(2)
     cplot.SetNumberOfXLabels(3)
     tprop = vtk.vtkTextProperty()
     tprop.SetColor(colors.get_color(bg))
     tprop.SetFontFamily(vtk.VTK_FONT_FILE)
@@ -4089,14 +4012,15 @@
     return cplot
 
 
 class DirectedGraph(Assembly):
     """
     Support for Directed Graphs.
     """
+
     def __init__(self, **kargs):
         """
         A graph consists of a collection of nodes (without postional information)
         and a collection of edges connecting pairs of nodes.
         The task is to determine the node positions only based on their connections.
 
         This class is derived from class `Assembly`, and it assembles 4 Mesh objects
@@ -4162,17 +4086,17 @@
             three_dimensional : (bool)
                 allow optimization in the 3rd dimension too
             random_initial_points : (bool)
                 use random positions within the graph bounds as initial points
 
         Examples:
             - [lineage_graph.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/lineage_graph.py)
-            
+
                 ![](https://vedo.embl.es/images/pyplot/graph_lineage.png)
-            
+
             - [graph_network.py](https://github.com/marcomusy/vedo/tree/master/examples/examples/pyplot/graph_network.py)
 
                 ![](https://vedo.embl.es/images/pyplot/graph_network.png)
         """
 
         vedo.Assembly.__init__(self)
 
@@ -4206,24 +4130,15 @@
 
         self.gl = vtk.vtkGraphLayout()
 
         self.font = kargs.pop("font", "")
 
         s = kargs.pop("layout", "2d")
         if isinstance(s, int):
-            ss = [
-                "2d",
-                "fast2d",
-                "clustering2d",
-                "circular",
-                "circular3d",
-                "cone",
-                "force",
-                "tree",
-            ]
+            ss = ["2d", "fast2d", "clustering2d", "circular", "circular3d", "cone", "force", "tree"]
             s = ss[s]
         self.layout = s
 
         if "2d" in s:
             if "clustering" in s:
                 self.strategy = vtk.vtkClustering2DLayoutStrategy()
             elif "fast" in s:
@@ -4295,25 +4210,22 @@
 
         elif "tree" in s:
             self.strategy = vtk.vtkSpanTreeLayoutStrategy()
             self.rotX = 180
 
         else:
             vedo.logger.error(f"Cannot understand layout {s}. Available layouts:")
-            vedo.logger.error(
-                "[2d,fast2d,clustering2d,circular,circular3d,cone,force,tree]"
-            )
+            vedo.logger.error("[2d,fast2d,clustering2d,circular,circular3d,cone,force,tree]")
             raise RuntimeError()
 
         self.gl.SetLayoutStrategy(self.strategy)
 
-        if len(kargs):
+        if len(kargs) > 0:
             vedo.logger.error(f"Cannot understand options: {kargs}")
 
-
     def add_node(self, label="id"):
         """Add a new node to the `Graph`."""
         v = self.mdg.AddVertex()  # vtk calls it vertex..
         self.nodes.append(v)
         if label == "id":
             label = int(v)
         self._node_labels.append(str(label))
@@ -4415,19 +4327,15 @@
             font=self.font,
             justify=self.node_label_justify,
         )
         node_labels.color(self._c).pickable(True)
         node_labels.name = "DirectedGraphNodeLabels"
 
         edge_labels = dgraph.labels(
-            self._edge_labels,
-            on="cells",
-            scale=self.edge_label_scale,
-            precision=0,
-            font=self.font,
+            self._edge_labels, on="cells", scale=self.edge_label_scale, precision=0, font=self.font
         )
         edge_labels.color(self._c).pickable(True)
         edge_labels.name = "DirectedGraphEdgeLabels"
 
         Assembly.__init__(self, [dgraph, node_labels, edge_labels, arrows])
         self.name = "DirectedGraphAssembly"
         return self
```

### Comparing `vedo-2023.4.4/vedo/shapes.py` & `vedo-2023.4.5/vedo/shapes.py`

 * *Files 2% similar despite different names*

```diff
@@ -156,79 +156,71 @@
     At each vertex of a mesh, another mesh, i.e. a "glyph", is shown with
     various orientation options and coloring.
 
     The input can also be a simple list of 2D or 3D coordinates.
     Color can be specified as a colormap which maps the size of the orientation
     vectors in `orientation_array`.
     """
+
     def __init__(
-            self,
-            mesh,
-            glyph,
-            orientation_array=None,
-            scale_by_scalar=False,
-            scale_by_vector_size=False,
-            scale_by_vector_components=False,
-            color_by_scalar=False,
-            color_by_vector_size=False,
-            tol=0,
-            c='k8',
-            alpha=1,
-            **opts,
-        ):
+        self,
+        mesh,
+        glyph,
+        orientation_array=None,
+        scale_by_scalar=False,
+        scale_by_vector_size=False,
+        scale_by_vector_components=False,
+        color_by_scalar=False,
+        color_by_vector_size=False,
+        c="k8",
+        alpha=1.0,
+        **opts,
+    ):
         """
         Arguments:
             orientation_array: (list, str, vtkArray)
                 list of vectors, `vtkArray` or name of an already existing pointdata array
             scale_by_scalar : (bool)
                 glyph mesh is scaled by the active scalars
             scale_by_vector_size : (bool)
                 glyph mesh is scaled by the size of the vectors
             scale_by_vector_components : (bool)
                 glyph mesh is scaled by the 3 vectors components
             color_by_scalar : (bool)
                 glyph mesh is colored based on the scalar value
             color_by_vector_size : (bool)
                 glyph mesh is colored based on the vector size
-            tol : (float)
-                set a minimum separation between two close glyphs
-                (not compatible with `orientation_array` being a list).
 
         Examples:
-            - [glyphs.py](]https://github.com/marcomusy/vedo/tree/master/examples/basic/glyphs.py)
+            - [glyphs1.py](]https://github.com/marcomusy/vedo/tree/master/examples/basic/glyphs1.py)
             - [glyphs_arrows.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/glyphs_arrows.py)
 
             ![](https://vedo.embl.es/images/basic/glyphs.png)
         """
-        if len(opts): # Deprecations
-            printc(" Warning! In Glyph() unrecognized keywords:", opts, c='y')
+        if len(opts) > 0:  # Deprecations
+            printc(":noentry: Warning! In Glyph() unrecognized keywords:", opts, c="y")
             orientation_array = opts.pop("orientationArray", orientation_array)
             scale_by_scalar = opts.pop("scaleByScalar", scale_by_scalar)
             scale_by_vector_size = opts.pop("scaleByVectorSize", scale_by_vector_size)
-            scale_by_vector_components = opts.pop("scaleByVectorComponents", scale_by_vector_components)
+            scale_by_vector_components = opts.pop(
+                "scaleByVectorComponents", scale_by_vector_components
+            )
             color_by_scalar = opts.pop("colorByScalar", color_by_scalar)
             color_by_vector_size = opts.pop("colorByVectorSize", color_by_vector_size)
-            printc("          Please use 'snake_case' instead of 'camelCase' keywords", c='y')
+            printc("          Please use 'snake_case' instead of 'camelCase' keywords", c="y")
 
         lighting = None
         if utils.is_sequence(mesh):
             # create a cloud of points
             poly = Points(mesh).polydata()
         elif isinstance(mesh, vtk.vtkPolyData):
             poly = mesh
         else:
             poly = mesh.polydata()
 
-        if tol:
-            cpd = vtk.vtkCleanPolyData()
-            cpd.SetInputData(poly)
-            cpd.SetTolerance(tol)
-            cpd.Update()
-            poly = cpd.GetOutput()
-
         if isinstance(glyph, Points):
             lighting = glyph.property.GetLighting()
             glyph = glyph.polydata()
 
         cmap = ""
         if isinstance(c, str) and c in cmaps_names:
             cmap = c
@@ -241,14 +233,15 @@
                 cl = get_color(col)
                 ucols.InsertNextTuple3(cl[0] * 255, cl[1] * 255, cl[2] * 255)
             poly.GetPointData().AddArray(ucols)
             poly.GetPointData().SetActiveScalars("glyph_RGB")
             c = None
 
         gly = vtk.vtkGlyph3D()
+        gly.GeneratePointIdsOn()
         gly.SetInputData(poly)
         gly.SetSourceData(glyph)
 
         if scale_by_scalar:
             gly.SetScaleModeToScaleByScalar()
         elif scale_by_vector_size:
             gly.SetScaleModeToScaleByVector()
@@ -270,15 +263,15 @@
             if isinstance(orientation_array, str):
                 if orientation_array.lower() == "normals":
                     gly.SetVectorModeToUseNormal()
                 else:  # passing a name
                     poly.GetPointData().SetActiveVectors(orientation_array)
                     gly.SetInputArrayToProcess(0, 0, 0, 0, orientation_array)
                     gly.SetVectorModeToUseVector()
-            elif utils.is_sequence(orientation_array) and not tol:  # passing a list
+            elif utils.is_sequence(orientation_array):  # passing a list
                 varr = vtk.vtkFloatArray()
                 varr.SetNumberOfComponents(3)
                 varr.SetName("glyph_vectors")
                 for v in orientation_array:
                     varr.InsertNextTuple(v)
                 poly.GetPointData().AddArray(varr)
                 poly.GetPointData().SetActiveVectors("glyph_vectors")
@@ -318,26 +311,27 @@
 
     For each tensor, the eigenvalues (and associated eigenvectors) are sorted
     to determine the major, medium, and minor eigenvalues/eigenvectors.
     The eigenvalue decomposition only makes sense for symmetric tensors,
     hence the need to only consider the symmetric part of the tensor,
     which is `1/2*(T+T.transposed())`.
     """
+
     def __init__(
         self,
         domain,
         source="ellipsoid",
         use_eigenvalues=True,
         is_symmetric=True,
         three_axes=False,
-        scale=1,
+        scale=1.0,
         max_scale=None,
         length=None,
         c=None,
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Arguments:
             source : (str, Mesh)
                 preset type of source shape
                 `['ellipsoid', 'cylinder', 'cube' or any specified `Mesh`]`
             use_eigenvalues : (bool)
@@ -359,15 +353,15 @@
             scale : (float)
                 scaling factor of the source glyph.
             max_scale : (float)
                 clamp scaling at this factor.
 
         Examples:
             - [tensors.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/tensors.py)
-            - [tensor_grid.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/tensor_grid.py)
+            - [tensor_grid1.py](https://github.com/marcomusy/vedo/tree/master/examples/other/tensor_grid1.py)
 
             ![](https://vedo.embl.es/images/volumetric/tensor_grid.png)
         """
         if isinstance(source, Points):
             src = source.normalize().polydata(False)
         else:
             if "ellip" in source:
@@ -422,15 +416,16 @@
     """
     Build the line segment between points `p0` and `p1`.
 
     If `p0` is already a list of points, return the line connecting them.
 
     A 2D set of coords can also be passed as `p0=[x..], p1=[y..]`.
     """
-    def __init__(self, p0, p1=None, closed=False, res=2, lw=1, c="k1", alpha=1):
+
+    def __init__(self, p0, p1=None, closed=False, res=2, lw=1, c="k1", alpha=1.0):
         """
         Arguments:
             closed : (bool)
                 join last to first point
             res : (int)
                 resolution, number of points along the line
                 (only relevant if only 2 points are specified)
@@ -462,15 +457,15 @@
             if isinstance(p0, Points):
                 p0 = p0.GetPosition()
         if isinstance(p0, Points):
             p0 = p0.points()
 
         # detect if user is passing a 2D list of points as p0=xlist, p1=ylist:
         if len(p0) > 3:
-            if not utils.is_sequence(p0[0]) and not utils.is_sequence(p1[0]) and len(p0)==len(p1):
+            if not utils.is_sequence(p0[0]) and not utils.is_sequence(p1[0]) and len(p0) == len(p1):
                 # assume input is 2D xlist, ylist
                 p0 = np.stack((p0, p1), axis=1)
                 p1 = None
             p0 = utils.make3d(p0)
 
         # detect if user is passing a list of points:
         if utils.is_sequence(p0[0]):
@@ -753,15 +748,16 @@
     """
     Consider using `Line.pattern()` instead.
 
     Build a dashed line segment between points `p0` and `p1`.
     If `p0` is a list of points returns the line connecting them.
     A 2D set of coords can also be passed as `p0=[x..], p1=[y..]`.
     """
-    def __init__(self, p0, p1=None, spacing=0.1, closed=False, lw=2, c="k5", alpha=1):
+
+    def __init__(self, p0, p1=None, spacing=0.1, closed=False, lw=2, c="k5", alpha=1.0):
         """
         Arguments:
             closed : (bool)
                 join last to first point
             spacing : (float)
                 relative size of the dash
             lw : (int)
@@ -772,15 +768,15 @@
             if isinstance(p0, vtk.vtkActor):
                 p0 = p0.GetPosition()
         if isinstance(p0, Points):
             p0 = p0.points()
 
         # detect if user is passing a 2D list of points as p0=xlist, p1=ylist:
         if len(p0) > 3:
-            if not utils.is_sequence(p0[0]) and not utils.is_sequence(p1[0]) and len(p0)==len(p1):
+            if not utils.is_sequence(p0[0]) and not utils.is_sequence(p1[0]) and len(p0) == len(p1):
                 # assume input is 2D xlist, ylist
                 p0 = np.stack((p0, p1), axis=1)
                 p1 = None
             p0 = utils.make3d(p0)
             if closed:
                 p0 = np.append(p0, [p0[0]], axis=0)
 
@@ -853,15 +849,16 @@
 
 
 class RoundedLine(Mesh):
     """
     Create a 2D line of specified thickness (in absolute units) passing through
     a list of input points. Borders of the line are rounded.
     """
-    def __init__(self, pts, lw, res=10, c="gray4", alpha=1):
+
+    def __init__(self, pts, lw, res=10, c="gray4", alpha=1.0):
         """
         Arguments:
             pts : (list)
                 a list of points in 2D or 3D (z will be ignored).
             lw : (float)
                 thickness of the line.
             res : (int)
@@ -951,24 +948,17 @@
 
 
 class Lines(Mesh):
     """
     Build the line segments between two lists of points `start_pts` and `end_pts`.
     `start_pts` can be also passed in the form `[[point1, point2], ...]`.
     """
+
     def __init__(
-        self,
-        start_pts,
-        end_pts=None,
-        dotted=False,
-        res=1,
-        scale=1,
-        lw=1,
-        c="k4",
-        alpha=1,
+        self, start_pts, end_pts=None, dotted=False, res=1, scale=1.0, lw=1, c="k4", alpha=1.0
     ):
         """
         Arguments:
             scale : (float)
                 apply a rescaling factor to the lengths.
             c : (color, int, str, list)
                 color name, number, or list of [R,G,B] colors
@@ -1046,23 +1036,24 @@
 
 
 class Spline(Line):
     """
     Find the B-Spline curve through a set of points. This curve does not necessarily
     pass exactly through all the input points. Needs to import `scipy`.
     """
-    def __init__(self, points, smooth=0, degree=2, closed=False, res=None, easing=""):
+
+    def __init__(self, points, smooth=0.0, degree=2, closed=False, res=None, easing=""):
         """
         Arguments:
             smooth : (float)
                 smoothing factor.
                 - 0 = interpolate points exactly [default].
                 - 1 = average point positions.
             degree : (int)
-                degree of the spline (1<degree<5)
+                degree of the spline (between 1 and 5).
             easing : (str)
                 control sensity of points along the spline.
                 Available options are
                 `[InSine, OutSine, Sine, InQuad, OutQuad, InCubic, OutCubic, InQuart, OutQuart, InCirc, OutCirc].`
                 Can be used to create animations (move objects at varying speed).
                 See e.g.: https://easings.net
             res : (int)
@@ -1134,15 +1125,17 @@
 
 
 class KSpline(Line):
     """
     Return a [Kochanek spline](https://en.wikipedia.org/wiki/Kochanek%E2%80%93Bartels_spline)
     which runs exactly through all the input points.
     """
-    def __init__(self, points, continuity=0, tension=0, bias=0, closed=False, res=None):
+
+    def __init__(self, points, 
+                 continuity=0.0, tension=0.0, bias=0.0, closed=False, res=None):
         """
         Arguments:
             continuity : (float)
                 changes the sharpness in change between tangents
             tension : (float)
                 changes the length of the tangent vector
             bias : (float)
@@ -1202,14 +1195,15 @@
         self.top = np.array(points[-1], dtype=float)
 
 
 class CSpline(Line):
     """
     Return a Cardinal spline which runs exactly through all the input points.
     """
+
     def __init__(self, points, closed=False, res=None):
         """
         Arguments:
             closed : (bool)
                 join last to first point to produce a closed curve
             res : (int)
                 approximate resolution of the output line.
@@ -1257,14 +1251,15 @@
         self.top = points[-1]
 
 
 class Bezier(Line):
     """
     Generate the Bezier line that links the first to the last point.
     """
+
     def __init__(self, points, res=None):
         """
         Example:
             ```python
             from vedo import *
             import numpy as np
             pts = np.random.randn(25,3)
@@ -1300,21 +1295,28 @@
             bcurve += np.outer(b, points[ii])
         Line.__init__(self, bcurve, lw=2)
         self.name = "BezierLine"
 
 
 class NormalLines(Mesh):
     """
-    Build an `Glyph` made of the normals at cells shown as lines.
+    Build an `Glyph` to show the normals at cell centers or at mesh vertices.
+
+    Arguments:
+        ratio : (int)
+            show 1 normal every `ratio` cells.
+        on : (str)
+            either "cells" or "points".
+        scale : (float)
+            scale factor to control size.
     """
-    def __init__(self, mesh, ratio=1, on="cells", scale=1):
-        """
-        If `on="points"` normals are shown at mesh vertices.
-        """
-        poly = mesh.clone().compute_normals().polydata()
+
+    def __init__(self, msh, ratio=1, on="cells", scale=1.0):
+
+        poly = msh.clone().compute_normals().polydata()
 
         if "cell" in on:
             centers = vtk.vtkCellCenters()
             centers.SetInputData(poly)
             centers.Update()
             poly = centers.GetOutput()
 
@@ -1330,23 +1332,28 @@
         ln.Update()
         glyph = vtk.vtkGlyph3D()
         glyph.SetSourceData(ln.GetOutput())
         glyph.SetInputData(mask_pts.GetOutput())
         glyph.SetVectorModeToUseNormal()
 
         b = poly.GetBounds()
-        sc = max([b[1] - b[0], b[3] - b[2], b[5] - b[4]]) / 50 * scale
-        glyph.SetScaleFactor(sc)
+        f = max([b[1] - b[0], b[3] - b[2], b[5] - b[4]]) / 50 * scale
+        glyph.SetScaleFactor(f)
         glyph.OrientOn()
         glyph.Update()
+
         Mesh.__init__(self, glyph.GetOutput())
+
         self.PickableOff()
-        self.SetProperty(mesh.GetProperty())
-        self.property = mesh.GetProperty()
+        prop = vtk.vtkProperty()
+        prop.DeepCopy(msh.GetProperty())
+        self.SetProperty(prop)
+        self.property = prop
         self.property.LightingOff()
+        self.mapper().ScalarVisibilityOff()
         self.name = "NormalLines"
 
 
 def _interpolate2vol(mesh, kernel=None, radius=None, bounds=None, null_value=None, dims=None):
     # Generate a volumetric dataset by interpolating a scalar
     # or vector field which is only known on a scattered set of points or mesh.
     # Available interpolation kernels are: shepard, gaussian, voronoi, linear.
@@ -1370,15 +1377,15 @@
     domain.SetOrigin(bounds[0], bounds[2], bounds[4])
     deltaZ = (bounds[5] - bounds[4]) / (dims[2] - 1)
     deltaY = (bounds[3] - bounds[2]) / (dims[1] - 1)
     deltaX = (bounds[1] - bounds[0]) / (dims[0] - 1)
     domain.SetSpacing(deltaX, deltaY, deltaZ)
 
     if radius is None:
-        radius = 2.5*np.sqrt(deltaX * deltaX + deltaY * deltaY + deltaZ * deltaZ)
+        radius = 2.5 * np.sqrt(deltaX * deltaX + deltaY * deltaY + deltaZ * deltaZ)
 
     locator = vtk.vtkStaticPointLocator()
     locator.SetDataSet(mesh)
     locator.BuildLocator()
 
     if kernel == "gaussian":
         kern = vtk.vtkGaussianKernel()
@@ -1449,15 +1456,15 @@
         max_propagation : (float)
             maximum physical length of the streamline
         max_steps : (int)
             maximum nr of steps allowed
         step_length : (float)
             length of step integration.
         extrapolate_to_box : (dict)
-            Vectors that are defined on a descrete set of points
+            Vectors that are defined on a discrete set of points
             are extrapolated to a 3D domain defined by its bounding box:
                 - bounds (list), bounding box of the domain
                 - kernel (str), interpolation kernel `["shepard","gaussian","voronoi","linear"]`
                 - radius (float), radius of the local search
                 - dims (list), nr of subdivisions of the domain along x, y, and z
                 - null_value (float), value to be assigned to invalid points
 
@@ -1493,25 +1500,25 @@
             ![](https://vedo.embl.es/images/volumetric/81459343-b9210d00-919f-11ea-846c-152d62cba06e.png)
 
         - [streamribbons.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/streamribbons.py)
         - [office.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/office.py)
 
             ![](https://vedo.embl.es/images/volumetric/56964003-9145a500-6b5a-11e9-9d9e-9736d90e1900.png)
     """
-    if len(opts): # Deprecations
-        printc(" Warning! In StreamLines() unrecognized keywords:", opts, c='y')
+    if len(opts):  # Deprecations
+        printc(" Warning! In StreamLines() unrecognized keywords:", opts, c="y")
         initial_step_size = opts.pop("initialStepSize", initial_step_size)
         max_propagation = opts.pop("maxPropagation", max_propagation)
         max_steps = opts.pop("maxSteps", max_steps)
         step_length = opts.pop("stepLength", step_length)
         extrapolate_to_box = opts.pop("extrapolateToBox", extrapolate_to_box)
         surface_constrained = opts.pop("surfaceConstrained", surface_constrained)
         compute_vorticity = opts.pop("computeVorticity", compute_vorticity)
         scalar_range = opts.pop("scalarRange", scalar_range)
-        printc("          Please use 'snake_case' instead of 'camelCase' keywords", c='y')
+        printc("          Please use 'snake_case' instead of 'camelCase' keywords", c="y")
 
     if isinstance(domain, vedo.Points):
         if extrapolate_to_box:
             grid = _interpolate2vol(domain.polydata(), **extrapolate_to_box)
         else:
             grid = domain.polydata()
     elif isinstance(domain, vedo.BaseVolume):
@@ -1582,15 +1589,15 @@
         scalar_surface.SetInputConnection(st.GetOutputPort())
         scalar_surface.SetOnRatio(int(ribbons))
         scalar_surface.SetRuledModeToPointWalk()
         scalar_surface.Update()
         output = scalar_surface.GetOutput()
 
     if tubes:
-        radius = tubes.pop("radius", domain.GetLength()/500)
+        radius = tubes.pop("radius", domain.GetLength() / 500)
         res = tubes.pop("res", 24)
         radfact = tubes.pop("max_radius_factor", 10)
         ratio = tubes.pop("ratio", 1)
         mode = tubes.pop("mode", 0)
         cap = tubes.pop("mode", False)
         if tubes:
             vedo.logger.warning(f"in StreamLines unknown 'tubes' parameters: {tubes}")
@@ -1641,15 +1648,16 @@
     return sta
 
 
 class Tube(Mesh):
     """
     Build a tube along the line defined by a set of points.
     """
-    def __init__(self, points, r=1, cap=True, res=12, c=None, alpha=1):
+
+    def __init__(self, points, r=1.0, cap=True, res=12, c=None, alpha=1.0):
         """
         Arguments:
             r :  (float, list)
                 constant radius or list of radii.
             res : (int)
                 resolution, number of the sides of the tube
             c : (color)
@@ -1716,78 +1724,82 @@
             self.mapper().SelectColorArray("TubeColors")
             self.mapper().Modified()
 
         self.base = base
         self.top = top
         self.name = "Tube"
 
-def ThickTube(pts, r1, r2, res=12, c=None, alpha=1):
+
+def ThickTube(pts, r1, r2, res=12, c=None, alpha=1.0):
     """
     Create a tube with a thickness along a line of points.
 
     Example:
     ```python
     from vedo import *
     pts = [[sin(x), cos(x), x/3] for x in np.arange(0.1, 3, 0.3)]
     vline = Line(pts, lw=5, c='red5')
     thick_tube = ThickTube(vline, r1=0.2, r2=0.3).lw(1)
     show(vline, thick_tube, axes=1).close()
     ```
     ![](https://vedo.embl.es/images/feats/thick_tube.png)
     """
+
     def make_cap(t1, t2):
         newpoints = t1.points().tolist() + t2.points().tolist()
         newfaces = []
-        for i in range(n-1):
-            newfaces.append([i,   i+1, i+n])
-            newfaces.append([i+n, i+1, i+n+1])
-        newfaces.append([2*n-1,   0, n])
-        newfaces.append([2*n-1, n-1, 0])
+        for i in range(n - 1):
+            newfaces.append([i, i + 1, i + n])
+            newfaces.append([i + n, i + 1, i + n + 1])
+        newfaces.append([2 * n - 1, 0, n])
+        newfaces.append([2 * n - 1, n - 1, 0])
         capm = utils.buildPolyData(newpoints, newfaces)
         return capm
-    
+
     assert r1 < r2
 
     t1 = Tube(pts, r=r1, cap=False, res=res)
     t2 = Tube(pts, r=r2, cap=False, res=res)
 
     tc1a, tc1b = t1.boundaries().split()
     tc2a, tc2b = t2.boundaries().split()
     n = tc1b.npoints
 
-    tc1b.join(reset=True).clean() # needed because indices are flipped
+    tc1b.join(reset=True).clean()  # needed because indices are flipped
     tc2b.join(reset=True).clean()
 
     capa = make_cap(tc1a, tc2a)
     capb = make_cap(tc1b, tc2b)
 
     thick_tube = merge(t1, t2, capa, capb).c(c).alpha(alpha)
     thick_tube.base = t1.base
     thick_tube.top = t1.top
     thick_tube.name = "ThickTube"
     return thick_tube
 
+
 class Ribbon(Mesh):
     """
     Connect two lines to generate the surface inbetween.
     Set the mode by which to create the ruled surface.
 
     It also works with a single line in input. In this case the ribbon
     is formed by following the local plane of the line in space.
     """
+
     def __init__(
         self,
         line1,
         line2=None,
         mode=0,
         closed=False,
         width=None,
         res=(200, 5),
         c="indigo3",
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Arguments:
             mode : (int)
                 If mode=0, resample evenly the input lines (based on length)
                 and generates triangle strips.
 
@@ -1899,25 +1911,26 @@
 
 
 class Arrow(Mesh):
     """
     Build a 3D arrow from `start_pt` to `end_pt` of section size `s`,
     expressed as the fraction of the window size.
     """
+
     def __init__(
         self,
         start_pt=(0, 0, 0),
         end_pt=(1, 0, 0),
         s=None,
         shaft_radius=None,
         head_radius=None,
         head_length=None,
         res=12,
         c="r4",
-        alpha=1,
+        alpha=1.0,
     ):
         """
         If `c` is a `float` less than 1, the arrow is rendered as a in a color scale
         from white to red.
 
         .. note:: If `s=None` the arrow is scaled proportionally to its length
 
@@ -2004,26 +2017,27 @@
         return self.points()[self.tip_index]
 
 
 class Arrows(Glyph):
     """
     Build arrows between two lists of points.
     """
+
     def __init__(
         self,
         start_pts,
         end_pts=None,
         s=None,
         shaft_radius=None,
         head_radius=None,
         head_length=None,
-        thickness=1,
+        thickness=1.0,
         res=12,
         c=None,
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Build arrows between two lists of points `start_pts` and `end_pts`.
          `start_pts` can be also passed in the form `[[point1, point2], ...]`.
 
         Color can be specified as a colormap which maps the size of the arrows.
 
@@ -2093,14 +2107,15 @@
         self.name = "Arrows"
 
 
 class Arrow2D(Mesh):
     """
     Build a 2D arrow.
     """
+
     def __init__(
         self,
         start_pt=(0, 0, 0),
         end_pt=(1, 0, 0),
         s=1,
         shaft_length=0.8,
         shaft_width=0.05,
@@ -2178,40 +2193,41 @@
         t.RotateY(-90)  # put it along Z
         t.Scale(length, length, length)
         tf = vtk.vtkTransformPolyDataFilter()
         tf.SetInputData(poly)
         tf.SetTransform(t)
         tf.Update()
 
-        Mesh.__init__(self, tf.GetOutput(), c='k1')
+        Mesh.__init__(self, tf.GetOutput(), c="k1")
         self.SetPosition(start_pt)
         self.lighting("off")
         self.DragableOff()
         self.PickableOff()
         self.base = np.array(start_pt, dtype=float)
         self.top = np.array(end_pt, dtype=float)
         self.name = "Arrow2D"
 
 
 class Arrows2D(Glyph):
     """
     Build 2D arrows between two lists of points.
     """
+
     def __init__(
         self,
         start_pts,
         end_pts=None,
-        s=1,
+        s=1.0,
         shaft_length=0.8,
         shaft_width=0.05,
         head_length=0.225,
         head_width=0.175,
         fill=True,
         c=None,
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Build 2D arrows between two lists of points `start_pts` and `end_pts`.
         `start_pts` can be also passed in the form `[[point1, point2], ...]`.
 
         Color can be specified as a colormap which maps the size of the arrows.
 
@@ -2273,15 +2289,16 @@
         self.name = "Arrows2D"
 
 
 class FlatArrow(Ribbon):
     """
     Build a 2D arrow in 3D space by joining two close lines.
     """
-    def __init__(self, line1, line2, tip_size=1, tip_width=1):
+
+    def __init__(self, line1, line2, tip_size=1.0, tip_width=1.0):
         """
         Build a 2D arrow in 3D space by joining two close lines.
 
         Examples:
             - [flatarrow.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/flatarrow.py)
 
                 ![](https://vedo.embl.es/images/basic/flatarrow.png)
@@ -2289,21 +2306,21 @@
         if isinstance(line1, Points):
             line1 = line1.points()
         if isinstance(line2, Points):
             line2 = line2.points()
 
         sm1, sm2 = np.array(line1[-1], dtype=float), np.array(line2[-1], dtype=float)
 
-        v = (sm1-sm2)/3*tip_width
-        p1 = sm1+v
-        p2 = sm2-v
-        pm1 = (sm1+sm2)/2
-        pm2 = (np.array(line1[-2])+np.array(line2[-2]))/2
-        pm12 = pm1-pm2
-        tip = pm12/np.linalg.norm(pm12)*np.linalg.norm(v)*3*tip_size/tip_width + pm1
+        v = (sm1 - sm2) / 3 * tip_width
+        p1 = sm1 + v
+        p2 = sm2 - v
+        pm1 = (sm1 + sm2) / 2
+        pm2 = (np.array(line1[-2]) + np.array(line2[-2])) / 2
+        pm12 = pm1 - pm2
+        tip = pm12 / np.linalg.norm(pm12) * np.linalg.norm(v) * 3 * tip_size / tip_width + pm1
 
         line1.append(p1)
         line1.append(tip)
         line2.append(p2)
         line2.append(tip)
         resm = max(100, len(line1))
 
@@ -2312,26 +2329,28 @@
         self.PickableOff()
         self.DragableOff()
         self.name = "FlatArrow"
 
 
 class Triangle(Mesh):
     """Create a triangle from 3 points in space."""
-    def __init__(self, p1, p2, p3, c="green7", alpha=1):
+
+    def __init__(self, p1, p2, p3, c="green7", alpha=1.0):
         """Create a triangle from 3 points in space."""
-        Mesh.__init__(self, [[p1,p2,p3], [[0,1,2]]], c, alpha)
+        Mesh.__init__(self, [[p1, p2, p3], [[0, 1, 2]]], c, alpha)
         self.GetProperty().LightingOff()
         self.name = "Triangle"
 
 
 class Polygon(Mesh):
     """
     Build a polygon in the `xy` plane.
     """
-    def __init__(self, pos=(0, 0, 0), nsides=6, r=1, c="coral", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), nsides=6, r=1.0, c="coral", alpha=1.0):
         """
         Build a polygon in the `xy` plane of `nsides` of radius `r`.
 
         ![](https://raw.githubusercontent.com/lorensen/VTKExamples/master/src/Testing/Baseline/Cxx/GeometricObjects/TestRegularPolygonSource.png)
         """
         t = np.linspace(np.pi / 2, 5 / 2 * np.pi, num=nsides, endpoint=False)
         x, y = utils.pol2cart(np.ones_like(t) * r, t)
@@ -2345,15 +2364,16 @@
         self.name = "Polygon " + str(nsides)
 
 
 class Circle(Polygon):
     """
     Build a Circle of radius `r`.
     """
-    def __init__(self, pos=(0, 0, 0), r=1, res=120, c="gray5", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), r=1.0, res=120, c="gray5", alpha=1.0):
         """
         Build a Circle of radius `r`.
         """
         Polygon.__init__(self, pos, nsides=res, r=r)
 
         self.center = []  # filled by pointcloud.pcaEllipse
         self.nr_of_points = 0
@@ -2365,15 +2385,16 @@
         self.name = "Circle"
 
 
 class GeoCircle(Polygon):
     """
     Build a Circle of radius `r`.
     """
-    def __init__(self, lat, lon, r=1, res=60, c="red4", alpha=1):
+
+    def __init__(self, lat, lon, r=1.0, res=60, c="red4", alpha=1.0):
         """
         Build a Circle of radius `r` as projected on a geographic map.
         Circles near the poles will look very squashed.
 
         See example:
             ```bash
             vedo -r earthquake
@@ -2381,26 +2402,27 @@
         """
         coords = []
         sinr, cosr = np.sin(r), np.cos(r)
         sinlat, coslat = np.sin(lat), np.cos(lat)
         for phi in np.linspace(0, 2 * np.pi, num=res, endpoint=False):
             clat = np.arcsin(sinlat * cosr + coslat * sinr * np.cos(phi))
             clng = lon + np.arctan2(np.sin(phi) * sinr * coslat, cosr - sinlat * np.sin(clat))
-            coords.append([clng/np.pi + 1, clat*2/np.pi + 1, 0])
+            coords.append([clng / np.pi + 1, clat * 2 / np.pi + 1, 0])
 
         Polygon.__init__(self, nsides=res, c=c, alpha=alpha)
         self.points(coords)  # warp polygon points to match geo projection
         self.name = "Circle"
 
 
 class Star(Mesh):
     """
     Build a 2D star shape.
     """
-    def __init__(self, pos=(0, 0, 0), n=5, r1=0.7, r2=1.0, line=False, c="blue6", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), n=5, r1=0.7, r2=1.0, line=False, c="blue6", alpha=1.0):
         """
         Build a 2D star shape of `n` cusps of inner radius `r1` and outer radius `r2`.
 
         If line is True then only build the outer line (no internal surface meshing).
 
         Example:
             - [extrude.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/extrude.py)
@@ -2439,15 +2461,18 @@
         self.name = "Star"
 
 
 class Disc(Mesh):
     """
     Build a 2D disc.
     """
-    def __init__(self, pos=(0, 0, 0), r1=0.5, r2=1, res=(1, 120), angle_range=(), c="gray4", alpha=1):
+
+    def __init__(
+        self, pos=(0, 0, 0), r1=0.5, r2=1.0, res=(1, 120), angle_range=(), c="gray4", alpha=1.0
+    ):
         """
         Build a 2D disc of inner radius `r1` and outer radius `r2`.
 
         Set `res` as the resolution in R and Phi (can be a list).
 
         Use `angle_range` to create a disc sector between the 2 specified angles.
 
@@ -2476,25 +2501,26 @@
         self.name = "Disc"
 
 
 class Arc(Mesh):
     """
     Build a 2D circular arc between 2 points.
     """
+
     def __init__(
         self,
         center,
         point1,
         point2=None,
         normal=None,
         angle=None,
         invert=False,
         res=50,
         c="gray4",
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Build a 2D circular arc between 2 points `point1` and `point2`.
 
         If `normal` is specified then `center` is ignored, and
         normal vector, a starting `point1` (polar vector)
         and an angle defining the arc length need to be assigned.
@@ -2530,49 +2556,53 @@
         ar.SetResolution(res)
         ar.Update()
         Mesh.__init__(self, ar.GetOutput(), c, alpha)
         self.SetPosition(self.base)
         self.lw(2).lighting("off")
         self.name = "Arc"
 
+
 class IcoSphere(Mesh):
     """
     Create a sphere made of a uniform triangle mesh.
     """
-    def __init__(self, pos=(0, 0, 0), r=1, subdivisions=3, c="r5", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), r=1.0, subdivisions=3, c="r5", alpha=1.0):
         """
         Create a sphere made of a uniform triangle mesh
         (from recursive subdivision of an icosahedron).
 
         Example:
         ```python
         from vedo import *
         icos = IcoSphere(subdivisions=3)
         icos.compute_quality().cmap('coolwarm')
         icos.show(axes=1).close()
         ```
         ![](https://vedo.embl.es/images/basic/icosphere.jpg)
         """
-        subdivisions = int(min(subdivisions, 9)) # to avoid disasters
+        subdivisions = int(min(subdivisions, 9))  # to avoid disasters
 
         t = (1.0 + np.sqrt(5.0)) / 2.0
-        points = np.array([
-            [-1,  t,  0],
-            [ 1,  t,  0],
-            [-1, -t,  0],
-            [ 1, -t,  0],
-            [ 0, -1,  t],
-            [ 0,  1,  t],
-            [ 0, -1, -t],
-            [ 0,  1, -t],
-            [ t,  0, -1],
-            [ t,  0,  1],
-            [-t,  0, -1],
-            [-t,  0,  1]
-        ])
+        points = np.array(
+            [
+                [-1, t, 0],
+                [1, t, 0],
+                [-1, -t, 0],
+                [1, -t, 0],
+                [0, -1, t],
+                [0, 1, t],
+                [0, -1, -t],
+                [0, 1, -t],
+                [t, 0, -1],
+                [t, 0, 1],
+                [-t, 0, -1],
+                [-t, 0, 1],
+            ]
+        )
         faces = [
             [0, 11, 5],
             [0, 5, 1],
             [0, 1, 7],
             [0, 7, 10],
             [0, 10, 11],
             [1, 5, 9],
@@ -2585,15 +2615,15 @@
             [3, 2, 6],
             [3, 6, 8],
             [3, 8, 9],
             [4, 9, 5],
             [2, 4, 11],
             [6, 2, 10],
             [8, 6, 7],
-            [9, 8, 1]
+            [9, 8, 1],
         ]
         Mesh.__init__(self, [points * r, faces], c=c, alpha=alpha)
 
         for _ in range(subdivisions):
             self.subdivide(method=1)
             pts = utils.versor(self.points()) * r
             self.points(pts)
@@ -2602,15 +2632,16 @@
         self.name = "IcoSphere"
 
 
 class Sphere(Mesh):
     """
     Build a sphere.
     """
-    def __init__(self, pos=(0, 0, 0), r=1, res=24, quads=False, c="r5", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), r=1.0, res=24, quads=False, c="r5", alpha=1.0):
         """
         Build a sphere at position `pos` of radius `r`.
 
         Arguments:
             r : (float)
                 sphere radius
             res : (int, list)
@@ -2669,15 +2700,16 @@
         self.name = "Sphere"
 
 
 class Spheres(Mesh):
     """
     Build a large set of spheres.
     """
-    def __init__(self, centers, r=1, res=8, c="r5", alpha=1):
+
+    def __init__(self, centers, r=1.0, res=8, c="r5", alpha=1):
         """
         Build a (possibly large) set of spheres at `centers` of radius `r`.
 
         Either `c` or `r` can be a list of RGB colors or radii.
 
         Examples:
             - [manyspheres.py](https://github.com/marcomusy/vedo/tree/master/examples/basic/manyspheres.py)
@@ -2768,15 +2800,16 @@
         self.name = "Spheres"
 
 
 class Earth(Mesh):
     """
     Build a textured mesh representing the Earth.
     """
-    def __init__(self, style=1, r=1):
+
+    def __init__(self, style=1, r=1.0):
         """
         Build a textured mesh representing the Earth.
 
         Example:
             - [geodesic.py](https://github.com/marcomusy/vedo/tree/master/examples/advanced/geodesic.py)
 
                 ![](https://vedo.embl.es/images/advanced/geodesic.png)
@@ -2784,35 +2817,36 @@
         tss = vtk.vtkTexturedSphereSource()
         tss.SetRadius(r)
         tss.SetThetaResolution(72)
         tss.SetPhiResolution(36)
         Mesh.__init__(self, tss, c="w")
         atext = vtk.vtkTexture()
         pnm_reader = vtk.vtkJPEGReader()
-        fn = vedo.io.download(vedo.dataurl + f"textures/earth{style}.jpg", verbose=False)
+        fn = vedo.file_io.download(vedo.dataurl + f"textures/earth{style}.jpg", verbose=False)
         pnm_reader.SetFileName(fn)
         atext.SetInputConnection(pnm_reader.GetOutputPort())
         atext.InterpolateOn()
         self.SetTexture(atext)
         self.name = "Earth"
 
 
 class Ellipsoid(Mesh):
     """
     Build a 3D ellipsoid.
     """
+
     def __init__(
         self,
         pos=(0, 0, 0),
         axis1=(1, 0, 0),
         axis2=(0, 2, 0),
         axis3=(0, 0, 3),
         res=24,
         c="cyan4",
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Build a 3D ellipsoid centered at position `pos`.
 
         Arguments:
             axis1 : (list)
                 First axis
@@ -2938,23 +2972,16 @@
         return err
 
 
 class Grid(Mesh):
     """
     An even or uneven 2D grid.
     """
-    def __init__(
-        self,
-        pos=(0, 0, 0),
-        s=(1,1),
-        res=(10,10),
-        lw=1,
-        c="k3",
-        alpha=1,
-    ):
+
+    def __init__(self, pos=(0, 0, 0), s=(1, 1), res=(10, 10), lw=1, c="k3", alpha=1.0):
         """
         Create an even or uneven 2D grid.
 
         Arguments:
             s : (float, list)
                 if a float is provided it is interpreted as the total size along x and y,
                 if a list of coords is provided they are interpreted as the vertices of the grid along x and y.
@@ -3023,15 +3050,16 @@
         self.name = "Grid"
 
 
 class Plane(Mesh):
     """
     Create a plane in space.
     """
-    def __init__(self, pos=(0, 0, 0), normal=(0, 0, 1), s=(1, 1), res=(1, 1), c="gray5", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), normal=(0, 0, 1), s=(1, 1), res=(1, 1), c="gray5", alpha=1.0):
         """
         Create a plane of size `s=(xsize, ysize)` oriented perpendicular to vector `normal`
         and so that it passes through point `pos`.
 
         Arguments:
             normal : (list)
                 normal vector to the plane
@@ -3088,15 +3116,16 @@
         return mask
 
 
 class Rectangle(Mesh):
     """
     Build a rectangle in the xy plane.
     """
-    def __init__(self, p1=(0, 0), p2=(1, 1), radius=None, res=12, c="gray5", alpha=1):
+
+    def __init__(self, p1=(0, 0), p2=(1, 1), radius=None, res=12, c="gray5", alpha=1.0):
         """
         Build a rectangle in the xy plane identified by any two corner points.
 
         Arguments:
             p1 : (list)
                 bottom-left position of the corner
             p2 : (list)
@@ -3181,24 +3210,26 @@
         self.name = "Rectangle"
 
 
 class Box(Mesh):
     """
     Build a box of specified dimensions.
     """
-    def __init__(self, pos=(0, 0, 0), length=1, width=2, height=3, size=(), c="g4", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), 
+                 length=1.0, width=2.0, height=3.0, size=(), c="g4", alpha=1.0):
         """
         Build a box of dimensions `x=length, y=width and z=height`.
         Alternatively dimensions can be defined by setting `size` keyword with a tuple.
 
         If `size` is a list of 6 numbers, this will be interpreted as the bounding box:
         `[xmin,xmax, ymin,ymax, zmin,zmax]`
 
         Examples:
-            - [aspring.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/aspring.py)
+            - [aspring1.py](https://github.com/marcomusy/vedo/tree/master/examples/simulations/aspring1.py)
 
                 ![](https://vedo.embl.es/images/simulations/50738955-7e891800-11d9-11e9-85cd-02bd4f3f13ea.gif)
         """
         if len(size) == 6:
             bounds = size
             length = bounds[1] - bounds[0]
             width = bounds[3] - bounds[2]
@@ -3250,27 +3281,27 @@
             pos = (pos[0], pos[1], 0)
         self.SetPosition(pos)
         self.name = "Box"
 
 
 class Cube(Box):
     """Build a cube."""
-    def __init__(self, pos=(0, 0, 0), side=1, c="g4", alpha=1):
-       """Build a cube of size `side`."""
-       Box.__init__(self, pos, side, side, side, (), c, alpha)
-       self.name = "Cube"
+
+    def __init__(self, pos=(0, 0, 0), side=1.0, c="g4", alpha=1.0):
+        """Build a cube of size `side`."""
+        Box.__init__(self, pos, side, side, side, (), c, alpha)
+        self.name = "Cube"
 
 
 class TessellatedBox(Mesh):
     """
     Build a cubic `Mesh` made of quads.
     """
-    def __init__(self, pos=(0, 0, 0), n=10, spacing=(1, 1, 1), bounds=(),
-                 c="k5", alpha=0.5,
-    ):
+
+    def __init__(self, pos=(0, 0, 0), n=10, spacing=(1, 1, 1), bounds=(), c="k5", alpha=0.5):
         """
         Build a cubic `Mesh` made of `n` small quads in the 3 axis directions.
 
         Arguments:
             pos : (list)
                 position of the left bottom corner
             n : (int, list)
@@ -3306,24 +3337,25 @@
         self.name = "TessellatedBox"
 
 
 class Spring(Mesh):
     """
     Build a spring model.
     """
+
     def __init__(
         self,
         start_pt=(0, 0, 0),
         end_pt=(1, 0, 0),
         coils=20,
         r1=0.1,
         r2=None,
         thickness=None,
         c="gray5",
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Build a spring of specified nr of `coils` between `start_pt` and `end_pt`.
 
         Arguments:
             coils : (int)
                 number of coils
@@ -3378,24 +3410,17 @@
         self.name = "Spring"
 
 
 class Cylinder(Mesh):
     """
     Build a cylinder of specified height and radius.
     """
+
     def __init__(
-        self,
-        pos=(0, 0, 0),
-        r=1,
-        height=2,
-        axis=(0, 0, 1),
-        cap=True,
-        res=24,
-        c="teal3",
-        alpha=1,
+        self, pos=(0, 0, 0), r=1.0, height=2.0, axis=(0, 0, 1), cap=True, res=24, c="teal3", alpha=1.0
     ):
         """
         Build a cylinder of specified height and radius `r`, centered at `pos`.
 
         If `pos` is a list of 2 points, e.g. `pos=[v1,v2]`, build a cylinder with base
         centered at `v1` and top at `v2`.
 
@@ -3439,17 +3464,17 @@
         self.base = base + pos
         self.top = top + pos
         self.name = "Cylinder"
 
 
 class Cone(Mesh):
     """Build a cone of specified radius and height."""
-    def __init__(
-        self, pos=(0, 0, 0), r=1, height=3, axis=(0, 0, 1), res=48, c="green3", alpha=1
-    ):
+
+    def __init__(self, pos=(0, 0, 0), r=1.0, height=3.0, axis=(0, 0, 1),
+                 res=48, c="green3", alpha=1.0):
         """Build a cone of specified radius `r` and `height`, centered at `pos`."""
         con = vtk.vtkConeSource()
         con.SetResolution(res)
         con.SetRadius(r)
         con.SetHeight(height)
         con.SetDirection(axis)
         con.Update()
@@ -3462,54 +3487,57 @@
         self.base = pos - v
         self.top = pos + v
         self.name = "Cone"
 
 
 class Pyramid(Cone):
     """Build a pyramidal shape."""
-    def __init__(self, pos=(0, 0, 0), s=1, height=1, axis=(0, 0, 1), c="green3", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), s=1.0, height=1.0, axis=(0, 0, 1),
+                 c="green3", alpha=1):
         """Build a pyramid of specified base size `s` and `height`, centered at `pos`."""
         Cone.__init__(self, pos, s, height, axis, 4, c, alpha)
         self.name = "Pyramid"
 
 
 class Torus(Mesh):
     """
     Build a toroidal shape.
     """
-    def __init__(self, pos=(0, 0, 0), r1=1, r2=0.2, res=36, quads=False, c="yellow3", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), r1=1.0, r2=0.2, res=36, quads=False, c="yellow3", alpha=1.0):
         """
         Build a torus of specified outer radius `r1` internal radius `r2`, centered at `pos`.
         If `quad=True` a quad-mesh is generated.
         """
         if utils.is_sequence(res):
             res_u, res_v = res
         else:
-            res_u, res_v = 3*res, res
+            res_u, res_v = 3 * res, res
 
         if quads:
-            #https://github.com/marcomusy/vedo/issues/710
+            # https://github.com/marcomusy/vedo/issues/710
 
             n = res_v
             m = res_u
 
-            theta = np.linspace(0, 2.*np.pi, n)
-            phi   = np.linspace(0, 2.*np.pi, m)
+            theta = np.linspace(0, 2.0 * np.pi, n)
+            phi = np.linspace(0, 2.0 * np.pi, m)
             theta, phi = np.meshgrid(theta, phi)
             t = r1 + r2 * np.cos(theta)
             x = t * np.cos(phi)
             y = t * np.sin(phi)
             z = r2 * np.sin(theta)
             pts = np.column_stack((x.ravel(), y.ravel(), z.ravel()))
 
             faces = []
-            for j in range(m-1):
-                j1n = (j+1) * n
-                for i in range(n-1):
-                    faces.append([i + j*n, i+1 + j*n, i+1 + j1n, i + j1n])
+            for j in range(m - 1):
+                j1n = (j + 1) * n
+                for i in range(n - 1):
+                    faces.append([i + j * n, i + 1 + j * n, i + 1 + j1n, i + j1n])
 
             Mesh.__init__(self, [pts, faces], c, alpha)
 
         else:
 
             rs = vtk.vtkmodules.vtkCommonComputationalGeometry.vtkParametricTorus()
             rs.SetRingRadius(r1)
@@ -3528,15 +3556,16 @@
         self.name = "Torus"
 
 
 class Paraboloid(Mesh):
     """
     Build a paraboloid.
     """
-    def __init__(self, pos=(0, 0, 0), height=1, res=50, c="cyan5", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), height=1.0, res=50, c="cyan5", alpha=1.0):
         """
         Build a paraboloid of specified height and radius `r`, centered at `pos`.
 
         Full volumetric expression is:
             `F(x,y,z)=a_0x^2+a_1y^2+a_2z^2+a_3xy+a_4yz+a_5xz+ a_6x+a_7y+a_8z+a_9`
 
         ![](https://user-images.githubusercontent.com/32848391/51211547-260ef480-1916-11e9-95f6-4a677e37e355.png)
@@ -3562,15 +3591,16 @@
         self.name = "Paraboloid"
 
 
 class Hyperboloid(Mesh):
     """
     Build a hyperboloid.
     """
-    def __init__(self, pos=(0,0,0), a2=1, value=0.5, res=100, c="pink4", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), a2=1.0, value=0.5, res=100, c="pink4", alpha=1.0):
         """
         Build a hyperboloid of specified aperture `a2` and `height`, centered at `pos`.
 
         Full volumetric expression is:
             `F(x,y,z)=a_0x^2+a_1y^2+a_2z^2+a_3xy+a_4yz+a_5xz+ a_6x+a_7y+a_8z+a_9`
         """
         q = vtk.vtkQuadric()
@@ -3590,23 +3620,23 @@
         Mesh.__init__(self, contours.GetOutput(), c, alpha)
         self.compute_normals().phong()
         self.mapper().ScalarVisibilityOff()
         self.SetPosition(pos)
         self.name = "Hyperboloid"
 
 
-def Marker(symbol, pos=(0, 0, 0), c="k", alpha=1, s=0.1, filled=True):
+def Marker(symbol, pos=(0, 0, 0), c="k", alpha=1.0, s=0.1, filled=True):
     """
     Generate a marker shape. Typically used in association with `Glyph`.
     """
     if isinstance(symbol, Mesh):
         return symbol.c(c).alpha(alpha).lighting("off")
 
     if isinstance(symbol, int):
-        symbs = ['.','o','O', '0', 'p','*','h','D','d','v','^','>','<','s', 'x', 'a']
+        symbs = [".", "o", "O", "0", "p", "*", "h", "D", "d", "v", "^", ">", "<", "s", "x", "a"]
         symbol = symbol % len(symbs)
         symbol = symbs[symbol]
 
     if symbol == ".":
         mesh = Polygon(nsides=24, r=s * 0.6)
     elif symbol == "o":
         mesh = Polygon(nsides=24, r=s * 0.75)
@@ -3653,29 +3683,30 @@
     return mesh
 
 
 class Brace(Mesh):
     """
     Create a brace (bracket) shape.
     """
+
     def __init__(
         self,
         q1,
         q2,
         style="}",
-        padding1=0,
+        padding1=0.0,
         font="Theemim",
         comment="",
         justify=None,
-        angle=0,
+        angle=0.0,
         padding2=0.2,
-        s=1,
+        s=1.0,
         italic=0,
         c="k1",
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Create a brace (bracket) shape which spans from point q1 to point q2.
 
         Arguments:
             q1 : (list)
                 point 1.
@@ -3779,15 +3810,16 @@
         self.top = q2
 
 
 class Star3D(Mesh):
     """
     Build a 3D starred shape.
     """
-    def __init__(self, pos=(0,0,0), r=1.0, thickness=0.1, c="blue4", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), r=1.0, thickness=0.1, c="blue4", alpha=1.0):
         """
         Build a 3D star shape of 5 cusps, mainly useful as a 3D marker.
         """
         pts = ((1.34, 0., -0.37), (5.75e-3, -0.588, thickness/10), (0.377, 0.,-0.38),
                (0.0116, 0., -1.35), (-0.366, 0., -0.384), (-1.33, 0., -0.385),
                (-0.600, 0., 0.321), (-0.829, 0., 1.19), (-1.17e-3, 0., 0.761),
                (0.824, 0., 1.20), (0.602, 0., 0.328), (6.07e-3, 0.588, thickness/10))
@@ -3806,15 +3838,16 @@
         self.name = "Star3D"
 
 
 class Cross3D(Mesh):
     """
     Build a 3D cross shape.
     """
-    def __init__(self, pos=(0, 0, 0), s=1.0, thickness=0.3, c="b", alpha=1):
+
+    def __init__(self, pos=(0, 0, 0), s=1.0, thickness=0.3, c="b", alpha=1.0):
         """
         Build a 3D cross shape, mainly useful as a 3D marker.
         """
         c1 = Cylinder(r=thickness * s, height=2 * s)
         c2 = Cylinder(r=thickness * s, height=2 * s).rotate_x(90)
         c3 = Cylinder(r=thickness * s, height=2 * s).rotate_y(90)
         poly = merge(c1, c2, c3).color(c).alpha(alpha).polydata(False)
@@ -3826,14 +3859,15 @@
         self.name = "Cross3D"
 
 
 class ParametricShape(Mesh):
     """
     A set of built-in shapes mainly for illustration purposes.
     """
+
     def __init__(self, name, res=51, n=25, seed=1):
         """
         A set of built-in shapes mainly for illustration purposes.
 
         Name can be an integer or a string in this list:
             `['Boy', 'ConicSpiral', 'CrossCap', 'Dini', 'Enneper',
             'Figure8Klein', 'Klein', 'Mobius', 'RandomHills', 'Roman',
@@ -3849,18 +3883,34 @@
                 ps = ParametricShape(i).color(i)
                 plt.at(i).show(ps, ps.name)
             plt.interactive().close()
             ```
             <img src="https://user-images.githubusercontent.com/32848391/69181075-bb6aae80-0b0e-11ea-92f7-d0cd3b9087bf.png" width="700">
         """
 
-        shapes = ['Boy', 'ConicSpiral', 'CrossCap', 'Enneper',
-                  'Figure8Klein', 'Klein', 'Dini', 'Mobius', 'RandomHills', 'Roman',
-                  'SuperEllipsoid', 'BohemianDome', 'Bour', 'CatalanMinimal',
-                  'Henneberg', 'Kuen', 'PluckerConoid', 'Pseudosphere']
+        shapes = [
+            "Boy",
+            "ConicSpiral",
+            "CrossCap",
+            "Enneper",
+            "Figure8Klein",
+            "Klein",
+            "Dini",
+            "Mobius",
+            "RandomHills",
+            "Roman",
+            "SuperEllipsoid",
+            "BohemianDome",
+            "Bour",
+            "CatalanMinimal",
+            "Henneberg",
+            "Kuen",
+            "PluckerConoid",
+            "Pseudosphere",
+        ]
 
         if isinstance(name, int):
             name = name % len(shapes)
             name = shapes[name]
 
         if name == "Boy":
             ps = vtk.vtkmodules.vtkCommonComputationalGeometry.vtkParametricBoy()
@@ -3940,15 +3990,15 @@
 
     if font.endswith(".npz"):  # user passed font as a local path
         fontfile = font
         font = os.path.basename(font).split(".")[0]
 
     elif font.startswith("https"):  # user passed URL link, make it a path
         try:
-            fontfile = vedo.io.download(font, verbose=False, force=False)
+            fontfile = vedo.file_io.download(font, verbose=False, force=False)
             font = os.path.basename(font).split(".")[0]
         except:
             vedo.logger.warning(f"font {font} not found")
             font = settings.default_font
             fontfile = os.path.join(vedo.fonts_path, font + ".npz")
 
     else:  # user passed font by its standard name
@@ -3964,15 +4014,15 @@
                 f"Using font {font} instead."
             )
             fontfile = os.path.join(vedo.fonts_path, font + ".npz")
 
         if not settings.font_parameters[font]["islocal"]:
             font = "https://vedo.embl.es/fonts/" + font + ".npz"
             try:
-                fontfile = vedo.io.download(font, verbose=False, force=False)
+                fontfile = vedo.file_io.download(font, verbose=False, force=False)
                 font = os.path.basename(font).split(".")[0]
             except:
                 vedo.logger.warning(f"font {font} not found")
                 font = settings.default_font
                 fontfile = os.path.join(vedo.fonts_path, font + ".npz")
 
     #####
@@ -3995,28 +4045,29 @@
         return None
 
 
 class Text3D(Mesh):
     """
     Generate a 3D polygonal Mesh to represent a text string.
     """
+
     def __init__(
         self,
         txt,
         pos=(0, 0, 0),
-        s=1,
+        s=1.0,
         font="",
         hspacing=1.15,
         vspacing=2.15,
-        depth=0,
+        depth=0.0,
         italic=False,
         justify="bottom-left",
         literal=False,
         c=None,
-        alpha=1,
+        alpha=1.0,
     ):
         """
         Generate a 3D polygonal `Mesh` representing a text string.
 
         Can render strings like `3.7 10^9` or `H_2 O` with subscripts and superscripts.
         Most Latex symbols are also supported.
 
@@ -4081,23 +4132,16 @@
                     bgcol = pli.renderer.GetBackground()
                 if np.sum(bgcol) > 1.5:
                     c = (0.1, 0.1, 0.1)
             else:
                 c = (0.6, 0.6, 0.6)
 
         tpoly = self._get_text3d_poly(
-            txt,
-            s,
-            font,
-            hspacing,
-            vspacing,
-            depth,
-            italic,
-            justify,
-            literal)
+            txt, s, font, hspacing, vspacing, depth, italic, justify, literal
+        )
 
         Mesh.__init__(self, tpoly, c, alpha)
         self.lighting("off")
         self.SetPosition(pos)
         self.PickableOff()
         self.DragableOff()
         self.name = "Text3D"
@@ -4119,23 +4163,15 @@
         Update the font style of the text.
         Check [available fonts here](https://vedo.embl.es/fonts).
         """
         if txt is None:
             return self.txt
 
         tpoly = self._get_text3d_poly(
-            txt,
-            s,
-            font,
-            hspacing,
-            vspacing,
-            depth,
-            italic,
-            justify,
-            literal,
+            txt, s, font, hspacing, vspacing, depth, italic, justify, literal
         )
         self._update(tpoly)
         self.txt = txt
         return self
 
     def _get_text3d_poly(
         self,
@@ -4231,15 +4267,15 @@
                     continue
                 elif t == "_" and not literal:
                     if yshift > 0:
                         xmax = save_xmax
                     yshift = -0.3 * fscale
                     scale = 0.5
                     continue
-                elif (t in (' ', '\\n')) and yshift:
+                elif (t in (" ", "\\n")) and yshift:
                     yshift = 0
                     scale = 1
                     save_xmax = xmax
                     if t == " ":
                         continue
                 elif t == "~":
                     if i < ntxt - 1 and txt[i + 1] == "_":
@@ -4264,18 +4300,15 @@
                         continue
 
                     tr = vtk.vtkTransform()
                     tr.Translate(xmax, ymax + yshift, 0)
                     pscale = scale * fscale / 1000
                     tr.Scale(pscale, pscale, pscale)
                     if italic:
-                        tr.Concatenate([1,italic*0.15,0,0,
-                                        0,1,0,0,
-                                        0,0,1,0,
-                                        0,0,0,1])
+                        tr.Concatenate([1, italic * 0.15, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                     tf = vtk.vtkTransformPolyDataFilter()
                     tf.SetInputData(poly)
                     tf.SetTransform(tr)
                     tf.Update()
                     poly = tf.GetOutput()
                     polyletters.append(poly)
 
@@ -4329,18 +4362,20 @@
             tpoly = extrude.GetOutput()
 
         return tpoly
 
 
 class TextBase:
     "Base class."
+
     def __init__(self):
         "Do not instantiate this base class."
 
         self.rendered_at = set()
+        self.property = None
 
         if isinstance(settings.default_font, int):
             lfonts = list(settings.font_parameters.keys())
             font = settings.default_font % len(lfonts)
             self.fontname = lfonts[font]
         else:
             self.fontname = settings.default_font
@@ -4376,29 +4411,33 @@
         if offset is None:
             self.property.ShadowOff()
         else:
             self.property.ShadowOn()
             self.property.SetShadowOffset(offset)
         return self
 
-    def color(self, c):
+    def color(self, c=None):
         """Set the text color"""
+        if c is None:
+            return get_color(self.property.GetColor())
         self.property.SetColor(get_color(c))
         return self
 
-    def c(self, color):
+    def c(self, color=None):
         """Set the text color"""
+        if color is None:
+            return get_color(self.property.GetColor())
         return self.color(color)
 
     def alpha(self, value):
         """Set the text opacity"""
         self.property.SetBackgroundOpacity(value)
         return self
 
-    def background(self, color="k9", alpha=1):
+    def background(self, color="k9", alpha=1.0):
         """Text background. Set to `None` to disable it."""
         bg = get_color(color)
         if color is None:
             self.property.SetBackgroundOpacity(0)
         else:
             self.property.SetBackgroundColor(bg)
             if alpha:
@@ -4424,40 +4463,41 @@
             font = lfonts[n]
             self.fontname = font
 
         if not font:  # use default font
             font = self.fontname
             fpath = os.path.join(vedo.fonts_path, font + ".ttf")
         elif font.startswith("https"):  # user passed URL link, make it a path
-            fpath = vedo.io.download(font, verbose=False, force=False)
+            fpath = vedo.file_io.download(font, verbose=False, force=False)
         elif font.endswith(".ttf"):  # user passing a local path to font file
             fpath = font
         else:  # user passing name of preset font
             fpath = os.path.join(vedo.fonts_path, font + ".ttf")
 
         if   font == "Courier": self.property.SetFontFamilyToCourier()
         elif font == "Times":   self.property.SetFontFamilyToTimes()
         elif font == "Arial":   self.property.SetFontFamilyToArial()
         else:
             fpath = utils.get_font_path(font)
             self.property.SetFontFamily(vtk.VTK_FONT_FILE)
             self.property.SetFontFile(fpath)
-        self.fontname = font  # io.toNumpy() uses it
+        self.fontname = font  # io.tonumpy() uses it
+
         return self
 
 
 class Text2D(TextBase, vtk.vtkActor2D):
     """
     Create a 2D text object.
     """
     def __init__(
         self,
         txt="",
         pos="top-left",
-        s=1,
+        s=1.0,
         bg=None,
         font="",
         justify="",
         bold=False,
         italic=False,
         c=None,
         alpha=0.2,
@@ -4659,15 +4699,14 @@
 
         self.SetNonlinearFontScaleFactor(1 / 2.75)
         self.PickableOff()
         self.property.SetColor(get_color(c))
         self.property.SetBold(False)
         self.property.SetItalic(False)
 
-
     def size(self, s, linear=False):
         """
         The font size is calculated as the largest possible value such that the annotations
         for the given viewport do not overlap.
 
         This font size can be scaled non-linearly with the viewport size, to maintain an
         acceptable readable size at larger viewport sizes, without being too big.
@@ -4711,25 +4750,16 @@
         return self
 
 
 class Latex(Picture):
     """
     Render Latex text and formulas.
     """
-    def __init__(
-        self,
-        formula,
-        pos=(0, 0, 0),
-        s=1,
-        bg=None,
-        res=150,
-        usetex=False,
-        c="k",
-        alpha=1,
-    ):
+
+    def __init__(self, formula, pos=(0, 0, 0), s=1.0, bg=None, res=150, usetex=False, c="k", alpha=1.0):
         """
         Render Latex text and formulas.
 
         Arguments:
             formula : (str)
                 latex text string
             pos : (list)
@@ -4773,19 +4803,15 @@
                     color=col,
                     alpha=alpha,
                     ha="center",
                     va="center",
                     bbox=bx,
                 )
                 mpltib.savefig(
-                    tfile,
-                    format="png",
-                    transparent=True,
-                    bbox_inches="tight",
-                    pad_inches=0,
+                    tfile, format="png", transparent=True, bbox_inches="tight", pad_inches=0
                 )
                 mpltib.close()
 
             if len(pos) == 2:
                 pos = (pos[0], pos[1], 0)
 
             tmp_file = NamedTemporaryFile(delete=True)
@@ -4806,14 +4832,15 @@
             printc(" Try: sudo apt install dvipng", c="r")
 
 
 class ConvexHull(Mesh):
     """
     Create the 2D/3D convex hull from a set of points.
     """
+
     def __init__(self, pts):
         """
         Create the 2D/3D convex hull from a set of input points or input Mesh.
 
         Examples:
             - [convex_hull.py](https://github.com/marcomusy/vedo/tree/master/examples/advanced/convex_hull.py)
 
@@ -4825,31 +4852,39 @@
         else:
             mesh = pts
         apoly = mesh.clean().polydata()
 
         # Create the convex hull of the pointcloud
         z0, z1 = mesh.zbounds()
         d = mesh.diagonal_size()
-        if (z1 - z0) / d > 0.001:
+        if (z1 - z0) / d > 0.0001:
             delaunay = vtk.vtkDelaunay3D()
+            delaunay.SetInputData(apoly)
+            delaunay.Update()
+            surfaceFilter = vtk.vtkDataSetSurfaceFilter()
+            surfaceFilter.SetInputConnection(delaunay.GetOutputPort())
+            surfaceFilter.Update()
+            out = surfaceFilter.GetOutput()
         else:
             delaunay = vtk.vtkDelaunay2D()
+            delaunay.SetInputData(apoly)
+            delaunay.Update()
+            fe = vtk.vtkFeatureEdges()
+            fe.SetInputConnection(delaunay.GetOutputPort())
+            fe.BoundaryEdgesOn()
+            fe.Update()
+            out = fe.GetOutput()
 
-        delaunay.SetInputData(apoly)
-        delaunay.Update()
-
-        surfaceFilter = vtk.vtkDataSetSurfaceFilter()
-        surfaceFilter.SetInputConnection(delaunay.GetOutputPort())
-        surfaceFilter.Update()
-        Mesh.__init__(self, surfaceFilter.GetOutput(), alpha=0.75)
+        Mesh.__init__(self, out, c=mesh.color(), alpha=0.75)
+        # self.triangulate()
         self.flat()
         self.name = "ConvexHull"
 
 
-def VedoLogo(distance=0, c=None, bc="t", version=False, frame=True):
+def VedoLogo(distance=0.0, c=None, bc="t", version=False, frame=True):
     """
     Create the 3D vedo logo.
 
     Arguments:
         distance : (float)
             send back logo by this distance from camera
         version : (bool)
```

### Comparing `vedo-2023.4.4/vedo/tetmesh.py` & `vedo-2023.4.5/vedo/tetmesh.py`

 * *Files 2% similar despite different names*

```diff
@@ -7,15 +7,15 @@
     import vtkmodules.all as vtk
 
 import numpy as np
 import vedo
 from vedo import utils
 from vedo.base import BaseGrid
 from vedo.mesh import Mesh
-from vedo.io import download, loadUnStructuredGrid
+from vedo.file_io import download, loadUnStructuredGrid
 
 
 __docformat__ = "google"
 
 __doc__ = """
 Work with tetrahedral meshes.
 
@@ -27,15 +27,15 @@
 
 ##########################################################################
 def delaunay3d(mesh, radius=0, tol=None):
     """
     Create 3D Delaunay triangulation of input points.
 
     Arguments:
-    
+
         radius : (float)
             specify distance (or "alpha") value to control output.
             For a non-zero values, only tetra contained within the circumsphere
             will be output.
 
         tol : (float)
             Specify a tolerance to control discarding of closely spaced points.
@@ -200,15 +200,15 @@
             c="#9e2a2b",
         )
         # -----------------------------------------------------------
 
     def _repr_html_(self):
         """
         HTML representation of the TetMesh object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -229,21 +229,21 @@
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         pdata = ""
         if self._data.GetPointData().GetScalars():
             if self._data.GetPointData().GetScalars().GetName():
                 name = self._data.GetPointData().GetScalars().GetName()
                 pdata = "<tr><td><b> point data array </b></td><td>" + name + "</td></tr>"
 
         cdata = ""
@@ -251,31 +251,30 @@
             if self._data.GetCellData().GetScalars().GetName():
                 name = self._data.GetCellData().GetScalars().GetName()
                 cdata = "<tr><td><b> cell data array </b></td><td>" + name + "</td></tr>"
 
         pts = self.points()
         cm = np.mean(pts, axis=0)
 
-        all = [
+        allt = [
             "<table>",
-            "<tr>", 
+            "<tr>",
             "<td>", image, "</td>",
             "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
             "<table>",
             "<tr><td><b> bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
             "<tr><td><b> center of mass </b></td><td>" + utils.precision(cm,3) + "</td></tr>",
-            # "<tr><td><b> average size </b></td><td>" + str(average_size) + "</td></tr>",
-            "<tr><td><b> nr. points&nbsp/&nbsptets </b></td><td>" 
+            "<tr><td><b> nr. points&nbsp/&nbsptets </b></td><td>"
             + str(self.npoints) + "&nbsp/&nbsp" + str(self.ncells) + "</td></tr>",
             pdata,
             cdata,
             "</table>",
             "</table>",
         ]
-        return "\n".join(all)
+        return "\n".join(allt)
 
 
     def _update(self, data):
         self._data = data
         self.mapper().SetInputData(data)
         self.mapper().Modified()
         return self
```

### Comparing `vedo-2023.4.4/vedo/ugrid.py` & `vedo-2023.4.5/vedo/ugrid.py`

 * *Files 0% similar despite different names*

```diff
@@ -6,15 +6,15 @@
     import vtkmodules.all as vtk
 
 import vedo
 from vedo import settings
 from vedo import colors
 from vedo import utils
 from vedo.base import BaseGrid
-from vedo.io import download, loadUnStructuredGrid
+from vedo.file_io import download, loadUnStructuredGrid
 
 
 __docformat__ = "google"
 
 __doc__ = """
 Work with unstructured grid datasets
 """
@@ -166,15 +166,15 @@
             c="#4cc9f0",
         )
     # ------------------------------------------------------------------
 
     def _repr_html_(self):
         """
         HTML representation of the UGrid object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -195,21 +195,21 @@
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         pdata = ""
         if self._data.GetPointData().GetScalars():
             if self._data.GetPointData().GetScalars().GetName():
                 name = self._data.GetPointData().GetScalars().GetName()
                 pdata = "<tr><td><b> point data array </b></td><td>" + name + "</td></tr>"
 
         cdata = ""
@@ -219,22 +219,22 @@
                 cdata = "<tr><td><b> cell data array </b></td><td>" + name + "</td></tr>"
 
         pts = self.points()
         cm = np.mean(pts, axis=0)
 
         all = [
             "<table>",
-            "<tr>", 
+            "<tr>",
             "<td>", image, "</td>",
             "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
             "<table>",
             "<tr><td><b> bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
             "<tr><td><b> center of mass </b></td><td>" + utils.precision(cm,3) + "</td></tr>",
             # "<tr><td><b> average size </b></td><td>" + str(average_size) + "</td></tr>",
-            "<tr><td><b> nr. points&nbsp/&nbspcells </b></td><td>" 
+            "<tr><td><b> nr. points&nbsp/&nbspcells </b></td><td>"
             + str(self.npoints) + "&nbsp/&nbsp" + str(self.ncells) + "</td></tr>",
             pdata,
             cdata,
             "</table>",
             "</table>",
         ]
         return "\n".join(all)
```

### Comparing `vedo-2023.4.4/vedo/utils.py` & `vedo-2023.4.5/vedo/utils.py`

 * *Files 6% similar despite different names*

```diff
@@ -40,5404 +40,5487 @@
 00000270: 6167 222c 0a20 2020 2022 6d61 6732 222c  ag",.    "mag2",
 00000280: 0a20 2020 2022 7665 7273 6f72 222c 0a20  .    "versor",. 
 00000290: 2020 2022 7072 6563 6973 696f 6e22 2c0a     "precision",.
 000002a0: 2020 2020 2272 6f75 6e64 5f74 6f5f 6469      "round_to_di
 000002b0: 6769 7422 2c0a 2020 2020 2270 6f69 6e74  git",.    "point
 000002c0: 5f69 6e5f 7472 6961 6e67 6c65 222c 0a20  _in_triangle",. 
 000002d0: 2020 2022 706f 696e 745f 6c69 6e65 5f64     "point_line_d
-000002e0: 6973 7461 6e63 6522 2c0a 2020 2020 2267  istance",.    "g
-000002f0: 7265 7022 2c0a 2020 2020 2270 7269 6e74  rep",.    "print
-00000300: 5f69 6e66 6f22 2c0a 2020 2020 226d 616b  _info",.    "mak
-00000310: 655f 6261 6e64 7322 2c0a 2020 2020 2270  e_bands",.    "p
-00000320: 6163 6b5f 7370 6865 7265 7322 2c0a 2020  ack_spheres",.  
-00000330: 2020 2273 7068 6572 3263 6172 7422 2c0a    "spher2cart",.
-00000340: 2020 2020 2263 6172 7432 7370 6865 7222      "cart2spher"
-00000350: 2c0a 2020 2020 2263 6172 7432 6379 6c22  ,.    "cart2cyl"
-00000360: 2c0a 2020 2020 2263 796c 3263 6172 7422  ,.    "cyl2cart"
-00000370: 2c0a 2020 2020 2263 796c 3273 7068 6572  ,.    "cyl2spher
-00000380: 222c 0a20 2020 2022 7370 6865 7232 6379  ",.    "spher2cy
-00000390: 6c22 2c0a 2020 2020 2263 6172 7432 706f  l",.    "cart2po
-000003a0: 6c22 2c0a 2020 2020 2270 6f6c 3263 6172  l",.    "pol2car
-000003b0: 7422 2c0a 2020 2020 2268 756d 616e 736f  t",.    "humanso
-000003c0: 7274 222c 0a20 2020 2022 7072 696e 745f  rt",.    "print_
-000003d0: 6869 7374 6f67 7261 6d22 2c0a 2020 2020  histogram",.    
-000003e0: 2263 616d 6572 615f 6672 6f6d 5f71 7561  "camera_from_qua
-000003f0: 7465 726e 696f 6e22 2c0a 2020 2020 2263  ternion",.    "c
-00000400: 616d 6572 615f 6672 6f6d 5f6e 6575 726f  amera_from_neuro
-00000410: 676c 616e 6365 7222 2c0a 2020 2020 226f  glancer",.    "o
-00000420: 7269 656e 7465 645f 6361 6d65 7261 222c  riented_camera",
-00000430: 0a20 2020 2022 7665 646f 3274 7269 6d65  .    "vedo2trime
-00000440: 7368 222c 0a20 2020 2022 7472 696d 6573  sh",.    "trimes
-00000450: 6832 7665 646f 222c 0a20 2020 2022 7665  h2vedo",.    "ve
-00000460: 646f 326d 6573 686c 6162 222c 0a20 2020  do2meshlab",.   
-00000470: 2022 6d65 7368 6c61 6232 7665 646f 222c   "meshlab2vedo",
-00000480: 0a20 2020 2022 7665 646f 326f 7065 6e33  .    "vedo2open3
-00000490: 6422 2c0a 2020 2020 226f 7065 6e33 6432  d",.    "open3d2
-000004a0: 7665 646f 222c 0a20 2020 2022 7674 6b32  vedo",.    "vtk2
-000004b0: 6e75 6d70 7922 2c0a 2020 2020 226e 756d  numpy",.    "num
-000004c0: 7079 3276 746b 222c 0a20 2020 2022 6765  py2vtk",.    "ge
-000004d0: 745f 7576 222c 0a5d 0a0a 0a23 2323 2323  t_uv",.]...#####
-000004e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000002e0: 6973 7461 6e63 6522 2c0a 2020 2020 2263  istance",.    "c
+000002f0: 6c6f 7365 7374 222c 0a20 2020 2022 6772  losest",.    "gr
+00000300: 6570 222c 0a20 2020 2022 7072 696e 745f  ep",.    "print_
+00000310: 696e 666f 222c 0a20 2020 2022 6d61 6b65  info",.    "make
+00000320: 5f62 616e 6473 222c 0a20 2020 2022 7061  _bands",.    "pa
+00000330: 636b 5f73 7068 6572 6573 222c 0a20 2020  ck_spheres",.   
+00000340: 2022 7370 6865 7232 6361 7274 222c 0a20   "spher2cart",. 
+00000350: 2020 2022 6361 7274 3273 7068 6572 222c     "cart2spher",
+00000360: 0a20 2020 2022 6361 7274 3263 796c 222c  .    "cart2cyl",
+00000370: 0a20 2020 2022 6379 6c32 6361 7274 222c  .    "cyl2cart",
+00000380: 0a20 2020 2022 6379 6c32 7370 6865 7222  .    "cyl2spher"
+00000390: 2c0a 2020 2020 2273 7068 6572 3263 796c  ,.    "spher2cyl
+000003a0: 222c 0a20 2020 2022 6361 7274 3270 6f6c  ",.    "cart2pol
+000003b0: 222c 0a20 2020 2022 706f 6c32 6361 7274  ",.    "pol2cart
+000003c0: 222c 0a20 2020 2022 6875 6d61 6e73 6f72  ",.    "humansor
+000003d0: 7422 2c0a 2020 2020 2270 7269 6e74 5f68  t",.    "print_h
+000003e0: 6973 746f 6772 616d 222c 0a20 2020 2022  istogram",.    "
+000003f0: 6361 6d65 7261 5f66 726f 6d5f 7175 6174  camera_from_quat
+00000400: 6572 6e69 6f6e 222c 0a20 2020 2022 6361  ernion",.    "ca
+00000410: 6d65 7261 5f66 726f 6d5f 6e65 7572 6f67  mera_from_neurog
+00000420: 6c61 6e63 6572 222c 0a20 2020 2022 6f72  lancer",.    "or
+00000430: 6965 6e74 6564 5f63 616d 6572 6122 2c0a  iented_camera",.
+00000440: 2020 2020 2276 6564 6f32 7472 696d 6573      "vedo2trimes
+00000450: 6822 2c0a 2020 2020 2274 7269 6d65 7368  h",.    "trimesh
+00000460: 3276 6564 6f22 2c0a 2020 2020 2276 6564  2vedo",.    "ved
+00000470: 6f32 6d65 7368 6c61 6222 2c0a 2020 2020  o2meshlab",.    
+00000480: 226d 6573 686c 6162 3276 6564 6f22 2c0a  "meshlab2vedo",.
+00000490: 2020 2020 2276 6564 6f32 6f70 656e 3364      "vedo2open3d
+000004a0: 222c 0a20 2020 2022 6f70 656e 3364 3276  ",.    "open3d2v
+000004b0: 6564 6f22 2c0a 2020 2020 2276 746b 326e  edo",.    "vtk2n
+000004c0: 756d 7079 222c 0a20 2020 2022 6e75 6d70  umpy",.    "nump
+000004d0: 7932 7674 6b22 2c0a 2020 2020 2267 6574  y2vtk",.    "get
+000004e0: 5f75 7622 2c0a 5d0a 0a0a 2323 2323 2323  _uv",.]...######
 000004f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
 00000500: 2323 2323 2323 2323 2323 2323 2323 2323  ################
 00000510: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00000520: 2323 2323 2323 0a63 6c61 7373 204f 7065  ######.class Ope
-00000530: 7261 7469 6f6e 4e6f 6465 3a0a 2020 2020  rationNode:.    
-00000540: 2222 220a 2020 2020 4b65 6570 2074 7261  """.    Keep tra
-00000550: 636b 206f 6620 7468 6520 6f70 6572 6174  ck of the operat
-00000560: 696f 6e73 2077 6869 6368 206c 6564 2074  ions which led t
-00000570: 6f20 6120 6669 6e61 6c20 6f62 6a65 6374  o a final object
-00000580: 2e0a 2020 2020 2222 220a 2020 2020 2320  ..    """.    # 
-00000590: 6874 7470 733a 2f2f 7777 772e 6772 6170  https://www.grap
-000005a0: 6876 697a 2e6f 7267 2f64 6f63 2f69 6e66  hviz.org/doc/inf
-000005b0: 6f2f 7368 6170 6573 2e68 746d 6c23 6874  o/shapes.html#ht
-000005c0: 6d6c 0a20 2020 2023 204d 6573 6820 2020  ml.    # Mesh   
-000005d0: 2020 2365 3963 3436 610a 2020 2020 2320    #e9c46a.    # 
-000005e0: 466f 6c6c 6f77 6572 2023 6439 6564 3932  Follower #d9ed92
-000005f0: 0a20 2020 2023 2056 6f6c 756d 652c 2055  .    # Volume, U
-00000600: 4772 6964 2023 3463 6339 6630 0a20 2020  Grid #4cc9f0.   
-00000610: 2023 2054 6574 4d65 7368 2020 2339 6532   # TetMesh  #9e2
-00000620: 6132 620a 2020 2020 2320 4669 6c65 2020  a2b.    # File  
-00000630: 2020 2023 3861 3831 3763 0a20 2020 2023     #8a817c.    #
-00000640: 2050 6963 7475 7265 2020 2366 3238 3438   Picture  #f2848
-00000650: 320a 2020 2020 2320 4173 7365 6d62 6c79  2.    # Assembly
-00000660: 2023 6630 3830 3830 0a0a 2020 2020 6465   #f08080..    de
-00000670: 6620 5f5f 696e 6974 5f5f 280a 2020 2020  f __init__(.    
-00000680: 2020 2020 7365 6c66 2c20 0a20 2020 2020      self, .     
-00000690: 2020 206f 7065 7261 7469 6f6e 2c0a 2020     operation,.  
-000006a0: 2020 2020 2020 7061 7265 6e74 733d 2829        parents=()
-000006b0: 2c0a 2020 2020 2020 2020 636f 6d6d 656e  ,.        commen
-000006c0: 743d 2222 2c0a 2020 2020 2020 2020 7368  t="",.        sh
-000006d0: 6170 653d 226e 6f6e 6522 2c0a 2020 2020  ape="none",.    
-000006e0: 2020 2020 633d 2223 6539 6334 3661 222c      c="#e9c46a",
-000006f0: 0a20 2020 2020 2020 2073 7479 6c65 3d22  .        style="
-00000700: 6669 6c6c 6564 222c 0a20 2020 2029 3a0a  filled",.    ):.
-00000710: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00000720: 2020 2020 4b65 6570 2074 7261 636b 206f      Keep track o
-00000730: 6620 7468 6520 6f70 6572 6174 696f 6e73  f the operations
-00000740: 2077 6869 6368 206c 6564 2074 6f20 6120   which led to a 
-00000750: 6669 6e61 6c20 6f62 6a65 6374 2e0a 2020  final object..  
-00000760: 2020 2020 2020 5468 6973 2061 6c6c 6f77        This allow
-00000770: 7320 746f 2073 686f 7720 7468 6520 6070  s to show the `p
-00000780: 6970 656c 696e 6560 2074 7265 6520 666f  ipeline` tree fo
-00000790: 7220 616e 7920 6076 6564 6f60 206f 626a  r any `vedo` obj
-000007a0: 6563 7420 7769 7468 2065 2e67 2e3a 0a0a  ect with e.g.:..
-000007b0: 2020 2020 2020 2020 6060 6070 7974 686f          ```pytho
-000007c0: 6e0a 2020 2020 2020 2020 6672 6f6d 2076  n.        from v
-000007d0: 6564 6f20 696d 706f 7274 202a 0a20 2020  edo import *.   
-000007e0: 2020 2020 2073 7020 3d20 5370 6865 7265       sp = Sphere
-000007f0: 2829 0a20 2020 2020 2020 2073 702e 636c  ().        sp.cl
-00000800: 6561 6e28 292e 7375 6264 6976 6964 6528  ean().subdivide(
-00000810: 290a 2020 2020 2020 2020 7370 2e70 6970  ).        sp.pip
-00000820: 656c 696e 652e 7368 6f77 2829 0a20 2020  eline.show().   
-00000830: 2020 2020 2060 6060 0a20 2020 2020 2020       ```.       
-00000840: 200a 2020 2020 2020 2020 4172 6775 6d65   .        Argume
-00000850: 6e74 733a 0a20 2020 2020 2020 2020 2020  nts:.           
-00000860: 206f 7065 7261 7469 6f6e 203a 2028 7374   operation : (st
-00000870: 722c 2063 6c61 7373 290a 2020 2020 2020  r, class).      
-00000880: 2020 2020 2020 2020 2020 6465 7363 7269            descri
-00000890: 7074 6f72 206c 6162 656c 2c20 6966 2061  ptor label, if a
-000008a0: 2063 6c61 7373 2069 7320 7061 7373 6564   class is passed
-000008b0: 2074 6865 6e20 6772 6162 2069 7473 206e   then grab its n
-000008c0: 616d 6520 2020 2020 2020 2020 2020 0a20  ame           . 
-000008d0: 2020 2020 2020 2020 2020 2070 6172 656e             paren
-000008e0: 7473 203a 2028 6c69 7374 290a 2020 2020  ts : (list).    
-000008f0: 2020 2020 2020 2020 2020 2020 6c69 7374              list
-00000900: 206f 6620 7468 6520 7061 7265 6e74 2063   of the parent c
-00000910: 6c61 7373 6573 2074 6865 206f 626a 6563  lasses the objec
-00000920: 7420 636f 6d65 7320 6672 6f6d 2020 2020  t comes from    
-00000930: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00000940: 2020 2020 636f 6d6d 656e 7420 3a20 2873      comment : (s
-00000950: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
-00000960: 2020 2020 6120 7365 636f 6e64 2d6c 696e      a second-lin
-00000970: 6520 7465 7874 2064 6573 6372 6970 7469  e text descripti
-00000980: 6f6e 2020 2020 2020 0a20 2020 2020 2020  on      .       
-00000990: 2020 2020 2073 6861 7065 203a 2028 7374       shape : (st
-000009a0: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
-000009b0: 2020 2073 6861 7065 206f 6620 7468 6520     shape of the 
-000009c0: 6672 616d 652c 2063 6865 636b 206f 7574  frame, check out
-000009d0: 205b 7468 6973 206c 696e 6b2e 5d28 6874   [this link.](ht
-000009e0: 7470 733a 2f2f 6772 6170 6876 697a 2e6f  tps://graphviz.o
-000009f0: 7267 2f64 6f63 2f69 6e66 6f2f 7368 6170  rg/doc/info/shap
-00000a00: 6573 2e68 746d 6c29 2020 2020 200a 2020  es.html)     .  
-00000a10: 2020 2020 2020 2020 2020 6320 3a20 2868            c : (h
-00000a20: 6578 290a 2020 2020 2020 2020 2020 2020  ex).            
-00000a30: 2020 2020 6865 7820 636f 6c6f 720a 2020      hex color.  
-00000a40: 2020 2020 2020 2020 2020 7374 796c 6520            style 
-00000a50: 3a20 2873 7472 290a 2020 2020 2020 2020  : (str).        
-00000a60: 2020 2020 2020 2020 636f 6d6d 612d 7365          comma-se
-00000a70: 7061 7261 7465 6420 6c69 7374 206f 6620  parated list of 
-00000a80: 7374 796c 6573 0a0a 2020 2020 2020 2020  styles..        
-00000a90: 4578 616d 706c 653a 0a20 2020 2020 2020  Example:.       
-00000aa0: 2020 2020 2060 6060 7079 7468 6f6e 0a20       ```python. 
-00000ab0: 2020 2020 2020 2020 2020 2066 726f 6d20             from 
-00000ac0: 7665 646f 2e75 7469 6c73 2069 6d70 6f72  vedo.utils impor
-00000ad0: 7420 4f70 6572 6174 696f 6e4e 6f64 650a  t OperationNode.
-00000ae0: 0a20 2020 2020 2020 2020 2020 206f 705f  .            op_
-00000af0: 6e6f 6465 3120 3d20 4f70 6572 6174 696f  node1 = Operatio
-00000b00: 6e4e 6f64 6528 224f 7065 7261 7469 6f6e  nNode("Operation
-00000b10: 3122 2c20 633d 226c 6967 6874 626c 7565  1", c="lightblue
-00000b20: 2229 0a20 2020 2020 2020 2020 2020 206f  ").            o
-00000b30: 705f 6e6f 6465 3220 3d20 4f70 6572 6174  p_node2 = Operat
-00000b40: 696f 6e4e 6f64 6528 224f 7065 7261 7469  ionNode("Operati
-00000b50: 6f6e 3222 290a 2020 2020 2020 2020 2020  on2").          
-00000b60: 2020 6f70 5f6e 6f64 6533 203d 204f 7065    op_node3 = Ope
-00000b70: 7261 7469 6f6e 4e6f 6465 2822 4f70 6572  rationNode("Oper
-00000b80: 6174 696f 6e33 222c 2073 6861 7065 3d27  ation3", shape='
-00000b90: 6469 616d 6f6e 6427 290a 2020 2020 2020  diamond').      
-00000ba0: 2020 2020 2020 6f70 5f6e 6f64 6534 203d        op_node4 =
-00000bb0: 204f 7065 7261 7469 6f6e 4e6f 6465 2822   OperationNode("
-00000bc0: 4f70 6572 6174 696f 6e34 2229 0a20 2020  Operation4").   
-00000bd0: 2020 2020 2020 2020 206f 705f 6e6f 6465           op_node
-00000be0: 3520 3d20 4f70 6572 6174 696f 6e4e 6f64  5 = OperationNod
-00000bf0: 6528 224f 7065 7261 7469 6f6e 3522 290a  e("Operation5").
-00000c00: 2020 2020 2020 2020 2020 2020 6f70 5f6e              op_n
-00000c10: 6f64 6536 203d 204f 7065 7261 7469 6f6e  ode6 = Operation
-00000c20: 4e6f 6465 2822 5265 7375 6c74 222c 2063  Node("Result", c
-00000c30: 3d22 6c69 6768 7467 7265 656e 2229 0a0a  ="lightgreen")..
-00000c40: 2020 2020 2020 2020 2020 2020 6f70 5f6e              op_n
-00000c50: 6f64 6533 2e61 6464 5f70 6172 656e 7428  ode3.add_parent(
-00000c60: 6f70 5f6e 6f64 6531 290a 2020 2020 2020  op_node1).      
-00000c70: 2020 2020 2020 6f70 5f6e 6f64 6534 2e61        op_node4.a
-00000c80: 6464 5f70 6172 656e 7428 6f70 5f6e 6f64  dd_parent(op_nod
-00000c90: 6531 290a 2020 2020 2020 2020 2020 2020  e1).            
-00000ca0: 6f70 5f6e 6f64 6533 2e61 6464 5f70 6172  op_node3.add_par
-00000cb0: 656e 7428 6f70 5f6e 6f64 6532 290a 2020  ent(op_node2).  
-00000cc0: 2020 2020 2020 2020 2020 6f70 5f6e 6f64            op_nod
-00000cd0: 6535 2e61 6464 5f70 6172 656e 7428 6f70  e5.add_parent(op
-00000ce0: 5f6e 6f64 6532 290a 2020 2020 2020 2020  _node2).        
-00000cf0: 2020 2020 6f70 5f6e 6f64 6536 2e61 6464      op_node6.add
-00000d00: 5f70 6172 656e 7428 6f70 5f6e 6f64 6533  _parent(op_node3
-00000d10: 290a 2020 2020 2020 2020 2020 2020 6f70  ).            op
-00000d20: 5f6e 6f64 6536 2e61 6464 5f70 6172 656e  _node6.add_paren
-00000d30: 7428 6f70 5f6e 6f64 6535 290a 2020 2020  t(op_node5).    
-00000d40: 2020 2020 2020 2020 6f70 5f6e 6f64 6536          op_node6
-00000d50: 2e61 6464 5f70 6172 656e 7428 6f70 5f6e  .add_parent(op_n
-00000d60: 6f64 6531 290a 0a20 2020 2020 2020 2020  ode1)..         
-00000d70: 2020 206f 705f 6e6f 6465 362e 7368 6f77     op_node6.show
-00000d80: 286f 7269 656e 7461 7469 6f6e 3d22 5442  (orientation="TB
-00000d90: 2229 0a20 2020 2020 2020 2020 2020 2060  ").            `
-00000da0: 6060 0a20 2020 2020 2020 2020 2020 2021  ``.            !
-00000db0: 5b5d 2868 7474 7073 3a2f 2f76 6564 6f2e  [](https://vedo.
-00000dc0: 656d 626c 2e65 732f 696d 6167 6573 2f66  embl.es/images/f
-00000dd0: 6561 7473 2f6f 7065 7261 7469 6f6e 5f6e  eats/operation_n
-00000de0: 6f64 652e 706e 6729 0a20 2020 2020 2020  ode.png).       
-00000df0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00000e00: 6e6f 7420 7665 646f 2e73 6574 7469 6e67  not vedo.setting
-00000e10: 732e 656e 6162 6c65 5f70 6970 656c 696e  s.enable_pipelin
-00000e20: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00000e30: 6574 7572 6e0a 0a20 2020 2020 2020 2069  eturn..        i
-00000e40: 6620 6973 696e 7374 616e 6365 286f 7065  f isinstance(ope
-00000e50: 7261 7469 6f6e 2c20 7374 7229 3a0a 2020  ration, str):.  
-00000e60: 2020 2020 2020 2020 2020 7365 6c66 2e6f            self.o
-00000e70: 7065 7261 7469 6f6e 203d 206f 7065 7261  peration = opera
-00000e80: 7469 6f6e 0a20 2020 2020 2020 2065 6c73  tion.        els
-00000e90: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00000ea0: 656c 662e 6f70 6572 6174 696f 6e20 3d20  elf.operation = 
-00000eb0: 6f70 6572 6174 696f 6e2e 5f5f 636c 6173  operation.__clas
-00000ec0: 735f 5f2e 5f5f 6e61 6d65 5f5f 0a20 2020  s__.__name__.   
-00000ed0: 2020 2020 2073 656c 662e 6f70 6572 6174       self.operat
-00000ee0: 696f 6e5f 706c 6169 6e20 3d20 7374 7228  ion_plain = str(
-00000ef0: 7365 6c66 2e6f 7065 7261 7469 6f6e 290a  self.operation).
-00000f00: 0a20 2020 2020 2020 2070 7020 3d20 5b5d  .        pp = []
-00000f10: 2023 2066 696c 7465 7220 6f75 7420 696e   # filter out in
-00000f20: 7661 6c69 6420 7374 7566 660a 2020 2020  valid stuff.    
-00000f30: 2020 2020 666f 7220 7020 696e 2070 6172      for p in par
-00000f40: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
-00000f50: 2020 6966 2068 6173 6174 7472 2870 2c20    if hasattr(p, 
-00000f60: 2270 6970 656c 696e 6522 293a 0a20 2020  "pipeline"):.   
-00000f70: 2020 2020 2020 2020 2020 2020 2070 702e               pp.
-00000f80: 6170 7065 6e64 2870 2e70 6970 656c 696e  append(p.pipelin
-00000f90: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
-00000fa0: 7061 7265 6e74 7320 3d20 7070 0a0a 2020  parents = pp..  
-00000fb0: 2020 2020 2020 6966 2063 6f6d 6d65 6e74        if comment
-00000fc0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00000fd0: 6c66 2e6f 7065 7261 7469 6f6e 203d 2066  lf.operation = f
-00000fe0: 223c 7b73 656c 662e 6f70 6572 6174 696f  "<{self.operatio
-00000ff0: 6e7d 3c42 522f 3e3c 5355 423e 3c49 3e7b  n}<BR/><SUB><I>{
-00001000: 636f 6d6d 656e 747d 3c2f 493e 3c2f 5355  comment}</I></SU
-00001010: 423e 3e22 0a0a 2020 2020 2020 2020 7365  B>>"..        se
-00001020: 6c66 2e64 6f74 203d 204e 6f6e 650a 2020  lf.dot = None.  
-00001030: 2020 2020 2020 7365 6c66 2e74 696d 6520        self.time 
-00001040: 3d20 7469 6d65 2e74 696d 6528 290a 2020  = time.time().  
-00001050: 2020 2020 2020 7365 6c66 2e73 6861 7065        self.shape
-00001060: 203d 2073 6861 7065 0a20 2020 2020 2020   = shape.       
-00001070: 2073 656c 662e 7374 796c 6520 3d20 7374   self.style = st
-00001080: 796c 650a 2020 2020 2020 2020 7365 6c66  yle.        self
-00001090: 2e63 6f6c 6f72 203d 2063 0a0a 2020 2020  .color = c..    
-000010a0: 6465 6620 6164 645f 7061 7265 6e74 2873  def add_parent(s
-000010b0: 656c 662c 2070 6172 656e 7429 3a0a 2020  elf, parent):.  
-000010c0: 2020 2020 2020 7365 6c66 2e70 6172 656e        self.paren
-000010d0: 7473 2e61 7070 656e 6428 7061 7265 6e74  ts.append(parent
-000010e0: 290a 0a20 2020 2064 6566 205f 6275 696c  )..    def _buil
-000010f0: 645f 7472 6565 2873 656c 662c 2064 6f74  d_tree(self, dot
-00001100: 293a 0a20 2020 2020 2020 2064 6f74 2e6e  ):.        dot.n
-00001110: 6f64 6528 0a20 2020 2020 2020 2020 2020  ode(.           
-00001120: 2073 7472 2869 6428 7365 6c66 2929 2c20   str(id(self)), 
-00001130: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
-00001140: 656c 3d73 656c 662e 6f70 6572 6174 696f  el=self.operatio
-00001150: 6e2c 200a 2020 2020 2020 2020 2020 2020  n, .            
-00001160: 7368 6170 653d 7365 6c66 2e73 6861 7065  shape=self.shape
-00001170: 2c0a 2020 2020 2020 2020 2020 2020 636f  ,.            co
-00001180: 6c6f 723d 7365 6c66 2e63 6f6c 6f72 2c0a  lor=self.color,.
-00001190: 2020 2020 2020 2020 2020 2020 7374 796c              styl
-000011a0: 653d 7365 6c66 2e73 7479 6c65 2c0a 2020  e=self.style,.  
-000011b0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000011c0: 666f 7220 7061 7265 6e74 2069 6e20 7365  for parent in se
-000011d0: 6c66 2e70 6172 656e 7473 3a0a 2020 2020  lf.parents:.    
-000011e0: 2020 2020 2020 2020 6966 2070 6172 656e          if paren
-000011f0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00001200: 2020 2074 203d 2066 227b 7365 6c66 2e74     t = f"{self.t
-00001210: 696d 6520 2d20 7061 7265 6e74 2e74 696d  ime - parent.tim
-00001220: 653a 202e 3166 7d73 220a 2020 2020 2020  e: .1f}s".      
-00001230: 2020 2020 2020 2020 2020 646f 742e 6564            dot.ed
-00001240: 6765 2873 7472 2869 6428 7061 7265 6e74  ge(str(id(parent
-00001250: 2929 2c20 7374 7228 6964 2873 656c 6629  )), str(id(self)
-00001260: 292c 206c 6162 656c 3d74 290a 2020 2020  ), label=t).    
-00001270: 2020 2020 2020 2020 2020 2020 7061 7265              pare
-00001280: 6e74 2e5f 6275 696c 645f 7472 6565 2864  nt._build_tree(d
-00001290: 6f74 290a 0a20 2020 2064 6566 205f 5f72  ot)..    def __r
-000012a0: 6570 725f 5f28 7365 6c66 293a 200a 2020  epr__(self): .  
-000012b0: 2020 2020 2020 7472 793a 2020 2020 2020        try:      
-000012c0: 0a20 2020 2020 2020 2020 2020 2066 726f  .            fro
-000012d0: 6d20 7472 6565 6c69 6220 696d 706f 7274  m treelib import
-000012e0: 2054 7265 650a 2020 2020 2020 2020 6578   Tree.        ex
-000012f0: 6365 7074 2049 6d70 6f72 7445 7272 6f72  cept ImportError
-00001300: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
-00001310: 646f 2e6c 6f67 6765 722e 6572 726f 7228  do.logger.error(
-00001320: 2254 6f20 7573 6520 7468 6973 2066 756e  "To use this fun
-00001330: 6374 696f 6e61 6c69 7479 2070 6c65 6173  ctionality pleas
-00001340: 6520 696e 7374 616c 6c20 7472 6565 6c69  e install treeli
-00001350: 623a 220a 2020 2020 2020 2020 2020 2020  b:".            
-00001360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001370: 2020 225c 6e20 7069 7020 696e 7374 616c    "\n pip instal
-00001380: 6c20 7472 6565 6c69 6222 290a 2020 2020  l treelib").    
-00001390: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-000013a0: 220a 0a20 2020 2020 2020 2064 6566 205f  "..        def _
-000013b0: 6275 696c 645f 7472 6565 2870 6172 656e  build_tree(paren
-000013c0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-000013d0: 666f 7220 7061 7220 696e 2070 6172 656e  for par in paren
-000013e0: 742e 7061 7265 6e74 733a 0a20 2020 2020  t.parents:.     
-000013f0: 2020 2020 2020 2020 2020 2069 6620 7061             if pa
-00001400: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00001410: 2020 2020 2020 206f 7020 3d20 7061 722e         op = par.
-00001420: 6f70 6572 6174 696f 6e5f 706c 6169 6e0a  operation_plain.
-00001430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001440: 2020 2020 7472 6565 2e63 7265 6174 655f      tree.create_
-00001450: 6e6f 6465 280a 2020 2020 2020 2020 2020  node(.          
-00001460: 2020 2020 2020 2020 2020 2020 2020 6f70                op
-00001470: 2c20 0a20 2020 2020 2020 2020 2020 2020  , .             
-00001480: 2020 2020 2020 2020 2020 206f 7020 2b20             op + 
-00001490: 7374 7228 7061 722e 7469 6d65 292c 200a  str(par.time), .
-000014a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000014b0: 2020 2020 2020 2020 7061 7265 6e74 3d70          parent=p
-000014c0: 6172 656e 742e 6f70 6572 6174 696f 6e5f  arent.operation_
-000014d0: 706c 6169 6e20 2b20 7374 7228 7061 7265  plain + str(pare
-000014e0: 6e74 2e74 696d 6529 290a 2020 2020 2020  nt.time)).      
-000014f0: 2020 2020 2020 2020 2020 2020 2020 5f62                _b
-00001500: 7569 6c64 5f74 7265 6528 7061 7229 0a0a  uild_tree(par)..
-00001510: 2020 2020 2020 2020 7472 6565 203d 2054          tree = T
-00001520: 7265 6528 290a 2020 2020 2020 2020 7472  ree().        tr
-00001530: 6565 2e63 7265 6174 655f 6e6f 6465 280a  ee.create_node(.
-00001540: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00001550: 2e6f 7065 7261 7469 6f6e 5f70 6c61 696e  .operation_plain
-00001560: 2c20 7365 6c66 2e6f 7065 7261 7469 6f6e  , self.operation
-00001570: 5f70 6c61 696e 202b 2073 7472 2873 656c  _plain + str(sel
-00001580: 662e 7469 6d65 290a 2020 2020 2020 2020  f.time).        
-00001590: 290a 2020 2020 2020 2020 5f62 7569 6c64  ).        _build
-000015a0: 5f74 7265 6528 7365 6c66 290a 2020 2020  _tree(self).    
-000015b0: 2020 2020 7265 7475 726e 2074 7265 652e      return tree.
-000015c0: 7368 6f77 2872 6576 6572 7365 3d54 7275  show(reverse=Tru
-000015d0: 652c 2073 7464 6f75 743d 4661 6c73 6529  e, stdout=False)
-000015e0: 0a0a 2020 2020 6465 6620 7368 6f77 2873  ..    def show(s
-000015f0: 656c 662c 206f 7269 656e 7461 7469 6f6e  elf, orientation
-00001600: 3d22 4c52 222c 2070 6f70 7570 3d54 7275  ="LR", popup=Tru
-00001610: 6529 3a0a 2020 2020 2020 2020 2222 2253  e):.        """S
-00001620: 686f 7720 7468 6520 6772 6170 6876 697a  how the graphviz
-00001630: 206f 7574 7075 7420 666f 7220 7468 6520   output for the 
-00001640: 7069 7065 6c69 6e65 206f 6620 7468 6973  pipeline of this
-00001650: 206f 626a 6563 7422 2222 0a20 2020 2020   object""".     
-00001660: 2020 2069 6620 6e6f 7420 7665 646f 2e73     if not vedo.s
-00001670: 6574 7469 6e67 732e 656e 6162 6c65 5f70  ettings.enable_p
-00001680: 6970 656c 696e 653a 0a20 2020 2020 2020  ipeline:.       
-00001690: 2020 2020 2072 6574 7572 6e0a 2020 2020       return.    
-000016a0: 2020 2020 0a20 2020 2020 2020 2074 7279      .        try
-000016b0: 3a0a 2020 2020 2020 2020 2020 2020 6672  :.            fr
-000016c0: 6f6d 2067 7261 7068 7669 7a20 696d 706f  om graphviz impo
-000016d0: 7274 2044 6967 7261 7068 0a20 2020 2020  rt Digraph.     
-000016e0: 2020 2065 7863 6570 7420 496d 706f 7274     except Import
-000016f0: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
-00001700: 2020 2076 6564 6f2e 6c6f 6767 6572 2e65     vedo.logger.e
-00001710: 7272 6f72 2822 706c 6561 7365 2069 6e73  rror("please ins
-00001720: 7461 6c6c 2067 7261 7068 7669 7a20 7769  tall graphviz wi
-00001730: 7468 2063 6f6d 6d61 6e64 5c6e 2070 6970  th command\n pip
-00001740: 2069 6e73 7461 6c6c 2067 7261 7068 7669   install graphvi
-00001750: 7a22 290a 2020 2020 2020 2020 2020 2020  z").            
-00001760: 7265 7475 726e 0a0a 2020 2020 2020 2020  return..        
-00001770: 2320 7669 7375 616c 697a 6520 7468 6520  # visualize the 
-00001780: 656e 7469 7265 2074 7265 650a 2020 2020  entire tree.    
-00001790: 2020 2020 646f 7420 3d20 4469 6772 6170      dot = Digrap
-000017a0: 6828 0a20 2020 2020 2020 2020 2020 206e  h(.            n
-000017b0: 6f64 655f 6174 7472 3d7b 0a20 2020 2020  ode_attr={.     
-000017c0: 2020 2020 2020 2020 2020 2027 666f 6e74             'font
-000017d0: 636f 6c6f 7227 3a27 2332 3031 3031 3027  color':'#201010'
-000017e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000017f0: 2020 2766 6f6e 746e 616d 6527 3a20 2248    'fontname': "H
-00001800: 656c 7665 7469 6361 222c 0a20 2020 2020  elvetica",.     
-00001810: 2020 2020 2020 2020 2020 2027 666f 6e74             'font
-00001820: 7369 7a65 273a 2027 3132 272c 0a20 2020  size': '12',.   
-00001830: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-00001840: 2020 2020 6564 6765 5f61 7474 723d 7b20      edge_attr={ 
-00001850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001860: 2027 666f 6e74 6e61 6d65 273a 2022 4865   'fontname': "He
-00001870: 6c76 6574 6963 6122 2c0a 2020 2020 2020  lvetica",.      
-00001880: 2020 2020 2020 2020 2020 2766 6f6e 7473            'fonts
-00001890: 697a 6527 3a20 2736 272c 0a20 2020 2020  ize': '6',.     
-000018a0: 2020 2020 2020 2020 2020 2027 6172 726f             'arro
-000018b0: 7773 697a 6527 3a20 2730 2e34 272c 0a20  wsize': '0.4',. 
-000018c0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
-000018d0: 2020 2020 2029 0a20 2020 2020 2020 2064       ).        d
-000018e0: 6f74 2e61 7474 7228 7261 6e6b 6469 723d  ot.attr(rankdir=
-000018f0: 6f72 6965 6e74 6174 696f 6e29 0a20 2020  orientation).   
-00001900: 2020 2020 200a 2020 2020 2020 2020 7365       .        se
-00001910: 6c66 2e63 6f75 6e74 7320 3d20 300a 2020  lf.counts = 0.  
-00001920: 2020 2020 2020 7365 6c66 2e5f 6275 696c        self._buil
-00001930: 645f 7472 6565 2864 6f74 290a 2020 2020  d_tree(dot).    
-00001940: 2020 2020 7365 6c66 2e64 6f74 203d 2064      self.dot = d
-00001950: 6f74 0a20 2020 2020 2020 2064 6f74 2e72  ot.        dot.r
-00001960: 656e 6465 7228 272e 7665 646f 5f70 6970  ender('.vedo_pip
-00001970: 656c 696e 655f 6772 6170 6876 697a 272c  eline_graphviz',
-00001980: 2076 6965 773d 706f 7075 7029 0a0a 0a23   view=popup)...#
-00001990: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000019a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000019b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000019c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000019d0: 2323 2323 2323 2323 2323 0a63 6c61 7373  ##########.class
-000019e0: 2050 726f 6772 6573 7342 6172 3a0a 2020   ProgressBar:.  
-000019f0: 2020 2222 220a 2020 2020 436c 6173 7320    """.    Class 
-00001a00: 746f 2070 7269 6e74 2061 2070 726f 6772  to print a progr
-00001a10: 6573 7320 6261 722e 0a20 2020 2022 2222  ess bar..    """
-00001a20: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-00001a30: 5f28 0a20 2020 2020 2020 2073 656c 662c  _(.        self,
-00001a40: 0a20 2020 2020 2020 2073 7461 7274 2c0a  .        start,.
-00001a50: 2020 2020 2020 2020 7374 6f70 2c0a 2020          stop,.  
-00001a60: 2020 2020 2020 7374 6570 3d31 2c0a 2020        step=1,.  
-00001a70: 2020 2020 2020 633d 4e6f 6e65 2c0a 2020        c=None,.  
-00001a80: 2020 2020 2020 626f 6c64 3d54 7275 652c        bold=True,
-00001a90: 0a20 2020 2020 2020 2069 7461 6c69 633d  .        italic=
-00001aa0: 4661 6c73 652c 0a20 2020 2020 2020 2074  False,.        t
-00001ab0: 6974 6c65 3d22 222c 0a20 2020 2020 2020  itle="",.       
-00001ac0: 2065 7461 3d54 7275 652c 0a20 2020 2020   eta=True,.     
-00001ad0: 2020 2064 656c 6179 3d30 2c0a 2020 2020     delay=0,.    
-00001ae0: 2020 2020 7769 6474 683d 3235 2c0a 2020      width=25,.  
-00001af0: 2020 2020 2020 6368 6172 3d22 5c55 3030        char="\U00
-00001b00: 3030 3235 3031 222c 0a20 2020 2020 2020  002501",.       
-00001b10: 2063 6861 725f 6261 636b 3d22 5c55 3030   char_back="\U00
-00001b20: 3030 3235 3030 222c 0a20 2020 2029 3a0a  002500",.    ):.
-00001b30: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00001b40: 2020 2020 436c 6173 7320 746f 2070 7269      Class to pri
-00001b50: 6e74 2061 2070 726f 6772 6573 7320 6261  nt a progress ba
-00001b60: 7220 7769 7468 206f 7074 696f 6e61 6c20  r with optional 
-00001b70: 7465 7874 206d 6573 7361 6765 2e0a 0a20  text message... 
-00001b80: 2020 2020 2020 2043 6865 636b 206f 7574         Check out
-00001b90: 2061 6c73 6f20 6675 6e63 7469 6f6e 2060   also function `
-00001ba0: 7072 6f67 7265 7373 6261 7228 2960 2e0a  progressbar()`..
-00001bb0: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
-00001bc0: 3a0a 2020 2020 2020 2020 2020 2020 6060  :.            ``
-00001bd0: 6070 7974 686f 6e0a 2020 2020 2020 2020  `python.        
-00001be0: 2020 2020 696d 706f 7274 2074 696d 650a      import time.
-00001bf0: 2020 2020 2020 2020 2020 2020 7062 203d              pb =
-00001c00: 2050 726f 6772 6573 7342 6172 2830 2c34   ProgressBar(0,4
-00001c10: 3030 2c20 633d 2772 6564 2729 0a20 2020  00, c='red').   
-00001c20: 2020 2020 2020 2020 2066 6f72 2069 2069           for i i
-00001c30: 6e20 7062 2e72 616e 6765 2829 3a0a 2020  n pb.range():.  
-00001c40: 2020 2020 2020 2020 2020 2020 2020 7469                ti
-00001c50: 6d65 2e73 6c65 6570 2830 2e31 290a 2020  me.sleep(0.1).  
-00001c60: 2020 2020 2020 2020 2020 2020 2020 7062                pb
-00001c70: 2e70 7269 6e74 2827 736f 6d65 206d 6573  .print('some mes
-00001c80: 7361 6765 2729 0a20 2020 2020 2020 2020  sage').         
-00001c90: 2020 2060 6060 0a20 2020 2020 2020 2020     ```.         
-00001ca0: 2020 2021 5b5d 2868 7474 7073 3a2f 2f75     ![](https://u
-00001cb0: 7365 722d 696d 6167 6573 2e67 6974 6875  ser-images.githu
-00001cc0: 6275 7365 7263 6f6e 7465 6e74 2e63 6f6d  busercontent.com
-00001cd0: 2f33 3238 3438 3339 312f 3531 3835 3838  /32848391/518588
-00001ce0: 3233 2d65 6431 6634 3838 302d 3233 3335  23-ed1f4880-2335
-00001cf0: 2d31 3165 392d 3837 3838 2d32 6431 3032  -11e9-8788-2d102
-00001d00: 6163 6532 3537 382e 706e 6729 0a20 2020  ace2578.png).   
-00001d10: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00001d20: 2073 656c 662e 6368 6172 203d 2063 6861   self.char = cha
-00001d30: 720a 2020 2020 2020 2020 7365 6c66 2e63  r.        self.c
-00001d40: 6861 725f 6261 636b 203d 2063 6861 725f  har_back = char_
-00001d50: 6261 636b 0a0a 2020 2020 2020 2020 7365  back..        se
-00001d60: 6c66 2e74 6974 6c65 203d 2074 6974 6c65  lf.title = title
-00001d70: 202b 2022 2022 0a20 2020 2020 2020 2069   + " ".        i
-00001d80: 6620 7469 746c 653a 0a20 2020 2020 2020  f title:.       
-00001d90: 2020 2020 2073 656c 662e 7469 746c 6520       self.title 
-00001da0: 3d20 2220 2220 2b20 7365 6c66 2e74 6974  = " " + self.tit
-00001db0: 6c65 0a0a 2020 2020 2020 2020 7365 6c66  le..        self
-00001dc0: 2e73 7461 7274 203d 2073 7461 7274 0a20  .start = start. 
-00001dd0: 2020 2020 2020 2073 656c 662e 7374 6f70         self.stop
-00001de0: 203d 2073 746f 700a 2020 2020 2020 2020   = stop.        
-00001df0: 7365 6c66 2e73 7465 7020 3d20 7374 6570  self.step = step
-00001e00: 0a0a 2020 2020 2020 2020 7365 6c66 2e63  ..        self.c
-00001e10: 6f6c 6f72 203d 2063 0a20 2020 2020 2020  olor = c.       
-00001e20: 2073 656c 662e 626f 6c64 203d 2062 6f6c   self.bold = bol
-00001e30: 640a 2020 2020 2020 2020 7365 6c66 2e69  d.        self.i
-00001e40: 7461 6c69 6320 3d20 6974 616c 6963 0a20  talic = italic. 
-00001e50: 2020 2020 2020 2073 656c 662e 7769 6474         self.widt
-00001e60: 6820 3d20 7769 6474 680a 2020 2020 2020  h = width.      
-00001e70: 2020 7365 6c66 2e70 6261 7220 3d20 2222    self.pbar = ""
-00001e80: 0a20 2020 2020 2020 2073 656c 662e 7065  .        self.pe
-00001e90: 7263 656e 7420 3d20 302e 300a 2020 2020  rcent = 0.0.    
-00001ea0: 2020 2020 7365 6c66 2e70 6572 6365 6e74      self.percent
-00001eb0: 5f69 6e74 203d 2030 0a20 2020 2020 2020  _int = 0.       
-00001ec0: 2073 656c 662e 6574 6120 3d20 6574 610a   self.eta = eta.
-00001ed0: 2020 2020 2020 2020 7365 6c66 2e64 656c          self.del
-00001ee0: 6179 203d 2064 656c 6179 0a0a 2020 2020  ay = delay..    
-00001ef0: 2020 2020 7365 6c66 2e74 3020 3d20 7469      self.t0 = ti
-00001f00: 6d65 2e74 696d 6528 290a 2020 2020 2020  me.time().      
-00001f10: 2020 7365 6c66 2e5f 7265 6d61 696e 696e    self._remainin
-00001f20: 6720 3d20 3165 3130 0a0a 2020 2020 2020  g = 1e10..      
-00001f30: 2020 7365 6c66 2e5f 7570 6461 7465 2830    self._update(0
-00001f40: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-00001f50: 5f63 6f75 6e74 7320 3d20 300a 2020 2020  _counts = 0.    
-00001f60: 2020 2020 7365 6c66 2e5f 6f6c 6462 6172      self._oldbar
-00001f70: 203d 2022 220a 2020 2020 2020 2020 7365   = "".        se
-00001f80: 6c66 2e5f 6c65 6e74 7874 203d 2030 0a20  lf._lentxt = 0. 
-00001f90: 2020 2020 2020 2073 656c 662e 5f72 616e         self._ran
-00001fa0: 6765 203d 206e 702e 6172 616e 6765 2873  ge = np.arange(s
-00001fb0: 7461 7274 2c20 7374 6f70 2c20 7374 6570  tart, stop, step
-00001fc0: 290a 0a20 2020 2064 6566 2070 7269 6e74  )..    def print
-00001fd0: 2873 656c 662c 2074 7874 3d22 222c 2063  (self, txt="", c
-00001fe0: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
-00001ff0: 2222 2250 7269 6e74 2074 6865 2070 726f  """Print the pro
-00002000: 6772 6573 7320 6261 7220 7769 7468 2061  gress bar with a
-00002010: 6e20 6f70 7469 6f6e 616c 206d 6573 7361  n optional messa
-00002020: 6765 2e22 2222 0a20 2020 2020 2020 2069  ge.""".        i
-00002030: 6620 6e6f 7420 633a 0a20 2020 2020 2020  f not c:.       
-00002040: 2020 2020 2063 203d 2073 656c 662e 636f       c = self.co
-00002050: 6c6f 720a 2020 2020 2020 2020 0a20 2020  lor.        .   
-00002060: 2020 2020 2073 656c 662e 5f75 7064 6174       self._updat
-00002070: 6528 7365 6c66 2e5f 636f 756e 7473 202b  e(self._counts +
-00002080: 2073 656c 662e 7374 6570 290a 0a20 2020   self.step)..   
-00002090: 2020 2020 2069 6620 7365 6c66 2e64 656c       if self.del
-000020a0: 6179 3a0a 2020 2020 2020 2020 2020 2020  ay:.            
-000020b0: 6966 2074 696d 652e 7469 6d65 2829 202d  if time.time() -
-000020c0: 2073 656c 662e 7430 203c 2073 656c 662e   self.t0 < self.
-000020d0: 6465 6c61 793a 0a20 2020 2020 2020 2020  delay:.         
-000020e0: 2020 2020 2020 2072 6574 7572 6e0a 0a20         return.. 
-000020f0: 2020 2020 2020 2069 6620 7365 6c66 2e70         if self.p
-00002100: 6261 7220 213d 2073 656c 662e 5f6f 6c64  bar != self._old
-00002110: 6261 723a 0a20 2020 2020 2020 2020 2020  bar:.           
-00002120: 2073 656c 662e 5f6f 6c64 6261 7220 3d20   self._oldbar = 
-00002130: 7365 6c66 2e70 6261 720a 0a20 2020 2020  self.pbar..     
-00002140: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
-00002150: 7461 2061 6e64 2073 656c 662e 5f63 6f75  ta and self._cou
-00002160: 6e74 7320 3e20 313a 0a0a 2020 2020 2020  nts > 1:..      
-00002170: 2020 2020 2020 2020 2020 7464 656e 6f6d            tdenom
-00002180: 203d 2074 696d 652e 7469 6d65 2829 202d   = time.time() -
-00002190: 2073 656c 662e 7430 0a20 2020 2020 2020   self.t0.       
-000021a0: 2020 2020 2020 2020 2069 6620 7464 656e           if tden
-000021b0: 6f6d 3a0a 2020 2020 2020 2020 2020 2020  om:.            
-000021c0: 2020 2020 2020 2020 7665 6c20 3d20 7365          vel = se
-000021d0: 6c66 2e5f 636f 756e 7473 202f 2074 6465  lf._counts / tde
-000021e0: 6e6f 6d0a 2020 2020 2020 2020 2020 2020  nom.            
-000021f0: 2020 2020 2020 2020 7365 6c66 2e5f 7265          self._re
-00002200: 6d61 696e 696e 6720 3d20 2873 656c 662e  maining = (self.
-00002210: 7374 6f70 202d 2073 656c 662e 5f63 6f75  stop - self._cou
-00002220: 6e74 7329 202f 2076 656c 0a20 2020 2020  nts) / vel.     
-00002230: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00002240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002250: 2020 2020 2076 656c 203d 2031 0a20 2020       vel = 1.   
-00002260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002270: 2073 656c 662e 5f72 656d 6169 6e69 6e67   self._remaining
-00002280: 203d 2030 2e30 0a0a 2020 2020 2020 2020   = 0.0..        
-00002290: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-000022a0: 5f72 656d 6169 6e69 6e67 203e 2036 303a  _remaining > 60:
-000022b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000022c0: 2020 2020 206d 696e 7320 3d20 696e 7428       mins = int(
-000022d0: 7365 6c66 2e5f 7265 6d61 696e 696e 6720  self._remaining 
-000022e0: 2f20 3630 290a 2020 2020 2020 2020 2020  / 60).          
-000022f0: 2020 2020 2020 2020 2020 7365 6373 203d            secs =
-00002300: 2073 656c 662e 5f72 656d 6169 6e69 6e67   self._remaining
-00002310: 202d 2036 3020 2a20 6d69 6e73 0a20 2020   - 60 * mins.   
-00002320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002330: 206d 696e 7320 3d20 6622 7b6d 696e 737d   mins = f"{mins}
-00002340: 6d22 0a20 2020 2020 2020 2020 2020 2020  m".             
-00002350: 2020 2020 2020 2073 6563 7320 3d20 6622         secs = f"
-00002360: 7b69 6e74 2873 6563 7320 2b20 302e 3529  {int(secs + 0.5)
-00002370: 7d73 2022 0a20 2020 2020 2020 2020 2020  }s ".           
-00002380: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00002390: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-000023a0: 696e 7320 3d20 2222 0a20 2020 2020 2020  ins = "".       
-000023b0: 2020 2020 2020 2020 2020 2020 2073 6563               sec
-000023c0: 7320 3d20 6622 7b69 6e74 2873 656c 662e  s = f"{int(self.
-000023d0: 5f72 656d 6169 6e69 6e67 202b 2030 2e35  _remaining + 0.5
-000023e0: 297d 7320 220a 0a20 2020 2020 2020 2020  )}s "..         
-000023f0: 2020 2020 2020 2076 656c 203d 2072 6f75         vel = rou
-00002400: 6e64 2876 656c 2c20 3129 0a20 2020 2020  nd(vel, 1).     
-00002410: 2020 2020 2020 2020 2020 2065 7461 203d             eta =
-00002420: 2066 2265 7461 3a20 7b6d 696e 737d 7b73   f"eta: {mins}{s
-00002430: 6563 737d 287b 7665 6c7d 2069 742f 7329  ecs}({vel} it/s)
-00002440: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00002450: 2020 2069 6620 7365 6c66 2e5f 7265 6d61     if self._rema
-00002460: 696e 696e 6720 3c20 302e 353a 0a20 2020  ining < 0.5:.   
-00002470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002480: 2064 7420 3d20 7469 6d65 2e74 696d 6528   dt = time.time(
-00002490: 2920 2d20 7365 6c66 2e74 300a 2020 2020  ) - self.t0.    
-000024a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000024b0: 6966 2064 7420 3e20 3630 3a0a 2020 2020  if dt > 60:.    
-000024c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000024d0: 2020 2020 6d69 6e73 203d 2069 6e74 2864      mins = int(d
-000024e0: 7420 2f20 3630 290a 2020 2020 2020 2020  t / 60).        
-000024f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002500: 7365 6373 203d 2064 7420 2d20 3630 202a  secs = dt - 60 *
-00002510: 206d 696e 730a 2020 2020 2020 2020 2020   mins.          
-00002520: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
-00002530: 6e73 203d 2066 227b 6d69 6e73 7d6d 220a  ns = f"{mins}m".
+00000520: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00000530: 2323 2323 230a 6172 7261 795f 7479 7065  #####.array_type
+00000540: 7320 3d20 7b7d 0a61 7272 6179 5f74 7970  s = {}.array_typ
+00000550: 6573 5b76 746b 2e56 544b 5f55 4e53 4947  es[vtk.VTK_UNSIG
+00000560: 4e45 445f 4348 4152 5d20 3d20 2822 554e  NED_CHAR] = ("UN
+00000570: 5349 474e 4544 5f43 4841 5222 2c20 2022  SIGNED_CHAR",  "
+00000580: 6e70 2e75 696e 7438 2229 0a61 7272 6179  np.uint8").array
+00000590: 5f74 7970 6573 5b76 746b 2e56 544b 5f55  _types[vtk.VTK_U
+000005a0: 4e53 4947 4e45 445f 5348 4f52 545d 3d20  NSIGNED_SHORT]= 
+000005b0: 2822 554e 5349 474e 4544 5f53 484f 5254  ("UNSIGNED_SHORT
+000005c0: 222c 2022 6e70 2e75 696e 7431 3622 290a  ", "np.uint16").
+000005d0: 6172 7261 795f 7479 7065 735b 7674 6b2e  array_types[vtk.
+000005e0: 5654 4b5f 554e 5349 474e 4544 5f49 4e54  VTK_UNSIGNED_INT
+000005f0: 5d20 203d 2028 2255 4e53 4947 4e45 445f  ]  = ("UNSIGNED_
+00000600: 494e 5422 2c20 2020 226e 702e 7569 6e74  INT",   "np.uint
+00000610: 3332 2229 0a61 7272 6179 5f74 7970 6573  32").array_types
+00000620: 5b76 746b 2e56 544b 5f55 4e53 4947 4e45  [vtk.VTK_UNSIGNE
+00000630: 445f 4c4f 4e47 5f4c 4f4e 475d 203d 2028  D_LONG_LONG] = (
+00000640: 2255 4e53 4947 4e45 445f 4c4f 4e47 5f4c  "UNSIGNED_LONG_L
+00000650: 4f4e 4722 2c20 226e 702e 7569 6e74 3634  ONG", "np.uint64
+00000660: 2229 0a61 7272 6179 5f74 7970 6573 5b76  ").array_types[v
+00000670: 746b 2e56 544b 5f43 4841 525d 2020 2020  tk.VTK_CHAR]    
+00000680: 2020 2020 2020 3d20 2822 4348 4152 222c        = ("CHAR",
+00000690: 2020 2020 2020 2020 2020 2022 6e70 2e69             "np.i
+000006a0: 6e74 3822 290a 6172 7261 795f 7479 7065  nt8").array_type
+000006b0: 735b 7674 6b2e 5654 4b5f 5348 4f52 545d  s[vtk.VTK_SHORT]
+000006c0: 2020 2020 2020 2020 203d 2028 2253 484f           = ("SHO
+000006d0: 5254 222c 2020 2020 2020 2020 2020 226e  RT",          "n
+000006e0: 702e 696e 7431 3622 290a 6172 7261 795f  p.int16").array_
+000006f0: 7479 7065 735b 7674 6b2e 5654 4b5f 494e  types[vtk.VTK_IN
+00000700: 545d 2020 2020 2020 2020 2020 203d 2028  T]           = (
+00000710: 2249 4e54 222c 2020 2020 2020 2020 2020  "INT",          
+00000720: 2020 226e 702e 696e 7433 3222 290a 6172    "np.int32").ar
+00000730: 7261 795f 7479 7065 735b 7674 6b2e 5654  ray_types[vtk.VT
+00000740: 4b5f 4c4f 4e47 5d20 2020 2020 2020 2020  K_LONG]         
+00000750: 203d 2028 224c 4f4e 4722 2c20 2020 2020   = ("LONG",     
+00000760: 2020 2020 2020 2222 2920 2320 3f3f 0a61        "") # ??.a
+00000770: 7272 6179 5f74 7970 6573 5b76 746b 2e56  rray_types[vtk.V
+00000780: 544b 5f4c 4f4e 475f 4c4f 4e47 5d20 2020  TK_LONG_LONG]   
+00000790: 2020 3d20 2822 4c4f 4e47 5f4c 4f4e 4722    = ("LONG_LONG"
+000007a0: 2c20 2020 2020 2022 6e70 2e69 6e74 3634  ,      "np.int64
+000007b0: 2229 0a61 7272 6179 5f74 7970 6573 5b76  ").array_types[v
+000007c0: 746b 2e56 544b 5f46 4c4f 4154 5d20 2020  tk.VTK_FLOAT]   
+000007d0: 2020 2020 2020 3d20 2822 464c 4f41 5422        = ("FLOAT"
+000007e0: 2c20 2020 2020 2020 2020 2022 6e70 2e66  ,          "np.f
+000007f0: 6c6f 6174 3332 2229 0a61 7272 6179 5f74  loat32").array_t
+00000800: 7970 6573 5b76 746b 2e56 544b 5f44 4f55  ypes[vtk.VTK_DOU
+00000810: 424c 455d 2020 2020 2020 2020 3d20 2822  BLE]        = ("
+00000820: 444f 5542 4c45 222c 2020 2020 2020 2020  DOUBLE",        
+00000830: 2022 6e70 2e66 6c6f 6174 3634 2229 0a61   "np.float64").a
+00000840: 7272 6179 5f74 7970 6573 5b76 746b 2e56  rray_types[vtk.V
+00000850: 544b 5f53 4947 4e45 445f 4348 4152 5d20  TK_SIGNED_CHAR] 
+00000860: 2020 3d20 2822 5349 474e 4544 5f43 4841    = ("SIGNED_CHA
+00000870: 5222 2c20 2020 2022 6e70 2e69 6e74 3822  R",    "np.int8"
+00000880: 290a 6172 7261 795f 7479 7065 735b 7674  ).array_types[vt
+00000890: 6b2e 5654 4b5f 4944 5f54 5950 455d 2020  k.VTK_ID_TYPE]  
+000008a0: 2020 2020 203d 2028 2249 4422 2c20 2020       = ("ID",   
+000008b0: 2020 2020 2020 2020 2020 226e 702e 696e            "np.in
+000008c0: 7436 3422 290a 0a0a 2323 2323 2323 2323  t64")...########
+000008d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000008e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000008f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00000900: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00000910: 2323 230a 636c 6173 7320 4f70 6572 6174  ###.class Operat
+00000920: 696f 6e4e 6f64 653a 0a20 2020 2022 2222  ionNode:.    """
+00000930: 0a20 2020 204b 6565 7020 7472 6163 6b20  .    Keep track 
+00000940: 6f66 2074 6865 206f 7065 7261 7469 6f6e  of the operation
+00000950: 7320 7768 6963 6820 6c65 6420 746f 2061  s which led to a
+00000960: 2066 696e 616c 206f 626a 6563 742e 0a20   final object.. 
+00000970: 2020 2022 2222 0a20 2020 2023 2068 7474     """.    # htt
+00000980: 7073 3a2f 2f77 7777 2e67 7261 7068 7669  ps://www.graphvi
+00000990: 7a2e 6f72 672f 646f 632f 696e 666f 2f73  z.org/doc/info/s
+000009a0: 6861 7065 732e 6874 6d6c 2368 746d 6c0a  hapes.html#html.
+000009b0: 2020 2020 2320 4d65 7368 2020 2020 2023      # Mesh     #
+000009c0: 6539 6334 3661 0a20 2020 2023 2046 6f6c  e9c46a.    # Fol
+000009d0: 6c6f 7765 7220 2364 3965 6439 320a 2020  lower #d9ed92.  
+000009e0: 2020 2320 566f 6c75 6d65 2c20 5547 7269    # Volume, UGri
+000009f0: 6420 2334 6363 3966 300a 2020 2020 2320  d #4cc9f0.    # 
+00000a00: 5465 744d 6573 6820 2023 3965 3261 3262  TetMesh  #9e2a2b
+00000a10: 0a20 2020 2023 2046 696c 6520 2020 2020  .    # File     
+00000a20: 2338 6138 3137 630a 2020 2020 2320 5069  #8a817c.    # Pi
+00000a30: 6374 7572 6520 2023 6632 3834 3832 0a20  cture  #f28482. 
+00000a40: 2020 2023 2041 7373 656d 626c 7920 2366     # Assembly #f
+00000a50: 3038 3038 300a 0a20 2020 2064 6566 205f  08080..    def _
+00000a60: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
+00000a70: 2073 656c 662c 206f 7065 7261 7469 6f6e   self, operation
+00000a80: 2c20 7061 7265 6e74 733d 2829 2c20 636f  , parents=(), co
+00000a90: 6d6d 656e 743d 2222 2c20 7368 6170 653d  mment="", shape=
+00000aa0: 226e 6f6e 6522 2c20 633d 2223 6539 6334  "none", c="#e9c4
+00000ab0: 3661 222c 2073 7479 6c65 3d22 6669 6c6c  6a", style="fill
+00000ac0: 6564 220a 2020 2020 293a 0a20 2020 2020  ed".    ):.     
+00000ad0: 2020 2022 2222 0a20 2020 2020 2020 204b     """.        K
+00000ae0: 6565 7020 7472 6163 6b20 6f66 2074 6865  eep track of the
+00000af0: 206f 7065 7261 7469 6f6e 7320 7768 6963   operations whic
+00000b00: 6820 6c65 6420 746f 2061 2066 696e 616c  h led to a final
+00000b10: 206f 626a 6563 742e 0a20 2020 2020 2020   object..       
+00000b20: 2054 6869 7320 616c 6c6f 7773 2074 6f20   This allows to 
+00000b30: 7368 6f77 2074 6865 2060 7069 7065 6c69  show the `pipeli
+00000b40: 6e65 6020 7472 6565 2066 6f72 2061 6e79  ne` tree for any
+00000b50: 2060 7665 646f 6020 6f62 6a65 6374 2077   `vedo` object w
+00000b60: 6974 6820 652e 672e 3a0a 0a20 2020 2020  ith e.g.:..     
+00000b70: 2020 2060 6060 7079 7468 6f6e 0a20 2020     ```python.   
+00000b80: 2020 2020 2066 726f 6d20 7665 646f 2069       from vedo i
+00000b90: 6d70 6f72 7420 2a0a 2020 2020 2020 2020  mport *.        
+00000ba0: 7370 203d 2053 7068 6572 6528 290a 2020  sp = Sphere().  
+00000bb0: 2020 2020 2020 7370 2e63 6c65 616e 2829        sp.clean()
+00000bc0: 2e73 7562 6469 7669 6465 2829 0a20 2020  .subdivide().   
+00000bd0: 2020 2020 2073 702e 7069 7065 6c69 6e65       sp.pipeline
+00000be0: 2e73 686f 7728 290a 2020 2020 2020 2020  .show().        
+00000bf0: 6060 600a 0a20 2020 2020 2020 2041 7267  ```..        Arg
+00000c00: 756d 656e 7473 3a0a 2020 2020 2020 2020  uments:.        
+00000c10: 2020 2020 6f70 6572 6174 696f 6e20 3a20      operation : 
+00000c20: 2873 7472 2c20 636c 6173 7329 0a20 2020  (str, class).   
+00000c30: 2020 2020 2020 2020 2020 2020 2064 6573               des
+00000c40: 6372 6970 746f 7220 6c61 6265 6c2c 2069  criptor label, i
+00000c50: 6620 6120 636c 6173 7320 6973 2070 6173  f a class is pas
+00000c60: 7365 6420 7468 656e 2067 7261 6220 6974  sed then grab it
+00000c70: 7320 6e61 6d65 0a20 2020 2020 2020 2020  s name.         
+00000c80: 2020 2070 6172 656e 7473 203a 2028 6c69     parents : (li
+00000c90: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
+00000ca0: 2020 2020 6c69 7374 206f 6620 7468 6520      list of the 
+00000cb0: 7061 7265 6e74 2063 6c61 7373 6573 2074  parent classes t
+00000cc0: 6865 206f 626a 6563 7420 636f 6d65 7320  he object comes 
+00000cd0: 6672 6f6d 0a20 2020 2020 2020 2020 2020  from.           
+00000ce0: 2063 6f6d 6d65 6e74 203a 2028 7374 7229   comment : (str)
+00000cf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000d00: 2061 2073 6563 6f6e 642d 6c69 6e65 2074   a second-line t
+00000d10: 6578 7420 6465 7363 7269 7074 696f 6e0a  ext description.
+00000d20: 2020 2020 2020 2020 2020 2020 7368 6170              shap
+00000d30: 6520 3a20 2873 7472 290a 2020 2020 2020  e : (str).      
+00000d40: 2020 2020 2020 2020 2020 7368 6170 6520            shape 
+00000d50: 6f66 2074 6865 2066 7261 6d65 2c20 6368  of the frame, ch
+00000d60: 6563 6b20 6f75 7420 5b74 6869 7320 6c69  eck out [this li
+00000d70: 6e6b 2e5d 2868 7474 7073 3a2f 2f67 7261  nk.](https://gra
+00000d80: 7068 7669 7a2e 6f72 672f 646f 632f 696e  phviz.org/doc/in
+00000d90: 666f 2f73 6861 7065 732e 6874 6d6c 290a  fo/shapes.html).
+00000da0: 2020 2020 2020 2020 2020 2020 6320 3a20              c : 
+00000db0: 2868 6578 290a 2020 2020 2020 2020 2020  (hex).          
+00000dc0: 2020 2020 2020 6865 7820 636f 6c6f 720a        hex color.
+00000dd0: 2020 2020 2020 2020 2020 2020 7374 796c              styl
+00000de0: 6520 3a20 2873 7472 290a 2020 2020 2020  e : (str).      
+00000df0: 2020 2020 2020 2020 2020 636f 6d6d 612d            comma-
+00000e00: 7365 7061 7261 7465 6420 6c69 7374 206f  separated list o
+00000e10: 6620 7374 796c 6573 0a0a 2020 2020 2020  f styles..      
+00000e20: 2020 4578 616d 706c 653a 0a20 2020 2020    Example:.     
+00000e30: 2020 2020 2020 2060 6060 7079 7468 6f6e         ```python
+00000e40: 0a20 2020 2020 2020 2020 2020 2066 726f  .            fro
+00000e50: 6d20 7665 646f 2e75 7469 6c73 2069 6d70  m vedo.utils imp
+00000e60: 6f72 7420 4f70 6572 6174 696f 6e4e 6f64  ort OperationNod
+00000e70: 650a 0a20 2020 2020 2020 2020 2020 206f  e..            o
+00000e80: 705f 6e6f 6465 3120 3d20 4f70 6572 6174  p_node1 = Operat
+00000e90: 696f 6e4e 6f64 6528 224f 7065 7261 7469  ionNode("Operati
+00000ea0: 6f6e 3122 2c20 633d 226c 6967 6874 626c  on1", c="lightbl
+00000eb0: 7565 2229 0a20 2020 2020 2020 2020 2020  ue").           
+00000ec0: 206f 705f 6e6f 6465 3220 3d20 4f70 6572   op_node2 = Oper
+00000ed0: 6174 696f 6e4e 6f64 6528 224f 7065 7261  ationNode("Opera
+00000ee0: 7469 6f6e 3222 290a 2020 2020 2020 2020  tion2").        
+00000ef0: 2020 2020 6f70 5f6e 6f64 6533 203d 204f      op_node3 = O
+00000f00: 7065 7261 7469 6f6e 4e6f 6465 2822 4f70  perationNode("Op
+00000f10: 6572 6174 696f 6e33 222c 2073 6861 7065  eration3", shape
+00000f20: 3d27 6469 616d 6f6e 6427 290a 2020 2020  ='diamond').    
+00000f30: 2020 2020 2020 2020 6f70 5f6e 6f64 6534          op_node4
+00000f40: 203d 204f 7065 7261 7469 6f6e 4e6f 6465   = OperationNode
+00000f50: 2822 4f70 6572 6174 696f 6e34 2229 0a20  ("Operation4"). 
+00000f60: 2020 2020 2020 2020 2020 206f 705f 6e6f             op_no
+00000f70: 6465 3520 3d20 4f70 6572 6174 696f 6e4e  de5 = OperationN
+00000f80: 6f64 6528 224f 7065 7261 7469 6f6e 3522  ode("Operation5"
+00000f90: 290a 2020 2020 2020 2020 2020 2020 6f70  ).            op
+00000fa0: 5f6e 6f64 6536 203d 204f 7065 7261 7469  _node6 = Operati
+00000fb0: 6f6e 4e6f 6465 2822 5265 7375 6c74 222c  onNode("Result",
+00000fc0: 2063 3d22 6c69 6768 7467 7265 656e 2229   c="lightgreen")
+00000fd0: 0a0a 2020 2020 2020 2020 2020 2020 6f70  ..            op
+00000fe0: 5f6e 6f64 6533 2e61 6464 5f70 6172 656e  _node3.add_paren
+00000ff0: 7428 6f70 5f6e 6f64 6531 290a 2020 2020  t(op_node1).    
+00001000: 2020 2020 2020 2020 6f70 5f6e 6f64 6534          op_node4
+00001010: 2e61 6464 5f70 6172 656e 7428 6f70 5f6e  .add_parent(op_n
+00001020: 6f64 6531 290a 2020 2020 2020 2020 2020  ode1).          
+00001030: 2020 6f70 5f6e 6f64 6533 2e61 6464 5f70    op_node3.add_p
+00001040: 6172 656e 7428 6f70 5f6e 6f64 6532 290a  arent(op_node2).
+00001050: 2020 2020 2020 2020 2020 2020 6f70 5f6e              op_n
+00001060: 6f64 6535 2e61 6464 5f70 6172 656e 7428  ode5.add_parent(
+00001070: 6f70 5f6e 6f64 6532 290a 2020 2020 2020  op_node2).      
+00001080: 2020 2020 2020 6f70 5f6e 6f64 6536 2e61        op_node6.a
+00001090: 6464 5f70 6172 656e 7428 6f70 5f6e 6f64  dd_parent(op_nod
+000010a0: 6533 290a 2020 2020 2020 2020 2020 2020  e3).            
+000010b0: 6f70 5f6e 6f64 6536 2e61 6464 5f70 6172  op_node6.add_par
+000010c0: 656e 7428 6f70 5f6e 6f64 6535 290a 2020  ent(op_node5).  
+000010d0: 2020 2020 2020 2020 2020 6f70 5f6e 6f64            op_nod
+000010e0: 6536 2e61 6464 5f70 6172 656e 7428 6f70  e6.add_parent(op
+000010f0: 5f6e 6f64 6531 290a 0a20 2020 2020 2020  _node1)..       
+00001100: 2020 2020 206f 705f 6e6f 6465 362e 7368       op_node6.sh
+00001110: 6f77 286f 7269 656e 7461 7469 6f6e 3d22  ow(orientation="
+00001120: 5442 2229 0a20 2020 2020 2020 2020 2020  TB").           
+00001130: 2060 6060 0a20 2020 2020 2020 2020 2020   ```.           
+00001140: 2021 5b5d 2868 7474 7073 3a2f 2f76 6564   ![](https://ved
+00001150: 6f2e 656d 626c 2e65 732f 696d 6167 6573  o.embl.es/images
+00001160: 2f66 6561 7473 2f6f 7065 7261 7469 6f6e  /feats/operation
+00001170: 5f6e 6f64 652e 706e 6729 0a20 2020 2020  _node.png).     
+00001180: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00001190: 6620 6e6f 7420 7665 646f 2e73 6574 7469  f not vedo.setti
+000011a0: 6e67 732e 656e 6162 6c65 5f70 6970 656c  ngs.enable_pipel
+000011b0: 696e 653a 0a20 2020 2020 2020 2020 2020  ine:.           
+000011c0: 2072 6574 7572 6e0a 0a20 2020 2020 2020   return..       
+000011d0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+000011e0: 7065 7261 7469 6f6e 2c20 7374 7229 3a0a  peration, str):.
+000011f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00001200: 2e6f 7065 7261 7469 6f6e 203d 206f 7065  .operation = ope
+00001210: 7261 7469 6f6e 0a20 2020 2020 2020 2065  ration.        e
+00001220: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00001230: 2073 656c 662e 6f70 6572 6174 696f 6e20   self.operation 
+00001240: 3d20 6f70 6572 6174 696f 6e2e 5f5f 636c  = operation.__cl
+00001250: 6173 735f 5f2e 5f5f 6e61 6d65 5f5f 0a20  ass__.__name__. 
+00001260: 2020 2020 2020 2073 656c 662e 6f70 6572         self.oper
+00001270: 6174 696f 6e5f 706c 6169 6e20 3d20 7374  ation_plain = st
+00001280: 7228 7365 6c66 2e6f 7065 7261 7469 6f6e  r(self.operation
+00001290: 290a 0a20 2020 2020 2020 2070 7020 3d20  )..        pp = 
+000012a0: 5b5d 2020 2320 6669 6c74 6572 206f 7574  []  # filter out
+000012b0: 2069 6e76 616c 6964 2073 7475 6666 0a20   invalid stuff. 
+000012c0: 2020 2020 2020 2066 6f72 2070 2069 6e20         for p in 
+000012d0: 7061 7265 6e74 733a 0a20 2020 2020 2020  parents:.       
+000012e0: 2020 2020 2069 6620 6861 7361 7474 7228       if hasattr(
+000012f0: 702c 2022 7069 7065 6c69 6e65 2229 3a0a  p, "pipeline"):.
+00001300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001310: 7070 2e61 7070 656e 6428 702e 7069 7065  pp.append(p.pipe
+00001320: 6c69 6e65 290a 2020 2020 2020 2020 7365  line).        se
+00001330: 6c66 2e70 6172 656e 7473 203d 2070 700a  lf.parents = pp.
+00001340: 0a20 2020 2020 2020 2069 6620 636f 6d6d  .        if comm
+00001350: 656e 743a 0a20 2020 2020 2020 2020 2020  ent:.           
+00001360: 2073 656c 662e 6f70 6572 6174 696f 6e20   self.operation 
+00001370: 3d20 6622 3c7b 7365 6c66 2e6f 7065 7261  = f"<{self.opera
+00001380: 7469 6f6e 7d3c 4252 2f3e 3c53 5542 3e3c  tion}<BR/><SUB><
+00001390: 493e 7b63 6f6d 6d65 6e74 7d3c 2f49 3e3c  I>{comment}</I><
+000013a0: 2f53 5542 3e3e 220a 0a20 2020 2020 2020  /SUB>>"..       
+000013b0: 2073 656c 662e 646f 7420 3d20 4e6f 6e65   self.dot = None
+000013c0: 0a20 2020 2020 2020 2073 656c 662e 7469  .        self.ti
+000013d0: 6d65 203d 2074 696d 652e 7469 6d65 2829  me = time.time()
+000013e0: 0a20 2020 2020 2020 2073 656c 662e 7368  .        self.sh
+000013f0: 6170 6520 3d20 7368 6170 650a 2020 2020  ape = shape.    
+00001400: 2020 2020 7365 6c66 2e73 7479 6c65 203d      self.style =
+00001410: 2073 7479 6c65 0a20 2020 2020 2020 2073   style.        s
+00001420: 656c 662e 636f 6c6f 7220 3d20 630a 2020  elf.color = c.  
+00001430: 2020 2020 2020 7365 6c66 2e63 6f75 6e74        self.count
+00001440: 7320 3d20 300a 0a20 2020 2064 6566 2061  s = 0..    def a
+00001450: 6464 5f70 6172 656e 7428 7365 6c66 2c20  dd_parent(self, 
+00001460: 7061 7265 6e74 293a 0a20 2020 2020 2020  parent):.       
+00001470: 2073 656c 662e 7061 7265 6e74 732e 6170   self.parents.ap
+00001480: 7065 6e64 2870 6172 656e 7429 0a0a 2020  pend(parent)..  
+00001490: 2020 6465 6620 5f62 7569 6c64 5f74 7265    def _build_tre
+000014a0: 6528 7365 6c66 2c20 646f 7429 3a0a 2020  e(self, dot):.  
+000014b0: 2020 2020 2020 646f 742e 6e6f 6465 280a        dot.node(.
+000014c0: 2020 2020 2020 2020 2020 2020 7374 7228              str(
+000014d0: 6964 2873 656c 6629 292c 0a20 2020 2020  id(self)),.     
+000014e0: 2020 2020 2020 206c 6162 656c 3d73 656c         label=sel
+000014f0: 662e 6f70 6572 6174 696f 6e2c 0a20 2020  f.operation,.   
+00001500: 2020 2020 2020 2020 2073 6861 7065 3d73           shape=s
+00001510: 656c 662e 7368 6170 652c 0a20 2020 2020  elf.shape,.     
+00001520: 2020 2020 2020 2063 6f6c 6f72 3d73 656c         color=sel
+00001530: 662e 636f 6c6f 722c 0a20 2020 2020 2020  f.color,.       
+00001540: 2020 2020 2073 7479 6c65 3d73 656c 662e       style=self.
+00001550: 7374 796c 652c 0a20 2020 2020 2020 2029  style,.        )
+00001560: 0a20 2020 2020 2020 2066 6f72 2070 6172  .        for par
+00001570: 656e 7420 696e 2073 656c 662e 7061 7265  ent in self.pare
+00001580: 6e74 733a 0a20 2020 2020 2020 2020 2020  nts:.           
+00001590: 2069 6620 7061 7265 6e74 3a0a 2020 2020   if parent:.    
+000015a0: 2020 2020 2020 2020 2020 2020 7420 3d20              t = 
+000015b0: 6622 7b73 656c 662e 7469 6d65 202d 2070  f"{self.time - p
+000015c0: 6172 656e 742e 7469 6d65 3a20 2e31 667d  arent.time: .1f}
+000015d0: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
+000015e0: 2020 2064 6f74 2e65 6467 6528 7374 7228     dot.edge(str(
+000015f0: 6964 2870 6172 656e 7429 292c 2073 7472  id(parent)), str
+00001600: 2869 6428 7365 6c66 2929 2c20 6c61 6265  (id(self)), labe
+00001610: 6c3d 7429 0a20 2020 2020 2020 2020 2020  l=t).           
+00001620: 2020 2020 2070 6172 656e 742e 5f62 7569       parent._bui
+00001630: 6c64 5f74 7265 6528 646f 7429 0a0a 2020  ld_tree(dot)..  
+00001640: 2020 6465 6620 5f5f 7265 7072 5f5f 2873    def __repr__(s
+00001650: 656c 6629 3a0a 2020 2020 2020 2020 7472  elf):.        tr
+00001660: 793a 0a20 2020 2020 2020 2020 2020 2066  y:.            f
+00001670: 726f 6d20 7472 6565 6c69 6220 696d 706f  rom treelib impo
+00001680: 7274 2054 7265 650a 2020 2020 2020 2020  rt Tree.        
+00001690: 6578 6365 7074 2049 6d70 6f72 7445 7272  except ImportErr
+000016a0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+000016b0: 7665 646f 2e6c 6f67 6765 722e 6572 726f  vedo.logger.erro
+000016c0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+000016d0: 2020 2022 546f 2075 7365 2074 6869 7320     "To use this 
+000016e0: 6675 6e63 7469 6f6e 616c 6974 7920 706c  functionality pl
+000016f0: 6561 7365 2069 6e73 7461 6c6c 2074 7265  ease install tre
+00001700: 656c 6962 3a22 2022 5c6e 2070 6970 2069  elib:" "\n pip i
+00001710: 6e73 7461 6c6c 2074 7265 656c 6962 220a  nstall treelib".
+00001720: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00001730: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00001740: 2022 220a 0a20 2020 2020 2020 2064 6566   ""..        def
+00001750: 205f 6275 696c 645f 7472 6565 2870 6172   _build_tree(par
+00001760: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
+00001770: 2020 666f 7220 7061 7220 696e 2070 6172    for par in par
+00001780: 656e 742e 7061 7265 6e74 733a 0a20 2020  ent.parents:.   
+00001790: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000017a0: 7061 723a 0a20 2020 2020 2020 2020 2020  par:.           
+000017b0: 2020 2020 2020 2020 206f 7020 3d20 7061           op = pa
+000017c0: 722e 6f70 6572 6174 696f 6e5f 706c 6169  r.operation_plai
+000017d0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+000017e0: 2020 2020 2020 7472 6565 2e63 7265 6174        tree.creat
+000017f0: 655f 6e6f 6465 280a 2020 2020 2020 2020  e_node(.        
+00001800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001810: 6f70 2c20 6f70 202b 2073 7472 2870 6172  op, op + str(par
+00001820: 2e74 696d 6529 2c20 7061 7265 6e74 3d70  .time), parent=p
+00001830: 6172 656e 742e 6f70 6572 6174 696f 6e5f  arent.operation_
+00001840: 706c 6169 6e20 2b20 7374 7228 7061 7265  plain + str(pare
+00001850: 6e74 2e74 696d 6529 0a20 2020 2020 2020  nt.time).       
+00001860: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+00001870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001880: 2020 205f 6275 696c 645f 7472 6565 2870     _build_tree(p
+00001890: 6172 290a 0a20 2020 2020 2020 2074 7265  ar)..        tre
+000018a0: 6520 3d20 5472 6565 2829 0a20 2020 2020  e = Tree().     
+000018b0: 2020 2074 7265 652e 6372 6561 7465 5f6e     tree.create_n
+000018c0: 6f64 6528 7365 6c66 2e6f 7065 7261 7469  ode(self.operati
+000018d0: 6f6e 5f70 6c61 696e 2c20 7365 6c66 2e6f  on_plain, self.o
+000018e0: 7065 7261 7469 6f6e 5f70 6c61 696e 202b  peration_plain +
+000018f0: 2073 7472 2873 656c 662e 7469 6d65 2929   str(self.time))
+00001900: 0a20 2020 2020 2020 205f 6275 696c 645f  .        _build_
+00001910: 7472 6565 2873 656c 6629 0a20 2020 2020  tree(self).     
+00001920: 2020 2072 6574 7572 6e20 7472 6565 2e73     return tree.s
+00001930: 686f 7728 7265 7665 7273 653d 5472 7565  how(reverse=True
+00001940: 2c20 7374 646f 7574 3d46 616c 7365 290a  , stdout=False).
+00001950: 0a20 2020 2064 6566 2073 686f 7728 7365  .    def show(se
+00001960: 6c66 2c20 6f72 6965 6e74 6174 696f 6e3d  lf, orientation=
+00001970: 224c 5222 2c20 706f 7075 703d 5472 7565  "LR", popup=True
+00001980: 293a 0a20 2020 2020 2020 2022 2222 5368  ):.        """Sh
+00001990: 6f77 2074 6865 2067 7261 7068 7669 7a20  ow the graphviz 
+000019a0: 6f75 7470 7574 2066 6f72 2074 6865 2070  output for the p
+000019b0: 6970 656c 696e 6520 6f66 2074 6869 7320  ipeline of this 
+000019c0: 6f62 6a65 6374 2222 220a 2020 2020 2020  object""".      
+000019d0: 2020 6966 206e 6f74 2076 6564 6f2e 7365    if not vedo.se
+000019e0: 7474 696e 6773 2e65 6e61 626c 655f 7069  ttings.enable_pi
+000019f0: 7065 6c69 6e65 3a0a 2020 2020 2020 2020  peline:.        
+00001a00: 2020 2020 7265 7475 726e 0a0a 2020 2020      return..    
+00001a10: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00001a20: 2020 2020 2066 726f 6d20 6772 6170 6876       from graphv
+00001a30: 697a 2069 6d70 6f72 7420 4469 6772 6170  iz import Digrap
+00001a40: 680a 2020 2020 2020 2020 6578 6365 7074  h.        except
+00001a50: 2049 6d70 6f72 7445 7272 6f72 3a0a 2020   ImportError:.  
+00001a60: 2020 2020 2020 2020 2020 7665 646f 2e6c            vedo.l
+00001a70: 6f67 6765 722e 6572 726f 7228 2270 6c65  ogger.error("ple
+00001a80: 6173 6520 696e 7374 616c 6c20 6772 6170  ase install grap
+00001a90: 6876 697a 2077 6974 6820 636f 6d6d 616e  hviz with comman
+00001aa0: 645c 6e20 7069 7020 696e 7374 616c 6c20  d\n pip install 
+00001ab0: 6772 6170 6876 697a 2229 0a20 2020 2020  graphviz").     
+00001ac0: 2020 2020 2020 2072 6574 7572 6e0a 0a20         return.. 
+00001ad0: 2020 2020 2020 2023 2076 6973 7561 6c69         # visuali
+00001ae0: 7a65 2074 6865 2065 6e74 6972 6520 7472  ze the entire tr
+00001af0: 6565 0a20 2020 2020 2020 2064 6f74 203d  ee.        dot =
+00001b00: 2044 6967 7261 7068 280a 2020 2020 2020   Digraph(.      
+00001b10: 2020 2020 2020 6e6f 6465 5f61 7474 723d        node_attr=
+00001b20: 7b22 666f 6e74 636f 6c6f 7222 3a20 2223  {"fontcolor": "#
+00001b30: 3230 3130 3130 222c 2022 666f 6e74 6e61  201010", "fontna
+00001b40: 6d65 223a 2022 4865 6c76 6574 6963 6122  me": "Helvetica"
+00001b50: 2c20 2266 6f6e 7473 697a 6522 3a20 2231  , "fontsize": "1
+00001b60: 3222 7d2c 0a20 2020 2020 2020 2020 2020  2"},.           
+00001b70: 2065 6467 655f 6174 7472 3d7b 2266 6f6e   edge_attr={"fon
+00001b80: 746e 616d 6522 3a20 2248 656c 7665 7469  tname": "Helveti
+00001b90: 6361 222c 2022 666f 6e74 7369 7a65 223a  ca", "fontsize":
+00001ba0: 2022 3622 2c20 2261 7272 6f77 7369 7a65   "6", "arrowsize
+00001bb0: 223a 2022 302e 3422 7d2c 0a20 2020 2020  ": "0.4"},.     
+00001bc0: 2020 2029 0a20 2020 2020 2020 2064 6f74     ).        dot
+00001bd0: 2e61 7474 7228 7261 6e6b 6469 723d 6f72  .attr(rankdir=or
+00001be0: 6965 6e74 6174 696f 6e29 0a0a 2020 2020  ientation)..    
+00001bf0: 2020 2020 7365 6c66 2e63 6f75 6e74 7320      self.counts 
+00001c00: 3d20 300a 2020 2020 2020 2020 7365 6c66  = 0.        self
+00001c10: 2e5f 6275 696c 645f 7472 6565 2864 6f74  ._build_tree(dot
+00001c20: 290a 2020 2020 2020 2020 7365 6c66 2e64  ).        self.d
+00001c30: 6f74 203d 2064 6f74 0a20 2020 2020 2020  ot = dot.       
+00001c40: 2064 6f74 2e72 656e 6465 7228 222e 7665   dot.render(".ve
+00001c50: 646f 5f70 6970 656c 696e 655f 6772 6170  do_pipeline_grap
+00001c60: 6876 697a 222c 2076 6965 773d 706f 7075  hviz", view=popu
+00001c70: 7029 0a0a 0a23 2323 2323 2323 2323 2323  p)...###########
+00001c80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00001c90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00001ca0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00001cb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00001cc0: 0a63 6c61 7373 2050 726f 6772 6573 7342  .class ProgressB
+00001cd0: 6172 3a0a 2020 2020 2222 220a 2020 2020  ar:.    """.    
+00001ce0: 436c 6173 7320 746f 2070 7269 6e74 2061  Class to print a
+00001cf0: 2070 726f 6772 6573 7320 6261 722e 0a20   progress bar.. 
+00001d00: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+00001d10: 5f5f 696e 6974 5f5f 280a 2020 2020 2020  __init__(.      
+00001d20: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00001d30: 7374 6172 742c 0a20 2020 2020 2020 2073  start,.        s
+00001d40: 746f 702c 0a20 2020 2020 2020 2073 7465  top,.        ste
+00001d50: 703d 312c 0a20 2020 2020 2020 2063 3d4e  p=1,.        c=N
+00001d60: 6f6e 652c 0a20 2020 2020 2020 2062 6f6c  one,.        bol
+00001d70: 643d 5472 7565 2c0a 2020 2020 2020 2020  d=True,.        
+00001d80: 6974 616c 6963 3d46 616c 7365 2c0a 2020  italic=False,.  
+00001d90: 2020 2020 2020 7469 746c 653d 2222 2c0a        title="",.
+00001da0: 2020 2020 2020 2020 6574 613d 5472 7565          eta=True
+00001db0: 2c0a 2020 2020 2020 2020 6465 6c61 793d  ,.        delay=
+00001dc0: 302e 302c 0a20 2020 2020 2020 2077 6964  0.0,.        wid
+00001dd0: 7468 3d32 352c 0a20 2020 2020 2020 2063  th=25,.        c
+00001de0: 6861 723d 225c 5530 3030 3032 3530 3122  har="\U00002501"
+00001df0: 2c0a 2020 2020 2020 2020 6368 6172 5f62  ,.        char_b
+00001e00: 6163 6b3d 225c 5530 3030 3032 3530 3022  ack="\U00002500"
+00001e10: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
+00001e20: 2022 2222 0a20 2020 2020 2020 2043 6c61   """.        Cla
+00001e30: 7373 2074 6f20 7072 696e 7420 6120 7072  ss to print a pr
+00001e40: 6f67 7265 7373 2062 6172 2077 6974 6820  ogress bar with 
+00001e50: 6f70 7469 6f6e 616c 2074 6578 7420 6d65  optional text me
+00001e60: 7373 6167 652e 0a0a 2020 2020 2020 2020  ssage...        
+00001e70: 4368 6563 6b20 6f75 7420 616c 736f 2066  Check out also f
+00001e80: 756e 6374 696f 6e20 6070 726f 6772 6573  unction `progres
+00001e90: 7362 6172 2829 602e 0a0a 2020 2020 2020  sbar()`...      
+00001ea0: 2020 4578 616d 706c 653a 0a20 2020 2020    Example:.     
+00001eb0: 2020 2020 2020 2060 6060 7079 7468 6f6e         ```python
+00001ec0: 0a20 2020 2020 2020 2020 2020 2069 6d70  .            imp
+00001ed0: 6f72 7420 7469 6d65 0a20 2020 2020 2020  ort time.       
+00001ee0: 2020 2020 2070 6220 3d20 5072 6f67 7265       pb = Progre
+00001ef0: 7373 4261 7228 302c 3430 302c 2063 3d27  ssBar(0,400, c='
+00001f00: 7265 6427 290a 2020 2020 2020 2020 2020  red').          
+00001f10: 2020 666f 7220 6920 696e 2070 622e 7261    for i in pb.ra
+00001f20: 6e67 6528 293a 0a20 2020 2020 2020 2020  nge():.         
+00001f30: 2020 2020 2020 2074 696d 652e 736c 6565         time.slee
+00001f40: 7028 302e 3129 0a20 2020 2020 2020 2020  p(0.1).         
+00001f50: 2020 2020 2020 2070 622e 7072 696e 7428         pb.print(
+00001f60: 2773 6f6d 6520 6d65 7373 6167 6527 290a  'some message').
+00001f70: 2020 2020 2020 2020 2020 2020 6060 600a              ```.
+00001f80: 2020 2020 2020 2020 2020 2020 215b 5d28              ![](
+00001f90: 6874 7470 733a 2f2f 7573 6572 2d69 6d61  https://user-ima
+00001fa0: 6765 732e 6769 7468 7562 7573 6572 636f  ges.githubuserco
+00001fb0: 6e74 656e 742e 636f 6d2f 3332 3834 3833  ntent.com/328483
+00001fc0: 3931 2f35 3138 3538 3832 332d 6564 3166  91/51858823-ed1f
+00001fd0: 3438 3830 2d32 3333 352d 3131 6539 2d38  4880-2335-11e9-8
+00001fe0: 3738 382d 3264 3130 3261 6365 3235 3738  788-2d102ace2578
+00001ff0: 2e70 6e67 290a 2020 2020 2020 2020 2222  .png).        ""
+00002000: 220a 2020 2020 2020 2020 7365 6c66 2e63  ".        self.c
+00002010: 6861 7220 3d20 6368 6172 0a20 2020 2020  har = char.     
+00002020: 2020 2073 656c 662e 6368 6172 5f62 6163     self.char_bac
+00002030: 6b20 3d20 6368 6172 5f62 6163 6b0a 0a20  k = char_back.. 
+00002040: 2020 2020 2020 2073 656c 662e 7469 746c         self.titl
+00002050: 6520 3d20 7469 746c 6520 2b20 2220 220a  e = title + " ".
+00002060: 2020 2020 2020 2020 6966 2074 6974 6c65          if title
+00002070: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00002080: 6c66 2e74 6974 6c65 203d 2022 2022 202b  lf.title = " " +
+00002090: 2073 656c 662e 7469 746c 650a 0a20 2020   self.title..   
+000020a0: 2020 2020 2073 656c 662e 7374 6172 7420       self.start 
+000020b0: 3d20 7374 6172 740a 2020 2020 2020 2020  = start.        
+000020c0: 7365 6c66 2e73 746f 7020 3d20 7374 6f70  self.stop = stop
+000020d0: 0a20 2020 2020 2020 2073 656c 662e 7374  .        self.st
+000020e0: 6570 203d 2073 7465 700a 0a20 2020 2020  ep = step..     
+000020f0: 2020 2073 656c 662e 636f 6c6f 7220 3d20     self.color = 
+00002100: 630a 2020 2020 2020 2020 7365 6c66 2e62  c.        self.b
+00002110: 6f6c 6420 3d20 626f 6c64 0a20 2020 2020  old = bold.     
+00002120: 2020 2073 656c 662e 6974 616c 6963 203d     self.italic =
+00002130: 2069 7461 6c69 630a 2020 2020 2020 2020   italic.        
+00002140: 7365 6c66 2e77 6964 7468 203d 2077 6964  self.width = wid
+00002150: 7468 0a20 2020 2020 2020 2073 656c 662e  th.        self.
+00002160: 7062 6172 203d 2022 220a 2020 2020 2020  pbar = "".      
+00002170: 2020 7365 6c66 2e70 6572 6365 6e74 203d    self.percent =
+00002180: 2030 2e30 0a20 2020 2020 2020 2073 656c   0.0.        sel
+00002190: 662e 7065 7263 656e 745f 696e 7420 3d20  f.percent_int = 
+000021a0: 300a 2020 2020 2020 2020 7365 6c66 2e65  0.        self.e
+000021b0: 7461 203d 2065 7461 0a20 2020 2020 2020  ta = eta.       
+000021c0: 2073 656c 662e 6465 6c61 7920 3d20 6465   self.delay = de
+000021d0: 6c61 790a 0a20 2020 2020 2020 2073 656c  lay..        sel
+000021e0: 662e 7430 203d 2074 696d 652e 7469 6d65  f.t0 = time.time
+000021f0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00002200: 5f72 656d 6169 6e69 6e67 203d 2031 6531  _remaining = 1e1
+00002210: 300a 0a20 2020 2020 2020 2073 656c 662e  0..        self.
+00002220: 5f75 7064 6174 6528 3029 0a0a 2020 2020  _update(0)..    
+00002230: 2020 2020 7365 6c66 2e5f 636f 756e 7473      self._counts
+00002240: 203d 2030 0a20 2020 2020 2020 2073 656c   = 0.        sel
+00002250: 662e 5f6f 6c64 6261 7220 3d20 2222 0a20  f._oldbar = "". 
+00002260: 2020 2020 2020 2073 656c 662e 5f6c 656e         self._len
+00002270: 7478 7420 3d20 300a 2020 2020 2020 2020  txt = 0.        
+00002280: 7365 6c66 2e5f 7261 6e67 6520 3d20 6e70  self._range = np
+00002290: 2e61 7261 6e67 6528 7374 6172 742c 2073  .arange(start, s
+000022a0: 746f 702c 2073 7465 7029 0a0a 2020 2020  top, step)..    
+000022b0: 6465 6620 7072 696e 7428 7365 6c66 2c20  def print(self, 
+000022c0: 7478 743d 2222 2c20 633d 4e6f 6e65 293a  txt="", c=None):
+000022d0: 0a20 2020 2020 2020 2022 2222 5072 696e  .        """Prin
+000022e0: 7420 7468 6520 7072 6f67 7265 7373 2062  t the progress b
+000022f0: 6172 2077 6974 6820 616e 206f 7074 696f  ar with an optio
+00002300: 6e61 6c20 6d65 7373 6167 652e 2222 220a  nal message.""".
+00002310: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+00002320: 3a0a 2020 2020 2020 2020 2020 2020 6320  :.            c 
+00002330: 3d20 7365 6c66 2e63 6f6c 6f72 0a0a 2020  = self.color..  
+00002340: 2020 2020 2020 7365 6c66 2e5f 7570 6461        self._upda
+00002350: 7465 2873 656c 662e 5f63 6f75 6e74 7320  te(self._counts 
+00002360: 2b20 7365 6c66 2e73 7465 7029 0a0a 2020  + self.step)..  
+00002370: 2020 2020 2020 6966 2073 656c 662e 6465        if self.de
+00002380: 6c61 793a 0a20 2020 2020 2020 2020 2020  lay:.           
+00002390: 2069 6620 7469 6d65 2e74 696d 6528 2920   if time.time() 
+000023a0: 2d20 7365 6c66 2e74 3020 3c20 7365 6c66  - self.t0 < self
+000023b0: 2e64 656c 6179 3a0a 2020 2020 2020 2020  .delay:.        
+000023c0: 2020 2020 2020 2020 7265 7475 726e 0a0a          return..
+000023d0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+000023e0: 7062 6172 2021 3d20 7365 6c66 2e5f 6f6c  pbar != self._ol
+000023f0: 6462 6172 3a0a 2020 2020 2020 2020 2020  dbar:.          
+00002400: 2020 7365 6c66 2e5f 6f6c 6462 6172 203d    self._oldbar =
+00002410: 2073 656c 662e 7062 6172 0a0a 2020 2020   self.pbar..    
+00002420: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00002430: 6574 6120 616e 6420 7365 6c66 2e5f 636f  eta and self._co
+00002440: 756e 7473 203e 2031 3a0a 0a20 2020 2020  unts > 1:..     
+00002450: 2020 2020 2020 2020 2020 2074 6465 6e6f             tdeno
+00002460: 6d20 3d20 7469 6d65 2e74 696d 6528 2920  m = time.time() 
+00002470: 2d20 7365 6c66 2e74 300a 2020 2020 2020  - self.t0.      
+00002480: 2020 2020 2020 2020 2020 6966 2074 6465            if tde
+00002490: 6e6f 6d3a 0a20 2020 2020 2020 2020 2020  nom:.           
+000024a0: 2020 2020 2020 2020 2076 656c 203d 2073           vel = s
+000024b0: 656c 662e 5f63 6f75 6e74 7320 2f20 7464  elf._counts / td
+000024c0: 656e 6f6d 0a20 2020 2020 2020 2020 2020  enom.           
+000024d0: 2020 2020 2020 2020 2073 656c 662e 5f72           self._r
+000024e0: 656d 6169 6e69 6e67 203d 2028 7365 6c66  emaining = (self
+000024f0: 2e73 746f 7020 2d20 7365 6c66 2e5f 636f  .stop - self._co
+00002500: 756e 7473 2920 2f20 7665 6c0a 2020 2020  unts) / vel.    
+00002510: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00002520: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00002530: 2020 2020 2020 7665 6c20 3d20 310a 2020        vel = 1.  
 00002540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002550: 2020 2020 2020 2020 7365 6373 203d 2066          secs = f
-00002560: 227b 696e 7428 7365 6373 202b 2030 2e35  "{int(secs + 0.5
-00002570: 297d 7320 220a 2020 2020 2020 2020 2020  )}s ".          
-00002580: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00002590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000025a0: 2020 2020 2020 2020 6d69 6e73 203d 2022          mins = "
-000025b0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-000025c0: 2020 2020 2020 2020 2020 7365 6373 203d            secs =
-000025d0: 2066 227b 696e 7428 6474 202b 2030 2e35   f"{int(dt + 0.5
-000025e0: 297d 7320 220a 2020 2020 2020 2020 2020  )}s ".          
-000025f0: 2020 2020 2020 2020 2020 6574 6120 3d20            eta = 
-00002600: 6622 656c 6170 7365 643a 207b 6d69 6e73  f"elapsed: {mins
-00002610: 7d7b 7365 6373 7d28 7b76 656c 7d20 6974  }{secs}({vel} it
-00002620: 2f73 2920 2020 2020 2020 2022 0a20 2020  /s)        ".   
-00002630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002640: 2074 7874 203d 2022 220a 2020 2020 2020   txt = "".      
-00002650: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00002660: 2020 2020 2020 2020 2020 2020 6574 6120              eta 
-00002670: 3d20 2222 0a0a 2020 2020 2020 2020 2020  = ""..          
-00002680: 2020 6572 6173 6572 203d 2022 2022 202a    eraser = " " *
-00002690: 2073 656c 662e 5f6c 656e 7478 7420 2b20   self._lentxt + 
-000026a0: 225c 6222 202a 2073 656c 662e 5f6c 656e  "\b" * self._len
-000026b0: 7478 740a 0a20 2020 2020 2020 2020 2020  txt..           
-000026c0: 2073 203d 2066 227b 7365 6c66 2e70 6261   s = f"{self.pba
-000026d0: 727d 207b 6572 6173 6572 7d7b 6574 617d  r} {eraser}{eta}
-000026e0: 7b74 7874 7d5c 7222 0a20 2020 2020 2020  {txt}\r".       
-000026f0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-00002700: 2873 2c20 633d 632c 2062 6f6c 643d 7365  (s, c=c, bold=se
-00002710: 6c66 2e62 6f6c 642c 2069 7461 6c69 633d  lf.bold, italic=
-00002720: 7365 6c66 2e69 7461 6c69 632c 2065 6e64  self.italic, end
-00002730: 3d22 2229 0a20 2020 2020 2020 2020 2020  ="").           
-00002740: 2069 6620 7365 6c66 2e70 6572 6365 6e74   if self.percent
-00002750: 203e 2039 392e 3939 393a 0a20 2020 2020   > 99.999:.     
-00002760: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00002770: 2822 2229 0a0a 2020 2020 2020 2020 2020  ("")..          
-00002780: 2020 7365 6c66 2e5f 6c65 6e74 7874 203d    self._lentxt =
-00002790: 206c 656e 2874 7874 290a 0a20 2020 2064   len(txt)..    d
-000027a0: 6566 2072 616e 6765 2873 656c 6629 3a0a  ef range(self):.
-000027b0: 2020 2020 2020 2020 2222 2252 6574 7572          """Retur
-000027c0: 6e20 7468 6520 7261 6e67 6520 6974 6572  n the range iter
-000027d0: 6174 6f72 2e22 2222 0a20 2020 2020 2020  ator.""".       
-000027e0: 2072 6574 7572 6e20 7365 6c66 2e5f 7261   return self._ra
-000027f0: 6e67 650a 0a20 2020 2064 6566 205f 7570  nge..    def _up
-00002800: 6461 7465 2873 656c 662c 2063 6f75 6e74  date(self, count
-00002810: 7329 3a0a 2020 2020 2020 2020 6966 2063  s):.        if c
-00002820: 6f75 6e74 7320 3c20 7365 6c66 2e73 7461  ounts < self.sta
-00002830: 7274 3a0a 2020 2020 2020 2020 2020 2020  rt:.            
-00002840: 636f 756e 7473 203d 2073 656c 662e 7374  counts = self.st
-00002850: 6172 740a 2020 2020 2020 2020 656c 6966  art.        elif
-00002860: 2063 6f75 6e74 7320 3e20 7365 6c66 2e73   counts > self.s
-00002870: 746f 703a 0a20 2020 2020 2020 2020 2020  top:.           
-00002880: 2063 6f75 6e74 7320 3d20 7365 6c66 2e73   counts = self.s
-00002890: 746f 700a 2020 2020 2020 2020 7365 6c66  top.        self
-000028a0: 2e5f 636f 756e 7473 203d 2063 6f75 6e74  ._counts = count
-000028b0: 730a 0a20 2020 2020 2020 2073 656c 662e  s..        self.
-000028c0: 7065 7263 656e 7420 3d20 2873 656c 662e  percent = (self.
-000028d0: 5f63 6f75 6e74 7320 2d20 7365 6c66 2e73  _counts - self.s
-000028e0: 7461 7274 2920 2a20 3130 302e 300a 0a20  tart) * 100.0.. 
-000028f0: 2020 2020 2020 2064 656c 7461 203d 2073         delta = s
-00002900: 656c 662e 7374 6f70 202d 2073 656c 662e  elf.stop - self.
-00002910: 7374 6172 740a 2020 2020 2020 2020 6966  start.        if
-00002920: 2064 656c 7461 3a0a 2020 2020 2020 2020   delta:.        
-00002930: 2020 2020 7365 6c66 2e70 6572 6365 6e74      self.percent
-00002940: 202f 3d20 6465 6c74 610a 2020 2020 2020   /= delta.      
-00002950: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00002960: 2020 2020 7365 6c66 2e70 6572 6365 6e74      self.percent
-00002970: 203d 2030 2e30 0a0a 2020 2020 2020 2020   = 0.0..        
-00002980: 7365 6c66 2e70 6572 6365 6e74 5f69 6e74  self.percent_int
-00002990: 203d 2069 6e74 2872 6f75 6e64 2873 656c   = int(round(sel
-000029a0: 662e 7065 7263 656e 7429 290a 2020 2020  f.percent)).    
-000029b0: 2020 2020 6166 203d 2073 656c 662e 7769      af = self.wi
-000029c0: 6474 6820 2d20 320a 2020 2020 2020 2020  dth - 2.        
-000029d0: 6e68 203d 2069 6e74 2872 6f75 6e64 2873  nh = int(round(s
-000029e0: 656c 662e 7065 7263 656e 745f 696e 7420  elf.percent_int 
-000029f0: 2f20 3130 3020 2a20 6166 2929 0a20 2020  / 100 * af)).   
-00002a00: 2020 2020 2070 6261 725f 6261 636b 6772       pbar_backgr
-00002a10: 6f75 6e64 203d 2022 5c78 3162 5b32 6d22  ound = "\x1b[2m"
-00002a20: 202b 2073 656c 662e 6368 6172 5f62 6163   + self.char_bac
-00002a30: 6b20 2a20 2861 6620 2d20 6e68 290a 2020  k * (af - nh).  
-00002a40: 2020 2020 2020 7365 6c66 2e70 6261 7220        self.pbar 
-00002a50: 3d20 6622 7b73 656c 662e 7469 746c 657d  = f"{self.title}
-00002a60: 7b73 656c 662e 6368 6172 202a 2028 6e68  {self.char * (nh
-00002a70: 2d31 297d 7b70 6261 725f 6261 636b 6772  -1)}{pbar_backgr
-00002a80: 6f75 6e64 7d22 0a20 2020 2020 2020 2069  ound}".        i
-00002a90: 6620 7365 6c66 2e70 6572 6365 6e74 203c  f self.percent <
-00002aa0: 2031 3030 2e30 3a0a 2020 2020 2020 2020   100.0:.        
-00002ab0: 2020 2020 7073 203d 2066 2220 7b73 656c      ps = f" {sel
-00002ac0: 662e 7065 7263 656e 745f 696e 747d 2522  f.percent_int}%"
-00002ad0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00002ae0: 2020 2020 2020 2020 2020 2070 7320 3d20             ps = 
-00002af0: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-00002b00: 7062 6172 202b 3d20 7073 0a0a 2323 2323  pbar += ps..####
-00002b10: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002b20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002b30: 230a 6465 6620 7072 6f67 7265 7373 6261  #.def progressba
-00002b40: 7228 0a20 2020 2020 2020 2069 7465 7261  r(.        itera
-00002b50: 626c 652c 0a20 2020 2020 2020 2063 3d4e  ble,.        c=N
-00002b60: 6f6e 652c 0a20 2020 2020 2020 2062 6f6c  one,.        bol
-00002b70: 643d 5472 7565 2c0a 2020 2020 2020 2020  d=True,.        
-00002b80: 6974 616c 6963 3d46 616c 7365 2c0a 2020  italic=False,.  
-00002b90: 2020 2020 2020 7469 746c 653d 2222 2c0a        title="",.
-00002ba0: 2020 2020 2020 2020 6574 613d 5472 7565          eta=True
-00002bb0: 2c0a 2020 2020 2020 2020 7769 6474 683d  ,.        width=
-00002bc0: 3235 2c0a 2020 2020 2020 2020 6465 6c61  25,.        dela
-00002bd0: 793d 302c 0a20 2020 2029 3a0a 2020 2020  y=0,.    ):.    
-00002be0: 2222 220a 2020 2020 4675 6e63 7469 6f6e  """.    Function
-00002bf0: 2074 6f20 7072 696e 7420 6120 7072 6f67   to print a prog
-00002c00: 7265 7373 2062 6172 2077 6974 6820 6f70  ress bar with op
-00002c10: 7469 6f6e 616c 2074 6578 7420 6d65 7373  tional text mess
-00002c20: 6167 652e 0a0a 2020 2020 4578 616d 706c  age...    Exampl
-00002c30: 653a 0a20 2020 2020 2020 2060 6060 7079  e:.        ```py
-00002c40: 7468 6f6e 0a20 2020 2020 2020 2069 6d70  thon.        imp
-00002c50: 6f72 7420 7469 6d65 0a20 2020 2020 2020  ort time.       
-00002c60: 2066 6f72 2069 2069 6e20 7072 6f67 7265   for i in progre
-00002c70: 7373 6261 7228 7261 6e67 6528 3130 3029  ssbar(range(100)
-00002c80: 2c20 633d 2772 6564 2729 3a0a 2020 2020  , c='red'):.    
-00002c90: 2020 2020 2020 2020 7469 6d65 2e73 6c65          time.sle
-00002ca0: 6570 2830 2e31 290a 2020 2020 2020 2020  ep(0.1).        
-00002cb0: 6060 600a 2020 2020 2020 2020 215b 5d28  ```.        ![](
-00002cc0: 6874 7470 733a 2f2f 7573 6572 2d69 6d61  https://user-ima
-00002cd0: 6765 732e 6769 7468 7562 7573 6572 636f  ges.githubuserco
-00002ce0: 6e74 656e 742e 636f 6d2f 3332 3834 3833  ntent.com/328483
-00002cf0: 3931 2f35 3138 3538 3832 332d 6564 3166  91/51858823-ed1f
-00002d00: 3438 3830 2d32 3333 352d 3131 6539 2d38  4880-2335-11e9-8
-00002d10: 3738 382d 3264 3130 3261 6365 3235 3738  788-2d102ace2578
-00002d20: 2e70 6e67 290a 2020 2020 2222 220a 2020  .png).    """.  
-00002d30: 2020 7472 793a 0a20 2020 2020 2020 2069    try:.        i
-00002d40: 6620 6973 5f6e 756d 6265 7228 6974 6572  f is_number(iter
-00002d50: 6162 6c65 293a 0a20 2020 2020 2020 2020  able):.         
-00002d60: 2020 2074 6f74 616c 203d 2069 6e74 2869     total = int(i
-00002d70: 7465 7261 626c 6529 0a20 2020 2020 2020  terable).       
-00002d80: 2020 2020 2069 7465 7261 626c 6520 3d20       iterable = 
-00002d90: 7261 6e67 6528 746f 7461 6c29 0a20 2020  range(total).   
-00002da0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00002db0: 2020 2020 2020 2074 6f74 616c 203d 206c         total = l
-00002dc0: 656e 2869 7465 7261 626c 6529 0a20 2020  en(iterable).   
-00002dd0: 2065 7863 6570 7420 5479 7065 4572 726f   except TypeErro
-00002de0: 723a 200a 2020 2020 2020 2020 6974 6572  r: .        iter
-00002df0: 6162 6c65 203d 206c 6973 7428 6974 6572  able = list(iter
-00002e00: 6162 6c65 290a 2020 2020 2020 2020 746f  able).        to
-00002e10: 7461 6c20 3d20 6c65 6e28 6974 6572 6162  tal = len(iterab
-00002e20: 6c65 290a 0a20 2020 2070 6220 3d20 5072  le)..    pb = Pr
-00002e30: 6f67 7265 7373 4261 7228 0a20 2020 2020  ogressBar(.     
-00002e40: 2020 2030 2c20 746f 7461 6c2c 200a 2020     0, total, .  
-00002e50: 2020 2020 2020 633d 632c 2062 6f6c 643d        c=c, bold=
-00002e60: 626f 6c64 2c20 6974 616c 6963 3d69 7461  bold, italic=ita
-00002e70: 6c69 632c 2074 6974 6c65 3d74 6974 6c65  lic, title=title
-00002e80: 2c20 6574 613d 6574 612c 2064 656c 6179  , eta=eta, delay
-00002e90: 3d64 656c 6179 2c20 7769 6474 683d 7769  =delay, width=wi
-00002ea0: 6474 682c 0a20 2020 2029 0a20 2020 2066  dth,.    ).    f
-00002eb0: 6f72 2069 7465 6d20 696e 2069 7465 7261  or item in itera
-00002ec0: 626c 653a 0a20 2020 2020 2020 2070 622e  ble:.        pb.
-00002ed0: 7072 696e 7428 290a 2020 2020 2020 2020  print().        
-00002ee0: 7969 656c 6420 6974 656d 0a0a 2323 2323  yield item..####
-00002ef0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002f00: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002f10: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002f20: 2323 2323 2323 230a 6465 6620 6e75 6d70  #######.def nump
-00002f30: 7932 7674 6b28 6172 722c 2064 7479 7065  y2vtk(arr, dtype
-00002f40: 3d4e 6f6e 652c 2064 6565 703d 5472 7565  =None, deep=True
-00002f50: 2c20 6e61 6d65 3d22 2229 3a0a 2020 2020  , name=""):.    
-00002f60: 2222 220a 2020 2020 436f 6e76 6572 7420  """.    Convert 
-00002f70: 6120 6e75 6d70 7920 6172 7261 7920 696e  a numpy array in
-00002f80: 746f 2061 2060 7674 6b44 6174 6141 7272  to a `vtkDataArr
-00002f90: 6179 602e 0a20 2020 2055 7365 2060 6474  ay`..    Use `dt
-00002fa0: 7970 653d 2769 6427 6020 666f 7220 6076  ype='id'` for `v
-00002fb0: 746b 4964 5479 7065 4172 7261 7960 206f  tkIdTypeArray` o
-00002fc0: 626a 6563 7473 2e0a 2020 2020 2222 220a  bjects..    """.
-00002fd0: 2020 2020 2320 6874 7470 733a 2f2f 6769      # https://gi
-00002fe0: 7468 7562 2e63 6f6d 2f4b 6974 7761 7265  thub.com/Kitware
-00002ff0: 2f56 544b 2f62 6c6f 622f 6d61 7374 6572  /VTK/blob/master
-00003000: 2f57 7261 7070 696e 672f 5079 7468 6f6e  /Wrapping/Python
-00003010: 2f76 746b 6d6f 6475 6c65 732f 7574 696c  /vtkmodules/util
-00003020: 2f6e 756d 7079 5f73 7570 706f 7274 2e70  /numpy_support.p
-00003030: 790a 2020 2020 6966 2061 7272 2069 7320  y.    if arr is 
-00003040: 4e6f 6e65 3a0a 2020 2020 2020 2020 7265  None:.        re
-00003050: 7475 726e 204e 6f6e 650a 0a20 2020 2061  turn None..    a
-00003060: 7272 203d 206e 702e 6173 636f 6e74 6967  rr = np.ascontig
-00003070: 756f 7573 6172 7261 7928 6172 7229 0a0a  uousarray(arr)..
-00003080: 2020 2020 6966 2064 7479 7065 203d 3d20      if dtype == 
-00003090: 2269 6422 3a0a 2020 2020 2020 2020 7661  "id":.        va
-000030a0: 7272 203d 206e 756d 7079 5f74 6f5f 7674  rr = numpy_to_vt
-000030b0: 6b49 6454 7970 6541 7272 6179 2861 7272  kIdTypeArray(arr
-000030c0: 2e61 7374 7970 6528 6e70 2e69 6e74 3634  .astype(np.int64
-000030d0: 292c 2064 6565 703d 6465 6570 290a 2020  ), deep=deep).  
-000030e0: 2020 656c 6966 2064 7479 7065 3a0a 2020    elif dtype:.  
-000030f0: 2020 2020 2020 7661 7272 203d 206e 756d        varr = num
-00003100: 7079 5f74 6f5f 7674 6b28 6172 722e 6173  py_to_vtk(arr.as
-00003110: 7479 7065 2864 7479 7065 292c 2064 6565  type(dtype), dee
-00003120: 703d 6465 6570 290a 2020 2020 656c 7365  p=deep).    else
-00003130: 3a0a 2020 2020 2020 2020 2320 6c65 7420  :.        # let 
-00003140: 6e75 6d70 795f 746f 5f76 746b 2829 2064  numpy_to_vtk() d
-00003150: 6563 6964 6520 7768 6174 2069 7320 6265  ecide what is be
-00003160: 7374 2074 7970 6520 6261 7365 6420 6f6e  st type based on
-00003170: 2061 7272 2074 7970 650a 2020 2020 2020   arr type.      
-00003180: 2020 7661 7272 203d 206e 756d 7079 5f74    varr = numpy_t
-00003190: 6f5f 7674 6b28 6172 722c 2064 6565 703d  o_vtk(arr, deep=
-000031a0: 6465 6570 290a 0a20 2020 2069 6620 6e61  deep)..    if na
-000031b0: 6d65 3a0a 2020 2020 2020 2020 7661 7272  me:.        varr
-000031c0: 2e53 6574 4e61 6d65 286e 616d 6529 0a20  .SetName(name). 
-000031d0: 2020 2072 6574 7572 6e20 7661 7272 0a0a     return varr..
-000031e0: 0a64 6566 2076 746b 326e 756d 7079 2876  .def vtk2numpy(v
-000031f0: 6172 7229 3a0a 2020 2020 2222 2243 6f6e  arr):.    """Con
-00003200: 7665 7274 2061 2060 7674 6b44 6174 6141  vert a `vtkDataA
-00003210: 7272 6179 602c 2060 7674 6b49 644c 6973  rray`, `vtkIdLis
-00003220: 7460 206f 7220 6076 7454 7261 6e73 666f  t` or `vtTransfo
-00003230: 726d 6020 696e 746f 2061 206e 756d 7079  rm` into a numpy
-00003240: 2061 7272 6179 2e22 2222 0a20 2020 2069   array.""".    i
-00003250: 6620 6973 696e 7374 616e 6365 2876 6172  f isinstance(var
-00003260: 722c 2076 746b 2e76 746b 4964 4c69 7374  r, vtk.vtkIdList
-00003270: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
-00003280: 6e20 6e70 2e61 7272 6179 285b 7661 7272  n np.array([varr
-00003290: 2e47 6574 4964 2869 2920 666f 7220 6920  .GetId(i) for i 
-000032a0: 696e 2072 616e 6765 2876 6172 722e 4765  in range(varr.Ge
-000032b0: 744e 756d 6265 724f 6649 6473 2829 295d  tNumberOfIds())]
-000032c0: 290a 2020 2020 656c 6966 2069 7369 6e73  ).    elif isins
-000032d0: 7461 6e63 6528 7661 7272 2c20 7674 6b2e  tance(varr, vtk.
-000032e0: 7674 6b42 6974 4172 7261 7929 3a0a 2020  vtkBitArray):.  
-000032f0: 2020 2020 2020 6361 7272 203d 2076 746b        carr = vtk
-00003300: 2e76 746b 4368 6172 4172 7261 7928 290a  .vtkCharArray().
-00003310: 2020 2020 2020 2020 6361 7272 2e44 6565          carr.Dee
-00003320: 7043 6f70 7928 7661 7272 290a 2020 2020  pCopy(varr).    
-00003330: 2020 2020 7661 7272 203d 2063 6172 720a      varr = carr.
-00003340: 2020 2020 656c 6966 2069 7369 6e73 7461      elif isinsta
-00003350: 6e63 6528 7661 7272 2c20 7674 6b2e 7674  nce(varr, vtk.vt
-00003360: 6b48 6f6d 6f67 656e 656f 7573 5472 616e  kHomogeneousTran
-00003370: 7366 6f72 6d29 3a0a 2020 2020 2020 2020  sform):.        
-00003380: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00003390: 2076 6172 7220 3d20 7661 7272 2e47 6574   varr = varr.Get
-000033a0: 4d61 7472 6978 2829 0a20 2020 2020 2020  Matrix().       
-000033b0: 2065 7863 6570 7420 4174 7472 6962 7574   except Attribut
-000033c0: 6545 7272 6f72 3a0a 2020 2020 2020 2020  eError:.        
-000033d0: 2020 2020 7061 7373 0a20 2020 2020 2020      pass.       
-000033e0: 206e 203d 2034 0a20 2020 2020 2020 204d   n = 4.        M
-000033f0: 203d 205b 5b76 6172 722e 4765 7445 6c65   = [[varr.GetEle
-00003400: 6d65 6e74 2869 2c20 6a29 2066 6f72 206a  ment(i, j) for j
-00003410: 2069 6e20 7261 6e67 6528 6e29 5d20 666f   in range(n)] fo
-00003420: 7220 6920 696e 2072 616e 6765 286e 295d  r i in range(n)]
-00003430: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00003440: 6e70 2e61 7272 6179 284d 290a 0a20 2020  np.array(M)..   
-00003450: 2072 6574 7572 6e20 7674 6b5f 746f 5f6e   return vtk_to_n
-00003460: 756d 7079 2876 6172 7229 0a0a 0a64 6566  umpy(varr)...def
-00003470: 206d 616b 6533 6428 7074 732c 2074 7261   make3d(pts, tra
-00003480: 6e73 706f 7365 3d46 616c 7365 293a 0a20  nspose=False):. 
-00003490: 2020 2022 2222 0a20 2020 204d 616b 6520     """.    Make 
-000034a0: 616e 2061 7272 6179 2077 6869 6368 206d  an array which m
-000034b0: 6967 6874 2062 6520 3244 2074 6f20 3344  ight be 2D to 3D
-000034c0: 2e0a 0a20 2020 2041 7272 6179 2063 616e  ...    Array can
-000034d0: 2061 6c73 6f20 6265 2069 6e20 7468 6520   also be in the 
-000034e0: 666f 726d 2060 5b61 6c6c 782c 2061 6c6c  form `[allx, all
-000034f0: 792c 2061 6c6c 7a5d 602e 0a20 2020 2055  y, allz]`..    U
-00003500: 7365 2060 7472 616e 7370 6f73 6560 2074  se `transpose` t
-00003510: 6f20 7265 736f 6c76 6520 616d 6269 676f  o resolve ambigo
-00003520: 7573 2063 6173 6573 2028 6567 2c20 7368  us cases (eg, sh
-00003530: 6170 6573 206c 696b 6520 605b 332c 335d  apes like `[3,3]
-00003540: 6029 2e0a 2020 2020 2222 220a 2020 2020  `)..    """.    
-00003550: 7074 7320 3d20 6e70 2e61 7361 7272 6179  pts = np.asarray
-00003560: 2870 7473 290a 0a20 2020 2069 6620 7074  (pts)..    if pt
-00003570: 732e 6474 7970 6520 3d3d 2022 6f62 6a65  s.dtype == "obje
-00003580: 6374 223a 0a20 2020 2020 2020 2072 6169  ct":.        rai
-00003590: 7365 2056 616c 7565 4572 726f 7228 2243  se ValueError("C
-000035a0: 616e 6e6f 7420 666f 726d 2061 2076 616c  annot form a val
-000035b0: 6964 206e 756d 7079 2061 7272 6179 2c20  id numpy array, 
-000035c0: 696e 7075 7420 6d61 7920 6265 206e 6f6e  input may be non
-000035d0: 2d68 6f6d 6f67 656e 6f75 7322 290a 0a20  -homogenous").. 
-000035e0: 2020 2069 6620 7074 732e 7368 6170 655b     if pts.shape[
-000035f0: 305d 203d 3d20 303a 2020 2320 656d 7074  0] == 0:  # empt
-00003600: 7920 6c69 7374 0a20 2020 2020 2020 2072  y list.        r
-00003610: 6574 7572 6e20 7074 730a 0a20 2020 2069  eturn pts..    i
-00003620: 6620 7074 732e 6e64 696d 203d 3d20 313a  f pts.ndim == 1:
-00003630: 0a20 2020 2020 2020 2069 6620 7074 732e  .        if pts.
-00003640: 7368 6170 655b 305d 203d 3d20 323a 0a20  shape[0] == 2:. 
-00003650: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00003660: 6e20 6e70 2e68 7374 6163 6b28 5b70 7473  n np.hstack([pts
-00003670: 2c20 5b30 5d5d 292e 6173 7479 7065 2870  , [0]]).astype(p
-00003680: 7473 2e64 7479 7065 290a 2020 2020 2020  ts.dtype).      
-00003690: 2020 656c 6966 2070 7473 2e73 6861 7065    elif pts.shape
-000036a0: 5b30 5d20 3d3d 2033 3a0a 2020 2020 2020  [0] == 3:.      
-000036b0: 2020 2020 2020 7265 7475 726e 2070 7473        return pts
-000036c0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-000036d0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000036e0: 2056 616c 7565 4572 726f 720a 0a20 2020   ValueError..   
-000036f0: 2069 6620 7074 732e 7368 6170 655b 315d   if pts.shape[1]
-00003700: 203d 3d20 333a 0a20 2020 2020 2020 2072   == 3:.        r
-00003710: 6574 7572 6e20 7074 730a 0a20 2020 2069  eturn pts..    i
-00003720: 6620 7472 616e 7370 6f73 6520 6f72 2028  f transpose or (
-00003730: 3220 3c3d 2070 7473 2e73 6861 7065 5b30  2 <= pts.shape[0
-00003740: 5d20 3c3d 2033 2061 6e64 2070 7473 2e73  ] <= 3 and pts.s
-00003750: 6861 7065 5b31 5d20 3e20 3329 3a0a 2020  hape[1] > 3):.  
-00003760: 2020 2020 2020 7074 7320 3d20 7074 732e        pts = pts.
-00003770: 540a 0a20 2020 2069 6620 7074 732e 7368  T..    if pts.sh
-00003780: 6170 655b 315d 203d 3d20 323a 0a20 2020  ape[1] == 2:.   
-00003790: 2020 2020 2072 6574 7572 6e20 6e70 2e63       return np.c
-000037a0: 5f5b 7074 732c 206e 702e 7a65 726f 7328  _[pts, np.zeros(
-000037b0: 7074 732e 7368 6170 655b 305d 2c20 6474  pts.shape[0], dt
-000037c0: 7970 653d 7074 732e 6474 7970 6529 5d0a  ype=pts.dtype)].
-000037d0: 0a20 2020 2069 6620 7074 732e 7368 6170  .    if pts.shap
-000037e0: 655b 315d 2021 3d20 333a 0a20 2020 2020  e[1] != 3:.     
-000037f0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-00003800: 726f 7228 2269 6e70 7574 2073 6861 7065  ror("input shape
-00003810: 2069 7320 6e6f 7420 7375 7070 6f72 7465   is not supporte
-00003820: 642e 2229 0a20 2020 2072 6574 7572 6e20  d.").    return 
-00003830: 7074 730a 0a0a 6465 6620 6765 6f6d 6574  pts...def geomet
-00003840: 7279 286f 626a 2c20 6578 7465 6e74 3d4e  ry(obj, extent=N
-00003850: 6f6e 6529 3a0a 2020 2020 2222 220a 2020  one):.    """.  
-00003860: 2020 4170 706c 7920 7468 6520 6076 746b    Apply the `vtk
-00003870: 4765 6f6d 6574 7279 4669 6c74 6572 6020  GeometryFilter` 
-00003880: 746f 2074 6865 2069 6e70 7574 206f 626a  to the input obj
-00003890: 6563 742e 0a20 2020 2054 6869 7320 6973  ect..    This is
-000038a0: 2061 2067 656e 6572 616c 2d70 7572 706f   a general-purpo
-000038b0: 7365 2066 696c 7465 7220 746f 2065 7874  se filter to ext
-000038c0: 7261 6374 2067 656f 6d65 7472 7920 2861  ract geometry (a
-000038d0: 6e64 2061 7373 6f63 6961 7465 6420 6461  nd associated da
-000038e0: 7461 290a 2020 2020 6672 6f6d 2061 6e79  ta).    from any
-000038f0: 2074 7970 6520 6f66 2064 6174 6173 6574   type of dataset
-00003900: 2e0a 2020 2020 5468 6973 2066 696c 7465  ..    This filte
-00003910: 7220 616c 736f 206d 6179 2062 6520 7573  r also may be us
-00003920: 6564 2074 6f20 636f 6e76 6572 7420 616e  ed to convert an
-00003930: 7920 7479 7065 206f 6620 6461 7461 2074  y type of data t
-00003940: 6f20 706f 6c79 676f 6e61 6c20 7479 7065  o polygonal type
-00003950: 2e0a 2020 2020 5468 6520 636f 6e76 6572  ..    The conver
-00003960: 7369 6f6e 2070 726f 6365 7373 206d 6179  sion process may
-00003970: 2062 6520 6c65 7373 2074 6861 6e20 7361   be less than sa
-00003980: 7469 7366 6163 746f 7279 2066 6f72 2073  tisfactory for s
-00003990: 6f6d 6520 3344 2064 6174 6173 6574 732e  ome 3D datasets.
-000039a0: 0a20 2020 2046 6f72 2065 7861 6d70 6c65  .    For example
-000039b0: 2c20 7468 6973 2066 696c 7465 7220 7769  , this filter wi
-000039c0: 6c6c 2065 7874 7261 6374 2074 6865 206f  ll extract the o
-000039d0: 7574 6572 2073 7572 6661 6365 206f 6620  uter surface of 
-000039e0: 6120 766f 6c75 6d65 0a20 2020 206f 7220  a volume.    or 
-000039f0: 7374 7275 6374 7572 6564 2067 7269 6420  structured grid 
-00003a00: 6461 7461 7365 742e 0a0a 2020 2020 5265  dataset...    Re
-00003a10: 7475 726e 7320 6120 6076 6564 6f2e 4d65  turns a `vedo.Me
-00003a20: 7368 6020 6f62 6a65 6374 2e0a 0a20 2020  sh` object...   
-00003a30: 2053 6574 2060 6578 7465 6e74 6020 6173   Set `extent` as
-00003a40: 2074 6865 2060 5b78 6d69 6e2c 786d 6178   the `[xmin,xmax
-00003a50: 2c20 796d 696e 2c79 6d61 782c 207a 6d69  , ymin,ymax, zmi
-00003a60: 6e2c 7a6d 6178 5d60 2062 6f75 6e64 696e  n,zmax]` boundin
-00003a70: 6720 626f 7820 746f 2063 6c69 7020 6461  g box to clip da
-00003a80: 7461 2e0a 2020 2020 2222 220a 2020 2020  ta..    """.    
-00003a90: 6766 203d 2076 746b 2e76 746b 4765 6f6d  gf = vtk.vtkGeom
-00003aa0: 6574 7279 4669 6c74 6572 2829 0a20 2020  etryFilter().   
-00003ab0: 2067 662e 5365 7449 6e70 7574 4461 7461   gf.SetInputData
-00003ac0: 286f 626a 290a 2020 2020 6966 2065 7874  (obj).    if ext
-00003ad0: 656e 7420 6973 206e 6f74 204e 6f6e 653a  ent is not None:
-00003ae0: 0a20 2020 2020 2020 2067 662e 5365 7445  .        gf.SetE
-00003af0: 7874 656e 7428 6578 7465 6e74 290a 2020  xtent(extent).  
-00003b00: 2020 6766 2e55 7064 6174 6528 290a 2020    gf.Update().  
-00003b10: 2020 7265 7475 726e 2076 6564 6f2e 4d65    return vedo.Me
-00003b20: 7368 2867 662e 4765 744f 7574 7075 7428  sh(gf.GetOutput(
-00003b30: 2929 0a0a 0a64 6566 2065 7874 7261 6374  ))...def extract
-00003b40: 5f63 656c 6c73 5f62 795f 7479 7065 286f  _cells_by_type(o
-00003b50: 626a 2c20 7479 7065 733d 2829 293a 0a20  bj, types=()):. 
-00003b60: 2020 2022 2222 0a20 2020 2045 7874 7261     """.    Extra
-00003b70: 6374 2063 656c 6c73 206f 6620 6120 7370  ct cells of a sp
-00003b80: 6563 6966 6965 6420 7479 7065 2066 726f  ecified type fro
-00003b90: 6d20 6120 7674 6b20 6461 7461 7365 742e  m a vtk dataset.
-00003ba0: 0a0a 2020 2020 4769 7665 6e20 616e 2069  ..    Given an i
-00003bb0: 6e70 7574 2060 7674 6b44 6174 6153 6574  nput `vtkDataSet
-00003bc0: 6020 616e 6420 6120 6c69 7374 206f 6620  ` and a list of 
-00003bd0: 6365 6c6c 2074 7970 6573 2c20 7072 6f64  cell types, prod
-00003be0: 7563 6520 616e 206f 7574 7075 740a 2020  uce an output.  
-00003bf0: 2020 636f 6e74 6169 6e69 6e67 206f 6e6c    containing onl
-00003c00: 7920 6365 6c6c 7320 6f66 2074 6865 2073  y cells of the s
-00003c10: 7065 6369 6669 6564 2074 7970 6528 7329  pecified type(s)
-00003c20: 2e0a 2020 2020 0a20 2020 2046 696e 6420  ..    .    Find 
-00003c30: 5b68 6572 655d 2868 7474 7073 3a2f 2f76  [here](https://v
-00003c40: 746b 2e6f 7267 2f64 6f63 2f6e 6967 6874  tk.org/doc/night
-00003c50: 6c79 2f68 746d 6c2f 7674 6b43 656c 6c54  ly/html/vtkCellT
-00003c60: 7970 655f 3868 5f73 6f75 7263 652e 6874  ype_8h_source.ht
-00003c70: 6d6c 290a 2020 2020 7468 6520 6c69 7374  ml).    the list
-00003c80: 206f 6620 706f 7373 6962 6c65 2063 656c   of possible cel
-00003c90: 6c20 7479 7065 732e 0a0a 2020 2020 5265  l types...    Re
-00003ca0: 7475 726e 3a0a 2020 2020 2020 2020 6120  turn:.        a 
-00003cb0: 6076 746b 4461 7461 5365 7460 206f 626a  `vtkDataSet` obj
-00003cc0: 6563 7420 7768 6963 6820 6361 6e20 6265  ect which can be
-00003cd0: 2077 7261 7070 6564 2e0a 2020 2020 2222   wrapped..    ""
-00003ce0: 220a 2020 2020 6566 203d 2076 746b 2e76  ".    ef = vtk.v
-00003cf0: 746b 4578 7472 6163 7443 656c 6c73 4279  tkExtractCellsBy
-00003d00: 5479 7065 2829 0a20 2020 2074 7279 3a0a  Type().    try:.
-00003d10: 2020 2020 2020 2020 6566 2e53 6574 496e          ef.SetIn
-00003d20: 7075 7444 6174 6128 6f62 6a2e 5f64 6174  putData(obj._dat
-00003d30: 6129 0a20 2020 2065 7863 6570 743a 0a20  a).    except:. 
-00003d40: 2020 2020 2020 2065 662e 5365 7449 6e70         ef.SetInp
-00003d50: 7574 4461 7461 286f 626a 290a 0a20 2020  utData(obj)..   
-00003d60: 2066 6f72 2063 7420 696e 2074 7970 6573   for ct in types
-00003d70: 3a0a 2020 2020 2020 2020 6566 2e41 6464  :.        ef.Add
-00003d80: 4365 6c6c 5479 7065 2863 7429 0a20 2020  CellType(ct).   
-00003d90: 2065 662e 5570 6461 7465 2829 0a20 2020   ef.Update().   
-00003da0: 2072 6574 7572 6e20 6566 2e47 6574 4f75   return ef.GetOu
-00003db0: 7470 7574 2829 0a0a 0a64 6566 2062 7569  tput()...def bui
-00003dc0: 6c64 506f 6c79 4461 7461 2876 6572 7469  ldPolyData(verti
-00003dd0: 6365 732c 2066 6163 6573 3d4e 6f6e 652c  ces, faces=None,
-00003de0: 206c 696e 6573 3d4e 6f6e 652c 2069 6e64   lines=None, ind
-00003df0: 6578 5f6f 6666 7365 743d 302c 2074 6574  ex_offset=0, tet
-00003e00: 7261 733d 4661 6c73 6529 3a0a 2020 2020  ras=False):.    
-00003e10: 2222 220a 2020 2020 4275 696c 6420 6120  """.    Build a 
-00003e20: 6076 746b 506f 6c79 4461 7461 6020 6f62  `vtkPolyData` ob
-00003e30: 6a65 6374 2066 726f 6d20 6120 6c69 7374  ject from a list
-00003e40: 206f 6620 7665 7274 6963 6573 0a20 2020   of vertices.   
-00003e50: 2077 6865 7265 2066 6163 6573 2072 6570   where faces rep
-00003e60: 7265 7365 6e74 7320 7468 6520 636f 6e6e  resents the conn
-00003e70: 6563 7469 7669 7479 206f 6620 7468 6520  ectivity of the 
-00003e80: 706f 6c79 676f 6e61 6c20 6d65 7368 2e0a  polygonal mesh..
-00003e90: 0a20 2020 2045 2e67 2e20 3a0a 2020 2020  .    E.g. :.    
-00003ea0: 2020 2020 2d20 6076 6572 7469 6365 733d      - `vertices=
-00003eb0: 5b5b 7831 2c79 312c 7a31 5d2c 5b78 322c  [[x1,y1,z1],[x2,
-00003ec0: 7932 2c7a 325d 2c20 2e2e 2e5d 600a 2020  y2,z2], ...]`.  
-00003ed0: 2020 2020 2020 2d20 6066 6163 6573 3d5b        - `faces=[
-00003ee0: 5b30 2c31 2c32 5d2c 205b 312c 322c 335d  [0,1,2], [1,2,3]
-00003ef0: 2c20 2e2e 2e5d 600a 2020 2020 2020 2020  , ...]`.        
-00003f00: 2d20 606c 696e 6573 3d5b 5b30 2c31 5d2c  - `lines=[[0,1],
-00003f10: 205b 312c 322c 332c 345d 2c20 2e2e 2e5d   [1,2,3,4], ...]
-00003f20: 600a 0a20 2020 2055 7365 2060 696e 6465  `..    Use `inde
-00003f30: 785f 6f66 6673 6574 3d31 6020 6966 2066  x_offset=1` if f
-00003f40: 6163 6520 6e75 6d62 6572 696e 6720 7374  ace numbering st
-00003f50: 6172 7473 2066 726f 6d20 3120 696e 7374  arts from 1 inst
-00003f60: 6561 6420 6f66 2030 2e0a 0a20 2020 2049  ead of 0...    I
-00003f70: 6620 6074 6574 7261 733d 5472 7565 602c  f `tetras=True`,
-00003f80: 2069 6e74 6572 7072 6574 2034 2d70 6f69   interpret 4-poi
-00003f90: 6e74 2066 6163 6573 2061 7320 7465 7472  nt faces as tetr
-00003fa0: 6168 6564 726f 6e73 2069 6e73 7465 6164  ahedrons instead
-00003fb0: 206f 6620 7375 7266 6163 6520 7175 6164   of surface quad
-00003fc0: 732e 0a20 2020 2022 2222 0a20 2020 2070  s..    """.    p
-00003fd0: 6f6c 7920 3d20 7674 6b2e 7674 6b50 6f6c  oly = vtk.vtkPol
-00003fe0: 7944 6174 6128 290a 0a20 2020 2069 6620  yData()..    if 
-00003ff0: 6c65 6e28 7665 7274 6963 6573 2920 3d3d  len(vertices) ==
-00004000: 2030 3a0a 2020 2020 2020 2020 7265 7475   0:.        retu
-00004010: 726e 2070 6f6c 790a 0a20 2020 2069 6620  rn poly..    if 
-00004020: 6e6f 7420 6973 5f73 6571 7565 6e63 6528  not is_sequence(
-00004030: 7665 7274 6963 6573 5b30 5d29 3a0a 2020  vertices[0]):.  
-00004040: 2020 2020 2020 7265 7475 726e 2070 6f6c        return pol
-00004050: 790a 0a20 2020 2076 6572 7469 6365 7320  y..    vertices 
-00004060: 3d20 6d61 6b65 3364 2876 6572 7469 6365  = make3d(vertice
-00004070: 7329 0a0a 2020 2020 736f 7572 6365 5f70  s)..    source_p
-00004080: 6f69 6e74 7320 3d20 7674 6b2e 7674 6b50  oints = vtk.vtkP
-00004090: 6f69 6e74 7328 290a 2020 2020 736f 7572  oints().    sour
-000040a0: 6365 5f70 6f69 6e74 732e 5365 7444 6174  ce_points.SetDat
-000040b0: 6128 6e75 6d70 7932 7674 6b28 7665 7274  a(numpy2vtk(vert
-000040c0: 6963 6573 2c20 6474 7970 653d 6e70 2e66  ices, dtype=np.f
-000040d0: 6c6f 6174 3332 2929 0a20 2020 2070 6f6c  loat32)).    pol
-000040e0: 792e 5365 7450 6f69 6e74 7328 736f 7572  y.SetPoints(sour
-000040f0: 6365 5f70 6f69 6e74 7329 0a0a 2020 2020  ce_points)..    
-00004100: 6966 206c 696e 6573 2069 7320 6e6f 7420  if lines is not 
-00004110: 4e6f 6e65 3a0a 2020 2020 2020 2020 2320  None:.        # 
-00004120: 4372 6561 7465 2061 2063 656c 6c20 6172  Create a cell ar
-00004130: 7261 7920 746f 2073 746f 7265 2074 6865  ray to store the
-00004140: 206c 696e 6573 2069 6e20 616e 6420 6164   lines in and ad
-00004150: 6420 7468 6520 6c69 6e65 7320 746f 2069  d the lines to i
-00004160: 740a 2020 2020 2020 2020 6c69 6e65 7361  t.        linesa
-00004170: 7272 203d 2076 746b 2e76 746b 4365 6c6c  rr = vtk.vtkCell
-00004180: 4172 7261 7928 290a 2020 2020 2020 2020  Array().        
-00004190: 6966 2069 735f 7365 7175 656e 6365 286c  if is_sequence(l
-000041a0: 696e 6573 5b30 5d29 3a20 2023 2061 7373  ines[0]):  # ass
-000041b0: 756d 6520 666f 726d 6174 205b 2869 6430  ume format [(id0
-000041c0: 2c69 6431 292c 2e2e 5d0a 2020 2020 2020  ,id1),..].      
-000041d0: 2020 2020 2020 666f 7220 696c 696e 6520        for iline 
-000041e0: 696e 206c 696e 6573 3a0a 2020 2020 2020  in lines:.      
-000041f0: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-00004200: 696e 2072 616e 6765 2830 2c20 6c65 6e28  in range(0, len(
-00004210: 696c 696e 6529 202d 2031 293a 0a20 2020  iline) - 1):.   
-00004220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004230: 2069 312c 2069 3220 3d20 696c 696e 655b   i1, i2 = iline[
-00004240: 695d 2c20 696c 696e 655b 6920 2b20 315d  i], iline[i + 1]
-00004250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004260: 2020 2020 2069 6620 6931 2021 3d20 6932       if i1 != i2
-00004270: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00004280: 2020 2020 2020 2020 2020 766c 696e 6520            vline 
-00004290: 3d20 7674 6b2e 7674 6b4c 696e 6528 290a  = vtk.vtkLine().
-000042a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042b0: 2020 2020 2020 2020 766c 696e 652e 4765          vline.Ge
-000042c0: 7450 6f69 6e74 4964 7328 292e 5365 7449  tPointIds().SetI
-000042d0: 6428 302c 2069 3129 0a20 2020 2020 2020  d(0, i1).       
-000042e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042f0: 2076 6c69 6e65 2e47 6574 506f 696e 7449   vline.GetPointI
-00004300: 6473 2829 2e53 6574 4964 2831 2c20 6932  ds().SetId(1, i2
-00004310: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00004320: 2020 2020 2020 2020 2020 6c69 6e65 7361            linesa
-00004330: 7272 2e49 6e73 6572 744e 6578 7443 656c  rr.InsertNextCel
-00004340: 6c28 766c 696e 6529 0a20 2020 2020 2020  l(vline).       
-00004350: 2065 6c73 653a 2020 2320 6173 7375 6d65   else:  # assume
-00004360: 2066 6f72 6d61 7420 5b69 6430 2c69 6431   format [id0,id1
-00004370: 2c2e 2e2e 5d0a 2020 2020 2020 2020 2020  ,...].          
-00004380: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-00004390: 2830 2c20 6c65 6e28 6c69 6e65 7329 202d  (0, len(lines) -
-000043a0: 2031 293a 0a20 2020 2020 2020 2020 2020   1):.           
-000043b0: 2020 2020 2076 6c69 6e65 203d 2076 746b       vline = vtk
-000043c0: 2e76 746b 4c69 6e65 2829 0a20 2020 2020  .vtkLine().     
-000043d0: 2020 2020 2020 2020 2020 2076 6c69 6e65             vline
-000043e0: 2e47 6574 506f 696e 7449 6473 2829 2e53  .GetPointIds().S
-000043f0: 6574 4964 2830 2c20 6c69 6e65 735b 695d  etId(0, lines[i]
-00004400: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00004410: 2020 766c 696e 652e 4765 7450 6f69 6e74    vline.GetPoint
-00004420: 4964 7328 292e 5365 7449 6428 312c 206c  Ids().SetId(1, l
-00004430: 696e 6573 5b69 202b 2031 5d29 0a20 2020  ines[i + 1]).   
-00004440: 2020 2020 2020 2020 2020 2020 206c 696e               lin
-00004450: 6573 6172 722e 496e 7365 7274 4e65 7874  esarr.InsertNext
-00004460: 4365 6c6c 2876 6c69 6e65 290a 2020 2020  Cell(vline).    
-00004470: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
-00004480: 2757 726f 6e67 2066 6f72 6d61 7420 666f  'Wrong format fo
-00004490: 7220 6c69 6e65 7320 696e 2075 7469 6c73  r lines in utils
-000044a0: 2e62 7569 6c64 506f 6c79 6461 7461 2829  .buildPolydata()
-000044b0: 2c20 736b 6970 2e27 290a 2020 2020 2020  , skip.').      
-000044c0: 2020 706f 6c79 2e53 6574 4c69 6e65 7328    poly.SetLines(
-000044d0: 6c69 6e65 7361 7272 290a 0a20 2020 2069  linesarr)..    i
-000044e0: 6620 6661 6365 7320 6973 204e 6f6e 653a  f faces is None:
-000044f0: 0a20 2020 2020 2020 2073 6f75 7263 655f  .        source_
-00004500: 7665 7274 6963 6573 203d 2076 746b 2e76  vertices = vtk.v
-00004510: 746b 4365 6c6c 4172 7261 7928 290a 2020  tkCellArray().  
-00004520: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
-00004530: 616e 6765 286c 656e 2876 6572 7469 6365  ange(len(vertice
-00004540: 7329 293a 0a20 2020 2020 2020 2020 2020  s)):.           
-00004550: 2073 6f75 7263 655f 7665 7274 6963 6573   source_vertices
-00004560: 2e49 6e73 6572 744e 6578 7443 656c 6c28  .InsertNextCell(
-00004570: 3129 0a20 2020 2020 2020 2020 2020 2073  1).            s
-00004580: 6f75 7263 655f 7665 7274 6963 6573 2e49  ource_vertices.I
-00004590: 6e73 6572 7443 656c 6c50 6f69 6e74 2869  nsertCellPoint(i
-000045a0: 290a 2020 2020 2020 2020 706f 6c79 2e53  ).        poly.S
-000045b0: 6574 5665 7274 7328 736f 7572 6365 5f76  etVerts(source_v
-000045c0: 6572 7469 6365 7329 0a20 2020 2020 2020  ertices).       
-000045d0: 2072 6574 7572 6e20 706f 6c79 2020 2323   return poly  ##
-000045e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000045f0: 230a 0a20 2020 2023 2066 6163 6573 2065  #..    # faces e
-00004600: 7869 7374 0a20 2020 2073 6f75 7263 655f  xist.    source_
-00004610: 706f 6c79 676f 6e73 203d 2076 746b 2e76  polygons = vtk.v
-00004620: 746b 4365 6c6c 4172 7261 7928 290a 0a20  tkCellArray().. 
-00004630: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00004640: 2866 6163 6573 2c20 6e70 2e6e 6461 7272  (faces, np.ndarr
-00004650: 6179 2920 6f72 206e 6f74 2069 735f 7261  ay) or not is_ra
-00004660: 6767 6564 2866 6163 6573 293a 0a20 2020  gged(faces):.   
-00004670: 2020 2020 2023 2323 2323 2061 6c6c 2066       ##### all f
-00004680: 6163 6573 2061 7265 2063 6f6d 706f 7365  aces are compose
-00004690: 6420 6f66 2065 7175 616c 206e 7220 6f66  d of equal nr of
-000046a0: 2076 7478 732c 2046 4153 540a 2020 2020   vtxs, FAST.    
-000046b0: 2020 2020 6661 6365 7320 3d20 6e70 2e61      faces = np.a
-000046c0: 7361 7272 6179 2866 6163 6573 290a 2020  sarray(faces).  
-000046d0: 2020 2020 2020 6173 7420 3d20 6e70 2e69        ast = np.i
-000046e0: 6e74 3332 0a20 2020 2020 2020 2069 6620  nt32.        if 
-000046f0: 7674 6b2e 7674 6b49 6454 7970 6541 7272  vtk.vtkIdTypeArr
-00004700: 6179 2829 2e47 6574 4461 7461 5479 7065  ay().GetDataType
-00004710: 5369 7a65 2829 2021 3d20 343a 0a20 2020  Size() != 4:.   
-00004720: 2020 2020 2020 2020 2061 7374 203d 206e           ast = n
-00004730: 702e 696e 7436 340a 0a20 2020 2020 2020  p.int64..       
-00004740: 2069 6620 6661 6365 732e 6e64 696d 203e   if faces.ndim >
-00004750: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-00004760: 6e66 2c20 6e63 203d 2066 6163 6573 2e73  nf, nc = faces.s
-00004770: 6861 7065 0a20 2020 2020 2020 2020 2020  hape.           
-00004780: 2068 7320 3d20 6e70 2e68 7374 6163 6b28   hs = np.hstack(
-00004790: 286e 702e 7a65 726f 7328 6e66 295b 3a2c  (np.zeros(nf)[:,
-000047a0: 204e 6f6e 655d 202b 206e 632c 2066 6163   None] + nc, fac
-000047b0: 6573 2929 2e61 7374 7970 6528 6173 7429  es)).astype(ast)
-000047c0: 2e72 6176 656c 2829 0a20 2020 2020 2020  .ravel().       
-000047d0: 2020 2020 2061 7272 203d 206e 756d 7079       arr = numpy
-000047e0: 5f74 6f5f 7674 6b49 6454 7970 6541 7272  _to_vtkIdTypeArr
-000047f0: 6179 2868 732c 2064 6565 703d 5472 7565  ay(hs, deep=True
-00004800: 290a 2020 2020 2020 2020 2020 2020 736f  ).            so
-00004810: 7572 6365 5f70 6f6c 7967 6f6e 732e 5365  urce_polygons.Se
-00004820: 7443 656c 6c73 286e 662c 2061 7272 290a  tCells(nf, arr).
-00004830: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-00004840: 2020 2023 2323 2323 2323 2323 2323 2323     #############
-00004850: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00004860: 206d 616e 7561 6c6c 7920 6164 6420 6661   manually add fa
-00004870: 6365 732c 2053 4c4f 570a 0a20 2020 2020  ces, SLOW..     
-00004880: 2020 2073 686f 7762 6172 203d 2046 616c     showbar = Fal
-00004890: 7365 0a20 2020 2020 2020 2069 6620 6c65  se.        if le
-000048a0: 6e28 6661 6365 7329 203e 2032 3530 3030  n(faces) > 25000
-000048b0: 3a0a 2020 2020 2020 2020 2020 2020 7368  :.            sh
-000048c0: 6f77 6261 7220 3d20 5472 7565 0a20 2020  owbar = True.   
-000048d0: 2020 2020 2020 2020 2070 6220 3d20 5072           pb = Pr
-000048e0: 6f67 7265 7373 4261 7228 302c 206c 656e  ogressBar(0, len
-000048f0: 2866 6163 6573 292c 2065 7461 3d46 616c  (faces), eta=Fal
-00004900: 7365 290a 0a20 2020 2020 2020 2066 6f72  se)..        for
-00004910: 2066 2069 6e20 6661 6365 733a 0a20 2020   f in faces:.   
-00004920: 2020 2020 2020 2020 206e 203d 206c 656e           n = len
-00004930: 2866 290a 0a20 2020 2020 2020 2020 2020  (f)..           
-00004940: 2069 6620 6e20 3d3d 2033 3a0a 2020 2020   if n == 3:.    
-00004950: 2020 2020 2020 2020 2020 2020 656c 6520              ele 
-00004960: 3d20 7674 6b2e 7674 6b54 7269 616e 676c  = vtk.vtkTriangl
-00004970: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-00004980: 2020 2020 7069 6473 203d 2065 6c65 2e47      pids = ele.G
-00004990: 6574 506f 696e 7449 6473 2829 0a20 2020  etPointIds().   
-000049a0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-000049b0: 2069 2069 6e20 7261 6e67 6528 3329 3a0a   i in range(3):.
-000049c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049d0: 2020 2020 7069 6473 2e53 6574 4964 2869      pids.SetId(i
-000049e0: 2c20 665b 695d 202d 2069 6e64 6578 5f6f  , f[i] - index_o
-000049f0: 6666 7365 7429 0a20 2020 2020 2020 2020  ffset).         
-00004a00: 2020 2020 2020 2073 6f75 7263 655f 706f         source_po
-00004a10: 6c79 676f 6e73 2e49 6e73 6572 744e 6578  lygons.InsertNex
-00004a20: 7443 656c 6c28 656c 6529 0a0a 2020 2020  tCell(ele)..    
-00004a30: 2020 2020 2020 2020 656c 6966 206e 203d          elif n =
-00004a40: 3d20 3420 616e 6420 7465 7472 6173 3a0a  = 4 and tetras:.
-00004a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a60: 2320 646f 206e 6f74 2075 7365 2076 746b  # do not use vtk
-00004a70: 5465 7472 6128 2920 6265 6361 7573 6520  Tetra() because 
-00004a80: 6974 2066 6169 6c73 0a20 2020 2020 2020  it fails.       
-00004a90: 2020 2020 2020 2020 2023 2077 6974 6820           # with 
-00004aa0: 646f 6c66 696e 2066 6163 6573 206f 7269  dolfin faces ori
-00004ab0: 656e 7461 7469 6f6e 0a20 2020 2020 2020  entation.       
-00004ac0: 2020 2020 2020 2020 2065 6c65 3020 3d20           ele0 = 
-00004ad0: 7674 6b2e 7674 6b54 7269 616e 676c 6528  vtk.vtkTriangle(
-00004ae0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00004af0: 2020 656c 6531 203d 2076 746b 2e76 746b    ele1 = vtk.vtk
-00004b00: 5472 6961 6e67 6c65 2829 0a20 2020 2020  Triangle().     
-00004b10: 2020 2020 2020 2020 2020 2065 6c65 3220             ele2 
-00004b20: 3d20 7674 6b2e 7674 6b54 7269 616e 676c  = vtk.vtkTriangl
-00004b30: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-00004b40: 2020 2020 656c 6533 203d 2076 746b 2e76      ele3 = vtk.v
-00004b50: 746b 5472 6961 6e67 6c65 2829 0a20 2020  tkTriangle().   
-00004b60: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00004b70: 696e 6465 785f 6f66 6673 6574 3a0a 2020  index_offset:.  
-00004b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b90: 2020 666f 7220 6920 696e 205b 302c 2031    for i in [0, 1
-00004ba0: 2c20 322c 2033 5d3a 0a20 2020 2020 2020  , 2, 3]:.       
-00004bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004bc0: 2066 5b69 5d20 2d3d 2069 6e64 6578 5f6f   f[i] -= index_o
-00004bd0: 6666 7365 740a 2020 2020 2020 2020 2020  ffset.          
-00004be0: 2020 2020 2020 6630 2c20 6631 2c20 6632        f0, f1, f2
-00004bf0: 2c20 6633 203d 2066 0a20 2020 2020 2020  , f3 = f.       
-00004c00: 2020 2020 2020 2020 2070 6964 3020 3d20           pid0 = 
-00004c10: 656c 6530 2e47 6574 506f 696e 7449 6473  ele0.GetPointIds
-00004c20: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-00004c30: 2020 2070 6964 3120 3d20 656c 6531 2e47     pid1 = ele1.G
-00004c40: 6574 506f 696e 7449 6473 2829 0a20 2020  etPointIds().   
-00004c50: 2020 2020 2020 2020 2020 2020 2070 6964               pid
-00004c60: 3220 3d20 656c 6532 2e47 6574 506f 696e  2 = ele2.GetPoin
-00004c70: 7449 6473 2829 0a20 2020 2020 2020 2020  tIds().         
-00004c80: 2020 2020 2020 2070 6964 3320 3d20 656c         pid3 = el
-00004c90: 6533 2e47 6574 506f 696e 7449 6473 2829  e3.GetPointIds()
-00004ca0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004cb0: 2020 7069 6430 2e53 6574 4964 2830 2c20    pid0.SetId(0, 
-00004cc0: 6630 290a 2020 2020 2020 2020 2020 2020  f0).            
-00004cd0: 2020 2020 7069 6430 2e53 6574 4964 2831      pid0.SetId(1
-00004ce0: 2c20 6631 290a 2020 2020 2020 2020 2020  , f1).          
-00004cf0: 2020 2020 2020 7069 6430 2e53 6574 4964        pid0.SetId
-00004d00: 2832 2c20 6632 290a 0a20 2020 2020 2020  (2, f2)..       
-00004d10: 2020 2020 2020 2020 2070 6964 312e 5365           pid1.Se
-00004d20: 7449 6428 302c 2066 3029 0a20 2020 2020  tId(0, f0).     
-00004d30: 2020 2020 2020 2020 2020 2070 6964 312e             pid1.
-00004d40: 5365 7449 6428 312c 2066 3129 0a20 2020  SetId(1, f1).   
-00004d50: 2020 2020 2020 2020 2020 2020 2070 6964               pid
-00004d60: 312e 5365 7449 6428 322c 2066 3329 0a0a  1.SetId(2, f3)..
-00004d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d80: 7069 6432 2e53 6574 4964 2830 2c20 6631  pid2.SetId(0, f1
-00004d90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00004da0: 2020 7069 6432 2e53 6574 4964 2831 2c20    pid2.SetId(1, 
-00004db0: 6632 290a 2020 2020 2020 2020 2020 2020  f2).            
-00004dc0: 2020 2020 7069 6432 2e53 6574 4964 2832      pid2.SetId(2
-00004dd0: 2c20 6633 290a 0a20 2020 2020 2020 2020  , f3)..         
-00004de0: 2020 2020 2020 2070 6964 332e 5365 7449         pid3.SetI
-00004df0: 6428 302c 2066 3229 0a20 2020 2020 2020  d(0, f2).       
-00004e00: 2020 2020 2020 2020 2070 6964 332e 5365           pid3.Se
-00004e10: 7449 6428 312c 2066 3329 0a20 2020 2020  tId(1, f3).     
-00004e20: 2020 2020 2020 2020 2020 2070 6964 332e             pid3.
-00004e30: 5365 7449 6428 322c 2066 3029 0a0a 2020  SetId(2, f0)..  
-00004e40: 2020 2020 2020 2020 2020 2020 2020 736f                so
-00004e50: 7572 6365 5f70 6f6c 7967 6f6e 732e 496e  urce_polygons.In
-00004e60: 7365 7274 4e65 7874 4365 6c6c 2865 6c65  sertNextCell(ele
-00004e70: 3029 0a20 2020 2020 2020 2020 2020 2020  0).             
-00004e80: 2020 2073 6f75 7263 655f 706f 6c79 676f     source_polygo
-00004e90: 6e73 2e49 6e73 6572 744e 6578 7443 656c  ns.InsertNextCel
-00004ea0: 6c28 656c 6531 290a 2020 2020 2020 2020  l(ele1).        
-00004eb0: 2020 2020 2020 2020 736f 7572 6365 5f70          source_p
-00004ec0: 6f6c 7967 6f6e 732e 496e 7365 7274 4e65  olygons.InsertNe
-00004ed0: 7874 4365 6c6c 2865 6c65 3229 0a20 2020  xtCell(ele2).   
-00004ee0: 2020 2020 2020 2020 2020 2020 2073 6f75               sou
-00004ef0: 7263 655f 706f 6c79 676f 6e73 2e49 6e73  rce_polygons.Ins
-00004f00: 6572 744e 6578 7443 656c 6c28 656c 6533  ertNextCell(ele3
-00004f10: 290a 0a20 2020 2020 2020 2020 2020 2065  )..            e
-00004f20: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00004f30: 2020 2020 2065 6c65 203d 2076 746b 2e76       ele = vtk.v
-00004f40: 746b 506f 6c79 676f 6e28 290a 2020 2020  tkPolygon().    
-00004f50: 2020 2020 2020 2020 2020 2020 7069 6473              pids
-00004f60: 203d 2065 6c65 2e47 6574 506f 696e 7449   = ele.GetPointI
-00004f70: 6473 2829 0a20 2020 2020 2020 2020 2020  ds().           
-00004f80: 2020 2020 2070 6964 732e 5365 744e 756d       pids.SetNum
-00004f90: 6265 724f 6649 6473 286e 290a 2020 2020  berOfIds(n).    
-00004fa0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00004fb0: 6920 696e 2072 616e 6765 286e 293a 0a20  i in range(n):. 
-00004fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004fd0: 2020 2070 6964 732e 5365 7449 6428 692c     pids.SetId(i,
-00004fe0: 2066 5b69 5d20 2d20 696e 6465 785f 6f66   f[i] - index_of
-00004ff0: 6673 6574 290a 2020 2020 2020 2020 2020  fset).          
-00005000: 2020 2020 2020 736f 7572 6365 5f70 6f6c        source_pol
-00005010: 7967 6f6e 732e 496e 7365 7274 4e65 7874  ygons.InsertNext
-00005020: 4365 6c6c 2865 6c65 290a 2020 2020 2020  Cell(ele).      
-00005030: 2020 2020 2020 6966 2073 686f 7762 6172        if showbar
-00005040: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00005050: 2020 7062 2e70 7269 6e74 2822 636f 6e76    pb.print("conv
-00005060: 6572 7469 6e67 206d 6573 682e 2e2e 2020  erting mesh...  
-00005070: 2020 2229 0a0a 2020 2020 706f 6c79 2e53    ")..    poly.S
-00005080: 6574 506f 6c79 7328 736f 7572 6365 5f70  etPolys(source_p
-00005090: 6f6c 7967 6f6e 7329 0a20 2020 2072 6574  olygons).    ret
-000050a0: 7572 6e20 706f 6c79 0a0a 0a23 2323 2323  urn poly...#####
-000050b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000050c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000050d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000050e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000050f0: 2323 2323 2323 2323 230a 6465 6620 6765  #########.def ge
-00005100: 745f 666f 6e74 5f70 6174 6828 666f 6e74  t_font_path(font
-00005110: 293a 0a20 2020 2022 2222 496e 7465 726e  ):.    """Intern
-00005120: 616c 2075 7365 2e22 2222 0a20 2020 2069  al use.""".    i
-00005130: 6620 666f 6e74 2069 6e20 7665 646f 2e73  f font in vedo.s
-00005140: 6574 7469 6e67 732e 666f 6e74 5f70 6172  ettings.font_par
-00005150: 616d 6574 6572 732e 6b65 7973 2829 3a0a  ameters.keys():.
-00005160: 2020 2020 2020 2020 6966 2076 6564 6f2e          if vedo.
-00005170: 7365 7474 696e 6773 2e66 6f6e 745f 7061  settings.font_pa
-00005180: 7261 6d65 7465 7273 5b66 6f6e 745d 5b22  rameters[font]["
-00005190: 6973 6c6f 6361 6c22 5d3a 0a20 2020 2020  islocal"]:.     
-000051a0: 2020 2020 2020 2066 6c20 3d20 6f73 2e70         fl = os.p
-000051b0: 6174 682e 6a6f 696e 2876 6564 6f2e 666f  ath.join(vedo.fo
-000051c0: 6e74 735f 7061 7468 2c20 6622 7b66 6f6e  nts_path, f"{fon
-000051d0: 747d 2e74 7466 2229 0a20 2020 2020 2020  t}.ttf").       
-000051e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000051f0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00005200: 2020 2020 2020 2020 666c 203d 2076 6564          fl = ved
-00005210: 6f2e 696f 2e64 6f77 6e6c 6f61 6428 6622  o.io.download(f"
-00005220: 6874 7470 733a 2f2f 7665 646f 2e65 6d62  https://vedo.emb
-00005230: 6c2e 6573 2f66 6f6e 7473 2f7b 666f 6e74  l.es/fonts/{font
-00005240: 7d2e 7474 6622 2c20 7665 7262 6f73 653d  }.ttf", verbose=
-00005250: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-00005260: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
-00005270: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
-00005280: 6c6f 6767 6572 2e77 6172 6e69 6e67 2866  logger.warning(f
-00005290: 2243 6f75 6c64 206e 6f74 2064 6f77 6e6c  "Could not downl
-000052a0: 6f61 6420 6874 7470 733a 2f2f 7665 646f  oad https://vedo
-000052b0: 2e65 6d62 6c2e 6573 2f66 6f6e 7473 2f7b  .embl.es/fonts/{
-000052c0: 666f 6e74 7d2e 7474 6622 290a 2020 2020  font}.ttf").    
-000052d0: 2020 2020 2020 2020 2020 2020 666c 203d              fl =
-000052e0: 206f 732e 7061 7468 2e6a 6f69 6e28 7665   os.path.join(ve
-000052f0: 646f 2e66 6f6e 7473 5f70 6174 682c 2022  do.fonts_path, "
-00005300: 4e6f 726d 6f67 7261 666f 2e74 7466 2229  Normografo.ttf")
-00005310: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
-00005320: 2020 2069 6620 666f 6e74 2e73 7461 7274     if font.start
-00005330: 7377 6974 6828 2268 7474 7073 3a2f 2f22  swith("https://"
-00005340: 293a 0a20 2020 2020 2020 2020 2020 2066  ):.            f
-00005350: 6c20 3d20 7665 646f 2e69 6f2e 646f 776e  l = vedo.io.down
-00005360: 6c6f 6164 2866 6f6e 742c 2076 6572 626f  load(font, verbo
-00005370: 7365 3d46 616c 7365 290a 2020 2020 2020  se=False).      
-00005380: 2020 656c 6966 206f 732e 7061 7468 2e69    elif os.path.i
-00005390: 7366 696c 6528 666f 6e74 293a 0a20 2020  sfile(font):.   
-000053a0: 2020 2020 2020 2020 2066 6c20 3d20 666f           fl = fo
-000053b0: 6e74 2020 2320 6173 7375 6d65 2075 7365  nt  # assume use
-000053c0: 7220 6973 2070 6173 7369 6e67 2061 2076  r is passing a v
-000053d0: 616c 6964 2066 696c 650a 2020 2020 2020  alid file.      
-000053e0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000053f0: 2020 2020 6966 2066 6f6e 742e 656e 6473      if font.ends
-00005400: 7769 7468 2822 2e74 7466 2229 3a0a 2020  with(".ttf"):.  
-00005410: 2020 2020 2020 2020 2020 2020 2020 7665                ve
-00005420: 646f 2e6c 6f67 6765 722e 6572 726f 7228  do.logger.error(
-00005430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005440: 2020 2020 2066 2243 6f75 6c64 206e 6f74       f"Could not
-00005450: 2073 6574 2066 6f6e 7420 6669 6c65 207b   set font file {
-00005460: 666f 6e74 7d22 0a20 2020 2020 2020 2020  font}".         
-00005470: 2020 2020 2020 2020 2020 2066 222d 3e20             f"-> 
-00005480: 7573 696e 6720 6465 6661 756c 743a 207b  using default: {
-00005490: 7665 646f 2e73 6574 7469 6e67 732e 6465  vedo.settings.de
-000054a0: 6661 756c 745f 666f 6e74 7d22 0a20 2020  fault_font}".   
-000054b0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-000054c0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-000054d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000054e0: 2076 6564 6f2e 7365 7474 696e 6773 2e64   vedo.settings.d
-000054f0: 6566 6175 6c74 5f66 6f6e 7420 3d20 224e  efault_font = "N
-00005500: 6f72 6d6f 6772 6166 6f22 0a20 2020 2020  ormografo".     
-00005510: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
-00005520: 6c6f 6767 6572 2e65 7272 6f72 280a 2020  logger.error(.  
-00005530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005540: 2020 6622 436f 756c 6420 6e6f 7420 7365    f"Could not se
-00005550: 7420 666f 6e74 206e 616d 6520 7b66 6f6e  t font name {fon
-00005560: 747d 220a 2020 2020 2020 2020 2020 2020  t}".            
-00005570: 2020 2020 2020 2020 6622 202d 3e20 7573          f" -> us
-00005580: 696e 6720 6465 6661 756c 743a 204e 6f72  ing default: Nor
-00005590: 6d6f 6772 6166 6f5c 6e22 0a20 2020 2020  mografo\n".     
-000055a0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-000055b0: 2243 6865 636b 206f 7574 2068 7474 7073  "Check out https
-000055c0: 3a2f 2f76 6564 6f2e 656d 626c 2e65 732f  ://vedo.embl.es/
-000055d0: 666f 6e74 7320 666f 7220 6164 6469 7469  fonts for additi
-000055e0: 6f6e 616c 2066 6f6e 7473 5c6e 220a 2020  onal fonts\n".  
-000055f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005600: 2020 6622 5479 7065 2027 7665 646f 202d    f"Type 'vedo -
-00005610: 7220 666f 6e74 7327 2074 6f20 7365 6520  r fonts' to see 
-00005620: 6176 6169 6c61 626c 6520 666f 6e74 7322  available fonts"
-00005630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005640: 2029 0a20 2020 2020 2020 2020 2020 2066   ).            f
-00005650: 6c20 3d20 6765 745f 666f 6e74 5f70 6174  l = get_font_pat
-00005660: 6828 7665 646f 2e73 6574 7469 6e67 732e  h(vedo.settings.
-00005670: 6465 6661 756c 745f 666f 6e74 290a 2020  default_font).  
-00005680: 2020 7265 7475 726e 2066 6c0a 0a0a 6465    return fl...de
-00005690: 6620 6973 5365 7175 656e 6365 2861 7267  f isSequence(arg
-000056a0: 293a 0a20 2020 2022 4465 7072 6563 6174  ):.    "Deprecat
-000056b0: 6564 2e20 506c 6561 7365 2075 7365 2060  ed. Please use `
-000056c0: 6973 5f73 6571 7565 6e63 6528 2960 220a  is_sequence()`".
-000056d0: 2020 2020 6d20 3d20 2257 6172 6e69 6e67      m = "Warning
-000056e0: 2120 6973 5365 7175 656e 6365 2829 2069  ! isSequence() i
-000056f0: 7320 6465 7072 6563 6174 6564 2e20 506c  s deprecated. Pl
-00005700: 6561 7365 2075 7365 2069 735f 7365 7175  ease use is_sequ
-00005710: 656e 6365 2829 2e22 0a20 2020 2070 7269  ence().".    pri
-00005720: 6e74 2822 5c78 3162 5b31 6d5c 7831 625b  nt("\x1b[1m\x1b[
-00005730: 3333 3b31 6d20 2220 2b20 6d20 2b20 225c  33;1m " + m + "\
-00005740: 7831 625b 306d 2229 0a20 2020 2072 6574  x1b[0m").    ret
-00005750: 7572 6e20 6973 5f73 6571 7565 6e63 6528  urn is_sequence(
-00005760: 6172 6729 0a0a 0a64 6566 2069 735f 7365  arg)...def is_se
-00005770: 7175 656e 6365 2861 7267 293a 0a20 2020  quence(arg):.   
-00005780: 2022 2222 4368 6563 6b20 6966 2074 6865   """Check if the
-00005790: 2069 6e70 7574 2069 7320 6974 6572 6162   input is iterab
-000057a0: 6c65 2e22 2222 0a20 2020 2069 6620 6861  le.""".    if ha
-000057b0: 7361 7474 7228 6172 672c 2022 7374 7269  sattr(arg, "stri
-000057c0: 7022 293a 0a20 2020 2020 2020 2072 6574  p"):.        ret
-000057d0: 7572 6e20 4661 6c73 650a 2020 2020 6966  urn False.    if
-000057e0: 2068 6173 6174 7472 2861 7267 2c20 225f   hasattr(arg, "_
-000057f0: 5f67 6574 736c 6963 655f 5f22 293a 0a20  _getslice__"):. 
-00005800: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
-00005810: 7565 0a20 2020 2069 6620 6861 7361 7474  ue.    if hasatt
-00005820: 7228 6172 672c 2022 5f5f 6974 6572 5f5f  r(arg, "__iter__
-00005830: 2229 3a0a 2020 2020 2020 2020 7265 7475  "):.        retu
-00005840: 726e 2054 7275 650a 2020 2020 7265 7475  rn True.    retu
-00005850: 726e 2046 616c 7365 0a0a 0a64 6566 2069  rn False...def i
-00005860: 735f 7261 6767 6564 2861 7272 2c20 6465  s_ragged(arr, de
-00005870: 6570 3d46 616c 7365 293a 0a20 2020 2022  ep=False):.    "
-00005880: 2222 0a20 2020 2041 2072 6167 6765 6420  "".    A ragged 
-00005890: 6172 7261 7920 696e 2050 7974 686f 6e20  array in Python 
-000058a0: 6973 2061 6e20 6172 7261 7920 7769 7468  is an array with
-000058b0: 2061 7272 6179 7320 6f66 2064 6966 6665   arrays of diffe
-000058c0: 7265 6e74 0a20 2020 206c 656e 6774 6873  rent.    lengths
-000058d0: 2061 7320 6974 7320 656c 656d 656e 7473   as its elements
-000058e0: 2e20 546f 2063 6865 636b 2069 6620 616e  . To check if an
-000058f0: 2061 7272 6179 2069 7320 7261 6767 6564   array is ragged
-00005900: 2c0a 2020 2020 7765 2069 7465 7261 7465  ,.    we iterate
-00005910: 2074 6872 6f75 6768 2074 6865 2065 6c65   through the ele
-00005920: 6d65 6e74 7320 616e 6420 6368 6563 6b20  ments and check 
-00005930: 6966 2074 6865 6972 206c 656e 6774 6873  if their lengths
-00005940: 2061 7265 2074 6865 2073 616d 652e 0a0a   are the same...
-00005950: 2020 2020 4578 616d 706c 653a 0a20 2020      Example:.   
-00005960: 2060 6060 7079 7468 6f6e 0a20 2020 2061   ```python.    a
-00005970: 7272 203d 205b 5b31 2c20 322c 2033 5d2c  rr = [[1, 2, 3],
-00005980: 205b 5b34 2c20 355d 2c20 5b36 5d2c 2031   [[4, 5], [6], 1
-00005990: 5d2c 205b 372c 2038 2c20 395d 5d0a 2020  ], [7, 8, 9]].  
-000059a0: 2020 7072 696e 7428 6973 5f72 6167 6765    print(is_ragge
-000059b0: 6428 6172 722c 2064 6565 703d 5472 7565  d(arr, deep=True
-000059c0: 2929 2020 2320 6f75 7470 7574 3a20 5472  ))  # output: Tr
-000059d0: 7565 0a20 2020 2060 6060 0a20 2020 2022  ue.    ```.    "
-000059e0: 2222 0a20 2020 2069 6620 6973 5f73 6571  "".    if is_seq
-000059f0: 7565 6e63 6528 6172 725b 305d 293a 0a20  uence(arr[0]):. 
-00005a00: 2020 2020 2020 206c 656e 6774 6820 3d20         length = 
-00005a10: 6c65 6e28 6172 725b 305d 290a 2020 2020  len(arr[0]).    
-00005a20: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
-00005a30: 6765 2831 2c20 6c65 6e28 6172 7229 293a  ge(1, len(arr)):
-00005a40: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00005a50: 6c65 6e28 6172 725b 695d 2920 213d 206c  len(arr[i]) != l
-00005a60: 656e 6774 6820 6f72 2028 6465 6570 2061  ength or (deep a
-00005a70: 6e64 2069 735f 7261 6767 6564 2861 7272  nd is_ragged(arr
-00005a80: 5b69 5d29 293a 0a20 2020 2020 2020 2020  [i])):.         
-00005a90: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
-00005aa0: 7565 0a20 2020 2020 2020 2072 6574 7572  ue.        retur
-00005ab0: 6e20 4661 6c73 650a 2020 2020 7265 7475  n False.    retu
-00005ac0: 726e 2046 616c 7365 0a0a 0a64 6566 2066  rn False...def f
-00005ad0: 6c61 7474 656e 286c 6973 745f 746f 5f66  latten(list_to_f
-00005ae0: 6c61 7474 656e 293a 0a20 2020 2022 2222  latten):.    """
-00005af0: 466c 6174 7465 6e20 6f75 7420 6120 6c69  Flatten out a li
-00005b00: 7374 2e22 2222 0a0a 2020 2020 6465 6620  st."""..    def 
-00005b10: 5f67 656e 666c 6174 7465 6e28 6c73 7429  _genflatten(lst)
-00005b20: 3a0a 2020 2020 2020 2020 666f 7220 656c  :.        for el
-00005b30: 656d 2069 6e20 6c73 743a 0a20 2020 2020  em in lst:.     
-00005b40: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-00005b50: 616e 6365 2865 6c65 6d2c 2028 6c69 7374  ance(elem, (list
-00005b60: 2c20 7475 706c 6529 293a 0a20 2020 2020  , tuple)):.     
-00005b70: 2020 2020 2020 2020 2020 2066 6f72 2078             for x
-00005b80: 2069 6e20 666c 6174 7465 6e28 656c 656d   in flatten(elem
-00005b90: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00005ba0: 2020 2020 2020 2079 6965 6c64 2078 0a20         yield x. 
-00005bb0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00005bc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005bd0: 2079 6965 6c64 2065 6c65 6d0a 0a20 2020   yield elem..   
-00005be0: 2072 6574 7572 6e20 6c69 7374 285f 6765   return list(_ge
-00005bf0: 6e66 6c61 7474 656e 286c 6973 745f 746f  nflatten(list_to
-00005c00: 5f66 6c61 7474 656e 2929 0a0a 0a64 6566  _flatten))...def
-00005c10: 2068 756d 616e 736f 7274 2861 6c69 7374   humansort(alist
-00005c20: 293a 0a20 2020 2022 2222 0a20 2020 2053  ):.    """.    S
-00005c30: 6f72 7420 696e 2070 6c61 6365 2061 2067  ort in place a g
-00005c40: 6976 656e 206c 6973 7420 7468 6520 7761  iven list the wa
-00005c50: 7920 6875 6d61 6e73 2065 7870 6563 742e  y humans expect.
-00005c60: 0a0a 2020 2020 452e 672e 2060 5b27 6669  ..    E.g. `['fi
-00005c70: 6c65 3131 272c 2027 6669 6c65 3127 5d20  le11', 'file1'] 
-00005c80: 2d3e 205b 2766 696c 6531 272c 2027 6669  -> ['file1', 'fi
-00005c90: 6c65 3131 275d 600a 0a20 2020 202e 2e20  le11']`..    .. 
-00005ca0: 7761 726e 696e 673a 3a20 696e 7075 7420  warning:: input 
-00005cb0: 6c69 7374 2069 7320 6d6f 6469 6669 6564  list is modified
-00005cc0: 2069 6e2d 706c 6163 6520 6279 2074 6869   in-place by thi
-00005cd0: 7320 6675 6e63 7469 6f6e 2e0a 2020 2020  s function..    
-00005ce0: 2222 220a 2020 2020 696d 706f 7274 2072  """.    import r
-00005cf0: 650a 0a20 2020 2064 6566 2061 6c70 6861  e..    def alpha
-00005d00: 6e75 6d5f 6b65 7928 7329 3a0a 2020 2020  num_key(s):.    
-00005d10: 2020 2020 2320 5475 726e 2061 2073 7472      # Turn a str
-00005d20: 696e 6720 696e 746f 2061 206c 6973 7420  ing into a list 
-00005d30: 6f66 2073 7472 696e 6720 616e 6420 6e75  of string and nu
-00005d40: 6d62 6572 2063 6875 6e6b 732e 0a20 2020  mber chunks..   
-00005d50: 2020 2020 2023 2065 2e67 2e20 227a 3233       # e.g. "z23
-00005d60: 6122 202d 3e20 5b22 7a22 2c20 3233 2c20  a" -> ["z", 23, 
-00005d70: 2261 225d 0a20 2020 2020 2020 2064 6566  "a"].        def
-00005d80: 2074 7279 696e 7428 7329 3a0a 2020 2020   tryint(s):.    
-00005d90: 2020 2020 2020 2020 6966 2073 2e69 7364          if s.isd
-00005da0: 6967 6974 2829 3a0a 2020 2020 2020 2020  igit():.        
-00005db0: 2020 2020 2020 2020 7265 7475 726e 2069          return i
-00005dc0: 6e74 2873 290a 2020 2020 2020 2020 2020  nt(s).          
-00005dd0: 2020 7265 7475 726e 2073 0a0a 2020 2020    return s..    
-00005de0: 2020 2020 7265 7475 726e 205b 7472 7969      return [tryi
-00005df0: 6e74 2863 2920 666f 7220 6320 696e 2072  nt(c) for c in r
-00005e00: 652e 7370 6c69 7428 2228 5b30 2d39 5d2b  e.split("([0-9]+
-00005e10: 2922 2c20 7329 5d0a 0a20 2020 2061 6c69  )", s)]..    ali
-00005e20: 7374 2e73 6f72 7428 6b65 793d 616c 7068  st.sort(key=alph
-00005e30: 616e 756d 5f6b 6579 290a 2020 2020 7265  anum_key).    re
-00005e40: 7475 726e 2061 6c69 7374 2020 2320 4e42  turn alist  # NB
-00005e50: 3a20 696e 7075 7420 6c69 7374 2069 7320  : input list is 
-00005e60: 6d6f 6469 6669 6564 0a0a 0a64 6566 2073  modified...def s
-00005e70: 6f72 745f 6279 5f63 6f6c 756d 6e28 6172  ort_by_column(ar
-00005e80: 722c 206e 7468 2c20 696e 7665 7274 3d46  r, nth, invert=F
-00005e90: 616c 7365 293a 0a20 2020 2022 2222 536f  alse):.    """So
-00005ea0: 7274 2061 206e 756d 7079 2061 7272 6179  rt a numpy array
-00005eb0: 2062 7920 6974 7320 606e 2d74 6860 2063   by its `n-th` c
-00005ec0: 6f6c 756d 6e2e 2222 220a 2020 2020 6172  olumn.""".    ar
-00005ed0: 7220 3d20 6e70 2e61 7361 7272 6179 2861  r = np.asarray(a
-00005ee0: 7272 290a 2020 2020 6172 7220 3d20 6172  rr).    arr = ar
-00005ef0: 725b 6172 725b 3a2c 206e 7468 5d2e 6172  r[arr[:, nth].ar
-00005f00: 6773 6f72 7428 295d 0a20 2020 2069 6620  gsort()].    if 
-00005f10: 696e 7665 7274 3a0a 2020 2020 2020 2020  invert:.        
-00005f20: 7265 7475 726e 206e 702e 666c 6970 2861  return np.flip(a
-00005f30: 7272 2c20 6178 6973 3d30 290a 2020 2020  rr, axis=0).    
-00005f40: 7265 7475 726e 2061 7272 0a0a 0a64 6566  return arr...def
-00005f50: 2070 6f69 6e74 5f69 6e5f 7472 6961 6e67   point_in_triang
-00005f60: 6c65 2870 2c20 7031 2c20 7032 2c20 7033  le(p, p1, p2, p3
-00005f70: 293a 0a20 2020 2022 2222 0a20 2020 2052  ):.    """.    R
-00005f80: 6574 7572 6e20 5472 7565 2069 6620 6120  eturn True if a 
-00005f90: 706f 696e 7420 6973 2069 6e73 6964 6520  point is inside 
-00005fa0: 286f 7220 6162 6f76 652f 6265 6c6f 7729  (or above/below)
-00005fb0: 2061 2074 7269 616e 676c 6520 6465 6669   a triangle defi
-00005fc0: 6e65 6420 6279 2033 2070 6f69 6e74 7320  ned by 3 points 
-00005fd0: 696e 2073 7061 6365 2e0a 2020 2020 2222  in space..    ""
-00005fe0: 220a 2020 2020 7031 203d 206e 702e 6172  ".    p1 = np.ar
-00005ff0: 7261 7928 7031 290a 2020 2020 7520 3d20  ray(p1).    u = 
-00006000: 7032 202d 2070 310a 2020 2020 7620 3d20  p2 - p1.    v = 
-00006010: 7033 202d 2070 310a 2020 2020 6e20 3d20  p3 - p1.    n = 
-00006020: 6e70 2e63 726f 7373 2875 2c20 7629 0a20  np.cross(u, v). 
-00006030: 2020 2077 203d 2070 202d 2070 310a 2020     w = p - p1.  
-00006040: 2020 6c6e 203d 206e 702e 646f 7428 6e2c    ln = np.dot(n,
-00006050: 206e 290a 2020 2020 6966 206e 6f74 206c   n).    if not l
-00006060: 6e3a 0a20 2020 2020 2020 2072 6574 7572  n:.        retur
-00006070: 6e20 4e6f 6e65 2020 2320 6465 6765 6e65  n None  # degene
-00006080: 7261 7465 2074 7269 616e 676c 650a 2020  rate triangle.  
-00006090: 2020 6761 6d6d 6120 3d20 286e 702e 646f    gamma = (np.do
-000060a0: 7428 6e70 2e63 726f 7373 2875 2c20 7729  t(np.cross(u, w)
-000060b0: 2c20 6e29 2920 2f20 6c6e 0a20 2020 2069  , n)) / ln.    i
-000060c0: 6620 3020 3c20 6761 6d6d 6120 3c20 313a  f 0 < gamma < 1:
-000060d0: 0a20 2020 2020 2020 2062 6574 6120 3d20  .        beta = 
-000060e0: 286e 702e 646f 7428 6e70 2e63 726f 7373  (np.dot(np.cross
-000060f0: 2877 2c20 7629 2c20 6e29 2920 2f20 6c6e  (w, v), n)) / ln
-00006100: 0a20 2020 2020 2020 2069 6620 3020 3c20  .        if 0 < 
-00006110: 6265 7461 203c 2031 3a0a 2020 2020 2020  beta < 1:.      
-00006120: 2020 2020 2020 616c 7068 6120 3d20 3120        alpha = 1 
-00006130: 2d20 6761 6d6d 6120 2d20 6265 7461 0a20  - gamma - beta. 
-00006140: 2020 2020 2020 2020 2020 2069 6620 3020             if 0 
-00006150: 3c20 616c 7068 6120 3c20 313a 0a20 2020  < alpha < 1:.   
-00006160: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00006170: 7572 6e20 5472 7565 0a20 2020 2072 6574  urn True.    ret
-00006180: 7572 6e20 4661 6c73 650a 0a0a 6465 6620  urn False...def 
-00006190: 696e 7465 7273 6563 7469 6f6e 5f72 6179  intersection_ray
-000061a0: 5f74 7269 616e 676c 6528 5030 2c20 5031  _triangle(P0, P1
-000061b0: 2c20 5630 2c20 5631 2c20 5632 293a 0a20  , V0, V1, V2):. 
-000061c0: 2020 2022 2222 0a20 2020 2046 6173 7420     """.    Fast 
-000061d0: 696e 7465 7273 6563 7469 6f6e 2062 6574  intersection bet
-000061e0: 7765 656e 2061 2064 6972 6563 7469 6f6e  ween a direction
-000061f0: 616c 2072 6179 2064 6566 696e 6564 2062  al ray defined b
-00006200: 7920 6050 302c 5031 600a 2020 2020 616e  y `P0,P1`.    an
-00006210: 6420 7472 6961 6e67 6c65 2060 5630 2c20  d triangle `V0, 
-00006220: 5631 2c20 5632 602e 0a0a 2020 2020 5265  V1, V2`...    Re
-00006230: 7475 726e 7320 7468 6520 696e 7465 7273  turns the inters
-00006240: 6563 7469 6f6e 2070 6f69 6e74 206f 720a  ection point or.
-00006250: 2020 2020 2d20 604e 6f6e 6560 2069 6620      - `None` if 
-00006260: 7472 6961 6e67 6c65 2069 7320 6465 6765  triangle is dege
-00006270: 6e65 7261 7465 2c20 6f72 2072 6179 2069  nerate, or ray i
-00006280: 7320 2070 6172 616c 6c65 6c20 746f 2074  s  parallel to t
-00006290: 7269 616e 676c 6520 706c 616e 652e 0a20  riangle plane.. 
-000062a0: 2020 202d 2060 4661 6c73 6560 2069 6620     - `False` if 
-000062b0: 6e6f 2069 6e74 6572 7365 6374 696f 6e2c  no intersection,
-000062c0: 206f 7220 7261 7920 6469 7265 6374 696f   or ray directio
-000062d0: 6e20 706f 696e 7473 2061 7761 7920 6672  n points away fr
-000062e0: 6f6d 2074 7269 616e 676c 652e 0a20 2020  om triangle..   
-000062f0: 2022 2222 0a20 2020 2023 2043 7265 6469   """.    # Credi
-00006300: 7473 3a20 6874 7470 3a2f 2f67 656f 6d61  ts: http://geoma
-00006310: 6c67 6f72 6974 686d 732e 636f 6d2f 6130  lgorithms.com/a0
-00006320: 362d 5f69 6e74 6572 7365 6374 2d32 2e68  6-_intersect-2.h
-00006330: 746d 6c0a 2020 2020 2320 4765 7420 7472  tml.    # Get tr
-00006340: 6961 6e67 6c65 2065 6467 6520 7665 6374  iangle edge vect
-00006350: 6f72 7320 616e 6420 706c 616e 6520 6e6f  ors and plane no
-00006360: 726d 616c 0a20 2020 2023 2074 6f64 6f20  rmal.    # todo 
-00006370: 3a20 7468 6973 2069 7320 736c 6f77 2073  : this is slow s
-00006380: 686f 756c 6420 6368 6563 6b0a 2020 2020  hould check.    
-00006390: 2320 6874 7470 733a 2f2f 7674 6b2e 6f72  # https://vtk.or
-000063a0: 672f 646f 632f 6e69 6768 746c 792f 6874  g/doc/nightly/ht
-000063b0: 6d6c 2f63 6c61 7373 7674 6b43 656c 6c2e  ml/classvtkCell.
-000063c0: 6874 6d6c 2361 6138 3530 3338 3232 3133  html#aa850382213
-000063d0: 6437 6238 3639 3366 3065 6565 6330 3230  d7b8693f0eeec020
-000063e0: 3963 3334 3762 0a20 2020 2056 3020 3d20  9c347b.    V0 = 
-000063f0: 6e70 2e61 7361 7272 6179 2856 302c 2064  np.asarray(V0, d
-00006400: 7479 7065 3d66 6c6f 6174 290a 2020 2020  type=float).    
-00006410: 5030 203d 206e 702e 6173 6172 7261 7928  P0 = np.asarray(
-00006420: 5030 2c20 6474 7970 653d 666c 6f61 7429  P0, dtype=float)
-00006430: 0a20 2020 2075 203d 2056 3120 2d20 5630  .    u = V1 - V0
-00006440: 0a20 2020 2076 203d 2056 3220 2d20 5630  .    v = V2 - V0
-00006450: 0a20 2020 206e 203d 206e 702e 6372 6f73  .    n = np.cros
-00006460: 7328 752c 2076 290a 2020 2020 6966 206e  s(u, v).    if n
-00006470: 6f74 206e 702e 6162 7328 7629 2e73 756d  ot np.abs(v).sum
-00006480: 2829 3a20 2023 2074 7269 616e 676c 6520  ():  # triangle 
-00006490: 6973 2064 6567 656e 6572 6174 650a 2020  is degenerate.  
-000064a0: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-000064b0: 6520 2023 2064 6f20 6e6f 7420 6465 616c  e  # do not deal
-000064c0: 2077 6974 6820 7468 6973 2063 6173 650a   with this case.
-000064d0: 0a20 2020 2072 6420 3d20 5031 202d 2050  .    rd = P1 - P
-000064e0: 3020 2023 2072 6179 2064 6972 6563 7469  0  # ray directi
-000064f0: 6f6e 2076 6563 746f 720a 2020 2020 7730  on vector.    w0
-00006500: 203d 2050 3020 2d20 5630 0a20 2020 2061   = P0 - V0.    a
-00006510: 203d 202d 6e70 2e64 6f74 286e 2c20 7730   = -np.dot(n, w0
-00006520: 290a 2020 2020 6220 3d20 6e70 2e64 6f74  ).    b = np.dot
-00006530: 286e 2c20 7264 290a 2020 2020 6966 206e  (n, rd).    if n
-00006540: 6f74 2062 3a20 2023 2072 6179 2069 7320  ot b:  # ray is 
-00006550: 2070 6172 616c 6c65 6c20 746f 2074 7269   parallel to tri
-00006560: 616e 676c 6520 706c 616e 650a 2020 2020  angle plane.    
-00006570: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
-00006580: 0a20 2020 2023 2047 6574 2069 6e74 6572  .    # Get inter
-00006590: 7365 6374 2070 6f69 6e74 206f 6620 7261  sect point of ra
-000065a0: 7920 7769 7468 2074 7269 616e 676c 6520  y with triangle 
-000065b0: 706c 616e 650a 2020 2020 7220 3d20 6120  plane.    r = a 
-000065c0: 2f20 620a 2020 2020 6966 2072 203c 2030  / b.    if r < 0
-000065d0: 2e30 3a20 2023 2072 6179 2067 6f65 7320  .0:  # ray goes 
-000065e0: 6177 6179 2066 726f 6d20 7472 6961 6e67  away from triang
-000065f0: 6c65 0a20 2020 2020 2020 2072 6574 7572  le.        retur
-00006600: 6e20 4661 6c73 6520 2023 2020 3d3e 206e  n False  #  => n
-00006610: 6f20 696e 7465 7273 6563 740a 0a20 2020  o intersect..   
-00006620: 2023 2047 6f72 2061 2073 6567 6d65 6e74   # Gor a segment
-00006630: 2c20 616c 736f 2074 6573 7420 6966 2028  , also test if (
-00006640: 7220 3e20 312e 3029 203d 3e20 6e6f 2069  r > 1.0) => no i
-00006650: 6e74 6572 7365 6374 0a20 2020 2049 203d  ntersect.    I =
-00006660: 2050 3020 2b20 7220 2a20 7264 2020 2320   P0 + r * rd  # 
-00006670: 696e 7465 7273 6563 7420 706f 696e 7420  intersect point 
-00006680: 6f66 2072 6179 2061 6e64 2070 6c61 6e65  of ray and plane
-00006690: 0a0a 2020 2020 2320 6973 2049 2069 6e73  ..    # is I ins
-000066a0: 6964 6520 543f 0a20 2020 2075 7520 3d20  ide T?.    uu = 
-000066b0: 6e70 2e64 6f74 2875 2c20 7529 0a20 2020  np.dot(u, u).   
-000066c0: 2075 7620 3d20 6e70 2e64 6f74 2875 2c20   uv = np.dot(u, 
-000066d0: 7629 0a20 2020 2076 7620 3d20 6e70 2e64  v).    vv = np.d
-000066e0: 6f74 2876 2c20 7629 0a20 2020 2077 203d  ot(v, v).    w =
-000066f0: 2049 202d 2056 300a 2020 2020 7775 203d   I - V0.    wu =
-00006700: 206e 702e 646f 7428 772c 2075 290a 2020   np.dot(w, u).  
-00006710: 2020 7776 203d 206e 702e 646f 7428 772c    wv = np.dot(w,
-00006720: 2076 290a 2020 2020 4420 3d20 7576 202a   v).    D = uv *
-00006730: 2075 7620 2d20 7575 202a 2076 760a 0a20   uv - uu * vv.. 
-00006740: 2020 2023 2047 6574 2061 6e64 2074 6573     # Get and tes
-00006750: 7420 7061 7261 6d65 7472 6963 2063 6f6f  t parametric coo
-00006760: 7264 730a 2020 2020 7320 3d20 2875 7620  rds.    s = (uv 
-00006770: 2a20 7776 202d 2076 7620 2a20 7775 2920  * wv - vv * wu) 
-00006780: 2f20 440a 2020 2020 6966 2073 203c 2030  / D.    if s < 0
-00006790: 2e30 206f 7220 7320 3e20 312e 303a 2020  .0 or s > 1.0:  
-000067a0: 2320 4920 6973 206f 7574 7369 6465 2054  # I is outside T
-000067b0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000067c0: 4661 6c73 650a 2020 2020 7420 3d20 2875  False.    t = (u
-000067d0: 7620 2a20 7775 202d 2075 7520 2a20 7776  v * wu - uu * wv
-000067e0: 2920 2f20 440a 2020 2020 6966 2074 203c  ) / D.    if t <
-000067f0: 2030 2e30 206f 7220 2873 202b 2074 2920   0.0 or (s + t) 
-00006800: 3e20 312e 303a 2020 2320 4920 6973 206f  > 1.0:  # I is o
-00006810: 7574 7369 6465 2054 0a20 2020 2020 2020  utside T.       
-00006820: 2072 6574 7572 6e20 4661 6c73 650a 2020   return False.  
-00006830: 2020 7265 7475 726e 2049 2020 2320 4920    return I  # I 
-00006840: 6973 2069 6e20 540a 0a64 6566 2074 7269  is in T..def tri
-00006850: 616e 676c 655f 736f 6c76 6572 282a 2a69  angle_solver(**i
-00006860: 6e70 7574 5f64 6963 7429 3a0a 2020 2020  nput_dict):.    
-00006870: 2222 220a 2020 2020 536f 6c76 6520 6120  """.    Solve a 
-00006880: 7472 6961 6e67 6c65 2066 726f 6d20 616e  triangle from an
-00006890: 7920 3320 6b6e 6f77 6e20 656c 656d 656e  y 3 known elemen
-000068a0: 7473 2e0a 2020 2020 284e 6f74 6520 7468  ts..    (Note th
-000068b0: 6174 2074 6865 7265 206d 6967 6874 2062  at there might b
-000068c0: 6520 6d6f 7265 2074 6861 6e20 6f6e 6520  e more than one 
-000068d0: 736f 6c75 7469 6f6e 206f 7220 6e6f 6e65  solution or none
-000068e0: 292e 0a20 2020 2041 6e67 6c65 7320 6172  )..    Angles ar
-000068f0: 6520 696e 2072 6164 6961 6e73 2e0a 0a20  e in radians... 
-00006900: 2020 2045 7861 6d70 6c65 3a0a 2020 2020     Example:.    
-00006910: 6060 6070 7974 686f 6e0a 2020 2020 7072  ```python.    pr
-00006920: 696e 7428 7472 6961 6e67 6c65 5f73 6f6c  int(triangle_sol
-00006930: 7665 7228 613d 332c 2062 3d34 2c20 633d  ver(a=3, b=4, c=
-00006940: 3529 290a 2020 2020 7072 696e 7428 7472  5)).    print(tr
-00006950: 6961 6e67 6c65 5f73 6f6c 7665 7228 613d  iangle_solver(a=
-00006960: 332c 2061 633d 302e 3932 3733 2c20 6162  3, ac=0.9273, ab
-00006970: 3d31 2e35 3731 3629 290a 2020 2020 7072  =1.5716)).    pr
-00006980: 696e 7428 7472 6961 6e67 6c65 5f73 6f6c  int(triangle_sol
-00006990: 7665 7228 613d 332c 2062 3d34 2c20 6162  ver(a=3, b=4, ab
-000069a0: 3d31 2e35 3731 3629 290a 2020 2020 7072  =1.5716)).    pr
-000069b0: 696e 7428 7472 6961 6e67 6c65 5f73 6f6c  int(triangle_sol
-000069c0: 7665 7228 623d 342c 2062 633d 2e36 342c  ver(b=4, bc=.64,
-000069d0: 2061 623d 312e 3537 3136 2929 0a20 2020   ab=1.5716)).   
-000069e0: 2070 7269 6e74 2874 7269 616e 676c 655f   print(triangle_
-000069f0: 736f 6c76 6572 2863 3d35 2c20 6163 3d2e  solver(c=5, ac=.
-00006a00: 3932 3733 2c20 6263 3d30 2e36 3433 3529  9273, bc=0.6435)
-00006a10: 290a 2020 2020 7072 696e 7428 7472 6961  ).    print(tria
-00006a20: 6e67 6c65 5f73 6f6c 7665 7228 613d 332c  ngle_solver(a=3,
-00006a30: 2063 3d35 2c20 6263 3d30 2e36 3433 3529   c=5, bc=0.6435)
-00006a40: 290a 2020 2020 7072 696e 7428 7472 6961  ).    print(tria
-00006a50: 6e67 6c65 5f73 6f6c 7665 7228 623d 342c  ngle_solver(b=4,
-00006a60: 2063 3d35 2c20 6163 3d30 2e39 3237 2929   c=5, ac=0.927))
-00006a70: 0a20 2020 2060 6060 0a20 2020 2022 2222  .    ```.    """
-00006a80: 0a20 2020 2061 203d 2069 6e70 7574 5f64  .    a = input_d
-00006a90: 6963 742e 6765 7428 2261 2229 0a20 2020  ict.get("a").   
-00006aa0: 2062 203d 2069 6e70 7574 5f64 6963 742e   b = input_dict.
-00006ab0: 6765 7428 2262 2229 0a20 2020 2063 203d  get("b").    c =
-00006ac0: 2069 6e70 7574 5f64 6963 742e 6765 7428   input_dict.get(
-00006ad0: 2263 2229 0a20 2020 2061 6220 3d20 696e  "c").    ab = in
-00006ae0: 7075 745f 6469 6374 2e67 6574 2822 6162  put_dict.get("ab
-00006af0: 2229 0a20 2020 2062 6320 3d20 696e 7075  ").    bc = inpu
-00006b00: 745f 6469 6374 2e67 6574 2822 6263 2229  t_dict.get("bc")
-00006b10: 0a20 2020 2061 6320 3d20 696e 7075 745f  .    ac = input_
-00006b20: 6469 6374 2e67 6574 2822 6163 2229 0a0a  dict.get("ac")..
-00006b30: 2020 2020 6966 2061 6220 616e 6420 6263      if ab and bc
-00006b40: 3a0a 2020 2020 2020 2020 6163 203d 206e  :.        ac = n
-00006b50: 702e 7069 202d 2062 6320 2d20 6162 0a20  p.pi - bc - ab. 
-00006b60: 2020 2065 6c69 6620 6263 2061 6e64 2061     elif bc and a
-00006b70: 633a 0a20 2020 2020 2020 2061 6220 3d20  c:.        ab = 
-00006b80: 6e70 2e70 6920 2d20 6263 202d 2061 630a  np.pi - bc - ac.
-00006b90: 2020 2020 656c 6966 2061 6220 616e 6420      elif ab and 
-00006ba0: 6163 3a0a 2020 2020 2020 2020 6263 203d  ac:.        bc =
-00006bb0: 206e 702e 7069 202d 2061 6220 2d20 6163   np.pi - ab - ac
-00006bc0: 0a0a 2020 2020 6966 2061 2069 7320 6e6f  ..    if a is no
-00006bd0: 7420 4e6f 6e65 2061 6e64 2062 2069 7320  t None and b is 
-00006be0: 6e6f 7420 4e6f 6e65 2061 6e64 2063 2069  not None and c i
-00006bf0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00006c00: 2020 2020 6162 203d 206e 702e 6172 6363      ab = np.arcc
-00006c10: 6f73 2828 6120 2a2a 2032 202b 2062 202a  os((a ** 2 + b *
-00006c20: 2a20 3220 2d20 6320 2a2a 2032 2920 2f20  * 2 - c ** 2) / 
-00006c30: 2832 202a 2061 202a 2062 2929 0a20 2020  (2 * a * b)).   
-00006c40: 2020 2020 2073 696e 6162 203d 206e 702e       sinab = np.
-00006c50: 7369 6e28 6162 290a 2020 2020 2020 2020  sin(ab).        
-00006c60: 6163 203d 206e 702e 6172 6373 696e 2861  ac = np.arcsin(a
-00006c70: 202f 2063 202a 2073 696e 6162 290a 2020   / c * sinab).  
-00006c80: 2020 2020 2020 6263 203d 206e 702e 6172        bc = np.ar
-00006c90: 6373 696e 2862 202f 2063 202a 2073 696e  csin(b / c * sin
-00006ca0: 6162 290a 0a20 2020 2065 6c69 6620 6120  ab)..    elif a 
-00006cb0: 6973 206e 6f74 204e 6f6e 6520 616e 6420  is not None and 
-00006cc0: 6220 6973 206e 6f74 204e 6f6e 6520 616e  b is not None an
-00006cd0: 6420 6162 2069 7320 6e6f 7420 4e6f 6e65  d ab is not None
-00006ce0: 3a0a 2020 2020 2020 2020 6320 3d20 6e70  :.        c = np
-00006cf0: 2e73 7172 7428 6120 2a2a 2032 202b 2062  .sqrt(a ** 2 + b
-00006d00: 202a 2a20 3220 2d20 3220 2a20 6120 2a20   ** 2 - 2 * a * 
-00006d10: 6220 2a20 6e70 2e63 6f73 2861 6229 290a  b * np.cos(ab)).
-00006d20: 2020 2020 2020 2020 7369 6e61 6220 3d20          sinab = 
-00006d30: 6e70 2e73 696e 2861 6229 0a20 2020 2020  np.sin(ab).     
-00006d40: 2020 2061 6320 3d20 6e70 2e61 7263 7369     ac = np.arcsi
-00006d50: 6e28 6120 2f20 6320 2a20 7369 6e61 6229  n(a / c * sinab)
-00006d60: 0a20 2020 2020 2020 2062 6320 3d20 6e70  .        bc = np
-00006d70: 2e61 7263 7369 6e28 6220 2f20 6320 2a20  .arcsin(b / c * 
-00006d80: 7369 6e61 6229 0a0a 2020 2020 656c 6966  sinab)..    elif
-00006d90: 2061 2069 7320 6e6f 7420 4e6f 6e65 2061   a is not None a
-00006da0: 6e64 2061 6320 6973 206e 6f74 204e 6f6e  nd ac is not Non
-00006db0: 6520 616e 6420 6162 2069 7320 6e6f 7420  e and ab is not 
-00006dc0: 4e6f 6e65 3a0a 2020 2020 2020 2020 6820  None:.        h 
-00006dd0: 3d20 6120 2a20 6e70 2e73 696e 2861 6329  = a * np.sin(ac)
-00006de0: 0a20 2020 2020 2020 2062 203d 2068 202f  .        b = h /
-00006df0: 206e 702e 7369 6e28 6263 290a 2020 2020   np.sin(bc).    
-00006e00: 2020 2020 6320 3d20 6220 2a20 6e70 2e63      c = b * np.c
-00006e10: 6f73 2862 6329 202b 2061 202a 206e 702e  os(bc) + a * np.
-00006e20: 636f 7328 6163 290a 0a20 2020 2065 6c69  cos(ac)..    eli
-00006e30: 6620 6220 6973 206e 6f74 204e 6f6e 6520  f b is not None 
-00006e40: 616e 6420 6263 2069 7320 6e6f 7420 4e6f  and bc is not No
-00006e50: 6e65 2061 6e64 2061 6220 6973 206e 6f74  ne and ab is not
-00006e60: 204e 6f6e 653a 0a20 2020 2020 2020 2068   None:.        h
-00006e70: 203d 2062 202a 206e 702e 7369 6e28 6263   = b * np.sin(bc
-00006e80: 290a 2020 2020 2020 2020 6120 3d20 6820  ).        a = h 
-00006e90: 2f20 6e70 2e73 696e 2861 6329 0a20 2020  / np.sin(ac).   
-00006ea0: 2020 2020 2063 203d 206e 702e 7371 7274       c = np.sqrt
-00006eb0: 2861 202a 2061 202b 2062 202a 2062 290a  (a * a + b * b).
-00006ec0: 0a20 2020 2065 6c69 6620 6320 6973 206e  .    elif c is n
-00006ed0: 6f74 204e 6f6e 6520 616e 6420 6163 2069  ot None and ac i
-00006ee0: 7320 6e6f 7420 4e6f 6e65 2061 6e64 2062  s not None and b
-00006ef0: 6320 6973 206e 6f74 204e 6f6e 653a 0a20  c is not None:. 
-00006f00: 2020 2020 2020 2068 203d 2063 202a 206e         h = c * n
-00006f10: 702e 7369 6e28 6263 290a 2020 2020 2020  p.sin(bc).      
-00006f20: 2020 6231 203d 2063 202a 206e 702e 636f    b1 = c * np.co
-00006f30: 7328 6263 290a 2020 2020 2020 2020 6232  s(bc).        b2
-00006f40: 203d 2068 202f 206e 702e 7461 6e28 6162   = h / np.tan(ab
-00006f50: 290a 2020 2020 2020 2020 6220 3d20 6231  ).        b = b1
-00006f60: 202b 2062 320a 2020 2020 2020 2020 6120   + b2.        a 
-00006f70: 3d20 6e70 2e73 7172 7428 6232 202a 2062  = np.sqrt(b2 * b
-00006f80: 3220 2b20 6820 2a20 6829 0a0a 2020 2020  2 + h * h)..    
-00006f90: 656c 6966 2061 2069 7320 6e6f 7420 4e6f  elif a is not No
-00006fa0: 6e65 2061 6e64 2063 2069 7320 6e6f 7420  ne and c is not 
-00006fb0: 4e6f 6e65 2061 6e64 2062 6320 6973 206e  None and bc is n
-00006fc0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00006fd0: 2023 2064 6f75 626c 6520 736f 6c75 7469   # double soluti
-00006fe0: 6f6e 0a20 2020 2020 2020 2068 203d 2063  on.        h = c
-00006ff0: 202a 206e 702e 7369 6e28 6263 290a 2020   * np.sin(bc).  
-00007000: 2020 2020 2020 6b20 3d20 6e70 2e73 7172        k = np.sqr
-00007010: 7428 6120 2a20 6120 2d20 6820 2a20 6829  t(a * a - h * h)
-00007020: 0a20 2020 2020 2020 206f 6d65 6761 203d  .        omega =
-00007030: 206e 702e 6172 6373 696e 286b 202f 2061   np.arcsin(k / a
-00007040: 290a 2020 2020 2020 2020 636f 7362 6320  ).        cosbc 
-00007050: 3d20 6e70 2e63 6f73 2862 6329 0a20 2020  = np.cos(bc).   
-00007060: 2020 2020 2062 203d 2063 202a 2063 6f73       b = c * cos
-00007070: 6263 202d 206b 0a20 2020 2020 2020 2070  bc - k.        p
-00007080: 6869 203d 206e 702e 7069 202f 2032 202d  hi = np.pi / 2 -
-00007090: 2062 6320 2d20 6f6d 6567 610a 2020 2020   bc - omega.    
-000070a0: 2020 2020 6163 203d 2070 6869 0a20 2020      ac = phi.   
-000070b0: 2020 2020 2061 6220 3d20 6e70 2e70 6920       ab = np.pi 
-000070c0: 2d20 6163 202d 2062 630a 2020 2020 2020  - ac - bc.      
-000070d0: 2020 6966 206b 3a0a 2020 2020 2020 2020    if k:.        
-000070e0: 2020 2020 6232 203d 2063 202a 2063 6f73      b2 = c * cos
-000070f0: 6263 202b 206b 0a20 2020 2020 2020 2020  bc + k.         
-00007100: 2020 2061 6332 203d 2070 6869 202b 2032     ac2 = phi + 2
-00007110: 202a 206f 6d65 6761 0a20 2020 2020 2020   * omega.       
-00007120: 2020 2020 2061 6232 203d 206e 702e 7069       ab2 = np.pi
-00007130: 202d 2061 6332 202d 2062 630a 2020 2020   - ac2 - bc.    
-00007140: 2020 2020 2020 2020 7265 7475 726e 205b          return [
-00007150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007160: 207b 2261 223a 2061 2c20 2262 223a 2062   {"a": a, "b": b
-00007170: 2c20 2022 6322 3a20 632c 2022 6162 223a  ,  "c": c, "ab":
-00007180: 2061 622c 2020 2262 6322 3a20 6263 2c20   ab,  "bc": bc, 
-00007190: 2261 6322 3a20 6163 7d2c 0a20 2020 2020  "ac": ac},.     
-000071a0: 2020 2020 2020 2020 2020 207b 2261 223a             {"a":
-000071b0: 2061 2c20 2262 223a 2062 322c 2022 6322   a, "b": b2, "c"
-000071c0: 3a20 632c 2022 6162 223a 2061 6232 2c20  : c, "ab": ab2, 
-000071d0: 2262 6322 3a20 6263 2c20 2261 6322 3a20  "bc": bc, "ac": 
-000071e0: 6163 327d 2c0a 2020 2020 2020 2020 2020  ac2},.          
-000071f0: 2020 5d0a 0a20 2020 2065 6c69 6620 6220    ]..    elif b 
-00007200: 6973 206e 6f74 204e 6f6e 6520 616e 6420  is not None and 
-00007210: 6320 6973 206e 6f74 204e 6f6e 6520 616e  c is not None an
-00007220: 6420 6163 2069 7320 6e6f 7420 4e6f 6e65  d ac is not None
-00007230: 3a0a 2020 2020 2020 2020 2320 646f 7562  :.        # doub
-00007240: 6c65 2073 6f6c 7574 696f 6e0a 2020 2020  le solution.    
-00007250: 2020 2020 6820 3d20 6320 2a20 6e70 2e73      h = c * np.s
-00007260: 696e 2861 6329 0a20 2020 2020 2020 206b  in(ac).        k
-00007270: 203d 206e 702e 7371 7274 2862 202a 2062   = np.sqrt(b * b
-00007280: 202d 2068 202a 2068 290a 2020 2020 2020   - h * h).      
-00007290: 2020 6f6d 6567 6120 3d20 6e70 2e61 7263    omega = np.arc
-000072a0: 7369 6e28 6b20 2f20 6229 0a20 2020 2020  sin(k / b).     
-000072b0: 2020 2063 6f73 6163 203d 206e 702e 636f     cosac = np.co
-000072c0: 7328 6163 290a 2020 2020 2020 2020 6120  s(ac).        a 
-000072d0: 3d20 6320 2a20 636f 7361 6320 2d20 6b0a  = c * cosac - k.
-000072e0: 2020 2020 2020 2020 7068 6920 3d20 6e70          phi = np
-000072f0: 2e70 6920 2f20 3220 2d20 6163 202d 206f  .pi / 2 - ac - o
-00007300: 6d65 6761 0a20 2020 2020 2020 2062 6320  mega.        bc 
-00007310: 3d20 7068 690a 2020 2020 2020 2020 6162  = phi.        ab
-00007320: 203d 206e 702e 7069 202d 2062 6320 2d20   = np.pi - bc - 
-00007330: 6163 0a20 2020 2020 2020 2069 6620 6b3a  ac.        if k:
-00007340: 0a20 2020 2020 2020 2020 2020 2061 3220  .            a2 
-00007350: 3d20 6320 2a20 636f 7361 6320 2b20 6b0a  = c * cosac + k.
-00007360: 2020 2020 2020 2020 2020 2020 6263 3220              bc2 
-00007370: 3d20 7068 6920 2b20 3220 2a20 6f6d 6567  = phi + 2 * omeg
-00007380: 610a 2020 2020 2020 2020 2020 2020 6162  a.            ab
-00007390: 3220 3d20 6e70 2e70 6920 2d20 6163 202d  2 = np.pi - ac -
-000073a0: 2062 6332 0a20 2020 2020 2020 2020 2020   bc2.           
-000073b0: 2072 6574 7572 6e20 5b0a 2020 2020 2020   return [.      
-000073c0: 2020 2020 2020 2020 2020 7b22 6122 3a20            {"a": 
-000073d0: 612c 2020 2262 223a 2062 2c20 2263 223a  a,  "b": b, "c":
-000073e0: 2063 2c20 2261 6222 3a20 6162 2c20 2022   c, "ab": ab,  "
-000073f0: 6263 223a 2062 632c 2020 2261 6322 3a20  bc": bc,  "ac": 
-00007400: 6163 7d2c 0a20 2020 2020 2020 2020 2020  ac},.           
-00007410: 2020 2020 207b 2261 223a 2061 322c 2022       {"a": a2, "
-00007420: 6222 3a20 622c 2022 6322 3a20 632c 2022  b": b, "c": c, "
-00007430: 6162 223a 2061 6232 2c20 2262 6322 3a20  ab": ab2, "bc": 
-00007440: 6263 322c 2022 6163 223a 2061 637d 2c0a  bc2, "ac": ac},.
-00007450: 2020 2020 2020 2020 2020 2020 5d0a 0a20              ].. 
-00007460: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00007470: 2076 6564 6f2e 6c6f 6767 6572 2e65 7272   vedo.logger.err
-00007480: 6f72 2866 2243 6173 6520 7b69 6e70 7574  or(f"Case {input
-00007490: 5f64 6963 747d 2069 7320 6e6f 7420 7375  _dict} is not su
-000074a0: 7070 6f72 7465 642e 2229 0a20 2020 2020  pported.").     
-000074b0: 2020 2072 6574 7572 6e20 5b5d 0a0a 2020     return []..  
-000074c0: 2020 7265 7475 726e 205b 7b22 6122 3a20    return [{"a": 
-000074d0: 612c 2022 6222 3a20 622c 2022 6322 3a20  a, "b": b, "c": 
-000074e0: 632c 2022 6162 223a 2061 622c 2022 6263  c, "ab": ab, "bc
-000074f0: 223a 2062 632c 2022 6163 223a 2061 637d  ": bc, "ac": ac}
-00007500: 5d0a 0a0a 6465 6620 706f 696e 745f 6c69  ]...def point_li
-00007510: 6e65 5f64 6973 7461 6e63 6528 702c 2070  ne_distance(p, p
-00007520: 312c 2070 3229 3a0a 2020 2020 2222 220a  1, p2):.    """.
-00007530: 2020 2020 436f 6d70 7574 6520 7468 6520      Compute the 
-00007540: 6469 7374 616e 6365 206f 6620 6120 706f  distance of a po
-00007550: 696e 7420 746f 2061 206c 696e 6520 286e  int to a line (n
-00007560: 6f74 2074 6865 2073 6567 6d65 6e74 290a  ot the segment).
-00007570: 2020 2020 6465 6669 6e65 6420 6279 2060      defined by `
-00007580: 7031 6020 616e 6420 6070 3260 2e0a 2020  p1` and `p2`..  
-00007590: 2020 2222 220a 2020 2020 6420 3d20 6e70    """.    d = np
-000075a0: 2e73 7172 7428 7674 6b2e 7674 6b4c 696e  .sqrt(vtk.vtkLin
-000075b0: 652e 4469 7374 616e 6365 546f 4c69 6e65  e.DistanceToLine
-000075c0: 2870 2c20 7031 2c20 7032 2929 0a20 2020  (p, p1, p2)).   
-000075d0: 2072 6574 7572 6e20 640a 0a0a 6465 6620   return d...def 
-000075e0: 6c69 6e49 6e74 6572 706f 6c61 7465 2878  linInterpolate(x
-000075f0: 2c20 7261 6e67 6558 2c20 7261 6e67 6559  , rangeX, rangeY
-00007600: 293a 0a20 2020 2022 4465 7072 6563 6174  ):.    "Deprecat
-00007610: 6564 2e20 506c 6561 7365 2060 6c69 6e5f  ed. Please `lin_
-00007620: 696e 7465 7270 6f6c 6174 6528 2960 220a  interpolate()`".
-00007630: 2020 2020 6d20 3d20 2257 6172 6e69 6e67      m = "Warning
-00007640: 2120 6c69 6e49 6e74 6572 706f 6c61 7465  ! linInterpolate
-00007650: 2829 2069 7320 6465 7072 6563 6174 6564  () is deprecated
-00007660: 2e20 506c 6561 7365 2075 7365 206c 696e  . Please use lin
-00007670: 5f69 6e74 6572 706f 6c61 7465 2829 220a  _interpolate()".
-00007680: 2020 2020 7072 696e 7428 225c 7831 625b      print("\x1b[
-00007690: 316d 5c78 3162 5b33 333b 316d 2022 202b  1m\x1b[33;1m " +
-000076a0: 206d 202b 2022 5c78 3162 5b30 6d22 290a   m + "\x1b[0m").
-000076b0: 2020 2020 7265 7475 726e 206c 696e 5f69      return lin_i
-000076c0: 6e74 6572 706f 6c61 7465 2878 2c20 7261  nterpolate(x, ra
-000076d0: 6e67 6558 2c20 7261 6e67 6559 290a 0a0a  ngeX, rangeY)...
-000076e0: 6465 6620 6c69 6e5f 696e 7465 7270 6f6c  def lin_interpol
-000076f0: 6174 6528 782c 2072 616e 6765 582c 2072  ate(x, rangeX, r
-00007700: 616e 6765 5929 3a0a 2020 2020 2222 220a  angeY):.    """.
-00007710: 2020 2020 496e 7465 7270 6f6c 6174 6520      Interpolate 
-00007720: 6c69 6e65 6172 6c79 2074 6865 2076 6172  linearly the var
-00007730: 6961 626c 6520 6078 6020 696e 2060 7261  iable `x` in `ra
-00007740: 6e67 6558 6020 6f6e 746f 2074 6865 206e  ngeX` onto the n
-00007750: 6577 2060 7261 6e67 6559 602e 0a20 2020  ew `rangeY`..   
-00007760: 2049 6620 6078 6020 6973 2061 2033 4420   If `x` is a 3D 
-00007770: 7665 6374 6f72 2074 6865 206c 696e 6561  vector the linea
-00007780: 7220 7765 6967 6874 2069 7320 7468 6520  r weight is the 
-00007790: 6469 7374 616e 6365 2074 6f20 7468 6520  distance to the 
-000077a0: 7477 6f20 3344 2060 7261 6e67 6558 6020  two 3D `rangeX` 
-000077b0: 7665 6374 6f72 732e 0a0a 2020 2020 452e  vectors...    E.
-000077c0: 672e 2069 6620 6078 6020 7275 6e73 2069  g. if `x` runs i
-000077d0: 6e20 6072 616e 6765 583d 5b78 302c 7831  n `rangeX=[x0,x1
-000077e0: 5d60 2061 6e64 2049 2077 616e 7420 6974  ]` and I want it
-000077f0: 2074 6f20 7275 6e20 696e 2060 7261 6e67   to run in `rang
-00007800: 6559 3d5b 7930 2c79 315d 6020 7468 656e  eY=[y0,y1]` then
-00007810: 0a0a 2020 2020 6079 203d 206c 696e 5f69  ..    `y = lin_i
-00007820: 6e74 6572 706f 6c61 7465 2878 2c20 7261  nterpolate(x, ra
-00007830: 6e67 6558 2c20 7261 6e67 6559 2960 2077  ngeX, rangeY)` w
-00007840: 696c 6c20 696e 7465 7270 6f6c 6174 6520  ill interpolate 
-00007850: 6078 6020 6f6e 746f 2060 7261 6e67 6559  `x` onto `rangeY
-00007860: 602e 0a0a 2020 2020 4578 616d 706c 6573  `...    Examples
-00007870: 3a0a 2020 2020 2020 2020 2d20 5b6c 696e  :.        - [lin
-00007880: 5f69 6e74 6572 706f 6c61 7465 2e70 795d  _interpolate.py]
-00007890: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000078a0: 636f 6d2f 6d61 7263 6f6d 7573 792f 7665  com/marcomusy/ve
-000078b0: 646f 2f74 7265 652f 6d61 7374 6572 2f65  do/tree/master/e
-000078c0: 7861 6d70 6c65 732f 6261 7369 632f 6c69  xamples/basic/li
-000078d0: 6e5f 696e 7465 7270 6f6c 6174 652e 7079  n_interpolate.py
-000078e0: 290a 0a20 2020 2020 2020 2020 2020 2021  )..            !
-000078f0: 5b5d 2868 7474 7073 3a2f 2f76 6564 6f2e  [](https://vedo.
-00007900: 656d 626c 2e65 732f 696d 6167 6573 2f62  embl.es/images/b
-00007910: 6173 6963 2f6c 696e 496e 7465 7270 6f6c  asic/linInterpol
-00007920: 6174 652e 706e 6729 0a20 2020 2022 2222  ate.png).    """
-00007930: 0a20 2020 2069 6620 6973 5f73 6571 7565  .    if is_seque
-00007940: 6e63 6528 7829 3a0a 2020 2020 2020 2020  nce(x):.        
-00007950: 7820 3d20 6e70 2e61 7361 7272 6179 2878  x = np.asarray(x
-00007960: 290a 2020 2020 2020 2020 7830 2c20 7831  ).        x0, x1
-00007970: 203d 206e 702e 6173 6172 7261 7928 7261   = np.asarray(ra
-00007980: 6e67 6558 290a 2020 2020 2020 2020 7930  ngeX).        y0
-00007990: 2c20 7931 203d 206e 702e 6173 6172 7261  , y1 = np.asarra
-000079a0: 7928 7261 6e67 6559 290a 2020 2020 2020  y(rangeY).      
-000079b0: 2020 6478 203d 2078 3120 2d20 7830 0a20    dx = x1 - x0. 
-000079c0: 2020 2020 2020 2064 786e 203d 206e 702e         dxn = np.
-000079d0: 6c69 6e61 6c67 2e6e 6f72 6d28 6478 290a  linalg.norm(dx).
-000079e0: 2020 2020 2020 2020 6966 206e 6f74 2064          if not d
-000079f0: 786e 3a0a 2020 2020 2020 2020 2020 2020  xn:.            
-00007a00: 7265 7475 726e 2079 300a 2020 2020 2020  return y0.      
-00007a10: 2020 7320 3d20 6e70 2e6c 696e 616c 672e    s = np.linalg.
-00007a20: 6e6f 726d 2878 202d 2078 3029 202f 2064  norm(x - x0) / d
-00007a30: 786e 0a20 2020 2020 2020 2074 203d 206e  xn.        t = n
-00007a40: 702e 6c69 6e61 6c67 2e6e 6f72 6d28 7820  p.linalg.norm(x 
-00007a50: 2d20 7831 2920 2f20 6478 6e0a 2020 2020  - x1) / dxn.    
-00007a60: 2020 2020 7374 203d 2073 202b 2074 0a20      st = s + t. 
-00007a70: 2020 2020 2020 206f 7574 203d 2079 3020         out = y0 
-00007a80: 2a20 2874 202f 2073 7429 202b 2079 3120  * (t / st) + y1 
-00007a90: 2a20 2873 202f 2073 7429 0a0a 2020 2020  * (s / st)..    
-00007aa0: 656c 7365 3a20 2023 2066 6173 7465 720a  else:  # faster.
-00007ab0: 0a20 2020 2020 2020 2078 3020 3d20 7261  .        x0 = ra
-00007ac0: 6e67 6558 5b30 5d0a 2020 2020 2020 2020  ngeX[0].        
-00007ad0: 6478 203d 2072 616e 6765 585b 315d 202d  dx = rangeX[1] -
-00007ae0: 2078 300a 2020 2020 2020 2020 6966 206e   x0.        if n
-00007af0: 6f74 2064 783a 0a20 2020 2020 2020 2020  ot dx:.         
-00007b00: 2020 2072 6574 7572 6e20 7261 6e67 6559     return rangeY
-00007b10: 5b30 5d0a 2020 2020 2020 2020 7320 3d20  [0].        s = 
-00007b20: 2878 202d 2078 3029 202f 2064 780a 2020  (x - x0) / dx.  
-00007b30: 2020 2020 2020 6f75 7420 3d20 7261 6e67        out = rang
-00007b40: 6559 5b30 5d20 2a20 2831 202d 2073 2920  eY[0] * (1 - s) 
-00007b50: 2b20 7261 6e67 6559 5b31 5d20 2a20 730a  + rangeY[1] * s.
-00007b60: 2020 2020 7265 7475 726e 206f 7574 0a0a      return out..
-00007b70: 0a64 6566 2067 6574 5f75 7628 702c 2078  .def get_uv(p, x
-00007b80: 2c20 7629 3a0a 2020 2020 2222 220a 2020  , v):.    """.  
-00007b90: 2020 4f62 7461 696e 2074 6865 2074 6578    Obtain the tex
-00007ba0: 7475 7265 2075 762d 636f 6f72 6473 206f  ture uv-coords o
-00007bb0: 6620 6120 706f 696e 7420 7020 6265 6c6f  f a point p belo
-00007bc0: 6e67 696e 6720 746f 2061 2066 6163 6520  nging to a face 
-00007bd0: 7468 6174 2068 6173 2070 6f69 6e74 0a20  that has point. 
-00007be0: 2020 2063 6f6f 7264 696e 6174 6573 2028     coordinates (
-00007bf0: 7830 2c20 7831 2c20 7832 2920 7769 7468  x0, x1, x2) with
-00007c00: 2074 6865 2063 6f72 7265 7370 6f6e 6469   the correspondi
-00007c10: 6e67 2075 762d 636f 6f72 6469 6e61 7465  ng uv-coordinate
-00007c20: 7320 763d 2876 302c 2076 312c 2076 3229  s v=(v0, v1, v2)
-00007c30: 2e0a 2020 2020 416c 6c20 7020 616e 6420  ..    All p and 
-00007c40: 7830 2c78 312c 7832 2061 7265 2033 442d  x0,x1,x2 are 3D-
-00007c50: 7665 6374 6f72 732c 2077 6869 6c65 2076  vectors, while v
-00007c60: 2061 7265 2074 6865 6972 2032 4420 7576   are their 2D uv
-00007c70: 2d63 6f6f 7264 696e 6174 6573 2e0a 0a20  -coordinates... 
-00007c80: 2020 2045 7861 6d70 6c65 3a0a 2020 2020     Example:.    
-00007c90: 2020 2020 6060 6070 7974 686f 6e0a 2020      ```python.  
-00007ca0: 2020 2020 2020 6672 6f6d 2076 6564 6f20        from vedo 
-00007cb0: 696d 706f 7274 202a 0a0a 2020 2020 2020  import *..      
-00007cc0: 2020 7069 6320 3d20 5069 6374 7572 6528    pic = Picture(
-00007cd0: 6461 7461 7572 6c2b 2263 6f6c 6f75 7265  dataurl+"coloure
-00007ce0: 645f 6375 6265 5f66 6163 6573 2e6a 7067  d_cube_faces.jpg
-00007cf0: 2229 0a20 2020 2020 2020 2063 6220 3d20  ").        cb = 
-00007d00: 4d65 7368 2864 6174 6175 726c 2b22 636f  Mesh(dataurl+"co
-00007d10: 6c6f 7572 6564 5f63 7562 652e 6f62 6a22  loured_cube.obj"
-00007d20: 292e 6c69 6768 7469 6e67 2822 6f66 6622  ).lighting("off"
-00007d30: 292e 7465 7874 7572 6528 7069 6329 0a0a  ).texture(pic)..
-00007d40: 2020 2020 2020 2020 6362 7074 7320 3d20          cbpts = 
-00007d50: 6362 2e70 6f69 6e74 7328 290a 2020 2020  cb.points().    
-00007d60: 2020 2020 6661 6365 7320 3d20 6362 2e66      faces = cb.f
-00007d70: 6163 6573 2829 0a20 2020 2020 2020 2075  aces().        u
-00007d80: 7620 3d20 6362 2e70 6f69 6e74 6461 7461  v = cb.pointdata
-00007d90: 5b22 4d61 7465 7269 616c 225d 0a0a 2020  ["Material"]..  
-00007da0: 2020 2020 2020 7074 203d 205b 2d30 2e32        pt = [-0.2
-00007db0: 2c20 302e 3735 2c20 325d 0a20 2020 2020  , 0.75, 2].     
-00007dc0: 2020 2070 7220 3d20 6362 2e63 6c6f 7365     pr = cb.close
-00007dd0: 7374 5f70 6f69 6e74 2870 7429 0a0a 2020  st_point(pt)..  
-00007de0: 2020 2020 2020 6964 6661 6365 203d 2063        idface = c
-00007df0: 622e 636c 6f73 6573 745f 706f 696e 7428  b.closest_point(
-00007e00: 7074 2c20 7265 7475 726e 5f63 656c 6c5f  pt, return_cell_
-00007e10: 6964 3d54 7275 6529 0a20 2020 2020 2020  id=True).       
-00007e20: 2069 6470 7473 203d 2066 6163 6573 5b69   idpts = faces[i
-00007e30: 6466 6163 655d 0a20 2020 2020 2020 2075  dface].        u
-00007e40: 765f 6661 6365 203d 2075 765b 6964 7074  v_face = uv[idpt
-00007e50: 735d 0a0a 2020 2020 2020 2020 7576 5f70  s]..        uv_p
-00007e60: 7220 3d20 7574 696c 732e 6765 745f 7576  r = utils.get_uv
-00007e70: 2870 722c 2063 6270 7473 5b69 6470 7473  (pr, cbpts[idpts
-00007e80: 5d2c 2075 765f 6661 6365 290a 2020 2020  ], uv_face).    
-00007e90: 2020 2020 7072 696e 7428 2269 6e74 6572      print("inter
-00007ea0: 706f 6c61 7465 6420 7576 203d 222c 2075  polated uv =", u
-00007eb0: 765f 7072 290a 0a20 2020 2020 2020 2073  v_pr)..        s
-00007ec0: 782c 2073 7920 3d20 7069 632e 6469 6d65  x, sy = pic.dime
-00007ed0: 6e73 696f 6e73 2829 0a20 2020 2020 2020  nsions().       
-00007ee0: 2069 5f69 6e74 6572 705f 7576 203d 2075   i_interp_uv = u
-00007ef0: 765f 7072 202a 205b 7379 2c20 7378 5d0a  v_pr * [sy, sx].
-00007f00: 2020 2020 2020 2020 6978 2c20 6979 203d          ix, iy =
-00007f10: 2069 5f69 6e74 6572 705f 7576 2e61 7374   i_interp_uv.ast
-00007f20: 7970 6528 696e 7429 0a20 2020 2020 2020  ype(int).       
-00007f30: 206d 7069 6320 3d20 7069 632e 746f 6d65   mpic = pic.tome
-00007f40: 7368 2829 0a20 2020 2020 2020 2072 6762  sh().        rgb
-00007f50: 6120 3d20 6d70 6963 2e70 6f69 6e74 6461  a = mpic.pointda
-00007f60: 7461 5b22 5247 4241 225d 2e72 6573 6861  ta["RGBA"].resha
-00007f70: 7065 2873 792c 2073 782c 2033 290a 2020  pe(sy, sx, 3).  
-00007f80: 2020 2020 2020 7072 696e 7428 2263 6f6c        print("col
-00007f90: 6f72 203d 222c 2072 6762 615b 6978 2c20  or =", rgba[ix, 
-00007fa0: 6979 5d29 0a0a 2020 2020 2020 2020 7368  iy])..        sh
-00007fb0: 6f77 280a 2020 2020 2020 2020 2020 2020  ow(.            
-00007fc0: 5b5b 6362 2c20 506f 696e 7428 7072 292c  [[cb, Point(pr),
-00007fd0: 2063 622e 6c61 6265 6c73 2822 4d61 7465   cb.labels("Mate
-00007fe0: 7269 616c 2229 5d2c 0a20 2020 2020 2020  rial")],.       
-00007ff0: 2020 2020 2020 2020 205b 7069 632c 2050           [pic, P
-00008000: 6f69 6e74 2869 5f69 6e74 6572 705f 7576  oint(i_interp_uv
-00008010: 295d 5d2c 0a20 2020 2020 2020 2020 2020  )]],.           
-00008020: 204e 3d32 2c20 6178 6573 3d31 2c20 7368   N=2, axes=1, sh
-00008030: 6172 6563 616d 3d46 616c 7365 2c0a 2020  arecam=False,.  
-00008040: 2020 2020 2020 292e 636c 6f73 6528 290a        ).close().
-00008050: 2020 2020 2020 2020 6060 600a 2020 2020          ```.    
-00008060: 2020 2020 215b 5d28 6874 7470 733a 2f2f      ![](https://
-00008070: 7665 646f 2e65 6d62 6c2e 6573 2f69 6d61  vedo.embl.es/ima
-00008080: 6765 732f 6665 6174 732f 7574 696c 735f  ges/feats/utils_
-00008090: 6765 745f 7576 2e70 6e67 290a 2020 2020  get_uv.png).    
-000080a0: 2222 220a 2020 2020 2320 5665 6374 6f72  """.    # Vector
-000080b0: 2076 703d 702d 7830 2069 7320 7265 7072   vp=p-x0 is repr
-000080c0: 6573 656e 7461 626c 6520 6173 2061 6c70  esentable as alp
-000080d0: 6861 2a73 202b 2062 6574 612a 742c 0a20  ha*s + beta*t,. 
-000080e0: 2020 2023 2077 6865 7265 2073 203d 2078     # where s = x
-000080f0: 312d 7830 2061 6e64 2074 203d 2078 322d  1-x0 and t = x2-
-00008100: 7830 2c20 696e 206d 6174 7269 7820 666f  x0, in matrix fo
-00008110: 726d 0a20 2020 2023 2076 7020 3d20 5b61  rm.    # vp = [a
-00008120: 6c70 6861 2c20 6265 7461 5d20 2e20 6d61  lpha, beta] . ma
-00008130: 7472 6978 2873 2c74 290a 2020 2020 2320  trix(s,t).    # 
-00008140: 4d20 3d20 6d61 7472 6978 2873 2c74 2920  M = matrix(s,t) 
-00008150: 6973 2032 7833 206d 6174 7269 782c 2073  is 2x3 matrix, s
-00008160: 6f20 2861 6c70 6861 2c20 6265 7461 2920  o (alpha, beta) 
-00008170: 6361 6e20 6265 2066 6f75 6e64 2062 790a  can be found by.
-00008180: 2020 2020 2320 696e 7665 7274 696e 6720      # inverting 
-00008190: 616e 7920 6f66 2069 7473 206d 696e 6f72  any of its minor
-000081a0: 2041 2077 6974 6820 6e6f 6e2d 7a65 726f   A with non-zero
-000081b0: 2064 6574 6572 6d69 6e61 6e74 2e0a 2020   determinant..  
-000081c0: 2020 2320 4f6e 6365 2066 6f75 6e64 2c20    # Once found, 
-000081d0: 7576 2d63 6f6f 7264 7320 6f66 2070 2061  uv-coords of p a
-000081e0: 7265 2076 7430 202b 2061 6c70 6861 2028  re vt0 + alpha (
-000081f0: 7674 312d 7630 2920 2b20 6265 7461 2028  vt1-v0) + beta (
-00008200: 7674 322d 7630 290a 0a20 2020 2070 203d  vt2-v0)..    p =
-00008210: 206e 702e 6173 6172 7261 7928 7029 0a20   np.asarray(p). 
-00008220: 2020 2078 302c 2078 312c 2078 3220 3d20     x0, x1, x2 = 
-00008230: 6e70 2e61 7361 7272 6179 2878 295b 3a33  np.asarray(x)[:3
-00008240: 5d0a 2020 2020 7674 302c 2076 7431 2c20  ].    vt0, vt1, 
-00008250: 7674 3220 3d20 6e70 2e61 7361 7272 6179  vt2 = np.asarray
-00008260: 2876 295b 3a33 5d0a 0a20 2020 2073 203d  (v)[:3]..    s =
-00008270: 2078 3120 2d20 7830 0a20 2020 2074 203d   x1 - x0.    t =
-00008280: 2078 3220 2d20 7830 0a20 2020 2076 7320   x2 - x0.    vs 
-00008290: 3d20 7674 3120 2d20 7674 300a 2020 2020  = vt1 - vt0.    
-000082a0: 7674 203d 2076 7432 202d 2076 7430 0a20  vt = vt2 - vt0. 
-000082b0: 2020 2076 7020 3d20 7020 2d20 7830 0a0a     vp = p - x0..
-000082c0: 2020 2020 2320 6669 6e64 696e 6720 6120      # finding a 
-000082d0: 6d69 6e6f 7220 7769 7468 2069 6e64 6570  minor with indep
-000082e0: 656e 6465 6e74 2072 6f77 730a 2020 2020  endent rows.    
-000082f0: 4d20 3d20 6e70 2e6d 6174 7269 7828 5b73  M = np.matrix([s
-00008300: 2c20 745d 290a 2020 2020 6d6e 7220 3d20  , t]).    mnr = 
-00008310: 5b30 2c20 315d 0a20 2020 2041 203d 204d  [0, 1].    A = M
-00008320: 5b3a 2c20 6d6e 725d 0a20 2020 2069 6620  [:, mnr].    if 
-00008330: 6e70 2e61 6273 286e 702e 6c69 6e61 6c67  np.abs(np.linalg
-00008340: 2e64 6574 2841 2929 203c 2030 2e30 3030  .det(A)) < 0.000
-00008350: 3030 313a 0a20 2020 2020 2020 206d 6e72  001:.        mnr
-00008360: 203d 205b 302c 2032 5d0a 2020 2020 2020   = [0, 2].      
-00008370: 2020 4120 3d20 4d5b 3a2c 206d 6e72 5d0a    A = M[:, mnr].
-00008380: 2020 2020 2020 2020 6966 206e 702e 6162          if np.ab
-00008390: 7328 6e70 2e6c 696e 616c 672e 6465 7428  s(np.linalg.det(
-000083a0: 4129 2920 3c20 302e 3030 3030 3031 3a0a  A)) < 0.000001:.
-000083b0: 2020 2020 2020 2020 2020 2020 6d6e 7220              mnr 
-000083c0: 3d20 5b31 2c20 325d 0a20 2020 2020 2020  = [1, 2].       
-000083d0: 2020 2020 2041 203d 204d 5b3a 2c20 6d6e       A = M[:, mn
-000083e0: 725d 0a20 2020 2041 696e 7620 3d20 6e70  r].    Ainv = np
-000083f0: 2e6c 696e 616c 672e 696e 7628 4129 0a20  .linalg.inv(A). 
-00008400: 2020 2061 6c70 6861 5f62 6574 6120 3d20     alpha_beta = 
-00008410: 7670 5b6d 6e72 5d2e 646f 7428 4169 6e76  vp[mnr].dot(Ainv
-00008420: 2920 2023 205b 616c 7068 612c 2062 6574  )  # [alpha, bet
-00008430: 615d 0a20 2020 2072 6574 7572 6e20 6e70  a].    return np
-00008440: 2e61 7361 7272 6179 2876 7430 202b 2061  .asarray(vt0 + a
-00008450: 6c70 6861 5f62 6574 612e 646f 7428 6e70  lpha_beta.dot(np
-00008460: 2e6d 6174 7269 7828 5b76 732c 2076 745d  .matrix([vs, vt]
-00008470: 2929 295b 305d 0a0a 0a64 6566 2076 6563  )))[0]...def vec
-00008480: 746f 7228 782c 2079 3d4e 6f6e 652c 207a  tor(x, y=None, z
-00008490: 3d30 2e30 2c20 6474 7970 653d 6e70 2e66  =0.0, dtype=np.f
-000084a0: 6c6f 6174 3634 293a 0a20 2020 2022 2222  loat64):.    """
-000084b0: 0a20 2020 2052 6574 7572 6e20 6120 3344  .    Return a 3D
-000084c0: 206e 756d 7079 2061 7272 6179 2072 6570   numpy array rep
-000084d0: 7265 7365 6e74 696e 6720 6120 7665 6374  resenting a vect
-000084e0: 6f72 2e0a 0a20 2020 2049 6620 6079 6020  or...    If `y` 
-000084f0: 6973 2060 4e6f 6e65 602c 2061 7373 756d  is `None`, assum
-00008500: 6520 696e 7075 7420 6973 2061 6c72 6561  e input is alrea
-00008510: 6479 2069 6e20 7468 6520 666f 726d 2060  dy in the form `
-00008520: 5b78 2c79 2c7a 5d60 2e0a 2020 2020 2222  [x,y,z]`..    ""
-00008530: 220a 2020 2020 6966 2079 2069 7320 4e6f  ".    if y is No
-00008540: 6e65 3a20 2023 2061 7373 756d 6520 7820  ne:  # assume x 
-00008550: 6973 2061 6c72 6561 6479 205b 782c 792c  is already [x,y,
-00008560: 7a5d 0a20 2020 2020 2020 2072 6574 7572  z].        retur
-00008570: 6e20 6e70 2e61 7361 7272 6179 2878 2c20  n np.asarray(x, 
-00008580: 6474 7970 653d 6474 7970 6529 0a20 2020  dtype=dtype).   
-00008590: 2072 6574 7572 6e20 6e70 2e61 7272 6179   return np.array
-000085a0: 285b 782c 2079 2c20 7a5d 2c20 6474 7970  ([x, y, z], dtyp
-000085b0: 653d 6474 7970 6529 0a0a 0a64 6566 2076  e=dtype)...def v
-000085c0: 6572 736f 7228 782c 2079 3d4e 6f6e 652c  ersor(x, y=None,
-000085d0: 207a 3d30 2e30 2c20 6474 7970 653d 6e70   z=0.0, dtype=np
-000085e0: 2e66 6c6f 6174 3634 293a 0a20 2020 2022  .float64):.    "
-000085f0: 2222 5265 7475 726e 2074 6865 2075 6e69  ""Return the uni
-00008600: 7420 7665 6374 6f72 2e20 496e 7075 7420  t vector. Input 
-00008610: 6361 6e20 6265 2061 206c 6973 7420 6f66  can be a list of
-00008620: 2076 6563 746f 7273 2e22 2222 0a20 2020   vectors.""".   
-00008630: 2076 203d 2076 6563 746f 7228 782c 2079   v = vector(x, y
-00008640: 2c20 7a2c 2064 7479 7065 290a 2020 2020  , z, dtype).    
-00008650: 6966 2069 7369 6e73 7461 6e63 6528 765b  if isinstance(v[
-00008660: 305d 2c20 6e70 2e6e 6461 7272 6179 293a  0], np.ndarray):
-00008670: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00008680: 6e70 2e64 6976 6964 6528 762c 206d 6167  np.divide(v, mag
-00008690: 2876 295b 3a2c 204e 6f6e 655d 290a 2020  (v)[:, None]).  
-000086a0: 2020 7265 7475 726e 2076 202f 206d 6167    return v / mag
-000086b0: 2876 290a 0a0a 6465 6620 6d61 6728 7629  (v)...def mag(v)
-000086c0: 3a0a 2020 2020 2222 2247 6574 2074 6865  :.    """Get the
-000086d0: 206d 6167 6e69 7475 6465 206f 6620 6120   magnitude of a 
-000086e0: 7665 6374 6f72 206f 7220 6172 7261 7920  vector or array 
-000086f0: 6f66 2076 6563 746f 7273 2e22 2222 0a20  of vectors.""". 
-00008700: 2020 2076 203d 206e 702e 6173 6172 7261     v = np.asarra
-00008710: 7928 7629 0a20 2020 2069 6620 762e 6e64  y(v).    if v.nd
-00008720: 696d 203d 3d20 313a 0a20 2020 2020 2020  im == 1:.       
-00008730: 2072 6574 7572 6e20 6e70 2e6c 696e 616c   return np.linal
-00008740: 672e 6e6f 726d 2876 290a 2020 2020 7265  g.norm(v).    re
-00008750: 7475 726e 206e 702e 6c69 6e61 6c67 2e6e  turn np.linalg.n
-00008760: 6f72 6d28 762c 2061 7869 733d 3129 0a0a  orm(v, axis=1)..
-00008770: 0a64 6566 206d 6167 3228 7629 3a0a 2020  .def mag2(v):.  
-00008780: 2020 2222 2247 6574 2074 6865 2073 7175    """Get the squ
-00008790: 6172 6564 206d 6167 6e69 7475 6465 206f  ared magnitude o
-000087a0: 6620 6120 7665 6374 6f72 206f 7220 6172  f a vector or ar
-000087b0: 7261 7920 6f66 2076 6563 746f 7273 2e22  ray of vectors."
-000087c0: 2222 0a20 2020 2076 203d 206e 702e 6173  "".    v = np.as
-000087d0: 6172 7261 7928 7629 0a20 2020 2069 6620  array(v).    if 
-000087e0: 762e 6e64 696d 203d 3d20 313a 0a20 2020  v.ndim == 1:.   
-000087f0: 2020 2020 2072 6574 7572 6e20 6e70 2e73       return np.s
-00008800: 7175 6172 6528 7629 2e73 756d 2829 0a20  quare(v).sum(). 
-00008810: 2020 2072 6574 7572 6e20 6e70 2e73 7175     return np.squ
-00008820: 6172 6528 7629 2e73 756d 2861 7869 733d  are(v).sum(axis=
-00008830: 3129 0a0a 0a64 6566 2069 735f 696e 7465  1)...def is_inte
-00008840: 6765 7228 6e29 3a0a 2020 2020 2222 2243  ger(n):.    """C
-00008850: 6865 636b 2069 6620 696e 7075 7420 6973  heck if input is
-00008860: 2061 6e20 696e 7465 6765 722e 2222 220a   an integer.""".
-00008870: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00008880: 2066 6c6f 6174 286e 290a 2020 2020 6578   float(n).    ex
-00008890: 6365 7074 2056 616c 7565 4572 726f 723a  cept ValueError:
-000088a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000088b0: 4661 6c73 650a 2020 2020 656c 7365 3a0a  False.    else:.
-000088c0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
-000088d0: 6c6f 6174 286e 292e 6973 5f69 6e74 6567  loat(n).is_integ
-000088e0: 6572 2829 0a0a 0a64 6566 2069 735f 6e75  er()...def is_nu
-000088f0: 6d62 6572 286e 293a 0a20 2020 2022 2222  mber(n):.    """
-00008900: 4368 6563 6b20 6966 2069 6e70 7574 2069  Check if input i
-00008910: 7320 6120 6e75 6d62 6572 2222 220a 2020  s a number""".  
-00008920: 2020 7472 793a 0a20 2020 2020 2020 2066    try:.        f
-00008930: 6c6f 6174 286e 290a 2020 2020 2020 2020  loat(n).        
-00008940: 7265 7475 726e 2054 7275 650a 2020 2020  return True.    
-00008950: 6578 6365 7074 2056 616c 7565 4572 726f  except ValueErro
-00008960: 723a 0a20 2020 2020 2020 2072 6574 7572  r:.        retur
-00008970: 6e20 4661 6c73 650a 0a0a 6465 6620 726f  n False...def ro
-00008980: 756e 645f 746f 5f64 6967 6974 2878 2c20  und_to_digit(x, 
-00008990: 7029 3a0a 2020 2020 2222 2252 6f75 6e64  p):.    """Round
-000089a0: 2061 2072 6561 6c20 6e75 6d62 6572 2074   a real number t
-000089b0: 6f20 7468 6520 7370 6563 6966 6965 6420  o the specified 
-000089c0: 6e75 6d62 6572 206f 6620 7369 676e 6966  number of signif
-000089d0: 6963 616e 7420 6469 6769 7473 2e22 2222  icant digits."""
-000089e0: 0a20 2020 2069 6620 6e6f 7420 783a 0a20  .    if not x:. 
-000089f0: 2020 2020 2020 2072 6574 7572 6e20 300a         return 0.
-00008a00: 2020 2020 7220 3d20 6e70 2e72 6f75 6e64      r = np.round
-00008a10: 2878 2c20 7020 2d20 696e 7428 6e70 2e66  (x, p - int(np.f
-00008a20: 6c6f 6f72 286e 702e 6c6f 6731 3028 6162  loor(np.log10(ab
-00008a30: 7328 7829 2929 2920 2d20 3129 0a20 2020  s(x)))) - 1).   
-00008a40: 2069 6620 696e 7428 7229 203d 3d20 723a   if int(r) == r:
-00008a50: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00008a60: 696e 7428 7229 0a20 2020 2072 6574 7572  int(r).    retur
-00008a70: 6e20 720a 0a0a 6465 6620 7061 636b 5370  n r...def packSp
-00008a80: 6865 7265 7328 626f 756e 6473 2c20 7261  heres(bounds, ra
-00008a90: 6469 7573 293a 0a20 2020 2022 4465 7072  dius):.    "Depr
-00008aa0: 6563 6174 6564 2e20 506c 6561 7365 2075  ecated. Please u
-00008ab0: 7365 2060 7061 636b 5f73 7068 6572 6573  se `pack_spheres
-00008ac0: 2829 6022 0a20 2020 206d 203d 2022 5761  ()`".    m = "Wa
-00008ad0: 726e 696e 6721 2070 6163 6b53 7068 6572  rning! packSpher
-00008ae0: 6573 2829 2069 7320 6465 7072 6563 6174  es() is deprecat
-00008af0: 6564 2e20 506c 6561 7365 2075 7365 2070  ed. Please use p
-00008b00: 6163 6b5f 7370 6865 7265 7328 2922 0a20  ack_spheres()". 
-00008b10: 2020 2070 7269 6e74 2822 5c78 3162 5b31     print("\x1b[1
-00008b20: 6d5c 7831 625b 3333 3b31 6d20 2220 2b20  m\x1b[33;1m " + 
-00008b30: 6d20 2b20 225c 7831 625b 306d 2229 0a20  m + "\x1b[0m"). 
-00008b40: 2020 2072 6574 7572 6e20 7061 636b 5f73     return pack_s
-00008b50: 7068 6572 6573 2862 6f75 6e64 732c 2072  pheres(bounds, r
-00008b60: 6164 6975 7329 0a0a 0a64 6566 2070 6163  adius)...def pac
-00008b70: 6b5f 7370 6865 7265 7328 626f 756e 6473  k_spheres(bounds
-00008b80: 2c20 7261 6469 7573 293a 0a20 2020 2022  , radius):.    "
-00008b90: 2222 0a20 2020 2050 6163 6b69 6e67 2073  "".    Packing s
-00008ba0: 7068 6572 6573 2069 6e74 6f20 6120 626f  pheres into a bo
-00008bb0: 756e 6469 6e67 2062 6f78 2e0a 2020 2020  unding box..    
-00008bc0: 5265 7475 726e 7320 6120 6e75 6d70 7920  Returns a numpy 
-00008bd0: 6172 7261 7920 6f66 2073 7068 6572 6520  array of sphere 
-00008be0: 6365 6e74 6572 732e 0a20 2020 2022 2222  centers..    """
-00008bf0: 0a20 2020 2068 203d 2030 2e38 3136 3439  .    h = 0.81649
-00008c00: 3635 202f 2032 0a20 2020 2064 203d 2030  65 / 2.    d = 0
-00008c10: 2e38 3636 3032 3534 0a20 2020 2061 203d  .8660254.    a =
-00008c20: 2030 2e32 3838 3637 3531 3335 0a0a 2020   0.288675135..  
-00008c30: 2020 6966 2069 735f 7365 7175 656e 6365    if is_sequence
-00008c40: 2862 6f75 6e64 7329 3a0a 2020 2020 2020  (bounds):.      
-00008c50: 2020 7830 2c20 7831 2c20 7930 2c20 7931    x0, x1, y0, y1
-00008c60: 2c20 7a30 2c20 7a31 203d 2062 6f75 6e64  , z0, z1 = bound
-00008c70: 730a 2020 2020 656c 7365 3a0a 2020 2020  s.    else:.    
-00008c80: 2020 2020 7830 2c20 7831 2c20 7930 2c20      x0, x1, y0, 
-00008c90: 7931 2c20 7a30 2c20 7a31 203d 2062 6f75  y1, z0, z1 = bou
-00008ca0: 6e64 732e 626f 756e 6473 2829 0a0a 2020  nds.bounds()..  
-00008cb0: 2020 7820 3d20 6e70 2e61 7261 6e67 6528    x = np.arange(
-00008cc0: 7830 2c20 7831 2c20 7261 6469 7573 290a  x0, x1, radius).
-00008cd0: 2020 2020 6e75 6c20 3d20 6e70 2e7a 6572      nul = np.zer
-00008ce0: 6f73 5f6c 696b 6528 7829 0a20 2020 206e  os_like(x).    n
-00008cf0: 7a20 3d20 696e 7428 287a 3120 2d20 7a30  z = int((z1 - z0
-00008d00: 2920 2f20 7261 6469 7573 202f 2068 202f  ) / radius / h /
-00008d10: 2032 202b 2031 2e35 290a 2020 2020 6e79   2 + 1.5).    ny
-00008d20: 203d 2069 6e74 2828 7931 202d 2079 3029   = int((y1 - y0)
-00008d30: 202f 2072 6164 6975 7320 2f20 6420 2b20   / radius / d + 
-00008d40: 312e 3529 0a0a 2020 2020 7074 7320 3d20  1.5)..    pts = 
-00008d50: 5b5d 0a20 2020 2066 6f72 2069 7a20 696e  [].    for iz in
-00008d60: 2072 616e 6765 286e 7a29 3a0a 2020 2020   range(nz):.    
-00008d70: 2020 2020 7a20 3d20 7a30 202b 206e 756c      z = z0 + nul
-00008d80: 202b 2069 7a20 2a20 6820 2a20 7261 6469   + iz * h * radi
-00008d90: 7573 0a20 2020 2020 2020 2064 782c 2064  us.        dx, d
-00008da0: 792c 2064 7a20 3d20 5b72 6164 6975 7320  y, dz = [radius 
-00008db0: 2a20 302e 352c 2072 6164 6975 7320 2a20  * 0.5, radius * 
-00008dc0: 612c 2069 7a20 2a20 6820 2a20 7261 6469  a, iz * h * radi
-00008dd0: 7573 5d0a 2020 2020 2020 2020 666f 7220  us].        for 
-00008de0: 6979 2069 6e20 7261 6e67 6528 6e79 293a  iy in range(ny):
-00008df0: 0a20 2020 2020 2020 2020 2020 2079 203d  .            y =
-00008e00: 2079 3020 2b20 6e75 6c20 2b20 6979 202a   y0 + nul + iy *
-00008e10: 2064 202a 2072 6164 6975 730a 2020 2020   d * radius.    
-00008e20: 2020 2020 2020 2020 6966 2069 7920 2520          if iy % 
-00008e30: 323a 0a20 2020 2020 2020 2020 2020 2020  2:.             
-00008e40: 2020 2078 7320 3d20 780a 2020 2020 2020     xs = x.      
-00008e50: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00008e60: 2020 2020 2020 2020 2020 2020 7873 203d              xs =
-00008e70: 2078 202b 2072 6164 6975 7320 2a20 302e   x + radius * 0.
-00008e80: 350a 2020 2020 2020 2020 2020 2020 6966  5.            if
-00008e90: 2069 7a20 2520 323a 0a20 2020 2020 2020   iz % 2:.       
-00008ea0: 2020 2020 2020 2020 2070 203d 206e 702e           p = np.
-00008eb0: 635f 5b78 732c 2079 2c20 7a5d 202b 205b  c_[xs, y, z] + [
-00008ec0: 6478 2c20 6479 2c20 647a 5d0a 2020 2020  dx, dy, dz].    
-00008ed0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00008ee0: 2020 2020 2020 2020 2020 2020 2020 7020                p 
-00008ef0: 3d20 6e70 2e63 5f5b 7873 2c20 792c 207a  = np.c_[xs, y, z
-00008f00: 5d20 2b20 5b30 2c20 302c 2064 7a5d 0a20  ] + [0, 0, dz]. 
-00008f10: 2020 2020 2020 2020 2020 2070 7473 202b             pts +
-00008f20: 3d20 702e 746f 6c69 7374 2829 0a20 2020  = p.tolist().   
-00008f30: 2072 6574 7572 6e20 6e70 2e61 7272 6179   return np.array
-00008f40: 2870 7473 290a 0a0a 6465 6620 7072 6563  (pts)...def prec
-00008f50: 6973 696f 6e28 782c 2070 2c20 7672 616e  ision(x, p, vran
-00008f60: 6765 3d4e 6f6e 652c 2064 656c 696d 6974  ge=None, delimit
-00008f70: 6572 3d22 6522 293a 0a20 2020 2022 2222  er="e"):.    """
-00008f80: 0a20 2020 2052 6574 7572 6e73 2061 2073  .    Returns a s
-00008f90: 7472 696e 6720 7265 7072 6573 656e 7461  tring representa
-00008fa0: 7469 6f6e 206f 6620 6078 6020 666f 726d  tion of `x` form
-00008fb0: 6174 7465 6420 746f 2070 7265 6369 7369  atted to precisi
-00008fc0: 6f6e 2060 7060 2e0a 0a20 2020 2053 6574  on `p`...    Set
-00008fd0: 2060 7672 616e 6765 6020 746f 2074 6865   `vrange` to the
-00008fe0: 2072 616e 6765 2069 6e20 7768 6963 6820   range in which 
-00008ff0: 7820 6578 6973 7473 2028 746f 2073 6e61  x exists (to sna
-00009000: 7020 7820 746f 2027 3027 2069 6620 6265  p x to '0' if be
-00009010: 6c6f 7720 7072 6563 6973 696f 6e29 2e0a  low precision)..
-00009020: 2020 2020 2222 220a 2020 2020 2320 4261      """.    # Ba
-00009030: 7365 6420 6f6e 2074 6865 2077 6562 6b69  sed on the webki
-00009040: 7420 6a61 7661 7363 7269 7074 2069 6d70  t javascript imp
-00009050: 6c65 6d65 6e74 6174 696f 6e0a 2020 2020  lementation.    
-00009060: 2320 6066 726f 6d20 6865 7265 203c 6874  # `from here <ht
-00009070: 7470 733a 2f2f 636f 6465 2e67 6f6f 676c  tps://code.googl
-00009080: 652e 636f 6d2f 702f 7765 626b 6974 2d6d  e.com/p/webkit-m
-00009090: 6972 726f 722f 736f 7572 6365 2f62 726f  irror/source/bro
-000090a0: 7773 652f 4a61 7661 5363 7269 7074 436f  wse/JavaScriptCo
-000090b0: 7265 2f6b 6a73 2f6e 756d 6265 725f 6f62  re/kjs/number_ob
-000090c0: 6a65 6374 2e63 7070 3e60 5f2c 0a20 2020  ject.cpp>`_,.   
-000090d0: 2023 2061 6e64 2069 6d70 6c65 6d65 6e74   # and implement
-000090e0: 6564 2062 7920 6072 616e 646c 6574 203c  ed by `randlet <
-000090f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00009100: 6f6d 2f72 616e 646c 6574 2f74 6f2d 7072  om/randlet/to-pr
-00009110: 6563 6973 696f 6e3e 605f 2e0a 2020 2020  ecision>`_..    
-00009120: 2320 4d6f 6469 6669 6564 2066 6f72 2076  # Modified for v
-00009130: 6564 6f20 6279 204d 2e4d 7573 7920 3230  edo by M.Musy 20
-00009140: 3230 0a0a 2020 2020 6966 2069 7369 6e73  20..    if isins
-00009150: 7461 6e63 6528 782c 2073 7472 293a 2020  tance(x, str):  
-00009160: 2320 646f 206e 6f74 6869 6e67 0a20 2020  # do nothing.   
-00009170: 2020 2020 2072 6574 7572 6e20 780a 0a20       return x.. 
-00009180: 2020 2069 6620 6973 5f73 6571 7565 6e63     if is_sequenc
-00009190: 6528 7829 3a0a 2020 2020 2020 2020 6f75  e(x):.        ou
-000091a0: 7420 3d20 2228 220a 2020 2020 2020 2020  t = "(".        
-000091b0: 6e6e 203d 206c 656e 2878 2920 2d20 310a  nn = len(x) - 1.
-000091c0: 2020 2020 2020 2020 666f 7220 692c 2069          for i, i
-000091d0: 7820 696e 2065 6e75 6d65 7261 7465 2878  x in enumerate(x
-000091e0: 293a 0a0a 2020 2020 2020 2020 2020 2020  ):..            
-000091f0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00009200: 2020 2020 2069 6620 6e70 2e69 736e 616e       if np.isnan
-00009210: 2869 7829 3a0a 2020 2020 2020 2020 2020  (ix):.          
-00009220: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00009230: 2022 4e61 4e22 0a20 2020 2020 2020 2020   "NaN".         
-00009240: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
-00009250: 2020 2020 2020 2020 2020 2023 2063 616e             # can
-00009260: 6e6f 7420 6861 6e64 6c65 206c 6973 7420  not handle list 
-00009270: 6f66 206c 6973 740a 2020 2020 2020 2020  of list.        
-00009280: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
-00009290: 0a0a 2020 2020 2020 2020 2020 2020 6f75  ..            ou
-000092a0: 7420 2b3d 2070 7265 6369 7369 6f6e 2869  t += precision(i
-000092b0: 782c 2070 290a 2020 2020 2020 2020 2020  x, p).          
-000092c0: 2020 6966 2069 203c 206e 6e3a 0a20 2020    if i < nn:.   
-000092d0: 2020 2020 2020 2020 2020 2020 206f 7574               out
-000092e0: 202b 3d20 222c 2022 0a20 2020 2020 2020   += ", ".       
-000092f0: 2072 6574 7572 6e20 6f75 7420 2b20 2229   return out + ")
-00009300: 2220 2023 2323 2323 2323 2323 2323 2320  "  ############ 
-00009310: 3c2d 2d0a 0a20 2020 2069 6620 6e70 2e69  <--..    if np.i
-00009320: 736e 616e 2878 293a 0a20 2020 2020 2020  snan(x):.       
-00009330: 2072 6574 7572 6e20 224e 614e 220a 0a20   return "NaN".. 
-00009340: 2020 2078 203d 2066 6c6f 6174 2878 290a     x = float(x).
-00009350: 0a20 2020 2069 6620 7820 3d3d 2030 2e30  .    if x == 0.0
-00009360: 206f 7220 2876 7261 6e67 6520 6973 206e   or (vrange is n
-00009370: 6f74 204e 6f6e 6520 616e 6420 6162 7328  ot None and abs(
-00009380: 7829 203c 2076 7261 6e67 6520 2f20 706f  x) < vrange / po
-00009390: 7728 3130 2c20 7029 293a 0a20 2020 2020  w(10, p)):.     
-000093a0: 2020 2072 6574 7572 6e20 2230 220a 0a20     return "0".. 
-000093b0: 2020 206f 7574 203d 205b 5d0a 2020 2020     out = [].    
-000093c0: 6966 2078 203c 2030 3a0a 2020 2020 2020  if x < 0:.      
-000093d0: 2020 6f75 742e 6170 7065 6e64 2822 2d22    out.append("-"
-000093e0: 290a 2020 2020 2020 2020 7820 3d20 2d78  ).        x = -x
-000093f0: 0a0a 2020 2020 6520 3d20 696e 7428 6d61  ..    e = int(ma
-00009400: 7468 2e6c 6f67 3130 2878 2929 0a20 2020  th.log10(x)).   
-00009410: 2074 656e 7320 3d20 6d61 7468 2e70 6f77   tens = math.pow
-00009420: 2831 302c 2065 202d 2070 202b 2031 290a  (10, e - p + 1).
-00009430: 2020 2020 6e20 3d20 6d61 7468 2e66 6c6f      n = math.flo
-00009440: 6f72 2878 202f 2074 656e 7329 0a0a 2020  or(x / tens)..  
-00009450: 2020 6966 206e 203c 206d 6174 682e 706f    if n < math.po
-00009460: 7728 3130 2c20 7020 2d20 3129 3a0a 2020  w(10, p - 1):.  
-00009470: 2020 2020 2020 6520 3d20 6520 2d20 310a        e = e - 1.
-00009480: 2020 2020 2020 2020 7465 6e73 203d 206d          tens = m
-00009490: 6174 682e 706f 7728 3130 2c20 6520 2d20  ath.pow(10, e - 
-000094a0: 7020 2b20 3129 0a20 2020 2020 2020 206e  p + 1).        n
-000094b0: 203d 206d 6174 682e 666c 6f6f 7228 7820   = math.floor(x 
-000094c0: 2f20 7465 6e73 290a 0a20 2020 2069 6620  / tens)..    if 
-000094d0: 6162 7328 286e 202b 2031 2e30 2920 2a20  abs((n + 1.0) * 
-000094e0: 7465 6e73 202d 2078 2920 3c3d 2061 6273  tens - x) <= abs
-000094f0: 286e 202a 2074 656e 7320 2d20 7829 3a0a  (n * tens - x):.
-00009500: 2020 2020 2020 2020 6e20 3d20 6e20 2b20          n = n + 
-00009510: 310a 0a20 2020 2069 6620 6e20 3e3d 206d  1..    if n >= m
-00009520: 6174 682e 706f 7728 3130 2c20 7029 3a0a  ath.pow(10, p):.
-00009530: 2020 2020 2020 2020 6e20 3d20 6e20 2f20          n = n / 
-00009540: 3130 2e30 0a20 2020 2020 2020 2065 203d  10.0.        e =
-00009550: 2065 202b 2031 0a0a 2020 2020 6d20 3d20   e + 1..    m = 
-00009560: 2225 2e2a 6722 2025 2028 702c 206e 290a  "%.*g" % (p, n).
-00009570: 2020 2020 6966 2065 203c 202d 3220 6f72      if e < -2 or
-00009580: 2065 203e 3d20 703a 0a20 2020 2020 2020   e >= p:.       
-00009590: 206f 7574 2e61 7070 656e 6428 6d5b 305d   out.append(m[0]
-000095a0: 290a 2020 2020 2020 2020 6966 2070 203e  ).        if p >
-000095b0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-000095c0: 6f75 742e 6170 7065 6e64 2822 2e22 290a  out.append(".").
-000095d0: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
-000095e0: 6578 7465 6e64 286d 5b31 3a70 5d29 0a20  extend(m[1:p]). 
-000095f0: 2020 2020 2020 206f 7574 2e61 7070 656e         out.appen
-00009600: 6428 6465 6c69 6d69 7465 7229 0a20 2020  d(delimiter).   
-00009610: 2020 2020 2069 6620 6520 3e20 303a 0a20       if e > 0:. 
-00009620: 2020 2020 2020 2020 2020 206f 7574 2e61             out.a
-00009630: 7070 656e 6428 222b 2229 0a20 2020 2020  ppend("+").     
-00009640: 2020 206f 7574 2e61 7070 656e 6428 7374     out.append(st
-00009650: 7228 6529 290a 2020 2020 656c 6966 2065  r(e)).    elif e
-00009660: 203d 3d20 2870 202d 2031 293a 0a20 2020   == (p - 1):.   
-00009670: 2020 2020 206f 7574 2e61 7070 656e 6428       out.append(
-00009680: 6d29 0a20 2020 2065 6c69 6620 6520 3e3d  m).    elif e >=
-00009690: 2030 3a0a 2020 2020 2020 2020 6f75 742e   0:.        out.
-000096a0: 6170 7065 6e64 286d 5b3a 2065 202b 2031  append(m[: e + 1
-000096b0: 5d29 0a20 2020 2020 2020 2069 6620 6520  ]).        if e 
-000096c0: 2b20 3120 3c20 6c65 6e28 6d29 3a0a 2020  + 1 < len(m):.  
-000096d0: 2020 2020 2020 2020 2020 6f75 742e 6170            out.ap
-000096e0: 7065 6e64 2822 2e22 290a 2020 2020 2020  pend(".").      
-000096f0: 2020 2020 2020 6f75 742e 6578 7465 6e64        out.extend
-00009700: 286d 5b65 202b 2031 203a 5d29 0a20 2020  (m[e + 1 :]).   
-00009710: 2065 6c73 653a 0a20 2020 2020 2020 206f   else:.        o
-00009720: 7574 2e61 7070 656e 6428 2230 2e22 290a  ut.append("0.").
-00009730: 2020 2020 2020 2020 6f75 742e 6578 7465          out.exte
-00009740: 6e64 285b 2230 225d 202a 202d 2865 202b  nd(["0"] * -(e +
-00009750: 2031 2929 0a20 2020 2020 2020 206f 7574   1)).        out
-00009760: 2e61 7070 656e 6428 6d29 0a20 2020 2072  .append(m).    r
-00009770: 6574 7572 6e20 2222 2e6a 6f69 6e28 6f75  eturn "".join(ou
-00009780: 7429 0a0a 0a23 2323 2323 2323 2323 2323  t)...###########
-00009790: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000097a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000097b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000097c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000097d0: 2323 2323 2323 230a 2320 3264 2023 2323  #######.# 2d ###
-000097e0: 2323 230a 6465 6620 6361 7274 3270 6f6c  ###.def cart2pol
-000097f0: 2878 2c20 7929 3a0a 2020 2020 2222 2232  (x, y):.    """2
-00009800: 4420 4361 7274 6573 6961 6e20 746f 2050  D Cartesian to P
-00009810: 6f6c 6172 2063 6f6f 7264 696e 6174 6573  olar coordinates
-00009820: 2063 6f6e 7665 7273 696f 6e2e 2222 220a   conversion.""".
-00009830: 2020 2020 7468 6574 6120 3d20 6e70 2e61      theta = np.a
-00009840: 7263 7461 6e32 2879 2c20 7829 0a20 2020  rctan2(y, x).   
-00009850: 2072 686f 203d 206e 702e 6879 706f 7428   rho = np.hypot(
-00009860: 782c 2079 290a 2020 2020 7265 7475 726e  x, y).    return
-00009870: 206e 702e 6172 7261 7928 5b72 686f 2c20   np.array([rho, 
-00009880: 7468 6574 615d 290a 0a0a 6465 6620 706f  theta])...def po
-00009890: 6c32 6361 7274 2872 686f 2c20 7468 6574  l2cart(rho, thet
-000098a0: 6129 3a0a 2020 2020 2222 2232 4420 506f  a):.    """2D Po
-000098b0: 6c61 7220 746f 2043 6172 7465 7369 616e  lar to Cartesian
-000098c0: 2063 6f6f 7264 696e 6174 6573 2063 6f6e   coordinates con
-000098d0: 7665 7273 696f 6e2e 2222 220a 2020 2020  version.""".    
-000098e0: 7820 3d20 7268 6f20 2a20 6e70 2e63 6f73  x = rho * np.cos
-000098f0: 2874 6865 7461 290a 2020 2020 7920 3d20  (theta).    y = 
-00009900: 7268 6f20 2a20 6e70 2e73 696e 2874 6865  rho * np.sin(the
-00009910: 7461 290a 2020 2020 7265 7475 726e 206e  ta).    return n
-00009920: 702e 6172 7261 7928 5b78 2c20 795d 290a  p.array([x, y]).
-00009930: 0a0a 2320 3364 2023 2323 2323 230a 6465  ..# 3d ######.de
-00009940: 6620 6361 7274 3273 7068 6572 2878 2c20  f cart2spher(x, 
-00009950: 792c 207a 293a 0a20 2020 2022 2222 3344  y, z):.    """3D
-00009960: 2043 6172 7465 7369 616e 2074 6f20 5370   Cartesian to Sp
-00009970: 6865 7269 6361 6c20 636f 6f72 6469 6e61  herical coordina
-00009980: 7465 2063 6f6e 7665 7273 696f 6e2e 2222  te conversion.""
-00009990: 220a 2020 2020 6878 7920 3d20 6e70 2e68  ".    hxy = np.h
-000099a0: 7970 6f74 2878 2c20 7929 0a20 2020 2072  ypot(x, y).    r
-000099b0: 686f 203d 206e 702e 6879 706f 7428 6878  ho = np.hypot(hx
-000099c0: 792c 207a 290a 2020 2020 7468 6574 6120  y, z).    theta 
-000099d0: 3d20 6e70 2e61 7263 7461 6e32 2868 7879  = np.arctan2(hxy
-000099e0: 2c20 7a29 0a20 2020 2070 6869 203d 206e  , z).    phi = n
-000099f0: 702e 6172 6374 616e 3228 792c 2078 290a  p.arctan2(y, x).
-00009a00: 2020 2020 7265 7475 726e 206e 702e 6172      return np.ar
-00009a10: 7261 7928 5b72 686f 2c20 7468 6574 612c  ray([rho, theta,
-00009a20: 2070 6869 5d29 0a0a 0a64 6566 2073 7068   phi])...def sph
-00009a30: 6572 3263 6172 7428 7268 6f2c 2074 6865  er2cart(rho, the
-00009a40: 7461 2c20 7068 6929 3a0a 2020 2020 2222  ta, phi):.    ""
-00009a50: 2233 4420 5370 6865 7269 6361 6c20 746f  "3D Spherical to
-00009a60: 2043 6172 7465 7369 616e 2063 6f6f 7264   Cartesian coord
-00009a70: 696e 6174 6520 636f 6e76 6572 7369 6f6e  inate conversion
-00009a80: 2e22 2222 0a20 2020 2073 7420 3d20 6e70  .""".    st = np
-00009a90: 2e73 696e 2874 6865 7461 290a 2020 2020  .sin(theta).    
-00009aa0: 7370 203d 206e 702e 7369 6e28 7068 6929  sp = np.sin(phi)
-00009ab0: 0a20 2020 2063 7420 3d20 6e70 2e63 6f73  .    ct = np.cos
-00009ac0: 2874 6865 7461 290a 2020 2020 6370 203d  (theta).    cp =
-00009ad0: 206e 702e 636f 7328 7068 6929 0a20 2020   np.cos(phi).   
-00009ae0: 2072 7374 203d 2072 686f 202a 2073 740a   rst = rho * st.
-00009af0: 2020 2020 7820 3d20 7273 7420 2a20 6370      x = rst * cp
-00009b00: 0a20 2020 2079 203d 2072 7374 202a 2073  .    y = rst * s
-00009b10: 700a 2020 2020 7a20 3d20 7268 6f20 2a20  p.    z = rho * 
-00009b20: 6374 0a20 2020 2072 6574 7572 6e20 6e70  ct.    return np
-00009b30: 2e61 7272 6179 285b 782c 2079 2c20 7a5d  .array([x, y, z]
-00009b40: 290a 0a0a 6465 6620 6361 7274 3263 796c  )...def cart2cyl
-00009b50: 2878 2c20 792c 207a 293a 0a20 2020 2022  (x, y, z):.    "
-00009b60: 2222 3344 2043 6172 7465 7369 616e 2074  ""3D Cartesian t
-00009b70: 6f20 4379 6c69 6e64 7269 6361 6c20 636f  o Cylindrical co
-00009b80: 6f72 6469 6e61 7465 2063 6f6e 7665 7273  ordinate convers
-00009b90: 696f 6e2e 2222 220a 2020 2020 7268 6f20  ion.""".    rho 
-00009ba0: 3d20 6e70 2e73 7172 7428 7820 2a20 7820  = np.sqrt(x * x 
-00009bb0: 2b20 7920 2a20 7929 0a20 2020 2074 6865  + y * y).    the
-00009bc0: 7461 203d 206e 702e 6172 6374 616e 3228  ta = np.arctan2(
-00009bd0: 792c 2078 290a 2020 2020 7265 7475 726e  y, x).    return
-00009be0: 206e 702e 6172 7261 7928 5b72 686f 2c20   np.array([rho, 
-00009bf0: 7468 6574 612c 207a 5d29 0a0a 0a64 6566  theta, z])...def
-00009c00: 2063 796c 3263 6172 7428 7268 6f2c 2074   cyl2cart(rho, t
-00009c10: 6865 7461 2c20 7a29 3a0a 2020 2020 2222  heta, z):.    ""
-00009c20: 2233 4420 4379 6c69 6e64 7269 6361 6c20  "3D Cylindrical 
-00009c30: 746f 2043 6172 7465 7369 616e 2063 6f6f  to Cartesian coo
-00009c40: 7264 696e 6174 6520 636f 6e76 6572 7369  rdinate conversi
-00009c50: 6f6e 2e22 2222 0a20 2020 2078 203d 2072  on.""".    x = r
-00009c60: 686f 202a 206e 702e 636f 7328 7468 6574  ho * np.cos(thet
-00009c70: 6129 0a20 2020 2079 203d 2072 686f 202a  a).    y = rho *
-00009c80: 206e 702e 7369 6e28 7468 6574 6129 0a20   np.sin(theta). 
-00009c90: 2020 2072 6574 7572 6e20 6e70 2e61 7272     return np.arr
-00009ca0: 6179 285b 782c 2079 2c20 7a5d 290a 0a0a  ay([x, y, z])...
-00009cb0: 6465 6620 6379 6c32 7370 6865 7228 7268  def cyl2spher(rh
-00009cc0: 6f2c 2074 6865 7461 2c20 7a29 3a0a 2020  o, theta, z):.  
-00009cd0: 2020 2222 2233 4420 4379 6c69 6e64 7269    """3D Cylindri
-00009ce0: 6361 6c20 746f 2053 7068 6572 6963 616c  cal to Spherical
-00009cf0: 2063 6f6f 7264 696e 6174 6520 636f 6e76   coordinate conv
-00009d00: 6572 7369 6f6e 2e22 2222 0a20 2020 2072  ersion.""".    r
-00009d10: 686f 7320 3d20 6e70 2e73 7172 7428 7268  hos = np.sqrt(rh
-00009d20: 6f20 2a20 7268 6f20 2b20 7a20 2a20 7a29  o * rho + z * z)
-00009d30: 0a20 2020 2070 6869 203d 206e 702e 6172  .    phi = np.ar
-00009d40: 6374 616e 3228 7268 6f2c 207a 290a 2020  ctan2(rho, z).  
-00009d50: 2020 7265 7475 726e 206e 702e 6172 7261    return np.arra
-00009d60: 7928 5b72 686f 732c 2070 6869 2c20 7468  y([rhos, phi, th
-00009d70: 6574 615d 290a 0a0a 6465 6620 7370 6865  eta])...def sphe
-00009d80: 7232 6379 6c28 7268 6f2c 2074 6865 7461  r2cyl(rho, theta
-00009d90: 2c20 7068 6929 3a0a 2020 2020 2222 2233  , phi):.    """3
-00009da0: 4420 5370 6865 7269 6361 6c20 746f 2043  D Spherical to C
-00009db0: 796c 696e 6472 6963 616c 2063 6f6f 7264  ylindrical coord
-00009dc0: 696e 6174 6520 636f 6e76 6572 7369 6f6e  inate conversion
-00009dd0: 2e22 2222 0a20 2020 2072 686f 6320 3d20  .""".    rhoc = 
-00009de0: 7268 6f20 2a20 6e70 2e73 696e 2874 6865  rho * np.sin(the
-00009df0: 7461 290a 2020 2020 7a20 3d20 7268 6f20  ta).    z = rho 
-00009e00: 2a20 6e70 2e63 6f73 2874 6865 7461 290a  * np.cos(theta).
-00009e10: 2020 2020 7265 7475 726e 206e 702e 6172      return np.ar
-00009e20: 7261 7928 5b72 686f 632c 2070 6869 2c20  ray([rhoc, phi, 
-00009e30: 7a5d 290a 0a0a 2323 2323 2323 2323 2323  z])...##########
-00009e40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00009e50: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00009e60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00009e70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00009e80: 2323 2323 2323 2323 0a64 6566 2067 7265  ########.def gre
-00009e90: 7028 6669 6c65 6e61 6d65 2c20 7461 672c  p(filename, tag,
-00009ea0: 2066 6972 7374 5f6f 6363 7572 7265 6e63   first_occurrenc
-00009eb0: 655f 6f6e 6c79 3d46 616c 7365 293a 0a20  e_only=False):. 
-00009ec0: 2020 2022 2222 4772 6570 7320 7468 6520     """Greps the 
-00009ed0: 6c69 6e65 2069 6e20 6120 6669 6c65 2074  line in a file t
-00009ee0: 6861 7420 7374 6172 7473 2077 6974 6820  hat starts with 
-00009ef0: 6120 7370 6563 6966 6963 2060 7461 6760  a specific `tag`
-00009f00: 2073 7472 696e 6720 696e 7369 6465 2074   string inside t
-00009f10: 6865 2066 696c 652e 2222 220a 2020 2020  he file.""".    
-00009f20: 696d 706f 7274 2072 650a 0a20 2020 2077  import re..    w
-00009f30: 6974 6820 6f70 656e 2866 696c 656e 616d  ith open(filenam
-00009f40: 652c 2022 7222 2c20 656e 636f 6469 6e67  e, "r", encoding
-00009f50: 3d22 5554 462d 3822 2920 6173 2061 6669  ="UTF-8") as afi
-00009f60: 6c65 3a0a 2020 2020 2020 2020 636f 6e74  le:.        cont
-00009f70: 656e 7420 3d20 5b5d 0a20 2020 2020 2020  ent = [].       
-00009f80: 2066 6f72 206c 696e 6520 696e 2061 6669   for line in afi
-00009f90: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-00009fa0: 6966 2072 652e 7365 6172 6368 2874 6167  if re.search(tag
-00009fb0: 2c20 6c69 6e65 293a 0a20 2020 2020 2020  , line):.       
-00009fc0: 2020 2020 2020 2020 2063 203d 206c 696e           c = lin
-00009fd0: 652e 7370 6c69 7428 290a 2020 2020 2020  e.split().      
-00009fe0: 2020 2020 2020 2020 2020 635b 2d31 5d20            c[-1] 
-00009ff0: 3d20 635b 2d31 5d2e 7265 706c 6163 6528  = c[-1].replace(
-0000a000: 225c 6e22 2c20 2222 290a 2020 2020 2020  "\n", "").      
-0000a010: 2020 2020 2020 2020 2020 636f 6e74 656e            conten
-0000a020: 742e 6170 7065 6e64 2863 290a 2020 2020  t.append(c).    
-0000a030: 2020 2020 2020 2020 2020 2020 6966 2066              if f
-0000a040: 6972 7374 5f6f 6363 7572 7265 6e63 655f  irst_occurrence_
-0000a050: 6f6e 6c79 3a0a 2020 2020 2020 2020 2020  only:.          
-0000a060: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
-0000a070: 2020 2020 7265 7475 726e 2063 6f6e 7465      return conte
-0000a080: 6e74 0a0a 0a64 6566 2070 7269 6e74 5f69  nt...def print_i
-0000a090: 6e66 6f28 6f62 6a29 3a0a 2020 2020 2222  nfo(obj):.    ""
-0000a0a0: 2250 7269 6e74 2069 6e66 6f72 6d61 7469  "Print informati
-0000a0b0: 6f6e 2061 626f 7574 2061 2060 7665 646f  on about a `vedo
-0000a0c0: 6020 6f62 6a65 6374 2e22 2222 0a0a 2020  ` object."""..  
-0000a0d0: 2020 6465 6620 5f70 7269 6e74 5f64 6174    def _print_dat
-0000a0e0: 6128 706f 6c79 2c20 6d61 7070 6572 2c20  a(poly, mapper, 
-0000a0f0: 6329 3a0a 2020 2020 2020 2020 7074 6461  c):.        ptda
-0000a100: 7461 203d 2070 6f6c 792e 4765 7450 6f69  ta = poly.GetPoi
-0000a110: 6e74 4461 7461 2829 0a20 2020 2020 2020  ntData().       
-0000a120: 2063 6c64 6174 6120 3d20 706f 6c79 2e47   cldata = poly.G
-0000a130: 6574 4365 6c6c 4461 7461 2829 0a20 2020  etCellData().   
-0000a140: 2020 2020 2066 6c64 6174 6120 3d20 706f       fldata = po
-0000a150: 6c79 2e47 6574 4669 656c 6444 6174 6128  ly.GetFieldData(
-0000a160: 290a 2020 2020 2020 2020 6966 2070 7464  ).        if ptd
-0000a170: 6174 612e 4765 744e 756d 6265 724f 6641  ata.GetNumberOfA
-0000a180: 7272 6179 7328 2920 2b20 636c 6461 7461  rrays() + cldata
-0000a190: 2e47 6574 4e75 6d62 6572 4f66 4172 7261  .GetNumberOfArra
-0000a1a0: 7973 2829 3a0a 2020 2020 2020 2020 2020  ys():.          
-0000a1b0: 2020 6172 7274 7970 6573 203d 207b 7d0a    arrtypes = {}.
-0000a1c0: 2020 2020 2020 2020 2020 2020 6172 7274              arrt
-0000a1d0: 7970 6573 5b76 746b 2e56 544b 5f55 4e53  ypes[vtk.VTK_UNS
-0000a1e0: 4947 4e45 445f 4348 4152 5d20 3d20 2822  IGNED_CHAR] = ("
-0000a1f0: 554e 5349 474e 4544 5f43 4841 5222 2c20  UNSIGNED_CHAR", 
-0000a200: 2022 6e70 2e75 696e 7438 2229 0a20 2020   "np.uint8").   
-0000a210: 2020 2020 2020 2020 2061 7272 7479 7065           arrtype
-0000a220: 735b 7674 6b2e 5654 4b5f 554e 5349 474e  s[vtk.VTK_UNSIGN
-0000a230: 4544 5f53 484f 5254 5d3d 2028 2255 4e53  ED_SHORT]= ("UNS
-0000a240: 4947 4e45 445f 5348 4f52 5422 2c20 226e  IGNED_SHORT", "n
-0000a250: 702e 7569 6e74 3136 2229 0a20 2020 2020  p.uint16").     
-0000a260: 2020 2020 2020 2061 7272 7479 7065 735b         arrtypes[
-0000a270: 7674 6b2e 5654 4b5f 554e 5349 474e 4544  vtk.VTK_UNSIGNED
-0000a280: 5f49 4e54 5d20 203d 2028 2255 4e53 4947  _INT]  = ("UNSIG
-0000a290: 4e45 445f 494e 5422 2c20 2020 226e 702e  NED_INT",   "np.
-0000a2a0: 7569 6e74 3332 2229 0a20 2020 2020 2020  uint32").       
-0000a2b0: 2020 2020 2061 7272 7479 7065 735b 7674       arrtypes[vt
-0000a2c0: 6b2e 5654 4b5f 554e 5349 474e 4544 5f4c  k.VTK_UNSIGNED_L
-0000a2d0: 4f4e 475f 4c4f 4e47 5d20 3d20 2822 554e  ONG_LONG] = ("UN
-0000a2e0: 5349 474e 4544 5f4c 4f4e 475f 4c4f 4e47  SIGNED_LONG_LONG
-0000a2f0: 222c 2022 6e70 2e75 696e 7436 3422 290a  ", "np.uint64").
-0000a300: 2020 2020 2020 2020 2020 2020 6172 7274              arrt
-0000a310: 7970 6573 5b76 746b 2e56 544b 5f43 4841  ypes[vtk.VTK_CHA
-0000a320: 525d 2020 2020 2020 2020 2020 3d20 2822  R]          = ("
-0000a330: 4348 4152 222c 2020 2020 2020 2020 2020  CHAR",          
-0000a340: 2022 6e70 2e69 6e74 3822 290a 2020 2020   "np.int8").    
-0000a350: 2020 2020 2020 2020 6172 7274 7970 6573          arrtypes
-0000a360: 5b76 746b 2e56 544b 5f53 484f 5254 5d20  [vtk.VTK_SHORT] 
-0000a370: 2020 2020 2020 2020 3d20 2822 5348 4f52          = ("SHOR
-0000a380: 5422 2c20 2020 2020 2020 2020 2022 6e70  T",          "np
-0000a390: 2e69 6e74 3136 2229 0a20 2020 2020 2020  .int16").       
-0000a3a0: 2020 2020 2061 7272 7479 7065 735b 7674       arrtypes[vt
-0000a3b0: 6b2e 5654 4b5f 494e 545d 2020 2020 2020  k.VTK_INT]      
-0000a3c0: 2020 2020 203d 2028 2249 4e54 222c 2020       = ("INT",  
-0000a3d0: 2020 2020 2020 2020 2020 226e 702e 696e            "np.in
-0000a3e0: 7433 3222 290a 2020 2020 2020 2020 2020  t32").          
-0000a3f0: 2020 6172 7274 7970 6573 5b76 746b 2e56    arrtypes[vtk.V
-0000a400: 544b 5f4c 4f4e 475d 2020 2020 2020 2020  TK_LONG]        
-0000a410: 2020 3d20 2822 4c4f 4e47 222c 2020 2020    = ("LONG",    
-0000a420: 2020 2020 2020 2022 2229 2023 203f 3f0a         "") # ??.
-0000a430: 2020 2020 2020 2020 2020 2020 6172 7274              arrt
-0000a440: 7970 6573 5b76 746b 2e56 544b 5f4c 4f4e  ypes[vtk.VTK_LON
-0000a450: 475f 4c4f 4e47 5d20 2020 2020 3d20 2822  G_LONG]     = ("
-0000a460: 4c4f 4e47 5f4c 4f4e 4722 2c20 2020 2020  LONG_LONG",     
-0000a470: 2022 6e70 2e69 6e74 3634 2229 0a20 2020   "np.int64").   
-0000a480: 2020 2020 2020 2020 2061 7272 7479 7065           arrtype
-0000a490: 735b 7674 6b2e 5654 4b5f 464c 4f41 545d  s[vtk.VTK_FLOAT]
-0000a4a0: 2020 2020 2020 2020 203d 2028 2246 4c4f           = ("FLO
-0000a4b0: 4154 222c 2020 2020 2020 2020 2020 226e  AT",          "n
-0000a4c0: 702e 666c 6f61 7433 3222 290a 2020 2020  p.float32").    
-0000a4d0: 2020 2020 2020 2020 6172 7274 7970 6573          arrtypes
-0000a4e0: 5b76 746b 2e56 544b 5f44 4f55 424c 455d  [vtk.VTK_DOUBLE]
-0000a4f0: 2020 2020 2020 2020 3d20 2822 444f 5542          = ("DOUB
-0000a500: 4c45 222c 2020 2020 2020 2020 2022 6e70  LE",         "np
-0000a510: 2e66 6c6f 6174 3634 2229 0a20 2020 2020  .float64").     
-0000a520: 2020 2020 2020 2061 7272 7479 7065 735b         arrtypes[
-0000a530: 7674 6b2e 5654 4b5f 5349 474e 4544 5f43  vtk.VTK_SIGNED_C
-0000a540: 4841 525d 2020 203d 2028 2253 4947 4e45  HAR]   = ("SIGNE
-0000a550: 445f 4348 4152 222c 2020 2020 226e 702e  D_CHAR",    "np.
-0000a560: 696e 7438 2229 0a20 2020 2020 2020 2020  int8").         
-0000a570: 2020 2061 7272 7479 7065 735b 7674 6b2e     arrtypes[vtk.
-0000a580: 5654 4b5f 4944 5f54 5950 455d 2020 2020  VTK_ID_TYPE]    
-0000a590: 2020 203d 2028 2249 4422 2c20 2020 2020     = ("ID",     
-0000a5a0: 2020 2020 2020 2020 226e 702e 696e 7436          "np.int6
-0000a5b0: 3422 290a 0a20 2020 2020 2020 2020 2020  4")..           
-0000a5c0: 2069 6620 7074 6461 7461 2e47 6574 5363   if ptdata.GetSc
-0000a5d0: 616c 6172 7328 293a 0a20 2020 2020 2020  alars():.       
-0000a5e0: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
-0000a5f0: 696e 7463 2822 6163 7469 7665 2061 7272  intc("active arr
-0000a600: 6179 222e 6c6a 7573 7428 3134 292b 223a  ay".ljust(14)+":
-0000a610: 2022 2c20 633d 632c 2062 6f6c 643d 5472   ", c=c, bold=Tr
-0000a620: 7565 2c20 656e 643d 2222 290a 2020 2020  ue, end="").    
-0000a630: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-0000a640: 2e70 7269 6e74 6328 7074 6461 7461 2e47  .printc(ptdata.G
-0000a650: 6574 5363 616c 6172 7328 292e 4765 744e  etScalars().GetN
-0000a660: 616d 6528 292c 2022 2870 6f69 6e74 6461  ame(), "(pointda
-0000a670: 7461 2920 2022 2c20 633d 632c 2062 6f6c  ta)  ", c=c, bol
-0000a680: 643d 4661 6c73 6529 0a0a 2020 2020 2020  d=False)..      
-0000a690: 2020 2020 2020 6966 2063 6c64 6174 612e        if cldata.
-0000a6a0: 4765 7453 6361 6c61 7273 2829 3a0a 2020  GetScalars():.  
-0000a6b0: 2020 2020 2020 2020 2020 2020 2020 7665                ve
-0000a6c0: 646f 2e70 7269 6e74 6328 2261 6374 6976  do.printc("activ
-0000a6d0: 6520 6172 7261 7922 2e6c 6a75 7374 2831  e array".ljust(1
-0000a6e0: 3429 2b22 3a20 222c 2063 3d63 2c20 626f  4)+": ", c=c, bo
-0000a6f0: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
-0000a700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a710: 2076 6564 6f2e 7072 696e 7463 2863 6c64   vedo.printc(cld
-0000a720: 6174 612e 4765 7453 6361 6c61 7273 2829  ata.GetScalars()
-0000a730: 2e47 6574 4e61 6d65 2829 2c20 2228 6365  .GetName(), "(ce
-0000a740: 6c6c 6461 7461 2922 2c20 633d 632c 2062  lldata)", c=c, b
-0000a750: 6f6c 643d 4661 6c73 6529 0a0a 2020 2020  old=False)..    
-0000a760: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
-0000a770: 2072 616e 6765 2870 7464 6174 612e 4765   range(ptdata.Ge
-0000a780: 744e 756d 6265 724f 6641 7272 6179 7328  tNumberOfArrays(
-0000a790: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-0000a7a0: 2020 2020 6e61 6d65 203d 2070 7464 6174      name = ptdat
-0000a7b0: 612e 4765 7441 7272 6179 4e61 6d65 2869  a.GetArrayName(i
-0000a7c0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000a7d0: 2020 6966 206e 616d 6520 616e 6420 7074    if name and pt
-0000a7e0: 6461 7461 2e47 6574 4172 7261 7928 6929  data.GetArray(i)
-0000a7f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000a800: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
-0000a810: 6328 2270 6f69 6e74 6461 7461 222e 6c6a  c("pointdata".lj
-0000a820: 7573 7428 3134 2920 2b20 223a 2022 2c20  ust(14) + ": ", 
-0000a830: 633d 632c 2062 6f6c 643d 5472 7565 2c20  c=c, bold=True, 
-0000a840: 656e 643d 2222 290a 2020 2020 2020 2020  end="").        
-0000a850: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-0000a860: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a870: 2020 2020 2020 2020 2074 742c 206e 7074           tt, npt
-0000a880: 7420 3d20 6172 7274 7970 6573 5b70 7464  t = arrtypes[ptd
-0000a890: 6174 612e 4765 7441 7272 6179 2869 292e  ata.GetArray(i).
-0000a8a0: 4765 7444 6174 6154 7970 6528 295d 0a20  GetDataType()]. 
-0000a8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a8c0: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
-0000a8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a8e0: 2020 2074 7420 3d20 2256 544b 5459 5045     tt = "VTKTYPE
-0000a8f0: 2220 2b20 7374 7228 7074 6461 7461 2e47  " + str(ptdata.G
-0000a900: 6574 4172 7261 7928 6929 2e47 6574 4461  etArray(i).GetDa
-0000a910: 7461 5479 7065 2829 290a 2020 2020 2020  taType()).      
-0000a920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a930: 2020 6e70 7474 203d 2022 220a 2020 2020    nptt = "".    
-0000a940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a950: 6e63 6f6d 7020 3d20 7074 6461 7461 2e47  ncomp = ptdata.G
-0000a960: 6574 4172 7261 7928 6929 2e47 6574 4e75  etArray(i).GetNu
-0000a970: 6d62 6572 4f66 436f 6d70 6f6e 656e 7473  mberOfComponents
-0000a980: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000a990: 2020 2020 2020 2072 6e67 203d 2070 7464         rng = ptd
-0000a9a0: 6174 612e 4765 7441 7272 6179 2869 292e  ata.GetArray(i).
-0000a9b0: 4765 7452 616e 6765 2829 0a20 2020 2020  GetRange().     
-0000a9c0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0000a9d0: 6564 6f2e 7072 696e 7463 2866 2722 7b6e  edo.printc(f'"{n
-0000a9e0: 616d 657d 2220 287b 6e63 6f6d 707d 207b  ame}" ({ncomp} {
-0000a9f0: 7474 7d29 2c27 2c20 633d 632c 2062 6f6c  tt}),', c=c, bol
-0000aa00: 643d 4661 6c73 652c 2065 6e64 3d22 2229  d=False, end="")
-0000aa10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000aa20: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000aa30: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000aa40: 2020 2020 2020 2020 2020 2220 7261 6e67            " rang
-0000aa50: 653d 2822 202b 2070 7265 6369 7369 6f6e  e=(" + precision
-0000aa60: 2872 6e67 5b30 5d2c 2033 2920 2b20 222c  (rng[0], 3) + ",
-0000aa70: 2220 2b20 7072 6563 6973 696f 6e28 726e  " + precision(rn
-0000aa80: 675b 315d 2c20 3329 202b 2022 2922 2c0a  g[1], 3) + ")",.
-0000aa90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aaa0: 2020 2020 2020 2020 633d 632c 0a20 2020          c=c,.   
-0000aab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aac0: 2020 2020 2062 6f6c 643d 4661 6c73 652c       bold=False,
-0000aad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000aae0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0000aaf0: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
-0000ab00: 6765 2863 6c64 6174 612e 4765 744e 756d  ge(cldata.GetNum
-0000ab10: 6265 724f 6641 7272 6179 7328 2929 3a0a  berOfArrays()):.
-0000ab20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab30: 6e61 6d65 203d 2063 6c64 6174 612e 4765  name = cldata.Ge
-0000ab40: 7441 7272 6179 4e61 6d65 2869 290a 2020  tArrayName(i).  
-0000ab50: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000ab60: 206e 616d 6520 616e 6420 636c 6461 7461   name and cldata
-0000ab70: 2e47 6574 4172 7261 7928 6929 3a0a 2020  .GetArray(i):.  
+00002550: 2020 7365 6c66 2e5f 7265 6d61 696e 696e    self._remainin
+00002560: 6720 3d20 302e 300a 0a20 2020 2020 2020  g = 0.0..       
+00002570: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00002580: 2e5f 7265 6d61 696e 696e 6720 3e20 3630  ._remaining > 60
+00002590: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000025a0: 2020 2020 2020 6d69 6e73 203d 2069 6e74        mins = int
+000025b0: 2873 656c 662e 5f72 656d 6169 6e69 6e67  (self._remaining
+000025c0: 202f 2036 3029 0a20 2020 2020 2020 2020   / 60).         
+000025d0: 2020 2020 2020 2020 2020 2073 6563 7320             secs 
+000025e0: 3d20 7365 6c66 2e5f 7265 6d61 696e 696e  = self._remainin
+000025f0: 6720 2d20 3630 202a 206d 696e 730a 2020  g - 60 * mins.  
+00002600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002610: 2020 6d69 6e73 203d 2066 227b 6d69 6e73    mins = f"{mins
+00002620: 7d6d 220a 2020 2020 2020 2020 2020 2020  }m".            
+00002630: 2020 2020 2020 2020 7365 6373 203d 2066          secs = f
+00002640: 227b 696e 7428 7365 6373 202b 2030 2e35  "{int(secs + 0.5
+00002650: 297d 7320 220a 2020 2020 2020 2020 2020  )}s ".          
+00002660: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00002670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002680: 6d69 6e73 203d 2022 220a 2020 2020 2020  mins = "".      
+00002690: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000026a0: 6373 203d 2066 227b 696e 7428 7365 6c66  cs = f"{int(self
+000026b0: 2e5f 7265 6d61 696e 696e 6720 2b20 302e  ._remaining + 0.
+000026c0: 3529 7d73 2022 0a0a 2020 2020 2020 2020  5)}s "..        
+000026d0: 2020 2020 2020 2020 7665 6c20 3d20 726f          vel = ro
+000026e0: 756e 6428 7665 6c2c 2031 290a 2020 2020  und(vel, 1).    
+000026f0: 2020 2020 2020 2020 2020 2020 6574 6120              eta 
+00002700: 3d20 6622 6574 613a 207b 6d69 6e73 7d7b  = f"eta: {mins}{
+00002710: 7365 6373 7d28 7b76 656c 7d20 6974 2f73  secs}({vel} it/s
+00002720: 2920 220a 2020 2020 2020 2020 2020 2020  ) ".            
+00002730: 2020 2020 6966 2073 656c 662e 5f72 656d      if self._rem
+00002740: 6169 6e69 6e67 203c 2030 2e35 3a0a 2020  aining < 0.5:.  
+00002750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002760: 2020 6474 203d 2074 696d 652e 7469 6d65    dt = time.time
+00002770: 2829 202d 2073 656c 662e 7430 0a20 2020  () - self.t0.   
+00002780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002790: 2069 6620 6474 203e 2036 303a 0a20 2020   if dt > 60:.   
+000027a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027b0: 2020 2020 206d 696e 7320 3d20 696e 7428       mins = int(
+000027c0: 6474 202f 2036 3029 0a20 2020 2020 2020  dt / 60).       
+000027d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027e0: 2073 6563 7320 3d20 6474 202d 2036 3020   secs = dt - 60 
+000027f0: 2a20 6d69 6e73 0a20 2020 2020 2020 2020  * mins.         
+00002800: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00002810: 696e 7320 3d20 6622 7b6d 696e 737d 6d22  ins = f"{mins}m"
+00002820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002830: 2020 2020 2020 2020 2073 6563 7320 3d20           secs = 
+00002840: 6622 7b69 6e74 2873 6563 7320 2b20 302e  f"{int(secs + 0.
+00002850: 3529 7d73 2022 0a20 2020 2020 2020 2020  5)}s ".         
+00002860: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00002870: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002880: 2020 2020 2020 2020 206d 696e 7320 3d20           mins = 
+00002890: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
+000028a0: 2020 2020 2020 2020 2020 2073 6563 7320             secs 
+000028b0: 3d20 6622 7b69 6e74 2864 7420 2b20 302e  = f"{int(dt + 0.
+000028c0: 3529 7d73 2022 0a20 2020 2020 2020 2020  5)}s ".         
+000028d0: 2020 2020 2020 2020 2020 2065 7461 203d             eta =
+000028e0: 2066 2265 6c61 7073 6564 3a20 7b6d 696e   f"elapsed: {min
+000028f0: 737d 7b73 6563 737d 287b 7665 6c7d 2069  s}{secs}({vel} i
+00002900: 742f 7329 2020 2020 2020 2020 220a 2020  t/s)        ".  
+00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002920: 2020 7478 7420 3d20 2222 0a20 2020 2020    txt = "".     
+00002930: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00002940: 2020 2020 2020 2020 2020 2020 2065 7461               eta
+00002950: 203d 2022 220a 0a20 2020 2020 2020 2020   = ""..         
+00002960: 2020 2065 7261 7365 7220 3d20 2220 2220     eraser = " " 
+00002970: 2a20 7365 6c66 2e5f 6c65 6e74 7874 202b  * self._lentxt +
+00002980: 2022 5c62 2220 2a20 7365 6c66 2e5f 6c65   "\b" * self._le
+00002990: 6e74 7874 0a0a 2020 2020 2020 2020 2020  ntxt..          
+000029a0: 2020 7320 3d20 6622 7b73 656c 662e 7062    s = f"{self.pb
+000029b0: 6172 7d20 7b65 7261 7365 727d 7b65 7461  ar} {eraser}{eta
+000029c0: 7d7b 7478 747d 5c72 220a 2020 2020 2020  }{txt}\r".      
+000029d0: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+000029e0: 6328 732c 2063 3d63 2c20 626f 6c64 3d73  c(s, c=c, bold=s
+000029f0: 656c 662e 626f 6c64 2c20 6974 616c 6963  elf.bold, italic
+00002a00: 3d73 656c 662e 6974 616c 6963 2c20 656e  =self.italic, en
+00002a10: 643d 2222 290a 2020 2020 2020 2020 2020  d="").          
+00002a20: 2020 6966 2073 656c 662e 7065 7263 656e    if self.percen
+00002a30: 7420 3e20 3939 2e39 3939 3a0a 2020 2020  t > 99.999:.    
+00002a40: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+00002a50: 7428 2222 290a 0a20 2020 2020 2020 2020  t("")..         
+00002a60: 2020 2073 656c 662e 5f6c 656e 7478 7420     self._lentxt 
+00002a70: 3d20 6c65 6e28 7478 7429 0a0a 2020 2020  = len(txt)..    
+00002a80: 6465 6620 7261 6e67 6528 7365 6c66 293a  def range(self):
+00002a90: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
+00002aa0: 726e 2074 6865 2072 616e 6765 2069 7465  rn the range ite
+00002ab0: 7261 746f 722e 2222 220a 2020 2020 2020  rator.""".      
+00002ac0: 2020 7265 7475 726e 2073 656c 662e 5f72    return self._r
+00002ad0: 616e 6765 0a0a 2020 2020 6465 6620 5f75  ange..    def _u
+00002ae0: 7064 6174 6528 7365 6c66 2c20 636f 756e  pdate(self, coun
+00002af0: 7473 293a 0a20 2020 2020 2020 2069 6620  ts):.        if 
+00002b00: 636f 756e 7473 203c 2073 656c 662e 7374  counts < self.st
+00002b10: 6172 743a 0a20 2020 2020 2020 2020 2020  art:.           
+00002b20: 2063 6f75 6e74 7320 3d20 7365 6c66 2e73   counts = self.s
+00002b30: 7461 7274 0a20 2020 2020 2020 2065 6c69  tart.        eli
+00002b40: 6620 636f 756e 7473 203e 2073 656c 662e  f counts > self.
+00002b50: 7374 6f70 3a0a 2020 2020 2020 2020 2020  stop:.          
+00002b60: 2020 636f 756e 7473 203d 2073 656c 662e    counts = self.
+00002b70: 7374 6f70 0a20 2020 2020 2020 2073 656c  stop.        sel
+00002b80: 662e 5f63 6f75 6e74 7320 3d20 636f 756e  f._counts = coun
+00002b90: 7473 0a0a 2020 2020 2020 2020 7365 6c66  ts..        self
+00002ba0: 2e70 6572 6365 6e74 203d 2028 7365 6c66  .percent = (self
+00002bb0: 2e5f 636f 756e 7473 202d 2073 656c 662e  ._counts - self.
+00002bc0: 7374 6172 7429 202a 2031 3030 2e30 0a0a  start) * 100.0..
+00002bd0: 2020 2020 2020 2020 6465 6c74 6120 3d20          delta = 
+00002be0: 7365 6c66 2e73 746f 7020 2d20 7365 6c66  self.stop - self
+00002bf0: 2e73 7461 7274 0a20 2020 2020 2020 2069  .start.        i
+00002c00: 6620 6465 6c74 613a 0a20 2020 2020 2020  f delta:.       
+00002c10: 2020 2020 2073 656c 662e 7065 7263 656e       self.percen
+00002c20: 7420 2f3d 2064 656c 7461 0a20 2020 2020  t /= delta.     
+00002c30: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00002c40: 2020 2020 2073 656c 662e 7065 7263 656e       self.percen
+00002c50: 7420 3d20 302e 300a 0a20 2020 2020 2020  t = 0.0..       
+00002c60: 2073 656c 662e 7065 7263 656e 745f 696e   self.percent_in
+00002c70: 7420 3d20 696e 7428 726f 756e 6428 7365  t = int(round(se
+00002c80: 6c66 2e70 6572 6365 6e74 2929 0a20 2020  lf.percent)).   
+00002c90: 2020 2020 2061 6620 3d20 7365 6c66 2e77       af = self.w
+00002ca0: 6964 7468 202d 2032 0a20 2020 2020 2020  idth - 2.       
+00002cb0: 206e 6820 3d20 696e 7428 726f 756e 6428   nh = int(round(
+00002cc0: 7365 6c66 2e70 6572 6365 6e74 5f69 6e74  self.percent_int
+00002cd0: 202f 2031 3030 202a 2061 6629 290a 2020   / 100 * af)).  
+00002ce0: 2020 2020 2020 7062 6172 5f62 6163 6b67        pbar_backg
+00002cf0: 726f 756e 6420 3d20 225c 7831 625b 326d  round = "\x1b[2m
+00002d00: 2220 2b20 7365 6c66 2e63 6861 725f 6261  " + self.char_ba
+00002d10: 636b 202a 2028 6166 202d 206e 6829 0a20  ck * (af - nh). 
+00002d20: 2020 2020 2020 2073 656c 662e 7062 6172         self.pbar
+00002d30: 203d 2066 227b 7365 6c66 2e74 6974 6c65   = f"{self.title
+00002d40: 7d7b 7365 6c66 2e63 6861 7220 2a20 286e  }{self.char * (n
+00002d50: 682d 3129 7d7b 7062 6172 5f62 6163 6b67  h-1)}{pbar_backg
+00002d60: 726f 756e 647d 220a 2020 2020 2020 2020  round}".        
+00002d70: 6966 2073 656c 662e 7065 7263 656e 7420  if self.percent 
+00002d80: 3c20 3130 302e 303a 0a20 2020 2020 2020  < 100.0:.       
+00002d90: 2020 2020 2070 7320 3d20 6622 207b 7365       ps = f" {se
+00002da0: 6c66 2e70 6572 6365 6e74 5f69 6e74 7d25  lf.percent_int}%
+00002db0: 220a 2020 2020 2020 2020 656c 7365 3a0a  ".        else:.
+00002dc0: 2020 2020 2020 2020 2020 2020 7073 203d              ps =
+00002dd0: 2022 220a 2020 2020 2020 2020 7365 6c66   "".        self
+00002de0: 2e70 6261 7220 2b3d 2070 730a 0a0a 2323  .pbar += ps...##
+00002df0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002e00: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002e10: 2323 230a 6465 6620 7072 6f67 7265 7373  ###.def progress
+00002e20: 6261 7228 6974 6572 6162 6c65 2c20 633d  bar(iterable, c=
+00002e30: 4e6f 6e65 2c20 626f 6c64 3d54 7275 652c  None, bold=True,
+00002e40: 2069 7461 6c69 633d 4661 6c73 652c 2074   italic=False, t
+00002e50: 6974 6c65 3d22 222c 2065 7461 3d54 7275  itle="", eta=Tru
+00002e60: 652c 2077 6964 7468 3d32 352c 2064 656c  e, width=25, del
+00002e70: 6179 3d30 2e35 293a 0a20 2020 2022 2222  ay=0.5):.    """
+00002e80: 0a20 2020 2046 756e 6374 696f 6e20 746f  .    Function to
+00002e90: 2070 7269 6e74 2061 2070 726f 6772 6573   print a progres
+00002ea0: 7320 6261 7220 7769 7468 206f 7074 696f  s bar with optio
+00002eb0: 6e61 6c20 7465 7874 206d 6573 7361 6765  nal text message
+00002ec0: 2e0a 0a20 2020 2055 7365 2064 656c 6179  ...    Use delay
+00002ed0: 2074 6f20 7365 7420 6120 6d69 6e69 6d75   to set a minimu
+00002ee0: 6d20 7469 6d65 2062 6566 6f72 6520 7072  m time before pr
+00002ef0: 696e 7469 6e67 2061 6e79 7468 696e 672e  inting anything.
+00002f00: 0a0a 2020 2020 4578 616d 706c 653a 0a20  ..    Example:. 
+00002f10: 2020 2020 2020 2060 6060 7079 7468 6f6e         ```python
+00002f20: 0a20 2020 2020 2020 2069 6d70 6f72 7420  .        import 
+00002f30: 7469 6d65 0a20 2020 2020 2020 2066 6f72  time.        for
+00002f40: 2069 2069 6e20 7072 6f67 7265 7373 6261   i in progressba
+00002f50: 7228 7261 6e67 6528 3130 3029 2c20 633d  r(range(100), c=
+00002f60: 2772 6564 2729 3a0a 2020 2020 2020 2020  'red'):.        
+00002f70: 2020 2020 7469 6d65 2e73 6c65 6570 2830      time.sleep(0
+00002f80: 2e31 290a 2020 2020 2020 2020 6060 600a  .1).        ```.
+00002f90: 2020 2020 2020 2020 215b 5d28 6874 7470          ![](http
+00002fa0: 733a 2f2f 7573 6572 2d69 6d61 6765 732e  s://user-images.
+00002fb0: 6769 7468 7562 7573 6572 636f 6e74 656e  githubuserconten
+00002fc0: 742e 636f 6d2f 3332 3834 3833 3931 2f35  t.com/32848391/5
+00002fd0: 3138 3538 3832 332d 6564 3166 3438 3830  1858823-ed1f4880
+00002fe0: 2d32 3333 352d 3131 6539 2d38 3738 382d  -2335-11e9-8788-
+00002ff0: 3264 3130 3261 6365 3235 3738 2e70 6e67  2d102ace2578.png
+00003000: 290a 2020 2020 2222 220a 2020 2020 7472  ).    """.    tr
+00003010: 793a 0a20 2020 2020 2020 2069 6620 6973  y:.        if is
+00003020: 5f6e 756d 6265 7228 6974 6572 6162 6c65  _number(iterable
+00003030: 293a 0a20 2020 2020 2020 2020 2020 2074  ):.            t
+00003040: 6f74 616c 203d 2069 6e74 2869 7465 7261  otal = int(itera
+00003050: 626c 6529 0a20 2020 2020 2020 2020 2020  ble).           
+00003060: 2069 7465 7261 626c 6520 3d20 7261 6e67   iterable = rang
+00003070: 6528 746f 7461 6c29 0a20 2020 2020 2020  e(total).       
+00003080: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00003090: 2020 2074 6f74 616c 203d 206c 656e 2869     total = len(i
+000030a0: 7465 7261 626c 6529 0a20 2020 2065 7863  terable).    exc
+000030b0: 6570 7420 5479 7065 4572 726f 723a 0a20  ept TypeError:. 
+000030c0: 2020 2020 2020 2069 7465 7261 626c 6520         iterable 
+000030d0: 3d20 6c69 7374 2869 7465 7261 626c 6529  = list(iterable)
+000030e0: 0a20 2020 2020 2020 2074 6f74 616c 203d  .        total =
+000030f0: 206c 656e 2869 7465 7261 626c 6529 0a0a   len(iterable)..
+00003100: 2020 2020 7062 203d 2050 726f 6772 6573      pb = Progres
+00003110: 7342 6172 280a 2020 2020 2020 2020 302c  sBar(.        0,
+00003120: 2074 6f74 616c 2c20 633d 632c 2062 6f6c   total, c=c, bol
+00003130: 643d 626f 6c64 2c20 6974 616c 6963 3d69  d=bold, italic=i
+00003140: 7461 6c69 632c 2074 6974 6c65 3d74 6974  talic, title=tit
+00003150: 6c65 2c20 6574 613d 6574 612c 2064 656c  le, eta=eta, del
+00003160: 6179 3d64 656c 6179 2c20 7769 6474 683d  ay=delay, width=
+00003170: 7769 6474 680a 2020 2020 290a 2020 2020  width.    ).    
+00003180: 666f 7220 6974 656d 2069 6e20 6974 6572  for item in iter
+00003190: 6162 6c65 3a0a 2020 2020 2020 2020 7062  able:.        pb
+000031a0: 2e70 7269 6e74 2829 0a20 2020 2020 2020  .print().       
+000031b0: 2079 6965 6c64 2069 7465 6d0a 0a0a 2323   yield item...##
+000031c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000031d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000031e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000031f0: 2323 2323 2323 2323 230a 6465 6620 6e75  #########.def nu
+00003200: 6d70 7932 7674 6b28 6172 722c 2064 7479  mpy2vtk(arr, dty
+00003210: 7065 3d4e 6f6e 652c 2064 6565 703d 5472  pe=None, deep=Tr
+00003220: 7565 2c20 6e61 6d65 3d22 2229 3a0a 2020  ue, name=""):.  
+00003230: 2020 2222 220a 2020 2020 436f 6e76 6572    """.    Conver
+00003240: 7420 6120 6e75 6d70 7920 6172 7261 7920  t a numpy array 
+00003250: 696e 746f 2061 2060 7674 6b44 6174 6141  into a `vtkDataA
+00003260: 7272 6179 602e 0a20 2020 2055 7365 2060  rray`..    Use `
+00003270: 6474 7970 653d 2769 6427 6020 666f 7220  dtype='id'` for 
+00003280: 6076 746b 4964 5479 7065 4172 7261 7960  `vtkIdTypeArray`
+00003290: 206f 626a 6563 7473 2e0a 2020 2020 2222   objects..    ""
+000032a0: 220a 2020 2020 2320 6874 7470 733a 2f2f  ".    # https://
+000032b0: 6769 7468 7562 2e63 6f6d 2f4b 6974 7761  github.com/Kitwa
+000032c0: 7265 2f56 544b 2f62 6c6f 622f 6d61 7374  re/VTK/blob/mast
+000032d0: 6572 2f57 7261 7070 696e 672f 5079 7468  er/Wrapping/Pyth
+000032e0: 6f6e 2f76 746b 6d6f 6475 6c65 732f 7574  on/vtkmodules/ut
+000032f0: 696c 2f6e 756d 7079 5f73 7570 706f 7274  il/numpy_support
+00003300: 2e70 790a 2020 2020 6966 2061 7272 2069  .py.    if arr i
+00003310: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+00003320: 7265 7475 726e 204e 6f6e 650a 0a20 2020  return None..   
+00003330: 2061 7272 203d 206e 702e 6173 636f 6e74   arr = np.ascont
+00003340: 6967 756f 7573 6172 7261 7928 6172 7229  iguousarray(arr)
+00003350: 0a0a 2020 2020 6966 2064 7479 7065 203d  ..    if dtype =
+00003360: 3d20 2269 6422 3a0a 2020 2020 2020 2020  = "id":.        
+00003370: 7661 7272 203d 206e 756d 7079 5f74 6f5f  varr = numpy_to_
+00003380: 7674 6b49 6454 7970 6541 7272 6179 2861  vtkIdTypeArray(a
+00003390: 7272 2e61 7374 7970 6528 6e70 2e69 6e74  rr.astype(np.int
+000033a0: 3634 292c 2064 6565 703d 6465 6570 290a  64), deep=deep).
+000033b0: 2020 2020 656c 6966 2064 7479 7065 3a0a      elif dtype:.
+000033c0: 2020 2020 2020 2020 7661 7272 203d 206e          varr = n
+000033d0: 756d 7079 5f74 6f5f 7674 6b28 6172 722e  umpy_to_vtk(arr.
+000033e0: 6173 7479 7065 2864 7479 7065 292c 2064  astype(dtype), d
+000033f0: 6565 703d 6465 6570 290a 2020 2020 656c  eep=deep).    el
+00003400: 7365 3a0a 2020 2020 2020 2020 2320 6c65  se:.        # le
+00003410: 7420 6e75 6d70 795f 746f 5f76 746b 2829  t numpy_to_vtk()
+00003420: 2064 6563 6964 6520 7768 6174 2069 7320   decide what is 
+00003430: 6265 7374 2074 7970 6520 6261 7365 6420  best type based 
+00003440: 6f6e 2061 7272 2074 7970 650a 2020 2020  on arr type.    
+00003450: 2020 2020 7661 7272 203d 206e 756d 7079      varr = numpy
+00003460: 5f74 6f5f 7674 6b28 6172 722c 2064 6565  _to_vtk(arr, dee
+00003470: 703d 6465 6570 290a 0a20 2020 2069 6620  p=deep)..    if 
+00003480: 6e61 6d65 3a0a 2020 2020 2020 2020 7661  name:.        va
+00003490: 7272 2e53 6574 4e61 6d65 286e 616d 6529  rr.SetName(name)
+000034a0: 0a20 2020 2072 6574 7572 6e20 7661 7272  .    return varr
+000034b0: 0a0a 0a64 6566 2076 746b 326e 756d 7079  ...def vtk2numpy
+000034c0: 2876 6172 7229 3a0a 2020 2020 2222 2243  (varr):.    """C
+000034d0: 6f6e 7665 7274 2061 2060 7674 6b44 6174  onvert a `vtkDat
+000034e0: 6141 7272 6179 602c 2060 7674 6b49 644c  aArray`, `vtkIdL
+000034f0: 6973 7460 206f 7220 6076 7454 7261 6e73  ist` or `vtTrans
+00003500: 666f 726d 6020 696e 746f 2061 206e 756d  form` into a num
+00003510: 7079 2061 7272 6179 2e22 2222 0a20 2020  py array.""".   
+00003520: 2069 6620 6973 696e 7374 616e 6365 2876   if isinstance(v
+00003530: 6172 722c 2076 746b 2e76 746b 4964 4c69  arr, vtk.vtkIdLi
+00003540: 7374 293a 0a20 2020 2020 2020 2072 6574  st):.        ret
+00003550: 7572 6e20 6e70 2e61 7272 6179 285b 7661  urn np.array([va
+00003560: 7272 2e47 6574 4964 2869 2920 666f 7220  rr.GetId(i) for 
+00003570: 6920 696e 2072 616e 6765 2876 6172 722e  i in range(varr.
+00003580: 4765 744e 756d 6265 724f 6649 6473 2829  GetNumberOfIds()
+00003590: 295d 290a 2020 2020 656c 6966 2069 7369  )]).    elif isi
+000035a0: 6e73 7461 6e63 6528 7661 7272 2c20 7674  nstance(varr, vt
+000035b0: 6b2e 7674 6b42 6974 4172 7261 7929 3a0a  k.vtkBitArray):.
+000035c0: 2020 2020 2020 2020 6361 7272 203d 2076          carr = v
+000035d0: 746b 2e76 746b 4368 6172 4172 7261 7928  tk.vtkCharArray(
+000035e0: 290a 2020 2020 2020 2020 6361 7272 2e44  ).        carr.D
+000035f0: 6565 7043 6f70 7928 7661 7272 290a 2020  eepCopy(varr).  
+00003600: 2020 2020 2020 7661 7272 203d 2063 6172        varr = car
+00003610: 720a 2020 2020 656c 6966 2069 7369 6e73  r.    elif isins
+00003620: 7461 6e63 6528 7661 7272 2c20 7674 6b2e  tance(varr, vtk.
+00003630: 7674 6b48 6f6d 6f67 656e 656f 7573 5472  vtkHomogeneousTr
+00003640: 616e 7366 6f72 6d29 3a0a 2020 2020 2020  ansform):.      
+00003650: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00003660: 2020 2076 6172 7220 3d20 7661 7272 2e47     varr = varr.G
+00003670: 6574 4d61 7472 6978 2829 0a20 2020 2020  etMatrix().     
+00003680: 2020 2065 7863 6570 7420 4174 7472 6962     except Attrib
+00003690: 7574 6545 7272 6f72 3a0a 2020 2020 2020  uteError:.      
+000036a0: 2020 2020 2020 7061 7373 0a20 2020 2020        pass.     
+000036b0: 2020 206e 203d 2034 0a20 2020 2020 2020     n = 4.       
+000036c0: 204d 203d 205b 5b76 6172 722e 4765 7445   M = [[varr.GetE
+000036d0: 6c65 6d65 6e74 2869 2c20 6a29 2066 6f72  lement(i, j) for
+000036e0: 206a 2069 6e20 7261 6e67 6528 6e29 5d20   j in range(n)] 
+000036f0: 666f 7220 6920 696e 2072 616e 6765 286e  for i in range(n
+00003700: 295d 0a20 2020 2020 2020 2072 6574 7572  )].        retur
+00003710: 6e20 6e70 2e61 7272 6179 284d 290a 0a20  n np.array(M).. 
+00003720: 2020 2072 6574 7572 6e20 7674 6b5f 746f     return vtk_to
+00003730: 5f6e 756d 7079 2876 6172 7229 0a0a 0a64  _numpy(varr)...d
+00003740: 6566 206d 616b 6533 6428 7074 732c 2074  ef make3d(pts, t
+00003750: 7261 6e73 706f 7365 3d46 616c 7365 293a  ranspose=False):
+00003760: 0a20 2020 2022 2222 0a20 2020 204d 616b  .    """.    Mak
+00003770: 6520 616e 2061 7272 6179 2077 6869 6368  e an array which
+00003780: 206d 6967 6874 2062 6520 3244 2074 6f20   might be 2D to 
+00003790: 3344 2e0a 0a20 2020 2041 7272 6179 2063  3D...    Array c
+000037a0: 616e 2061 6c73 6f20 6265 2069 6e20 7468  an also be in th
+000037b0: 6520 666f 726d 2060 5b61 6c6c 782c 2061  e form `[allx, a
+000037c0: 6c6c 792c 2061 6c6c 7a5d 602e 0a20 2020  lly, allz]`..   
+000037d0: 2055 7365 2060 7472 616e 7370 6f73 6560   Use `transpose`
+000037e0: 2074 6f20 7265 736f 6c76 6520 616d 6269   to resolve ambi
+000037f0: 6775 6f75 7320 6361 7365 7320 2865 672c  guous cases (eg,
+00003800: 2073 6861 7065 7320 6c69 6b65 2060 5b33   shapes like `[3
+00003810: 2c33 5d60 292e 0a20 2020 2022 2222 0a20  ,3]`)..    """. 
+00003820: 2020 2070 7473 203d 206e 702e 6173 6172     pts = np.asar
+00003830: 7261 7928 7074 7329 0a0a 2020 2020 6966  ray(pts)..    if
+00003840: 2070 7473 2e64 7479 7065 203d 3d20 226f   pts.dtype == "o
+00003850: 626a 6563 7422 3a0a 2020 2020 2020 2020  bject":.        
+00003860: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00003870: 2822 4361 6e6e 6f74 2066 6f72 6d20 6120  ("Cannot form a 
+00003880: 7661 6c69 6420 6e75 6d70 7920 6172 7261  valid numpy arra
+00003890: 792c 2069 6e70 7574 206d 6179 2062 6520  y, input may be 
+000038a0: 6e6f 6e2d 686f 6d6f 6765 6e6f 7573 2229  non-homogenous")
+000038b0: 0a0a 2020 2020 6966 2070 7473 2e73 6861  ..    if pts.sha
+000038c0: 7065 5b30 5d20 3d3d 2030 3a20 2023 2065  pe[0] == 0:  # e
+000038d0: 6d70 7479 206c 6973 740a 2020 2020 2020  mpty list.      
+000038e0: 2020 7265 7475 726e 2070 7473 0a0a 2020    return pts..  
+000038f0: 2020 6966 2070 7473 2e6e 6469 6d20 3d3d    if pts.ndim ==
+00003900: 2031 3a0a 2020 2020 2020 2020 6966 2070   1:.        if p
+00003910: 7473 2e73 6861 7065 5b30 5d20 3d3d 2032  ts.shape[0] == 2
+00003920: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00003930: 7475 726e 206e 702e 6873 7461 636b 285b  turn np.hstack([
+00003940: 7074 732c 205b 305d 5d29 2e61 7374 7970  pts, [0]]).astyp
+00003950: 6528 7074 732e 6474 7970 6529 0a20 2020  e(pts.dtype).   
+00003960: 2020 2020 2065 6c69 6620 7074 732e 7368       elif pts.sh
+00003970: 6170 655b 305d 203d 3d20 333a 0a20 2020  ape[0] == 3:.   
+00003980: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00003990: 7074 730a 2020 2020 2020 2020 656c 7365  pts.        else
+000039a0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+000039b0: 6973 6520 5661 6c75 6545 7272 6f72 0a0a  ise ValueError..
+000039c0: 2020 2020 6966 2070 7473 2e73 6861 7065      if pts.shape
+000039d0: 5b31 5d20 3d3d 2033 3a0a 2020 2020 2020  [1] == 3:.      
+000039e0: 2020 7265 7475 726e 2070 7473 0a0a 2020    return pts..  
+000039f0: 2020 6966 2074 7261 6e73 706f 7365 206f    if transpose o
+00003a00: 7220 2832 203c 3d20 7074 732e 7368 6170  r (2 <= pts.shap
+00003a10: 655b 305d 203c 3d20 3320 616e 6420 7074  e[0] <= 3 and pt
+00003a20: 732e 7368 6170 655b 315d 203e 2033 293a  s.shape[1] > 3):
+00003a30: 0a20 2020 2020 2020 2070 7473 203d 2070  .        pts = p
+00003a40: 7473 2e54 0a0a 2020 2020 6966 2070 7473  ts.T..    if pts
+00003a50: 2e73 6861 7065 5b31 5d20 3d3d 2032 3a0a  .shape[1] == 2:.
+00003a60: 2020 2020 2020 2020 7265 7475 726e 206e          return n
+00003a70: 702e 635f 5b70 7473 2c20 6e70 2e7a 6572  p.c_[pts, np.zer
+00003a80: 6f73 2870 7473 2e73 6861 7065 5b30 5d2c  os(pts.shape[0],
+00003a90: 2064 7479 7065 3d70 7473 2e64 7479 7065   dtype=pts.dtype
+00003aa0: 295d 0a0a 2020 2020 6966 2070 7473 2e73  )]..    if pts.s
+00003ab0: 6861 7065 5b31 5d20 213d 2033 3a0a 2020  hape[1] != 3:.  
+00003ac0: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
+00003ad0: 6545 7272 6f72 2822 696e 7075 7420 7368  eError("input sh
+00003ae0: 6170 6520 6973 206e 6f74 2073 7570 706f  ape is not suppo
+00003af0: 7274 6564 2e22 290a 2020 2020 7265 7475  rted.").    retu
+00003b00: 726e 2070 7473 0a0a 0a64 6566 2067 656f  rn pts...def geo
+00003b10: 6d65 7472 7928 6f62 6a2c 2065 7874 656e  metry(obj, exten
+00003b20: 743d 4e6f 6e65 293a 0a20 2020 2022 2222  t=None):.    """
+00003b30: 0a20 2020 2041 7070 6c79 2074 6865 2060  .    Apply the `
+00003b40: 7674 6b47 656f 6d65 7472 7946 696c 7465  vtkGeometryFilte
+00003b50: 7260 2074 6f20 7468 6520 696e 7075 7420  r` to the input 
+00003b60: 6f62 6a65 6374 2e0a 2020 2020 5468 6973  object..    This
+00003b70: 2069 7320 6120 6765 6e65 7261 6c2d 7075   is a general-pu
+00003b80: 7270 6f73 6520 6669 6c74 6572 2074 6f20  rpose filter to 
+00003b90: 6578 7472 6163 7420 6765 6f6d 6574 7279  extract geometry
+00003ba0: 2028 616e 6420 6173 736f 6369 6174 6564   (and associated
+00003bb0: 2064 6174 6129 0a20 2020 2066 726f 6d20   data).    from 
+00003bc0: 616e 7920 7479 7065 206f 6620 6461 7461  any type of data
+00003bd0: 7365 742e 0a20 2020 2054 6869 7320 6669  set..    This fi
+00003be0: 6c74 6572 2061 6c73 6f20 6d61 7920 6265  lter also may be
+00003bf0: 2075 7365 6420 746f 2063 6f6e 7665 7274   used to convert
+00003c00: 2061 6e79 2074 7970 6520 6f66 2064 6174   any type of dat
+00003c10: 6120 746f 2070 6f6c 7967 6f6e 616c 2074  a to polygonal t
+00003c20: 7970 652e 0a20 2020 2054 6865 2063 6f6e  ype..    The con
+00003c30: 7665 7273 696f 6e20 7072 6f63 6573 7320  version process 
+00003c40: 6d61 7920 6265 206c 6573 7320 7468 616e  may be less than
+00003c50: 2073 6174 6973 6661 6374 6f72 7920 666f   satisfactory fo
+00003c60: 7220 736f 6d65 2033 4420 6461 7461 7365  r some 3D datase
+00003c70: 7473 2e0a 2020 2020 466f 7220 6578 616d  ts..    For exam
+00003c80: 706c 652c 2074 6869 7320 6669 6c74 6572  ple, this filter
+00003c90: 2077 696c 6c20 6578 7472 6163 7420 7468   will extract th
+00003ca0: 6520 6f75 7465 7220 7375 7266 6163 6520  e outer surface 
+00003cb0: 6f66 2061 2076 6f6c 756d 650a 2020 2020  of a volume.    
+00003cc0: 6f72 2073 7472 7563 7475 7265 6420 6772  or structured gr
+00003cd0: 6964 2064 6174 6173 6574 2e0a 0a20 2020  id dataset...   
+00003ce0: 2052 6574 7572 6e73 2061 2060 7665 646f   Returns a `vedo
+00003cf0: 2e4d 6573 6860 206f 626a 6563 742e 0a0a  .Mesh` object...
+00003d00: 2020 2020 5365 7420 6065 7874 656e 7460      Set `extent`
+00003d10: 2061 7320 7468 6520 605b 786d 696e 2c78   as the `[xmin,x
+00003d20: 6d61 782c 2079 6d69 6e2c 796d 6178 2c20  max, ymin,ymax, 
+00003d30: 7a6d 696e 2c7a 6d61 785d 6020 626f 756e  zmin,zmax]` boun
+00003d40: 6469 6e67 2062 6f78 2074 6f20 636c 6970  ding box to clip
+00003d50: 2064 6174 612e 0a20 2020 2022 2222 0a20   data..    """. 
+00003d60: 2020 2067 6620 3d20 7674 6b2e 7674 6b47     gf = vtk.vtkG
+00003d70: 656f 6d65 7472 7946 696c 7465 7228 290a  eometryFilter().
+00003d80: 2020 2020 6766 2e53 6574 496e 7075 7444      gf.SetInputD
+00003d90: 6174 6128 6f62 6a29 0a20 2020 2069 6620  ata(obj).    if 
+00003da0: 6578 7465 6e74 2069 7320 6e6f 7420 4e6f  extent is not No
+00003db0: 6e65 3a0a 2020 2020 2020 2020 6766 2e53  ne:.        gf.S
+00003dc0: 6574 4578 7465 6e74 2865 7874 656e 7429  etExtent(extent)
+00003dd0: 0a20 2020 2067 662e 5570 6461 7465 2829  .    gf.Update()
+00003de0: 0a20 2020 2072 6574 7572 6e20 7665 646f  .    return vedo
+00003df0: 2e4d 6573 6828 6766 2e47 6574 4f75 7470  .Mesh(gf.GetOutp
+00003e00: 7574 2829 290a 0a0a 6465 6620 6578 7472  ut())...def extr
+00003e10: 6163 745f 6365 6c6c 735f 6279 5f74 7970  act_cells_by_typ
+00003e20: 6528 6f62 6a2c 2074 7970 6573 3d28 2929  e(obj, types=())
+00003e30: 3a0a 2020 2020 2222 220a 2020 2020 4578  :.    """.    Ex
+00003e40: 7472 6163 7420 6365 6c6c 7320 6f66 2061  tract cells of a
+00003e50: 2073 7065 6369 6669 6564 2074 7970 6520   specified type 
+00003e60: 6672 6f6d 2061 2076 746b 2064 6174 6173  from a vtk datas
+00003e70: 6574 2e0a 0a20 2020 2047 6976 656e 2061  et...    Given a
+00003e80: 6e20 696e 7075 7420 6076 746b 4461 7461  n input `vtkData
+00003e90: 5365 7460 2061 6e64 2061 206c 6973 7420  Set` and a list 
+00003ea0: 6f66 2063 656c 6c20 7479 7065 732c 2070  of cell types, p
+00003eb0: 726f 6475 6365 2061 6e20 6f75 7470 7574  roduce an output
+00003ec0: 0a20 2020 2063 6f6e 7461 696e 696e 6720  .    containing 
+00003ed0: 6f6e 6c79 2063 656c 6c73 206f 6620 7468  only cells of th
+00003ee0: 6520 7370 6563 6966 6965 6420 7479 7065  e specified type
+00003ef0: 2873 292e 0a0a 2020 2020 4669 6e64 205b  (s)...    Find [
+00003f00: 6865 7265 5d28 6874 7470 733a 2f2f 7674  here](https://vt
+00003f10: 6b2e 6f72 672f 646f 632f 6e69 6768 746c  k.org/doc/nightl
+00003f20: 792f 6874 6d6c 2f76 746b 4365 6c6c 5479  y/html/vtkCellTy
+00003f30: 7065 5f38 685f 736f 7572 6365 2e68 746d  pe_8h_source.htm
+00003f40: 6c29 0a20 2020 2074 6865 206c 6973 7420  l).    the list 
+00003f50: 6f66 2070 6f73 7369 626c 6520 6365 6c6c  of possible cell
+00003f60: 2074 7970 6573 2e0a 0a20 2020 2052 6574   types...    Ret
+00003f70: 7572 6e3a 0a20 2020 2020 2020 2061 2060  urn:.        a `
+00003f80: 7674 6b44 6174 6153 6574 6020 6f62 6a65  vtkDataSet` obje
+00003f90: 6374 2077 6869 6368 2063 616e 2062 6520  ct which can be 
+00003fa0: 7772 6170 7065 642e 0a20 2020 2022 2222  wrapped..    """
+00003fb0: 0a20 2020 2065 6620 3d20 7674 6b2e 7674  .    ef = vtk.vt
+00003fc0: 6b45 7874 7261 6374 4365 6c6c 7342 7954  kExtractCellsByT
+00003fd0: 7970 6528 290a 2020 2020 7472 793a 0a20  ype().    try:. 
+00003fe0: 2020 2020 2020 2065 662e 5365 7449 6e70         ef.SetInp
+00003ff0: 7574 4461 7461 286f 626a 2e69 6e70 7574  utData(obj.input
+00004000: 6461 7461 2829 290a 2020 2020 6578 6365  data()).    exce
+00004010: 7074 3a0a 2020 2020 2020 2020 6566 2e53  pt:.        ef.S
+00004020: 6574 496e 7075 7444 6174 6128 6f62 6a29  etInputData(obj)
+00004030: 0a0a 2020 2020 666f 7220 6374 2069 6e20  ..    for ct in 
+00004040: 7479 7065 733a 0a20 2020 2020 2020 2065  types:.        e
+00004050: 662e 4164 6443 656c 6c54 7970 6528 6374  f.AddCellType(ct
+00004060: 290a 2020 2020 6566 2e55 7064 6174 6528  ).    ef.Update(
+00004070: 290a 2020 2020 7265 7475 726e 2065 662e  ).    return ef.
+00004080: 4765 744f 7574 7075 7428 290a 0a0a 6465  GetOutput()...de
+00004090: 6620 6275 696c 6450 6f6c 7944 6174 6128  f buildPolyData(
+000040a0: 7665 7274 6963 6573 2c20 6661 6365 733d  vertices, faces=
+000040b0: 4e6f 6e65 2c20 6c69 6e65 733d 4e6f 6e65  None, lines=None
+000040c0: 2c20 696e 6465 785f 6f66 6673 6574 3d30  , index_offset=0
+000040d0: 2c20 7465 7472 6173 3d46 616c 7365 293a  , tetras=False):
+000040e0: 0a20 2020 2022 2222 0a20 2020 2042 7569  .    """.    Bui
+000040f0: 6c64 2061 2060 7674 6b50 6f6c 7944 6174  ld a `vtkPolyDat
+00004100: 6160 206f 626a 6563 7420 6672 6f6d 2061  a` object from a
+00004110: 206c 6973 7420 6f66 2076 6572 7469 6365   list of vertice
+00004120: 730a 2020 2020 7768 6572 6520 6661 6365  s.    where face
+00004130: 7320 7265 7072 6573 656e 7473 2074 6865  s represents the
+00004140: 2063 6f6e 6e65 6374 6976 6974 7920 6f66   connectivity of
+00004150: 2074 6865 2070 6f6c 7967 6f6e 616c 206d   the polygonal m
+00004160: 6573 682e 0a0a 2020 2020 452e 672e 203a  esh...    E.g. :
+00004170: 0a20 2020 2020 2020 202d 2060 7665 7274  .        - `vert
+00004180: 6963 6573 3d5b 5b78 312c 7931 2c7a 315d  ices=[[x1,y1,z1]
+00004190: 2c5b 7832 2c79 322c 7a32 5d2c 202e 2e2e  ,[x2,y2,z2], ...
+000041a0: 5d60 0a20 2020 2020 2020 202d 2060 6661  ]`.        - `fa
+000041b0: 6365 733d 5b5b 302c 312c 325d 2c20 5b31  ces=[[0,1,2], [1
+000041c0: 2c32 2c33 5d2c 202e 2e2e 5d60 0a20 2020  ,2,3], ...]`.   
+000041d0: 2020 2020 202d 2060 6c69 6e65 733d 5b5b       - `lines=[[
+000041e0: 302c 315d 2c20 5b31 2c32 2c33 2c34 5d2c  0,1], [1,2,3,4],
+000041f0: 202e 2e2e 5d60 0a0a 2020 2020 5573 6520   ...]`..    Use 
+00004200: 6069 6e64 6578 5f6f 6666 7365 743d 3160  `index_offset=1`
+00004210: 2069 6620 6661 6365 206e 756d 6265 7269   if face numberi
+00004220: 6e67 2073 7461 7274 7320 6672 6f6d 2031  ng starts from 1
+00004230: 2069 6e73 7465 6164 206f 6620 302e 0a0a   instead of 0...
+00004240: 2020 2020 4966 2060 7465 7472 6173 3d54      If `tetras=T
+00004250: 7275 6560 2c20 696e 7465 7270 7265 7420  rue`, interpret 
+00004260: 342d 706f 696e 7420 6661 6365 7320 6173  4-point faces as
+00004270: 2074 6574 7261 6865 6472 6f6e 7320 696e   tetrahedrons in
+00004280: 7374 6561 6420 6f66 2073 7572 6661 6365  stead of surface
+00004290: 2071 7561 6473 2e0a 2020 2020 2222 220a   quads..    """.
+000042a0: 2020 2020 706f 6c79 203d 2076 746b 2e76      poly = vtk.v
+000042b0: 746b 506f 6c79 4461 7461 2829 0a0a 2020  tkPolyData()..  
+000042c0: 2020 6966 206c 656e 2876 6572 7469 6365    if len(vertice
+000042d0: 7329 203d 3d20 303a 0a20 2020 2020 2020  s) == 0:.       
+000042e0: 2072 6574 7572 6e20 706f 6c79 0a0a 2020   return poly..  
+000042f0: 2020 6966 206e 6f74 2069 735f 7365 7175    if not is_sequ
+00004300: 656e 6365 2876 6572 7469 6365 735b 305d  ence(vertices[0]
+00004310: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
+00004320: 6e20 706f 6c79 0a0a 2020 2020 7665 7274  n poly..    vert
+00004330: 6963 6573 203d 206d 616b 6533 6428 7665  ices = make3d(ve
+00004340: 7274 6963 6573 290a 0a20 2020 2073 6f75  rtices)..    sou
+00004350: 7263 655f 706f 696e 7473 203d 2076 746b  rce_points = vtk
+00004360: 2e76 746b 506f 696e 7473 2829 0a20 2020  .vtkPoints().   
+00004370: 2073 6f75 7263 655f 706f 696e 7473 2e53   source_points.S
+00004380: 6574 4461 7461 286e 756d 7079 3276 746b  etData(numpy2vtk
+00004390: 2876 6572 7469 6365 732c 2064 7479 7065  (vertices, dtype
+000043a0: 3d6e 702e 666c 6f61 7433 3229 290a 2020  =np.float32)).  
+000043b0: 2020 706f 6c79 2e53 6574 506f 696e 7473    poly.SetPoints
+000043c0: 2873 6f75 7263 655f 706f 696e 7473 290a  (source_points).
+000043d0: 0a20 2020 2069 6620 6c69 6e65 7320 6973  .    if lines is
+000043e0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+000043f0: 2020 2023 2043 7265 6174 6520 6120 6365     # Create a ce
+00004400: 6c6c 2061 7272 6179 2074 6f20 7374 6f72  ll array to stor
+00004410: 6520 7468 6520 6c69 6e65 7320 696e 2061  e the lines in a
+00004420: 6e64 2061 6464 2074 6865 206c 696e 6573  nd add the lines
+00004430: 2074 6f20 6974 0a20 2020 2020 2020 206c   to it.        l
+00004440: 696e 6573 6172 7220 3d20 7674 6b2e 7674  inesarr = vtk.vt
+00004450: 6b43 656c 6c41 7272 6179 2829 0a20 2020  kCellArray().   
+00004460: 2020 2020 2069 6620 6973 5f73 6571 7565       if is_seque
+00004470: 6e63 6528 6c69 6e65 735b 305d 293a 2020  nce(lines[0]):  
+00004480: 2320 6173 7375 6d65 2066 6f72 6d61 7420  # assume format 
+00004490: 5b28 6964 302c 6964 3129 2c2e 2e5d 0a20  [(id0,id1),..]. 
+000044a0: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
+000044b0: 6c69 6e65 2069 6e20 6c69 6e65 733a 0a20  line in lines:. 
+000044c0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+000044d0: 6f72 2069 2069 6e20 7261 6e67 6528 302c  or i in range(0,
+000044e0: 206c 656e 2869 6c69 6e65 2920 2d20 3129   len(iline) - 1)
+000044f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00004500: 2020 2020 2020 6931 2c20 6932 203d 2069        i1, i2 = i
+00004510: 6c69 6e65 5b69 5d2c 2069 6c69 6e65 5b69  line[i], iline[i
+00004520: 202b 2031 5d0a 2020 2020 2020 2020 2020   + 1].          
+00004530: 2020 2020 2020 2020 2020 6966 2069 3120            if i1 
+00004540: 213d 2069 323a 0a20 2020 2020 2020 2020  != i2:.         
+00004550: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+00004560: 6c69 6e65 203d 2076 746b 2e76 746b 4c69  line = vtk.vtkLi
+00004570: 6e65 2829 0a20 2020 2020 2020 2020 2020  ne().           
+00004580: 2020 2020 2020 2020 2020 2020 2076 6c69               vli
+00004590: 6e65 2e47 6574 506f 696e 7449 6473 2829  ne.GetPointIds()
+000045a0: 2e53 6574 4964 2830 2c20 6931 290a 2020  .SetId(0, i1).  
+000045b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045c0: 2020 2020 2020 766c 696e 652e 4765 7450        vline.GetP
+000045d0: 6f69 6e74 4964 7328 292e 5365 7449 6428  ointIds().SetId(
+000045e0: 312c 2069 3229 0a20 2020 2020 2020 2020  1, i2).         
+000045f0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00004600: 696e 6573 6172 722e 496e 7365 7274 4e65  inesarr.InsertNe
+00004610: 7874 4365 6c6c 2876 6c69 6e65 290a 2020  xtCell(vline).  
+00004620: 2020 2020 2020 656c 7365 3a20 2023 2061        else:  # a
+00004630: 7373 756d 6520 666f 726d 6174 205b 6964  ssume format [id
+00004640: 302c 6964 312c 2e2e 2e5d 0a20 2020 2020  0,id1,...].     
+00004650: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+00004660: 7261 6e67 6528 302c 206c 656e 286c 696e  range(0, len(lin
+00004670: 6573 2920 2d20 3129 3a0a 2020 2020 2020  es) - 1):.      
+00004680: 2020 2020 2020 2020 2020 766c 696e 6520            vline 
+00004690: 3d20 7674 6b2e 7674 6b4c 696e 6528 290a  = vtk.vtkLine().
+000046a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046b0: 766c 696e 652e 4765 7450 6f69 6e74 4964  vline.GetPointId
+000046c0: 7328 292e 5365 7449 6428 302c 206c 696e  s().SetId(0, lin
+000046d0: 6573 5b69 5d29 0a20 2020 2020 2020 2020  es[i]).         
+000046e0: 2020 2020 2020 2076 6c69 6e65 2e47 6574         vline.Get
+000046f0: 506f 696e 7449 6473 2829 2e53 6574 4964  PointIds().SetId
+00004700: 2831 2c20 6c69 6e65 735b 6920 2b20 315d  (1, lines[i + 1]
+00004710: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00004720: 2020 6c69 6e65 7361 7272 2e49 6e73 6572    linesarr.Inser
+00004730: 744e 6578 7443 656c 6c28 766c 696e 6529  tNextCell(vline)
+00004740: 0a20 2020 2020 2020 2020 2020 2023 2070  .            # p
+00004750: 7269 6e74 2827 5772 6f6e 6720 666f 726d  rint('Wrong form
+00004760: 6174 2066 6f72 206c 696e 6573 2069 6e20  at for lines in 
+00004770: 7574 696c 732e 6275 696c 6450 6f6c 7964  utils.buildPolyd
+00004780: 6174 6128 292c 2073 6b69 702e 2729 0a20  ata(), skip.'). 
+00004790: 2020 2020 2020 2070 6f6c 792e 5365 744c         poly.SetL
+000047a0: 696e 6573 286c 696e 6573 6172 7229 0a0a  ines(linesarr)..
+000047b0: 2020 2020 6966 2066 6163 6573 2069 7320      if faces is 
+000047c0: 4e6f 6e65 3a0a 2020 2020 2020 2020 736f  None:.        so
+000047d0: 7572 6365 5f76 6572 7469 6365 7320 3d20  urce_vertices = 
+000047e0: 7674 6b2e 7674 6b43 656c 6c41 7272 6179  vtk.vtkCellArray
+000047f0: 2829 0a20 2020 2020 2020 2066 6f72 2069  ().        for i
+00004800: 2069 6e20 7261 6e67 6528 6c65 6e28 7665   in range(len(ve
+00004810: 7274 6963 6573 2929 3a0a 2020 2020 2020  rtices)):.      
+00004820: 2020 2020 2020 736f 7572 6365 5f76 6572        source_ver
+00004830: 7469 6365 732e 496e 7365 7274 4e65 7874  tices.InsertNext
+00004840: 4365 6c6c 2831 290a 2020 2020 2020 2020  Cell(1).        
+00004850: 2020 2020 736f 7572 6365 5f76 6572 7469      source_verti
+00004860: 6365 732e 496e 7365 7274 4365 6c6c 506f  ces.InsertCellPo
+00004870: 696e 7428 6929 0a20 2020 2020 2020 2070  int(i).        p
+00004880: 6f6c 792e 5365 7456 6572 7473 2873 6f75  oly.SetVerts(sou
+00004890: 7263 655f 7665 7274 6963 6573 290a 2020  rce_vertices).  
+000048a0: 2020 2020 2020 7265 7475 726e 2070 6f6c        return pol
+000048b0: 7920 2023 2323 2323 2323 2323 2323 2323  y  #############
+000048c0: 2323 2323 2323 0a0a 2020 2020 2320 6661  ######..    # fa
+000048d0: 6365 7320 6578 6973 740a 2020 2020 736f  ces exist.    so
+000048e0: 7572 6365 5f70 6f6c 7967 6f6e 7320 3d20  urce_polygons = 
+000048f0: 7674 6b2e 7674 6b43 656c 6c41 7272 6179  vtk.vtkCellArray
+00004900: 2829 0a0a 2020 2020 6966 2069 7369 6e73  ()..    if isins
+00004910: 7461 6e63 6528 6661 6365 732c 206e 702e  tance(faces, np.
+00004920: 6e64 6172 7261 7929 206f 7220 6e6f 7420  ndarray) or not 
+00004930: 6973 5f72 6167 6765 6428 6661 6365 7329  is_ragged(faces)
+00004940: 3a0a 2020 2020 2020 2020 2323 2323 2320  :.        ##### 
+00004950: 616c 6c20 6661 6365 7320 6172 6520 636f  all faces are co
+00004960: 6d70 6f73 6564 206f 6620 6571 7561 6c20  mposed of equal 
+00004970: 6e72 206f 6620 7674 7873 2c20 4641 5354  nr of vtxs, FAST
+00004980: 0a20 2020 2020 2020 2066 6163 6573 203d  .        faces =
+00004990: 206e 702e 6173 6172 7261 7928 6661 6365   np.asarray(face
+000049a0: 7329 0a20 2020 2020 2020 2061 7374 203d  s).        ast =
+000049b0: 206e 702e 696e 7433 320a 2020 2020 2020   np.int32.      
+000049c0: 2020 6966 2076 746b 2e76 746b 4964 5479    if vtk.vtkIdTy
+000049d0: 7065 4172 7261 7928 292e 4765 7444 6174  peArray().GetDat
+000049e0: 6154 7970 6553 697a 6528 2920 213d 2034  aTypeSize() != 4
+000049f0: 3a0a 2020 2020 2020 2020 2020 2020 6173  :.            as
+00004a00: 7420 3d20 6e70 2e69 6e74 3634 0a0a 2020  t = np.int64..  
+00004a10: 2020 2020 2020 6966 2066 6163 6573 2e6e        if faces.n
+00004a20: 6469 6d20 3e20 313a 0a20 2020 2020 2020  dim > 1:.       
+00004a30: 2020 2020 206e 662c 206e 6320 3d20 6661       nf, nc = fa
+00004a40: 6365 732e 7368 6170 650a 2020 2020 2020  ces.shape.      
+00004a50: 2020 2020 2020 6873 203d 206e 702e 6873        hs = np.hs
+00004a60: 7461 636b 2828 6e70 2e7a 6572 6f73 286e  tack((np.zeros(n
+00004a70: 6629 5b3a 2c20 4e6f 6e65 5d20 2b20 6e63  f)[:, None] + nc
+00004a80: 2c20 6661 6365 7329 292e 6173 7479 7065  , faces)).astype
+00004a90: 2861 7374 292e 7261 7665 6c28 290a 2020  (ast).ravel().  
+00004aa0: 2020 2020 2020 2020 2020 6172 7220 3d20            arr = 
+00004ab0: 6e75 6d70 795f 746f 5f76 746b 4964 5479  numpy_to_vtkIdTy
+00004ac0: 7065 4172 7261 7928 6873 2c20 6465 6570  peArray(hs, deep
+00004ad0: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
+00004ae0: 2020 2073 6f75 7263 655f 706f 6c79 676f     source_polygo
+00004af0: 6e73 2e53 6574 4365 6c6c 7328 6e66 2c20  ns.SetCells(nf, 
+00004b00: 6172 7229 0a0a 2020 2020 656c 7365 3a0a  arr)..    else:.
+00004b10: 2020 2020 2020 2020 2323 2323 2323 2323          ########
+00004b20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00004b30: 2323 2323 2320 6d61 6e75 616c 6c79 2061  ##### manually a
+00004b40: 6464 2066 6163 6573 2c20 534c 4f57 0a0a  dd faces, SLOW..
+00004b50: 2020 2020 2020 2020 7368 6f77 6261 7220          showbar 
+00004b60: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+00004b70: 6966 206c 656e 2866 6163 6573 2920 3e20  if len(faces) > 
+00004b80: 3235 3030 303a 0a20 2020 2020 2020 2020  25000:.         
+00004b90: 2020 2073 686f 7762 6172 203d 2054 7275     showbar = Tru
+00004ba0: 650a 2020 2020 2020 2020 2020 2020 7062  e.            pb
+00004bb0: 203d 2050 726f 6772 6573 7342 6172 2830   = ProgressBar(0
+00004bc0: 2c20 6c65 6e28 6661 6365 7329 2c20 6574  , len(faces), et
+00004bd0: 613d 4661 6c73 6529 0a0a 2020 2020 2020  a=False)..      
+00004be0: 2020 666f 7220 6620 696e 2066 6163 6573    for f in faces
+00004bf0: 3a0a 2020 2020 2020 2020 2020 2020 6e20  :.            n 
+00004c00: 3d20 6c65 6e28 6629 0a0a 2020 2020 2020  = len(f)..      
+00004c10: 2020 2020 2020 6966 206e 203d 3d20 333a        if n == 3:
+00004c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004c30: 2065 6c65 203d 2076 746b 2e76 746b 5472   ele = vtk.vtkTr
+00004c40: 6961 6e67 6c65 2829 0a20 2020 2020 2020  iangle().       
+00004c50: 2020 2020 2020 2020 2070 6964 7320 3d20           pids = 
+00004c60: 656c 652e 4765 7450 6f69 6e74 4964 7328  ele.GetPointIds(
+00004c70: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00004c80: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
+00004c90: 2833 293a 0a20 2020 2020 2020 2020 2020  (3):.           
+00004ca0: 2020 2020 2020 2020 2070 6964 732e 5365           pids.Se
+00004cb0: 7449 6428 692c 2066 5b69 5d20 2d20 696e  tId(i, f[i] - in
+00004cc0: 6465 785f 6f66 6673 6574 290a 2020 2020  dex_offset).    
+00004cd0: 2020 2020 2020 2020 2020 2020 736f 7572              sour
+00004ce0: 6365 5f70 6f6c 7967 6f6e 732e 496e 7365  ce_polygons.Inse
+00004cf0: 7274 4e65 7874 4365 6c6c 2865 6c65 290a  rtNextCell(ele).
+00004d00: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+00004d10: 6620 6e20 3d3d 2034 2061 6e64 2074 6574  f n == 4 and tet
+00004d20: 7261 733a 0a20 2020 2020 2020 2020 2020  ras:.           
+00004d30: 2020 2020 2023 2064 6f20 6e6f 7420 7573       # do not us
+00004d40: 6520 7674 6b54 6574 7261 2829 2062 6563  e vtkTetra() bec
+00004d50: 6175 7365 2069 7420 6661 696c 730a 2020  ause it fails.  
+00004d60: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00004d70: 7769 7468 2064 6f6c 6669 6e20 6661 6365  with dolfin face
+00004d80: 7320 6f72 6965 6e74 6174 696f 6e0a 2020  s orientation.  
+00004d90: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00004da0: 6530 203d 2076 746b 2e76 746b 5472 6961  e0 = vtk.vtkTria
+00004db0: 6e67 6c65 2829 0a20 2020 2020 2020 2020  ngle().         
+00004dc0: 2020 2020 2020 2065 6c65 3120 3d20 7674         ele1 = vt
+00004dd0: 6b2e 7674 6b54 7269 616e 676c 6528 290a  k.vtkTriangle().
+00004de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004df0: 656c 6532 203d 2076 746b 2e76 746b 5472  ele2 = vtk.vtkTr
+00004e00: 6961 6e67 6c65 2829 0a20 2020 2020 2020  iangle().       
+00004e10: 2020 2020 2020 2020 2065 6c65 3320 3d20           ele3 = 
+00004e20: 7674 6b2e 7674 6b54 7269 616e 676c 6528  vtk.vtkTriangle(
+00004e30: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00004e40: 2020 6966 2069 6e64 6578 5f6f 6666 7365    if index_offse
+00004e50: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+00004e60: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+00004e70: 5b30 2c20 312c 2032 2c20 335d 3a0a 2020  [0, 1, 2, 3]:.  
+00004e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004e90: 2020 2020 2020 665b 695d 202d 3d20 696e        f[i] -= in
+00004ea0: 6465 785f 6f66 6673 6574 0a20 2020 2020  dex_offset.     
+00004eb0: 2020 2020 2020 2020 2020 2066 302c 2066             f0, f
+00004ec0: 312c 2066 322c 2066 3320 3d20 660a 2020  1, f2, f3 = f.  
+00004ed0: 2020 2020 2020 2020 2020 2020 2020 7069                pi
+00004ee0: 6430 203d 2065 6c65 302e 4765 7450 6f69  d0 = ele0.GetPoi
+00004ef0: 6e74 4964 7328 290a 2020 2020 2020 2020  ntIds().        
+00004f00: 2020 2020 2020 2020 7069 6431 203d 2065          pid1 = e
+00004f10: 6c65 312e 4765 7450 6f69 6e74 4964 7328  le1.GetPointIds(
+00004f20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00004f30: 2020 7069 6432 203d 2065 6c65 322e 4765    pid2 = ele2.Ge
+00004f40: 7450 6f69 6e74 4964 7328 290a 2020 2020  tPointIds().    
+00004f50: 2020 2020 2020 2020 2020 2020 7069 6433              pid3
+00004f60: 203d 2065 6c65 332e 4765 7450 6f69 6e74   = ele3.GetPoint
+00004f70: 4964 7328 290a 0a20 2020 2020 2020 2020  Ids()..         
+00004f80: 2020 2020 2020 2070 6964 302e 5365 7449         pid0.SetI
+00004f90: 6428 302c 2066 3029 0a20 2020 2020 2020  d(0, f0).       
+00004fa0: 2020 2020 2020 2020 2070 6964 302e 5365           pid0.Se
+00004fb0: 7449 6428 312c 2066 3129 0a20 2020 2020  tId(1, f1).     
+00004fc0: 2020 2020 2020 2020 2020 2070 6964 302e             pid0.
+00004fd0: 5365 7449 6428 322c 2066 3229 0a0a 2020  SetId(2, f2)..  
+00004fe0: 2020 2020 2020 2020 2020 2020 2020 7069                pi
+00004ff0: 6431 2e53 6574 4964 2830 2c20 6630 290a  d1.SetId(0, f0).
+00005000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005010: 7069 6431 2e53 6574 4964 2831 2c20 6631  pid1.SetId(1, f1
+00005020: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00005030: 2020 7069 6431 2e53 6574 4964 2832 2c20    pid1.SetId(2, 
+00005040: 6633 290a 0a20 2020 2020 2020 2020 2020  f3)..           
+00005050: 2020 2020 2070 6964 322e 5365 7449 6428       pid2.SetId(
+00005060: 302c 2066 3129 0a20 2020 2020 2020 2020  0, f1).         
+00005070: 2020 2020 2020 2070 6964 322e 5365 7449         pid2.SetI
+00005080: 6428 312c 2066 3229 0a20 2020 2020 2020  d(1, f2).       
+00005090: 2020 2020 2020 2020 2070 6964 322e 5365           pid2.Se
+000050a0: 7449 6428 322c 2066 3329 0a0a 2020 2020  tId(2, f3)..    
+000050b0: 2020 2020 2020 2020 2020 2020 7069 6433              pid3
+000050c0: 2e53 6574 4964 2830 2c20 6632 290a 2020  .SetId(0, f2).  
+000050d0: 2020 2020 2020 2020 2020 2020 2020 7069                pi
+000050e0: 6433 2e53 6574 4964 2831 2c20 6633 290a  d3.SetId(1, f3).
+000050f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005100: 7069 6433 2e53 6574 4964 2832 2c20 6630  pid3.SetId(2, f0
+00005110: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00005120: 2020 2073 6f75 7263 655f 706f 6c79 676f     source_polygo
+00005130: 6e73 2e49 6e73 6572 744e 6578 7443 656c  ns.InsertNextCel
+00005140: 6c28 656c 6530 290a 2020 2020 2020 2020  l(ele0).        
+00005150: 2020 2020 2020 2020 736f 7572 6365 5f70          source_p
+00005160: 6f6c 7967 6f6e 732e 496e 7365 7274 4e65  olygons.InsertNe
+00005170: 7874 4365 6c6c 2865 6c65 3129 0a20 2020  xtCell(ele1).   
+00005180: 2020 2020 2020 2020 2020 2020 2073 6f75               sou
+00005190: 7263 655f 706f 6c79 676f 6e73 2e49 6e73  rce_polygons.Ins
+000051a0: 6572 744e 6578 7443 656c 6c28 656c 6532  ertNextCell(ele2
+000051b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000051c0: 2020 736f 7572 6365 5f70 6f6c 7967 6f6e    source_polygon
+000051d0: 732e 496e 7365 7274 4e65 7874 4365 6c6c  s.InsertNextCell
+000051e0: 2865 6c65 3329 0a0a 2020 2020 2020 2020  (ele3)..        
+000051f0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00005200: 2020 2020 2020 2020 2020 656c 6520 3d20            ele = 
+00005210: 7674 6b2e 7674 6b50 6f6c 7967 6f6e 2829  vtk.vtkPolygon()
+00005220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005230: 2070 6964 7320 3d20 656c 652e 4765 7450   pids = ele.GetP
+00005240: 6f69 6e74 4964 7328 290a 2020 2020 2020  ointIds().      
+00005250: 2020 2020 2020 2020 2020 7069 6473 2e53            pids.S
+00005260: 6574 4e75 6d62 6572 4f66 4964 7328 6e29  etNumberOfIds(n)
+00005270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005280: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+00005290: 6e29 3a0a 2020 2020 2020 2020 2020 2020  n):.            
+000052a0: 2020 2020 2020 2020 7069 6473 2e53 6574          pids.Set
+000052b0: 4964 2869 2c20 665b 695d 202d 2069 6e64  Id(i, f[i] - ind
+000052c0: 6578 5f6f 6666 7365 7429 0a20 2020 2020  ex_offset).     
+000052d0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
+000052e0: 655f 706f 6c79 676f 6e73 2e49 6e73 6572  e_polygons.Inser
+000052f0: 744e 6578 7443 656c 6c28 656c 6529 0a20  tNextCell(ele). 
+00005300: 2020 2020 2020 2020 2020 2069 6620 7368             if sh
+00005310: 6f77 6261 723a 0a20 2020 2020 2020 2020  owbar:.         
+00005320: 2020 2020 2020 2070 622e 7072 696e 7428         pb.print(
+00005330: 2263 6f6e 7665 7274 696e 6720 6d65 7368  "converting mesh
+00005340: 2e2e 2e20 2020 2022 290a 0a20 2020 2070  ...    ")..    p
+00005350: 6f6c 792e 5365 7450 6f6c 7973 2873 6f75  oly.SetPolys(sou
+00005360: 7263 655f 706f 6c79 676f 6e73 290a 2020  rce_polygons).  
+00005370: 2020 7265 7475 726e 2070 6f6c 790a 0a0a    return poly...
+00005380: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00005390: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000053a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000053b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000053c0: 2323 2323 2323 2323 2323 2323 2323 0a64  ##############.d
+000053d0: 6566 2067 6574 5f66 6f6e 745f 7061 7468  ef get_font_path
+000053e0: 2866 6f6e 7429 3a0a 2020 2020 2222 2249  (font):.    """I
+000053f0: 6e74 6572 6e61 6c20 7573 652e 2222 220a  nternal use.""".
+00005400: 2020 2020 6966 2066 6f6e 7420 696e 2076      if font in v
+00005410: 6564 6f2e 7365 7474 696e 6773 2e66 6f6e  edo.settings.fon
+00005420: 745f 7061 7261 6d65 7465 7273 2e6b 6579  t_parameters.key
+00005430: 7328 293a 0a20 2020 2020 2020 2069 6620  s():.        if 
+00005440: 7665 646f 2e73 6574 7469 6e67 732e 666f  vedo.settings.fo
+00005450: 6e74 5f70 6172 616d 6574 6572 735b 666f  nt_parameters[fo
+00005460: 6e74 5d5b 2269 736c 6f63 616c 225d 3a0a  nt]["islocal"]:.
+00005470: 2020 2020 2020 2020 2020 2020 666c 203d              fl =
+00005480: 206f 732e 7061 7468 2e6a 6f69 6e28 7665   os.path.join(ve
+00005490: 646f 2e66 6f6e 7473 5f70 6174 682c 2066  do.fonts_path, f
+000054a0: 227b 666f 6e74 7d2e 7474 6622 290a 2020  "{font}.ttf").  
+000054b0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000054c0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+000054d0: 2020 2020 2020 2020 2020 2020 2066 6c20               fl 
+000054e0: 3d20 7665 646f 2e66 696c 655f 696f 2e64  = vedo.file_io.d
+000054f0: 6f77 6e6c 6f61 6428 6622 6874 7470 733a  ownload(f"https:
+00005500: 2f2f 7665 646f 2e65 6d62 6c2e 6573 2f66  //vedo.embl.es/f
+00005510: 6f6e 7473 2f7b 666f 6e74 7d2e 7474 6622  onts/{font}.ttf"
+00005520: 2c20 7665 7262 6f73 653d 4661 6c73 6529  , verbose=False)
+00005530: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+00005540: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
+00005550: 2020 2020 2076 6564 6f2e 6c6f 6767 6572       vedo.logger
+00005560: 2e77 6172 6e69 6e67 2866 2243 6f75 6c64  .warning(f"Could
+00005570: 206e 6f74 2064 6f77 6e6c 6f61 6420 6874   not download ht
+00005580: 7470 733a 2f2f 7665 646f 2e65 6d62 6c2e  tps://vedo.embl.
+00005590: 6573 2f66 6f6e 7473 2f7b 666f 6e74 7d2e  es/fonts/{font}.
+000055a0: 7474 6622 290a 2020 2020 2020 2020 2020  ttf").          
+000055b0: 2020 2020 2020 666c 203d 206f 732e 7061        fl = os.pa
+000055c0: 7468 2e6a 6f69 6e28 7665 646f 2e66 6f6e  th.join(vedo.fon
+000055d0: 7473 5f70 6174 682c 2022 4e6f 726d 6f67  ts_path, "Normog
+000055e0: 7261 666f 2e74 7466 2229 0a20 2020 2065  rafo.ttf").    e
+000055f0: 6c73 653a 0a20 2020 2020 2020 2069 6620  lse:.        if 
+00005600: 666f 6e74 2e73 7461 7274 7377 6974 6828  font.startswith(
+00005610: 2268 7474 7073 3a2f 2f22 293a 0a20 2020  "https://"):.   
+00005620: 2020 2020 2020 2020 2066 6c20 3d20 7665           fl = ve
+00005630: 646f 2e66 696c 655f 696f 2e64 6f77 6e6c  do.file_io.downl
+00005640: 6f61 6428 666f 6e74 2c20 7665 7262 6f73  oad(font, verbos
+00005650: 653d 4661 6c73 6529 0a20 2020 2020 2020  e=False).       
+00005660: 2065 6c69 6620 6f73 2e70 6174 682e 6973   elif os.path.is
+00005670: 6669 6c65 2866 6f6e 7429 3a0a 2020 2020  file(font):.    
+00005680: 2020 2020 2020 2020 666c 203d 2066 6f6e          fl = fon
+00005690: 7420 2023 2061 7373 756d 6520 7573 6572  t  # assume user
+000056a0: 2069 7320 7061 7373 696e 6720 6120 7661   is passing a va
+000056b0: 6c69 6420 6669 6c65 0a20 2020 2020 2020  lid file.       
+000056c0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000056d0: 2020 2069 6620 666f 6e74 2e65 6e64 7377     if font.endsw
+000056e0: 6974 6828 222e 7474 6622 293a 0a20 2020  ith(".ttf"):.   
+000056f0: 2020 2020 2020 2020 2020 2020 2076 6564               ved
+00005700: 6f2e 6c6f 6767 6572 2e65 7272 6f72 280a  o.logger.error(.
+00005710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005720: 2020 2020 6622 436f 756c 6420 6e6f 7420      f"Could not 
+00005730: 7365 7420 666f 6e74 2066 696c 6520 7b66  set font file {f
+00005740: 6f6e 747d 220a 2020 2020 2020 2020 2020  ont}".          
+00005750: 2020 2020 2020 2020 2020 6622 2d3e 2075            f"-> u
+00005760: 7369 6e67 2064 6566 6175 6c74 3a20 7b76  sing default: {v
+00005770: 6564 6f2e 7365 7474 696e 6773 2e64 6566  edo.settings.def
+00005780: 6175 6c74 5f66 6f6e 747d 220a 2020 2020  ault_font}".    
+00005790: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+000057a0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000057b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000057c0: 7665 646f 2e73 6574 7469 6e67 732e 6465  vedo.settings.de
+000057d0: 6661 756c 745f 666f 6e74 203d 2022 4e6f  fault_font = "No
+000057e0: 726d 6f67 7261 666f 220a 2020 2020 2020  rmografo".      
+000057f0: 2020 2020 2020 2020 2020 7665 646f 2e6c            vedo.l
+00005800: 6f67 6765 722e 6572 726f 7228 0a20 2020  ogger.error(.   
+00005810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005820: 2066 2243 6f75 6c64 206e 6f74 2073 6574   f"Could not set
+00005830: 2066 6f6e 7420 6e61 6d65 207b 666f 6e74   font name {font
+00005840: 7d22 0a20 2020 2020 2020 2020 2020 2020  }".             
+00005850: 2020 2020 2020 2066 2220 2d3e 2075 7369         f" -> usi
+00005860: 6e67 2064 6566 6175 6c74 3a20 4e6f 726d  ng default: Norm
+00005870: 6f67 7261 666f 5c6e 220a 2020 2020 2020  ografo\n".      
+00005880: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+00005890: 4368 6563 6b20 6f75 7420 6874 7470 733a  Check out https:
+000058a0: 2f2f 7665 646f 2e65 6d62 6c2e 6573 2f66  //vedo.embl.es/f
+000058b0: 6f6e 7473 2066 6f72 2061 6464 6974 696f  onts for additio
+000058c0: 6e61 6c20 666f 6e74 735c 6e22 0a20 2020  nal fonts\n".   
+000058d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000058e0: 2066 2254 7970 6520 2776 6564 6f20 2d72   f"Type 'vedo -r
+000058f0: 2066 6f6e 7473 2720 746f 2073 6565 2061   fonts' to see a
+00005900: 7661 696c 6162 6c65 2066 6f6e 7473 220a  vailable fonts".
+00005910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005920: 290a 2020 2020 2020 2020 2020 2020 666c  ).            fl
+00005930: 203d 2067 6574 5f66 6f6e 745f 7061 7468   = get_font_path
+00005940: 2876 6564 6f2e 7365 7474 696e 6773 2e64  (vedo.settings.d
+00005950: 6566 6175 6c74 5f66 6f6e 7429 0a20 2020  efault_font).   
+00005960: 2072 6574 7572 6e20 666c 0a0a 0a64 6566   return fl...def
+00005970: 2069 7353 6571 7565 6e63 6528 6172 6729   isSequence(arg)
+00005980: 3a0a 2020 2020 2244 6570 7265 6361 7465  :.    "Deprecate
+00005990: 642e 2050 6c65 6173 6520 7573 6520 6069  d. Please use `i
+000059a0: 735f 7365 7175 656e 6365 2829 6022 0a20  s_sequence()`". 
+000059b0: 2020 206d 203d 2022 5761 726e 696e 6721     m = "Warning!
+000059c0: 2069 7353 6571 7565 6e63 6528 2920 6973   isSequence() is
+000059d0: 2064 6570 7265 6361 7465 642e 2050 6c65   deprecated. Ple
+000059e0: 6173 6520 7573 6520 6973 5f73 6571 7565  ase use is_seque
+000059f0: 6e63 6528 292e 220a 2020 2020 7072 696e  nce().".    prin
+00005a00: 7428 225c 7831 625b 316d 5c78 3162 5b33  t("\x1b[1m\x1b[3
+00005a10: 333b 316d 2022 202b 206d 202b 2022 5c78  3;1m " + m + "\x
+00005a20: 3162 5b30 6d22 290a 2020 2020 7265 7475  1b[0m").    retu
+00005a30: 726e 2069 735f 7365 7175 656e 6365 2861  rn is_sequence(a
+00005a40: 7267 290a 0a0a 6465 6620 6973 5f73 6571  rg)...def is_seq
+00005a50: 7565 6e63 6528 6172 6729 3a0a 2020 2020  uence(arg):.    
+00005a60: 2222 2243 6865 636b 2069 6620 7468 6520  """Check if the 
+00005a70: 696e 7075 7420 6973 2069 7465 7261 626c  input is iterabl
+00005a80: 652e 2222 220a 2020 2020 6966 2068 6173  e.""".    if has
+00005a90: 6174 7472 2861 7267 2c20 2273 7472 6970  attr(arg, "strip
+00005aa0: 2229 3a0a 2020 2020 2020 2020 7265 7475  "):.        retu
+00005ab0: 726e 2046 616c 7365 0a20 2020 2069 6620  rn False.    if 
+00005ac0: 6861 7361 7474 7228 6172 672c 2022 5f5f  hasattr(arg, "__
+00005ad0: 6765 7473 6c69 6365 5f5f 2229 3a0a 2020  getslice__"):.  
+00005ae0: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
+00005af0: 650a 2020 2020 6966 2068 6173 6174 7472  e.    if hasattr
+00005b00: 2861 7267 2c20 225f 5f69 7465 725f 5f22  (arg, "__iter__"
+00005b10: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
+00005b20: 6e20 5472 7565 0a20 2020 2072 6574 7572  n True.    retur
+00005b30: 6e20 4661 6c73 650a 0a0a 6465 6620 6973  n False...def is
+00005b40: 5f72 6167 6765 6428 6172 722c 2064 6565  _ragged(arr, dee
+00005b50: 703d 4661 6c73 6529 3a0a 2020 2020 2222  p=False):.    ""
+00005b60: 220a 2020 2020 4120 7261 6767 6564 2061  ".    A ragged a
+00005b70: 7272 6179 2069 6e20 5079 7468 6f6e 2069  rray in Python i
+00005b80: 7320 616e 2061 7272 6179 2077 6974 6820  s an array with 
+00005b90: 6172 7261 7973 206f 6620 6469 6666 6572  arrays of differ
+00005ba0: 656e 740a 2020 2020 6c65 6e67 7468 7320  ent.    lengths 
+00005bb0: 6173 2069 7473 2065 6c65 6d65 6e74 732e  as its elements.
+00005bc0: 2054 6f20 6368 6563 6b20 6966 2061 6e20   To check if an 
+00005bd0: 6172 7261 7920 6973 2072 6167 6765 642c  array is ragged,
+00005be0: 0a20 2020 2077 6520 6974 6572 6174 6520  .    we iterate 
+00005bf0: 7468 726f 7567 6820 7468 6520 656c 656d  through the elem
+00005c00: 656e 7473 2061 6e64 2063 6865 636b 2069  ents and check i
+00005c10: 6620 7468 6569 7220 6c65 6e67 7468 7320  f their lengths 
+00005c20: 6172 6520 7468 6520 7361 6d65 2e0a 0a20  are the same... 
+00005c30: 2020 2045 7861 6d70 6c65 3a0a 2020 2020     Example:.    
+00005c40: 6060 6070 7974 686f 6e0a 2020 2020 6172  ```python.    ar
+00005c50: 7220 3d20 5b5b 312c 2032 2c20 335d 2c20  r = [[1, 2, 3], 
+00005c60: 5b5b 342c 2035 5d2c 205b 365d 2c20 315d  [[4, 5], [6], 1]
+00005c70: 2c20 5b37 2c20 382c 2039 5d5d 0a20 2020  , [7, 8, 9]].   
+00005c80: 2070 7269 6e74 2869 735f 7261 6767 6564   print(is_ragged
+00005c90: 2861 7272 2c20 6465 6570 3d54 7275 6529  (arr, deep=True)
+00005ca0: 2920 2023 206f 7574 7075 743a 2054 7275  )  # output: Tru
+00005cb0: 650a 2020 2020 6060 600a 2020 2020 2222  e.    ```.    ""
+00005cc0: 220a 2020 2020 6966 2069 735f 7365 7175  ".    if is_sequ
+00005cd0: 656e 6365 2861 7272 5b30 5d29 3a0a 2020  ence(arr[0]):.  
+00005ce0: 2020 2020 2020 6c65 6e67 7468 203d 206c        length = l
+00005cf0: 656e 2861 7272 5b30 5d29 0a20 2020 2020  en(arr[0]).     
+00005d00: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+00005d10: 6528 312c 206c 656e 2861 7272 2929 3a0a  e(1, len(arr)):.
+00005d20: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+00005d30: 656e 2861 7272 5b69 5d29 2021 3d20 6c65  en(arr[i]) != le
+00005d40: 6e67 7468 206f 7220 2864 6565 7020 616e  ngth or (deep an
+00005d50: 6420 6973 5f72 6167 6765 6428 6172 725b  d is_ragged(arr[
+00005d60: 695d 2929 3a0a 2020 2020 2020 2020 2020  i])):.          
+00005d70: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
+00005d80: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+00005d90: 2046 616c 7365 0a20 2020 2072 6574 7572   False.    retur
+00005da0: 6e20 4661 6c73 650a 0a0a 6465 6620 666c  n False...def fl
+00005db0: 6174 7465 6e28 6c69 7374 5f74 6f5f 666c  atten(list_to_fl
+00005dc0: 6174 7465 6e29 3a0a 2020 2020 2222 2246  atten):.    """F
+00005dd0: 6c61 7474 656e 206f 7574 2061 206c 6973  latten out a lis
+00005de0: 742e 2222 220a 0a20 2020 2064 6566 205f  t."""..    def _
+00005df0: 6765 6e66 6c61 7474 656e 286c 7374 293a  genflatten(lst):
+00005e00: 0a20 2020 2020 2020 2066 6f72 2065 6c65  .        for ele
+00005e10: 6d20 696e 206c 7374 3a0a 2020 2020 2020  m in lst:.      
+00005e20: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00005e30: 6e63 6528 656c 656d 2c20 286c 6973 742c  nce(elem, (list,
+00005e40: 2074 7570 6c65 2929 3a0a 2020 2020 2020   tuple)):.      
+00005e50: 2020 2020 2020 2020 2020 666f 7220 7820            for x 
+00005e60: 696e 2066 6c61 7474 656e 2865 6c65 6d29  in flatten(elem)
+00005e70: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00005e80: 2020 2020 2020 7969 656c 6420 780a 2020        yield x.  
+00005e90: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00005ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005eb0: 7969 656c 6420 656c 656d 0a0a 2020 2020  yield elem..    
+00005ec0: 7265 7475 726e 206c 6973 7428 5f67 656e  return list(_gen
+00005ed0: 666c 6174 7465 6e28 6c69 7374 5f74 6f5f  flatten(list_to_
+00005ee0: 666c 6174 7465 6e29 290a 0a0a 6465 6620  flatten))...def 
+00005ef0: 6875 6d61 6e73 6f72 7428 616c 6973 7429  humansort(alist)
+00005f00: 3a0a 2020 2020 2222 220a 2020 2020 536f  :.    """.    So
+00005f10: 7274 2069 6e20 706c 6163 6520 6120 6769  rt in place a gi
+00005f20: 7665 6e20 6c69 7374 2074 6865 2077 6179  ven list the way
+00005f30: 2068 756d 616e 7320 6578 7065 6374 2e0a   humans expect..
+00005f40: 0a20 2020 2045 2e67 2e20 605b 2766 696c  .    E.g. `['fil
+00005f50: 6531 3127 2c20 2766 696c 6531 275d 202d  e11', 'file1'] -
+00005f60: 3e20 5b27 6669 6c65 3127 2c20 2766 696c  > ['file1', 'fil
+00005f70: 6531 3127 5d60 0a0a 2020 2020 2e2e 2077  e11']`..    .. w
+00005f80: 6172 6e69 6e67 3a3a 2069 6e70 7574 206c  arning:: input l
+00005f90: 6973 7420 6973 206d 6f64 6966 6965 6420  ist is modified 
+00005fa0: 696e 2d70 6c61 6365 2062 7920 7468 6973  in-place by this
+00005fb0: 2066 756e 6374 696f 6e2e 0a20 2020 2022   function..    "
+00005fc0: 2222 0a20 2020 2069 6d70 6f72 7420 7265  "".    import re
+00005fd0: 0a0a 2020 2020 6465 6620 616c 7068 616e  ..    def alphan
+00005fe0: 756d 5f6b 6579 2873 293a 0a20 2020 2020  um_key(s):.     
+00005ff0: 2020 2023 2054 7572 6e20 6120 7374 7269     # Turn a stri
+00006000: 6e67 2069 6e74 6f20 6120 6c69 7374 206f  ng into a list o
+00006010: 6620 7374 7269 6e67 2061 6e64 206e 756d  f string and num
+00006020: 6265 7220 6368 756e 6b73 2e0a 2020 2020  ber chunks..    
+00006030: 2020 2020 2320 652e 672e 2022 7a32 3361      # e.g. "z23a
+00006040: 2220 2d3e 205b 227a 222c 2032 332c 2022  " -> ["z", 23, "
+00006050: 6122 5d0a 2020 2020 2020 2020 6465 6620  a"].        def 
+00006060: 7472 7969 6e74 2873 293a 0a20 2020 2020  tryint(s):.     
+00006070: 2020 2020 2020 2069 6620 732e 6973 6469         if s.isdi
+00006080: 6769 7428 293a 0a20 2020 2020 2020 2020  git():.         
+00006090: 2020 2020 2020 2072 6574 7572 6e20 696e         return in
+000060a0: 7428 7329 0a20 2020 2020 2020 2020 2020  t(s).           
+000060b0: 2072 6574 7572 6e20 730a 0a20 2020 2020   return s..     
+000060c0: 2020 2072 6574 7572 6e20 5b74 7279 696e     return [tryin
+000060d0: 7428 6329 2066 6f72 2063 2069 6e20 7265  t(c) for c in re
+000060e0: 2e73 706c 6974 2822 285b 302d 395d 2b29  .split("([0-9]+)
+000060f0: 222c 2073 295d 0a0a 2020 2020 616c 6973  ", s)]..    alis
+00006100: 742e 736f 7274 286b 6579 3d61 6c70 6861  t.sort(key=alpha
+00006110: 6e75 6d5f 6b65 7929 0a20 2020 2072 6574  num_key).    ret
+00006120: 7572 6e20 616c 6973 7420 2023 204e 423a  urn alist  # NB:
+00006130: 2069 6e70 7574 206c 6973 7420 6973 206d   input list is m
+00006140: 6f64 6966 6965 640a 0a0a 6465 6620 736f  odified...def so
+00006150: 7274 5f62 795f 636f 6c75 6d6e 2861 7272  rt_by_column(arr
+00006160: 2c20 6e74 682c 2069 6e76 6572 743d 4661  , nth, invert=Fa
+00006170: 6c73 6529 3a0a 2020 2020 2222 2253 6f72  lse):.    """Sor
+00006180: 7420 6120 6e75 6d70 7920 6172 7261 7920  t a numpy array 
+00006190: 6279 2069 7473 2060 6e2d 7468 6020 636f  by its `n-th` co
+000061a0: 6c75 6d6e 2e22 2222 0a20 2020 2061 7272  lumn.""".    arr
+000061b0: 203d 206e 702e 6173 6172 7261 7928 6172   = np.asarray(ar
+000061c0: 7229 0a20 2020 2061 7272 203d 2061 7272  r).    arr = arr
+000061d0: 5b61 7272 5b3a 2c20 6e74 685d 2e61 7267  [arr[:, nth].arg
+000061e0: 736f 7274 2829 5d0a 2020 2020 6966 2069  sort()].    if i
+000061f0: 6e76 6572 743a 0a20 2020 2020 2020 2072  nvert:.        r
+00006200: 6574 7572 6e20 6e70 2e66 6c69 7028 6172  eturn np.flip(ar
+00006210: 722c 2061 7869 733d 3029 0a20 2020 2072  r, axis=0).    r
+00006220: 6574 7572 6e20 6172 720a 0a0a 6465 6620  eturn arr...def 
+00006230: 706f 696e 745f 696e 5f74 7269 616e 676c  point_in_triangl
+00006240: 6528 702c 2070 312c 2070 322c 2070 3329  e(p, p1, p2, p3)
+00006250: 3a0a 2020 2020 2222 220a 2020 2020 5265  :.    """.    Re
+00006260: 7475 726e 2054 7275 6520 6966 2061 2070  turn True if a p
+00006270: 6f69 6e74 2069 7320 696e 7369 6465 2028  oint is inside (
+00006280: 6f72 2061 626f 7665 2f62 656c 6f77 290a  or above/below).
+00006290: 2020 2020 6120 7472 6961 6e67 6c65 2064      a triangle d
+000062a0: 6566 696e 6564 2062 7920 3320 706f 696e  efined by 3 poin
+000062b0: 7473 2069 6e20 7370 6163 652e 0a20 2020  ts in space..   
+000062c0: 2022 2222 0a20 2020 2070 3120 3d20 6e70   """.    p1 = np
+000062d0: 2e61 7272 6179 2870 3129 0a20 2020 2075  .array(p1).    u
+000062e0: 203d 2070 3220 2d20 7031 0a20 2020 2076   = p2 - p1.    v
+000062f0: 203d 2070 3320 2d20 7031 0a20 2020 206e   = p3 - p1.    n
+00006300: 203d 206e 702e 6372 6f73 7328 752c 2076   = np.cross(u, v
+00006310: 290a 2020 2020 7720 3d20 7020 2d20 7031  ).    w = p - p1
+00006320: 0a20 2020 206c 6e20 3d20 6e70 2e64 6f74  .    ln = np.dot
+00006330: 286e 2c20 6e29 0a20 2020 2069 6620 6e6f  (n, n).    if no
+00006340: 7420 6c6e 3a0a 2020 2020 2020 2020 7265  t ln:.        re
+00006350: 7475 726e 204e 6f6e 6520 2023 2064 6567  turn None  # deg
+00006360: 656e 6572 6174 6520 7472 6961 6e67 6c65  enerate triangle
+00006370: 0a20 2020 2067 616d 6d61 203d 2028 6e70  .    gamma = (np
+00006380: 2e64 6f74 286e 702e 6372 6f73 7328 752c  .dot(np.cross(u,
+00006390: 2077 292c 206e 2929 202f 206c 6e0a 2020   w), n)) / ln.  
+000063a0: 2020 6966 2030 203c 2067 616d 6d61 203c    if 0 < gamma <
+000063b0: 2031 3a0a 2020 2020 2020 2020 6265 7461   1:.        beta
+000063c0: 203d 2028 6e70 2e64 6f74 286e 702e 6372   = (np.dot(np.cr
+000063d0: 6f73 7328 772c 2076 292c 206e 2929 202f  oss(w, v), n)) /
+000063e0: 206c 6e0a 2020 2020 2020 2020 6966 2030   ln.        if 0
+000063f0: 203c 2062 6574 6120 3c20 313a 0a20 2020   < beta < 1:.   
+00006400: 2020 2020 2020 2020 2061 6c70 6861 203d           alpha =
+00006410: 2031 202d 2067 616d 6d61 202d 2062 6574   1 - gamma - bet
+00006420: 610a 2020 2020 2020 2020 2020 2020 6966  a.            if
+00006430: 2030 203c 2061 6c70 6861 203c 2031 3a0a   0 < alpha < 1:.
+00006440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006450: 7265 7475 726e 2054 7275 650a 2020 2020  return True.    
+00006460: 7265 7475 726e 2046 616c 7365 0a0a 0a64  return False...d
+00006470: 6566 2069 6e74 6572 7365 6374 696f 6e5f  ef intersection_
+00006480: 7261 795f 7472 6961 6e67 6c65 2850 302c  ray_triangle(P0,
+00006490: 2050 312c 2056 302c 2056 312c 2056 3229   P1, V0, V1, V2)
+000064a0: 3a0a 2020 2020 2222 220a 2020 2020 4661  :.    """.    Fa
+000064b0: 7374 2069 6e74 6572 7365 6374 696f 6e20  st intersection 
+000064c0: 6265 7477 6565 6e20 6120 6469 7265 6374  between a direct
+000064d0: 696f 6e61 6c20 7261 7920 6465 6669 6e65  ional ray define
+000064e0: 6420 6279 2060 5030 2c50 3160 0a20 2020  d by `P0,P1`.   
+000064f0: 2061 6e64 2074 7269 616e 676c 6520 6056   and triangle `V
+00006500: 302c 2056 312c 2056 3260 2e0a 0a20 2020  0, V1, V2`...   
+00006510: 2052 6574 7572 6e73 2074 6865 2069 6e74   Returns the int
+00006520: 6572 7365 6374 696f 6e20 706f 696e 7420  ersection point 
+00006530: 6f72 0a20 2020 202d 2060 4e6f 6e65 6020  or.    - `None` 
+00006540: 6966 2074 7269 616e 676c 6520 6973 2064  if triangle is d
+00006550: 6567 656e 6572 6174 652c 206f 7220 7261  egenerate, or ra
+00006560: 7920 6973 2020 7061 7261 6c6c 656c 2074  y is  parallel t
+00006570: 6f20 7472 6961 6e67 6c65 2070 6c61 6e65  o triangle plane
+00006580: 2e0a 2020 2020 2d20 6046 616c 7365 6020  ..    - `False` 
+00006590: 6966 206e 6f20 696e 7465 7273 6563 7469  if no intersecti
+000065a0: 6f6e 2c20 6f72 2072 6179 2064 6972 6563  on, or ray direc
+000065b0: 7469 6f6e 2070 6f69 6e74 7320 6177 6179  tion points away
+000065c0: 2066 726f 6d20 7472 6961 6e67 6c65 2e0a   from triangle..
+000065d0: 2020 2020 2222 220a 2020 2020 2320 4372      """.    # Cr
+000065e0: 6564 6974 733a 2068 7474 703a 2f2f 6765  edits: http://ge
+000065f0: 6f6d 616c 676f 7269 7468 6d73 2e63 6f6d  omalgorithms.com
+00006600: 2f61 3036 2d5f 696e 7465 7273 6563 742d  /a06-_intersect-
+00006610: 322e 6874 6d6c 0a20 2020 2023 2047 6574  2.html.    # Get
+00006620: 2074 7269 616e 676c 6520 6564 6765 2076   triangle edge v
+00006630: 6563 746f 7273 2061 6e64 2070 6c61 6e65  ectors and plane
+00006640: 206e 6f72 6d61 6c0a 2020 2020 2320 746f   normal.    # to
+00006650: 646f 203a 2074 6869 7320 6973 2073 6c6f  do : this is slo
+00006660: 7720 7368 6f75 6c64 2063 6865 636b 0a20  w should check. 
+00006670: 2020 2023 2068 7474 7073 3a2f 2f76 746b     # https://vtk
+00006680: 2e6f 7267 2f64 6f63 2f6e 6967 6874 6c79  .org/doc/nightly
+00006690: 2f68 746d 6c2f 636c 6173 7376 746b 4365  /html/classvtkCe
+000066a0: 6c6c 2e68 746d 6c23 6161 3835 3033 3832  ll.html#aa850382
+000066b0: 3231 3364 3762 3836 3933 6630 6565 6563  213d7b8693f0eeec
+000066c0: 3032 3039 6333 3437 620a 2020 2020 5630  0209c347b.    V0
+000066d0: 203d 206e 702e 6173 6172 7261 7928 5630   = np.asarray(V0
+000066e0: 2c20 6474 7970 653d 666c 6f61 7429 0a20  , dtype=float). 
+000066f0: 2020 2050 3020 3d20 6e70 2e61 7361 7272     P0 = np.asarr
+00006700: 6179 2850 302c 2064 7479 7065 3d66 6c6f  ay(P0, dtype=flo
+00006710: 6174 290a 2020 2020 7520 3d20 5631 202d  at).    u = V1 -
+00006720: 2056 300a 2020 2020 7620 3d20 5632 202d   V0.    v = V2 -
+00006730: 2056 300a 2020 2020 6e20 3d20 6e70 2e63   V0.    n = np.c
+00006740: 726f 7373 2875 2c20 7629 0a20 2020 2069  ross(u, v).    i
+00006750: 6620 6e6f 7420 6e70 2e61 6273 2876 292e  f not np.abs(v).
+00006760: 7375 6d28 293a 2020 2320 7472 6961 6e67  sum():  # triang
+00006770: 6c65 2069 7320 6465 6765 6e65 7261 7465  le is degenerate
+00006780: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00006790: 4e6f 6e65 2020 2320 646f 206e 6f74 2064  None  # do not d
+000067a0: 6561 6c20 7769 7468 2074 6869 7320 6361  eal with this ca
+000067b0: 7365 0a0a 2020 2020 7264 203d 2050 3120  se..    rd = P1 
+000067c0: 2d20 5030 2020 2320 7261 7920 6469 7265  - P0  # ray dire
+000067d0: 6374 696f 6e20 7665 6374 6f72 0a20 2020  ction vector.   
+000067e0: 2077 3020 3d20 5030 202d 2056 300a 2020   w0 = P0 - V0.  
+000067f0: 2020 6120 3d20 2d6e 702e 646f 7428 6e2c    a = -np.dot(n,
+00006800: 2077 3029 0a20 2020 2062 203d 206e 702e   w0).    b = np.
+00006810: 646f 7428 6e2c 2072 6429 0a20 2020 2069  dot(n, rd).    i
+00006820: 6620 6e6f 7420 623a 2020 2320 7261 7920  f not b:  # ray 
+00006830: 6973 2020 7061 7261 6c6c 656c 2074 6f20  is  parallel to 
+00006840: 7472 6961 6e67 6c65 2070 6c61 6e65 0a20  triangle plane. 
+00006850: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+00006860: 6e65 0a0a 2020 2020 2320 4765 7420 696e  ne..    # Get in
+00006870: 7465 7273 6563 7420 706f 696e 7420 6f66  tersect point of
+00006880: 2072 6179 2077 6974 6820 7472 6961 6e67   ray with triang
+00006890: 6c65 2070 6c61 6e65 0a20 2020 2072 203d  le plane.    r =
+000068a0: 2061 202f 2062 0a20 2020 2069 6620 7220   a / b.    if r 
+000068b0: 3c20 302e 303a 2020 2320 7261 7920 676f  < 0.0:  # ray go
+000068c0: 6573 2061 7761 7920 6672 6f6d 2074 7269  es away from tri
+000068d0: 616e 676c 650a 2020 2020 2020 2020 7265  angle.        re
+000068e0: 7475 726e 2046 616c 7365 2020 2320 203d  turn False  #  =
+000068f0: 3e20 6e6f 2069 6e74 6572 7365 6374 0a0a  > no intersect..
+00006900: 2020 2020 2320 476f 7220 6120 7365 676d      # Gor a segm
+00006910: 656e 742c 2061 6c73 6f20 7465 7374 2069  ent, also test i
+00006920: 6620 2872 203e 2031 2e30 2920 3d3e 206e  f (r > 1.0) => n
+00006930: 6f20 696e 7465 7273 6563 740a 2020 2020  o intersect.    
+00006940: 4920 3d20 5030 202b 2072 202a 2072 6420  I = P0 + r * rd 
+00006950: 2023 2069 6e74 6572 7365 6374 2070 6f69   # intersect poi
+00006960: 6e74 206f 6620 7261 7920 616e 6420 706c  nt of ray and pl
+00006970: 616e 650a 0a20 2020 2023 2069 7320 4920  ane..    # is I 
+00006980: 696e 7369 6465 2054 3f0a 2020 2020 7575  inside T?.    uu
+00006990: 203d 206e 702e 646f 7428 752c 2075 290a   = np.dot(u, u).
+000069a0: 2020 2020 7576 203d 206e 702e 646f 7428      uv = np.dot(
+000069b0: 752c 2076 290a 2020 2020 7676 203d 206e  u, v).    vv = n
+000069c0: 702e 646f 7428 762c 2076 290a 2020 2020  p.dot(v, v).    
+000069d0: 7720 3d20 4920 2d20 5630 0a20 2020 2077  w = I - V0.    w
+000069e0: 7520 3d20 6e70 2e64 6f74 2877 2c20 7529  u = np.dot(w, u)
+000069f0: 0a20 2020 2077 7620 3d20 6e70 2e64 6f74  .    wv = np.dot
+00006a00: 2877 2c20 7629 0a20 2020 2044 203d 2075  (w, v).    D = u
+00006a10: 7620 2a20 7576 202d 2075 7520 2a20 7676  v * uv - uu * vv
+00006a20: 0a0a 2020 2020 2320 4765 7420 616e 6420  ..    # Get and 
+00006a30: 7465 7374 2070 6172 616d 6574 7269 6320  test parametric 
+00006a40: 636f 6f72 6473 0a20 2020 2073 203d 2028  coords.    s = (
+00006a50: 7576 202a 2077 7620 2d20 7676 202a 2077  uv * wv - vv * w
+00006a60: 7529 202f 2044 0a20 2020 2069 6620 7320  u) / D.    if s 
+00006a70: 3c20 302e 3020 6f72 2073 203e 2031 2e30  < 0.0 or s > 1.0
+00006a80: 3a20 2023 2049 2069 7320 6f75 7473 6964  :  # I is outsid
+00006a90: 6520 540a 2020 2020 2020 2020 7265 7475  e T.        retu
+00006aa0: 726e 2046 616c 7365 0a20 2020 2074 203d  rn False.    t =
+00006ab0: 2028 7576 202a 2077 7520 2d20 7575 202a   (uv * wu - uu *
+00006ac0: 2077 7629 202f 2044 0a20 2020 2069 6620   wv) / D.    if 
+00006ad0: 7420 3c20 302e 3020 6f72 2028 7320 2b20  t < 0.0 or (s + 
+00006ae0: 7429 203e 2031 2e30 3a20 2023 2049 2069  t) > 1.0:  # I i
+00006af0: 7320 6f75 7473 6964 6520 540a 2020 2020  s outside T.    
+00006b00: 2020 2020 7265 7475 726e 2046 616c 7365      return False
+00006b10: 0a20 2020 2072 6574 7572 6e20 4920 2023  .    return I  #
+00006b20: 2049 2069 7320 696e 2054 0a0a 0a64 6566   I is in T...def
+00006b30: 2074 7269 616e 676c 655f 736f 6c76 6572   triangle_solver
+00006b40: 282a 2a69 6e70 7574 5f64 6963 7429 3a0a  (**input_dict):.
+00006b50: 2020 2020 2222 220a 2020 2020 536f 6c76      """.    Solv
+00006b60: 6520 6120 7472 6961 6e67 6c65 2066 726f  e a triangle fro
+00006b70: 6d20 616e 7920 3320 6b6e 6f77 6e20 656c  m any 3 known el
+00006b80: 656d 656e 7473 2e0a 2020 2020 284e 6f74  ements..    (Not
+00006b90: 6520 7468 6174 2074 6865 7265 206d 6967  e that there mig
+00006ba0: 6874 2062 6520 6d6f 7265 2074 6861 6e20  ht be more than 
+00006bb0: 6f6e 6520 736f 6c75 7469 6f6e 206f 7220  one solution or 
+00006bc0: 6e6f 6e65 292e 0a20 2020 2041 6e67 6c65  none)..    Angle
+00006bd0: 7320 6172 6520 696e 2072 6164 6961 6e73  s are in radians
+00006be0: 2e0a 0a20 2020 2045 7861 6d70 6c65 3a0a  ...    Example:.
+00006bf0: 2020 2020 6060 6070 7974 686f 6e0a 2020      ```python.  
+00006c00: 2020 7072 696e 7428 7472 6961 6e67 6c65    print(triangle
+00006c10: 5f73 6f6c 7665 7228 613d 332c 2062 3d34  _solver(a=3, b=4
+00006c20: 2c20 633d 3529 290a 2020 2020 7072 696e  , c=5)).    prin
+00006c30: 7428 7472 6961 6e67 6c65 5f73 6f6c 7665  t(triangle_solve
+00006c40: 7228 613d 332c 2061 633d 302e 3932 3733  r(a=3, ac=0.9273
+00006c50: 2c20 6162 3d31 2e35 3731 3629 290a 2020  , ab=1.5716)).  
+00006c60: 2020 7072 696e 7428 7472 6961 6e67 6c65    print(triangle
+00006c70: 5f73 6f6c 7665 7228 613d 332c 2062 3d34  _solver(a=3, b=4
+00006c80: 2c20 6162 3d31 2e35 3731 3629 290a 2020  , ab=1.5716)).  
+00006c90: 2020 7072 696e 7428 7472 6961 6e67 6c65    print(triangle
+00006ca0: 5f73 6f6c 7665 7228 623d 342c 2062 633d  _solver(b=4, bc=
+00006cb0: 2e36 342c 2061 623d 312e 3537 3136 2929  .64, ab=1.5716))
+00006cc0: 0a20 2020 2070 7269 6e74 2874 7269 616e  .    print(trian
+00006cd0: 676c 655f 736f 6c76 6572 2863 3d35 2c20  gle_solver(c=5, 
+00006ce0: 6163 3d2e 3932 3733 2c20 6263 3d30 2e36  ac=.9273, bc=0.6
+00006cf0: 3433 3529 290a 2020 2020 7072 696e 7428  435)).    print(
+00006d00: 7472 6961 6e67 6c65 5f73 6f6c 7665 7228  triangle_solver(
+00006d10: 613d 332c 2063 3d35 2c20 6263 3d30 2e36  a=3, c=5, bc=0.6
+00006d20: 3433 3529 290a 2020 2020 7072 696e 7428  435)).    print(
+00006d30: 7472 6961 6e67 6c65 5f73 6f6c 7665 7228  triangle_solver(
+00006d40: 623d 342c 2063 3d35 2c20 6163 3d30 2e39  b=4, c=5, ac=0.9
+00006d50: 3237 2929 0a20 2020 2060 6060 0a20 2020  27)).    ```.   
+00006d60: 2022 2222 0a20 2020 2061 203d 2069 6e70   """.    a = inp
+00006d70: 7574 5f64 6963 742e 6765 7428 2261 2229  ut_dict.get("a")
+00006d80: 0a20 2020 2062 203d 2069 6e70 7574 5f64  .    b = input_d
+00006d90: 6963 742e 6765 7428 2262 2229 0a20 2020  ict.get("b").   
+00006da0: 2063 203d 2069 6e70 7574 5f64 6963 742e   c = input_dict.
+00006db0: 6765 7428 2263 2229 0a20 2020 2061 6220  get("c").    ab 
+00006dc0: 3d20 696e 7075 745f 6469 6374 2e67 6574  = input_dict.get
+00006dd0: 2822 6162 2229 0a20 2020 2062 6320 3d20  ("ab").    bc = 
+00006de0: 696e 7075 745f 6469 6374 2e67 6574 2822  input_dict.get("
+00006df0: 6263 2229 0a20 2020 2061 6320 3d20 696e  bc").    ac = in
+00006e00: 7075 745f 6469 6374 2e67 6574 2822 6163  put_dict.get("ac
+00006e10: 2229 0a0a 2020 2020 6966 2061 6220 616e  ")..    if ab an
+00006e20: 6420 6263 3a0a 2020 2020 2020 2020 6163  d bc:.        ac
+00006e30: 203d 206e 702e 7069 202d 2062 6320 2d20   = np.pi - bc - 
+00006e40: 6162 0a20 2020 2065 6c69 6620 6263 2061  ab.    elif bc a
+00006e50: 6e64 2061 633a 0a20 2020 2020 2020 2061  nd ac:.        a
+00006e60: 6220 3d20 6e70 2e70 6920 2d20 6263 202d  b = np.pi - bc -
+00006e70: 2061 630a 2020 2020 656c 6966 2061 6220   ac.    elif ab 
+00006e80: 616e 6420 6163 3a0a 2020 2020 2020 2020  and ac:.        
+00006e90: 6263 203d 206e 702e 7069 202d 2061 6220  bc = np.pi - ab 
+00006ea0: 2d20 6163 0a0a 2020 2020 6966 2061 2069  - ac..    if a i
+00006eb0: 7320 6e6f 7420 4e6f 6e65 2061 6e64 2062  s not None and b
+00006ec0: 2069 7320 6e6f 7420 4e6f 6e65 2061 6e64   is not None and
+00006ed0: 2063 2069 7320 6e6f 7420 4e6f 6e65 3a0a   c is not None:.
+00006ee0: 2020 2020 2020 2020 6162 203d 206e 702e          ab = np.
+00006ef0: 6172 6363 6f73 2828 6120 2a2a 2032 202b  arccos((a ** 2 +
+00006f00: 2062 202a 2a20 3220 2d20 6320 2a2a 2032   b ** 2 - c ** 2
+00006f10: 2920 2f20 2832 202a 2061 202a 2062 2929  ) / (2 * a * b))
+00006f20: 0a20 2020 2020 2020 2073 696e 6162 203d  .        sinab =
+00006f30: 206e 702e 7369 6e28 6162 290a 2020 2020   np.sin(ab).    
+00006f40: 2020 2020 6163 203d 206e 702e 6172 6373      ac = np.arcs
+00006f50: 696e 2861 202f 2063 202a 2073 696e 6162  in(a / c * sinab
+00006f60: 290a 2020 2020 2020 2020 6263 203d 206e  ).        bc = n
+00006f70: 702e 6172 6373 696e 2862 202f 2063 202a  p.arcsin(b / c *
+00006f80: 2073 696e 6162 290a 0a20 2020 2065 6c69   sinab)..    eli
+00006f90: 6620 6120 6973 206e 6f74 204e 6f6e 6520  f a is not None 
+00006fa0: 616e 6420 6220 6973 206e 6f74 204e 6f6e  and b is not Non
+00006fb0: 6520 616e 6420 6162 2069 7320 6e6f 7420  e and ab is not 
+00006fc0: 4e6f 6e65 3a0a 2020 2020 2020 2020 6320  None:.        c 
+00006fd0: 3d20 6e70 2e73 7172 7428 6120 2a2a 2032  = np.sqrt(a ** 2
+00006fe0: 202b 2062 202a 2a20 3220 2d20 3220 2a20   + b ** 2 - 2 * 
+00006ff0: 6120 2a20 6220 2a20 6e70 2e63 6f73 2861  a * b * np.cos(a
+00007000: 6229 290a 2020 2020 2020 2020 7369 6e61  b)).        sina
+00007010: 6220 3d20 6e70 2e73 696e 2861 6229 0a20  b = np.sin(ab). 
+00007020: 2020 2020 2020 2061 6320 3d20 6e70 2e61         ac = np.a
+00007030: 7263 7369 6e28 6120 2f20 6320 2a20 7369  rcsin(a / c * si
+00007040: 6e61 6229 0a20 2020 2020 2020 2062 6320  nab).        bc 
+00007050: 3d20 6e70 2e61 7263 7369 6e28 6220 2f20  = np.arcsin(b / 
+00007060: 6320 2a20 7369 6e61 6229 0a0a 2020 2020  c * sinab)..    
+00007070: 656c 6966 2061 2069 7320 6e6f 7420 4e6f  elif a is not No
+00007080: 6e65 2061 6e64 2061 6320 6973 206e 6f74  ne and ac is not
+00007090: 204e 6f6e 6520 616e 6420 6162 2069 7320   None and ab is 
+000070a0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+000070b0: 2020 6820 3d20 6120 2a20 6e70 2e73 696e    h = a * np.sin
+000070c0: 2861 6329 0a20 2020 2020 2020 2062 203d  (ac).        b =
+000070d0: 2068 202f 206e 702e 7369 6e28 6263 290a   h / np.sin(bc).
+000070e0: 2020 2020 2020 2020 6320 3d20 6220 2a20          c = b * 
+000070f0: 6e70 2e63 6f73 2862 6329 202b 2061 202a  np.cos(bc) + a *
+00007100: 206e 702e 636f 7328 6163 290a 0a20 2020   np.cos(ac)..   
+00007110: 2065 6c69 6620 6220 6973 206e 6f74 204e   elif b is not N
+00007120: 6f6e 6520 616e 6420 6263 2069 7320 6e6f  one and bc is no
+00007130: 7420 4e6f 6e65 2061 6e64 2061 6220 6973  t None and ab is
+00007140: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00007150: 2020 2068 203d 2062 202a 206e 702e 7369     h = b * np.si
+00007160: 6e28 6263 290a 2020 2020 2020 2020 6120  n(bc).        a 
+00007170: 3d20 6820 2f20 6e70 2e73 696e 2861 6329  = h / np.sin(ac)
+00007180: 0a20 2020 2020 2020 2063 203d 206e 702e  .        c = np.
+00007190: 7371 7274 2861 202a 2061 202b 2062 202a  sqrt(a * a + b *
+000071a0: 2062 290a 0a20 2020 2065 6c69 6620 6320   b)..    elif c 
+000071b0: 6973 206e 6f74 204e 6f6e 6520 616e 6420  is not None and 
+000071c0: 6163 2069 7320 6e6f 7420 4e6f 6e65 2061  ac is not None a
+000071d0: 6e64 2062 6320 6973 206e 6f74 204e 6f6e  nd bc is not Non
+000071e0: 653a 0a20 2020 2020 2020 2068 203d 2063  e:.        h = c
+000071f0: 202a 206e 702e 7369 6e28 6263 290a 2020   * np.sin(bc).  
+00007200: 2020 2020 2020 6231 203d 2063 202a 206e        b1 = c * n
+00007210: 702e 636f 7328 6263 290a 2020 2020 2020  p.cos(bc).      
+00007220: 2020 6232 203d 2068 202f 206e 702e 7461    b2 = h / np.ta
+00007230: 6e28 6162 290a 2020 2020 2020 2020 6220  n(ab).        b 
+00007240: 3d20 6231 202b 2062 320a 2020 2020 2020  = b1 + b2.      
+00007250: 2020 6120 3d20 6e70 2e73 7172 7428 6232    a = np.sqrt(b2
+00007260: 202a 2062 3220 2b20 6820 2a20 6829 0a0a   * b2 + h * h)..
+00007270: 2020 2020 656c 6966 2061 2069 7320 6e6f      elif a is no
+00007280: 7420 4e6f 6e65 2061 6e64 2063 2069 7320  t None and c is 
+00007290: 6e6f 7420 4e6f 6e65 2061 6e64 2062 6320  not None and bc 
+000072a0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+000072b0: 2020 2020 2023 2064 6f75 626c 6520 736f       # double so
+000072c0: 6c75 7469 6f6e 0a20 2020 2020 2020 2068  lution.        h
+000072d0: 203d 2063 202a 206e 702e 7369 6e28 6263   = c * np.sin(bc
+000072e0: 290a 2020 2020 2020 2020 6b20 3d20 6e70  ).        k = np
+000072f0: 2e73 7172 7428 6120 2a20 6120 2d20 6820  .sqrt(a * a - h 
+00007300: 2a20 6829 0a20 2020 2020 2020 206f 6d65  * h).        ome
+00007310: 6761 203d 206e 702e 6172 6373 696e 286b  ga = np.arcsin(k
+00007320: 202f 2061 290a 2020 2020 2020 2020 636f   / a).        co
+00007330: 7362 6320 3d20 6e70 2e63 6f73 2862 6329  sbc = np.cos(bc)
+00007340: 0a20 2020 2020 2020 2062 203d 2063 202a  .        b = c *
+00007350: 2063 6f73 6263 202d 206b 0a20 2020 2020   cosbc - k.     
+00007360: 2020 2070 6869 203d 206e 702e 7069 202f     phi = np.pi /
+00007370: 2032 202d 2062 6320 2d20 6f6d 6567 610a   2 - bc - omega.
+00007380: 2020 2020 2020 2020 6163 203d 2070 6869          ac = phi
+00007390: 0a20 2020 2020 2020 2061 6220 3d20 6e70  .        ab = np
+000073a0: 2e70 6920 2d20 6163 202d 2062 630a 2020  .pi - ac - bc.  
+000073b0: 2020 2020 2020 6966 206b 3a0a 2020 2020        if k:.    
+000073c0: 2020 2020 2020 2020 6232 203d 2063 202a          b2 = c *
+000073d0: 2063 6f73 6263 202b 206b 0a20 2020 2020   cosbc + k.     
+000073e0: 2020 2020 2020 2061 6332 203d 2070 6869         ac2 = phi
+000073f0: 202b 2032 202a 206f 6d65 6761 0a20 2020   + 2 * omega.   
+00007400: 2020 2020 2020 2020 2061 6232 203d 206e           ab2 = n
+00007410: 702e 7069 202d 2061 6332 202d 2062 630a  p.pi - ac2 - bc.
+00007420: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00007430: 726e 205b 0a20 2020 2020 2020 2020 2020  rn [.           
+00007440: 2020 2020 207b 2261 223a 2061 2c20 2262       {"a": a, "b
+00007450: 223a 2062 2c20 2263 223a 2063 2c20 2261  ": b, "c": c, "a
+00007460: 6222 3a20 6162 2c20 2262 6322 3a20 6263  b": ab, "bc": bc
+00007470: 2c20 2261 6322 3a20 6163 7d2c 0a20 2020  , "ac": ac},.   
+00007480: 2020 2020 2020 2020 2020 2020 207b 2261               {"a
+00007490: 223a 2061 2c20 2262 223a 2062 322c 2022  ": a, "b": b2, "
+000074a0: 6322 3a20 632c 2022 6162 223a 2061 6232  c": c, "ab": ab2
+000074b0: 2c20 2262 6322 3a20 6263 2c20 2261 6322  , "bc": bc, "ac"
+000074c0: 3a20 6163 327d 2c0a 2020 2020 2020 2020  : ac2},.        
+000074d0: 2020 2020 5d0a 0a20 2020 2065 6c69 6620      ]..    elif 
+000074e0: 6220 6973 206e 6f74 204e 6f6e 6520 616e  b is not None an
+000074f0: 6420 6320 6973 206e 6f74 204e 6f6e 6520  d c is not None 
+00007500: 616e 6420 6163 2069 7320 6e6f 7420 4e6f  and ac is not No
+00007510: 6e65 3a0a 2020 2020 2020 2020 2320 646f  ne:.        # do
+00007520: 7562 6c65 2073 6f6c 7574 696f 6e0a 2020  uble solution.  
+00007530: 2020 2020 2020 6820 3d20 6320 2a20 6e70        h = c * np
+00007540: 2e73 696e 2861 6329 0a20 2020 2020 2020  .sin(ac).       
+00007550: 206b 203d 206e 702e 7371 7274 2862 202a   k = np.sqrt(b *
+00007560: 2062 202d 2068 202a 2068 290a 2020 2020   b - h * h).    
+00007570: 2020 2020 6f6d 6567 6120 3d20 6e70 2e61      omega = np.a
+00007580: 7263 7369 6e28 6b20 2f20 6229 0a20 2020  rcsin(k / b).   
+00007590: 2020 2020 2063 6f73 6163 203d 206e 702e       cosac = np.
+000075a0: 636f 7328 6163 290a 2020 2020 2020 2020  cos(ac).        
+000075b0: 6120 3d20 6320 2a20 636f 7361 6320 2d20  a = c * cosac - 
+000075c0: 6b0a 2020 2020 2020 2020 7068 6920 3d20  k.        phi = 
+000075d0: 6e70 2e70 6920 2f20 3220 2d20 6163 202d  np.pi / 2 - ac -
+000075e0: 206f 6d65 6761 0a20 2020 2020 2020 2062   omega.        b
+000075f0: 6320 3d20 7068 690a 2020 2020 2020 2020  c = phi.        
+00007600: 6162 203d 206e 702e 7069 202d 2062 6320  ab = np.pi - bc 
+00007610: 2d20 6163 0a20 2020 2020 2020 2069 6620  - ac.        if 
+00007620: 6b3a 0a20 2020 2020 2020 2020 2020 2061  k:.            a
+00007630: 3220 3d20 6320 2a20 636f 7361 6320 2b20  2 = c * cosac + 
+00007640: 6b0a 2020 2020 2020 2020 2020 2020 6263  k.            bc
+00007650: 3220 3d20 7068 6920 2b20 3220 2a20 6f6d  2 = phi + 2 * om
+00007660: 6567 610a 2020 2020 2020 2020 2020 2020  ega.            
+00007670: 6162 3220 3d20 6e70 2e70 6920 2d20 6163  ab2 = np.pi - ac
+00007680: 202d 2062 6332 0a20 2020 2020 2020 2020   - bc2.         
+00007690: 2020 2072 6574 7572 6e20 5b0a 2020 2020     return [.    
+000076a0: 2020 2020 2020 2020 2020 2020 7b22 6122              {"a"
+000076b0: 3a20 612c 2022 6222 3a20 622c 2022 6322  : a, "b": b, "c"
+000076c0: 3a20 632c 2022 6162 223a 2061 622c 2022  : c, "ab": ab, "
+000076d0: 6263 223a 2062 632c 2022 6163 223a 2061  bc": bc, "ac": a
+000076e0: 637d 2c0a 2020 2020 2020 2020 2020 2020  c},.            
+000076f0: 2020 2020 7b22 6122 3a20 6132 2c20 2262      {"a": a2, "b
+00007700: 223a 2062 2c20 2263 223a 2063 2c20 2261  ": b, "c": c, "a
+00007710: 6222 3a20 6162 322c 2022 6263 223a 2062  b": ab2, "bc": b
+00007720: 6332 2c20 2261 6322 3a20 6163 7d2c 0a20  c2, "ac": ac},. 
+00007730: 2020 2020 2020 2020 2020 205d 0a0a 2020             ]..  
+00007740: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00007750: 7665 646f 2e6c 6f67 6765 722e 6572 726f  vedo.logger.erro
+00007760: 7228 6622 4361 7365 207b 696e 7075 745f  r(f"Case {input_
+00007770: 6469 6374 7d20 6973 206e 6f74 2073 7570  dict} is not sup
+00007780: 706f 7274 6564 2e22 290a 2020 2020 2020  ported.").      
+00007790: 2020 7265 7475 726e 205b 5d0a 0a20 2020    return []..   
+000077a0: 2072 6574 7572 6e20 5b7b 2261 223a 2061   return [{"a": a
+000077b0: 2c20 2262 223a 2062 2c20 2263 223a 2063  , "b": b, "c": c
+000077c0: 2c20 2261 6222 3a20 6162 2c20 2262 6322  , "ab": ab, "bc"
+000077d0: 3a20 6263 2c20 2261 6322 3a20 6163 7d5d  : bc, "ac": ac}]
+000077e0: 0a0a 0a23 2323 2323 2323 2323 2323 2323  ...#############
+000077f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007800: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007810: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007820: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007830: 0a64 6566 2070 6f69 6e74 5f6c 696e 655f  .def point_line_
+00007840: 6469 7374 616e 6365 2870 2c20 7031 2c20  distance(p, p1, 
+00007850: 7032 293a 0a20 2020 2022 2222 0a20 2020  p2):.    """.   
+00007860: 2043 6f6d 7075 7465 2074 6865 2064 6973   Compute the dis
+00007870: 7461 6e63 6520 6f66 2061 2070 6f69 6e74  tance of a point
+00007880: 2074 6f20 6120 6c69 6e65 2028 6e6f 7420   to a line (not 
+00007890: 7468 6520 7365 676d 656e 7429 0a20 2020  the segment).   
+000078a0: 2064 6566 696e 6564 2062 7920 6070 3160   defined by `p1`
+000078b0: 2061 6e64 2060 7032 602e 0a20 2020 2022   and `p2`..    "
+000078c0: 2222 0a20 2020 2072 6574 7572 6e20 6e70  "".    return np
+000078d0: 2e73 7172 7428 7674 6b2e 7674 6b4c 696e  .sqrt(vtk.vtkLin
+000078e0: 652e 4469 7374 616e 6365 546f 4c69 6e65  e.DistanceToLine
+000078f0: 2870 2c20 7031 2c20 7032 2929 0a0a 0a64  (p, p1, p2))...d
+00007900: 6566 2063 6c6f 7365 7374 2870 6f69 6e74  ef closest(point
+00007910: 2c20 706f 696e 7473 2c20 6e3d 312c 2072  , points, n=1, r
+00007920: 6574 7572 6e5f 6964 733d 4661 6c73 652c  eturn_ids=False,
+00007930: 2075 7365 5f74 7265 653d 4661 6c73 6529   use_tree=False)
+00007940: 3a0a 2020 2020 2222 220a 2020 2020 5265  :.    """.    Re
+00007950: 7475 726e 7320 7468 6520 6469 7374 616e  turns the distan
+00007960: 6365 7320 616e 6420 7468 6520 636c 6f73  ces and the clos
+00007970: 6573 7420 706f 696e 7428 7329 2074 6f20  est point(s) to 
+00007980: 7468 6520 6769 7665 6e20 7365 7420 6f66  the given set of
+00007990: 2070 6f69 6e74 732e 0a20 2020 204e 6565   points..    Nee
+000079a0: 6473 2060 7363 6970 792e 7370 6174 6961  ds `scipy.spatia
+000079b0: 6c60 206c 6962 7261 7279 2e0a 0a20 2020  l` library...   
+000079c0: 2041 7267 756d 656e 7473 3a0a 2020 2020   Arguments:.    
+000079d0: 2020 2020 6e20 3a20 2869 6e74 290a 2020      n : (int).  
+000079e0: 2020 2020 2020 2020 2020 7468 6520 6e72            the nr
+000079f0: 206f 6620 636c 6f73 6573 7420 706f 696e   of closest poin
+00007a00: 7473 2074 6f20 7265 7475 726e 0a20 2020  ts to return.   
+00007a10: 2020 2020 2072 6574 7572 6e5f 6964 7320       return_ids 
+00007a20: 3a20 2862 6f6f 6c29 0a20 2020 2020 2020  : (bool).       
+00007a30: 2020 2020 2072 6574 7572 6e20 7468 6520       return the 
+00007a40: 6964 7320 696e 7374 6561 6420 6f66 2074  ids instead of t
+00007a50: 6865 2070 6f69 6e74 7320 636f 6f72 6469  he points coordi
+00007a60: 6e61 7465 730a 2020 2020 2020 2020 7573  nates.        us
+00007a70: 655f 7472 6565 203a 2028 626f 6f6c 290a  e_tree : (bool).
+00007a80: 2020 2020 2020 2020 2020 2020 6275 696c              buil
+00007a90: 6420 6120 6073 6369 7079 2e73 7061 7469  d a `scipy.spati
+00007aa0: 616c 2e4b 4454 7265 6560 2e0a 2020 2020  al.KDTree`..    
+00007ab0: 2020 2020 2020 2020 416e 2061 6c72 6561          An alrea
+00007ac0: 6479 2065 7869 7374 696e 6720 6f6e 6520  dy existing one 
+00007ad0: 6361 6e20 6265 2070 6173 7365 6420 746f  can be passed to
+00007ae0: 2061 766f 6964 2072 6562 7569 6c64 696e   avoid rebuildin
+00007af0: 672e 0a20 2020 2022 2222 0a20 2020 2066  g..    """.    f
+00007b00: 726f 6d20 7363 6970 792e 7370 6174 6961  rom scipy.spatia
+00007b10: 6c20 696d 706f 7274 2064 6973 7461 6e63  l import distanc
+00007b20: 652c 204b 4454 7265 650a 0a20 2020 2070  e, KDTree..    p
+00007b30: 6f69 6e74 7320 3d20 6e70 2e61 7361 7272  oints = np.asarr
+00007b40: 6179 2870 6f69 6e74 7329 0a20 2020 2069  ay(points).    i
+00007b50: 6620 6e20 3d3d 2031 3a0a 2020 2020 2020  f n == 1:.      
+00007b60: 2020 6469 7374 7320 3d20 6469 7374 616e    dists = distan
+00007b70: 6365 2e63 6469 7374 285b 706f 696e 745d  ce.cdist([point]
+00007b80: 2c20 706f 696e 7473 290a 2020 2020 2020  , points).      
+00007b90: 2020 636c 6f73 6573 745f 6964 7820 3d20    closest_idx = 
+00007ba0: 6e70 2e61 7267 6d69 6e28 6469 7374 7329  np.argmin(dists)
+00007bb0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+00007bc0: 2020 2069 6620 7573 655f 7472 6565 3a0a     if use_tree:.
+00007bd0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+00007be0: 7369 6e73 7461 6e63 6528 7573 655f 7472  sinstance(use_tr
+00007bf0: 6565 2c20 4b44 5472 6565 293a 2020 2320  ee, KDTree):  # 
+00007c00: 7265 7573 650a 2020 2020 2020 2020 2020  reuse.          
+00007c10: 2020 2020 2020 7472 6565 203d 2075 7365        tree = use
+00007c20: 5f74 7265 650a 2020 2020 2020 2020 2020  _tree.          
+00007c30: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00007c40: 2020 2020 2020 2020 7472 6565 203d 204b          tree = K
+00007c50: 4454 7265 6528 706f 696e 7473 290a 2020  DTree(points).  
+00007c60: 2020 2020 2020 2020 2020 6469 7374 732c            dists,
+00007c70: 2063 6c6f 7365 7374 5f69 6478 203d 2074   closest_idx = t
+00007c80: 7265 652e 7175 6572 7928 5b70 6f69 6e74  ree.query([point
+00007c90: 5d2c 206b 3d6e 290a 2020 2020 2020 2020  ], k=n).        
+00007ca0: 2020 2020 636c 6f73 6573 745f 6964 7820      closest_idx 
+00007cb0: 3d20 636c 6f73 6573 745f 6964 785b 305d  = closest_idx[0]
+00007cc0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00007cd0: 2020 2020 2020 2020 2020 2064 6973 7473             dists
+00007ce0: 203d 2064 6973 7461 6e63 652e 6364 6973   = distance.cdis
+00007cf0: 7428 5b70 6f69 6e74 5d2c 2070 6f69 6e74  t([point], point
+00007d00: 7329 0a20 2020 2020 2020 2020 2020 2063  s).            c
+00007d10: 6c6f 7365 7374 5f69 6478 203d 206e 702e  losest_idx = np.
+00007d20: 6172 6773 6f72 7428 6469 7374 7329 5b30  argsort(dists)[0
+00007d30: 5d5b 3a6e 5d0a 2020 2020 6966 2072 6574  ][:n].    if ret
+00007d40: 7572 6e5f 6964 733a 0a20 2020 2020 2020  urn_ids:.       
+00007d50: 2072 6574 7572 6e20 6469 7374 732c 2063   return dists, c
+00007d60: 6c6f 7365 7374 5f69 6478 0a20 2020 2065  losest_idx.    e
+00007d70: 6c73 653a 0a20 2020 2020 2020 2072 6574  lse:.        ret
+00007d80: 7572 6e20 6469 7374 732c 2070 6f69 6e74  urn dists, point
+00007d90: 735b 636c 6f73 6573 745f 6964 785d 0a0a  s[closest_idx]..
+00007da0: 0a23 2323 2323 2323 2323 2323 2323 2323  .###############
+00007db0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007dc0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007dd0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007de0: 2323 2323 2323 2323 2323 2323 2323 0a64  ##############.d
+00007df0: 6566 206c 696e 5f69 6e74 6572 706f 6c61  ef lin_interpola
+00007e00: 7465 2878 2c20 7261 6e67 6558 2c20 7261  te(x, rangeX, ra
+00007e10: 6e67 6559 293a 0a20 2020 2022 2222 0a20  ngeY):.    """. 
+00007e20: 2020 2049 6e74 6572 706f 6c61 7465 206c     Interpolate l
+00007e30: 696e 6561 726c 7920 7468 6520 7661 7269  inearly the vari
+00007e40: 6162 6c65 2060 7860 2069 6e20 6072 616e  able `x` in `ran
+00007e50: 6765 5860 206f 6e74 6f20 7468 6520 6e65  geX` onto the ne
+00007e60: 7720 6072 616e 6765 5960 2e0a 2020 2020  w `rangeY`..    
+00007e70: 4966 2060 7860 2069 7320 6120 3344 2076  If `x` is a 3D v
+00007e80: 6563 746f 7220 7468 6520 6c69 6e65 6172  ector the linear
+00007e90: 2077 6569 6768 7420 6973 2074 6865 2064   weight is the d
+00007ea0: 6973 7461 6e63 6520 746f 2074 6865 2074  istance to the t
+00007eb0: 776f 2033 4420 6072 616e 6765 5860 2076  wo 3D `rangeX` v
+00007ec0: 6563 746f 7273 2e0a 0a20 2020 2045 2e67  ectors...    E.g
+00007ed0: 2e20 6966 2060 7860 2072 756e 7320 696e  . if `x` runs in
+00007ee0: 2060 7261 6e67 6558 3d5b 7830 2c78 315d   `rangeX=[x0,x1]
+00007ef0: 6020 616e 6420 4920 7761 6e74 2069 7420  ` and I want it 
+00007f00: 746f 2072 756e 2069 6e20 6072 616e 6765  to run in `range
+00007f10: 593d 5b79 302c 7931 5d60 2074 6865 6e0a  Y=[y0,y1]` then.
+00007f20: 0a20 2020 2060 7920 3d20 6c69 6e5f 696e  .    `y = lin_in
+00007f30: 7465 7270 6f6c 6174 6528 782c 2072 616e  terpolate(x, ran
+00007f40: 6765 582c 2072 616e 6765 5929 6020 7769  geX, rangeY)` wi
+00007f50: 6c6c 2069 6e74 6572 706f 6c61 7465 2060  ll interpolate `
+00007f60: 7860 206f 6e74 6f20 6072 616e 6765 5960  x` onto `rangeY`
+00007f70: 2e0a 0a20 2020 2045 7861 6d70 6c65 733a  ...    Examples:
+00007f80: 0a20 2020 2020 2020 202d 205b 6c69 6e5f  .        - [lin_
+00007f90: 696e 7465 7270 6f6c 6174 652e 7079 5d28  interpolate.py](
+00007fa0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00007fb0: 6f6d 2f6d 6172 636f 6d75 7379 2f76 6564  om/marcomusy/ved
+00007fc0: 6f2f 7472 6565 2f6d 6173 7465 722f 6578  o/tree/master/ex
+00007fd0: 616d 706c 6573 2f62 6173 6963 2f6c 696e  amples/basic/lin
+00007fe0: 5f69 6e74 6572 706f 6c61 7465 2e70 7929  _interpolate.py)
+00007ff0: 0a0a 2020 2020 2020 2020 2020 2020 215b  ..            ![
+00008000: 5d28 6874 7470 733a 2f2f 7665 646f 2e65  ](https://vedo.e
+00008010: 6d62 6c2e 6573 2f69 6d61 6765 732f 6261  mbl.es/images/ba
+00008020: 7369 632f 6c69 6e49 6e74 6572 706f 6c61  sic/linInterpola
+00008030: 7465 2e70 6e67 290a 2020 2020 2222 220a  te.png).    """.
+00008040: 2020 2020 6966 2069 735f 7365 7175 656e      if is_sequen
+00008050: 6365 2878 293a 0a20 2020 2020 2020 2078  ce(x):.        x
+00008060: 203d 206e 702e 6173 6172 7261 7928 7829   = np.asarray(x)
+00008070: 0a20 2020 2020 2020 2078 302c 2078 3120  .        x0, x1 
+00008080: 3d20 6e70 2e61 7361 7272 6179 2872 616e  = np.asarray(ran
+00008090: 6765 5829 0a20 2020 2020 2020 2079 302c  geX).        y0,
+000080a0: 2079 3120 3d20 6e70 2e61 7361 7272 6179   y1 = np.asarray
+000080b0: 2872 616e 6765 5929 0a20 2020 2020 2020  (rangeY).       
+000080c0: 2064 7820 3d20 7831 202d 2078 300a 2020   dx = x1 - x0.  
+000080d0: 2020 2020 2020 6478 6e20 3d20 6e70 2e6c        dxn = np.l
+000080e0: 696e 616c 672e 6e6f 726d 2864 7829 0a20  inalg.norm(dx). 
+000080f0: 2020 2020 2020 2069 6620 6e6f 7420 6478         if not dx
+00008100: 6e3a 0a20 2020 2020 2020 2020 2020 2072  n:.            r
+00008110: 6574 7572 6e20 7930 0a20 2020 2020 2020  eturn y0.       
+00008120: 2073 203d 206e 702e 6c69 6e61 6c67 2e6e   s = np.linalg.n
+00008130: 6f72 6d28 7820 2d20 7830 2920 2f20 6478  orm(x - x0) / dx
+00008140: 6e0a 2020 2020 2020 2020 7420 3d20 6e70  n.        t = np
+00008150: 2e6c 696e 616c 672e 6e6f 726d 2878 202d  .linalg.norm(x -
+00008160: 2078 3129 202f 2064 786e 0a20 2020 2020   x1) / dxn.     
+00008170: 2020 2073 7420 3d20 7320 2b20 740a 2020     st = s + t.  
+00008180: 2020 2020 2020 6f75 7420 3d20 7930 202a        out = y0 *
+00008190: 2028 7420 2f20 7374 2920 2b20 7931 202a   (t / st) + y1 *
+000081a0: 2028 7320 2f20 7374 290a 0a20 2020 2065   (s / st)..    e
+000081b0: 6c73 653a 2020 2320 6661 7374 6572 0a0a  lse:  # faster..
+000081c0: 2020 2020 2020 2020 7830 203d 2072 616e          x0 = ran
+000081d0: 6765 585b 305d 0a20 2020 2020 2020 2064  geX[0].        d
+000081e0: 7820 3d20 7261 6e67 6558 5b31 5d20 2d20  x = rangeX[1] - 
+000081f0: 7830 0a20 2020 2020 2020 2069 6620 6e6f  x0.        if no
+00008200: 7420 6478 3a0a 2020 2020 2020 2020 2020  t dx:.          
+00008210: 2020 7265 7475 726e 2072 616e 6765 595b    return rangeY[
+00008220: 305d 0a20 2020 2020 2020 2073 203d 2028  0].        s = (
+00008230: 7820 2d20 7830 2920 2f20 6478 0a20 2020  x - x0) / dx.   
+00008240: 2020 2020 206f 7574 203d 2072 616e 6765       out = range
+00008250: 595b 305d 202a 2028 3120 2d20 7329 202b  Y[0] * (1 - s) +
+00008260: 2072 616e 6765 595b 315d 202a 2073 0a20   rangeY[1] * s. 
+00008270: 2020 2072 6574 7572 6e20 6f75 740a 0a0a     return out...
+00008280: 6465 6620 6765 745f 7576 2870 2c20 782c  def get_uv(p, x,
+00008290: 2076 293a 0a20 2020 2022 2222 0a20 2020   v):.    """.   
+000082a0: 204f 6274 6169 6e20 7468 6520 7465 7874   Obtain the text
+000082b0: 7572 6520 7576 2d63 6f6f 7264 7320 6f66  ure uv-coords of
+000082c0: 2061 2070 6f69 6e74 2070 2062 656c 6f6e   a point p belon
+000082d0: 6769 6e67 2074 6f20 6120 6661 6365 2074  ging to a face t
+000082e0: 6861 7420 6861 7320 706f 696e 740a 2020  hat has point.  
+000082f0: 2020 636f 6f72 6469 6e61 7465 7320 2878    coordinates (x
+00008300: 302c 2078 312c 2078 3229 2077 6974 6820  0, x1, x2) with 
+00008310: 7468 6520 636f 7272 6573 706f 6e64 696e  the correspondin
+00008320: 6720 7576 2d63 6f6f 7264 696e 6174 6573  g uv-coordinates
+00008330: 2076 3d28 7630 2c20 7631 2c20 7632 292e   v=(v0, v1, v2).
+00008340: 0a20 2020 2041 6c6c 2070 2061 6e64 2078  .    All p and x
+00008350: 302c 7831 2c78 3220 6172 6520 3344 2d76  0,x1,x2 are 3D-v
+00008360: 6563 746f 7273 2c20 7768 696c 6520 7620  ectors, while v 
+00008370: 6172 6520 7468 6569 7220 3244 2075 762d  are their 2D uv-
+00008380: 636f 6f72 6469 6e61 7465 732e 0a0a 2020  coordinates...  
+00008390: 2020 4578 616d 706c 653a 0a20 2020 2020    Example:.     
+000083a0: 2020 2060 6060 7079 7468 6f6e 0a20 2020     ```python.   
+000083b0: 2020 2020 2066 726f 6d20 7665 646f 2069       from vedo i
+000083c0: 6d70 6f72 7420 2a0a 0a20 2020 2020 2020  mport *..       
+000083d0: 2070 6963 203d 2050 6963 7475 7265 2864   pic = Picture(d
+000083e0: 6174 6175 726c 2b22 636f 6c6f 7572 6564  ataurl+"coloured
+000083f0: 5f63 7562 655f 6661 6365 732e 6a70 6722  _cube_faces.jpg"
+00008400: 290a 2020 2020 2020 2020 6362 203d 204d  ).        cb = M
+00008410: 6573 6828 6461 7461 7572 6c2b 2263 6f6c  esh(dataurl+"col
+00008420: 6f75 7265 645f 6375 6265 2e6f 626a 2229  oured_cube.obj")
+00008430: 2e6c 6967 6874 696e 6728 226f 6666 2229  .lighting("off")
+00008440: 2e74 6578 7475 7265 2870 6963 290a 0a20  .texture(pic).. 
+00008450: 2020 2020 2020 2063 6270 7473 203d 2063         cbpts = c
+00008460: 622e 706f 696e 7473 2829 0a20 2020 2020  b.points().     
+00008470: 2020 2066 6163 6573 203d 2063 622e 6661     faces = cb.fa
+00008480: 6365 7328 290a 2020 2020 2020 2020 7576  ces().        uv
+00008490: 203d 2063 622e 706f 696e 7464 6174 615b   = cb.pointdata[
+000084a0: 224d 6174 6572 6961 6c22 5d0a 0a20 2020  "Material"]..   
+000084b0: 2020 2020 2070 7420 3d20 5b2d 302e 322c       pt = [-0.2,
+000084c0: 2030 2e37 352c 2032 5d0a 2020 2020 2020   0.75, 2].      
+000084d0: 2020 7072 203d 2063 622e 636c 6f73 6573    pr = cb.closes
+000084e0: 745f 706f 696e 7428 7074 290a 0a20 2020  t_point(pt)..   
+000084f0: 2020 2020 2069 6466 6163 6520 3d20 6362       idface = cb
+00008500: 2e63 6c6f 7365 7374 5f70 6f69 6e74 2870  .closest_point(p
+00008510: 742c 2072 6574 7572 6e5f 6365 6c6c 5f69  t, return_cell_i
+00008520: 643d 5472 7565 290a 2020 2020 2020 2020  d=True).        
+00008530: 6964 7074 7320 3d20 6661 6365 735b 6964  idpts = faces[id
+00008540: 6661 6365 5d0a 2020 2020 2020 2020 7576  face].        uv
+00008550: 5f66 6163 6520 3d20 7576 5b69 6470 7473  _face = uv[idpts
+00008560: 5d0a 0a20 2020 2020 2020 2075 765f 7072  ]..        uv_pr
+00008570: 203d 2075 7469 6c73 2e67 6574 5f75 7628   = utils.get_uv(
+00008580: 7072 2c20 6362 7074 735b 6964 7074 735d  pr, cbpts[idpts]
+00008590: 2c20 7576 5f66 6163 6529 0a20 2020 2020  , uv_face).     
+000085a0: 2020 2070 7269 6e74 2822 696e 7465 7270     print("interp
+000085b0: 6f6c 6174 6564 2075 7620 3d22 2c20 7576  olated uv =", uv
+000085c0: 5f70 7229 0a0a 2020 2020 2020 2020 7378  _pr)..        sx
+000085d0: 2c20 7379 203d 2070 6963 2e64 696d 656e  , sy = pic.dimen
+000085e0: 7369 6f6e 7328 290a 2020 2020 2020 2020  sions().        
+000085f0: 695f 696e 7465 7270 5f75 7620 3d20 7576  i_interp_uv = uv
+00008600: 5f70 7220 2a20 5b73 792c 2073 785d 0a20  _pr * [sy, sx]. 
+00008610: 2020 2020 2020 2069 782c 2069 7920 3d20         ix, iy = 
+00008620: 695f 696e 7465 7270 5f75 762e 6173 7479  i_interp_uv.asty
+00008630: 7065 2869 6e74 290a 2020 2020 2020 2020  pe(int).        
+00008640: 6d70 6963 203d 2070 6963 2e74 6f6d 6573  mpic = pic.tomes
+00008650: 6828 290a 2020 2020 2020 2020 7267 6261  h().        rgba
+00008660: 203d 206d 7069 632e 706f 696e 7464 6174   = mpic.pointdat
+00008670: 615b 2252 4742 4122 5d2e 7265 7368 6170  a["RGBA"].reshap
+00008680: 6528 7379 2c20 7378 2c20 3329 0a20 2020  e(sy, sx, 3).   
+00008690: 2020 2020 2070 7269 6e74 2822 636f 6c6f       print("colo
+000086a0: 7220 3d22 2c20 7267 6261 5b69 782c 2069  r =", rgba[ix, i
+000086b0: 795d 290a 0a20 2020 2020 2020 2073 686f  y])..        sho
+000086c0: 7728 0a20 2020 2020 2020 2020 2020 205b  w(.            [
+000086d0: 5b63 622c 2050 6f69 6e74 2870 7229 2c20  [cb, Point(pr), 
+000086e0: 6362 2e6c 6162 656c 7328 224d 6174 6572  cb.labels("Mater
+000086f0: 6961 6c22 295d 2c0a 2020 2020 2020 2020  ial")],.        
+00008700: 2020 2020 2020 2020 5b70 6963 2c20 506f          [pic, Po
+00008710: 696e 7428 695f 696e 7465 7270 5f75 7629  int(i_interp_uv)
+00008720: 5d5d 2c0a 2020 2020 2020 2020 2020 2020  ]],.            
+00008730: 4e3d 322c 2061 7865 733d 312c 2073 6861  N=2, axes=1, sha
+00008740: 7265 6361 6d3d 4661 6c73 652c 0a20 2020  recam=False,.   
+00008750: 2020 2020 2029 2e63 6c6f 7365 2829 0a20       ).close(). 
+00008760: 2020 2020 2020 2060 6060 0a20 2020 2020         ```.     
+00008770: 2020 2021 5b5d 2868 7474 7073 3a2f 2f76     ![](https://v
+00008780: 6564 6f2e 656d 626c 2e65 732f 696d 6167  edo.embl.es/imag
+00008790: 6573 2f66 6561 7473 2f75 7469 6c73 5f67  es/feats/utils_g
+000087a0: 6574 5f75 762e 706e 6729 0a20 2020 2022  et_uv.png).    "
+000087b0: 2222 0a20 2020 2023 2056 6563 746f 7220  "".    # Vector 
+000087c0: 7670 3d70 2d78 3020 6973 2072 6570 7265  vp=p-x0 is repre
+000087d0: 7365 6e74 6162 6c65 2061 7320 616c 7068  sentable as alph
+000087e0: 612a 7320 2b20 6265 7461 2a74 2c0a 2020  a*s + beta*t,.  
+000087f0: 2020 2320 7768 6572 6520 7320 3d20 7831    # where s = x1
+00008800: 2d78 3020 616e 6420 7420 3d20 7832 2d78  -x0 and t = x2-x
+00008810: 302c 2069 6e20 6d61 7472 6978 2066 6f72  0, in matrix for
+00008820: 6d0a 2020 2020 2320 7670 203d 205b 616c  m.    # vp = [al
+00008830: 7068 612c 2062 6574 615d 202e 206d 6174  pha, beta] . mat
+00008840: 7269 7828 732c 7429 0a20 2020 2023 204d  rix(s,t).    # M
+00008850: 203d 206d 6174 7269 7828 732c 7429 2069   = matrix(s,t) i
+00008860: 7320 3278 3320 6d61 7472 6978 2c20 736f  s 2x3 matrix, so
+00008870: 2028 616c 7068 612c 2062 6574 6129 2063   (alpha, beta) c
+00008880: 616e 2062 6520 666f 756e 6420 6279 0a20  an be found by. 
+00008890: 2020 2023 2069 6e76 6572 7469 6e67 2061     # inverting a
+000088a0: 6e79 206f 6620 6974 7320 6d69 6e6f 7220  ny of its minor 
+000088b0: 4120 7769 7468 206e 6f6e 2d7a 6572 6f20  A with non-zero 
+000088c0: 6465 7465 726d 696e 616e 742e 0a20 2020  determinant..   
+000088d0: 2023 204f 6e63 6520 666f 756e 642c 2075   # Once found, u
+000088e0: 762d 636f 6f72 6473 206f 6620 7020 6172  v-coords of p ar
+000088f0: 6520 7674 3020 2b20 616c 7068 6120 2876  e vt0 + alpha (v
+00008900: 7431 2d76 3029 202b 2062 6574 6120 2876  t1-v0) + beta (v
+00008910: 7432 2d76 3029 0a0a 2020 2020 7020 3d20  t2-v0)..    p = 
+00008920: 6e70 2e61 7361 7272 6179 2870 290a 2020  np.asarray(p).  
+00008930: 2020 7830 2c20 7831 2c20 7832 203d 206e    x0, x1, x2 = n
+00008940: 702e 6173 6172 7261 7928 7829 5b3a 335d  p.asarray(x)[:3]
+00008950: 0a20 2020 2076 7430 2c20 7674 312c 2076  .    vt0, vt1, v
+00008960: 7432 203d 206e 702e 6173 6172 7261 7928  t2 = np.asarray(
+00008970: 7629 5b3a 335d 0a0a 2020 2020 7320 3d20  v)[:3]..    s = 
+00008980: 7831 202d 2078 300a 2020 2020 7420 3d20  x1 - x0.    t = 
+00008990: 7832 202d 2078 300a 2020 2020 7673 203d  x2 - x0.    vs =
+000089a0: 2076 7431 202d 2076 7430 0a20 2020 2076   vt1 - vt0.    v
+000089b0: 7420 3d20 7674 3220 2d20 7674 300a 2020  t = vt2 - vt0.  
+000089c0: 2020 7670 203d 2070 202d 2078 300a 0a20    vp = p - x0.. 
+000089d0: 2020 2023 2066 696e 6469 6e67 2061 206d     # finding a m
+000089e0: 696e 6f72 2077 6974 6820 696e 6465 7065  inor with indepe
+000089f0: 6e64 656e 7420 726f 7773 0a20 2020 204d  ndent rows.    M
+00008a00: 203d 206e 702e 6d61 7472 6978 285b 732c   = np.matrix([s,
+00008a10: 2074 5d29 0a20 2020 206d 6e72 203d 205b   t]).    mnr = [
+00008a20: 302c 2031 5d0a 2020 2020 4120 3d20 4d5b  0, 1].    A = M[
+00008a30: 3a2c 206d 6e72 5d0a 2020 2020 6966 206e  :, mnr].    if n
+00008a40: 702e 6162 7328 6e70 2e6c 696e 616c 672e  p.abs(np.linalg.
+00008a50: 6465 7428 4129 2920 3c20 302e 3030 3030  det(A)) < 0.0000
+00008a60: 3031 3a0a 2020 2020 2020 2020 6d6e 7220  01:.        mnr 
+00008a70: 3d20 5b30 2c20 325d 0a20 2020 2020 2020  = [0, 2].       
+00008a80: 2041 203d 204d 5b3a 2c20 6d6e 725d 0a20   A = M[:, mnr]. 
+00008a90: 2020 2020 2020 2069 6620 6e70 2e61 6273         if np.abs
+00008aa0: 286e 702e 6c69 6e61 6c67 2e64 6574 2841  (np.linalg.det(A
+00008ab0: 2929 203c 2030 2e30 3030 3030 313a 0a20  )) < 0.000001:. 
+00008ac0: 2020 2020 2020 2020 2020 206d 6e72 203d             mnr =
+00008ad0: 205b 312c 2032 5d0a 2020 2020 2020 2020   [1, 2].        
+00008ae0: 2020 2020 4120 3d20 4d5b 3a2c 206d 6e72      A = M[:, mnr
+00008af0: 5d0a 2020 2020 4169 6e76 203d 206e 702e  ].    Ainv = np.
+00008b00: 6c69 6e61 6c67 2e69 6e76 2841 290a 2020  linalg.inv(A).  
+00008b10: 2020 616c 7068 615f 6265 7461 203d 2076    alpha_beta = v
+00008b20: 705b 6d6e 725d 2e64 6f74 2841 696e 7629  p[mnr].dot(Ainv)
+00008b30: 2020 2320 5b61 6c70 6861 2c20 6265 7461    # [alpha, beta
+00008b40: 5d0a 2020 2020 7265 7475 726e 206e 702e  ].    return np.
+00008b50: 6173 6172 7261 7928 7674 3020 2b20 616c  asarray(vt0 + al
+00008b60: 7068 615f 6265 7461 2e64 6f74 286e 702e  pha_beta.dot(np.
+00008b70: 6d61 7472 6978 285b 7673 2c20 7674 5d29  matrix([vs, vt])
+00008b80: 2929 5b30 5d0a 0a0a 6465 6620 7665 6374  ))[0]...def vect
+00008b90: 6f72 2878 2c20 793d 4e6f 6e65 2c20 7a3d  or(x, y=None, z=
+00008ba0: 302e 302c 2064 7479 7065 3d6e 702e 666c  0.0, dtype=np.fl
+00008bb0: 6f61 7436 3429 3a0a 2020 2020 2222 220a  oat64):.    """.
+00008bc0: 2020 2020 5265 7475 726e 2061 2033 4420      Return a 3D 
+00008bd0: 6e75 6d70 7920 6172 7261 7920 7265 7072  numpy array repr
+00008be0: 6573 656e 7469 6e67 2061 2076 6563 746f  esenting a vecto
+00008bf0: 722e 0a0a 2020 2020 4966 2060 7960 2069  r...    If `y` i
+00008c00: 7320 604e 6f6e 6560 2c20 6173 7375 6d65  s `None`, assume
+00008c10: 2069 6e70 7574 2069 7320 616c 7265 6164   input is alread
+00008c20: 7920 696e 2074 6865 2066 6f72 6d20 605b  y in the form `[
+00008c30: 782c 792c 7a5d 602e 0a20 2020 2022 2222  x,y,z]`..    """
+00008c40: 0a20 2020 2069 6620 7920 6973 204e 6f6e  .    if y is Non
+00008c50: 653a 2020 2320 6173 7375 6d65 2078 2069  e:  # assume x i
+00008c60: 7320 616c 7265 6164 7920 5b78 2c79 2c7a  s already [x,y,z
+00008c70: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+00008c80: 206e 702e 6173 6172 7261 7928 782c 2064   np.asarray(x, d
+00008c90: 7479 7065 3d64 7479 7065 290a 2020 2020  type=dtype).    
+00008ca0: 7265 7475 726e 206e 702e 6172 7261 7928  return np.array(
+00008cb0: 5b78 2c20 792c 207a 5d2c 2064 7479 7065  [x, y, z], dtype
+00008cc0: 3d64 7479 7065 290a 0a0a 6465 6620 7665  =dtype)...def ve
+00008cd0: 7273 6f72 2878 2c20 793d 4e6f 6e65 2c20  rsor(x, y=None, 
+00008ce0: 7a3d 302e 302c 2064 7479 7065 3d6e 702e  z=0.0, dtype=np.
+00008cf0: 666c 6f61 7436 3429 3a0a 2020 2020 2222  float64):.    ""
+00008d00: 2252 6574 7572 6e20 7468 6520 756e 6974  "Return the unit
+00008d10: 2076 6563 746f 722e 2049 6e70 7574 2063   vector. Input c
+00008d20: 616e 2062 6520 6120 6c69 7374 206f 6620  an be a list of 
+00008d30: 7665 6374 6f72 732e 2222 220a 2020 2020  vectors.""".    
+00008d40: 7620 3d20 7665 6374 6f72 2878 2c20 792c  v = vector(x, y,
+00008d50: 207a 2c20 6474 7970 6529 0a20 2020 2069   z, dtype).    i
+00008d60: 6620 6973 696e 7374 616e 6365 2876 5b30  f isinstance(v[0
+00008d70: 5d2c 206e 702e 6e64 6172 7261 7929 3a0a  ], np.ndarray):.
+00008d80: 2020 2020 2020 2020 7265 7475 726e 206e          return n
+00008d90: 702e 6469 7669 6465 2876 2c20 6d61 6728  p.divide(v, mag(
+00008da0: 7629 5b3a 2c20 4e6f 6e65 5d29 0a20 2020  v)[:, None]).   
+00008db0: 2072 6574 7572 6e20 7620 2f20 6d61 6728   return v / mag(
+00008dc0: 7629 0a0a 0a64 6566 206d 6167 2876 293a  v)...def mag(v):
+00008dd0: 0a20 2020 2022 2222 4765 7420 7468 6520  .    """Get the 
+00008de0: 6d61 676e 6974 7564 6520 6f66 2061 2076  magnitude of a v
+00008df0: 6563 746f 7220 6f72 2061 7272 6179 206f  ector or array o
+00008e00: 6620 7665 6374 6f72 732e 2222 220a 2020  f vectors.""".  
+00008e10: 2020 7620 3d20 6e70 2e61 7361 7272 6179    v = np.asarray
+00008e20: 2876 290a 2020 2020 6966 2076 2e6e 6469  (v).    if v.ndi
+00008e30: 6d20 3d3d 2031 3a0a 2020 2020 2020 2020  m == 1:.        
+00008e40: 7265 7475 726e 206e 702e 6c69 6e61 6c67  return np.linalg
+00008e50: 2e6e 6f72 6d28 7629 0a20 2020 2072 6574  .norm(v).    ret
+00008e60: 7572 6e20 6e70 2e6c 696e 616c 672e 6e6f  urn np.linalg.no
+00008e70: 726d 2876 2c20 6178 6973 3d31 290a 0a0a  rm(v, axis=1)...
+00008e80: 6465 6620 6d61 6732 2876 293a 0a20 2020  def mag2(v):.   
+00008e90: 2022 2222 4765 7420 7468 6520 7371 7561   """Get the squa
+00008ea0: 7265 6420 6d61 676e 6974 7564 6520 6f66  red magnitude of
+00008eb0: 2061 2076 6563 746f 7220 6f72 2061 7272   a vector or arr
+00008ec0: 6179 206f 6620 7665 6374 6f72 732e 2222  ay of vectors.""
+00008ed0: 220a 2020 2020 7620 3d20 6e70 2e61 7361  ".    v = np.asa
+00008ee0: 7272 6179 2876 290a 2020 2020 6966 2076  rray(v).    if v
+00008ef0: 2e6e 6469 6d20 3d3d 2031 3a0a 2020 2020  .ndim == 1:.    
+00008f00: 2020 2020 7265 7475 726e 206e 702e 7371      return np.sq
+00008f10: 7561 7265 2876 292e 7375 6d28 290a 2020  uare(v).sum().  
+00008f20: 2020 7265 7475 726e 206e 702e 7371 7561    return np.squa
+00008f30: 7265 2876 292e 7375 6d28 6178 6973 3d31  re(v).sum(axis=1
+00008f40: 290a 0a0a 6465 6620 6973 5f69 6e74 6567  )...def is_integ
+00008f50: 6572 286e 293a 0a20 2020 2022 2222 4368  er(n):.    """Ch
+00008f60: 6563 6b20 6966 2069 6e70 7574 2069 7320  eck if input is 
+00008f70: 616e 2069 6e74 6567 6572 2e22 2222 0a20  an integer.""". 
+00008f80: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00008f90: 666c 6f61 7428 6e29 0a20 2020 2065 7863  float(n).    exc
+00008fa0: 6570 7420 2856 616c 7565 4572 726f 722c  ept (ValueError,
+00008fb0: 2054 7970 6545 7272 6f72 293a 0a20 2020   TypeError):.   
+00008fc0: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+00008fd0: 650a 2020 2020 656c 7365 3a0a 2020 2020  e.    else:.    
+00008fe0: 2020 2020 7265 7475 726e 2066 6c6f 6174      return float
+00008ff0: 286e 292e 6973 5f69 6e74 6567 6572 2829  (n).is_integer()
+00009000: 0a0a 0a64 6566 2069 735f 6e75 6d62 6572  ...def is_number
+00009010: 286e 293a 0a20 2020 2022 2222 4368 6563  (n):.    """Chec
+00009020: 6b20 6966 2069 6e70 7574 2069 7320 6120  k if input is a 
+00009030: 6e75 6d62 6572 2222 220a 2020 2020 7472  number""".    tr
+00009040: 793a 0a20 2020 2020 2020 2066 6c6f 6174  y:.        float
+00009050: 286e 290a 2020 2020 2020 2020 7265 7475  (n).        retu
+00009060: 726e 2054 7275 650a 2020 2020 6578 6365  rn True.    exce
+00009070: 7074 2028 5661 6c75 6545 7272 6f72 2c20  pt (ValueError, 
+00009080: 5479 7065 4572 726f 7229 3a0a 2020 2020  TypeError):.    
+00009090: 2020 2020 7265 7475 726e 2046 616c 7365      return False
+000090a0: 0a0a 0a64 6566 2072 6f75 6e64 5f74 6f5f  ...def round_to_
+000090b0: 6469 6769 7428 782c 2070 293a 0a20 2020  digit(x, p):.   
+000090c0: 2022 2222 526f 756e 6420 6120 7265 616c   """Round a real
+000090d0: 206e 756d 6265 7220 746f 2074 6865 2073   number to the s
+000090e0: 7065 6369 6669 6564 206e 756d 6265 7220  pecified number 
+000090f0: 6f66 2073 6967 6e69 6669 6361 6e74 2064  of significant d
+00009100: 6967 6974 732e 2222 220a 2020 2020 6966  igits.""".    if
+00009110: 206e 6f74 2078 3a0a 2020 2020 2020 2020   not x:.        
+00009120: 7265 7475 726e 2030 0a20 2020 2072 203d  return 0.    r =
+00009130: 206e 702e 726f 756e 6428 782c 2070 202d   np.round(x, p -
+00009140: 2069 6e74 286e 702e 666c 6f6f 7228 6e70   int(np.floor(np
+00009150: 2e6c 6f67 3130 2861 6273 2878 2929 2929  .log10(abs(x))))
+00009160: 202d 2031 290a 2020 2020 6966 2069 6e74   - 1).    if int
+00009170: 2872 2920 3d3d 2072 3a0a 2020 2020 2020  (r) == r:.      
+00009180: 2020 7265 7475 726e 2069 6e74 2872 290a    return int(r).
+00009190: 2020 2020 7265 7475 726e 2072 0a0a 0a64      return r...d
+000091a0: 6566 2070 6163 6b5f 7370 6865 7265 7328  ef pack_spheres(
+000091b0: 626f 756e 6473 2c20 7261 6469 7573 293a  bounds, radius):
+000091c0: 0a20 2020 2022 2222 0a20 2020 2050 6163  .    """.    Pac
+000091d0: 6b69 6e67 2073 7068 6572 6573 2069 6e74  king spheres int
+000091e0: 6f20 6120 626f 756e 6469 6e67 2062 6f78  o a bounding box
+000091f0: 2e0a 2020 2020 5265 7475 726e 7320 6120  ..    Returns a 
+00009200: 6e75 6d70 7920 6172 7261 7920 6f66 2073  numpy array of s
+00009210: 7068 6572 6520 6365 6e74 6572 732e 0a20  phere centers.. 
+00009220: 2020 2022 2222 0a20 2020 2068 203d 2030     """.    h = 0
+00009230: 2e38 3136 3439 3635 202f 2032 0a20 2020  .8164965 / 2.   
+00009240: 2064 203d 2030 2e38 3636 3032 3534 0a20   d = 0.8660254. 
+00009250: 2020 2061 203d 2030 2e32 3838 3637 3531     a = 0.2886751
+00009260: 3335 0a0a 2020 2020 6966 2069 735f 7365  35..    if is_se
+00009270: 7175 656e 6365 2862 6f75 6e64 7329 3a0a  quence(bounds):.
+00009280: 2020 2020 2020 2020 7830 2c20 7831 2c20          x0, x1, 
+00009290: 7930 2c20 7931 2c20 7a30 2c20 7a31 203d  y0, y1, z0, z1 =
+000092a0: 2062 6f75 6e64 730a 2020 2020 656c 7365   bounds.    else
+000092b0: 3a0a 2020 2020 2020 2020 7830 2c20 7831  :.        x0, x1
+000092c0: 2c20 7930 2c20 7931 2c20 7a30 2c20 7a31  , y0, y1, z0, z1
+000092d0: 203d 2062 6f75 6e64 732e 626f 756e 6473   = bounds.bounds
+000092e0: 2829 0a0a 2020 2020 7820 3d20 6e70 2e61  ()..    x = np.a
+000092f0: 7261 6e67 6528 7830 2c20 7831 2c20 7261  range(x0, x1, ra
+00009300: 6469 7573 290a 2020 2020 6e75 6c20 3d20  dius).    nul = 
+00009310: 6e70 2e7a 6572 6f73 5f6c 696b 6528 7829  np.zeros_like(x)
+00009320: 0a20 2020 206e 7a20 3d20 696e 7428 287a  .    nz = int((z
+00009330: 3120 2d20 7a30 2920 2f20 7261 6469 7573  1 - z0) / radius
+00009340: 202f 2068 202f 2032 202b 2031 2e35 290a   / h / 2 + 1.5).
+00009350: 2020 2020 6e79 203d 2069 6e74 2828 7931      ny = int((y1
+00009360: 202d 2079 3029 202f 2072 6164 6975 7320   - y0) / radius 
+00009370: 2f20 6420 2b20 312e 3529 0a0a 2020 2020  / d + 1.5)..    
+00009380: 7074 7320 3d20 5b5d 0a20 2020 2066 6f72  pts = [].    for
+00009390: 2069 7a20 696e 2072 616e 6765 286e 7a29   iz in range(nz)
+000093a0: 3a0a 2020 2020 2020 2020 7a20 3d20 7a30  :.        z = z0
+000093b0: 202b 206e 756c 202b 2069 7a20 2a20 6820   + nul + iz * h 
+000093c0: 2a20 7261 6469 7573 0a20 2020 2020 2020  * radius.       
+000093d0: 2064 782c 2064 792c 2064 7a20 3d20 5b72   dx, dy, dz = [r
+000093e0: 6164 6975 7320 2a20 302e 352c 2072 6164  adius * 0.5, rad
+000093f0: 6975 7320 2a20 612c 2069 7a20 2a20 6820  ius * a, iz * h 
+00009400: 2a20 7261 6469 7573 5d0a 2020 2020 2020  * radius].      
+00009410: 2020 666f 7220 6979 2069 6e20 7261 6e67    for iy in rang
+00009420: 6528 6e79 293a 0a20 2020 2020 2020 2020  e(ny):.         
+00009430: 2020 2079 203d 2079 3020 2b20 6e75 6c20     y = y0 + nul 
+00009440: 2b20 6979 202a 2064 202a 2072 6164 6975  + iy * d * radiu
+00009450: 730a 2020 2020 2020 2020 2020 2020 6966  s.            if
+00009460: 2069 7920 2520 323a 0a20 2020 2020 2020   iy % 2:.       
+00009470: 2020 2020 2020 2020 2078 7320 3d20 780a           xs = x.
+00009480: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00009490: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000094a0: 2020 7873 203d 2078 202b 2072 6164 6975    xs = x + radiu
+000094b0: 7320 2a20 302e 350a 2020 2020 2020 2020  s * 0.5.        
+000094c0: 2020 2020 6966 2069 7a20 2520 323a 0a20      if iz % 2:. 
+000094d0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+000094e0: 203d 206e 702e 635f 5b78 732c 2079 2c20   = np.c_[xs, y, 
+000094f0: 7a5d 202b 205b 6478 2c20 6479 2c20 647a  z] + [dx, dy, dz
+00009500: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
+00009510: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00009520: 2020 2020 7020 3d20 6e70 2e63 5f5b 7873      p = np.c_[xs
+00009530: 2c20 792c 207a 5d20 2b20 5b30 2c20 302c  , y, z] + [0, 0,
+00009540: 2064 7a5d 0a20 2020 2020 2020 2020 2020   dz].           
+00009550: 2070 7473 202b 3d20 702e 746f 6c69 7374   pts += p.tolist
+00009560: 2829 0a20 2020 2072 6574 7572 6e20 6e70  ().    return np
+00009570: 2e61 7272 6179 2870 7473 290a 0a0a 6465  .array(pts)...de
+00009580: 6620 7072 6563 6973 696f 6e28 782c 2070  f precision(x, p
+00009590: 2c20 7672 616e 6765 3d4e 6f6e 652c 2064  , vrange=None, d
+000095a0: 656c 696d 6974 6572 3d22 6522 293a 0a20  elimiter="e"):. 
+000095b0: 2020 2022 2222 0a20 2020 2052 6574 7572     """.    Retur
+000095c0: 6e73 2061 2073 7472 696e 6720 7265 7072  ns a string repr
+000095d0: 6573 656e 7461 7469 6f6e 206f 6620 6078  esentation of `x
+000095e0: 6020 666f 726d 6174 7465 6420 746f 2070  ` formatted to p
+000095f0: 7265 6369 7369 6f6e 2060 7060 2e0a 0a20  recision `p`... 
+00009600: 2020 2053 6574 2060 7672 616e 6765 6020     Set `vrange` 
+00009610: 746f 2074 6865 2072 616e 6765 2069 6e20  to the range in 
+00009620: 7768 6963 6820 7820 6578 6973 7473 2028  which x exists (
+00009630: 746f 2073 6e61 7020 7820 746f 2027 3027  to snap x to '0'
+00009640: 2069 6620 6265 6c6f 7720 7072 6563 6973   if below precis
+00009650: 696f 6e29 2e0a 2020 2020 2222 220a 2020  ion)..    """.  
+00009660: 2020 2320 4261 7365 6420 6f6e 2074 6865    # Based on the
+00009670: 2077 6562 6b69 7420 6a61 7661 7363 7269   webkit javascri
+00009680: 7074 2069 6d70 6c65 6d65 6e74 6174 696f  pt implementatio
+00009690: 6e0a 2020 2020 2320 6066 726f 6d20 6865  n.    # `from he
+000096a0: 7265 203c 6874 7470 733a 2f2f 636f 6465  re <https://code
+000096b0: 2e67 6f6f 676c 652e 636f 6d2f 702f 7765  .google.com/p/we
+000096c0: 626b 6974 2d6d 6972 726f 722f 736f 7572  bkit-mirror/sour
+000096d0: 6365 2f62 726f 7773 652f 4a61 7661 5363  ce/browse/JavaSc
+000096e0: 7269 7074 436f 7265 2f6b 6a73 2f6e 756d  riptCore/kjs/num
+000096f0: 6265 725f 6f62 6a65 6374 2e63 7070 3e60  ber_object.cpp>`
+00009700: 5f2c 0a20 2020 2023 2061 6e64 2069 6d70  _,.    # and imp
+00009710: 6c65 6d65 6e74 6564 2062 7920 6072 616e  lemented by `ran
+00009720: 646c 6574 203c 6874 7470 733a 2f2f 6769  dlet <https://gi
+00009730: 7468 7562 2e63 6f6d 2f72 616e 646c 6574  thub.com/randlet
+00009740: 2f74 6f2d 7072 6563 6973 696f 6e3e 605f  /to-precision>`_
+00009750: 2e0a 2020 2020 2320 4d6f 6469 6669 6564  ..    # Modified
+00009760: 2066 6f72 2076 6564 6f20 6279 204d 2e4d   for vedo by M.M
+00009770: 7573 7920 3230 3230 0a0a 2020 2020 6966  usy 2020..    if
+00009780: 2069 7369 6e73 7461 6e63 6528 782c 2073   isinstance(x, s
+00009790: 7472 293a 2020 2320 646f 206e 6f74 6869  tr):  # do nothi
+000097a0: 6e67 0a20 2020 2020 2020 2072 6574 7572  ng.        retur
+000097b0: 6e20 780a 0a20 2020 2069 6620 6973 5f73  n x..    if is_s
+000097c0: 6571 7565 6e63 6528 7829 3a0a 2020 2020  equence(x):.    
+000097d0: 2020 2020 6f75 7420 3d20 2228 220a 2020      out = "(".  
+000097e0: 2020 2020 2020 6e6e 203d 206c 656e 2878        nn = len(x
+000097f0: 2920 2d20 310a 2020 2020 2020 2020 666f  ) - 1.        fo
+00009800: 7220 692c 2069 7820 696e 2065 6e75 6d65  r i, ix in enume
+00009810: 7261 7465 2878 293a 0a0a 2020 2020 2020  rate(x):..      
+00009820: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00009830: 2020 2020 2020 2020 2020 2069 6620 6e70             if np
+00009840: 2e69 736e 616e 2869 7829 3a0a 2020 2020  .isnan(ix):.    
+00009850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009860: 7265 7475 726e 2022 4e61 4e22 0a20 2020  return "NaN".   
+00009870: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+00009880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009890: 2023 2063 616e 6e6f 7420 6861 6e64 6c65   # cannot handle
+000098a0: 206c 6973 7420 6f66 206c 6973 740a 2020   list of list.  
+000098b0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000098c0: 6e74 696e 7565 0a0a 2020 2020 2020 2020  ntinue..        
+000098d0: 2020 2020 6f75 7420 2b3d 2070 7265 6369      out += preci
+000098e0: 7369 6f6e 2869 782c 2070 290a 2020 2020  sion(ix, p).    
+000098f0: 2020 2020 2020 2020 6966 2069 203c 206e          if i < n
+00009900: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+00009910: 2020 206f 7574 202b 3d20 222c 2022 0a20     out += ", ". 
+00009920: 2020 2020 2020 2072 6574 7572 6e20 6f75         return ou
+00009930: 7420 2b20 2229 2220 2023 2323 2323 2323  t + ")"  #######
+00009940: 2323 2323 2320 3c2d 2d0a 0a20 2020 2069  ##### <--..    i
+00009950: 6620 6e70 2e69 736e 616e 2878 293a 0a20  f np.isnan(x):. 
+00009960: 2020 2020 2020 2072 6574 7572 6e20 224e         return "N
+00009970: 614e 220a 0a20 2020 2078 203d 2066 6c6f  aN"..    x = flo
+00009980: 6174 2878 290a 0a20 2020 2069 6620 7820  at(x)..    if x 
+00009990: 3d3d 2030 2e30 206f 7220 2876 7261 6e67  == 0.0 or (vrang
+000099a0: 6520 6973 206e 6f74 204e 6f6e 6520 616e  e is not None an
+000099b0: 6420 6162 7328 7829 203c 2076 7261 6e67  d abs(x) < vrang
+000099c0: 6520 2f20 706f 7728 3130 2c20 7029 293a  e / pow(10, p)):
+000099d0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000099e0: 2230 220a 0a20 2020 206f 7574 203d 205b  "0"..    out = [
+000099f0: 5d0a 2020 2020 6966 2078 203c 2030 3a0a  ].    if x < 0:.
+00009a00: 2020 2020 2020 2020 6f75 742e 6170 7065          out.appe
+00009a10: 6e64 2822 2d22 290a 2020 2020 2020 2020  nd("-").        
+00009a20: 7820 3d20 2d78 0a0a 2020 2020 6520 3d20  x = -x..    e = 
+00009a30: 696e 7428 6d61 7468 2e6c 6f67 3130 2878  int(math.log10(x
+00009a40: 2929 0a20 2020 2074 656e 7320 3d20 6d61  )).    tens = ma
+00009a50: 7468 2e70 6f77 2831 302c 2065 202d 2070  th.pow(10, e - p
+00009a60: 202b 2031 290a 2020 2020 6e20 3d20 6d61   + 1).    n = ma
+00009a70: 7468 2e66 6c6f 6f72 2878 202f 2074 656e  th.floor(x / ten
+00009a80: 7329 0a0a 2020 2020 6966 206e 203c 206d  s)..    if n < m
+00009a90: 6174 682e 706f 7728 3130 2c20 7020 2d20  ath.pow(10, p - 
+00009aa0: 3129 3a0a 2020 2020 2020 2020 6520 3d20  1):.        e = 
+00009ab0: 6520 2d20 310a 2020 2020 2020 2020 7465  e - 1.        te
+00009ac0: 6e73 203d 206d 6174 682e 706f 7728 3130  ns = math.pow(10
+00009ad0: 2c20 6520 2d20 7020 2b20 3129 0a20 2020  , e - p + 1).   
+00009ae0: 2020 2020 206e 203d 206d 6174 682e 666c       n = math.fl
+00009af0: 6f6f 7228 7820 2f20 7465 6e73 290a 0a20  oor(x / tens).. 
+00009b00: 2020 2069 6620 6162 7328 286e 202b 2031     if abs((n + 1
+00009b10: 2e30 2920 2a20 7465 6e73 202d 2078 2920  .0) * tens - x) 
+00009b20: 3c3d 2061 6273 286e 202a 2074 656e 7320  <= abs(n * tens 
+00009b30: 2d20 7829 3a0a 2020 2020 2020 2020 6e20  - x):.        n 
+00009b40: 3d20 6e20 2b20 310a 0a20 2020 2069 6620  = n + 1..    if 
+00009b50: 6e20 3e3d 206d 6174 682e 706f 7728 3130  n >= math.pow(10
+00009b60: 2c20 7029 3a0a 2020 2020 2020 2020 6e20  , p):.        n 
+00009b70: 3d20 6e20 2f20 3130 2e30 0a20 2020 2020  = n / 10.0.     
+00009b80: 2020 2065 203d 2065 202b 2031 0a0a 2020     e = e + 1..  
+00009b90: 2020 6d20 3d20 2225 2e2a 6722 2025 2028    m = "%.*g" % (
+00009ba0: 702c 206e 290a 2020 2020 6966 2065 203c  p, n).    if e <
+00009bb0: 202d 3220 6f72 2065 203e 3d20 703a 0a20   -2 or e >= p:. 
+00009bc0: 2020 2020 2020 206f 7574 2e61 7070 656e         out.appen
+00009bd0: 6428 6d5b 305d 290a 2020 2020 2020 2020  d(m[0]).        
+00009be0: 6966 2070 203e 2031 3a0a 2020 2020 2020  if p > 1:.      
+00009bf0: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
+00009c00: 2822 2e22 290a 2020 2020 2020 2020 2020  (".").          
+00009c10: 2020 6f75 742e 6578 7465 6e64 286d 5b31    out.extend(m[1
+00009c20: 3a70 5d29 0a20 2020 2020 2020 206f 7574  :p]).        out
+00009c30: 2e61 7070 656e 6428 6465 6c69 6d69 7465  .append(delimite
+00009c40: 7229 0a20 2020 2020 2020 2069 6620 6520  r).        if e 
+00009c50: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
+00009c60: 206f 7574 2e61 7070 656e 6428 222b 2229   out.append("+")
+00009c70: 0a20 2020 2020 2020 206f 7574 2e61 7070  .        out.app
+00009c80: 656e 6428 7374 7228 6529 290a 2020 2020  end(str(e)).    
+00009c90: 656c 6966 2065 203d 3d20 2870 202d 2031  elif e == (p - 1
+00009ca0: 293a 0a20 2020 2020 2020 206f 7574 2e61  ):.        out.a
+00009cb0: 7070 656e 6428 6d29 0a20 2020 2065 6c69  ppend(m).    eli
+00009cc0: 6620 6520 3e3d 2030 3a0a 2020 2020 2020  f e >= 0:.      
+00009cd0: 2020 6f75 742e 6170 7065 6e64 286d 5b3a    out.append(m[:
+00009ce0: 2065 202b 2031 5d29 0a20 2020 2020 2020   e + 1]).       
+00009cf0: 2069 6620 6520 2b20 3120 3c20 6c65 6e28   if e + 1 < len(
+00009d00: 6d29 3a0a 2020 2020 2020 2020 2020 2020  m):.            
+00009d10: 6f75 742e 6170 7065 6e64 2822 2e22 290a  out.append(".").
+00009d20: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
+00009d30: 6578 7465 6e64 286d 5b65 202b 2031 203a  extend(m[e + 1 :
+00009d40: 5d29 0a20 2020 2065 6c73 653a 0a20 2020  ]).    else:.   
+00009d50: 2020 2020 206f 7574 2e61 7070 656e 6428       out.append(
+00009d60: 2230 2e22 290a 2020 2020 2020 2020 6f75  "0.").        ou
+00009d70: 742e 6578 7465 6e64 285b 2230 225d 202a  t.extend(["0"] *
+00009d80: 202d 2865 202b 2031 2929 0a20 2020 2020   -(e + 1)).     
+00009d90: 2020 206f 7574 2e61 7070 656e 6428 6d29     out.append(m)
+00009da0: 0a20 2020 2072 6574 7572 6e20 2222 2e6a  .    return "".j
+00009db0: 6f69 6e28 6f75 7429 0a0a 0a23 2323 2323  oin(out)...#####
+00009dc0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00009dd0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00009de0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00009df0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00009e00: 2323 2323 2323 2323 2323 2323 230a 2320  #############.# 
+00009e10: 3264 2023 2323 2323 230a 6465 6620 6361  2d ######.def ca
+00009e20: 7274 3270 6f6c 2878 2c20 7929 3a0a 2020  rt2pol(x, y):.  
+00009e30: 2020 2222 2232 4420 4361 7274 6573 6961    """2D Cartesia
+00009e40: 6e20 746f 2050 6f6c 6172 2063 6f6f 7264  n to Polar coord
+00009e50: 696e 6174 6573 2063 6f6e 7665 7273 696f  inates conversio
+00009e60: 6e2e 2222 220a 2020 2020 7468 6574 6120  n.""".    theta 
+00009e70: 3d20 6e70 2e61 7263 7461 6e32 2879 2c20  = np.arctan2(y, 
+00009e80: 7829 0a20 2020 2072 686f 203d 206e 702e  x).    rho = np.
+00009e90: 6879 706f 7428 782c 2079 290a 2020 2020  hypot(x, y).    
+00009ea0: 7265 7475 726e 206e 702e 6172 7261 7928  return np.array(
+00009eb0: 5b72 686f 2c20 7468 6574 615d 290a 0a0a  [rho, theta])...
+00009ec0: 6465 6620 706f 6c32 6361 7274 2872 686f  def pol2cart(rho
+00009ed0: 2c20 7468 6574 6129 3a0a 2020 2020 2222  , theta):.    ""
+00009ee0: 2232 4420 506f 6c61 7220 746f 2043 6172  "2D Polar to Car
+00009ef0: 7465 7369 616e 2063 6f6f 7264 696e 6174  tesian coordinat
+00009f00: 6573 2063 6f6e 7665 7273 696f 6e2e 2222  es conversion.""
+00009f10: 220a 2020 2020 7820 3d20 7268 6f20 2a20  ".    x = rho * 
+00009f20: 6e70 2e63 6f73 2874 6865 7461 290a 2020  np.cos(theta).  
+00009f30: 2020 7920 3d20 7268 6f20 2a20 6e70 2e73    y = rho * np.s
+00009f40: 696e 2874 6865 7461 290a 2020 2020 7265  in(theta).    re
+00009f50: 7475 726e 206e 702e 6172 7261 7928 5b78  turn np.array([x
+00009f60: 2c20 795d 290a 0a0a 2320 3364 2023 2323  , y])...# 3d ###
+00009f70: 2323 230a 6465 6620 6361 7274 3273 7068  ###.def cart2sph
+00009f80: 6572 2878 2c20 792c 207a 293a 0a20 2020  er(x, y, z):.   
+00009f90: 2022 2222 3344 2043 6172 7465 7369 616e   """3D Cartesian
+00009fa0: 2074 6f20 5370 6865 7269 6361 6c20 636f   to Spherical co
+00009fb0: 6f72 6469 6e61 7465 2063 6f6e 7665 7273  ordinate convers
+00009fc0: 696f 6e2e 2222 220a 2020 2020 6878 7920  ion.""".    hxy 
+00009fd0: 3d20 6e70 2e68 7970 6f74 2878 2c20 7929  = np.hypot(x, y)
+00009fe0: 0a20 2020 2072 686f 203d 206e 702e 6879  .    rho = np.hy
+00009ff0: 706f 7428 6878 792c 207a 290a 2020 2020  pot(hxy, z).    
+0000a000: 7468 6574 6120 3d20 6e70 2e61 7263 7461  theta = np.arcta
+0000a010: 6e32 2868 7879 2c20 7a29 0a20 2020 2070  n2(hxy, z).    p
+0000a020: 6869 203d 206e 702e 6172 6374 616e 3228  hi = np.arctan2(
+0000a030: 792c 2078 290a 2020 2020 7265 7475 726e  y, x).    return
+0000a040: 206e 702e 6172 7261 7928 5b72 686f 2c20   np.array([rho, 
+0000a050: 7468 6574 612c 2070 6869 5d29 0a0a 0a64  theta, phi])...d
+0000a060: 6566 2073 7068 6572 3263 6172 7428 7268  ef spher2cart(rh
+0000a070: 6f2c 2074 6865 7461 2c20 7068 6929 3a0a  o, theta, phi):.
+0000a080: 2020 2020 2222 2233 4420 5370 6865 7269      """3D Spheri
+0000a090: 6361 6c20 746f 2043 6172 7465 7369 616e  cal to Cartesian
+0000a0a0: 2063 6f6f 7264 696e 6174 6520 636f 6e76   coordinate conv
+0000a0b0: 6572 7369 6f6e 2e22 2222 0a20 2020 2073  ersion.""".    s
+0000a0c0: 7420 3d20 6e70 2e73 696e 2874 6865 7461  t = np.sin(theta
+0000a0d0: 290a 2020 2020 7370 203d 206e 702e 7369  ).    sp = np.si
+0000a0e0: 6e28 7068 6929 0a20 2020 2063 7420 3d20  n(phi).    ct = 
+0000a0f0: 6e70 2e63 6f73 2874 6865 7461 290a 2020  np.cos(theta).  
+0000a100: 2020 6370 203d 206e 702e 636f 7328 7068    cp = np.cos(ph
+0000a110: 6929 0a20 2020 2072 7374 203d 2072 686f  i).    rst = rho
+0000a120: 202a 2073 740a 2020 2020 7820 3d20 7273   * st.    x = rs
+0000a130: 7420 2a20 6370 0a20 2020 2079 203d 2072  t * cp.    y = r
+0000a140: 7374 202a 2073 700a 2020 2020 7a20 3d20  st * sp.    z = 
+0000a150: 7268 6f20 2a20 6374 0a20 2020 2072 6574  rho * ct.    ret
+0000a160: 7572 6e20 6e70 2e61 7272 6179 285b 782c  urn np.array([x,
+0000a170: 2079 2c20 7a5d 290a 0a0a 6465 6620 6361   y, z])...def ca
+0000a180: 7274 3263 796c 2878 2c20 792c 207a 293a  rt2cyl(x, y, z):
+0000a190: 0a20 2020 2022 2222 3344 2043 6172 7465  .    """3D Carte
+0000a1a0: 7369 616e 2074 6f20 4379 6c69 6e64 7269  sian to Cylindri
+0000a1b0: 6361 6c20 636f 6f72 6469 6e61 7465 2063  cal coordinate c
+0000a1c0: 6f6e 7665 7273 696f 6e2e 2222 220a 2020  onversion.""".  
+0000a1d0: 2020 7268 6f20 3d20 6e70 2e73 7172 7428    rho = np.sqrt(
+0000a1e0: 7820 2a20 7820 2b20 7920 2a20 7929 0a20  x * x + y * y). 
+0000a1f0: 2020 2074 6865 7461 203d 206e 702e 6172     theta = np.ar
+0000a200: 6374 616e 3228 792c 2078 290a 2020 2020  ctan2(y, x).    
+0000a210: 7265 7475 726e 206e 702e 6172 7261 7928  return np.array(
+0000a220: 5b72 686f 2c20 7468 6574 612c 207a 5d29  [rho, theta, z])
+0000a230: 0a0a 0a64 6566 2063 796c 3263 6172 7428  ...def cyl2cart(
+0000a240: 7268 6f2c 2074 6865 7461 2c20 7a29 3a0a  rho, theta, z):.
+0000a250: 2020 2020 2222 2233 4420 4379 6c69 6e64      """3D Cylind
+0000a260: 7269 6361 6c20 746f 2043 6172 7465 7369  rical to Cartesi
+0000a270: 616e 2063 6f6f 7264 696e 6174 6520 636f  an coordinate co
+0000a280: 6e76 6572 7369 6f6e 2e22 2222 0a20 2020  nversion.""".   
+0000a290: 2078 203d 2072 686f 202a 206e 702e 636f   x = rho * np.co
+0000a2a0: 7328 7468 6574 6129 0a20 2020 2079 203d  s(theta).    y =
+0000a2b0: 2072 686f 202a 206e 702e 7369 6e28 7468   rho * np.sin(th
+0000a2c0: 6574 6129 0a20 2020 2072 6574 7572 6e20  eta).    return 
+0000a2d0: 6e70 2e61 7272 6179 285b 782c 2079 2c20  np.array([x, y, 
+0000a2e0: 7a5d 290a 0a0a 6465 6620 6379 6c32 7370  z])...def cyl2sp
+0000a2f0: 6865 7228 7268 6f2c 2074 6865 7461 2c20  her(rho, theta, 
+0000a300: 7a29 3a0a 2020 2020 2222 2233 4420 4379  z):.    """3D Cy
+0000a310: 6c69 6e64 7269 6361 6c20 746f 2053 7068  lindrical to Sph
+0000a320: 6572 6963 616c 2063 6f6f 7264 696e 6174  erical coordinat
+0000a330: 6520 636f 6e76 6572 7369 6f6e 2e22 2222  e conversion."""
+0000a340: 0a20 2020 2072 686f 7320 3d20 6e70 2e73  .    rhos = np.s
+0000a350: 7172 7428 7268 6f20 2a20 7268 6f20 2b20  qrt(rho * rho + 
+0000a360: 7a20 2a20 7a29 0a20 2020 2070 6869 203d  z * z).    phi =
+0000a370: 206e 702e 6172 6374 616e 3228 7268 6f2c   np.arctan2(rho,
+0000a380: 207a 290a 2020 2020 7265 7475 726e 206e   z).    return n
+0000a390: 702e 6172 7261 7928 5b72 686f 732c 2070  p.array([rhos, p
+0000a3a0: 6869 2c20 7468 6574 615d 290a 0a0a 6465  hi, theta])...de
+0000a3b0: 6620 7370 6865 7232 6379 6c28 7268 6f2c  f spher2cyl(rho,
+0000a3c0: 2074 6865 7461 2c20 7068 6929 3a0a 2020   theta, phi):.  
+0000a3d0: 2020 2222 2233 4420 5370 6865 7269 6361    """3D Spherica
+0000a3e0: 6c20 746f 2043 796c 696e 6472 6963 616c  l to Cylindrical
+0000a3f0: 2063 6f6f 7264 696e 6174 6520 636f 6e76   coordinate conv
+0000a400: 6572 7369 6f6e 2e22 2222 0a20 2020 2072  ersion.""".    r
+0000a410: 686f 6320 3d20 7268 6f20 2a20 6e70 2e73  hoc = rho * np.s
+0000a420: 696e 2874 6865 7461 290a 2020 2020 7a20  in(theta).    z 
+0000a430: 3d20 7268 6f20 2a20 6e70 2e63 6f73 2874  = rho * np.cos(t
+0000a440: 6865 7461 290a 2020 2020 7265 7475 726e  heta).    return
+0000a450: 206e 702e 6172 7261 7928 5b72 686f 632c   np.array([rhoc,
+0000a460: 2070 6869 2c20 7a5d 290a 0a0a 2323 2323   phi, z])...####
+0000a470: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000a480: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000a490: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000a4a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000a4b0: 2323 2323 2323 2323 2323 2323 2323 0a64  ##############.d
+0000a4c0: 6566 2067 7265 7028 6669 6c65 6e61 6d65  ef grep(filename
+0000a4d0: 2c20 7461 672c 2063 6f6c 756d 6e3d 4e6f  , tag, column=No
+0000a4e0: 6e65 2c20 6669 7273 745f 6f63 6375 7272  ne, first_occurr
+0000a4f0: 656e 6365 5f6f 6e6c 793d 4661 6c73 6529  ence_only=False)
+0000a500: 3a0a 2020 2020 2222 2247 7265 7073 2074  :.    """Greps t
+0000a510: 6865 206c 696e 6520 696e 2061 2066 696c  he line in a fil
+0000a520: 6520 7468 6174 2073 7461 7274 7320 7769  e that starts wi
+0000a530: 7468 2061 2073 7065 6369 6669 6320 6074  th a specific `t
+0000a540: 6167 6020 7374 7269 6e67 2069 6e73 6964  ag` string insid
+0000a550: 6520 7468 6520 6669 6c65 2e22 2222 0a20  e the file.""". 
+0000a560: 2020 2069 6d70 6f72 7420 7265 0a0a 2020     import re..  
+0000a570: 2020 7769 7468 206f 7065 6e28 6669 6c65    with open(file
+0000a580: 6e61 6d65 2c20 2272 222c 2065 6e63 6f64  name, "r", encod
+0000a590: 696e 673d 2255 5446 2d38 2229 2061 7320  ing="UTF-8") as 
+0000a5a0: 6166 696c 653a 0a20 2020 2020 2020 2063  afile:.        c
+0000a5b0: 6f6e 7465 6e74 203d 205b 5d0a 2020 2020  ontent = [].    
+0000a5c0: 2020 2020 666f 7220 6c69 6e65 2069 6e20      for line in 
+0000a5d0: 6166 696c 653a 0a20 2020 2020 2020 2020  afile:.         
+0000a5e0: 2020 2069 6620 7265 2e73 6561 7263 6828     if re.search(
+0000a5f0: 7461 672c 206c 696e 6529 3a0a 2020 2020  tag, line):.    
+0000a600: 2020 2020 2020 2020 2020 2020 6320 3d20              c = 
+0000a610: 6c69 6e65 2e73 706c 6974 2829 0a20 2020  line.split().   
+0000a620: 2020 2020 2020 2020 2020 2020 2063 5b2d               c[-
+0000a630: 315d 203d 2063 5b2d 315d 2e72 6570 6c61  1] = c[-1].repla
+0000a640: 6365 2822 5c6e 222c 2022 2229 0a20 2020  ce("\n", "").   
+0000a650: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000a660: 636f 6c75 6d6e 2069 7320 6e6f 7420 4e6f  column is not No
+0000a670: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0000a680: 2020 2020 2020 2020 6320 3d20 635b 636f          c = c[co
+0000a690: 6c75 6d6e 5d0a 2020 2020 2020 2020 2020  lumn].          
+0000a6a0: 2020 2020 2020 636f 6e74 656e 742e 6170        content.ap
+0000a6b0: 7065 6e64 2863 290a 2020 2020 2020 2020  pend(c).        
+0000a6c0: 2020 2020 2020 2020 6966 2066 6972 7374          if first
+0000a6d0: 5f6f 6363 7572 7265 6e63 655f 6f6e 6c79  _occurrence_only
+0000a6e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000a6f0: 2020 2020 2020 6272 6561 6b0a 2020 2020        break.    
+0000a700: 7265 7475 726e 2063 6f6e 7465 6e74 0a0a  return content..
+0000a710: 0a64 6566 2070 7269 6e74 5f69 6e66 6f28  .def print_info(
+0000a720: 6f62 6a29 3a0a 2020 2020 2222 2250 7269  obj):.    """Pri
+0000a730: 6e74 2069 6e66 6f72 6d61 7469 6f6e 2061  nt information a
+0000a740: 626f 7574 2061 2060 7665 646f 6020 6f62  bout a `vedo` ob
+0000a750: 6a65 6374 2e22 2222 0a0a 2020 2020 6465  ject."""..    de
+0000a760: 6620 5f70 7269 6e74 5f64 6174 6128 706f  f _print_data(po
+0000a770: 6c79 2c20 6329 3a0a 2020 2020 2020 2020  ly, c):.        
+0000a780: 7074 6461 7461 203d 2070 6f6c 792e 4765  ptdata = poly.Ge
+0000a790: 7450 6f69 6e74 4461 7461 2829 0a20 2020  tPointData().   
+0000a7a0: 2020 2020 2063 6c64 6174 6120 3d20 706f       cldata = po
+0000a7b0: 6c79 2e47 6574 4365 6c6c 4461 7461 2829  ly.GetCellData()
+0000a7c0: 0a20 2020 2020 2020 2066 6c64 6174 6120  .        fldata 
+0000a7d0: 3d20 706f 6c79 2e47 6574 4669 656c 6444  = poly.GetFieldD
+0000a7e0: 6174 6128 290a 2020 2020 2020 2020 6966  ata().        if
+0000a7f0: 2070 7464 6174 612e 4765 744e 756d 6265   ptdata.GetNumbe
+0000a800: 724f 6641 7272 6179 7328 2920 2b20 636c  rOfArrays() + cl
+0000a810: 6461 7461 2e47 6574 4e75 6d62 6572 4f66  data.GetNumberOf
+0000a820: 4172 7261 7973 2829 3a0a 0a20 2020 2020  Arrays():..     
+0000a830: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+0000a840: 7261 6e67 6528 7074 6461 7461 2e47 6574  range(ptdata.Get
+0000a850: 4e75 6d62 6572 4f66 4172 7261 7973 2829  NumberOfArrays()
+0000a860: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000a870: 2020 206e 616d 6520 3d20 7074 6461 7461     name = ptdata
+0000a880: 2e47 6574 4172 7261 794e 616d 6528 6929  .GetArrayName(i)
+0000a890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a8a0: 2069 6620 6e61 6d65 2061 6e64 2070 7464   if name and ptd
+0000a8b0: 6174 612e 4765 7441 7272 6179 2869 293a  ata.GetArray(i):
+0000a8c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a8d0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000a8e0: 2822 706f 696e 7464 6174 6122 2e6c 6a75  ("pointdata".lju
+0000a8f0: 7374 2831 3429 202b 2022 3a20 222c 2063  st(14) + ": ", c
+0000a900: 3d63 2c20 626f 6c64 3d54 7275 652c 2065  =c, bold=True, e
+0000a910: 6e64 3d22 2229 0a20 2020 2020 2020 2020  nd="").         
+0000a920: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+0000a930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a940: 2020 2020 2020 2020 7474 2c20 5f20 3d20          tt, _ = 
+0000a950: 6172 7261 795f 7479 7065 735b 7074 6461  array_types[ptda
+0000a960: 7461 2e47 6574 4172 7261 7928 6929 2e47  ta.GetArray(i).G
+0000a970: 6574 4461 7461 5479 7065 2829 5d0a 2020  etDataType()].  
+0000a980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a990: 2020 6578 6365 7074 3a0a 2020 2020 2020    except:.      
+0000a9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a9b0: 2020 7474 203d 2022 5654 4b54 5950 4522    tt = "VTKTYPE"
+0000a9c0: 202b 2073 7472 2870 7464 6174 612e 4765   + str(ptdata.Ge
+0000a9d0: 7441 7272 6179 2869 292e 4765 7444 6174  tArray(i).GetDat
+0000a9e0: 6154 7970 6528 2929 0a20 2020 2020 2020  aType()).       
+0000a9f0: 2020 2020 2020 2020 2020 2020 206e 636f               nco
+0000aa00: 6d70 203d 2070 7464 6174 612e 4765 7441  mp = ptdata.GetA
+0000aa10: 7272 6179 2869 292e 4765 744e 756d 6265  rray(i).GetNumbe
+0000aa20: 724f 6643 6f6d 706f 6e65 6e74 7328 290a  rOfComponents().
+0000aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aa40: 2020 2020 726e 6720 3d20 7074 6461 7461      rng = ptdata
+0000aa50: 2e47 6574 4172 7261 7928 6929 2e47 6574  .GetArray(i).Get
+0000aa60: 5261 6e67 6528 290a 2020 2020 2020 2020  Range().        
+0000aa70: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+0000aa80: 2e70 7269 6e74 6328 6627 227b 6e61 6d65  .printc(f'"{name
+0000aa90: 7d22 2028 7b6e 636f 6d70 7d20 7b74 747d  }" ({ncomp} {tt}
+0000aaa0: 292c 272c 2063 3d63 2c20 626f 6c64 3d46  ),', c=c, bold=F
+0000aab0: 616c 7365 2c20 656e 643d 2222 290a 2020  alse, end="").  
+0000aac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aad0: 2020 7665 646f 2e70 7269 6e74 6328 0a20    vedo.printc(. 
+0000aae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aaf0: 2020 2020 2020 2022 2072 616e 6765 3d28         " range=(
+0000ab00: 2220 2b20 7072 6563 6973 696f 6e28 726e  " + precision(rn
+0000ab10: 675b 305d 2c20 3329 202b 2022 2c22 202b  g[0], 3) + "," +
+0000ab20: 2070 7265 6369 7369 6f6e 2872 6e67 5b31   precision(rng[1
+0000ab30: 5d2c 2033 2920 2b20 2229 222c 0a20 2020  ], 3) + ")",.   
+0000ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab50: 2020 2020 2063 3d63 2c0a 2020 2020 2020       c=c,.      
+0000ab60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab70: 2020 626f 6c64 3d46 616c 7365 2c0a 2020    bold=False,.  
 0000ab80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab90: 2020 7665 646f 2e70 7269 6e74 6328 2263    vedo.printc("c
-0000aba0: 656c 6c64 6174 6122 2e6c 6a75 7374 2831  elldata".ljust(1
-0000abb0: 3429 202b 2022 3a20 222c 2063 3d63 2c20  4) + ": ", c=c, 
-0000abc0: 626f 6c64 3d54 7275 652c 2065 6e64 3d22  bold=True, end="
-0000abd0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0000abe0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-0000abf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac00: 2020 2020 7474 2c20 6e70 7474 203d 2061      tt, nptt = a
-0000ac10: 7272 7479 7065 735b 636c 6461 7461 2e47  rrtypes[cldata.G
-0000ac20: 6574 4172 7261 7928 6929 2e47 6574 4461  etArray(i).GetDa
-0000ac30: 7461 5479 7065 2829 5d0a 2020 2020 2020  taType()].      
-0000ac40: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-0000ac50: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
-0000ac60: 2020 2020 2020 2020 2020 2020 2020 7474                tt
-0000ac70: 203d 2063 6c64 6174 612e 4765 7441 7272   = cldata.GetArr
-0000ac80: 6179 2869 292e 4765 7444 6174 6154 7970  ay(i).GetDataTyp
-0000ac90: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-0000aca0: 2020 2020 2020 2020 6e63 6f6d 7020 3d20          ncomp = 
-0000acb0: 636c 6461 7461 2e47 6574 4172 7261 7928  cldata.GetArray(
-0000acc0: 6929 2e47 6574 4e75 6d62 6572 4f66 436f  i).GetNumberOfCo
-0000acd0: 6d70 6f6e 656e 7473 2829 0a20 2020 2020  mponents().     
-0000ace0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000acf0: 6e67 203d 2063 6c64 6174 612e 4765 7441  ng = cldata.GetA
-0000ad00: 7272 6179 2869 292e 4765 7452 616e 6765  rray(i).GetRange
-0000ad10: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000ad20: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000ad30: 7463 2866 2722 7b6e 616d 657d 2220 287b  tc(f'"{name}" ({
-0000ad40: 6e63 6f6d 707d 207b 7474 7d29 2c27 2c20  ncomp} {tt}),', 
-0000ad50: 633d 632c 2062 6f6c 643d 4661 6c73 652c  c=c, bold=False,
-0000ad60: 2065 6e64 3d22 2229 0a20 2020 2020 2020   end="").       
-0000ad70: 2020 2020 2020 2020 2020 2020 2076 6564               ved
-0000ad80: 6f2e 7072 696e 7463 280a 2020 2020 2020  o.printc(.      
-0000ad90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ada0: 2020 2220 7261 6e67 653d 2822 202b 2070    " range=(" + p
-0000adb0: 7265 6369 7369 6f6e 2872 6e67 5b30 5d2c  recision(rng[0],
-0000adc0: 2034 2920 2b20 222c 2220 2b20 7072 6563   4) + "," + prec
-0000add0: 6973 696f 6e28 726e 675b 315d 2c20 3429  ision(rng[1], 4)
-0000ade0: 202b 2022 2922 2c0a 2020 2020 2020 2020   + ")",.        
-0000adf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae00: 633d 632c 0a20 2020 2020 2020 2020 2020  c=c,.           
-0000ae10: 2020 2020 2020 2020 2020 2020 2062 6f6c               bol
-0000ae20: 643d 4661 6c73 652c 0a20 2020 2020 2020  d=False,.       
-0000ae30: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
-0000ae40: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0000ae50: 6920 696e 2072 616e 6765 2866 6c64 6174  i in range(fldat
-0000ae60: 612e 4765 744e 756d 6265 724f 6641 7272  a.GetNumberOfArr
-0000ae70: 6179 7328 2929 3a0a 2020 2020 2020 2020  ays()):.        
-0000ae80: 2020 2020 2020 2020 6e61 6d65 203d 2066          name = f
-0000ae90: 6c64 6174 612e 4765 7441 7272 6179 4e61  ldata.GetArrayNa
-0000aea0: 6d65 2869 290a 2020 2020 2020 2020 2020  me(i).          
-0000aeb0: 2020 2020 2020 6966 206e 616d 6520 616e        if name an
-0000aec0: 6420 666c 6461 7461 2e47 6574 4162 7374  d fldata.GetAbst
-0000aed0: 7261 6374 4172 7261 7928 6929 3a0a 2020  ractArray(i):.  
-0000aee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aef0: 2020 6172 7220 3d20 666c 6461 7461 2e47    arr = fldata.G
-0000af00: 6574 4162 7374 7261 6374 4172 7261 7928  etAbstractArray(
-0000af10: 6929 0a20 2020 2020 2020 2020 2020 2020  i).             
-0000af20: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000af30: 7463 2822 6d65 7461 6461 7461 222e 6c6a  tc("metadata".lj
-0000af40: 7573 7428 3134 2920 2b20 223a 2022 2c20  ust(14) + ": ", 
-0000af50: 633d 632c 2062 6f6c 643d 5472 7565 2c20  c=c, bold=True, 
-0000af60: 656e 643d 2222 290a 2020 2020 2020 2020  end="").        
-0000af70: 2020 2020 2020 2020 2020 2020 6e63 6f6d              ncom
-0000af80: 7020 3d20 6172 722e 4765 744e 756d 6265  p = arr.GetNumbe
-0000af90: 724f 6643 6f6d 706f 6e65 6e74 7328 290a  rOfComponents().
-0000afa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000afb0: 2020 2020 6e76 616c 7320 3d20 6172 722e      nvals = arr.
-0000afc0: 4765 744e 756d 6265 724f 6656 616c 7565  GetNumberOfValue
-0000afd0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
-0000afe0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
-0000aff0: 6e74 6328 6627 227b 6e61 6d65 7d22 2028  ntc(f'"{name}" (
-0000b000: 7b6e 636f 6d70 7d20 636f 6d70 6f6e 656e  {ncomp} componen
-0000b010: 7473 2c20 7b6e 7661 6c73 7d20 7661 6c75  ts, {nvals} valu
-0000b020: 6573 2927 2c20 633d 632c 2062 6f6c 643d  es)', c=c, bold=
-0000b030: 4661 6c73 6529 0a0a 2020 2020 2020 2020  False)..        
-0000b040: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000b050: 2020 7665 646f 2e70 7269 6e74 6328 226d    vedo.printc("m
-0000b060: 6573 6820 6461 7461 222e 6c6a 7573 7428  esh data".ljust(
-0000b070: 3134 2920 2b20 223a 222c 2063 3d63 2c20  14) + ":", c=c, 
-0000b080: 626f 6c64 3d54 7275 652c 2065 6e64 3d22  bold=True, end="
-0000b090: 2022 290a 2020 2020 2020 2020 2020 2020   ").            
-0000b0a0: 7665 646f 2e70 7269 6e74 6328 226e 6f20  vedo.printc("no 
-0000b0b0: 706f 696e 7420 6f72 2063 656c 6c20 6461  point or cell da
-0000b0c0: 7461 2069 7320 7072 6573 656e 742e 222c  ta is present.",
-0000b0d0: 2063 3d63 2c20 626f 6c64 3d46 616c 7365   c=c, bold=False
-0000b0e0: 290a 0a20 2020 2023 2323 2323 2323 2323  )..    #########
-0000b0f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000b100: 2323 2323 2323 230a 2020 2020 6465 6620  #######.    def 
-0000b110: 5f70 7269 6e74 7674 6b61 6374 6f72 2861  _printvtkactor(a
-0000b120: 6374 6f72 293a 0a0a 2020 2020 2020 2020  ctor):..        
-0000b130: 6966 206e 6f74 2061 6374 6f72 2e47 6574  if not actor.Get
-0000b140: 5069 636b 6162 6c65 2829 3a0a 2020 2020  Pickable():.    
-0000b150: 2020 2020 2020 2020 7265 7475 726e 0a0a          return..
-0000b160: 2020 2020 2020 2020 6d61 7070 6572 203d          mapper =
-0000b170: 2061 6374 6f72 2e47 6574 4d61 7070 6572   actor.GetMapper
-0000b180: 2829 0a20 2020 2020 2020 2069 6620 6861  ().        if ha
-0000b190: 7361 7474 7228 6163 746f 722c 2022 706f  sattr(actor, "po
-0000b1a0: 6c79 6461 7461 2229 3a0a 2020 2020 2020  lydata"):.      
-0000b1b0: 2020 2020 2020 706f 6c79 203d 2061 6374        poly = act
-0000b1c0: 6f72 2e70 6f6c 7964 6174 6128 290a 2020  or.polydata().  
-0000b1d0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000b1e0: 2020 2020 2020 2020 706f 6c79 203d 206d          poly = m
-0000b1f0: 6170 7065 722e 4765 7449 6e70 7574 2829  apper.GetInput()
-0000b200: 0a0a 2020 2020 2020 2020 7072 6f20 3d20  ..        pro = 
-0000b210: 6163 746f 722e 4765 7450 726f 7065 7274  actor.GetPropert
-0000b220: 7928 290a 2020 2020 2020 2020 706f 7320  y().        pos 
-0000b230: 3d20 6163 746f 722e 4765 7450 6f73 6974  = actor.GetPosit
-0000b240: 696f 6e28 290a 2020 2020 2020 2020 626e  ion().        bn
-0000b250: 6473 203d 2061 6374 6f72 2e62 6f75 6e64  ds = actor.bound
-0000b260: 7328 290a 2020 2020 2020 2020 636f 6c20  s().        col 
-0000b270: 3d20 7072 6563 6973 696f 6e28 7072 6f2e  = precision(pro.
-0000b280: 4765 7443 6f6c 6f72 2829 2c20 3329 0a20  GetColor(), 3). 
-0000b290: 2020 2020 2020 2061 6c70 6861 203d 2070         alpha = p
-0000b2a0: 726f 2e47 6574 4f70 6163 6974 7928 290a  ro.GetOpacity().
-0000b2b0: 2020 2020 2020 2020 6e70 7420 3d20 706f          npt = po
-0000b2c0: 6c79 2e47 6574 4e75 6d62 6572 4f66 506f  ly.GetNumberOfPo
-0000b2d0: 696e 7473 2829 0a20 2020 2020 2020 206e  ints().        n
-0000b2e0: 636c 203d 2070 6f6c 792e 4765 744e 756d  cl = poly.GetNum
-0000b2f0: 6265 724f 6643 656c 6c73 2829 0a20 2020  berOfCells().   
-0000b300: 2020 2020 206e 706c 203d 2070 6f6c 792e       npl = poly.
-0000b310: 4765 744e 756d 6265 724f 6650 6f6c 7973  GetNumberOfPolys
-0000b320: 2829 0a20 2020 2020 2020 206e 6c6e 203d  ().        nln =
-0000b330: 2070 6f6c 792e 4765 744e 756d 6265 724f   poly.GetNumberO
-0000b340: 664c 696e 6573 2829 0a0a 2020 2020 2020  fLines()..      
-0000b350: 2020 7665 646f 2e70 7269 6e74 6328 224d    vedo.printc("M
-0000b360: 6573 682f 506f 696e 7473 222e 6c6a 7573  esh/Points".ljus
-0000b370: 7428 3730 292c 2063 3d22 6722 2c20 626f  t(70), c="g", bo
-0000b380: 6c64 3d54 7275 652c 2069 6e76 6572 743d  ld=True, invert=
-0000b390: 5472 7565 2c20 6469 6d3d 312c 2065 6e64  True, dim=1, end
-0000b3a0: 3d22 2229 0a0a 2020 2020 2020 2020 6966  ="")..        if
-0000b3b0: 2068 6173 6174 7472 2861 6374 6f72 2c20   hasattr(actor, 
-0000b3c0: 2269 6e66 6f22 2920 616e 6420 226c 6567  "info") and "leg
-0000b3d0: 656e 6422 2069 6e20 6163 746f 722e 696e  end" in actor.in
-0000b3e0: 666f 2e6b 6579 7328 2920 616e 6420 6163  fo.keys() and ac
-0000b3f0: 746f 722e 696e 666f 5b22 6c65 6765 6e64  tor.info["legend
-0000b400: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-0000b410: 7665 646f 2e70 7269 6e74 6328 226c 6567  vedo.printc("leg
-0000b420: 656e 6422 2e6c 6a75 7374 2831 3429 2b22  end".ljust(14)+"
-0000b430: 3a20 222c 2063 3d22 6722 2c20 626f 6c64  : ", c="g", bold
-0000b440: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
-0000b450: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
-0000b460: 7072 696e 7463 2861 6374 6f72 2e69 6e66  printc(actor.inf
-0000b470: 6f5b 226c 6567 656e 6422 5d2c 2063 3d22  o["legend"], c="
-0000b480: 6722 2c20 626f 6c64 3d46 616c 7365 290a  g", bold=False).
-0000b490: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000b4a0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0000b4b0: 290a 0a20 2020 2020 2020 2069 6620 6861  )..        if ha
-0000b4c0: 7361 7474 7228 6163 746f 722c 2022 6e61  sattr(actor, "na
-0000b4d0: 6d65 2229 2061 6e64 2061 6374 6f72 2e6e  me") and actor.n
-0000b4e0: 616d 653a 0a20 2020 2020 2020 2020 2020  ame:.           
-0000b4f0: 2076 6564 6f2e 7072 696e 7463 2822 6e61   vedo.printc("na
-0000b500: 6d65 222e 6c6a 7573 7428 3134 2920 2b20  me".ljust(14) + 
-0000b510: 223a 2022 2c20 633d 2267 222c 2062 6f6c  ": ", c="g", bol
-0000b520: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
-0000b530: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
-0000b540: 2e70 7269 6e74 6328 6163 746f 722e 6e61  .printc(actor.na
-0000b550: 6d65 2c20 633d 2267 222c 2062 6f6c 643d  me, c="g", bold=
-0000b560: 4661 6c73 6529 0a0a 2020 2020 2020 2020  False)..        
-0000b570: 6966 2068 6173 6174 7472 2861 6374 6f72  if hasattr(actor
-0000b580: 2c20 2266 696c 656e 616d 6522 2920 616e  , "filename") an
-0000b590: 6420 6163 746f 722e 6669 6c65 6e61 6d65  d actor.filename
-0000b5a0: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
-0000b5b0: 646f 2e70 7269 6e74 6328 2266 696c 6520  do.printc("file 
-0000b5c0: 6e61 6d65 222e 6c6a 7573 7428 3134 2920  name".ljust(14) 
-0000b5d0: 2b20 223a 2022 2c20 633d 2267 222c 2062  + ": ", c="g", b
-0000b5e0: 6f6c 643d 5472 7565 2c20 656e 643d 2222  old=True, end=""
-0000b5f0: 290a 2020 2020 2020 2020 2020 2020 7665  ).            ve
-0000b600: 646f 2e70 7269 6e74 6328 6163 746f 722e  do.printc(actor.
-0000b610: 6669 6c65 6e61 6d65 2c20 633d 2267 222c  filename, c="g",
-0000b620: 2062 6f6c 643d 4661 6c73 6529 0a0a 2020   bold=False)..  
-0000b630: 2020 2020 2020 6966 206e 6f74 2061 6374        if not act
-0000b640: 6f72 2e47 6574 4d61 7070 6572 2829 2e47  or.GetMapper().G
-0000b650: 6574 5363 616c 6172 5669 7369 6269 6c69  etScalarVisibili
-0000b660: 7479 2829 3a0a 2020 2020 2020 2020 2020  ty():.          
-0000b670: 2020 7665 646f 2e70 7269 6e74 6328 2263    vedo.printc("c
-0000b680: 6f6c 6f72 222e 6c6a 7573 7428 3134 2920  olor".ljust(14) 
-0000b690: 2b20 223a 2022 2c20 633d 2267 222c 2062  + ": ", c="g", b
-0000b6a0: 6f6c 643d 5472 7565 2c20 656e 643d 2222  old=True, end=""
-0000b6b0: 290a 2020 2020 2020 2020 2020 2020 636e  ).            cn
-0000b6c0: 616d 6520 3d20 7665 646f 2e63 6f6c 6f72  ame = vedo.color
-0000b6d0: 732e 6765 745f 636f 6c6f 725f 6e61 6d65  s.get_color_name
-0000b6e0: 2870 726f 2e47 6574 436f 6c6f 7228 2929  (pro.GetColor())
-0000b6f0: 0a20 2020 2020 2020 2020 2020 2076 6564  .            ved
-0000b700: 6f2e 7072 696e 7463 2866 227b 636e 616d  o.printc(f"{cnam
-0000b710: 657d 2c20 7267 623d 7b63 6f6c 7d2c 2061  e}, rgb={col}, a
-0000b720: 6c70 6861 3d7b 616c 7068 617d 222c 2063  lpha={alpha}", c
-0000b730: 3d22 6722 2c20 626f 6c64 3d46 616c 7365  ="g", bold=False
-0000b740: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
-0000b750: 6620 6163 746f 722e 4765 7442 6163 6b66  f actor.GetBackf
-0000b760: 6163 6550 726f 7065 7274 7928 293a 0a20  aceProperty():. 
-0000b770: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-0000b780: 636f 6c20 3d20 6163 746f 722e 4765 7442  col = actor.GetB
-0000b790: 6163 6b66 6163 6550 726f 7065 7274 7928  ackfaceProperty(
-0000b7a0: 292e 4765 7444 6966 6675 7365 436f 6c6f  ).GetDiffuseColo
-0000b7b0: 7228 290a 2020 2020 2020 2020 2020 2020  r().            
-0000b7c0: 2020 2020 636e 616d 6520 3d20 7665 646f      cname = vedo
-0000b7d0: 2e63 6f6c 6f72 732e 6765 745f 636f 6c6f  .colors.get_colo
-0000b7e0: 725f 6e61 6d65 2862 636f 6c29 0a20 2020  r_name(bcol).   
-0000b7f0: 2020 2020 2020 2020 2020 2020 2076 6564               ved
-0000b800: 6f2e 7072 696e 7463 2822 6261 636b 2063  o.printc("back c
-0000b810: 6f6c 6f72 222e 6c6a 7573 7428 3134 2920  olor".ljust(14) 
-0000b820: 2b20 223a 2022 2c20 633d 2267 222c 2062  + ": ", c="g", b
-0000b830: 6f6c 643d 5472 7565 2c20 656e 643d 2222  old=True, end=""
-0000b840: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000b850: 2020 7665 646f 2e70 7269 6e74 6328 6622    vedo.printc(f"
-0000b860: 7b63 6e61 6d65 7d2c 2072 6762 3d7b 7072  {cname}, rgb={pr
-0000b870: 6563 6973 696f 6e28 6263 6f6c 2c33 297d  ecision(bcol,3)}
-0000b880: 222c 2063 3d22 6722 2c20 626f 6c64 3d46  ", c="g", bold=F
-0000b890: 616c 7365 290a 0a20 2020 2020 2020 2076  alse)..        v
-0000b8a0: 6564 6f2e 7072 696e 7463 2822 706f 696e  edo.printc("poin
-0000b8b0: 7473 222e 6c6a 7573 7428 3134 2920 2b20  ts".ljust(14) + 
-0000b8c0: 223a 222c 206e 7074 2c20 633d 2267 222c  ":", npt, c="g",
-0000b8d0: 2062 6f6c 643d 5472 7565 290a 2020 2020   bold=True).    
-0000b8e0: 2020 2020 2320 7665 646f 2e70 7269 6e74      # vedo.print
-0000b8f0: 6328 2263 656c 6c73 222e 6c6a 7573 7428  c("cells".ljust(
-0000b900: 3134 292b 223a 222c 206e 636c 2c20 633d  14)+":", ncl, c=
-0000b910: 2267 222c 2062 6f6c 643d 5472 7565 290a  "g", bold=True).
-0000b920: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
-0000b930: 6e74 6328 2270 6f6c 7967 6f6e 7322 2e6c  ntc("polygons".l
-0000b940: 6a75 7374 2831 3429 202b 2022 3a22 2c20  just(14) + ":", 
-0000b950: 6e70 6c2c 2063 3d22 6722 2c20 626f 6c64  npl, c="g", bold
-0000b960: 3d54 7275 6529 0a20 2020 2020 2020 2069  =True).        i
-0000b970: 6620 6e6c 6e3a 0a20 2020 2020 2020 2020  f nln:.         
-0000b980: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000b990: 6c69 6e65 7322 2e6c 6a75 7374 2831 3429  lines".ljust(14)
-0000b9a0: 202b 2022 3a22 2c20 6e6c 6e2c 2063 3d22   + ":", nln, c="
-0000b9b0: 6722 2c20 626f 6c64 3d54 7275 6529 0a20  g", bold=True). 
-0000b9c0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000b9d0: 7463 2822 706f 7369 7469 6f6e 222e 6c6a  tc("position".lj
-0000b9e0: 7573 7428 3134 2920 2b20 223a 222c 2070  ust(14) + ":", p
-0000b9f0: 6f73 2c20 633d 2267 222c 2062 6f6c 643d  os, c="g", bold=
-0000ba00: 5472 7565 290a 0a20 2020 2020 2020 2069  True)..        i
-0000ba10: 6620 6861 7361 7474 7228 6163 746f 722c  f hasattr(actor,
-0000ba20: 2022 4765 7453 6361 6c65 2229 3a0a 2020   "GetScale"):.  
-0000ba30: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
-0000ba40: 7269 6e74 6328 2273 6361 6c65 222e 6c6a  rintc("scale".lj
-0000ba50: 7573 7428 3134 2920 2b20 223a 222c 2063  ust(14) + ":", c
-0000ba60: 3d22 6722 2c20 626f 6c64 3d54 7275 652c  ="g", bold=True,
-0000ba70: 2065 6e64 3d22 2022 290a 2020 2020 2020   end=" ").      
-0000ba80: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
-0000ba90: 6328 7072 6563 6973 696f 6e28 6163 746f  c(precision(acto
-0000baa0: 722e 4765 7453 6361 6c65 2829 2c20 3329  r.GetScale(), 3)
-0000bab0: 2c20 633d 2267 222c 2062 6f6c 643d 4661  , c="g", bold=Fa
-0000bac0: 6c73 6529 0a0a 2020 2020 2020 2020 6966  lse)..        if
-0000bad0: 2068 6173 6174 7472 2861 6374 6f72 2c20   hasattr(actor, 
-0000bae0: 2270 6f6c 7964 6174 6122 2920 616e 6420  "polydata") and 
-0000baf0: 6163 746f 722e 6e70 6f69 6e74 733a 0a20  actor.npoints:. 
-0000bb00: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
-0000bb10: 7072 696e 7463 2822 6365 6e74 6572 206f  printc("center o
-0000bb20: 6620 6d61 7373 222e 6c6a 7573 7428 3134  f mass".ljust(14
-0000bb30: 2920 2b20 223a 222c 2063 3d22 6722 2c20  ) + ":", c="g", 
-0000bb40: 626f 6c64 3d54 7275 652c 2065 6e64 3d22  bold=True, end="
-0000bb50: 2022 290a 2020 2020 2020 2020 2020 2020   ").            
-0000bb60: 636d 203d 2074 7570 6c65 2861 6374 6f72  cm = tuple(actor
-0000bb70: 2e63 656e 7465 725f 6f66 5f6d 6173 7328  .center_of_mass(
-0000bb80: 2929 0a20 2020 2020 2020 2020 2020 2076  )).            v
-0000bb90: 6564 6f2e 7072 696e 7463 2870 7265 6369  edo.printc(preci
-0000bba0: 7369 6f6e 2863 6d2c 2033 292c 2063 3d22  sion(cm, 3), c="
-0000bbb0: 6722 2c20 626f 6c64 3d46 616c 7365 290a  g", bold=False).
-0000bbc0: 0a20 2020 2020 2020 2020 2020 2076 6564  .            ved
-0000bbd0: 6f2e 7072 696e 7463 2822 6176 6572 6167  o.printc("averag
-0000bbe0: 6520 7369 7a65 222e 6c6a 7573 7428 3134  e size".ljust(14
-0000bbf0: 2920 2b20 223a 222c 2063 3d22 6722 2c20  ) + ":", c="g", 
-0000bc00: 626f 6c64 3d54 7275 652c 2065 6e64 3d22  bold=True, end="
-0000bc10: 2022 290a 2020 2020 2020 2020 2020 2020   ").            
-0000bc20: 7665 646f 2e70 7269 6e74 6328 7072 6563  vedo.printc(prec
-0000bc30: 6973 696f 6e28 6163 746f 722e 6176 6572  ision(actor.aver
-0000bc40: 6167 655f 7369 7a65 2829 2c20 3629 2c20  age_size(), 6), 
-0000bc50: 633d 2267 222c 2062 6f6c 643d 4661 6c73  c="g", bold=Fals
-0000bc60: 6529 0a0a 2020 2020 2020 2020 2020 2020  e)..            
-0000bc70: 7665 646f 2e70 7269 6e74 6328 2264 6961  vedo.printc("dia
-0000bc80: 676f 6e61 6c20 7369 7a65 222e 6c6a 7573  gonal size".ljus
-0000bc90: 7428 3134 2920 2b20 223a 222c 2063 3d22  t(14) + ":", c="
-0000bca0: 6722 2c20 626f 6c64 3d54 7275 652c 2065  g", bold=True, e
-0000bcb0: 6e64 3d22 2022 290a 2020 2020 2020 2020  nd=" ").        
-0000bcc0: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000bcd0: 7072 6563 6973 696f 6e28 6163 746f 722e  precision(actor.
-0000bce0: 6469 6167 6f6e 616c 5f73 697a 6528 292c  diagonal_size(),
-0000bcf0: 2036 292c 2063 3d22 6722 2c20 626f 6c64   6), c="g", bold
-0000bd00: 3d46 616c 7365 290a 0a20 2020 2020 2020  =False)..       
-0000bd10: 2076 6564 6f2e 7072 696e 7463 2822 626f   vedo.printc("bo
-0000bd20: 756e 6473 222e 6c6a 7573 7428 3134 2920  unds".ljust(14) 
-0000bd30: 2b20 223a 222c 2063 3d22 6722 2c20 626f  + ":", c="g", bo
-0000bd40: 6c64 3d54 7275 652c 2065 6e64 3d22 2022  ld=True, end=" "
-0000bd50: 290a 2020 2020 2020 2020 6278 312c 2062  ).        bx1, b
-0000bd60: 7832 203d 2070 7265 6369 7369 6f6e 2862  x2 = precision(b
-0000bd70: 6e64 735b 305d 2c20 3329 2c20 7072 6563  nds[0], 3), prec
-0000bd80: 6973 696f 6e28 626e 6473 5b31 5d2c 2033  ision(bnds[1], 3
-0000bd90: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
-0000bda0: 7269 6e74 6328 2278 3d28 2220 2b20 6278  rintc("x=(" + bx
-0000bdb0: 3120 2b20 222c 2022 202b 2062 7832 202b  1 + ", " + bx2 +
-0000bdc0: 2022 2922 2c20 633d 2267 222c 2062 6f6c   ")", c="g", bol
-0000bdd0: 643d 4661 6c73 652c 2065 6e64 3d22 2229  d=False, end="")
-0000bde0: 0a20 2020 2020 2020 2062 7931 2c20 6279  .        by1, by
-0000bdf0: 3220 3d20 7072 6563 6973 696f 6e28 626e  2 = precision(bn
-0000be00: 6473 5b32 5d2c 2033 292c 2070 7265 6369  ds[2], 3), preci
-0000be10: 7369 6f6e 2862 6e64 735b 335d 2c20 3329  sion(bnds[3], 3)
-0000be20: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000be30: 696e 7463 2822 2079 3d28 2220 2b20 6279  intc(" y=(" + by
-0000be40: 3120 2b20 222c 2022 202b 2062 7932 202b  1 + ", " + by2 +
-0000be50: 2022 2922 2c20 633d 2267 222c 2062 6f6c   ")", c="g", bol
-0000be60: 643d 4661 6c73 652c 2065 6e64 3d22 2229  d=False, end="")
-0000be70: 0a20 2020 2020 2020 2062 7a31 2c20 627a  .        bz1, bz
-0000be80: 3220 3d20 7072 6563 6973 696f 6e28 626e  2 = precision(bn
-0000be90: 6473 5b34 5d2c 2033 292c 2070 7265 6369  ds[4], 3), preci
-0000bea0: 7369 6f6e 2862 6e64 735b 355d 2c20 3329  sion(bnds[5], 3)
-0000beb0: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000bec0: 696e 7463 2822 207a 3d28 2220 2b20 627a  intc(" z=(" + bz
-0000bed0: 3120 2b20 222c 2022 202b 2062 7a32 202b  1 + ", " + bz2 +
-0000bee0: 2022 2922 2c20 633d 2267 222c 2062 6f6c   ")", c="g", bol
-0000bef0: 643d 4661 6c73 6529 0a0a 2020 2020 2020  d=False)..      
-0000bf00: 2020 5f70 7269 6e74 5f64 6174 6128 706f    _print_data(po
-0000bf10: 6c79 2c20 6d61 7070 6572 2c20 2267 2229  ly, mapper, "g")
-0000bf20: 0a0a 2020 2020 2020 2020 6966 2068 6173  ..        if has
-0000bf30: 6174 7472 2861 6374 6f72 2c20 2270 6963  attr(actor, "pic
-0000bf40: 6b65 6433 6422 2920 616e 6420 6163 746f  ked3d") and acto
-0000bf50: 722e 7069 636b 6564 3364 2069 7320 6e6f  r.picked3d is no
-0000bf60: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0000bf70: 2020 2020 6964 7074 203d 2061 6374 6f72      idpt = actor
-0000bf80: 2e63 6c6f 7365 7374 5f70 6f69 6e74 2861  .closest_point(a
-0000bf90: 6374 6f72 2e70 6963 6b65 6433 642c 2072  ctor.picked3d, r
-0000bfa0: 6574 7572 6e5f 706f 696e 745f 6964 3d54  eturn_point_id=T
-0000bfb0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-0000bfc0: 2069 6463 656c 6c20 3d20 6163 746f 722e   idcell = actor.
-0000bfd0: 636c 6f73 6573 745f 706f 696e 7428 6163  closest_point(ac
-0000bfe0: 746f 722e 7069 636b 6564 3364 2c20 7265  tor.picked3d, re
-0000bff0: 7475 726e 5f63 656c 6c5f 6964 3d54 7275  turn_cell_id=Tru
-0000c000: 6529 0a20 2020 2020 2020 2020 2020 2076  e).            v
-0000c010: 6564 6f2e 7072 696e 7463 280a 2020 2020  edo.printc(.    
-0000c020: 2020 2020 2020 2020 2020 2020 2263 6c69              "cli
-0000c030: 636b 6564 2070 6f69 6e74 222e 6c6a 7573  cked point".ljus
-0000c040: 7428 3134 2920 2b20 223a 222c 0a20 2020  t(14) + ":",.   
-0000c050: 2020 2020 2020 2020 2020 2020 2070 7265               pre
-0000c060: 6369 7369 6f6e 2861 6374 6f72 2e70 6963  cision(actor.pic
-0000c070: 6b65 6433 642c 2036 292c 0a20 2020 2020  ked3d, 6),.     
-0000c080: 2020 2020 2020 2020 2020 2066 2270 6f69             f"poi
-0000c090: 6e74 4944 3d7b 6964 7074 7d2c 2063 656c  ntID={idpt}, cel
-0000c0a0: 6c49 443d 7b69 6463 656c 6c7d 222c 0a20  lID={idcell}",. 
-0000c0b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000c0c0: 3d22 6722 2c0a 2020 2020 2020 2020 2020  ="g",.          
-0000c0d0: 2020 2020 2020 626f 6c64 3d54 7275 652c        bold=True,
-0000c0e0: 0a20 2020 2020 2020 2020 2020 2029 0a0a  .            )..
-0000c0f0: 2020 2020 6966 206f 626a 2069 7320 4e6f      if obj is No
-0000c100: 6e65 3a0a 2020 2020 2020 2020 7265 7475  ne:.        retu
-0000c110: 726e 0a0a 2020 2020 6966 2069 7369 6e73  rn..    if isins
-0000c120: 7461 6e63 6528 6f62 6a2c 206e 702e 6e64  tance(obj, np.nd
-0000c130: 6172 7261 7929 3a0a 2020 2020 2020 2020  array):.        
-0000c140: 6f62 6a20 3d20 6f62 6a0a 2020 2020 2020  obj = obj.      
-0000c150: 2020 6366 203d 2022 7922 0a20 2020 2020    cf = "y".     
-0000c160: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000c170: 4e75 6d70 7920 4172 7261 7922 2e6c 6a75  Numpy Array".lju
-0000c180: 7374 2837 3029 2c20 633d 6366 2c20 696e  st(70), c=cf, in
-0000c190: 7665 7274 3d54 7275 6529 0a20 2020 2020  vert=True).     
-0000c1a0: 2020 2076 6564 6f2e 7072 696e 7463 286f     vedo.printc(o
-0000c1b0: 626a 2c20 633d 6366 290a 2020 2020 2020  bj, c=cf).      
-0000c1c0: 2020 7665 646f 2e70 7269 6e74 6328 2273    vedo.printc("s
-0000c1d0: 6861 7065 222e 6c6a 7573 7428 3829 202b  hape".ljust(8) +
-0000c1e0: 2022 3a22 2c20 6f62 6a2e 7368 6170 652c   ":", obj.shape,
-0000c1f0: 2063 3d63 6629 0a20 2020 2020 2020 2076   c=cf).        v
-0000c200: 6564 6f2e 7072 696e 7463 2822 7261 6e67  edo.printc("rang
-0000c210: 6522 2e6c 6a75 7374 2838 2920 2b20 6622  e".ljust(8) + f"
-0000c220: 3a20 287b 6e70 2e6d 696e 286f 626a 297d  : ({np.min(obj)}
-0000c230: 2c20 7b6e 702e 6d61 7828 6f62 6a29 7d29  , {np.max(obj)})
-0000c240: 222c 2063 3d63 6629 0a20 2020 2020 2020  ", c=cf).       
-0000c250: 2076 6564 6f2e 7072 696e 7463 2822 6d65   vedo.printc("me
-0000c260: 616e 222e 6c6a 7573 7428 3829 202b 2022  an".ljust(8) + "
-0000c270: 3a22 2c20 6e70 2e6d 6561 6e28 6f62 6a29  :", np.mean(obj)
-0000c280: 2c20 633d 6366 290a 2020 2020 2020 2020  , c=cf).        
-0000c290: 7665 646f 2e70 7269 6e74 6328 2273 7464  vedo.printc("std
-0000c2a0: 5f64 6576 222e 6c6a 7573 7428 3829 202b  _dev".ljust(8) +
-0000c2b0: 2022 3a22 2c20 6e70 2e73 7464 286f 626a   ":", np.std(obj
-0000c2c0: 292c 2063 3d63 6629 0a20 2020 2020 2020  ), c=cf).       
-0000c2d0: 2069 6620 6c65 6e28 6f62 6a2e 7368 6170   if len(obj.shap
-0000c2e0: 6529 203e 3d20 323a 0a20 2020 2020 2020  e) >= 2:.       
-0000c2f0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000c300: 2822 4178 6973 2030 222e 6c6a 7573 7428  ("Axis 0".ljust(
-0000c310: 3829 202b 2022 3a22 2c20 633d 6366 2c20  8) + ":", c=cf, 
-0000c320: 6974 616c 6963 3d31 290a 2020 2020 2020  italic=1).      
-0000c330: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
-0000c340: 6328 225c 746d 696e 203a 222c 206e 702e  c("\tmin :", np.
-0000c350: 6d69 6e28 6f62 6a2c 2061 7869 733d 3029  min(obj, axis=0)
-0000c360: 2c20 633d 6366 290a 2020 2020 2020 2020  , c=cf).        
-0000c370: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000c380: 225c 746d 6178 203a 222c 206e 702e 6d61  "\tmax :", np.ma
-0000c390: 7828 6f62 6a2c 2061 7869 733d 3029 2c20  x(obj, axis=0), 
-0000c3a0: 633d 6366 290a 2020 2020 2020 2020 2020  c=cf).          
-0000c3b0: 2020 7665 646f 2e70 7269 6e74 6328 225c    vedo.printc("\
-0000c3c0: 746d 6561 6e3a 222c 206e 702e 6d65 616e  tmean:", np.mean
-0000c3d0: 286f 626a 2c20 6178 6973 3d30 292c 2063  (obj, axis=0), c
-0000c3e0: 3d63 6629 0a20 2020 2020 2020 2020 2020  =cf).           
-0000c3f0: 2069 6620 6f62 6a2e 7368 6170 655b 315d   if obj.shape[1]
-0000c400: 203e 2033 3a0a 2020 2020 2020 2020 2020   > 3:.          
-0000c410: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
-0000c420: 6328 2241 7869 7320 3122 2e6c 6a75 7374  c("Axis 1".ljust
-0000c430: 2838 2920 2b20 223a 222c 2063 3d63 662c  (8) + ":", c=cf,
-0000c440: 2069 7461 6c69 633d 3129 0a20 2020 2020   italic=1).     
-0000c450: 2020 2020 2020 2020 2020 2074 6d69 6e20             tmin 
-0000c460: 3d20 7374 7228 6e70 2e6d 696e 286f 626a  = str(np.min(obj
-0000c470: 2c20 6178 6973 3d31 292e 746f 6c69 7374  , axis=1).tolist
-0000c480: 2829 5b3a 325d 292e 7265 706c 6163 6528  ()[:2]).replace(
-0000c490: 225d 222c 2022 2c20 2e2e 2e22 290a 2020  "]", ", ...").  
-0000c4a0: 2020 2020 2020 2020 2020 2020 2020 746d                tm
-0000c4b0: 6178 203d 2073 7472 286e 702e 6d61 7828  ax = str(np.max(
-0000c4c0: 6f62 6a2c 2061 7869 733d 3129 2e74 6f6c  obj, axis=1).tol
-0000c4d0: 6973 7428 295b 3a32 5d29 2e72 6570 6c61  ist()[:2]).repla
-0000c4e0: 6365 2822 5d22 2c20 222c 202e 2e2e 2229  ce("]", ", ...")
-0000c4f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c500: 2074 6d65 6120 3d20 7374 7228 6e70 2e6d   tmea = str(np.m
-0000c510: 6561 6e28 6f62 6a2c 2061 7869 733d 3129  ean(obj, axis=1)
-0000c520: 2e74 6f6c 6973 7428 295b 3a32 5d29 2e72  .tolist()[:2]).r
-0000c530: 6570 6c61 6365 2822 5d22 2c20 222c 202e  eplace("]", ", .
-0000c540: 2e2e 2229 0a20 2020 2020 2020 2020 2020  ..").           
-0000c550: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000c560: 2866 225c 746d 696e 203a 207b 746d 696e  (f"\tmin : {tmin
-0000c570: 7d22 2c20 633d 6366 290a 2020 2020 2020  }", c=cf).      
-0000c580: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
-0000c590: 7269 6e74 6328 6622 5c74 6d61 7820 3a20  rintc(f"\tmax : 
-0000c5a0: 7b74 6d61 787d 222c 2063 3d63 6629 0a20  {tmax}", c=cf). 
-0000c5b0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0000c5c0: 6564 6f2e 7072 696e 7463 2866 225c 746d  edo.printc(f"\tm
-0000c5d0: 6561 6e3a 207b 746d 6561 7d22 2c20 633d  ean: {tmea}", c=
-0000c5e0: 6366 290a 0a20 2020 2065 6c69 6620 6973  cf)..    elif is
-0000c5f0: 696e 7374 616e 6365 286f 626a 2c20 7665  instance(obj, ve
-0000c600: 646f 2e50 6f69 6e74 7329 3a0a 2020 2020  do.Points):.    
-0000c610: 2020 2020 5f70 7269 6e74 7674 6b61 6374      _printvtkact
-0000c620: 6f72 286f 626a 290a 0a20 2020 2065 6c69  or(obj)..    eli
-0000c630: 6620 6973 696e 7374 616e 6365 286f 626a  f isinstance(obj
-0000c640: 2c20 7665 646f 2e41 7373 656d 626c 7929  , vedo.Assembly)
-0000c650: 3a0a 2020 2020 2020 2020 7665 646f 2e70  :.        vedo.p
-0000c660: 7269 6e74 6328 2241 7373 656d 626c 7922  rintc("Assembly"
-0000c670: 2e6c 6a75 7374 2837 3529 2c20 633d 2267  .ljust(75), c="g
-0000c680: 222c 2062 6f6c 643d 5472 7565 2c20 696e  ", bold=True, in
-0000c690: 7665 7274 3d54 7275 6529 0a0a 2020 2020  vert=True)..    
-0000c6a0: 2020 2020 706f 7320 3d20 6f62 6a2e 4765      pos = obj.Ge
-0000c6b0: 7450 6f73 6974 696f 6e28 290a 2020 2020  tPosition().    
-0000c6c0: 2020 2020 626e 6473 203d 206f 626a 2e47      bnds = obj.G
-0000c6d0: 6574 426f 756e 6473 2829 0a20 2020 2020  etBounds().     
-0000c6e0: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000c6f0: 706f 7369 7469 6f6e 222e 6c6a 7573 7428  position".ljust(
-0000c700: 3134 2920 2b20 223a 2022 2c20 633d 2267  14) + ": ", c="g
-0000c710: 222c 2062 6f6c 643d 5472 7565 2c20 656e  ", bold=True, en
-0000c720: 643d 2222 290a 2020 2020 2020 2020 7665  d="").        ve
-0000c730: 646f 2e70 7269 6e74 6328 706f 732c 2063  do.printc(pos, c
-0000c740: 3d22 6722 2c20 626f 6c64 3d46 616c 7365  ="g", bold=False
-0000c750: 290a 0a20 2020 2020 2020 2076 6564 6f2e  )..        vedo.
-0000c760: 7072 696e 7463 2822 626f 756e 6473 222e  printc("bounds".
-0000c770: 6c6a 7573 7428 3134 2920 2b20 223a 2022  ljust(14) + ": "
-0000c780: 2c20 633d 2267 222c 2062 6f6c 643d 5472  , c="g", bold=Tr
-0000c790: 7565 2c20 656e 643d 2222 290a 2020 2020  ue, end="").    
-0000c7a0: 2020 2020 6278 312c 2062 7832 203d 2070      bx1, bx2 = p
-0000c7b0: 7265 6369 7369 6f6e 2862 6e64 735b 305d  recision(bnds[0]
-0000c7c0: 2c20 3329 2c20 7072 6563 6973 696f 6e28  , 3), precision(
-0000c7d0: 626e 6473 5b31 5d2c 2033 290a 2020 2020  bnds[1], 3).    
-0000c7e0: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000c7f0: 2278 3d28 2220 2b20 6278 3120 2b20 222c  "x=(" + bx1 + ",
-0000c800: 2022 202b 2062 7832 202b 2022 2922 2c20   " + bx2 + ")", 
-0000c810: 633d 2267 222c 2062 6f6c 643d 4661 6c73  c="g", bold=Fals
-0000c820: 652c 2065 6e64 3d22 2229 0a20 2020 2020  e, end="").     
-0000c830: 2020 2062 7931 2c20 6279 3220 3d20 7072     by1, by2 = pr
-0000c840: 6563 6973 696f 6e28 626e 6473 5b32 5d2c  ecision(bnds[2],
-0000c850: 2033 292c 2070 7265 6369 7369 6f6e 2862   3), precision(b
-0000c860: 6e64 735b 335d 2c20 3329 0a20 2020 2020  nds[3], 3).     
-0000c870: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000c880: 2079 3d28 2220 2b20 6279 3120 2b20 222c   y=(" + by1 + ",
-0000c890: 2022 202b 2062 7932 202b 2022 2922 2c20   " + by2 + ")", 
-0000c8a0: 633d 2267 222c 2062 6f6c 643d 4661 6c73  c="g", bold=Fals
-0000c8b0: 652c 2065 6e64 3d22 2229 0a20 2020 2020  e, end="").     
-0000c8c0: 2020 2062 7a31 2c20 627a 3220 3d20 7072     bz1, bz2 = pr
-0000c8d0: 6563 6973 696f 6e28 626e 6473 5b34 5d2c  ecision(bnds[4],
-0000c8e0: 2033 292c 2070 7265 6369 7369 6f6e 2862   3), precision(b
-0000c8f0: 6e64 735b 355d 2c20 3329 0a20 2020 2020  nds[5], 3).     
-0000c900: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000c910: 207a 3d28 2220 2b20 627a 3120 2b20 222c   z=(" + bz1 + ",
-0000c920: 2022 202b 2062 7a32 202b 2022 2922 2c20   " + bz2 + ")", 
-0000c930: 633d 2267 222c 2062 6f6c 643d 4661 6c73  c="g", bold=Fals
-0000c940: 6529 0a0a 2020 2020 2020 2020 636c 203d  e)..        cl =
-0000c950: 2076 746b 2e76 746b 5072 6f70 436f 6c6c   vtk.vtkPropColl
-0000c960: 6563 7469 6f6e 2829 0a20 2020 2020 2020  ection().       
-0000c970: 206f 626a 2e47 6574 4163 746f 7273 2863   obj.GetActors(c
-0000c980: 6c29 0a20 2020 2020 2020 2063 6c2e 496e  l).        cl.In
-0000c990: 6974 5472 6176 6572 7361 6c28 290a 2020  itTraversal().  
-0000c9a0: 2020 2020 2020 666f 7220 5f20 696e 2072        for _ in r
-0000c9b0: 616e 6765 286f 626a 2e47 6574 4e75 6d62  ange(obj.GetNumb
-0000c9c0: 6572 4f66 5061 7468 7328 2929 3a0a 2020  erOfPaths()):.  
-0000c9d0: 2020 2020 2020 2020 2020 6163 7420 3d20            act = 
-0000c9e0: 7674 6b2e 7674 6b41 6374 6f72 2e53 6166  vtk.vtkActor.Saf
-0000c9f0: 6544 6f77 6e43 6173 7428 636c 2e47 6574  eDownCast(cl.Get
-0000ca00: 4e65 7874 5072 6f70 2829 290a 2020 2020  NextProp()).    
-0000ca10: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-0000ca20: 7461 6e63 6528 6163 742c 2076 746b 2e76  tance(act, vtk.v
-0000ca30: 746b 4163 746f 7229 3a0a 2020 2020 2020  tkActor):.      
-0000ca40: 2020 2020 2020 2020 2020 5f70 7269 6e74            _print
-0000ca50: 7674 6b61 6374 6f72 2861 6374 290a 0a20  vtkactor(act).. 
-0000ca60: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
-0000ca70: 6365 286f 626a 2c20 7665 646f 2e54 6574  ce(obj, vedo.Tet
-0000ca80: 4d65 7368 293a 0a20 2020 2020 2020 2063  Mesh):.        c
-0000ca90: 6620 3d20 226d 220a 2020 2020 2020 2020  f = "m".        
-0000caa0: 7665 646f 2e70 7269 6e74 6328 2254 6574  vedo.printc("Tet
-0000cab0: 4d65 7368 222e 6c6a 7573 7428 3730 292c  Mesh".ljust(70),
-0000cac0: 2063 3d63 662c 2062 6f6c 643d 5472 7565   c=cf, bold=True
-0000cad0: 2c20 696e 7665 7274 3d54 7275 6529 0a20  , invert=True). 
-0000cae0: 2020 2020 2020 2070 6f73 203d 206f 626a         pos = obj
-0000caf0: 2e47 6574 506f 7369 7469 6f6e 2829 0a20  .GetPosition(). 
-0000cb00: 2020 2020 2020 2062 6e64 7320 3d20 6f62         bnds = ob
-0000cb10: 6a2e 4765 7442 6f75 6e64 7328 290a 2020  j.GetBounds().  
-0000cb20: 2020 2020 2020 7567 203d 206f 626a 2e69        ug = obj.i
-0000cb30: 6e70 7574 6461 7461 2829 0a20 2020 2020  nputdata().     
-0000cb40: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000cb50: 6e72 2e20 6f66 2074 6574 7261 7322 2e6c  nr. of tetras".l
-0000cb60: 6a75 7374 2831 3429 202b 2022 3a20 222c  just(14) + ": ",
-0000cb70: 2063 3d63 662c 2062 6f6c 643d 5472 7565   c=cf, bold=True
-0000cb80: 2c20 656e 643d 2222 290a 2020 2020 2020  , end="").      
-0000cb90: 2020 7665 646f 2e70 7269 6e74 6328 7567    vedo.printc(ug
-0000cba0: 2e47 6574 4e75 6d62 6572 4f66 4365 6c6c  .GetNumberOfCell
-0000cbb0: 7328 292c 2063 3d63 662c 2062 6f6c 643d  s(), c=cf, bold=
-0000cbc0: 4661 6c73 6529 0a20 2020 2020 2020 2076  False).        v
-0000cbd0: 6564 6f2e 7072 696e 7463 2822 706f 7369  edo.printc("posi
-0000cbe0: 7469 6f6e 222e 6c6a 7573 7428 3134 2920  tion".ljust(14) 
-0000cbf0: 2b20 223a 2022 2c20 633d 6366 2c20 626f  + ": ", c=cf, bo
+0000ab90: 2020 290a 0a20 2020 2020 2020 2020 2020    )..           
+0000aba0: 2069 6620 7074 6461 7461 2e47 6574 5363   if ptdata.GetSc
+0000abb0: 616c 6172 7328 293a 0a20 2020 2020 2020  alars():.       
+0000abc0: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+0000abd0: 696e 7463 2822 6163 7469 7665 2073 6361  intc("active sca
+0000abe0: 6c61 7273 222e 6c6a 7573 7428 3134 2920  lars".ljust(14) 
+0000abf0: 2b20 223a 2022 2c20 633d 632c 2062 6f6c  + ": ", c=c, bol
+0000ac00: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
+0000ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac20: 7665 646f 2e70 7269 6e74 6328 7074 6461  vedo.printc(ptda
+0000ac30: 7461 2e47 6574 5363 616c 6172 7328 292e  ta.GetScalars().
+0000ac40: 4765 744e 616d 6528 292c 2022 2870 6f69  GetName(), "(poi
+0000ac50: 6e74 6461 7461 2920 2022 2c20 633d 632c  ntdata)  ", c=c,
+0000ac60: 2062 6f6c 643d 4661 6c73 6529 0a0a 2020   bold=False)..  
+0000ac70: 2020 2020 2020 2020 2020 6966 2070 7464            if ptd
+0000ac80: 6174 612e 4765 7456 6563 746f 7273 2829  ata.GetVectors()
+0000ac90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000aca0: 2020 7665 646f 2e70 7269 6e74 6328 2261    vedo.printc("a
+0000acb0: 6374 6976 6520 7665 6374 6f72 7322 2e6c  ctive vectors".l
+0000acc0: 6a75 7374 2831 3429 202b 2022 3a20 222c  just(14) + ": ",
+0000acd0: 2063 3d63 2c20 626f 6c64 3d54 7275 652c   c=c, bold=True,
+0000ace0: 2065 6e64 3d22 2229 0a20 2020 2020 2020   end="").       
+0000acf0: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+0000ad00: 696e 7463 2870 7464 6174 612e 4765 7456  intc(ptdata.GetV
+0000ad10: 6563 746f 7273 2829 2e47 6574 4e61 6d65  ectors().GetName
+0000ad20: 2829 2c20 2228 706f 696e 7464 6174 6129  (), "(pointdata)
+0000ad30: 2020 222c 2063 3d63 2c20 626f 6c64 3d46    ", c=c, bold=F
+0000ad40: 616c 7365 290a 0a20 2020 2020 2020 2020  alse)..         
+0000ad50: 2020 2069 6620 7074 6461 7461 2e47 6574     if ptdata.Get
+0000ad60: 5465 6e73 6f72 7328 293a 0a20 2020 2020  Tensors():.     
+0000ad70: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0000ad80: 7072 696e 7463 2822 6163 7469 7665 2074  printc("active t
+0000ad90: 656e 736f 7273 222e 6c6a 7573 7428 3134  ensors".ljust(14
+0000ada0: 2920 2b20 223a 2022 2c20 633d 632c 2062  ) + ": ", c=c, b
+0000adb0: 6f6c 643d 5472 7565 2c20 656e 643d 2222  old=True, end=""
+0000adc0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000add0: 2020 7665 646f 2e70 7269 6e74 6328 7074    vedo.printc(pt
+0000ade0: 6461 7461 2e47 6574 5465 6e73 6f72 7328  data.GetTensors(
+0000adf0: 292e 4765 744e 616d 6528 292c 2022 2870  ).GetName(), "(p
+0000ae00: 6f69 6e74 6461 7461 2920 2022 2c20 633d  ointdata)  ", c=
+0000ae10: 632c 2062 6f6c 643d 4661 6c73 6529 0a0a  c, bold=False)..
+0000ae20: 2020 2020 2020 2020 2020 2020 2320 7361              # sa
+0000ae30: 6d65 2066 6f72 2063 656c 6c73 0a20 2020  me for cells.   
+0000ae40: 2020 2020 2020 2020 2066 6f72 2069 2069           for i i
+0000ae50: 6e20 7261 6e67 6528 636c 6461 7461 2e47  n range(cldata.G
+0000ae60: 6574 4e75 6d62 6572 4f66 4172 7261 7973  etNumberOfArrays
+0000ae70: 2829 293a 0a20 2020 2020 2020 2020 2020  ()):.           
+0000ae80: 2020 2020 206e 616d 6520 3d20 636c 6461       name = clda
+0000ae90: 7461 2e47 6574 4172 7261 794e 616d 6528  ta.GetArrayName(
+0000aea0: 6929 0a20 2020 2020 2020 2020 2020 2020  i).             
+0000aeb0: 2020 2069 6620 6e61 6d65 2061 6e64 2063     if name and c
+0000aec0: 6c64 6174 612e 4765 7441 7272 6179 2869  ldata.GetArray(i
+0000aed0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000aee0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
+0000aef0: 7463 2822 6365 6c6c 6461 7461 222e 6c6a  tc("celldata".lj
+0000af00: 7573 7428 3134 2920 2b20 223a 2022 2c20  ust(14) + ": ", 
+0000af10: 633d 632c 2062 6f6c 643d 5472 7565 2c20  c=c, bold=True, 
+0000af20: 656e 643d 2222 290a 2020 2020 2020 2020  end="").        
+0000af30: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+0000af40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000af50: 2020 2020 2020 2020 2074 742c 205f 203d           tt, _ =
+0000af60: 2061 7272 6179 5f74 7970 6573 5b63 6c64   array_types[cld
+0000af70: 6174 612e 4765 7441 7272 6179 2869 292e  ata.GetArray(i).
+0000af80: 4765 7444 6174 6154 7970 6528 295d 0a20  GetDataType()]. 
+0000af90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afa0: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
+0000afb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afc0: 2020 2074 7420 3d20 636c 6461 7461 2e47     tt = cldata.G
+0000afd0: 6574 4172 7261 7928 6929 2e47 6574 4461  etArray(i).GetDa
+0000afe0: 7461 5479 7065 2829 0a20 2020 2020 2020  taType().       
+0000aff0: 2020 2020 2020 2020 2020 2020 206e 636f               nco
+0000b000: 6d70 203d 2063 6c64 6174 612e 4765 7441  mp = cldata.GetA
+0000b010: 7272 6179 2869 292e 4765 744e 756d 6265  rray(i).GetNumbe
+0000b020: 724f 6643 6f6d 706f 6e65 6e74 7328 290a  rOfComponents().
+0000b030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b040: 2020 2020 726e 6720 3d20 636c 6461 7461      rng = cldata
+0000b050: 2e47 6574 4172 7261 7928 6929 2e47 6574  .GetArray(i).Get
+0000b060: 5261 6e67 6528 290a 2020 2020 2020 2020  Range().        
+0000b070: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+0000b080: 2e70 7269 6e74 6328 6627 227b 6e61 6d65  .printc(f'"{name
+0000b090: 7d22 2028 7b6e 636f 6d70 7d20 7b74 747d  }" ({ncomp} {tt}
+0000b0a0: 292c 272c 2063 3d63 2c20 626f 6c64 3d46  ),', c=c, bold=F
+0000b0b0: 616c 7365 2c20 656e 643d 2222 290a 2020  alse, end="").  
+0000b0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0d0: 2020 7665 646f 2e70 7269 6e74 6328 0a20    vedo.printc(. 
+0000b0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0f0: 2020 2020 2020 2022 2072 616e 6765 3d28         " range=(
+0000b100: 2220 2b20 7072 6563 6973 696f 6e28 726e  " + precision(rn
+0000b110: 675b 305d 2c20 3429 202b 2022 2c22 202b  g[0], 4) + "," +
+0000b120: 2070 7265 6369 7369 6f6e 2872 6e67 5b31   precision(rng[1
+0000b130: 5d2c 2034 2920 2b20 2229 222c 0a20 2020  ], 4) + ")",.   
+0000b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b150: 2020 2020 2063 3d63 2c0a 2020 2020 2020       c=c,.      
+0000b160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b170: 2020 626f 6c64 3d46 616c 7365 2c0a 2020    bold=False,.  
+0000b180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b190: 2020 290a 0a20 2020 2020 2020 2020 2020    )..           
+0000b1a0: 2069 6620 636c 6461 7461 2e47 6574 5363   if cldata.GetSc
+0000b1b0: 616c 6172 7328 293a 0a20 2020 2020 2020  alars():.       
+0000b1c0: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+0000b1d0: 696e 7463 2822 6163 7469 7665 2073 6361  intc("active sca
+0000b1e0: 6c61 7273 222e 6c6a 7573 7428 3134 2920  lars".ljust(14) 
+0000b1f0: 2b20 223a 2022 2c20 633d 632c 2062 6f6c  + ": ", c=c, bol
+0000b200: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
+0000b210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b220: 7665 646f 2e70 7269 6e74 6328 636c 6461  vedo.printc(clda
+0000b230: 7461 2e47 6574 5363 616c 6172 7328 292e  ta.GetScalars().
+0000b240: 4765 744e 616d 6528 292c 2022 2863 656c  GetName(), "(cel
+0000b250: 6c64 6174 6129 222c 2063 3d63 2c20 626f  ldata)", c=c, bo
+0000b260: 6c64 3d46 616c 7365 290a 0a20 2020 2020  ld=False)..     
+0000b270: 2020 2020 2020 2069 6620 636c 6461 7461         if cldata
+0000b280: 2e47 6574 5665 6374 6f72 7328 293a 0a20  .GetVectors():. 
+0000b290: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0000b2a0: 6564 6f2e 7072 696e 7463 2822 6163 7469  edo.printc("acti
+0000b2b0: 7665 2076 6563 746f 7273 222e 6c6a 7573  ve vectors".ljus
+0000b2c0: 7428 3134 2920 2b20 223a 2022 2c20 633d  t(14) + ": ", c=
+0000b2d0: 632c 2062 6f6c 643d 5472 7565 2c20 656e  c, bold=True, en
+0000b2e0: 643d 2222 290a 2020 2020 2020 2020 2020  d="").          
+0000b2f0: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+0000b300: 6328 636c 6461 7461 2e47 6574 5665 6374  c(cldata.GetVect
+0000b310: 6f72 7328 292e 4765 744e 616d 6528 292c  ors().GetName(),
+0000b320: 2022 2863 656c 6c64 6174 6129 222c 2063   "(celldata)", c
+0000b330: 3d63 2c20 626f 6c64 3d46 616c 7365 290a  =c, bold=False).
+0000b340: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0000b350: 2069 2069 6e20 7261 6e67 6528 666c 6461   i in range(flda
+0000b360: 7461 2e47 6574 4e75 6d62 6572 4f66 4172  ta.GetNumberOfAr
+0000b370: 7261 7973 2829 293a 0a20 2020 2020 2020  rays()):.       
+0000b380: 2020 2020 2020 2020 206e 616d 6520 3d20           name = 
+0000b390: 666c 6461 7461 2e47 6574 4172 7261 794e  fldata.GetArrayN
+0000b3a0: 616d 6528 6929 0a20 2020 2020 2020 2020  ame(i).         
+0000b3b0: 2020 2020 2020 2069 6620 6e61 6d65 2061         if name a
+0000b3c0: 6e64 2066 6c64 6174 612e 4765 7441 6273  nd fldata.GetAbs
+0000b3d0: 7472 6163 7441 7272 6179 2869 293a 0a20  tractArray(i):. 
+0000b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3f0: 2020 2061 7272 203d 2066 6c64 6174 612e     arr = fldata.
+0000b400: 4765 7441 6273 7472 6163 7441 7272 6179  GetAbstractArray
+0000b410: 2869 290a 2020 2020 2020 2020 2020 2020  (i).            
+0000b420: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000b430: 6e74 6328 226d 6574 6164 6174 6122 2e6c  ntc("metadata".l
+0000b440: 6a75 7374 2831 3429 202b 2022 3a20 222c  just(14) + ": ",
+0000b450: 2063 3d63 2c20 626f 6c64 3d54 7275 652c   c=c, bold=True,
+0000b460: 2065 6e64 3d22 2229 0a20 2020 2020 2020   end="").       
+0000b470: 2020 2020 2020 2020 2020 2020 206e 636f               nco
+0000b480: 6d70 203d 2061 7272 2e47 6574 4e75 6d62  mp = arr.GetNumb
+0000b490: 6572 4f66 436f 6d70 6f6e 656e 7473 2829  erOfComponents()
+0000b4a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b4b0: 2020 2020 206e 7661 6c73 203d 2061 7272       nvals = arr
+0000b4c0: 2e47 6574 4e75 6d62 6572 4f66 5661 6c75  .GetNumberOfValu
+0000b4d0: 6573 2829 0a20 2020 2020 2020 2020 2020  es().           
+0000b4e0: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+0000b4f0: 696e 7463 2866 2722 7b6e 616d 657d 2220  intc(f'"{name}" 
+0000b500: 287b 6e63 6f6d 707d 2063 6f6d 706f 6e65  ({ncomp} compone
+0000b510: 6e74 732c 207b 6e76 616c 737d 2076 616c  nts, {nvals} val
+0000b520: 7565 7329 272c 2063 3d63 2c20 626f 6c64  ues)', c=c, bold
+0000b530: 3d46 616c 7365 290a 0a20 2020 2020 2020  =False)..       
+0000b540: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0000b550: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
+0000b560: 6d65 7368 2064 6174 6122 2e6c 6a75 7374  mesh data".ljust
+0000b570: 2831 3429 202b 2022 3a22 2c20 633d 632c  (14) + ":", c=c,
+0000b580: 2062 6f6c 643d 5472 7565 2c20 656e 643d   bold=True, end=
+0000b590: 2220 2229 0a20 2020 2020 2020 2020 2020  " ").           
+0000b5a0: 2076 6564 6f2e 7072 696e 7463 2822 6e6f   vedo.printc("no
+0000b5b0: 2070 6f69 6e74 206f 7220 6365 6c6c 2064   point or cell d
+0000b5c0: 6174 6120 6973 2070 7265 7365 6e74 2e22  ata is present."
+0000b5d0: 2c20 633d 632c 2062 6f6c 643d 4661 6c73  , c=c, bold=Fals
+0000b5e0: 6529 0a0a 2020 2020 2323 2323 2323 2323  e)..    ########
+0000b5f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000b600: 2323 2323 2323 2323 0a20 2020 2064 6566  ########.    def
+0000b610: 205f 7072 696e 7476 746b 6163 746f 7228   _printvtkactor(
+0000b620: 6163 746f 7229 3a0a 0a20 2020 2020 2020  actor):..       
+0000b630: 2069 6620 6e6f 7420 6163 746f 722e 4765   if not actor.Ge
+0000b640: 7450 6963 6b61 626c 6528 293a 0a20 2020  tPickable():.   
+0000b650: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
+0000b660: 0a20 2020 2020 2020 206d 6170 7065 7220  .        mapper 
+0000b670: 3d20 6163 746f 722e 4765 744d 6170 7065  = actor.GetMappe
+0000b680: 7228 290a 2020 2020 2020 2020 6966 2068  r().        if h
+0000b690: 6173 6174 7472 2861 6374 6f72 2c20 2270  asattr(actor, "p
+0000b6a0: 6f6c 7964 6174 6122 293a 0a20 2020 2020  olydata"):.     
+0000b6b0: 2020 2020 2020 2070 6f6c 7920 3d20 6163         poly = ac
+0000b6c0: 746f 722e 706f 6c79 6461 7461 2829 0a20  tor.polydata(). 
+0000b6d0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000b6e0: 2020 2020 2020 2020 2070 6f6c 7920 3d20           poly = 
+0000b6f0: 6d61 7070 6572 2e47 6574 496e 7075 7428  mapper.GetInput(
+0000b700: 290a 0a20 2020 2020 2020 2070 726f 203d  )..        pro =
+0000b710: 2061 6374 6f72 2e47 6574 5072 6f70 6572   actor.GetProper
+0000b720: 7479 2829 0a20 2020 2020 2020 2070 6f73  ty().        pos
+0000b730: 203d 2061 6374 6f72 2e47 6574 506f 7369   = actor.GetPosi
+0000b740: 7469 6f6e 2829 0a20 2020 2020 2020 2062  tion().        b
+0000b750: 6e64 7320 3d20 6163 746f 722e 626f 756e  nds = actor.boun
+0000b760: 6473 2829 0a20 2020 2020 2020 2063 6f6c  ds().        col
+0000b770: 203d 2070 7265 6369 7369 6f6e 2870 726f   = precision(pro
+0000b780: 2e47 6574 436f 6c6f 7228 292c 2033 290a  .GetColor(), 3).
+0000b790: 2020 2020 2020 2020 616c 7068 6120 3d20          alpha = 
+0000b7a0: 7072 6f2e 4765 744f 7061 6369 7479 2829  pro.GetOpacity()
+0000b7b0: 0a20 2020 2020 2020 206e 7074 203d 2070  .        npt = p
+0000b7c0: 6f6c 792e 4765 744e 756d 6265 724f 6650  oly.GetNumberOfP
+0000b7d0: 6f69 6e74 7328 290a 2020 2020 2020 2020  oints().        
+0000b7e0: 6e70 6c20 3d20 706f 6c79 2e47 6574 4e75  npl = poly.GetNu
+0000b7f0: 6d62 6572 4f66 506f 6c79 7328 290a 2020  mberOfPolys().  
+0000b800: 2020 2020 2020 6e6c 6e20 3d20 706f 6c79        nln = poly
+0000b810: 2e47 6574 4e75 6d62 6572 4f66 4c69 6e65  .GetNumberOfLine
+0000b820: 7328 290a 0a20 2020 2020 2020 2076 6564  s()..        ved
+0000b830: 6f2e 7072 696e 7463 2822 4d65 7368 2f50  o.printc("Mesh/P
+0000b840: 6f69 6e74 7322 2e6c 6a75 7374 2837 3029  oints".ljust(70)
+0000b850: 2c20 633d 2267 222c 2062 6f6c 643d 5472  , c="g", bold=Tr
+0000b860: 7565 2c20 696e 7665 7274 3d54 7275 652c  ue, invert=True,
+0000b870: 2064 696d 3d31 2c20 656e 643d 2222 290a   dim=1, end="").
+0000b880: 0a20 2020 2020 2020 2069 6620 6861 7361  .        if hasa
+0000b890: 7474 7228 6163 746f 722c 2022 696e 666f  ttr(actor, "info
+0000b8a0: 2229 2061 6e64 2022 6c65 6765 6e64 2220  ") and "legend" 
+0000b8b0: 696e 2061 6374 6f72 2e69 6e66 6f2e 6b65  in actor.info.ke
+0000b8c0: 7973 2829 2061 6e64 2061 6374 6f72 2e69  ys() and actor.i
+0000b8d0: 6e66 6f5b 226c 6567 656e 6422 5d3a 0a20  nfo["legend"]:. 
+0000b8e0: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0000b8f0: 7072 696e 7463 2822 6c65 6765 6e64 222e  printc("legend".
+0000b900: 6c6a 7573 7428 3134 2920 2b20 223a 2022  ljust(14) + ": "
+0000b910: 2c20 633d 2267 222c 2062 6f6c 643d 5472  , c="g", bold=Tr
+0000b920: 7565 2c20 656e 643d 2222 290a 2020 2020  ue, end="").    
+0000b930: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000b940: 6e74 6328 6163 746f 722e 696e 666f 5b22  ntc(actor.info["
+0000b950: 6c65 6765 6e64 225d 2c20 633d 2267 222c  legend"], c="g",
+0000b960: 2062 6f6c 643d 4661 6c73 6529 0a20 2020   bold=False).   
+0000b970: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0000b980: 2020 2020 2020 2070 7269 6e74 2829 0a0a         print()..
+0000b990: 2020 2020 2020 2020 6966 2068 6173 6174          if hasat
+0000b9a0: 7472 2861 6374 6f72 2c20 226e 616d 6522  tr(actor, "name"
+0000b9b0: 2920 616e 6420 6163 746f 722e 6e61 6d65  ) and actor.name
+0000b9c0: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
+0000b9d0: 646f 2e70 7269 6e74 6328 226e 616d 6522  do.printc("name"
+0000b9e0: 2e6c 6a75 7374 2831 3429 202b 2022 3a20  .ljust(14) + ": 
+0000b9f0: 222c 2063 3d22 6722 2c20 626f 6c64 3d54  ", c="g", bold=T
+0000ba00: 7275 652c 2065 6e64 3d22 2229 0a20 2020  rue, end="").   
+0000ba10: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+0000ba20: 696e 7463 2861 6374 6f72 2e6e 616d 652c  intc(actor.name,
+0000ba30: 2063 3d22 6722 2c20 626f 6c64 3d46 616c   c="g", bold=Fal
+0000ba40: 7365 290a 0a20 2020 2020 2020 2069 6620  se)..        if 
+0000ba50: 6861 7361 7474 7228 6163 746f 722c 2022  hasattr(actor, "
+0000ba60: 6669 6c65 6e61 6d65 2229 2061 6e64 2061  filename") and a
+0000ba70: 6374 6f72 2e66 696c 656e 616d 653a 0a20  ctor.filename:. 
+0000ba80: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0000ba90: 7072 696e 7463 2822 6669 6c65 206e 616d  printc("file nam
+0000baa0: 6522 2e6c 6a75 7374 2831 3429 202b 2022  e".ljust(14) + "
+0000bab0: 3a20 222c 2063 3d22 6722 2c20 626f 6c64  : ", c="g", bold
+0000bac0: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
+0000bad0: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0000bae0: 7072 696e 7463 2861 6374 6f72 2e66 696c  printc(actor.fil
+0000baf0: 656e 616d 652c 2063 3d22 6722 2c20 626f  ename, c="g", bo
+0000bb00: 6c64 3d46 616c 7365 290a 0a20 2020 2020  ld=False)..     
+0000bb10: 2020 2069 6620 6e6f 7420 6163 746f 722e     if not actor.
+0000bb20: 4765 744d 6170 7065 7228 292e 4765 7453  GetMapper().GetS
+0000bb30: 6361 6c61 7256 6973 6962 696c 6974 7928  calarVisibility(
+0000bb40: 293a 0a20 2020 2020 2020 2020 2020 2076  ):.            v
+0000bb50: 6564 6f2e 7072 696e 7463 2822 636f 6c6f  edo.printc("colo
+0000bb60: 7222 2e6c 6a75 7374 2831 3429 202b 2022  r".ljust(14) + "
+0000bb70: 3a20 222c 2063 3d22 6722 2c20 626f 6c64  : ", c="g", bold
+0000bb80: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
+0000bb90: 2020 2020 2020 2020 2020 2063 6e61 6d65             cname
+0000bba0: 203d 2076 6564 6f2e 636f 6c6f 7273 2e67   = vedo.colors.g
+0000bbb0: 6574 5f63 6f6c 6f72 5f6e 616d 6528 7072  et_color_name(pr
+0000bbc0: 6f2e 4765 7443 6f6c 6f72 2829 290a 2020  o.GetColor()).  
+0000bbd0: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+0000bbe0: 7269 6e74 6328 6622 7b63 6e61 6d65 7d2c  rintc(f"{cname},
+0000bbf0: 2072 6762 3d7b 636f 6c7d 2c20 616c 7068   rgb={col}, alph
+0000bc00: 613d 7b61 6c70 6861 7d22 2c20 633d 2267  a={alpha}", c="g
+0000bc10: 222c 2062 6f6c 643d 4661 6c73 6529 0a0a  ", bold=False)..
+0000bc20: 2020 2020 2020 2020 2020 2020 6966 2061              if a
+0000bc30: 6374 6f72 2e47 6574 4261 636b 6661 6365  ctor.GetBackface
+0000bc40: 5072 6f70 6572 7479 2829 3a0a 2020 2020  Property():.    
+0000bc50: 2020 2020 2020 2020 2020 2020 6263 6f6c              bcol
+0000bc60: 203d 2061 6374 6f72 2e47 6574 4261 636b   = actor.GetBack
+0000bc70: 6661 6365 5072 6f70 6572 7479 2829 2e47  faceProperty().G
+0000bc80: 6574 4469 6666 7573 6543 6f6c 6f72 2829  etDiffuseColor()
+0000bc90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bca0: 2063 6e61 6d65 203d 2076 6564 6f2e 636f   cname = vedo.co
+0000bcb0: 6c6f 7273 2e67 6574 5f63 6f6c 6f72 5f6e  lors.get_color_n
+0000bcc0: 616d 6528 6263 6f6c 290a 2020 2020 2020  ame(bcol).      
+0000bcd0: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+0000bce0: 7269 6e74 6328 2262 6163 6b20 636f 6c6f  rintc("back colo
+0000bcf0: 7222 2e6c 6a75 7374 2831 3429 202b 2022  r".ljust(14) + "
+0000bd00: 3a20 222c 2063 3d22 6722 2c20 626f 6c64  : ", c="g", bold
+0000bd10: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
+0000bd20: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0000bd30: 6564 6f2e 7072 696e 7463 2866 227b 636e  edo.printc(f"{cn
+0000bd40: 616d 657d 2c20 7267 623d 7b70 7265 6369  ame}, rgb={preci
+0000bd50: 7369 6f6e 2862 636f 6c2c 3329 7d22 2c20  sion(bcol,3)}", 
+0000bd60: 633d 2267 222c 2062 6f6c 643d 4661 6c73  c="g", bold=Fals
+0000bd70: 6529 0a0a 2020 2020 2020 2020 7665 646f  e)..        vedo
+0000bd80: 2e70 7269 6e74 6328 2270 6f69 6e74 7322  .printc("points"
+0000bd90: 2e6c 6a75 7374 2831 3429 202b 2022 3a22  .ljust(14) + ":"
+0000bda0: 2c20 6e70 742c 2063 3d22 6722 2c20 626f  , npt, c="g", bo
+0000bdb0: 6c64 3d54 7275 6529 0a20 2020 2020 2020  ld=True).       
+0000bdc0: 2023 206e 636c 203d 2070 6f6c 792e 4765   # ncl = poly.Ge
+0000bdd0: 744e 756d 6265 724f 6643 656c 6c73 2829  tNumberOfCells()
+0000bde0: 0a20 2020 2020 2020 2023 2076 6564 6f2e  .        # vedo.
+0000bdf0: 7072 696e 7463 2822 6365 6c6c 7322 2e6c  printc("cells".l
+0000be00: 6a75 7374 2831 3429 2b22 3a22 2c20 6e63  just(14)+":", nc
+0000be10: 6c2c 2063 3d22 6722 2c20 626f 6c64 3d54  l, c="g", bold=T
+0000be20: 7275 6529 0a20 2020 2020 2020 2076 6564  rue).        ved
+0000be30: 6f2e 7072 696e 7463 2822 706f 6c79 676f  o.printc("polygo
+0000be40: 6e73 222e 6c6a 7573 7428 3134 2920 2b20  ns".ljust(14) + 
+0000be50: 223a 222c 206e 706c 2c20 633d 2267 222c  ":", npl, c="g",
+0000be60: 2062 6f6c 643d 5472 7565 290a 2020 2020   bold=True).    
+0000be70: 2020 2020 6966 206e 6c6e 3a0a 2020 2020      if nln:.    
+0000be80: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000be90: 6e74 6328 226c 696e 6573 222e 6c6a 7573  ntc("lines".ljus
+0000bea0: 7428 3134 2920 2b20 223a 222c 206e 6c6e  t(14) + ":", nln
+0000beb0: 2c20 633d 2267 222c 2062 6f6c 643d 5472  , c="g", bold=Tr
+0000bec0: 7565 290a 2020 2020 2020 2020 7665 646f  ue).        vedo
+0000bed0: 2e70 7269 6e74 6328 2270 6f73 6974 696f  .printc("positio
+0000bee0: 6e22 2e6c 6a75 7374 2831 3429 202b 2022  n".ljust(14) + "
+0000bef0: 3a22 2c20 706f 732c 2063 3d22 6722 2c20  :", pos, c="g", 
+0000bf00: 626f 6c64 3d54 7275 6529 0a0a 2020 2020  bold=True)..    
+0000bf10: 2020 2020 6966 2068 6173 6174 7472 2861      if hasattr(a
+0000bf20: 6374 6f72 2c20 2247 6574 5363 616c 6522  ctor, "GetScale"
+0000bf30: 293a 0a20 2020 2020 2020 2020 2020 2076  ):.            v
+0000bf40: 6564 6f2e 7072 696e 7463 2822 7363 616c  edo.printc("scal
+0000bf50: 6522 2e6c 6a75 7374 2831 3429 202b 2022  e".ljust(14) + "
+0000bf60: 3a22 2c20 633d 2267 222c 2062 6f6c 643d  :", c="g", bold=
+0000bf70: 5472 7565 2c20 656e 643d 2220 2229 0a20  True, end=" "). 
+0000bf80: 2020 2020 2020 2020 2020 2076 6564 6f2e             vedo.
+0000bf90: 7072 696e 7463 2870 7265 6369 7369 6f6e  printc(precision
+0000bfa0: 2861 6374 6f72 2e47 6574 5363 616c 6528  (actor.GetScale(
+0000bfb0: 292c 2033 292c 2063 3d22 6722 2c20 626f  ), 3), c="g", bo
+0000bfc0: 6c64 3d46 616c 7365 290a 0a20 2020 2020  ld=False)..     
+0000bfd0: 2020 2069 6620 6861 7361 7474 7228 6163     if hasattr(ac
+0000bfe0: 746f 722c 2022 706f 6c79 6461 7461 2229  tor, "polydata")
+0000bff0: 2061 6e64 2061 6374 6f72 2e6e 706f 696e   and actor.npoin
+0000c000: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+0000c010: 7665 646f 2e70 7269 6e74 6328 2263 656e  vedo.printc("cen
+0000c020: 7465 7220 6f66 206d 6173 7322 2e6c 6a75  ter of mass".lju
+0000c030: 7374 2831 3429 202b 2022 3a22 2c20 633d  st(14) + ":", c=
+0000c040: 2267 222c 2062 6f6c 643d 5472 7565 2c20  "g", bold=True, 
+0000c050: 656e 643d 2220 2229 0a20 2020 2020 2020  end=" ").       
+0000c060: 2020 2020 2063 6d20 3d20 7475 706c 6528       cm = tuple(
+0000c070: 6163 746f 722e 6365 6e74 6572 5f6f 665f  actor.center_of_
+0000c080: 6d61 7373 2829 290a 2020 2020 2020 2020  mass()).        
+0000c090: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
+0000c0a0: 7072 6563 6973 696f 6e28 636d 2c20 3329  precision(cm, 3)
+0000c0b0: 2c20 633d 2267 222c 2062 6f6c 643d 4661  , c="g", bold=Fa
+0000c0c0: 6c73 6529 0a0a 2020 2020 2020 2020 2020  lse)..          
+0000c0d0: 2020 7665 646f 2e70 7269 6e74 6328 2261    vedo.printc("a
+0000c0e0: 7665 7261 6765 2073 697a 6522 2e6c 6a75  verage size".lju
+0000c0f0: 7374 2831 3429 202b 2022 3a22 2c20 633d  st(14) + ":", c=
+0000c100: 2267 222c 2062 6f6c 643d 5472 7565 2c20  "g", bold=True, 
+0000c110: 656e 643d 2220 2229 0a20 2020 2020 2020  end=" ").       
+0000c120: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000c130: 2870 7265 6369 7369 6f6e 2861 6374 6f72  (precision(actor
+0000c140: 2e61 7665 7261 6765 5f73 697a 6528 292c  .average_size(),
+0000c150: 2036 292c 2063 3d22 6722 2c20 626f 6c64   6), c="g", bold
+0000c160: 3d46 616c 7365 290a 0a20 2020 2020 2020  =False)..       
+0000c170: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000c180: 2822 6469 6167 6f6e 616c 2073 697a 6522  ("diagonal size"
+0000c190: 2e6c 6a75 7374 2831 3429 202b 2022 3a22  .ljust(14) + ":"
+0000c1a0: 2c20 633d 2267 222c 2062 6f6c 643d 5472  , c="g", bold=Tr
+0000c1b0: 7565 2c20 656e 643d 2220 2229 0a20 2020  ue, end=" ").   
+0000c1c0: 2020 2020 2020 2020 2076 6564 6f2e 7072           vedo.pr
+0000c1d0: 696e 7463 2870 7265 6369 7369 6f6e 2861  intc(precision(a
+0000c1e0: 6374 6f72 2e64 6961 676f 6e61 6c5f 7369  ctor.diagonal_si
+0000c1f0: 7a65 2829 2c20 3629 2c20 633d 2267 222c  ze(), 6), c="g",
+0000c200: 2062 6f6c 643d 4661 6c73 6529 0a0a 2020   bold=False)..  
+0000c210: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+0000c220: 6328 2262 6f75 6e64 7322 2e6c 6a75 7374  c("bounds".ljust
+0000c230: 2831 3429 202b 2022 3a22 2c20 633d 2267  (14) + ":", c="g
+0000c240: 222c 2062 6f6c 643d 5472 7565 2c20 656e  ", bold=True, en
+0000c250: 643d 2220 2229 0a20 2020 2020 2020 2062  d=" ").        b
+0000c260: 7831 2c20 6278 3220 3d20 7072 6563 6973  x1, bx2 = precis
+0000c270: 696f 6e28 626e 6473 5b30 5d2c 2033 292c  ion(bnds[0], 3),
+0000c280: 2070 7265 6369 7369 6f6e 2862 6e64 735b   precision(bnds[
+0000c290: 315d 2c20 3329 0a20 2020 2020 2020 2076  1], 3).        v
+0000c2a0: 6564 6f2e 7072 696e 7463 2822 783d 2822  edo.printc("x=("
+0000c2b0: 202b 2062 7831 202b 2022 2c20 2220 2b20   + bx1 + ", " + 
+0000c2c0: 6278 3220 2b20 2229 222c 2063 3d22 6722  bx2 + ")", c="g"
+0000c2d0: 2c20 626f 6c64 3d46 616c 7365 2c20 656e  , bold=False, en
+0000c2e0: 643d 2222 290a 2020 2020 2020 2020 6279  d="").        by
+0000c2f0: 312c 2062 7932 203d 2070 7265 6369 7369  1, by2 = precisi
+0000c300: 6f6e 2862 6e64 735b 325d 2c20 3329 2c20  on(bnds[2], 3), 
+0000c310: 7072 6563 6973 696f 6e28 626e 6473 5b33  precision(bnds[3
+0000c320: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
+0000c330: 646f 2e70 7269 6e74 6328 2220 793d 2822  do.printc(" y=("
+0000c340: 202b 2062 7931 202b 2022 2c20 2220 2b20   + by1 + ", " + 
+0000c350: 6279 3220 2b20 2229 222c 2063 3d22 6722  by2 + ")", c="g"
+0000c360: 2c20 626f 6c64 3d46 616c 7365 2c20 656e  , bold=False, en
+0000c370: 643d 2222 290a 2020 2020 2020 2020 627a  d="").        bz
+0000c380: 312c 2062 7a32 203d 2070 7265 6369 7369  1, bz2 = precisi
+0000c390: 6f6e 2862 6e64 735b 345d 2c20 3329 2c20  on(bnds[4], 3), 
+0000c3a0: 7072 6563 6973 696f 6e28 626e 6473 5b35  precision(bnds[5
+0000c3b0: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
+0000c3c0: 646f 2e70 7269 6e74 6328 2220 7a3d 2822  do.printc(" z=("
+0000c3d0: 202b 2062 7a31 202b 2022 2c20 2220 2b20   + bz1 + ", " + 
+0000c3e0: 627a 3220 2b20 2229 222c 2063 3d22 6722  bz2 + ")", c="g"
+0000c3f0: 2c20 626f 6c64 3d46 616c 7365 290a 0a20  , bold=False).. 
+0000c400: 2020 2020 2020 205f 7072 696e 745f 6461         _print_da
+0000c410: 7461 2870 6f6c 792c 2022 6722 290a 0a20  ta(poly, "g").. 
+0000c420: 2020 2020 2020 2069 6620 6861 7361 7474         if hasatt
+0000c430: 7228 6163 746f 722c 2022 7069 636b 6564  r(actor, "picked
+0000c440: 3364 2229 2061 6e64 2061 6374 6f72 2e70  3d") and actor.p
+0000c450: 6963 6b65 6433 6420 6973 206e 6f74 204e  icked3d is not N
+0000c460: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0000c470: 2069 6470 7420 3d20 6163 746f 722e 636c   idpt = actor.cl
+0000c480: 6f73 6573 745f 706f 696e 7428 6163 746f  osest_point(acto
+0000c490: 722e 7069 636b 6564 3364 2c20 7265 7475  r.picked3d, retu
+0000c4a0: 726e 5f70 6f69 6e74 5f69 643d 5472 7565  rn_point_id=True
+0000c4b0: 290a 2020 2020 2020 2020 2020 2020 6964  ).            id
+0000c4c0: 6365 6c6c 203d 2061 6374 6f72 2e63 6c6f  cell = actor.clo
+0000c4d0: 7365 7374 5f70 6f69 6e74 2861 6374 6f72  sest_point(actor
+0000c4e0: 2e70 6963 6b65 6433 642c 2072 6574 7572  .picked3d, retur
+0000c4f0: 6e5f 6365 6c6c 5f69 643d 5472 7565 290a  n_cell_id=True).
+0000c500: 2020 2020 2020 2020 2020 2020 7665 646f              vedo
+0000c510: 2e70 7269 6e74 6328 0a20 2020 2020 2020  .printc(.       
+0000c520: 2020 2020 2020 2020 2022 636c 6963 6b65           "clicke
+0000c530: 6420 706f 696e 7422 2e6c 6a75 7374 2831  d point".ljust(1
+0000c540: 3429 202b 2022 3a22 2c0a 2020 2020 2020  4) + ":",.      
+0000c550: 2020 2020 2020 2020 2020 7072 6563 6973            precis
+0000c560: 696f 6e28 6163 746f 722e 7069 636b 6564  ion(actor.picked
+0000c570: 3364 2c20 3629 2c0a 2020 2020 2020 2020  3d, 6),.        
+0000c580: 2020 2020 2020 2020 6622 706f 696e 7449          f"pointI
+0000c590: 443d 7b69 6470 747d 2c20 6365 6c6c 4944  D={idpt}, cellID
+0000c5a0: 3d7b 6964 6365 6c6c 7d22 2c0a 2020 2020  ={idcell}",.    
+0000c5b0: 2020 2020 2020 2020 2020 2020 633d 2267              c="g
+0000c5c0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0000c5d0: 2020 2062 6f6c 643d 5472 7565 2c0a 2020     bold=True,.  
+0000c5e0: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
+0000c5f0: 2069 6620 6f62 6a20 6973 204e 6f6e 653a   if obj is None:
+0000c600: 0a20 2020 2020 2020 2072 6574 7572 6e0a  .        return.
+0000c610: 0a20 2020 2069 6620 6973 696e 7374 616e  .    if isinstan
+0000c620: 6365 286f 626a 2c20 6e70 2e6e 6461 7272  ce(obj, np.ndarr
+0000c630: 6179 293a 0a20 2020 2020 2020 2063 6620  ay):.        cf 
+0000c640: 3d20 2279 220a 2020 2020 2020 2020 7665  = "y".        ve
+0000c650: 646f 2e70 7269 6e74 6328 224e 756d 7079  do.printc("Numpy
+0000c660: 2041 7272 6179 222e 6c6a 7573 7428 3730   Array".ljust(70
+0000c670: 292c 2063 3d63 662c 2069 6e76 6572 743d  ), c=cf, invert=
+0000c680: 5472 7565 290a 2020 2020 2020 2020 7665  True).        ve
+0000c690: 646f 2e70 7269 6e74 6328 6f62 6a2c 2063  do.printc(obj, c
+0000c6a0: 3d63 6629 0a20 2020 2020 2020 2076 6564  =cf).        ved
+0000c6b0: 6f2e 7072 696e 7463 2822 7368 6170 6522  o.printc("shape"
+0000c6c0: 2e6c 6a75 7374 2838 2920 2b20 223a 222c  .ljust(8) + ":",
+0000c6d0: 206f 626a 2e73 6861 7065 2c20 633d 6366   obj.shape, c=cf
+0000c6e0: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
+0000c6f0: 7269 6e74 6328 2272 616e 6765 222e 6c6a  rintc("range".lj
+0000c700: 7573 7428 3829 202b 2066 223a 2028 7b6e  ust(8) + f": ({n
+0000c710: 702e 6d69 6e28 6f62 6a29 7d2c 207b 6e70  p.min(obj)}, {np
+0000c720: 2e6d 6178 286f 626a 297d 2922 2c20 633d  .max(obj)})", c=
+0000c730: 6366 290a 2020 2020 2020 2020 7665 646f  cf).        vedo
+0000c740: 2e70 7269 6e74 6328 226d 6561 6e22 2e6c  .printc("mean".l
+0000c750: 6a75 7374 2838 2920 2b20 223a 222c 206e  just(8) + ":", n
+0000c760: 702e 6d65 616e 286f 626a 292c 2063 3d63  p.mean(obj), c=c
+0000c770: 6629 0a20 2020 2020 2020 2076 6564 6f2e  f).        vedo.
+0000c780: 7072 696e 7463 2822 7374 645f 6465 7622  printc("std_dev"
+0000c790: 2e6c 6a75 7374 2838 2920 2b20 223a 222c  .ljust(8) + ":",
+0000c7a0: 206e 702e 7374 6428 6f62 6a29 2c20 633d   np.std(obj), c=
+0000c7b0: 6366 290a 2020 2020 2020 2020 6966 206c  cf).        if l
+0000c7c0: 656e 286f 626a 2e73 6861 7065 2920 3e3d  en(obj.shape) >=
+0000c7d0: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
+0000c7e0: 7665 646f 2e70 7269 6e74 6328 2241 7869  vedo.printc("Axi
+0000c7f0: 7320 3022 2e6c 6a75 7374 2838 2920 2b20  s 0".ljust(8) + 
+0000c800: 223a 222c 2063 3d63 662c 2069 7461 6c69  ":", c=cf, itali
+0000c810: 633d 3129 0a20 2020 2020 2020 2020 2020  c=1).           
+0000c820: 2076 6564 6f2e 7072 696e 7463 2822 5c74   vedo.printc("\t
+0000c830: 6d69 6e20 3a22 2c20 6e70 2e6d 696e 286f  min :", np.min(o
+0000c840: 626a 2c20 6178 6973 3d30 292c 2063 3d63  bj, axis=0), c=c
+0000c850: 6629 0a20 2020 2020 2020 2020 2020 2076  f).            v
+0000c860: 6564 6f2e 7072 696e 7463 2822 5c74 6d61  edo.printc("\tma
+0000c870: 7820 3a22 2c20 6e70 2e6d 6178 286f 626a  x :", np.max(obj
+0000c880: 2c20 6178 6973 3d30 292c 2063 3d63 6629  , axis=0), c=cf)
+0000c890: 0a20 2020 2020 2020 2020 2020 2076 6564  .            ved
+0000c8a0: 6f2e 7072 696e 7463 2822 5c74 6d65 616e  o.printc("\tmean
+0000c8b0: 3a22 2c20 6e70 2e6d 6561 6e28 6f62 6a2c  :", np.mean(obj,
+0000c8c0: 2061 7869 733d 3029 2c20 633d 6366 290a   axis=0), c=cf).
+0000c8d0: 2020 2020 2020 2020 2020 2020 6966 206f              if o
+0000c8e0: 626a 2e73 6861 7065 5b31 5d20 3e20 333a  bj.shape[1] > 3:
+0000c8f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c900: 2076 6564 6f2e 7072 696e 7463 2822 4178   vedo.printc("Ax
+0000c910: 6973 2031 222e 6c6a 7573 7428 3829 202b  is 1".ljust(8) +
+0000c920: 2022 3a22 2c20 633d 6366 2c20 6974 616c   ":", c=cf, ital
+0000c930: 6963 3d31 290a 2020 2020 2020 2020 2020  ic=1).          
+0000c940: 2020 2020 2020 746d 696e 203d 2073 7472        tmin = str
+0000c950: 286e 702e 6d69 6e28 6f62 6a2c 2061 7869  (np.min(obj, axi
+0000c960: 733d 3129 2e74 6f6c 6973 7428 295b 3a32  s=1).tolist()[:2
+0000c970: 5d29 2e72 6570 6c61 6365 2822 5d22 2c20  ]).replace("]", 
+0000c980: 222c 202e 2e2e 2229 0a20 2020 2020 2020  ", ...").       
+0000c990: 2020 2020 2020 2020 2074 6d61 7820 3d20           tmax = 
+0000c9a0: 7374 7228 6e70 2e6d 6178 286f 626a 2c20  str(np.max(obj, 
+0000c9b0: 6178 6973 3d31 292e 746f 6c69 7374 2829  axis=1).tolist()
+0000c9c0: 5b3a 325d 292e 7265 706c 6163 6528 225d  [:2]).replace("]
+0000c9d0: 222c 2022 2c20 2e2e 2e22 290a 2020 2020  ", ", ...").    
+0000c9e0: 2020 2020 2020 2020 2020 2020 746d 6561              tmea
+0000c9f0: 203d 2073 7472 286e 702e 6d65 616e 286f   = str(np.mean(o
+0000ca00: 626a 2c20 6178 6973 3d31 292e 746f 6c69  bj, axis=1).toli
+0000ca10: 7374 2829 5b3a 325d 292e 7265 706c 6163  st()[:2]).replac
+0000ca20: 6528 225d 222c 2022 2c20 2e2e 2e22 290a  e("]", ", ...").
+0000ca30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca40: 7665 646f 2e70 7269 6e74 6328 6622 5c74  vedo.printc(f"\t
+0000ca50: 6d69 6e20 3a20 7b74 6d69 6e7d 222c 2063  min : {tmin}", c
+0000ca60: 3d63 6629 0a20 2020 2020 2020 2020 2020  =cf).           
+0000ca70: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000ca80: 2866 225c 746d 6178 203a 207b 746d 6178  (f"\tmax : {tmax
+0000ca90: 7d22 2c20 633d 6366 290a 2020 2020 2020  }", c=cf).      
+0000caa0: 2020 2020 2020 2020 2020 7665 646f 2e70            vedo.p
+0000cab0: 7269 6e74 6328 6622 5c74 6d65 616e 3a20  rintc(f"\tmean: 
+0000cac0: 7b74 6d65 617d 222c 2063 3d63 6629 0a0a  {tmea}", c=cf)..
+0000cad0: 2020 2020 656c 6966 2069 7369 6e73 7461      elif isinsta
+0000cae0: 6e63 6528 6f62 6a2c 2076 6564 6f2e 506f  nce(obj, vedo.Po
+0000caf0: 696e 7473 293a 0a20 2020 2020 2020 205f  ints):.        _
+0000cb00: 7072 696e 7476 746b 6163 746f 7228 6f62  printvtkactor(ob
+0000cb10: 6a29 0a0a 2020 2020 656c 6966 2069 7369  j)..    elif isi
+0000cb20: 6e73 7461 6e63 6528 6f62 6a2c 2076 6564  nstance(obj, ved
+0000cb30: 6f2e 4173 7365 6d62 6c79 293a 0a20 2020  o.Assembly):.   
+0000cb40: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000cb50: 2822 4173 7365 6d62 6c79 222e 6c6a 7573  ("Assembly".ljus
+0000cb60: 7428 3735 292c 2063 3d22 6722 2c20 626f  t(75), c="g", bo
+0000cb70: 6c64 3d54 7275 652c 2069 6e76 6572 743d  ld=True, invert=
+0000cb80: 5472 7565 290a 0a20 2020 2020 2020 2070  True)..        p
+0000cb90: 6f73 203d 206f 626a 2e47 6574 506f 7369  os = obj.GetPosi
+0000cba0: 7469 6f6e 2829 0a20 2020 2020 2020 2062  tion().        b
+0000cbb0: 6e64 7320 3d20 6f62 6a2e 4765 7442 6f75  nds = obj.GetBou
+0000cbc0: 6e64 7328 290a 2020 2020 2020 2020 7665  nds().        ve
+0000cbd0: 646f 2e70 7269 6e74 6328 2270 6f73 6974  do.printc("posit
+0000cbe0: 696f 6e22 2e6c 6a75 7374 2831 3429 202b  ion".ljust(14) +
+0000cbf0: 2022 3a20 222c 2063 3d22 6722 2c20 626f   ": ", c="g", bo
 0000cc00: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
 0000cc10: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000cc20: 696e 7463 2870 6f73 2c20 633d 6366 2c20  intc(pos, c=cf, 
-0000cc30: 626f 6c64 3d46 616c 7365 290a 2020 2020  bold=False).    
-0000cc40: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000cc50: 2262 6f75 6e64 7322 2e6c 6a75 7374 2831  "bounds".ljust(1
-0000cc60: 3429 202b 2022 3a20 222c 2063 3d63 662c  4) + ": ", c=cf,
-0000cc70: 2062 6f6c 643d 5472 7565 2c20 656e 643d   bold=True, end=
-0000cc80: 2222 290a 2020 2020 2020 2020 6278 312c  "").        bx1,
-0000cc90: 2062 7832 203d 2070 7265 6369 7369 6f6e   bx2 = precision
-0000cca0: 2862 6e64 735b 305d 2c20 3329 2c20 7072  (bnds[0], 3), pr
-0000ccb0: 6563 6973 696f 6e28 626e 6473 5b31 5d2c  ecision(bnds[1],
-0000ccc0: 2033 290a 2020 2020 2020 2020 7665 646f   3).        vedo
-0000ccd0: 2e70 7269 6e74 6328 2278 3d28 2220 2b20  .printc("x=(" + 
-0000cce0: 6278 3120 2b20 222c 2022 202b 2062 7832  bx1 + ", " + bx2
-0000ccf0: 202b 2022 2922 2c20 633d 6366 2c20 626f   + ")", c=cf, bo
-0000cd00: 6c64 3d46 616c 7365 2c20 656e 643d 2222  ld=False, end=""
-0000cd10: 290a 2020 2020 2020 2020 6279 312c 2062  ).        by1, b
-0000cd20: 7932 203d 2070 7265 6369 7369 6f6e 2862  y2 = precision(b
-0000cd30: 6e64 735b 325d 2c20 3329 2c20 7072 6563  nds[2], 3), prec
-0000cd40: 6973 696f 6e28 626e 6473 5b33 5d2c 2033  ision(bnds[3], 3
-0000cd50: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
-0000cd60: 7269 6e74 6328 2220 793d 2822 202b 2062  rintc(" y=(" + b
-0000cd70: 7931 202b 2022 2c20 2220 2b20 6279 3220  y1 + ", " + by2 
-0000cd80: 2b20 2229 222c 2063 3d63 662c 2062 6f6c  + ")", c=cf, bol
-0000cd90: 643d 4661 6c73 652c 2065 6e64 3d22 2229  d=False, end="")
-0000cda0: 0a20 2020 2020 2020 2062 7a31 2c20 627a  .        bz1, bz
-0000cdb0: 3220 3d20 7072 6563 6973 696f 6e28 626e  2 = precision(bn
-0000cdc0: 6473 5b34 5d2c 2033 292c 2070 7265 6369  ds[4], 3), preci
-0000cdd0: 7369 6f6e 2862 6e64 735b 355d 2c20 3329  sion(bnds[5], 3)
-0000cde0: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000cdf0: 696e 7463 2822 207a 3d28 2220 2b20 627a  intc(" z=(" + bz
-0000ce00: 3120 2b20 222c 2022 202b 2062 7a32 202b  1 + ", " + bz2 +
-0000ce10: 2022 2922 2c20 633d 6366 2c20 626f 6c64   ")", c=cf, bold
-0000ce20: 3d46 616c 7365 290a 2020 2020 2020 2020  =False).        
-0000ce30: 5f70 7269 6e74 5f64 6174 6128 7567 2c20  _print_data(ug, 
-0000ce40: 6f62 6a2e 5f6d 6170 7065 722c 2063 6629  obj._mapper, cf)
-0000ce50: 0a0a 2020 2020 656c 6966 2069 7369 6e73  ..    elif isins
-0000ce60: 7461 6e63 6528 6f62 6a2c 2028 7665 646f  tance(obj, (vedo
-0000ce70: 2e76 6f6c 756d 652e 566f 6c75 6d65 2c20  .volume.Volume, 
-0000ce80: 7665 646f 2e76 6f6c 756d 652e 566f 6c75  vedo.volume.Volu
-0000ce90: 6d65 536c 6963 6529 293a 0a20 2020 2020  meSlice)):.     
-0000cea0: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
-0000ceb0: 566f 6c75 6d65 222e 6c6a 7573 7428 3730  Volume".ljust(70
-0000cec0: 292c 2063 3d22 6222 2c20 626f 6c64 3d54  ), c="b", bold=T
-0000ced0: 7275 652c 2069 6e76 6572 743d 5472 7565  rue, invert=True
-0000cee0: 290a 0a20 2020 2020 2020 2069 6d67 203d  )..        img =
-0000cef0: 206f 626a 2e47 6574 4d61 7070 6572 2829   obj.GetMapper()
-0000cf00: 2e47 6574 496e 7075 7428 290a 2020 2020  .GetInput().    
-0000cf10: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000cf20: 226f 7269 6769 6e22 2e6c 6a75 7374 2831  "origin".ljust(1
-0000cf30: 3429 202b 2022 3a20 222c 2063 3d22 6222  4) + ": ", c="b"
-0000cf40: 2c20 626f 6c64 3d54 7275 652c 2065 6e64  , bold=True, end
-0000cf50: 3d22 2229 0a20 2020 2020 2020 2076 6564  ="").        ved
-0000cf60: 6f2e 7072 696e 7463 2870 7265 6369 7369  o.printc(precisi
-0000cf70: 6f6e 286f 626a 2e6f 7269 6769 6e28 292c  on(obj.origin(),
-0000cf80: 3629 2c20 633d 2262 222c 2062 6f6c 643d  6), c="b", bold=
-0000cf90: 4661 6c73 6529 0a0a 2020 2020 2020 2020  False)..        
-0000cfa0: 7665 646f 2e70 7269 6e74 6328 2263 656e  vedo.printc("cen
-0000cfb0: 7465 7222 2e6c 6a75 7374 2831 3429 202b  ter".ljust(14) +
-0000cfc0: 2022 3a20 222c 2063 3d22 6222 2c20 626f   ": ", c="b", bo
-0000cfd0: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
-0000cfe0: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000cff0: 696e 7463 2870 7265 6369 7369 6f6e 286f  intc(precision(o
-0000d000: 626a 2e63 656e 7465 7228 292c 3629 2c20  bj.center(),6), 
-0000d010: 633d 2262 222c 2062 6f6c 643d 4661 6c73  c="b", bold=Fals
-0000d020: 6529 0a0a 2020 2020 2020 2020 7665 646f  e)..        vedo
-0000d030: 2e70 7269 6e74 6328 2264 696d 656e 7369  .printc("dimensi
-0000d040: 6f6e 7322 2e6c 6a75 7374 2831 3429 202b  ons".ljust(14) +
-0000d050: 2022 3a20 222c 2063 3d22 6222 2c20 626f   ": ", c="b", bo
-0000d060: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
-0000d070: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000d080: 696e 7463 2869 6d67 2e47 6574 4469 6d65  intc(img.GetDime
-0000d090: 6e73 696f 6e73 2829 2c20 633d 2262 222c  nsions(), c="b",
-0000d0a0: 2062 6f6c 643d 4661 6c73 6529 0a20 2020   bold=False).   
-0000d0b0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000d0c0: 2822 7370 6163 696e 6722 2e6c 6a75 7374  ("spacing".ljust
-0000d0d0: 2831 3429 202b 2022 3a20 222c 2063 3d22  (14) + ": ", c="
-0000d0e0: 6222 2c20 626f 6c64 3d54 7275 652c 2065  b", bold=True, e
-0000d0f0: 6e64 3d22 2229 0a20 2020 2020 2020 2076  nd="").        v
-0000d100: 6564 6f2e 7072 696e 7463 2870 7265 6369  edo.printc(preci
-0000d110: 7369 6f6e 2869 6d67 2e47 6574 5370 6163  sion(img.GetSpac
-0000d120: 696e 6728 292c 3629 2c20 633d 2262 222c  ing(),6), c="b",
-0000d130: 2062 6f6c 643d 4661 6c73 6529 0a20 2020   bold=False).   
-0000d140: 2020 2020 2023 2076 6564 6f2e 7072 696e       # vedo.prin
-0000d150: 7463 2822 6461 7461 2064 696d 656e 7369  tc("data dimensi
-0000d160: 6f6e 222e 6c6a 7573 7428 3134 2920 2b20  on".ljust(14) + 
-0000d170: 223a 2022 2c20 633d 2262 222c 2062 6f6c  ": ", c="b", bol
-0000d180: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
-0000d190: 2020 2020 2020 2020 2320 7665 646f 2e70          # vedo.p
-0000d1a0: 7269 6e74 6328 696d 672e 4765 7444 6174  rintc(img.GetDat
-0000d1b0: 6144 696d 656e 7369 6f6e 2829 2c20 633d  aDimension(), c=
-0000d1c0: 2262 222c 2062 6f6c 643d 4661 6c73 6529  "b", bold=False)
-0000d1d0: 0a0a 2020 2020 2020 2020 7665 646f 2e70  ..        vedo.p
-0000d1e0: 7269 6e74 6328 226d 656d 6f72 7920 7369  rintc("memory si
-0000d1f0: 7a65 222e 6c6a 7573 7428 3134 2920 2b20  ze".ljust(14) + 
-0000d200: 223a 2022 2c20 633d 2262 222c 2062 6f6c  ": ", c="b", bol
-0000d210: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
-0000d220: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
-0000d230: 6e74 6328 696e 7428 696d 672e 4765 7441  ntc(int(img.GetA
-0000d240: 6374 7561 6c4d 656d 6f72 7953 697a 6528  ctualMemorySize(
-0000d250: 2920 2f20 3130 3234 292c 2022 4d42 222c  ) / 1024), "MB",
-0000d260: 2063 3d22 6222 2c20 626f 6c64 3d46 616c   c="b", bold=Fal
-0000d270: 7365 290a 0a20 2020 2020 2020 2076 6564  se)..        ved
-0000d280: 6f2e 7072 696e 7463 2822 7363 616c 6172  o.printc("scalar
-0000d290: 2023 6279 7465 7322 2e6c 6a75 7374 2831   #bytes".ljust(1
-0000d2a0: 3429 202b 2022 3a20 222c 2063 3d22 6222  4) + ": ", c="b"
-0000d2b0: 2c20 626f 6c64 3d54 7275 652c 2065 6e64  , bold=True, end
-0000d2c0: 3d22 2229 0a20 2020 2020 2020 2076 6564  ="").        ved
-0000d2d0: 6f2e 7072 696e 7463 2869 6d67 2e47 6574  o.printc(img.Get
-0000d2e0: 5363 616c 6172 5369 7a65 2829 2c20 633d  ScalarSize(), c=
-0000d2f0: 2262 222c 2062 6f6c 643d 4661 6c73 6529  "b", bold=False)
-0000d300: 0a0a 2020 2020 2020 2020 626e 6473 203d  ..        bnds =
-0000d310: 206f 626a 2e47 6574 426f 756e 6473 2829   obj.GetBounds()
-0000d320: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000d330: 696e 7463 2822 626f 756e 6473 222e 6c6a  intc("bounds".lj
-0000d340: 7573 7428 3134 2920 2b20 223a 2022 2c20  ust(14) + ": ", 
-0000d350: 633d 2262 222c 2062 6f6c 643d 5472 7565  c="b", bold=True
-0000d360: 2c20 656e 643d 2222 290a 2020 2020 2020  , end="").      
-0000d370: 2020 6278 312c 2062 7832 203d 2070 7265    bx1, bx2 = pre
-0000d380: 6369 7369 6f6e 2862 6e64 735b 305d 2c20  cision(bnds[0], 
-0000d390: 3429 2c20 7072 6563 6973 696f 6e28 626e  4), precision(bn
-0000d3a0: 6473 5b31 5d2c 2034 290a 2020 2020 2020  ds[1], 4).      
-0000d3b0: 2020 7665 646f 2e70 7269 6e74 6328 2278    vedo.printc("x
-0000d3c0: 3d28 2220 2b20 6278 3120 2b20 222c 2022  =(" + bx1 + ", "
-0000d3d0: 202b 2062 7832 202b 2022 2922 2c20 633d   + bx2 + ")", c=
-0000d3e0: 2262 222c 2062 6f6c 643d 4661 6c73 652c  "b", bold=False,
-0000d3f0: 2065 6e64 3d22 2229 0a20 2020 2020 2020   end="").       
-0000d400: 2062 7931 2c20 6279 3220 3d20 7072 6563   by1, by2 = prec
-0000d410: 6973 696f 6e28 626e 6473 5b32 5d2c 2034  ision(bnds[2], 4
-0000d420: 292c 2070 7265 6369 7369 6f6e 2862 6e64  ), precision(bnd
-0000d430: 735b 335d 2c20 3429 0a20 2020 2020 2020  s[3], 4).       
-0000d440: 2076 6564 6f2e 7072 696e 7463 2822 2079   vedo.printc(" y
-0000d450: 3d28 2220 2b20 6279 3120 2b20 222c 2022  =(" + by1 + ", "
-0000d460: 202b 2062 7932 202b 2022 2922 2c20 633d   + by2 + ")", c=
-0000d470: 2262 222c 2062 6f6c 643d 4661 6c73 652c  "b", bold=False,
-0000d480: 2065 6e64 3d22 2229 0a20 2020 2020 2020   end="").       
-0000d490: 2062 7a31 2c20 627a 3220 3d20 7072 6563   bz1, bz2 = prec
-0000d4a0: 6973 696f 6e28 626e 6473 5b34 5d2c 2034  ision(bnds[4], 4
-0000d4b0: 292c 2070 7265 6369 7369 6f6e 2862 6e64  ), precision(bnd
-0000d4c0: 735b 355d 2c20 3429 0a20 2020 2020 2020  s[5], 4).       
-0000d4d0: 2076 6564 6f2e 7072 696e 7463 2822 207a   vedo.printc(" z
-0000d4e0: 3d28 2220 2b20 627a 3120 2b20 222c 2022  =(" + bz1 + ", "
-0000d4f0: 202b 2062 7a32 202b 2022 2922 2c20 633d   + bz2 + ")", c=
-0000d500: 2262 222c 2062 6f6c 643d 4661 6c73 6529  "b", bold=False)
-0000d510: 0a0a 2020 2020 2020 2020 7665 646f 2e70  ..        vedo.p
-0000d520: 7269 6e74 6328 2273 6361 6c61 7220 7261  rintc("scalar ra
-0000d530: 6e67 6522 2e6c 6a75 7374 2831 3429 202b  nge".ljust(14) +
-0000d540: 2022 3a20 222c 2063 3d22 6222 2c20 626f   ": ", c="b", bo
-0000d550: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
-0000d560: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
-0000d570: 696e 7463 2869 6d67 2e47 6574 5363 616c  intc(img.GetScal
-0000d580: 6172 5261 6e67 6528 292c 2063 3d22 6222  arRange(), c="b"
-0000d590: 2c20 626f 6c64 3d46 616c 7365 290a 0a20  , bold=False).. 
-0000d5a0: 2020 2020 2020 2070 7269 6e74 5f68 6973         print_his
-0000d5b0: 746f 6772 616d 286f 626a 2c20 686f 7269  togram(obj, hori
-0000d5c0: 7a6f 6e74 616c 3d54 7275 652c 2073 7061  zontal=True, spa
-0000d5d0: 6365 723d 2220 222a 3130 2c0a 2020 2020  cer=" "*10,.    
-0000d5e0: 2020 2020 2020 2020 6c6f 6773 6361 6c65          logscale
-0000d5f0: 3d54 7275 652c 2062 696e 733d 382c 2068  =True, bins=8, h
-0000d600: 6569 6768 743d 3135 2c20 633d 2262 222c  eight=15, c="b",
-0000d610: 2062 6f6c 643d 5472 7565 290a 0a20 2020   bold=True)..   
-0000d620: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
-0000d630: 286f 626a 2c20 7665 646f 2e50 6c6f 7474  (obj, vedo.Plott
-0000d640: 6572 2920 616e 6420 6f62 6a2e 696e 7465  er) and obj.inte
-0000d650: 7261 6374 6f72 3a20 2023 2064 756d 7073  ractor:  # dumps
-0000d660: 2050 6c6f 7474 6572 2069 6e66 6f0a 2020   Plotter info.  
-0000d670: 2020 2020 2020 6178 7479 7065 203d 207b        axtype = {
-0000d680: 0a20 2020 2020 2020 2020 2020 2030 3a20  .            0: 
-0000d690: 2228 6e6f 2061 7865 7329 222c 0a20 2020  "(no axes)",.   
-0000d6a0: 2020 2020 2020 2020 2031 3a20 2228 7468           1: "(th
-0000d6b0: 7265 6520 6375 7374 6f6d 697a 6162 6c65  ree customizable
-0000d6c0: 2067 7261 7920 6772 6964 2077 616c 6c73   gray grid walls
-0000d6d0: 2922 2c0a 2020 2020 2020 2020 2020 2020  )",.            
-0000d6e0: 323a 2022 2863 6172 7465 7369 616e 2061  2: "(cartesian a
-0000d6f0: 7865 7320 6672 6f6d 206f 7269 6769 6e22  xes from origin"
-0000d700: 2c0a 2020 2020 2020 2020 2020 2020 333a  ,.            3:
-0000d710: 2022 2870 6f73 6974 6976 6520 7261 6e67   "(positive rang
-0000d720: 6520 6f66 2063 6172 7465 7369 616e 2061  e of cartesian a
-0000d730: 7865 7320 6672 6f6d 206f 7269 6769 6e22  xes from origin"
-0000d740: 2c0a 2020 2020 2020 2020 2020 2020 343a  ,.            4:
-0000d750: 2022 2861 7865 7320 7472 6961 6420 6174   "(axes triad at
-0000d760: 2062 6f74 746f 6d20 6c65 6674 2922 2c0a   bottom left)",.
-0000d770: 2020 2020 2020 2020 2020 2020 353a 2022              5: "
-0000d780: 286f 7269 656e 7465 6420 6375 6265 2061  (oriented cube a
-0000d790: 7420 626f 7474 6f6d 206c 6566 7429 222c  t bottom left)",
-0000d7a0: 0a20 2020 2020 2020 2020 2020 2036 3a20  .            6: 
-0000d7b0: 2228 6d61 726b 2074 6865 2063 6f72 6e65  "(mark the corne
-0000d7c0: 7273 206f 6620 7468 6520 626f 756e 6469  rs of the boundi
-0000d7d0: 6e67 2062 6f78 2922 2c0a 2020 2020 2020  ng box)",.      
-0000d7e0: 2020 2020 2020 373a 2022 2833 4420 7275        7: "(3D ru
-0000d7f0: 6c65 7220 6174 2065 6163 6820 7369 6465  ler at each side
-0000d800: 206f 6620 7468 6520 6361 7274 6573 6961   of the cartesia
-0000d810: 6e20 6178 6573 2922 2c0a 2020 2020 2020  n axes)",.      
-0000d820: 2020 2020 2020 383a 2022 2874 6865 2076        8: "(the v
-0000d830: 746b 4375 6265 4178 6573 4163 746f 7220  tkCubeAxesActor 
-0000d840: 6f62 6a65 6374 2922 2c0a 2020 2020 2020  object)",.      
-0000d850: 2020 2020 2020 393a 2022 2874 6865 2062        9: "(the b
-0000d860: 6f75 6e64 696e 6720 626f 7820 6f75 746c  ounding box outl
-0000d870: 696e 6529 222c 0a20 2020 2020 2020 2020  ine)",.         
-0000d880: 2020 2031 303a 2022 2863 6972 636c 6573     10: "(circles
-0000d890: 206f 6620 6d61 7869 6d75 6d20 626f 756e   of maximum boun
-0000d8a0: 6469 6e67 2062 6f78 2072 616e 6765 2922  ding box range)"
-0000d8b0: 2c0a 2020 2020 2020 2020 2020 2020 3131  ,.            11
-0000d8c0: 3a20 2228 7368 6f77 2061 206c 6172 6765  : "(show a large
-0000d8d0: 2067 7269 6420 6f6e 2074 6865 2078 2d79   grid on the x-y
-0000d8e0: 2070 6c61 6e65 2922 2c0a 2020 2020 2020   plane)",.      
-0000d8f0: 2020 2020 2020 3132 3a20 2228 7368 6f77        12: "(show
-0000d900: 2070 6f6c 6172 2061 7865 7329 222c 0a20   polar axes)",. 
-0000d910: 2020 2020 2020 2020 2020 2031 333a 2022             13: "
-0000d920: 2873 696d 706c 6520 7275 6c65 7220 6174  (simple ruler at
-0000d930: 2074 6865 2062 6f74 746f 6d20 6f66 2074   the bottom of t
-0000d940: 6865 2077 696e 646f 7729 222c 0a20 2020  he window)",.   
-0000d950: 2020 2020 2020 2020 2031 343a 2022 2874           14: "(t
-0000d960: 6865 2076 746b 4361 6d65 7261 4f72 6965  he vtkCameraOrie
-0000d970: 6e74 6174 696f 6e57 6964 6765 7420 6f62  ntationWidget ob
-0000d980: 6a65 6374 2922 2c0a 2020 2020 2020 2020  ject)",.        
-0000d990: 7d0a 2020 2020 2020 2020 626e 732c 2074  }.        bns, t
-0000d9a0: 6f74 7074 203d 205b 5d2c 2030 0a20 2020  otpt = [], 0.   
-0000d9b0: 2020 2020 2066 6f72 2061 2069 6e20 6f62       for a in ob
-0000d9c0: 6a2e 6163 746f 7273 3a0a 2020 2020 2020  j.actors:.      
-0000d9d0: 2020 2020 2020 6220 3d20 612e 4765 7442        b = a.GetB
-0000d9e0: 6f75 6e64 7328 290a 2020 2020 2020 2020  ounds().        
-0000d9f0: 2020 2020 6966 2061 2e47 6574 426f 756e      if a.GetBoun
-0000da00: 6473 2829 2069 7320 6e6f 7420 4e6f 6e65  ds() is not None
-0000da10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000da20: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-0000da30: 612c 2076 746b 2e76 746b 4163 746f 7229  a, vtk.vtkActor)
-0000da40: 2061 6e64 2061 2e47 6574 4d61 7070 6572   and a.GetMapper
-0000da50: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-0000da60: 2020 2020 2020 2020 746f 7470 7420 2b3d          totpt +=
-0000da70: 2061 2e47 6574 4d61 7070 6572 2829 2e47   a.GetMapper().G
-0000da80: 6574 496e 7075 7428 292e 4765 744e 756d  etInput().GetNum
-0000da90: 6265 724f 6650 6f69 6e74 7328 290a 2020  berOfPoints().  
-0000daa0: 2020 2020 2020 2020 2020 2020 2020 626e                bn
-0000dab0: 732e 6170 7065 6e64 2862 290a 2020 2020  s.append(b).    
-0000dac0: 2020 2020 6966 206c 656e 2862 6e73 2920      if len(bns) 
-0000dad0: 3d3d 2030 3a0a 2020 2020 2020 2020 2020  == 0:.          
-0000dae0: 2020 7265 7475 726e 0a20 2020 2020 2020    return.       
-0000daf0: 2076 6564 6f2e 7072 696e 7463 2822 506c   vedo.printc("Pl
-0000db00: 6f74 7465 7222 2e6c 6a75 7374 2837 3029  otter".ljust(70)
-0000db10: 2c20 696e 7665 7274 3d54 7275 652c 2064  , invert=True, d
-0000db20: 696d 3d31 2c20 633d 2263 2229 0a20 2020  im=1, c="c").   
-0000db30: 2020 2020 206f 7469 7420 3d20 6f62 6a2e       otit = obj.
-0000db40: 7469 746c 650a 2020 2020 2020 2020 6966  title.        if
-0000db50: 206e 6f74 206f 7469 743a 0a20 2020 2020   not otit:.     
-0000db60: 2020 2020 2020 206f 7469 7420 3d20 4e6f         otit = No
-0000db70: 6e65 0a20 2020 2020 2020 2076 6564 6f2e  ne.        vedo.
-0000db80: 7072 696e 7463 2822 7769 6e64 6f77 2074  printc("window t
-0000db90: 6974 6c65 222e 6c6a 7573 7428 3134 2920  itle".ljust(14) 
-0000dba0: 2b20 223a 222c 206f 7469 742c 2062 6f6c  + ":", otit, bol
-0000dbb0: 643d 4661 6c73 652c 2063 3d22 6322 290a  d=False, c="c").
-0000dbc0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
-0000dbd0: 6e74 6328 0a20 2020 2020 2020 2020 2020  ntc(.           
-0000dbe0: 2022 7769 6e64 6f77 2073 697a 6522 2e6c   "window size".l
-0000dbf0: 6a75 7374 2831 3429 202b 2022 3a22 2c0a  just(14) + ":",.
-0000dc00: 2020 2020 2020 2020 2020 2020 6f62 6a2e              obj.
-0000dc10: 7769 6e64 6f77 2e47 6574 5369 7a65 2829  window.GetSize()
-0000dc20: 2c0a 2020 2020 2020 2020 2020 2020 222d  ,.            "-
-0000dc30: 2066 756c 6c20 7363 7265 656e 2073 697a   full screen siz
-0000dc40: 653a 222c 0a20 2020 2020 2020 2020 2020  e:",.           
-0000dc50: 206f 626a 2e77 696e 646f 772e 4765 7453   obj.window.GetS
-0000dc60: 6372 6565 6e53 697a 6528 292c 0a20 2020  creenSize(),.   
-0000dc70: 2020 2020 2020 2020 2062 6f6c 643d 4661           bold=Fa
-0000dc80: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
-0000dc90: 2063 3d22 6322 2c0a 2020 2020 2020 2020   c="c",.        
-0000dca0: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
-0000dcb0: 7269 6e74 6328 0a20 2020 2020 2020 2020  rintc(.         
-0000dcc0: 2020 2022 6163 7476 2072 656e 6465 7265     "actv rendere
-0000dcd0: 7222 2e6c 6a75 7374 2831 3429 202b 2022  r".ljust(14) + "
-0000dce0: 3a22 2c0a 2020 2020 2020 2020 2020 2020  :",.            
-0000dcf0: 226e 722e 222c 0a20 2020 2020 2020 2020  "nr.",.         
-0000dd00: 2020 206f 626a 2e72 656e 6465 7265 7273     obj.renderers
-0000dd10: 2e69 6e64 6578 286f 626a 2e72 656e 6465  .index(obj.rende
-0000dd20: 7265 7229 2c0a 2020 2020 2020 2020 2020  rer),.          
-0000dd30: 2020 6622 286f 6620 7b6c 656e 286f 626a    f"(of {len(obj
-0000dd40: 2e72 656e 6465 7265 7273 297d 2072 656e  .renderers)} ren
-0000dd50: 6465 7265 7273 2922 2c0a 2020 2020 2020  derers)",.      
-0000dd60: 2020 2020 2020 626f 6c64 3d46 616c 7365        bold=False
-0000dd70: 2c0a 2020 2020 2020 2020 2020 2020 633d  ,.            c=
-0000dd80: 2263 222c 0a20 2020 2020 2020 2029 0a20  "c",.        ). 
-0000dd90: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000dda0: 7463 280a 2020 2020 2020 2020 2020 2020  tc(.            
-0000ddb0: 226e 722e 206f 6620 6163 746f 7273 222e  "nr. of actors".
-0000ddc0: 6c6a 7573 7428 3134 2920 2b20 223a 222c  ljust(14) + ":",
-0000ddd0: 206c 656e 286f 626a 2e61 6374 6f72 7329   len(obj.actors)
-0000dde0: 2c20 626f 6c64 3d46 616c 7365 2c20 633d  , bold=False, c=
-0000ddf0: 2263 222c 2065 6e64 3d22 220a 2020 2020  "c", end="".    
-0000de00: 2020 2020 290a 2020 2020 2020 2020 7665      ).        ve
-0000de10: 646f 2e70 7269 6e74 6328 2220 2822 202b  do.printc(" (" +
-0000de20: 2073 7472 2874 6f74 7074 292c 2022 7665   str(totpt), "ve
-0000de30: 7274 6963 6573 2922 2c20 626f 6c64 3d46  rtices)", bold=F
-0000de40: 616c 7365 2c20 633d 2263 2229 0a20 2020  alse, c="c").   
-0000de50: 2020 2020 206d 6178 5f62 6e73 203d 206e       max_bns = n
-0000de60: 702e 6d61 7828 626e 732c 2061 7869 733d  p.max(bns, axis=
-0000de70: 3029 0a20 2020 2020 2020 206d 696e 5f62  0).        min_b
-0000de80: 6e73 203d 206e 702e 6d69 6e28 626e 732c  ns = np.min(bns,
-0000de90: 2061 7869 733d 3029 0a20 2020 2020 2020   axis=0).       
-0000dea0: 2076 6564 6f2e 7072 696e 7463 2822 6d61   vedo.printc("ma
-0000deb0: 7820 626f 756e 6473 222e 6c6a 7573 7428  x bounds".ljust(
-0000dec0: 3134 2920 2b20 223a 2022 2c20 633d 2263  14) + ": ", c="c
-0000ded0: 222c 2062 6f6c 643d 4661 6c73 652c 2065  ", bold=False, e
-0000dee0: 6e64 3d22 2229 0a20 2020 2020 2020 2062  nd="").        b
-0000def0: 7831 2c20 6278 3220 3d20 7072 6563 6973  x1, bx2 = precis
-0000df00: 696f 6e28 6d69 6e5f 626e 735b 305d 2c20  ion(min_bns[0], 
-0000df10: 3329 2c20 7072 6563 6973 696f 6e28 6d61  3), precision(ma
-0000df20: 785f 626e 735b 315d 2c20 3329 0a20 2020  x_bns[1], 3).   
-0000df30: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000df40: 2822 783d 2822 202b 2062 7831 202b 2022  ("x=(" + bx1 + "
-0000df50: 2c20 2220 2b20 6278 3220 2b20 2229 222c  , " + bx2 + ")",
-0000df60: 2063 3d22 6322 2c20 626f 6c64 3d46 616c   c="c", bold=Fal
-0000df70: 7365 2c20 656e 643d 2222 290a 2020 2020  se, end="").    
-0000df80: 2020 2020 6279 312c 2062 7932 203d 2070      by1, by2 = p
-0000df90: 7265 6369 7369 6f6e 286d 696e 5f62 6e73  recision(min_bns
-0000dfa0: 5b32 5d2c 2033 292c 2070 7265 6369 7369  [2], 3), precisi
-0000dfb0: 6f6e 286d 6178 5f62 6e73 5b33 5d2c 2033  on(max_bns[3], 3
-0000dfc0: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
-0000dfd0: 7269 6e74 6328 2220 793d 2822 202b 2062  rintc(" y=(" + b
-0000dfe0: 7931 202b 2022 2c20 2220 2b20 6279 3220  y1 + ", " + by2 
-0000dff0: 2b20 2229 222c 2063 3d22 6322 2c20 626f  + ")", c="c", bo
-0000e000: 6c64 3d46 616c 7365 2c20 656e 643d 2222  ld=False, end=""
-0000e010: 290a 2020 2020 2020 2020 627a 312c 2062  ).        bz1, b
-0000e020: 7a32 203d 2070 7265 6369 7369 6f6e 286d  z2 = precision(m
-0000e030: 696e 5f62 6e73 5b34 5d2c 2033 292c 2070  in_bns[4], 3), p
-0000e040: 7265 6369 7369 6f6e 286d 6178 5f62 6e73  recision(max_bns
-0000e050: 5b35 5d2c 2033 290a 2020 2020 2020 2020  [5], 3).        
-0000e060: 7665 646f 2e70 7269 6e74 6328 2220 7a3d  vedo.printc(" z=
-0000e070: 2822 202b 2062 7a31 202b 2022 2c20 2220  (" + bz1 + ", " 
-0000e080: 2b20 627a 3220 2b20 2229 222c 2063 3d22  + bz2 + ")", c="
-0000e090: 6322 2c20 626f 6c64 3d46 616c 7365 290a  c", bold=False).
-0000e0a0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-0000e0b0: 7461 6e63 6528 6f62 6a2e 6178 6573 2c20  tance(obj.axes, 
-0000e0c0: 6469 6374 293a 0a20 2020 2020 2020 2020  dict):.         
-0000e0d0: 2020 206f 626a 2e61 7865 7320 3d20 310a     obj.axes = 1.
-0000e0e0: 2020 2020 2020 2020 6966 206f 626a 2e61          if obj.a
-0000e0f0: 7865 733a 0a20 2020 2020 2020 2020 2020  xes:.           
-0000e100: 2076 6564 6f2e 7072 696e 7463 280a 2020   vedo.printc(.  
-0000e110: 2020 2020 2020 2020 2020 2020 2020 2261                "a
-0000e120: 7865 7320 7374 796c 6522 2e6c 6a75 7374  xes style".ljust
-0000e130: 2831 3429 202b 2022 3a22 2c0a 2020 2020  (14) + ":",.    
-0000e140: 2020 2020 2020 2020 2020 2020 6f62 6a2e              obj.
-0000e150: 6178 6573 2c0a 2020 2020 2020 2020 2020  axes,.          
-0000e160: 2020 2020 2020 6178 7479 7065 5b6f 626a        axtype[obj
-0000e170: 2e61 7865 735d 2c0a 2020 2020 2020 2020  .axes],.        
-0000e180: 2020 2020 2020 2020 626f 6c64 3d46 616c          bold=Fal
-0000e190: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-0000e1a0: 2020 2020 633d 2263 222c 0a20 2020 2020      c="c",.     
-0000e1b0: 2020 2020 2020 2029 0a0a 2020 2020 656c         )..    el
-0000e1c0: 6966 2069 7369 6e73 7461 6e63 6528 6f62  if isinstance(ob
-0000e1d0: 6a2c 2076 6564 6f2e 5069 6374 7572 6529  j, vedo.Picture)
-0000e1e0: 3a20 2023 2064 756d 7073 2050 6963 7475  :  # dumps Pictu
-0000e1f0: 7265 2069 6e66 6f0a 2020 2020 2020 2020  re info.        
-0000e200: 7665 646f 2e70 7269 6e74 6328 2250 6963  vedo.printc("Pic
-0000e210: 7475 7265 222e 6c6a 7573 7428 3730 292c  ture".ljust(70),
-0000e220: 2063 3d22 7922 2c20 626f 6c64 3d54 7275   c="y", bold=Tru
-0000e230: 652c 2069 6e76 6572 743d 5472 7565 290a  e, invert=True).
-0000e240: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-0000e250: 2020 2020 2020 2020 2023 2067 656e 6572           # gener
-0000e260: 6174 6520 6120 7072 696e 7420 7468 756d  ate a print thum
-0000e270: 626e 6169 6c0a 2020 2020 2020 2020 2020  bnail.          
-0000e280: 2020 7769 6474 682c 2068 6569 6768 7420    width, height 
-0000e290: 3d20 6f62 6a2e 6469 6d65 6e73 696f 6e73  = obj.dimensions
-0000e2a0: 2829 0a20 2020 2020 2020 2020 2020 2077  ().            w
-0000e2b0: 203d 2034 350a 2020 2020 2020 2020 2020   = 45.          
-0000e2c0: 2020 6820 3d20 696e 7428 6865 6967 6874    h = int(height
-0000e2d0: 202f 2077 6964 7468 202a 2028 7720 2d20   / width * (w - 
-0000e2e0: 3129 202a 2030 2e35 202b 2030 2e35 290a  1) * 0.5 + 0.5).
-0000e2f0: 2020 2020 2020 2020 2020 2020 696d 675f              img_
-0000e300: 6172 7220 3d20 6f62 6a2e 636c 6f6e 6528  arr = obj.clone(
-0000e310: 292e 7265 7369 7a65 285b 772c 2068 5d29  ).resize([w, h])
-0000e320: 2e74 6f6e 756d 7079 2829 0a20 2020 2020  .tonumpy().     
-0000e330: 2020 2020 2020 2068 2c20 7720 3d20 696d         h, w = im
-0000e340: 675f 6172 722e 7368 6170 655b 3a32 5d0a  g_arr.shape[:2].
-0000e350: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0000e360: 7820 696e 2072 616e 6765 2868 293a 0a20  x in range(h):. 
-0000e370: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000e380: 6f72 2079 2069 6e20 7261 6e67 6528 7729  or y in range(w)
-0000e390: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000e3a0: 2020 2020 2020 7069 7820 3d20 696d 675f        pix = img_
-0000e3b0: 6172 725b 785d 5b79 5d0a 2020 2020 2020  arr[x][y].      
-0000e3c0: 2020 2020 2020 2020 2020 2020 2020 722c                r,
-0000e3d0: 2067 2c20 6220 3d20 7069 785b 3a33 5d0a   g, b = pix[:3].
-0000e3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e3f0: 2020 2020 7072 696e 7428 6622 5c78 3162      print(f"\x1b
-0000e400: 5b34 383b 323b 7b72 7d3b 7b67 7d3b 7b62  [48;2;{r};{g};{b
-0000e410: 7d6d 222c 2065 6e64 3d22 2022 290a 2020  }m", end=" ").  
-0000e420: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-0000e430: 696e 7428 225c 7831 625b 306d 2229 0a20  int("\x1b[0m"). 
-0000e440: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
-0000e450: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
-0000e460: 0a20 2020 2020 2020 2069 6d67 203d 206f  .        img = o
-0000e470: 626a 2e47 6574 4d61 7070 6572 2829 2e47  bj.GetMapper().G
-0000e480: 6574 496e 7075 7428 290a 2020 2020 2020  etInput().      
-0000e490: 2020 706f 7320 3d20 6f62 6a2e 4765 7450    pos = obj.GetP
-0000e4a0: 6f73 6974 696f 6e28 290a 2020 2020 2020  osition().      
-0000e4b0: 2020 7665 646f 2e70 7269 6e74 6328 2270    vedo.printc("p
-0000e4c0: 6f73 6974 696f 6e22 2e6c 6a75 7374 2831  osition".ljust(1
-0000e4d0: 3429 202b 2022 3a20 222c 2063 3d22 7922  4) + ": ", c="y"
-0000e4e0: 2c20 626f 6c64 3d54 7275 652c 2065 6e64  , bold=True, end
-0000e4f0: 3d22 2229 0a20 2020 2020 2020 2076 6564  ="").        ved
-0000e500: 6f2e 7072 696e 7463 2870 6f73 2c20 633d  o.printc(pos, c=
-0000e510: 2279 222c 2062 6f6c 643d 4661 6c73 6529  "y", bold=False)
-0000e520: 0a0a 2020 2020 2020 2020 7665 646f 2e70  ..        vedo.p
-0000e530: 7269 6e74 6328 2264 696d 656e 7369 6f6e  rintc("dimension
-0000e540: 7322 2e6c 6a75 7374 2831 3429 202b 2022  s".ljust(14) + "
-0000e550: 3a20 222c 2063 3d22 7922 2c20 626f 6c64  : ", c="y", bold
-0000e560: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
-0000e570: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000e580: 7463 286f 626a 2e73 6861 7065 2c20 633d  tc(obj.shape, c=
-0000e590: 2279 222c 2062 6f6c 643d 4661 6c73 6529  "y", bold=False)
-0000e5a0: 0a0a 2020 2020 2020 2020 7665 646f 2e70  ..        vedo.p
-0000e5b0: 7269 6e74 6328 226d 656d 6f72 7920 7369  rintc("memory si
-0000e5c0: 7a65 222e 6c6a 7573 7428 3134 2920 2b20  ze".ljust(14) + 
-0000e5d0: 223a 2022 2c20 633d 2279 222c 2062 6f6c  ": ", c="y", bol
-0000e5e0: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
-0000e5f0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
-0000e600: 6e74 6328 696e 7428 696d 672e 4765 7441  ntc(int(img.GetA
-0000e610: 6374 7561 6c4d 656d 6f72 7953 697a 6528  ctualMemorySize(
-0000e620: 2929 2c20 226b 4222 2c20 633d 2279 222c  )), "kB", c="y",
-0000e630: 2062 6f6c 643d 4661 6c73 6529 0a0a 2020   bold=False)..  
-0000e640: 2020 2020 2020 626e 6473 203d 206f 626a        bnds = obj
-0000e650: 2e47 6574 426f 756e 6473 2829 0a20 2020  .GetBounds().   
-0000e660: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000e670: 2822 626f 756e 6473 222e 6c6a 7573 7428  ("bounds".ljust(
-0000e680: 3134 2920 2b20 223a 2022 2c20 633d 2279  14) + ": ", c="y
-0000e690: 222c 2062 6f6c 643d 5472 7565 2c20 656e  ", bold=True, en
-0000e6a0: 643d 2222 290a 2020 2020 2020 2020 6278  d="").        bx
-0000e6b0: 312c 2062 7832 203d 2070 7265 6369 7369  1, bx2 = precisi
-0000e6c0: 6f6e 2862 6e64 735b 305d 2c20 3329 2c20  on(bnds[0], 3), 
-0000e6d0: 7072 6563 6973 696f 6e28 626e 6473 5b31  precision(bnds[1
-0000e6e0: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
-0000e6f0: 646f 2e70 7269 6e74 6328 2278 3d28 2220  do.printc("x=(" 
-0000e700: 2b20 6278 3120 2b20 222c 2022 202b 2062  + bx1 + ", " + b
-0000e710: 7832 202b 2022 2922 2c20 633d 2279 222c  x2 + ")", c="y",
-0000e720: 2062 6f6c 643d 4661 6c73 652c 2065 6e64   bold=False, end
-0000e730: 3d22 2229 0a20 2020 2020 2020 2062 7931  ="").        by1
-0000e740: 2c20 6279 3220 3d20 7072 6563 6973 696f  , by2 = precisio
-0000e750: 6e28 626e 6473 5b32 5d2c 2033 292c 2070  n(bnds[2], 3), p
-0000e760: 7265 6369 7369 6f6e 2862 6e64 735b 335d  recision(bnds[3]
-0000e770: 2c20 3329 0a20 2020 2020 2020 2076 6564  , 3).        ved
-0000e780: 6f2e 7072 696e 7463 2822 2079 3d28 2220  o.printc(" y=(" 
-0000e790: 2b20 6279 3120 2b20 222c 2022 202b 2062  + by1 + ", " + b
-0000e7a0: 7932 202b 2022 2922 2c20 633d 2279 222c  y2 + ")", c="y",
-0000e7b0: 2062 6f6c 643d 4661 6c73 652c 2065 6e64   bold=False, end
-0000e7c0: 3d22 2229 0a20 2020 2020 2020 2062 7a31  ="").        bz1
-0000e7d0: 2c20 627a 3220 3d20 7072 6563 6973 696f  , bz2 = precisio
-0000e7e0: 6e28 626e 6473 5b34 5d2c 2033 292c 2070  n(bnds[4], 3), p
-0000e7f0: 7265 6369 7369 6f6e 2862 6e64 735b 355d  recision(bnds[5]
-0000e800: 2c20 3329 0a20 2020 2020 2020 2076 6564  , 3).        ved
-0000e810: 6f2e 7072 696e 7463 2822 207a 3d28 2220  o.printc(" z=(" 
-0000e820: 2b20 627a 3120 2b20 222c 2022 202b 2062  + bz1 + ", " + b
-0000e830: 7a32 202b 2022 2922 2c20 633d 2279 222c  z2 + ")", c="y",
-0000e840: 2062 6f6c 643d 4661 6c73 6529 0a0a 2020   bold=False)..  
-0000e850: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
-0000e860: 6328 2269 6e74 656e 7374 7920 7261 6e67  c("intensty rang
-0000e870: 6522 2e6c 6a75 7374 2831 3429 202b 2022  e".ljust(14) + "
-0000e880: 3a20 222c 2063 3d22 7922 2c20 626f 6c64  : ", c="y", bold
-0000e890: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
-0000e8a0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000e8b0: 7463 2869 6d67 2e47 6574 5363 616c 6172  tc(img.GetScalar
-0000e8c0: 5261 6e67 6528 292c 2063 3d22 7922 2c20  Range(), c="y", 
-0000e8d0: 626f 6c64 3d46 616c 7365 290a 2020 2020  bold=False).    
-0000e8e0: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000e8f0: 226c 6576 656c 202f 2077 696e 646f 7722  "level / window"
-0000e900: 2e6c 6a75 7374 2831 3429 202b 2022 3a20  .ljust(14) + ": 
-0000e910: 222c 2063 3d22 7922 2c20 626f 6c64 3d54  ", c="y", bold=T
-0000e920: 7275 652c 2065 6e64 3d22 2229 0a20 2020  rue, end="").   
-0000e930: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000e940: 286f 626a 2e6c 6576 656c 2829 2c20 222f  (obj.level(), "/
-0000e950: 222c 206f 626a 2e77 696e 646f 7728 292c  ", obj.window(),
-0000e960: 2063 3d22 7922 2c20 626f 6c64 3d46 616c   c="y", bold=Fal
-0000e970: 7365 290a 0a20 2020 2065 6c73 653a 0a20  se)..    else:. 
-0000e980: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
-0000e990: 7463 2873 7472 2874 7970 6528 6f62 6a29  tc(str(type(obj)
-0000e9a0: 292e 6c6a 7573 7428 3730 292c 2069 6e76  ).ljust(70), inv
-0000e9b0: 6572 743d 5472 7565 290a 2020 2020 2020  ert=True).      
-0000e9c0: 2020 7665 646f 2e70 7269 6e74 6328 6f62    vedo.printc(ob
-0000e9d0: 6a29 0a0a 0a64 6566 2070 7269 6e74 5f68  j)...def print_h
-0000e9e0: 6973 746f 6772 616d 280a 2020 2020 6461  istogram(.    da
-0000e9f0: 7461 2c0a 2020 2020 6269 6e73 3d31 302c  ta,.    bins=10,
-0000ea00: 0a20 2020 2068 6569 6768 743d 3130 2c0a  .    height=10,.
-0000ea10: 2020 2020 6c6f 6773 6361 6c65 3d46 616c      logscale=Fal
-0000ea20: 7365 2c0a 2020 2020 6d69 6e62 696e 3d30  se,.    minbin=0
-0000ea30: 2c0a 2020 2020 686f 7269 7a6f 6e74 616c  ,.    horizontal
-0000ea40: 3d46 616c 7365 2c0a 2020 2020 6368 6172  =False,.    char
-0000ea50: 3d22 5c75 3235 3838 222c 0a20 2020 2063  ="\u2588",.    c
-0000ea60: 3d4e 6f6e 652c 0a20 2020 2062 6f6c 643d  =None,.    bold=
-0000ea70: 5472 7565 2c0a 2020 2020 7469 746c 653d  True,.    title=
-0000ea80: 2268 6973 746f 6772 616d 222c 0a20 2020  "histogram",.   
-0000ea90: 2073 7061 6365 723d 2222 2c0a 293a 0a20   spacer="",.):. 
-0000eaa0: 2020 2022 2222 0a20 2020 2041 7363 6969     """.    Ascii
-0000eab0: 2068 6973 746f 6772 616d 2070 7269 6e74   histogram print
-0000eac0: 696e 672e 0a20 2020 200a 2020 2020 496e  ing..    .    In
-0000ead0: 7075 7420 6361 6e20 6265 2061 2060 7665  put can be a `ve
-0000eae0: 646f 2e56 6f6c 756d 6560 206f 7220 6076  do.Volume` or `v
-0000eaf0: 6564 6f2e 4d65 7368 602e 0a20 2020 2052  edo.Mesh`..    R
-0000eb00: 6574 7572 6e73 2074 6865 2072 6177 2064  eturns the raw d
-0000eb10: 6174 6120 6265 666f 7265 2062 696e 6e69  ata before binni
-0000eb20: 6e67 2028 7573 6566 756c 2077 6865 6e20  ng (useful when 
-0000eb30: 7061 7373 696e 6720 7674 6b20 6f62 6a65  passing vtk obje
-0000eb40: 6374 7329 2e0a 0a20 2020 2041 7267 756d  cts)...    Argum
-0000eb50: 656e 7473 3a0a 2020 2020 2020 2020 6269  ents:.        bi
-0000eb60: 6e73 203a 2028 696e 7429 0a20 2020 2020  ns : (int).     
-0000eb70: 2020 2020 2020 206e 756d 6265 7220 6f66         number of
-0000eb80: 2068 6973 746f 6772 616d 2062 696e 730a   histogram bins.
-0000eb90: 2020 2020 2020 2020 6865 6967 6874 203a          height :
-0000eba0: 2028 696e 7429 0a20 2020 2020 2020 2020   (int).         
-0000ebb0: 2020 2068 6569 6768 7420 6f66 2074 6865     height of the
-0000ebc0: 2068 6973 746f 6772 616d 2069 6e20 6368   histogram in ch
-0000ebd0: 6172 6163 7465 7220 756e 6974 730a 2020  aracter units.  
-0000ebe0: 2020 2020 2020 6c6f 6773 6361 6c65 203a        logscale :
-0000ebf0: 2028 626f 6f6c 290a 2020 2020 2020 2020   (bool).        
-0000ec00: 2020 2020 7573 6520 6c6f 6773 6361 6c65      use logscale
-0000ec10: 2066 6f72 2066 7265 7175 656e 6369 6573   for frequencies
-0000ec20: 0a20 2020 2020 2020 206d 696e 6269 6e20  .        minbin 
-0000ec30: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
-0000ec40: 2020 2020 6967 6e6f 7265 2062 696e 7320      ignore bins 
-0000ec50: 6265 666f 7265 206d 696e 6269 6e0a 2020  before minbin.  
-0000ec60: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
-0000ec70: 203a 2028 626f 6f6c 290a 2020 2020 2020   : (bool).      
-0000ec80: 2020 2020 2020 7368 6f77 2068 6973 746f        show histo
-0000ec90: 6772 616d 2068 6f72 697a 6f6e 7461 6c6c  gram horizontall
-0000eca0: 790a 2020 2020 2020 2020 6368 6172 203a  y.        char :
-0000ecb0: 2028 7374 7229 0a20 2020 2020 2020 2020   (str).         
-0000ecc0: 2020 2063 6861 7261 6374 6572 2074 6f20     character to 
-0000ecd0: 6265 2075 7365 640a 2020 2020 2020 2020  be used.        
-0000ece0: 626f 6c64 203a 2028 626f 6f6c 290a 2020  bold : (bool).  
-0000ecf0: 2020 2020 2020 2020 2020 7573 6520 626f            use bo
-0000ed00: 6c64 6661 6365 0a20 2020 2020 2020 2074  ldface.        t
-0000ed10: 6974 6c65 203a 2028 7374 7229 0a20 2020  itle : (str).   
-0000ed20: 2020 2020 2020 2020 2068 6973 746f 6772           histogr
-0000ed30: 616d 2074 6974 6c65 0a20 2020 2020 2020  am title.       
-0000ed40: 2073 7061 6365 7220 3a20 2873 7472 290a   spacer : (str).
-0000ed50: 2020 2020 2020 2020 2020 2020 686f 7269              hori
-0000ed60: 7a6f 6e74 616c 2073 7061 6365 720a 0a20  zontal spacer.. 
-0000ed70: 2020 2045 7861 6d70 6c65 3a0a 2020 2020     Example:.    
-0000ed80: 2020 2020 6060 6070 7974 686f 6e0a 2020      ```python.  
-0000ed90: 2020 2020 2020 6672 6f6d 2076 6564 6f20        from vedo 
-0000eda0: 696d 706f 7274 2070 7269 6e74 5f68 6973  import print_his
-0000edb0: 746f 6772 616d 0a20 2020 2020 2020 2069  togram.        i
-0000edc0: 6d70 6f72 7420 6e75 6d70 7920 6173 206e  mport numpy as n
-0000edd0: 700a 2020 2020 2020 2020 6420 3d20 6e70  p.        d = np
-0000ede0: 2e72 616e 646f 6d2e 6e6f 726d 616c 2873  .random.normal(s
-0000edf0: 697a 653d 3130 3030 290a 2020 2020 2020  ize=1000).      
-0000ee00: 2020 6461 7461 203d 2070 7269 6e74 5f68    data = print_h
-0000ee10: 6973 746f 6772 616d 2864 2c20 633d 2762  istogram(d, c='b
-0000ee20: 6c75 6527 2c20 6c6f 6773 6361 6c65 3d54  lue', logscale=T
-0000ee30: 7275 652c 2074 6974 6c65 3d27 6d79 2073  rue, title='my s
-0000ee40: 6361 6c61 7273 2729 0a20 2020 2020 2020  calars').       
-0000ee50: 2064 6174 6120 3d20 7072 696e 745f 6869   data = print_hi
-0000ee60: 7374 6f67 7261 6d28 642c 2063 3d31 2c20  stogram(d, c=1, 
-0000ee70: 686f 7269 7a6f 6e74 616c 3d31 290a 2020  horizontal=1).  
-0000ee80: 2020 2020 2020 7072 696e 7428 6e70 2e6d        print(np.m
-0000ee90: 6561 6e28 6461 7461 2929 2023 2064 6174  ean(data)) # dat
-0000eea0: 6120 6865 7265 2069 7320 7361 6d65 2061  a here is same a
-0000eeb0: 7320 640a 2020 2020 2020 2020 6060 600a  s d.        ```.
-0000eec0: 2020 2020 2020 2020 215b 5d28 6874 7470          ![](http
-0000eed0: 733a 2f2f 7665 646f 2e65 6d62 6c2e 6573  s://vedo.embl.es
-0000eee0: 2f69 6d61 6765 732f 6665 6174 732f 7072  /images/feats/pr
-0000eef0: 696e 745f 6869 7374 6f67 7261 6d2e 706e  int_histogram.pn
-0000ef00: 6729 0a20 2020 2022 2222 0a20 2020 2023  g).    """.    #
-0000ef10: 2063 7265 6469 7473 3a20 6874 7470 3a2f   credits: http:/
-0000ef20: 2f70 7969 6e73 6369 2e62 6c6f 6773 706f  /pyinsci.blogspo
-0000ef30: 742e 636f 6d2f 3230 3039 2f31 302f 6173  t.com/2009/10/as
-0000ef40: 6369 692d 6869 7374 6f67 7261 6d73 2e68  cii-histograms.h
-0000ef50: 746d 6c0a 2020 2020 2320 6164 6170 7465  tml.    # adapte
-0000ef60: 6420 666f 7220 7665 646f 2062 7920 4d2e  d for vedo by M.
-0000ef70: 4d75 7379 2c20 3230 3139 0a0a 2020 2020  Musy, 2019..    
-0000ef80: 6966 206e 6f74 2068 6f72 697a 6f6e 7461  if not horizonta
-0000ef90: 6c3a 2020 2320 6265 7474 6572 2061 7370  l:  # better asp
-0000efa0: 6563 7420 7261 7469 6f0a 2020 2020 2020  ect ratio.      
-0000efb0: 2020 6269 6e73 202a 3d20 320a 0a20 2020    bins *= 2..   
-0000efc0: 2069 7369 6d67 203d 2069 7369 6e73 7461   isimg = isinsta
-0000efd0: 6e63 6528 6461 7461 2c20 7674 6b2e 7674  nce(data, vtk.vt
-0000efe0: 6b49 6d61 6765 4461 7461 290a 2020 2020  kImageData).    
-0000eff0: 6973 766f 6c20 3d20 6973 696e 7374 616e  isvol = isinstan
-0000f000: 6365 2864 6174 612c 2076 746b 2e76 746b  ce(data, vtk.vtk
-0000f010: 566f 6c75 6d65 290a 2020 2020 6966 2069  Volume).    if i
-0000f020: 7369 6d67 206f 7220 6973 766f 6c3a 0a20  simg or isvol:. 
-0000f030: 2020 2020 2020 2069 6620 6973 766f 6c3a         if isvol:
-0000f040: 0a20 2020 2020 2020 2020 2020 2069 6d67  .            img
-0000f050: 203d 2064 6174 612e 696d 6167 6564 6174   = data.imagedat
-0000f060: 6128 290a 2020 2020 2020 2020 656c 7365  a().        else
-0000f070: 3a0a 2020 2020 2020 2020 2020 2020 696d  :.            im
-0000f080: 6720 3d20 6461 7461 0a20 2020 2020 2020  g = data.       
-0000f090: 2064 696d 7320 3d20 696d 672e 4765 7444   dims = img.GetD
-0000f0a0: 696d 656e 7369 6f6e 7328 290a 2020 2020  imensions().    
-0000f0b0: 2020 2020 6e76 7820 3d20 6d69 6e28 3130      nvx = min(10
-0000f0c0: 3030 3030 2c20 6469 6d73 5b30 5d20 2a20  0000, dims[0] * 
-0000f0d0: 6469 6d73 5b31 5d20 2a20 6469 6d73 5b32  dims[1] * dims[2
-0000f0e0: 5d29 0a20 2020 2020 2020 2069 6478 7320  ]).        idxs 
-0000f0f0: 3d20 6e70 2e72 616e 646f 6d2e 7261 6e64  = np.random.rand
-0000f100: 696e 7428 302c 206d 696e 2864 696d 7329  int(0, min(dims)
-0000f110: 2c20 7369 7a65 3d28 6e76 782c 2033 2929  , size=(nvx, 3))
-0000f120: 0a20 2020 2020 2020 2064 6174 6120 3d20  .        data = 
-0000f130: 5b5d 0a20 2020 2020 2020 2066 6f72 2069  [].        for i
-0000f140: 782c 2069 792c 2069 7a20 696e 2069 6478  x, iy, iz in idx
-0000f150: 733a 0a20 2020 2020 2020 2020 2020 2064  s:.            d
-0000f160: 203d 2069 6d67 2e47 6574 5363 616c 6172   = img.GetScalar
-0000f170: 436f 6d70 6f6e 656e 7441 7346 6c6f 6174  ComponentAsFloat
-0000f180: 2869 782c 2069 792c 2069 7a2c 2030 290a  (ix, iy, iz, 0).
-0000f190: 2020 2020 2020 2020 2020 2020 6461 7461              data
-0000f1a0: 2e61 7070 656e 6428 6429 0a20 2020 2065  .append(d).    e
-0000f1b0: 6c69 6620 6973 696e 7374 616e 6365 2864  lif isinstance(d
-0000f1c0: 6174 612c 2076 746b 2e76 746b 4163 746f  ata, vtk.vtkActo
-0000f1d0: 7229 3a0a 2020 2020 2020 2020 6172 7220  r):.        arr 
-0000f1e0: 3d20 6461 7461 2e70 6f6c 7964 6174 6128  = data.polydata(
-0000f1f0: 292e 4765 7450 6f69 6e74 4461 7461 2829  ).GetPointData()
-0000f200: 2e47 6574 5363 616c 6172 7328 290a 2020  .GetScalars().  
-0000f210: 2020 2020 2020 6966 206e 6f74 2061 7272        if not arr
-0000f220: 3a0a 2020 2020 2020 2020 2020 2020 6172  :.            ar
-0000f230: 7220 3d20 6461 7461 2e70 6f6c 7964 6174  r = data.polydat
-0000f240: 6128 292e 4765 7443 656c 6c44 6174 6128  a().GetCellData(
-0000f250: 292e 4765 7453 6361 6c61 7273 2829 0a20  ).GetScalars(). 
-0000f260: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-0000f270: 7420 6172 723a 0a20 2020 2020 2020 2020  t arr:.         
-0000f280: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-0000f290: 6e65 0a0a 2020 2020 2020 2020 6461 7461  ne..        data
-0000f2a0: 203d 2076 746b 326e 756d 7079 2861 7272   = vtk2numpy(arr
-0000f2b0: 290a 0a20 2020 2074 7279 3a0a 2020 2020  )..    try:.    
-0000f2c0: 2020 2020 6820 3d20 6e70 2e68 6973 746f      h = np.histo
-0000f2d0: 6772 616d 2864 6174 612c 2062 696e 733d  gram(data, bins=
-0000f2e0: 6269 6e73 290a 2020 2020 6578 6365 7074  bins).    except
-0000f2f0: 2054 7970 6545 7272 6f72 2061 7320 653a   TypeError as e:
-0000f300: 0a20 2020 2020 2020 2076 6564 6f2e 6c6f  .        vedo.lo
-0000f310: 6767 6572 2e65 7272 6f72 2866 2263 616e  gger.error(f"can
-0000f320: 6e6f 7420 636f 6d70 7574 6520 6869 7374  not compute hist
-0000f330: 6f67 7261 6d3a 207b 657d 2229 0a20 2020  ogram: {e}").   
-0000f340: 2020 2020 2072 6574 7572 6e20 2222 0a0a       return ""..
-0000f350: 2020 2020 6966 206d 696e 6269 6e3a 0a20      if minbin:. 
-0000f360: 2020 2020 2020 2068 6920 3d20 685b 305d         hi = h[0]
-0000f370: 5b6d 696e 6269 6e3a 2d31 5d0a 2020 2020  [minbin:-1].    
-0000f380: 656c 7365 3a0a 2020 2020 2020 2020 6869  else:.        hi
-0000f390: 203d 2068 5b30 5d0a 0a20 2020 2069 6620   = h[0]..    if 
-0000f3a0: 6368 6172 203d 3d20 225c 5530 3030 3032  char == "\U00002
-0000f3b0: 3538 3922 2061 6e64 2068 6f72 697a 6f6e  589" and horizon
-0000f3c0: 7461 6c3a 0a20 2020 2020 2020 2063 6861  tal:.        cha
-0000f3d0: 7220 3d20 225c 5530 3030 3032 3538 3622  r = "\U00002586"
-0000f3e0: 0a0a 2020 2020 7469 746c 6520 3d20 7469  ..    title = ti
-0000f3f0: 746c 652e 6c6a 7573 7428 3134 2920 2b20  tle.ljust(14) + 
-0000f400: 223a 220a 2020 2020 656e 7472 7320 3d20  ":".    entrs = 
-0000f410: 2220 656e 7472 6965 733d 2220 2b20 7374  " entries=" + st
-0000f420: 7228 6c65 6e28 6461 7461 2929 0a20 2020  r(len(data)).   
-0000f430: 2069 6620 6c6f 6773 6361 6c65 3a0a 2020   if logscale:.  
-0000f440: 2020 2020 2020 6830 203d 206e 702e 6c6f        h0 = np.lo
-0000f450: 6731 3028 6869 202b 2031 290a 2020 2020  g10(hi + 1).    
-0000f460: 2020 2020 6d61 7868 3020 3d20 696e 7428      maxh0 = int(
-0000f470: 6d61 7828 6830 2920 2a20 3130 3029 202f  max(h0) * 100) /
-0000f480: 2031 3030 0a20 2020 2020 2020 2074 6974   100.        tit
-0000f490: 6c65 203d 2074 6974 6c65 202b 2065 6e74  le = title + ent
-0000f4a0: 7273 202b 2022 2028 6c6f 6773 6361 6c65  rs + " (logscale
-0000f4b0: 2922 0a20 2020 2065 6c73 653a 0a20 2020  )".    else:.   
-0000f4c0: 2020 2020 2068 3020 3d20 6869 0a20 2020       h0 = hi.   
-0000f4d0: 2020 2020 206d 6178 6830 203d 206d 6178       maxh0 = max
-0000f4e0: 2868 3029 0a20 2020 2020 2020 2074 6974  (h0).        tit
-0000f4f0: 6c65 203d 2074 6974 6c65 202b 2065 6e74  le = title + ent
-0000f500: 7273 0a0a 2020 2020 6465 6620 5f76 2829  rs..    def _v()
-0000f510: 3a0a 2020 2020 2020 2020 6869 7320 3d20  :.        his = 
-0000f520: 2222 0a20 2020 2020 2020 2069 6620 7469  "".        if ti
-0000f530: 746c 653a 0a20 2020 2020 2020 2020 2020  tle:.           
-0000f540: 2068 6973 202b 3d20 7469 746c 6520 2b20   his += title + 
-0000f550: 225c 6e22 0a20 2020 2020 2020 2062 6172  "\n".        bar
-0000f560: 7320 3d20 6830 202f 206d 6178 6830 202a  s = h0 / maxh0 *
-0000f570: 2068 6569 6768 740a 2020 2020 2020 2020   height.        
-0000f580: 666f 7220 6c20 696e 2072 6576 6572 7365  for l in reverse
-0000f590: 6428 7261 6e67 6528 312c 2068 6569 6768  d(range(1, heigh
-0000f5a0: 7420 2b20 3129 293a 0a20 2020 2020 2020  t + 1)):.       
-0000f5b0: 2020 2020 206c 696e 6520 3d20 2222 0a20       line = "". 
-0000f5c0: 2020 2020 2020 2020 2020 2069 6620 6c20             if l 
-0000f5d0: 3d3d 2068 6569 6768 743a 0a20 2020 2020  == height:.     
-0000f5e0: 2020 2020 2020 2020 2020 206c 696e 6520             line 
-0000f5f0: 3d20 2225 7320 2220 2520 6d61 7868 300a  = "%s " % maxh0.
-0000f600: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000f610: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000f620: 2020 6c69 6e65 203d 2022 2020 207c 2220    line = "   |" 
-0000f630: 2b20 2220 2220 2a20 286c 656e 2873 7472  + " " * (len(str
-0000f640: 286d 6178 6830 2929 202d 2033 290a 2020  (maxh0)) - 3).  
-0000f650: 2020 2020 2020 2020 2020 666f 7220 6320            for c 
-0000f660: 696e 2062 6172 733a 0a20 2020 2020 2020  in bars:.       
-0000f670: 2020 2020 2020 2020 2069 6620 6320 3e3d           if c >=
-0000f680: 206e 702e 6365 696c 286c 293a 0a20 2020   np.ceil(l):.   
-0000f690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f6a0: 206c 696e 6520 2b3d 2063 6861 720a 2020   line += char.  
-0000f6b0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000f6c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000f6d0: 2020 2020 2020 2020 6c69 6e65 202b 3d20          line += 
-0000f6e0: 2220 220a 2020 2020 2020 2020 2020 2020  " ".            
-0000f6f0: 6c69 6e65 202b 3d20 225c 6e22 0a20 2020  line += "\n".   
-0000f700: 2020 2020 2020 2020 2068 6973 202b 3d20           his += 
-0000f710: 6c69 6e65 0a20 2020 2020 2020 2068 6973  line.        his
-0000f720: 202b 3d20 2225 2e32 6622 2025 2068 5b31   += "%.2f" % h[1
-0000f730: 5d5b 305d 202b 2022 2e22 202a 2028 6269  ][0] + "." * (bi
-0000f740: 6e73 2920 2b20 2225 2e32 6622 2025 2068  ns) + "%.2f" % h
-0000f750: 5b31 5d5b 2d31 5d20 2b20 225c 6e22 0a20  [1][-1] + "\n". 
-0000f760: 2020 2020 2020 2072 6574 7572 6e20 6869         return hi
-0000f770: 730a 0a20 2020 2064 6566 205f 6828 293a  s..    def _h():
-0000f780: 0a20 2020 2020 2020 2068 6973 203d 2022  .        his = "
-0000f790: 220a 2020 2020 2020 2020 6966 2074 6974  ".        if tit
-0000f7a0: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-0000f7b0: 6869 7320 2b3d 2074 6974 6c65 202b 2022  his += title + "
-0000f7c0: 5c6e 220a 2020 2020 2020 2020 786c 203d  \n".        xl =
-0000f7d0: 205b 2225 2e32 6622 2025 206e 2066 6f72   ["%.2f" % n for
-0000f7e0: 206e 2069 6e20 685b 315d 5d0a 2020 2020   n in h[1]].    
-0000f7f0: 2020 2020 6c78 6c20 3d20 5b6c 656e 286c      lxl = [len(l
-0000f800: 2920 666f 7220 6c20 696e 2078 6c5d 0a20  ) for l in xl]. 
-0000f810: 2020 2020 2020 2062 6172 7320 3d20 6830         bars = h0
-0000f820: 202f 206d 6178 6830 202a 2068 6569 6768   / maxh0 * heigh
-0000f830: 740a 2020 2020 2020 2020 6869 7320 2b3d  t.        his +=
-0000f840: 2073 7061 6365 7220 2b20 2220 2220 2a20   spacer + " " * 
-0000f850: 696e 7428 6d61 7828 6261 7273 2920 2b20  int(max(bars) + 
-0000f860: 3220 2b20 6d61 7828 6c78 6c29 2920 2b20  2 + max(lxl)) + 
-0000f870: 2225 735c 6e22 2025 206d 6178 6830 0a20  "%s\n" % maxh0. 
-0000f880: 2020 2020 2020 2066 6f72 2069 2c20 6320         for i, c 
-0000f890: 696e 2065 6e75 6d65 7261 7465 2862 6172  in enumerate(bar
-0000f8a0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-0000f8b0: 6c69 6e65 203d 2078 6c5b 695d 202b 2022  line = xl[i] + "
-0000f8c0: 2022 202a 2069 6e74 286d 6178 286c 786c   " * int(max(lxl
-0000f8d0: 2920 2d20 6c78 6c5b 695d 2920 2b20 227c  ) - lxl[i]) + "|
-0000f8e0: 2022 202b 2063 6861 7220 2a20 696e 7428   " + char * int(
-0000f8f0: 6329 202b 2022 5c6e 220a 2020 2020 2020  c) + "\n".      
-0000f900: 2020 2020 2020 6869 7320 2b3d 2073 7061        his += spa
-0000f910: 6365 7220 2b20 6c69 6e65 0a20 2020 2020  cer + line.     
-0000f920: 2020 2072 6574 7572 6e20 6869 730a 0a20     return his.. 
-0000f930: 2020 2069 6620 686f 7269 7a6f 6e74 616c     if horizontal
-0000f940: 3a0a 2020 2020 2020 2020 6865 6967 6874  :.        height
-0000f950: 202a 3d20 320a 2020 2020 2020 2020 7665   *= 2.        ve
-0000f960: 646f 2e70 7269 6e74 6328 5f68 2829 2c20  do.printc(_h(), 
-0000f970: 633d 632c 2062 6f6c 643d 626f 6c64 290a  c=c, bold=bold).
-0000f980: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000f990: 2020 7665 646f 2e70 7269 6e74 6328 5f76    vedo.printc(_v
-0000f9a0: 2829 2c20 633d 632c 2062 6f6c 643d 626f  (), c=c, bold=bo
-0000f9b0: 6c64 290a 2020 2020 7265 7475 726e 2064  ld).    return d
-0000f9c0: 6174 610a 0a64 6566 2070 7269 6e74 5f74  ata..def print_t
-0000f9d0: 6162 6c65 282a 636f 6c75 6d6e 732c 2068  able(*columns, h
-0000f9e0: 6561 6465 7273 3d4e 6f6e 652c 2063 3d27  eaders=None, c='
-0000f9f0: 6727 293a 0a20 2020 2022 2222 0a20 2020  g'):.    """.   
-0000fa00: 2050 7269 6e74 206c 6973 7473 2061 7320   Print lists as 
-0000fa10: 7461 626c 6573 2e0a 0a20 2020 2045 7861  tables...    Exa
-0000fa20: 6d70 6c65 3a0a 2020 2020 6060 6070 7974  mple:.    ```pyt
-0000fa30: 686f 6e0a 2020 2020 6c69 7374 3120 3d20  hon.    list1 = 
-0000fa40: 5b31 2c20 6e70 2e73 7172 7428 3229 2c20  [1, np.sqrt(2), 
-0000fa50: 335d 0a20 2020 206c 6973 7432 203d 205b  3].    list2 = [
-0000fa60: 2241 222c 2022 4222 2c20 2243 225d 0a20  "A", "B", "C"]. 
-0000fa70: 2020 206c 6973 7433 203d 205b 5472 7565     list3 = [True
-0000fa80: 2c20 4661 6c73 652c 2054 7275 655d 0a20  , False, True]. 
-0000fa90: 2020 2068 6561 6465 7273 203d 205b 2246     headers = ["F
-0000faa0: 6972 7374 2043 6f6c 756d 6e22 2c20 2253  irst Column", "S
-0000fab0: 6563 6f6e 6420 436f 6c75 6d6e 222c 2022  econd Column", "
-0000fac0: 5468 6972 6420 436f 6c75 6d6e 225d 0a20  Third Column"]. 
-0000fad0: 2020 2070 7269 6e74 5f74 6162 6c65 286c     print_table(l
-0000fae0: 6973 7431 2c20 6c69 7374 322c 206c 6973  ist1, list2, lis
-0000faf0: 7433 2c20 6865 6164 6572 733d 6865 6164  t3, headers=head
-0000fb00: 6572 7329 0a20 2020 2060 6060 0a20 2020  ers).    ```.   
-0000fb10: 2022 2222 0a20 2020 2023 2049 6620 6865   """.    # If he
-0000fb20: 6164 6572 7320 6973 206e 6f74 2070 726f  aders is not pro
-0000fb30: 7669 6465 642c 2075 7365 2064 6566 6175  vided, use defau
-0000fb40: 6c74 2068 6561 6465 7220 6e61 6d65 730a  lt header names.
-0000fb50: 2020 2020 636f 726e 6572 3d27 e294 8027      corner='...'
-0000fb60: 0a20 2020 2069 6620 6865 6164 6572 7320  .    if headers 
-0000fb70: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0000fb80: 2068 6561 6465 7273 203d 205b 6622 436f   headers = [f"Co
-0000fb90: 6c75 6d6e 207b 697d 2220 666f 7220 6920  lumn {i}" for i 
-0000fba0: 696e 2072 616e 6765 2831 2c20 6c65 6e28  in range(1, len(
-0000fbb0: 636f 6c75 6d6e 7329 2b31 295d 0a20 2020  columns)+1)].   
-0000fbc0: 2061 7373 6572 7420 6c65 6e28 6865 6164   assert len(head
-0000fbd0: 6572 7329 203d 3d20 6c65 6e28 636f 6c75  ers) == len(colu
-0000fbe0: 6d6e 7329 0a0a 2020 2020 2320 4669 6e64  mns)..    # Find
-0000fbf0: 2074 6865 206d 6178 696d 756d 206c 656e   the maximum len
-0000fc00: 6774 6820 6f66 2074 6865 2065 6c65 6d65  gth of the eleme
-0000fc10: 6e74 7320 696e 2065 6163 6820 636f 6c75  nts in each colu
-0000fc20: 6d6e 2061 6e64 2068 6561 6465 720a 2020  mn and header.  
-0000fc30: 2020 6d61 785f 6c65 6e73 203d 205b 6d61    max_lens = [ma
-0000fc40: 7828 6c65 6e28 7374 7228 7829 2920 666f  x(len(str(x)) fo
-0000fc50: 7220 7820 696e 2063 6f6c 756d 6e29 2066  r x in column) f
-0000fc60: 6f72 2063 6f6c 756d 6e20 696e 2063 6f6c  or column in col
-0000fc70: 756d 6e73 5d0a 2020 2020 6d61 785f 6c65  umns].    max_le
-0000fc80: 6e5f 6865 6164 6572 7320 3d20 5b6d 6178  n_headers = [max
-0000fc90: 286c 656e 2873 7472 2868 6561 6465 7229  (len(str(header)
-0000fca0: 292c 206d 6178 5f6c 656e 2920 666f 7220  ), max_len) for 
-0000fcb0: 6865 6164 6572 2c20 6d61 785f 6c65 6e20  header, max_len 
-0000fcc0: 696e 207a 6970 2868 6561 6465 7273 2c20  in zip(headers, 
-0000fcd0: 6d61 785f 6c65 6e73 295d 0a0a 2020 2020  max_lens)]..    
-0000fce0: 2320 436f 6e73 7472 7563 7420 7468 6520  # Construct the 
-0000fcf0: 7461 626c 6520 6865 6164 6572 0a20 2020  table header.   
-0000fd00: 2068 6561 6465 7220 3d20 22e2 9482 2022   header = "... "
-0000fd10: 202b 2022 20e2 9482 2022 2e6a 6f69 6e28   + " ... ".join(
-0000fd20: 6865 6164 6572 2e6c 6a75 7374 286d 6178  header.ljust(max
-0000fd30: 5f6c 656e 2920 666f 7220 6865 6164 6572  _len) for header
-0000fd40: 2c20 6d61 785f 6c65 6e20 696e 207a 6970  , max_len in zip
-0000fd50: 2868 6561 6465 7273 2c20 6d61 785f 6c65  (headers, max_le
-0000fd60: 6e5f 6865 6164 6572 7329 2920 2b20 2220  n_headers)) + " 
-0000fd70: e294 8222 0a0a 2020 2020 2320 436f 6e73  ..."..    # Cons
-0000fd80: 7472 7563 7420 7468 6520 6c69 6e65 2073  truct the line s
-0000fd90: 6570 6172 6174 6f72 0a20 2020 206c 696e  eparator.    lin
-0000fda0: 6531 203d 2022 e294 8c22 202b 2063 6f72  e1 = "..." + cor
-0000fdb0: 6e65 722e 6a6f 696e 2822 e294 8022 2a28  ner.join("..."*(
-0000fdc0: 6d61 785f 6c65 6e2b 3229 2066 6f72 206d  max_len+2) for m
-0000fdd0: 6178 5f6c 656e 2069 6e20 6d61 785f 6c65  ax_len in max_le
-0000fde0: 6e5f 6865 6164 6572 7329 202b 2022 e294  n_headers) + "..
-0000fdf0: 9022 0a20 2020 206c 696e 6532 203d 2022  .".    line2 = "
-0000fe00: e294 9422 202b 2063 6f72 6e65 722e 6a6f  ..." + corner.jo
-0000fe10: 696e 2822 e294 8022 2a28 6d61 785f 6c65  in("..."*(max_le
-0000fe20: 6e2b 3229 2066 6f72 206d 6178 5f6c 656e  n+2) for max_len
-0000fe30: 2069 6e20 6d61 785f 6c65 6e5f 6865 6164   in max_len_head
-0000fe40: 6572 7329 202b 2022 e294 9822 0a0a 2020  ers) + "..."..  
-0000fe50: 2020 2320 5072 696e 7420 7468 6520 7461    # Print the ta
-0000fe60: 626c 6520 6865 6164 6572 0a20 2020 2076  ble header.    v
-0000fe70: 6564 6f2e 7072 696e 7463 286c 696e 6531  edo.printc(line1
-0000fe80: 2c20 633d 6329 0a20 2020 2076 6564 6f2e  , c=c).    vedo.
-0000fe90: 7072 696e 7463 2868 6561 6465 722c 2063  printc(header, c
-0000fea0: 3d63 290a 2020 2020 7665 646f 2e70 7269  =c).    vedo.pri
-0000feb0: 6e74 6328 6c69 6e65 322c 2063 3d63 290a  ntc(line2, c=c).
-0000fec0: 0a20 2020 2023 2050 7269 6e74 2074 6865  .    # Print the
-0000fed0: 2064 6174 6120 726f 7773 0a20 2020 2066   data rows.    f
-0000fee0: 6f72 2072 6f77 2069 6e20 7a69 7028 2a63  or row in zip(*c
-0000fef0: 6f6c 756d 6e73 293a 0a20 2020 2020 2020  olumns):.       
-0000ff00: 2072 6f77 203d 2022 e294 8220 2220 2b20   row = "... " + 
-0000ff10: 2220 e294 8220 222e 6a6f 696e 2873 7472  " ... ".join(str
-0000ff20: 2863 6f6c 292e 6c6a 7573 7428 6d61 785f  (col).ljust(max_
-0000ff30: 6c65 6e29 2066 6f72 2063 6f6c 2c20 6d61  len) for col, ma
-0000ff40: 785f 6c65 6e20 696e 207a 6970 2872 6f77  x_len in zip(row
-0000ff50: 2c20 6d61 785f 6c65 6e5f 6865 6164 6572  , max_len_header
-0000ff60: 7329 2920 2b20 2220 e294 8222 0a20 2020  s)) + " ...".   
-0000ff70: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
-0000ff80: 2872 6f77 2c20 626f 6c64 3d46 616c 7365  (row, bold=False
-0000ff90: 2c20 633d 6329 0a0a 2020 2020 2320 5072  , c=c)..    # Pr
-0000ffa0: 696e 7420 7468 6520 6c69 6e65 2073 6570  int the line sep
-0000ffb0: 6172 6174 6f72 2061 6761 696e 2074 6f20  arator again to 
-0000ffc0: 636c 6f73 6520 7468 6520 7461 626c 650a  close the table.
-0000ffd0: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
-0000ffe0: 6c69 6e65 322c 2063 3d63 290a 0a0a 6465  line2, c=c)...de
-0000fff0: 6620 6d61 6b65 5f62 616e 6473 2869 6e70  f make_bands(inp
-00010000: 7574 6c69 7374 2c20 6e29 3a0a 2020 2020  utlist, n):.    
-00010010: 2222 220a 2020 2020 4772 6f75 7020 7661  """.    Group va
-00010020: 6c75 6573 206f 6620 6120 6c69 7374 2069  lues of a list i
-00010030: 6e74 6f20 6261 6e64 7320 6f66 2065 7175  nto bands of equ
-00010040: 616c 2076 616c 7565 2c20 7768 6572 650a  al value, where.
-00010050: 2020 2020 606e 6020 6973 2074 6865 206e      `n` is the n
-00010060: 756d 6265 7220 6f66 2062 616e 6473 2c20  umber of bands, 
-00010070: 6120 706f 7369 7469 7665 2069 6e74 6567  a positive integ
-00010080: 6572 203e 2032 2e0a 0a20 2020 2052 6574  er > 2...    Ret
-00010090: 7572 6e73 2061 2062 696e 6e65 6420 6c69  urns a binned li
-000100a0: 7374 206f 6620 7468 6520 7361 6d65 206c  st of the same l
-000100b0: 656e 6774 6820 6173 2074 6865 2069 6e70  ength as the inp
-000100c0: 7574 2e0a 2020 2020 2222 220a 2020 2020  ut..    """.    
-000100d0: 6966 206e 203c 2032 3a0a 2020 2020 2020  if n < 2:.      
-000100e0: 2020 7265 7475 726e 2069 6e70 7574 6c69    return inputli
-000100f0: 7374 0a20 2020 2076 6d69 6e20 3d20 6e70  st.    vmin = np
-00010100: 2e6d 696e 2869 6e70 7574 6c69 7374 290a  .min(inputlist).
-00010110: 2020 2020 766d 6178 203d 206e 702e 6d61      vmax = np.ma
-00010120: 7828 696e 7075 746c 6973 7429 0a20 2020  x(inputlist).   
-00010130: 2062 6220 3d20 6e70 2e6c 696e 7370 6163   bb = np.linspac
-00010140: 6528 766d 696e 2c20 766d 6178 2c20 6e2c  e(vmin, vmax, n,
-00010150: 2065 6e64 706f 696e 743d 3029 0a20 2020   endpoint=0).   
-00010160: 2064 7220 3d20 6262 5b31 5d20 2d20 6262   dr = bb[1] - bb
-00010170: 5b30 5d0a 2020 2020 6262 202b 3d20 6472  [0].    bb += dr
-00010180: 202f 2032 0a20 2020 2074 6f6c 203d 2064   / 2.    tol = d
-00010190: 7220 2f20 3220 2a20 312e 3030 310a 2020  r / 2 * 1.001.  
-000101a0: 2020 6e65 776c 6973 7420 3d20 5b5d 0a20    newlist = []. 
-000101b0: 2020 2066 6f72 2073 2069 6e20 696e 7075     for s in inpu
-000101c0: 746c 6973 743a 0a20 2020 2020 2020 2066  tlist:.        f
-000101d0: 6f72 2062 2069 6e20 6262 3a0a 2020 2020  or b in bb:.    
-000101e0: 2020 2020 2020 2020 6966 2061 6273 2873          if abs(s
-000101f0: 202d 2062 2920 3c20 746f 6c3a 0a20 2020   - b) < tol:.   
-00010200: 2020 2020 2020 2020 2020 2020 206e 6577               new
-00010210: 6c69 7374 2e61 7070 656e 6428 6229 0a20  list.append(b). 
-00010220: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00010230: 7265 616b 0a20 2020 2072 6574 7572 6e20  reak.    return 
-00010240: 6e70 2e61 7272 6179 286e 6577 6c69 7374  np.array(newlist
-00010250: 290a 0a0a 2323 2323 2323 2323 2323 2323  )...############
-00010260: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00010270: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00010280: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00010290: 2323 2323 230a 2320 4675 6e63 7469 6f6e  #####.# Function
-000102a0: 7320 6164 6170 7465 6420 6672 6f6d 3a0a  s adapted from:.
-000102b0: 2320 6874 7470 733a 2f2f 6769 7468 7562  # https://github
-000102c0: 2e63 6f6d 2f73 646f 726b 656e 772f 4d65  .com/sdorkenw/Me
-000102d0: 7368 5061 7274 792f 626c 6f62 2f6d 6173  shParty/blob/mas
-000102e0: 7465 722f 6d65 7368 7061 7274 792f 7472  ter/meshparty/tr
-000102f0: 696d 6573 685f 7674 6b2e 7079 0a64 6566  imesh_vtk.py.def
-00010300: 2063 616d 6572 615f 6672 6f6d 5f71 7561   camera_from_qua
-00010310: 7465 726e 696f 6e28 706f 732c 2071 7561  ternion(pos, qua
-00010320: 7465 726e 696f 6e2c 2064 6973 7461 6e63  ternion, distanc
-00010330: 653d 3130 3030 302c 206e 676c 5f63 6f72  e=10000, ngl_cor
-00010340: 7265 6374 3d54 7275 6529 3a0a 2020 2020  rect=True):.    
-00010350: 2222 220a 2020 2020 4465 6669 6e65 2061  """.    Define a
-00010360: 2060 7674 6b43 616d 6572 6160 2077 6974   `vtkCamera` wit
-00010370: 6820 6120 7061 7274 6963 756c 6172 206f  h a particular o
-00010380: 7269 656e 7461 7469 6f6e 2e0a 0a20 2020  rientation...   
-00010390: 2041 7267 756d 656e 7473 3a0a 2020 2020   Arguments:.    
-000103a0: 2020 2020 706f 733a 2028 6e70 2e61 7272      pos: (np.arr
-000103b0: 6179 2c20 6c69 7374 2c20 7475 706c 6529  ay, list, tuple)
-000103c0: 0a20 2020 2020 2020 2020 2020 2061 6e20  .            an 
-000103d0: 6974 6572 6174 6f72 206f 6620 6c65 6e67  iterator of leng
-000103e0: 7468 2033 2063 6f6e 7461 696e 696e 6720  th 3 containing 
-000103f0: 7468 6520 666f 6375 7320 706f 696e 7420  the focus point 
-00010400: 6f66 2074 6865 2063 616d 6572 610a 2020  of the camera.  
-00010410: 2020 2020 2020 7175 6174 6572 6e69 6f6e        quaternion
-00010420: 3a20 286e 702e 6172 7261 792c 206c 6973  : (np.array, lis
-00010430: 742c 2074 7570 6c65 290a 2020 2020 2020  t, tuple).      
-00010440: 2020 2020 2020 6120 6c65 6e28 3429 2071        a len(4) q
-00010450: 7561 7465 726e 696f 6e20 6028 782c 792c  uaternion `(x,y,
-00010460: 7a2c 7729 6020 6465 7363 7269 6269 6e67  z,w)` describing
-00010470: 2074 6865 2072 6f74 6174 696f 6e20 6f66   the rotation of
-00010480: 2074 6865 2063 616d 6572 610a 2020 2020   the camera.    
-00010490: 2020 2020 2020 2020 7375 6368 2061 7320          such as 
-000104a0: 7265 7475 726e 6564 2062 7920 6e65 7572  returned by neur
-000104b0: 6f67 6c61 6e63 6572 2060 782c 792c 7a2c  oglancer `x,y,z,
-000104c0: 7760 2061 6c6c 2069 6e20 605b 302c 315d  w` all in `[0,1]
-000104d0: 6020 7261 6e67 650a 2020 2020 2020 2020  ` range.        
-000104e0: 6469 7374 616e 6365 3a20 2866 6c6f 6174  distance: (float
-000104f0: 290a 2020 2020 2020 2020 2020 2020 7468  ).            th
-00010500: 6520 6465 7369 7265 6420 6469 7374 616e  e desired distan
-00010510: 6365 2066 726f 6d20 706f 7320 746f 2074  ce from pos to t
-00010520: 6865 2063 616d 6572 6120 2864 6566 6175  he camera (defau
-00010530: 6c74 203d 2031 3030 3030 206e 6d29 0a0a  lt = 10000 nm)..
-00010540: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00010550: 2020 2020 2060 7674 6b2e 7674 6b43 616d       `vtk.vtkCam
-00010560: 6572 6160 2c20 6120 7674 6b20 6361 6d65  era`, a vtk came
-00010570: 7261 2073 6574 7570 2061 6363 6f72 6469  ra setup accordi
-00010580: 6e67 2074 6f20 7468 6573 6520 7275 6c65  ng to these rule
-00010590: 732e 0a20 2020 2022 2222 0a20 2020 2063  s..    """.    c
-000105a0: 616d 6572 6120 3d20 7674 6b2e 7674 6b43  amera = vtk.vtkC
-000105b0: 616d 6572 6128 290a 2020 2020 2320 6465  amera().    # de
-000105c0: 6669 6e65 2074 6865 2071 7561 7465 726e  fine the quatern
-000105d0: 696f 6e20 696e 2076 746b 2c20 6e6f 7465  ion in vtk, note
-000105e0: 2074 6865 2073 7761 7070 6564 206f 7264   the swapped ord
-000105f0: 6572 0a20 2020 2023 2077 2c78 2c79 2c7a  er.    # w,x,y,z
-00010600: 2069 6e73 7465 6164 206f 6620 782c 792c   instead of x,y,
-00010610: 7a2c 770a 2020 2020 7175 6174 5f76 746b  z,w.    quat_vtk
-00010620: 203d 2076 746b 2e76 746b 5175 6174 6572   = vtk.vtkQuater
-00010630: 6e69 6f6e 6428 7175 6174 6572 6e69 6f6e  niond(quaternion
-00010640: 5b33 5d2c 2071 7561 7465 726e 696f 6e5b  [3], quaternion[
-00010650: 305d 2c20 7175 6174 6572 6e69 6f6e 5b31  0], quaternion[1
-00010660: 5d2c 2071 7561 7465 726e 696f 6e5b 325d  ], quaternion[2]
-00010670: 290a 2020 2020 2320 7573 6520 7468 6973  ).    # use this
-00010680: 2074 6f20 6465 6669 6e65 2061 2072 6f74   to define a rot
-00010690: 6174 696f 6e20 6d61 7472 6978 2069 6e20  ation matrix in 
-000106a0: 782c 792c 7a0a 2020 2020 2320 7269 6768  x,y,z.    # righ
-000106b0: 7420 6861 6e64 6564 2075 6e69 7473 0a20  t handed units. 
-000106c0: 2020 204d 203d 206e 702e 7a65 726f 7328     M = np.zeros(
-000106d0: 2833 2c20 3329 2c20 6474 7970 653d 6e70  (3, 3), dtype=np
-000106e0: 2e66 6c6f 6174 3332 290a 2020 2020 7175  .float32).    qu
-000106f0: 6174 5f76 746b 2e54 6f4d 6174 7269 7833  at_vtk.ToMatrix3
-00010700: 7833 284d 290a 2020 2020 2320 7468 6520  x3(M).    # the 
-00010710: 6465 6661 756c 7420 6361 6d65 7261 206f  default camera o
-00010720: 7269 656e 7461 7469 6f6e 2069 7320 7920  rientation is y 
-00010730: 7570 0a20 2020 2075 7020 3d20 5b30 2c20  up.    up = [0, 
-00010740: 312c 2030 5d0a 2020 2020 2320 6361 6c63  1, 0].    # calc
-00010750: 756c 6174 6520 6465 6661 756c 7420 6361  ulate default ca
-00010760: 6d65 7261 2070 6f73 6974 696f 6e20 6973  mera position is
-00010770: 2062 6163 6b65 6420 6f66 6620 696e 2070   backed off in p
-00010780: 6f73 6974 6976 6520 7a0a 2020 2020 706f  ositive z.    po
-00010790: 7320 3d20 5b30 2c20 302c 2064 6973 7461  s = [0, 0, dista
-000107a0: 6e63 655d 0a0a 2020 2020 2320 7365 7420  nce]..    # set 
-000107b0: 7468 6520 6361 6d65 7261 2072 6f74 6f74  the camera rotot
-000107c0: 6174 696f 6e20 6279 2061 7070 6c79 696e  ation by applyin
-000107d0: 6720 7468 6520 726f 7461 7469 6f6e 206d  g the rotation m
-000107e0: 6174 7269 780a 2020 2020 6361 6d65 7261  atrix.    camera
-000107f0: 2e53 6574 5669 6577 5570 282a 6e70 2e64  .SetViewUp(*np.d
-00010800: 6f74 284d 2c20 7570 2929 0a20 2020 2023  ot(M, up)).    #
-00010810: 2073 6574 2074 6865 2063 616d 6572 6120   set the camera 
-00010820: 706f 7369 7469 6f6e 2062 7920 6170 706c  position by appl
-00010830: 7969 6e67 2074 6865 2072 6f74 6174 696f  ying the rotatio
-00010840: 6e20 6d61 7472 6978 0a20 2020 2063 616d  n matrix.    cam
-00010850: 6572 612e 5365 7450 6f73 6974 696f 6e28  era.SetPosition(
-00010860: 2a6e 702e 646f 7428 4d2c 2070 6f73 2929  *np.dot(M, pos))
-00010870: 0a20 2020 2069 6620 6e67 6c5f 636f 7272  .    if ngl_corr
-00010880: 6563 743a 0a20 2020 2020 2020 2023 206e  ect:.        # n
-00010890: 6575 726f 676c 616e 6365 7220 6861 7320  euroglancer has 
-000108a0: 706f 7369 7469 7665 2079 2067 6f69 6e67  positive y going
-000108b0: 2064 6f77 6e0a 2020 2020 2020 2020 2320   down.        # 
-000108c0: 736f 2061 7070 6c79 2074 6865 7365 2061  so apply these a
-000108d0: 7a69 6d75 7468 2061 6e64 2072 6f6c 6c20  zimuth and roll 
-000108e0: 636f 7272 6563 7469 6f6e 730a 2020 2020  corrections.    
-000108f0: 2020 2020 2320 746f 2066 6978 206f 7269      # to fix ori
-00010900: 656e 7461 7469 6e73 0a20 2020 2020 2020  entatins.       
-00010910: 2063 616d 6572 612e 417a 696d 7574 6828   camera.Azimuth(
-00010920: 2d31 3830 290a 2020 2020 2020 2020 6361  -180).        ca
-00010930: 6d65 7261 2e52 6f6c 6c28 3138 3029 0a0a  mera.Roll(180)..
-00010940: 2020 2020 2320 7368 6966 7420 7468 6520      # shift the 
-00010950: 6361 6d65 7261 2070 6f73 6969 746f 6e20  camera posiiton 
-00010960: 616e 6420 666f 6361 6c20 706f 7369 7469  and focal positi
-00010970: 6f6e 0a20 2020 2023 2074 6f20 6265 2063  on.    # to be c
-00010980: 656e 7465 7265 6420 6f6e 2074 6865 2064  entered on the d
-00010990: 6573 6972 6564 206c 6f63 6174 696f 6e0a  esired location.
-000109a0: 2020 2020 7020 3d20 6361 6d65 7261 2e47      p = camera.G
-000109b0: 6574 506f 7369 7469 6f6e 2829 0a20 2020  etPosition().   
-000109c0: 2070 5f6e 6577 203d 206e 702e 6172 7261   p_new = np.arra
-000109d0: 7928 7029 202b 2070 6f73 0a20 2020 2063  y(p) + pos.    c
-000109e0: 616d 6572 612e 5365 7450 6f73 6974 696f  amera.SetPositio
-000109f0: 6e28 2a70 5f6e 6577 290a 2020 2020 6361  n(*p_new).    ca
-00010a00: 6d65 7261 2e53 6574 466f 6361 6c50 6f69  mera.SetFocalPoi
-00010a10: 6e74 282a 706f 7329 0a20 2020 2072 6574  nt(*pos).    ret
-00010a20: 7572 6e20 6361 6d65 7261 0a0a 0a64 6566  urn camera...def
-00010a30: 2063 616d 6572 615f 6672 6f6d 5f6e 6575   camera_from_neu
-00010a40: 726f 676c 616e 6365 7228 7374 6174 652c  roglancer(state,
-00010a50: 207a 6f6f 6d3d 3330 3029 3a0a 2020 2020   zoom=300):.    
-00010a60: 2222 220a 2020 2020 4465 6669 6e65 2061  """.    Define a
-00010a70: 2060 7674 6b43 616d 6572 6160 2066 726f   `vtkCamera` fro
-00010a80: 6d20 6120 6e65 7572 6f67 6c61 6e63 6572  m a neuroglancer
-00010a90: 2073 7461 7465 2064 6963 7469 6f6e 6172   state dictionar
-00010aa0: 792e 0a0a 2020 2020 4172 6775 6d65 6e74  y...    Argument
-00010ab0: 733a 0a20 2020 2020 2020 2073 7461 7465  s:.        state
-00010ac0: 3a20 2864 6963 7429 0a20 2020 2020 2020  : (dict).       
-00010ad0: 2020 2020 2061 6e20 6e65 7572 6f67 6c61       an neurogla
-00010ae0: 6e63 6572 2073 7461 7465 2064 6963 7469  ncer state dicti
-00010af0: 6f6e 6172 792e 0a20 2020 2020 2020 207a  onary..        z
-00010b00: 6f6f 6d3a 2028 666c 6f61 7429 0a20 2020  oom: (float).   
-00010b10: 2020 2020 2020 2020 2068 6f77 206d 7563           how muc
-00010b20: 6820 746f 206d 756c 7469 706c 7920 7a6f  h to multiply zo
-00010b30: 6f6d 2062 7920 746f 2067 6574 2063 616d  om by to get cam
-00010b40: 6572 6120 6261 636b 6f66 6620 6469 7374  era backoff dist
-00010b50: 616e 6365 0a20 2020 2020 2020 2020 2020  ance.           
-00010b60: 2064 6566 6175 6c74 203d 2033 3030 203e   default = 300 >
-00010b70: 206e 676c 5f7a 6f6f 6d20 3d20 3120 3e20   ngl_zoom = 1 > 
-00010b80: 3330 3020 6e6d 2062 6163 6b6f 6666 2064  300 nm backoff d
-00010b90: 6973 7461 6e63 652e 0a0a 2020 2020 5265  istance...    Re
-00010ba0: 7475 726e 733a 0a20 2020 2020 2020 2060  turns:.        `
-00010bb0: 7674 6b2e 7674 6b43 616d 6572 6160 2c20  vtk.vtkCamera`, 
-00010bc0: 6120 7674 6b20 6361 6d65 7261 2073 6574  a vtk camera set
-00010bd0: 7570 2074 6861 7420 6d61 7463 6865 7320  up that matches 
-00010be0: 7468 6973 2073 7461 7465 2e0a 2020 2020  this state..    
-00010bf0: 2222 220a 2020 2020 6f72 6965 6e74 203d  """.    orient =
-00010c00: 2073 7461 7465 2e67 6574 2822 7065 7273   state.get("pers
-00010c10: 7065 6374 6976 654f 7269 656e 7461 7469  pectiveOrientati
-00010c20: 6f6e 222c 205b 302e 302c 2030 2e30 2c20  on", [0.0, 0.0, 
-00010c30: 302e 302c 2031 2e30 5d29 0a20 2020 2070  0.0, 1.0]).    p
-00010c40: 7a6f 6f6d 203d 2073 7461 7465 2e67 6574  zoom = state.get
-00010c50: 2822 7065 7273 7065 6374 6976 655a 6f6f  ("perspectiveZoo
-00010c60: 6d22 2c20 3130 2e30 290a 2020 2020 706f  m", 10.0).    po
-00010c70: 7369 7469 6f6e 203d 2073 7461 7465 5b22  sition = state["
-00010c80: 6e61 7669 6761 7469 6f6e 225d 5b22 706f  navigation"]["po
-00010c90: 7365 225d 5b22 706f 7369 7469 6f6e 225d  se"]["position"]
-00010ca0: 0a20 2020 2070 6f73 5f6e 6d20 3d20 6e70  .    pos_nm = np
-00010cb0: 2e61 7272 6179 2870 6f73 6974 696f 6e5b  .array(position[
-00010cc0: 2276 6f78 656c 436f 6f72 6469 6e61 7465  "voxelCoordinate
-00010cd0: 7322 5d29 202a 2070 6f73 6974 696f 6e5b  s"]) * position[
-00010ce0: 2276 6f78 656c 5369 7a65 225d 0a20 2020  "voxelSize"].   
-00010cf0: 2072 6574 7572 6e20 6361 6d65 7261 5f66   return camera_f
-00010d00: 726f 6d5f 7175 6174 6572 6e69 6f6e 2870  rom_quaternion(p
-00010d10: 6f73 5f6e 6d2c 206f 7269 656e 742c 2070  os_nm, orient, p
-00010d20: 7a6f 6f6d 202a 207a 6f6f 6d2c 206e 676c  zoom * zoom, ngl
-00010d30: 5f63 6f72 7265 6374 3d54 7275 6529 0a0a  _correct=True)..
-00010d40: 0a64 6566 206f 7269 656e 7465 645f 6361  .def oriented_ca
-00010d50: 6d65 7261 280a 2020 2020 6365 6e74 6572  mera(.    center
-00010d60: 3d28 302c 2030 2c20 3029 2c20 7570 5f76  =(0, 0, 0), up_v
-00010d70: 6563 746f 723d 2830 2c20 312c 2030 292c  ector=(0, 1, 0),
-00010d80: 2062 6163 6b6f 6666 5f76 6563 746f 723d   backoff_vector=
-00010d90: 2830 2c20 302c 2031 292c 2062 6163 6b6f  (0, 0, 1), backo
-00010da0: 6666 3d31 0a29 3a0a 2020 2020 2222 220a  ff=1.):.    """.
-00010db0: 2020 2020 4765 6e65 7261 7465 2061 2060      Generate a `
-00010dc0: 7674 6b43 616d 6572 6160 2070 6f69 6e74  vtkCamera` point
-00010dd0: 6564 2061 7420 6120 7370 6563 6966 6963  ed at a specific
-00010de0: 206c 6f63 6174 696f 6e2c 0a20 2020 206f   location,.    o
-00010df0: 7269 656e 7465 6420 7769 7468 2061 2067  riented with a g
-00010e00: 6976 656e 2075 7020 6469 7265 6374 696f  iven up directio
-00010e10: 6e2c 2073 6574 2074 6f20 6120 6261 636b  n, set to a back
-00010e20: 6f66 662e 0a20 2020 2022 2222 0a20 2020  off..    """.   
-00010e30: 2076 7570 203d 206e 702e 6172 7261 7928   vup = np.array(
-00010e40: 7570 5f76 6563 746f 7229 0a20 2020 2076  up_vector).    v
-00010e50: 7570 203d 2076 7570 202f 206e 702e 6c69  up = vup / np.li
-00010e60: 6e61 6c67 2e6e 6f72 6d28 7675 7029 0a20  nalg.norm(vup). 
-00010e70: 2020 2070 745f 6261 636b 6f66 6620 3d20     pt_backoff = 
-00010e80: 6365 6e74 6572 202d 2062 6163 6b6f 6666  center - backoff
-00010e90: 202a 206e 702e 6172 7261 7928 6261 636b   * np.array(back
-00010ea0: 6f66 665f 7665 6374 6f72 290a 2020 2020  off_vector).    
-00010eb0: 6361 6d65 7261 203d 2076 746b 2e76 746b  camera = vtk.vtk
-00010ec0: 4361 6d65 7261 2829 0a20 2020 2063 616d  Camera().    cam
-00010ed0: 6572 612e 5365 7446 6f63 616c 506f 696e  era.SetFocalPoin
-00010ee0: 7428 6365 6e74 6572 5b30 5d2c 2063 656e  t(center[0], cen
-00010ef0: 7465 725b 315d 2c20 6365 6e74 6572 5b32  ter[1], center[2
-00010f00: 5d29 0a20 2020 2063 616d 6572 612e 5365  ]).    camera.Se
-00010f10: 7456 6965 7755 7028 7675 705b 305d 2c20  tViewUp(vup[0], 
-00010f20: 7675 705b 315d 2c20 7675 705b 325d 290a  vup[1], vup[2]).
-00010f30: 2020 2020 6361 6d65 7261 2e53 6574 506f      camera.SetPo
-00010f40: 7369 7469 6f6e 2870 745f 6261 636b 6f66  sition(pt_backof
-00010f50: 665b 305d 2c20 7074 5f62 6163 6b6f 6666  f[0], pt_backoff
-00010f60: 5b31 5d2c 2070 745f 6261 636b 6f66 665b  [1], pt_backoff[
-00010f70: 325d 290a 2020 2020 7265 7475 726e 2063  2]).    return c
-00010f80: 616d 6572 610a 0a0a 6465 6620 6361 6d65  amera...def came
-00010f90: 7261 5f66 726f 6d5f 6469 6374 2863 616d  ra_from_dict(cam
-00010fa0: 6572 612c 206d 6f64 6966 795f 696e 706c  era, modify_inpl
-00010fb0: 6163 653d 4e6f 6e65 293a 0a20 2020 2022  ace=None):.    "
-00010fc0: 2222 0a20 2020 2047 656e 6572 6174 6520  "".    Generate 
-00010fd0: 6120 6076 746b 4361 6d65 7261 6020 6672  a `vtkCamera` fr
-00010fe0: 6f6d 2061 2064 6963 7469 6f6e 6172 792e  om a dictionary.
-00010ff0: 0a20 2020 2022 2222 0a20 2020 2069 6620  .    """.    if 
-00011000: 6d6f 6469 6679 5f69 6e70 6c61 6365 3a0a  modify_inplace:.
-00011010: 2020 2020 2020 2020 7663 616d 203d 206d          vcam = m
-00011020: 6f64 6966 795f 696e 706c 6163 650a 2020  odify_inplace.  
-00011030: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00011040: 7663 616d 203d 2076 746b 2e76 746b 4361  vcam = vtk.vtkCa
-00011050: 6d65 7261 2829 0a0a 2020 2020 6361 6d65  mera()..    came
-00011060: 7261 203d 2064 6963 7428 6361 6d65 7261  ra = dict(camera
-00011070: 2920 2023 206d 616b 6520 6120 636f 7079  )  # make a copy
-00011080: 2073 6f20 696e 7075 7420 6973 206e 6f74   so input is not
-00011090: 2065 6d70 7469 6564 2062 7920 706f 7028   emptied by pop(
-000110a0: 290a 2020 2020 636d 5f70 6f73 203d 2063  ).    cm_pos = c
-000110b0: 616d 6572 612e 706f 7028 2270 6f73 6974  amera.pop("posit
-000110c0: 696f 6e22 2c20 6361 6d65 7261 2e70 6f70  ion", camera.pop
-000110d0: 2822 706f 7322 2c20 4e6f 6e65 2929 0a20  ("pos", None)). 
-000110e0: 2020 2063 6d5f 666f 6361 6c5f 706f 696e     cm_focal_poin
-000110f0: 7420 3d20 6361 6d65 7261 2e70 6f70 2822  t = camera.pop("
-00011100: 666f 6361 6c5f 706f 696e 7422 2c20 6361  focal_point", ca
-00011110: 6d65 7261 2e70 6f70 2822 666f 6361 6c50  mera.pop("focalP
-00011120: 6f69 6e74 222c 204e 6f6e 6529 290a 2020  oint", None)).  
-00011130: 2020 636d 5f76 6965 7775 7020 3d20 6361    cm_viewup = ca
-00011140: 6d65 7261 2e70 6f70 2822 7669 6577 7570  mera.pop("viewup
-00011150: 222c 204e 6f6e 6529 0a20 2020 2063 6d5f  ", None).    cm_
-00011160: 6469 7374 616e 6365 203d 2063 616d 6572  distance = camer
-00011170: 612e 706f 7028 2264 6973 7461 6e63 6522  a.pop("distance"
-00011180: 2c20 4e6f 6e65 290a 2020 2020 636d 5f63  , None).    cm_c
-00011190: 6c69 7070 696e 675f 7261 6e67 6520 3d20  lipping_range = 
-000111a0: 6361 6d65 7261 2e70 6f70 2822 636c 6970  camera.pop("clip
-000111b0: 7069 6e67 5f72 616e 6765 222c 2063 616d  ping_range", cam
-000111c0: 6572 612e 706f 7028 2263 6c69 7070 696e  era.pop("clippin
-000111d0: 6752 616e 6765 222c 204e 6f6e 6529 290a  gRange", None)).
-000111e0: 2020 2020 636d 5f70 6172 616c 6c65 6c5f      cm_parallel_
-000111f0: 7363 616c 6520 3d20 6361 6d65 7261 2e70  scale = camera.p
-00011200: 6f70 2822 7061 7261 6c6c 656c 5f73 6361  op("parallel_sca
-00011210: 6c65 222c 2063 616d 6572 612e 706f 7028  le", camera.pop(
-00011220: 2270 6172 616c 6c65 6c53 6361 6c65 222c  "parallelScale",
-00011230: 204e 6f6e 6529 290a 2020 2020 636d 5f74   None)).    cm_t
-00011240: 6869 636b 6e65 7373 203d 2063 616d 6572  hickness = camer
-00011250: 612e 706f 7028 2274 6869 636b 6e65 7373  a.pop("thickness
-00011260: 222c 204e 6f6e 6529 0a20 2020 2063 6d5f  ", None).    cm_
-00011270: 7669 6577 5f61 6e67 6c65 203d 2063 616d  view_angle = cam
-00011280: 6572 612e 706f 7028 2276 6965 775f 616e  era.pop("view_an
-00011290: 676c 6522 2c20 6361 6d65 7261 2e70 6f70  gle", camera.pop
-000112a0: 2822 7669 6577 416e 676c 6522 2c20 4e6f  ("viewAngle", No
-000112b0: 6e65 2929 0a20 2020 2069 6620 6c65 6e28  ne)).    if len(
-000112c0: 6361 6d65 7261 2e6b 6579 7328 2929 3a0a  camera.keys()):.
-000112d0: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
-000112e0: 6765 722e 7761 726e 696e 6728 6622 696e  ger.warning(f"in
-000112f0: 2063 616d 6572 615f 6672 6f6d 5f64 6963   camera_from_dic
-00011300: 742c 206b 6579 2873 2920 6e6f 7420 7265  t, key(s) not re
-00011310: 636f 676e 697a 6564 3a20 7b63 616d 6572  cognized: {camer
-00011320: 612e 6b65 7973 2829 7d22 290a 2020 2020  a.keys()}").    
-00011330: 6966 2063 6d5f 706f 7320 6973 206e 6f74  if cm_pos is not
-00011340: 204e 6f6e 653a 2020 2020 2020 2020 2020   None:          
-00011350: 2020 7663 616d 2e53 6574 506f 7369 7469    vcam.SetPositi
-00011360: 6f6e 2863 6d5f 706f 7329 0a20 2020 2069  on(cm_pos).    i
-00011370: 6620 636d 5f66 6f63 616c 5f70 6f69 6e74  f cm_focal_point
-00011380: 2069 7320 6e6f 7420 4e6f 6e65 3a20 2020   is not None:   
-00011390: 2076 6361 6d2e 5365 7446 6f63 616c 506f   vcam.SetFocalPo
-000113a0: 696e 7428 636d 5f66 6f63 616c 5f70 6f69  int(cm_focal_poi
-000113b0: 6e74 290a 2020 2020 6966 2063 6d5f 7669  nt).    if cm_vi
-000113c0: 6577 7570 2069 7320 6e6f 7420 4e6f 6e65  ewup is not None
-000113d0: 3a20 2020 2020 2020 2020 7663 616d 2e53  :         vcam.S
-000113e0: 6574 5669 6577 5570 2863 6d5f 7669 6577  etViewUp(cm_view
-000113f0: 7570 290a 2020 2020 6966 2063 6d5f 6469  up).    if cm_di
-00011400: 7374 616e 6365 2069 7320 6e6f 7420 4e6f  stance is not No
-00011410: 6e65 3a20 2020 2020 2020 7663 616d 2e53  ne:       vcam.S
-00011420: 6574 4469 7374 616e 6365 2863 6d5f 6469  etDistance(cm_di
-00011430: 7374 616e 6365 290a 2020 2020 6966 2063  stance).    if c
-00011440: 6d5f 636c 6970 7069 6e67 5f72 616e 6765  m_clipping_range
-00011450: 2069 7320 6e6f 7420 4e6f 6e65 3a20 7663   is not None: vc
-00011460: 616d 2e53 6574 436c 6970 7069 6e67 5261  am.SetClippingRa
-00011470: 6e67 6528 636d 5f63 6c69 7070 696e 675f  nge(cm_clipping_
-00011480: 7261 6e67 6529 0a20 2020 2069 6620 636d  range).    if cm
-00011490: 5f70 6172 616c 6c65 6c5f 7363 616c 6520  _parallel_scale 
-000114a0: 6973 206e 6f74 204e 6f6e 653a 2076 6361  is not None: vca
-000114b0: 6d2e 5365 7450 6172 616c 6c65 6c53 6361  m.SetParallelSca
-000114c0: 6c65 2863 6d5f 7061 7261 6c6c 656c 5f73  le(cm_parallel_s
-000114d0: 6361 6c65 290a 2020 2020 6966 2063 6d5f  cale).    if cm_
-000114e0: 7468 6963 6b6e 6573 7320 6973 206e 6f74  thickness is not
-000114f0: 204e 6f6e 653a 2020 2020 2020 7663 616d   None:      vcam
-00011500: 2e53 6574 5468 6963 6b6e 6573 7328 636d  .SetThickness(cm
-00011510: 5f74 6869 636b 6e65 7373 290a 2020 2020  _thickness).    
-00011520: 6966 2063 6d5f 7669 6577 5f61 6e67 6c65  if cm_view_angle
-00011530: 2069 7320 6e6f 7420 4e6f 6e65 3a20 2020   is not None:   
-00011540: 2020 7663 616d 2e53 6574 5669 6577 416e    vcam.SetViewAn
-00011550: 676c 6528 636d 5f76 6965 775f 616e 676c  gle(cm_view_angl
-00011560: 6529 0a20 2020 2072 6574 7572 6e20 7663  e).    return vc
-00011570: 616d 0a0a 0a64 6566 2076 746b 4361 6d65  am...def vtkCame
-00011580: 7261 546f 4b33 4428 7674 6b63 616d 293a  raToK3D(vtkcam):
-00011590: 0a20 2020 2022 2222 0a20 2020 2043 6f6e  .    """.    Con
-000115a0: 7665 7274 2061 2060 7674 6b43 616d 6572  vert a `vtkCamer
-000115b0: 6160 206f 626a 6563 7420 696e 746f 2061  a` object into a
-000115c0: 2039 2d65 6c65 6d65 6e74 206c 6973 7420   9-element list 
-000115d0: 746f 2062 6520 7573 6564 2062 7920 7468  to be used by th
-000115e0: 6520 4b33 4420 6261 636b 656e 642e 0a0a  e K3D backend...
-000115f0: 2020 2020 4f75 7470 7574 2066 6f72 6d61      Output forma
-00011600: 7420 6973 3a0a 2020 2020 2020 2020 605b  t is:.        `[
-00011610: 706f 7378 2c70 6f73 792c 706f 737a 2c20  posx,posy,posz, 
-00011620: 7461 7267 6574 782c 7461 7267 6574 792c  targetx,targety,
-00011630: 7461 7267 6574 7a2c 2075 7078 2c75 7079  targetz, upx,upy
-00011640: 2c75 707a 5d60 2e0a 2020 2020 2222 220a  ,upz]`..    """.
-00011650: 2020 2020 6370 6f73 203d 206e 702e 6172      cpos = np.ar
-00011660: 7261 7928 7674 6b63 616d 2e47 6574 506f  ray(vtkcam.GetPo
-00011670: 7369 7469 6f6e 2829 290a 2020 2020 6b61  sition()).    ka
-00011680: 6d20 3d20 5b63 706f 732e 746f 6c69 7374  m = [cpos.tolist
-00011690: 2829 5d0a 2020 2020 6b61 6d2e 6170 7065  ()].    kam.appe
-000116a0: 6e64 2876 746b 6361 6d2e 4765 7446 6f63  nd(vtkcam.GetFoc
-000116b0: 616c 506f 696e 7428 2929 0a20 2020 206b  alPoint()).    k
-000116c0: 616d 2e61 7070 656e 6428 7674 6b63 616d  am.append(vtkcam
-000116d0: 2e47 6574 5669 6577 5570 2829 290a 2020  .GetViewUp()).  
-000116e0: 2020 7265 7475 726e 206e 702e 6172 7261    return np.arra
-000116f0: 7928 6b61 6d29 2e72 6176 656c 2829 0a0a  y(kam).ravel()..
-00011700: 0a64 6566 206d 616b 655f 7469 636b 7328  .def make_ticks(
-00011710: 7830 2c20 7831 2c20 6e3d 4e6f 6e65 2c20  x0, x1, n=None, 
-00011720: 6c61 6265 6c73 3d4e 6f6e 652c 2064 6967  labels=None, dig
-00011730: 6974 733d 4e6f 6e65 2c20 6c6f 6773 6361  its=None, logsca
-00011740: 6c65 3d46 616c 7365 2c20 7573 6566 6f72  le=False, usefor
-00011750: 6d61 743d 2222 293a 0a20 2020 2022 2222  mat=""):.    """
-00011760: 0a20 2020 2047 656e 6572 6174 6520 6e75  .    Generate nu
-00011770: 6d65 7269 6320 6c61 6265 6c73 2066 6f72  meric labels for
-00011780: 2074 6865 2060 5b78 302c 2078 315d 6020   the `[x0, x1]` 
-00011790: 7261 6e67 652e 0a0a 2020 2020 5468 6520  range...    The 
-000117a0: 666f 726d 6174 2073 7065 6369 6669 6572  format specifier
-000117b0: 2063 6f75 6c64 2062 6520 6578 7072 6573   could be expres
-000117c0: 7365 6420 696e 2074 6865 2066 6f72 6d61  sed in the forma
-000117d0: 743a 0a20 2020 2020 2020 2060 3a5b 5b66  t:.        `:[[f
-000117e0: 696c 6c5d 616c 6967 6e5d 5b73 6967 6e5d  ill]align][sign]
-000117f0: 5b23 5d5b 305d 5b77 6964 7468 5d5b 2c5d  [#][0][width][,]
-00011800: 5b2e 7072 6563 6973 696f 6e5d 5b74 7970  [.precision][typ
-00011810: 655d 600a 0a20 2020 2077 6865 7265 2c20  e]`..    where, 
-00011820: 7468 6520 6f70 7469 6f6e 7320 6172 653a  the options are:
-00011830: 0a20 2020 2060 6060 0a20 2020 2066 696c  .    ```.    fil
-00011840: 6c20 2020 2020 2020 203d 2020 616e 7920  l        =  any 
-00011850: 6368 6172 6163 7465 720a 2020 2020 616c  character.    al
-00011860: 6967 6e20 2020 2020 2020 3d20 203c 207c  ign       =  < |
-00011870: 203e 207c 203d 207c 205e 0a20 2020 2073   > | = | ^.    s
-00011880: 6967 6e20 2020 2020 2020 203d 2020 2b20  ign        =  + 
-00011890: 7c20 2d20 7c20 2220 220a 2020 2020 7769  | - | " ".    wi
-000118a0: 6474 6820 2020 2020 2020 3d20 2069 6e74  dth       =  int
-000118b0: 6567 6572 0a20 2020 2070 7265 6369 7369  eger.    precisi
-000118c0: 6f6e 2020 203d 2020 696e 7465 6765 720a  on   =  integer.
-000118d0: 2020 2020 7479 7065 2020 2020 2020 2020      type        
-000118e0: 3d20 2062 207c 2063 207c 2064 207c 2065  =  b | c | d | e
-000118f0: 207c 2045 207c 2066 207c 2046 207c 2067   | E | f | F | g
-00011900: 207c 2047 207c 206e 207c 206f 207c 2073   | G | n | o | s
-00011910: 207c 2078 207c 2058 207c 2025 0a20 2020   | x | X | %.   
-00011920: 2060 6060 0a0a 2020 2020 452e 672e 3a20   ```..    E.g.: 
-00011930: 7573 6566 6f72 6d61 743d 223a 2e32 6622  useformat=":.2f"
-00011940: 0a20 2020 2022 2222 0a20 2020 2023 2043  .    """.    # C
-00011950: 6f70 7972 6967 6874 204d 2e20 4d75 7379  opyright M. Musy
-00011960: 2c20 3230 3231 2c20 6c69 6365 6e73 653a  , 2021, license:
-00011970: 204d 4954 2e0a 2020 2020 230a 2020 2020   MIT..    #.    
-00011980: 2320 7573 6566 6f72 6d61 7420 6567 3a20  # useformat eg: 
-00011990: 223a 2e32 6622 2c20 6368 6563 6b20 6f75  ":.2f", check ou
-000119a0: 743a 0a20 2020 2023 2068 7474 7073 3a2f  t:.    # https:/
-000119b0: 2f6d 6b61 7a2e 626c 6f67 2f63 6f64 652f  /mkaz.blog/code/
-000119c0: 7079 7468 6f6e 2d73 7472 696e 672d 666f  python-string-fo
-000119d0: 726d 6174 2d63 6f6f 6b62 6f6f 6b2f 0a20  rmat-cookbook/. 
-000119e0: 2020 2023 2068 7474 7073 3a2f 2f77 7777     # https://www
-000119f0: 2e70 726f 6772 616d 697a 2e63 6f6d 2f70  .programiz.com/p
-00011a00: 7974 686f 6e2d 7072 6f67 7261 6d6d 696e  ython-programmin
-00011a10: 672f 6d65 7468 6f64 732f 6275 696c 742d  g/methods/built-
-00011a20: 696e 2f66 6f72 6d61 740a 0a20 2020 2069  in/format..    i
-00011a30: 6620 7831 203c 3d20 7830 3a0a 2020 2020  f x1 <= x0:.    
-00011a40: 2020 2020 2320 7665 646f 2e70 7269 6e74      # vedo.print
-00011a50: 6328 2245 7272 6f72 2069 6e20 6d61 6b65  c("Error in make
-00011a60: 5f74 6963 6b73 2829 3a20 7830 203e 3d20  _ticks(): x0 >= 
-00011a70: 7831 222c 2078 302c 7831 2c20 633d 2772  x1", x0,x1, c='r
-00011a80: 2729 0a20 2020 2020 2020 2072 6574 7572  ').        retur
-00011a90: 6e20 6e70 2e61 7272 6179 285b 302e 302c  n np.array([0.0,
-00011aa0: 2031 2e30 5d29 2c20 5b22 222c 2022 225d   1.0]), ["", ""]
-00011ab0: 0a0a 2020 2020 7469 636b 735f 7374 722c  ..    ticks_str,
-00011ac0: 2074 6963 6b73 5f66 6c6f 6174 203d 205b   ticks_float = [
-00011ad0: 5d2c 205b 5d0a 2020 2020 6261 7365 6c69  ], [].    baseli
-00011ae0: 6e65 203d 2028 312c 2032 2c20 352c 2031  ne = (1, 2, 5, 1
-00011af0: 302c 2032 302c 2035 3029 0a0a 2020 2020  0, 20, 50)..    
-00011b00: 6966 206c 6f67 7363 616c 653a 0a20 2020  if logscale:.   
-00011b10: 2020 2020 2069 6620 7830 203c 3d20 3020       if x0 <= 0 
-00011b20: 6f72 2078 3120 3c3d 2030 3a0a 2020 2020  or x1 <= 0:.    
-00011b30: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
-00011b40: 6765 722e 6572 726f 7228 226d 616b 655f  ger.error("make_
-00011b50: 7469 636b 733a 207a 6572 6f20 6f72 206e  ticks: zero or n
-00011b60: 6567 6174 6976 6520 7261 6e67 6520 7769  egative range wi
-00011b70: 7468 206c 6f67 2073 6361 6c65 2e22 290a  th log scale.").
-00011b80: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00011b90: 6520 5275 6e74 696d 6545 7272 6f72 0a20  e RuntimeError. 
-00011ba0: 2020 2020 2020 2069 6620 6e20 6973 204e         if n is N
-00011bb0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00011bc0: 206e 203d 2069 6e74 2861 6273 286e 702e   n = int(abs(np.
-00011bd0: 6c6f 6731 3028 7831 2920 2d20 6e70 2e6c  log10(x1) - np.l
-00011be0: 6f67 3130 2878 3029 2929 202b 2031 0a20  og10(x0))) + 1. 
-00011bf0: 2020 2020 2020 2078 302c 2078 3120 3d20         x0, x1 = 
-00011c00: 6e70 2e6c 6f67 3130 285b 7830 2c20 7831  np.log10([x0, x1
-00011c10: 5d29 0a0a 2020 2020 6966 206e 6f74 206e  ])..    if not n
-00011c20: 3a0a 2020 2020 2020 2020 6e20 3d20 350a  :.        n = 5.
-00011c30: 0a20 2020 2069 6620 6c61 6265 6c73 2069  .    if labels i
-00011c40: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00011c50: 2020 2020 2320 7573 6572 2069 7320 7061      # user is pa
-00011c60: 7373 696e 6720 6375 7374 6f6d 206c 6162  ssing custom lab
-00011c70: 656c 730a 0a20 2020 2020 2020 2074 6963  els..        tic
-00011c80: 6b73 5f66 6c6f 6174 2e61 7070 656e 6428  ks_float.append(
-00011c90: 3029 0a20 2020 2020 2020 2074 6963 6b73  0).        ticks
-00011ca0: 5f73 7472 2e61 7070 656e 6428 2222 290a  _str.append("").
-00011cb0: 2020 2020 2020 2020 666f 7220 7470 2c20          for tp, 
-00011cc0: 7473 2069 6e20 6c61 6265 6c73 3a0a 2020  ts in labels:.  
-00011cd0: 2020 2020 2020 2020 2020 6966 2074 7020            if tp 
-00011ce0: 3d3d 2078 313a 0a20 2020 2020 2020 2020  == x1:.         
-00011cf0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-00011d00: 2020 2020 2020 2020 2020 2020 7469 636b              tick
-00011d10: 735f 7374 722e 6170 7065 6e64 2873 7472  s_str.append(str
-00011d20: 2874 7329 290a 2020 2020 2020 2020 2020  (ts)).          
-00011d30: 2020 7469 636b 6e20 3d20 6c69 6e5f 696e    tickn = lin_in
-00011d40: 7465 7270 6f6c 6174 6528 7470 2c20 5b78  terpolate(tp, [x
-00011d50: 302c 2078 315d 2c20 5b30 2c20 315d 290a  0, x1], [0, 1]).
-00011d60: 2020 2020 2020 2020 2020 2020 7469 636b              tick
-00011d70: 735f 666c 6f61 742e 6170 7065 6e64 2874  s_float.append(t
-00011d80: 6963 6b6e 290a 0a20 2020 2065 6c73 653a  ickn)..    else:
-00011d90: 0a20 2020 2020 2020 2023 202e 2e68 6572  .        # ..her
-00011da0: 6520 636f 6d65 7320 6f6e 6520 6f66 2074  e comes one of t
-00011db0: 6865 2073 686f 7274 6573 7420 616e 6420  he shortest and 
-00011dc0: 6d6f 7374 2070 6169 6e66 756c 2070 6965  most painful pie
-00011dd0: 6365 7320 6f66 2063 6f64 653a 0a20 2020  ces of code:.   
-00011de0: 2020 2020 2023 2061 7574 6f6d 6174 6963       # automatic
-00011df0: 616c 6c79 2063 686f 6f73 6520 7468 6520  ally choose the 
-00011e00: 6265 7374 206e 6174 7572 616c 2061 7869  best natural axi
-00011e10: 7320 7375 6264 6976 6973 696f 6e20 6261  s subdivision ba
-00011e20: 7365 6420 6f6e 206d 756c 7469 706c 6573  sed on multiples
-00011e30: 206f 6620 312c 322c 350a 2020 2020 2020   of 1,2,5.      
-00011e40: 2020 6473 7465 7020 3d20 2878 3120 2d20    dstep = (x1 - 
-00011e50: 7830 2920 2f20 6e20 2023 2064 6573 6972  x0) / n  # desir
-00011e60: 6564 2073 7465 7020 7369 7a65 2c20 6265  ed step size, be
-00011e70: 6769 6e20 6f66 2074 6865 206e 6967 6874  gin of the night
-00011e80: 6d61 7265 0a0a 2020 2020 2020 2020 6261  mare..        ba
-00011e90: 7365 7374 6570 203d 2070 6f77 2831 302c  sestep = pow(10,
-00011ea0: 206e 702e 666c 6f6f 7228 6e70 2e6c 6f67   np.floor(np.log
-00011eb0: 3130 2864 7374 6570 2929 290a 2020 2020  10(dstep))).    
-00011ec0: 2020 2020 7374 6570 7320 3d20 6e70 2e61      steps = np.a
-00011ed0: 7272 6179 285b 6261 7365 7374 6570 202a  rray([basestep *
-00011ee0: 2069 2066 6f72 2069 2069 6e20 6261 7365   i for i in base
-00011ef0: 6c69 6e65 5d29 0a20 2020 2020 2020 2069  line]).        i
-00011f00: 6478 203d 2028 6e70 2e61 6273 2873 7465  dx = (np.abs(ste
-00011f10: 7073 202d 2064 7374 6570 2929 2e61 7267  ps - dstep)).arg
-00011f20: 6d69 6e28 290a 2020 2020 2020 2020 7320  min().        s 
-00011f30: 3d20 7374 6570 735b 6964 785d 2020 2320  = steps[idx]  # 
-00011f40: 6368 6f73 656e 2073 7465 7020 7369 7a65  chosen step size
-00011f50: 0a0a 2020 2020 2020 2020 6c6f 775f 626f  ..        low_bo
-00011f60: 756e 642c 2075 705f 626f 756e 6420 3d20  und, up_bound = 
-00011f70: 302c 2030 0a20 2020 2020 2020 2069 6620  0, 0.        if 
-00011f80: 7830 203c 2030 3a0a 2020 2020 2020 2020  x0 < 0:.        
-00011f90: 2020 2020 6c6f 775f 626f 756e 6420 3d20      low_bound = 
-00011fa0: 2d70 6f77 2831 302c 206e 702e 6365 696c  -pow(10, np.ceil
-00011fb0: 286e 702e 6c6f 6731 3028 2d78 3029 2929  (np.log10(-x0)))
-00011fc0: 0a20 2020 2020 2020 2069 6620 7831 203e  .        if x1 >
-00011fd0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-00011fe0: 7570 5f62 6f75 6e64 203d 2070 6f77 2831  up_bound = pow(1
-00011ff0: 302c 206e 702e 6365 696c 286e 702e 6c6f  0, np.ceil(np.lo
-00012000: 6731 3028 7831 2929 290a 0a20 2020 2020  g10(x1)))..     
-00012010: 2020 2069 6620 6c6f 775f 626f 756e 6420     if low_bound 
-00012020: 3c20 303a 0a20 2020 2020 2020 2020 2020  < 0:.           
-00012030: 2069 6620 7570 5f62 6f75 6e64 203c 2030   if up_bound < 0
-00012040: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012050: 2020 6e65 6761 7869 7320 3d20 6e70 2e61    negaxis = np.a
-00012060: 7261 6e67 6528 6c6f 775f 626f 756e 642c  range(low_bound,
-00012070: 2069 6e74 2875 705f 626f 756e 6420 2f20   int(up_bound / 
-00012080: 7329 202a 2073 290a 2020 2020 2020 2020  s) * s).        
-00012090: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000120a0: 2020 2020 2020 2020 2020 6966 202d 6c6f            if -lo
-000120b0: 775f 626f 756e 6420 2f20 7320 3e20 312e  w_bound / s > 1.
-000120c0: 3065 3036 3a0a 2020 2020 2020 2020 2020  0e06:.          
-000120d0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000120e0: 206e 702e 6172 7261 7928 5b30 2e30 2c20   np.array([0.0, 
-000120f0: 312e 305d 292c 205b 2222 2c20 2222 5d0a  1.0]), ["", ""].
-00012100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012110: 6e65 6761 7869 7320 3d20 6e70 2e61 7261  negaxis = np.ara
-00012120: 6e67 6528 6c6f 775f 626f 756e 642c 2030  nge(low_bound, 0
-00012130: 2c20 7329 0a20 2020 2020 2020 2065 6c73  , s).        els
-00012140: 653a 0a20 2020 2020 2020 2020 2020 206e  e:.            n
-00012150: 6567 6178 6973 203d 206e 702e 6172 7261  egaxis = np.arra
-00012160: 7928 5b5d 290a 0a20 2020 2020 2020 2069  y([])..        i
-00012170: 6620 7570 5f62 6f75 6e64 203e 2030 3a0a  f up_bound > 0:.
-00012180: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-00012190: 6f77 5f62 6f75 6e64 203e 2030 3a0a 2020  ow_bound > 0:.  
-000121a0: 2020 2020 2020 2020 2020 2020 2020 706f                po
-000121b0: 7361 7869 7320 3d20 6e70 2e61 7261 6e67  saxis = np.arang
-000121c0: 6528 696e 7428 6c6f 775f 626f 756e 6420  e(int(low_bound 
-000121d0: 2f20 7329 202a 2073 2c20 7570 5f62 6f75  / s) * s, up_bou
-000121e0: 6e64 2c20 7329 0a20 2020 2020 2020 2020  nd, s).         
-000121f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00012200: 2020 2020 2020 2020 2069 6620 7570 5f62           if up_b
-00012210: 6f75 6e64 202f 2073 203e 2031 2e30 6530  ound / s > 1.0e0
-00012220: 363a 0a20 2020 2020 2020 2020 2020 2020  6:.             
-00012230: 2020 2020 2020 2072 6574 7572 6e20 6e70         return np
-00012240: 2e61 7272 6179 285b 302e 302c 2031 2e30  .array([0.0, 1.0
-00012250: 5d29 2c20 5b22 222c 2022 225d 0a20 2020  ]), ["", ""].   
-00012260: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
-00012270: 6178 6973 203d 206e 702e 6172 616e 6765  axis = np.arange
-00012280: 2830 2c20 7570 5f62 6f75 6e64 2c20 7329  (0, up_bound, s)
-00012290: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-000122a0: 2020 2020 2020 2020 2020 2070 6f73 6178             posax
-000122b0: 6973 203d 206e 702e 6172 7261 7928 5b5d  is = np.array([]
-000122c0: 290a 0a20 2020 2020 2020 2066 756c 6178  )..        fulax
-000122d0: 6973 203d 206e 702e 756e 6971 7565 286e  is = np.unique(n
-000122e0: 702e 636c 6970 286e 702e 636f 6e63 6174  p.clip(np.concat
-000122f0: 656e 6174 6528 5b6e 6567 6178 6973 2c20  enate([negaxis, 
-00012300: 706f 7361 7869 735d 292c 2078 302c 2078  posaxis]), x0, x
-00012310: 3129 290a 2020 2020 2020 2020 2320 656e  1)).        # en
-00012320: 6420 6f66 2074 6865 206e 6967 6874 6d61  d of the nightma
-00012330: 7265 0a0a 2020 2020 2020 2020 6966 2075  re..        if u
-00012340: 7365 666f 726d 6174 3a0a 2020 2020 2020  seformat:.      
-00012350: 2020 2020 2020 7366 203d 2022 7b22 202b        sf = "{" +
-00012360: 2066 227b 7573 6566 6f72 6d61 747d 2220   f"{useformat}" 
-00012370: 2b20 227d 220a 2020 2020 2020 2020 2020  + "}".          
-00012380: 2020 7361 7320 3d20 2222 0a20 2020 2020    sas = "".     
-00012390: 2020 2020 2020 2066 6f72 2078 2069 6e20         for x in 
-000123a0: 6675 6c61 7869 733a 0a20 2020 2020 2020  fulaxis:.       
-000123b0: 2020 2020 2020 2020 2073 6173 202b 3d20           sas += 
-000123c0: 7366 2e66 6f72 6d61 7428 7829 202b 2022  sf.format(x) + "
-000123d0: 2022 0a20 2020 2020 2020 2065 6c69 6620   ".        elif 
-000123e0: 6469 6769 7473 2069 7320 4e6f 6e65 3a0a  digits is None:.
-000123f0: 2020 2020 2020 2020 2020 2020 6e70 2e73              np.s
-00012400: 6574 5f70 7269 6e74 6f70 7469 6f6e 7328  et_printoptions(
-00012410: 7375 7070 7265 7373 3d54 7275 6529 2020  suppress=True)  
-00012420: 2320 6176 6f69 6420 7a65 726f 2070 7265  # avoid zero pre
-00012430: 6369 7369 6f6e 0a20 2020 2020 2020 2020  cision.         
-00012440: 2020 2073 6173 203d 2073 7472 2866 756c     sas = str(ful
-00012450: 6178 6973 292e 7265 706c 6163 6528 225b  axis).replace("[
-00012460: 222c 2022 2229 2e72 6570 6c61 6365 2822  ", "").replace("
-00012470: 5d22 2c20 2222 290a 2020 2020 2020 2020  ]", "").        
-00012480: 2020 2020 7361 7320 3d20 7361 732e 7265      sas = sas.re
-00012490: 706c 6163 6528 222e 6522 2c20 2265 2229  place(".e", "e")
-000124a0: 2e72 6570 6c61 6365 2822 652b 3022 2c20  .replace("e+0", 
-000124b0: 2265 2b22 292e 7265 706c 6163 6528 2265  "e+").replace("e
-000124c0: 2d30 222c 2022 652d 2229 0a20 2020 2020  -0", "e-").     
-000124d0: 2020 2020 2020 206e 702e 7365 745f 7072         np.set_pr
-000124e0: 696e 746f 7074 696f 6e73 2873 7570 7072  intoptions(suppr
-000124f0: 6573 733d 4e6f 6e65 2920 2023 2073 6574  ess=None)  # set
-00012500: 2062 6163 6b20 746f 2064 6566 6175 6c74   back to default
-00012510: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00012520: 2020 2020 2020 2020 2020 2073 6173 203d             sas =
-00012530: 2070 7265 6369 7369 6f6e 2866 756c 6178   precision(fulax
-00012540: 6973 2c20 6469 6769 7473 2c20 7672 616e  is, digits, vran
-00012550: 6765 3d28 7830 2c20 7831 2929 0a20 2020  ge=(x0, x1)).   
-00012560: 2020 2020 2020 2020 2073 6173 203d 2073           sas = s
-00012570: 6173 2e72 6570 6c61 6365 2822 5b22 2c20  as.replace("[", 
-00012580: 2222 292e 7265 706c 6163 6528 225d 222c  "").replace("]",
-00012590: 2022 2229 2e72 6570 6c61 6365 2822 2922   "").replace(")"
-000125a0: 2c20 2222 292e 7265 706c 6163 6528 222c  , "").replace(",
-000125b0: 222c 2022 2229 0a0a 2020 2020 2020 2020  ", "")..        
-000125c0: 7361 7332 203d 205b 5d0a 2020 2020 2020  sas2 = [].      
-000125d0: 2020 666f 7220 7320 696e 2073 6173 2e73    for s in sas.s
-000125e0: 706c 6974 2829 3a0a 2020 2020 2020 2020  plit():.        
-000125f0: 2020 2020 6966 2073 2e65 6e64 7377 6974      if s.endswit
-00012600: 6828 222e 2229 3a0a 2020 2020 2020 2020  h("."):.        
-00012610: 2020 2020 2020 2020 7320 3d20 735b 3a2d          s = s[:-
-00012620: 315d 0a20 2020 2020 2020 2020 2020 2069  1].            i
-00012630: 6620 7320 3d3d 2022 2d30 223a 0a20 2020  f s == "-0":.   
-00012640: 2020 2020 2020 2020 2020 2020 2073 203d               s =
-00012650: 2022 3022 0a20 2020 2020 2020 2020 2020   "0".           
-00012660: 2069 6620 6469 6769 7473 2069 7320 6e6f   if digits is no
-00012670: 7420 4e6f 6e65 2061 6e64 2022 6522 2069  t None and "e" i
-00012680: 6e20 733a 0a20 2020 2020 2020 2020 2020  n s:.           
-00012690: 2020 2020 2073 202b 3d20 2220 2220 2023       s += " "  #
-000126a0: 2061 6464 2073 7061 6365 2074 6f20 7465   add space to te
-000126b0: 726d 696e 6174 6520 6d6f 6469 6669 6572  rminate modifier
-000126c0: 730a 2020 2020 2020 2020 2020 2020 7361  s.            sa
-000126d0: 7332 2e61 7070 656e 6428 7329 0a0a 2020  s2.append(s)..  
-000126e0: 2020 2020 2020 666f 7220 7473 2c20 7470        for ts, tp
-000126f0: 2069 6e20 7a69 7028 7361 7332 2c20 6675   in zip(sas2, fu
-00012700: 6c61 7869 7329 3a0a 2020 2020 2020 2020  laxis):.        
-00012710: 2020 2020 6966 2074 7020 3d3d 2078 313a      if tp == x1:
-00012720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012730: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
-00012740: 2020 2020 2020 7469 636b 6e20 3d20 6c69        tickn = li
-00012750: 6e5f 696e 7465 7270 6f6c 6174 6528 7470  n_interpolate(tp
-00012760: 2c20 5b78 302c 2078 315d 2c20 5b30 2c20  , [x0, x1], [0, 
-00012770: 315d 290a 2020 2020 2020 2020 2020 2020  1]).            
-00012780: 7469 636b 735f 666c 6f61 742e 6170 7065  ticks_float.appe
-00012790: 6e64 2874 6963 6b6e 290a 2020 2020 2020  nd(tickn).      
-000127a0: 2020 2020 2020 6966 206c 6f67 7363 616c        if logscal
-000127b0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000127c0: 2020 2076 616c 203d 206e 702e 706f 7765     val = np.powe
-000127d0: 7228 3130 2c20 7470 290a 2020 2020 2020  r(10, tp).      
-000127e0: 2020 2020 2020 2020 2020 6966 2075 7365            if use
-000127f0: 666f 726d 6174 3a0a 2020 2020 2020 2020  format:.        
-00012800: 2020 2020 2020 2020 2020 2020 7366 203d              sf =
-00012810: 2022 7b22 202b 2066 227b 7573 6566 6f72   "{" + f"{usefor
-00012820: 6d61 747d 2220 2b20 227d 220a 2020 2020  mat}" + "}".    
-00012830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012840: 7469 636b 735f 7374 722e 6170 7065 6e64  ticks_str.append
-00012850: 2873 662e 666f 726d 6174 2876 616c 2929  (sf.format(val))
-00012860: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012870: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00012880: 2020 2020 2020 2020 2020 2069 6620 7661             if va
-00012890: 6c20 3e3d 2031 303a 0a20 2020 2020 2020  l >= 10:.       
-000128a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000128b0: 2076 616c 203d 2069 6e74 2876 616c 202b   val = int(val +
-000128c0: 2030 2e35 290a 2020 2020 2020 2020 2020   0.5).          
-000128d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-000128e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000128f0: 2020 2020 2020 2020 7661 6c20 3d20 726f          val = ro
-00012900: 756e 645f 746f 5f64 6967 6974 2876 616c  und_to_digit(val
-00012910: 2c20 3229 0a20 2020 2020 2020 2020 2020  , 2).           
-00012920: 2020 2020 2020 2020 2074 6963 6b73 5f73           ticks_s
-00012930: 7472 2e61 7070 656e 6428 7374 7228 7661  tr.append(str(va
-00012940: 6c29 290a 2020 2020 2020 2020 2020 2020  l)).            
-00012950: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00012960: 2020 2020 2020 7469 636b 735f 7374 722e        ticks_str.
-00012970: 6170 7065 6e64 2874 7329 0a0a 2020 2020  append(ts)..    
-00012980: 7469 636b 735f 7374 722e 6170 7065 6e64  ticks_str.append
-00012990: 2822 2229 0a20 2020 2074 6963 6b73 5f66  ("").    ticks_f
-000129a0: 6c6f 6174 2e61 7070 656e 6428 3129 0a20  loat.append(1). 
-000129b0: 2020 2074 6963 6b73 5f66 6c6f 6174 203d     ticks_float =
-000129c0: 206e 702e 6172 7261 7928 7469 636b 735f   np.array(ticks_
-000129d0: 666c 6f61 7429 0a20 2020 2072 6574 7572  float).    retur
-000129e0: 6e20 7469 636b 735f 666c 6f61 742c 2074  n ticks_float, t
-000129f0: 6963 6b73 5f73 7472 0a0a 0a64 6566 2067  icks_str...def g
-00012a00: 7269 645f 636f 726e 6572 7328 692c 206e  rid_corners(i, n
-00012a10: 6d2c 2073 697a 652c 206d 6172 6769 6e3d  m, size, margin=
-00012a20: 302c 2079 666c 6970 3d54 7275 6529 3a0a  0, yflip=True):.
-00012a30: 2020 2020 2222 220a 2020 2020 436f 6d70      """.    Comp
-00012a40: 7574 6520 7468 6520 3220 636f 726e 6572  ute the 2 corner
-00012a50: 7320 636f 6f72 6469 6e61 7465 7320 6f66  s coordinates of
-00012a60: 2074 6865 2069 2d74 6820 626f 7820 696e   the i-th box in
-00012a70: 2061 2067 7269 6420 6f66 2073 6861 7065   a grid of shape
-00012a80: 206e 2a6d 2e0a 2020 2020 5468 6520 746f   n*m..    The to
-00012a90: 702d 6c65 6674 2073 7175 6172 6520 6973  p-left square is
-00012aa0: 2073 7175 6172 6520 6e75 6d62 6572 2031   square number 1
-00012ab0: 2e0a 0a20 2020 2041 7267 756d 656e 7473  ...    Arguments
-00012ac0: 3a0a 2020 2020 2020 2020 6920 3a20 2869  :.        i : (i
-00012ad0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
-00012ae0: 696e 7075 7420 696e 6465 7820 6f66 2074  input index of t
-00012af0: 6865 2064 6573 6972 6564 2067 7269 6420  he desired grid 
-00012b00: 7371 7561 7265 2028 746f 2062 6520 7573  square (to be us
-00012b10: 6564 2069 6e20 6073 686f 7728 2e2e 2e2c  ed in `show(...,
-00012b20: 2061 743d 2e2e 2e29 6029 2e0a 2020 2020   at=...)`)..    
-00012b30: 2020 2020 6e6d 203a 2028 6c69 7374 290a      nm : (list).
-00012b40: 2020 2020 2020 2020 2020 2020 6772 6964              grid
-00012b50: 2073 6861 7065 2061 7320 286e 2c6d 292e   shape as (n,m).
-00012b60: 0a20 2020 2020 2020 2073 697a 6520 3a20  .        size : 
-00012b70: 286c 6973 7429 0a20 2020 2020 2020 2020  (list).         
-00012b80: 2020 2074 6f74 616c 2073 697a 6520 6f66     total size of
-00012b90: 2074 6865 2067 7269 6420 616c 6f6e 6720   the grid along 
-00012ba0: 7820 616e 6420 792e 0a20 2020 2020 2020  x and y..       
-00012bb0: 206d 6172 6769 6e20 3a20 2866 6c6f 6174   margin : (float
-00012bc0: 290a 2020 2020 2020 2020 2020 2020 6b65  ).            ke
-00012bd0: 6570 2061 2073 6d61 6c6c 206d 6172 6769  ep a small margi
-00012be0: 6e20 6265 7477 6565 6e20 626f 7865 732e  n between boxes.
-00012bf0: 0a20 2020 2020 2020 2079 666c 6970 203a  .        yflip :
-00012c00: 2028 626f 6f6c 290a 2020 2020 2020 2020   (bool).        
-00012c10: 2020 2020 792d 636f 6f72 6469 6e61 7465      y-coordinate
-00012c20: 2070 6f69 6e74 7320 646f 776e 7761 7264   points downward
-00012c30: 730a 0a20 2020 2052 6574 7572 6e73 3a0a  s..    Returns:.
-00012c40: 2020 2020 2020 2020 5477 6f20 3244 2070          Two 2D p
-00012c50: 6f69 6e74 7320 7265 7072 6573 656e 7469  oints representi
-00012c60: 6e67 2074 6865 2062 6f74 746f 6d2d 6c65  ng the bottom-le
-00012c70: 6674 2063 6f72 6e65 7220 616e 6420 7468  ft corner and th
-00012c80: 6520 746f 702d 7269 6768 7420 636f 726e  e top-right corn
-00012c90: 6572 0a20 2020 2020 2020 206f 6620 7468  er.        of th
-00012ca0: 6520 6069 602d 6e74 6820 626f 7820 696e  e `i`-nth box in
-00012cb0: 2074 6865 2067 7269 642e 0a0a 2020 2020   the grid...    
-00012cc0: 4578 616d 706c 653a 0a20 2020 2020 2020  Example:.       
-00012cd0: 2060 6060 7079 7468 6f6e 0a20 2020 2020   ```python.     
-00012ce0: 2020 2066 726f 6d20 7665 646f 2069 6d70     from vedo imp
-00012cf0: 6f72 7420 2a0a 2020 2020 2020 2020 6163  ort *.        ac
-00012d00: 7473 3d5b 5d0a 2020 2020 2020 2020 6e2c  ts=[].        n,
-00012d10: 6d20 3d20 352c 370a 2020 2020 2020 2020  m = 5,7.        
-00012d20: 666f 7220 6920 696e 2072 616e 6765 2831  for i in range(1
-00012d30: 2c20 6e2a 6d20 2b20 3129 3a0a 2020 2020  , n*m + 1):.    
-00012d40: 2020 2020 2020 2020 6331 2c63 3220 3d20          c1,c2 = 
-00012d50: 7574 696c 732e 6772 6964 5f63 6f72 6e65  utils.grid_corne
-00012d60: 7273 2869 2c20 5b6e 2c6d 5d2c 205b 312c  rs(i, [n,m], [1,
-00012d70: 315d 2c20 302e 3031 290a 2020 2020 2020  1], 0.01).      
-00012d80: 2020 2020 2020 7420 3d20 5465 7874 3344        t = Text3D
-00012d90: 2869 2c20 2863 312b 6332 292f 322c 2063  (i, (c1+c2)/2, c
-00012da0: 3d27 6b27 2c20 733d 302e 3032 2c20 6a75  ='k', s=0.02, ju
-00012db0: 7374 6966 793d 2763 656e 7465 7227 292e  stify='center').
-00012dc0: 7a28 302e 3031 290a 2020 2020 2020 2020  z(0.01).        
-00012dd0: 2020 2020 7220 3d20 5265 6374 616e 676c      r = Rectangl
-00012de0: 6528 6331 2c20 6332 2c20 633d 6929 0a20  e(c1, c2, c=i). 
-00012df0: 2020 2020 2020 2020 2020 2061 6374 7320             acts 
-00012e00: 2b3d 205b 742c 725d 0a20 2020 2020 2020  += [t,r].       
-00012e10: 2073 686f 7728 6163 7473 2c20 6178 6573   show(acts, axes
-00012e20: 3d31 292e 636c 6f73 6528 290a 2020 2020  =1).close().    
-00012e30: 2020 2020 6060 600a 2020 2020 2020 2020      ```.        
-00012e40: 215b 5d28 6874 7470 733a 2f2f 7665 646f  ![](https://vedo
-00012e50: 2e65 6d62 6c2e 6573 2f69 6d61 6765 732f  .embl.es/images/
-00012e60: 6665 6174 732f 6772 6964 5f63 6f72 6e65  feats/grid_corne
-00012e70: 7273 2e70 6e67 290a 2020 2020 2222 220a  rs.png).    """.
-00012e80: 2020 2020 6920 2d3d 2031 0a20 2020 206e      i -= 1.    n
-00012e90: 2c20 6d20 3d20 6e6d 0a20 2020 2073 782c  , m = nm.    sx,
-00012ea0: 2073 7920 3d20 7369 7a65 0a20 2020 2064   sy = size.    d
-00012eb0: 782c 2064 7920 3d20 7378 202f 206e 2c20  x, dy = sx / n, 
-00012ec0: 7379 202f 206d 0a20 2020 206e 7820 3d20  sy / m.    nx = 
-00012ed0: 6920 2520 6e0a 2020 2020 6e79 203d 2069  i % n.    ny = i
-00012ee0: 6e74 2828 6920 2d20 6e78 2920 2f20 6e29  nt((i - nx) / n)
-00012ef0: 0a20 2020 2069 6620 7966 6c69 703a 0a20  .    if yflip:. 
-00012f00: 2020 2020 2020 206e 7920 3d20 6e20 2d20         ny = n - 
-00012f10: 6e79 0a20 2020 2063 3120 3d20 2864 7820  ny.    c1 = (dx 
-00012f20: 2a20 6e78 202b 206d 6172 6769 6e2c 2064  * nx + margin, d
-00012f30: 7920 2a20 6e79 202b 206d 6172 6769 6e29  y * ny + margin)
-00012f40: 0a20 2020 2063 3220 3d20 2864 7820 2a20  .    c2 = (dx * 
-00012f50: 286e 7820 2b20 3129 202d 206d 6172 6769  (nx + 1) - margi
-00012f60: 6e2c 2064 7920 2a20 286e 7920 2b20 3129  n, dy * (ny + 1)
-00012f70: 202d 206d 6172 6769 6e29 0a20 2020 2072   - margin).    r
-00012f80: 6574 7572 6e20 6e70 2e61 7272 6179 2863  eturn np.array(c
-00012f90: 3129 2c20 6e70 2e61 7272 6179 2863 3229  1), np.array(c2)
-00012fa0: 0a0a 0a23 2323 2323 2323 2323 2323 2323  ...#############
-00012fb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012fc0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012fd0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012fe0: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
-00012ff0: 2320 5472 696d 6573 6820 7375 7070 6f72  # Trimesh suppor
-00013000: 740a 230a 2320 496e 7374 616c 6c20 7472  t.#.# Install tr
-00013010: 696d 6573 6820 7769 7468 3a0a 230a 2320  imesh with:.#.# 
-00013020: 2020 2073 7564 6f20 6170 7420 696e 7374     sudo apt inst
-00013030: 616c 6c20 7079 7468 6f6e 332d 7274 7265  all python3-rtre
-00013040: 650a 2320 2020 2070 6970 2069 6e73 7461  e.#    pip insta
-00013050: 6c6c 2072 7472 6565 2073 6861 7065 6c79  ll rtree shapely
-00013060: 0a23 2020 2020 636f 6e64 6120 696e 7374  .#    conda inst
-00013070: 616c 6c20 7472 696d 6573 680a 230a 2320  all trimesh.#.# 
-00013080: 4368 6563 6b20 7468 6520 6578 616d 706c  Check the exampl
-00013090: 6520 6761 6c6c 6572 7920 696e 3a20 6578  e gallery in: ex
-000130a0: 616d 706c 6573 2f6f 7468 6572 2f74 7269  amples/other/tri
-000130b0: 6d65 7368 3e0a 2323 2323 2323 2323 2323  mesh>.##########
-000130c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000130d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000130e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000130f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00013100: 230a 6465 6620 7665 646f 3274 7269 6d65  #.def vedo2trime
-00013110: 7368 286d 6573 6829 3a0a 2020 2020 2222  sh(mesh):.    ""
-00013120: 220a 2020 2020 436f 6e76 6572 7420 6076  ".    Convert `v
-00013130: 6564 6f2e 6d65 7368 2e4d 6573 6860 2074  edo.mesh.Mesh` t
-00013140: 6f20 6054 7269 6d65 7368 2e4d 6573 6860  o `Trimesh.Mesh`
-00013150: 206f 626a 6563 742e 0a20 2020 2022 2222   object..    """
-00013160: 0a20 2020 2069 6620 6973 5f73 6571 7565  .    if is_seque
-00013170: 6e63 6528 6d65 7368 293a 0a20 2020 2020  nce(mesh):.     
-00013180: 2020 2074 6d73 203d 205b 5d0a 2020 2020     tms = [].    
-00013190: 2020 2020 666f 7220 6120 696e 206d 6573      for a in mes
-000131a0: 683a 0a20 2020 2020 2020 2020 2020 2074  h:.            t
-000131b0: 6d73 2e61 7070 656e 6428 7665 646f 3274  ms.append(vedo2t
-000131c0: 7269 6d65 7368 2861 2929 0a20 2020 2020  rimesh(a)).     
-000131d0: 2020 2072 6574 7572 6e20 746d 730a 0a20     return tms.. 
-000131e0: 2020 2066 726f 6d20 7472 696d 6573 6820     from trimesh 
-000131f0: 696d 706f 7274 2054 7269 6d65 7368 0a0a  import Trimesh..
-00013200: 2020 2020 7472 6973 203d 206d 6573 682e      tris = mesh.
-00013210: 6661 6365 7328 290a 2020 2020 6361 7272  faces().    carr
-00013220: 203d 206d 6573 682e 6365 6c6c 6461 7461   = mesh.celldata
-00013230: 5b22 4365 6c6c 496e 6469 7669 6475 616c  ["CellIndividual
-00013240: 436f 6c6f 7273 225d 0a20 2020 2063 636f  Colors"].    cco
-00013250: 6c73 203d 2063 6172 720a 0a20 2020 2070  ls = carr..    p
-00013260: 6f69 6e74 7320 3d20 6d65 7368 2e70 6f69  oints = mesh.poi
-00013270: 6e74 7328 290a 2020 2020 7661 7272 203d  nts().    varr =
-00013280: 206d 6573 682e 706f 696e 7464 6174 615b   mesh.pointdata[
-00013290: 2256 6572 7465 7843 6f6c 6f72 7322 5d0a  "VertexColors"].
-000132a0: 2020 2020 7663 6f6c 7320 3d20 7661 7272      vcols = varr
-000132b0: 0a0a 2020 2020 6966 206c 656e 2874 7269  ..    if len(tri
-000132c0: 7329 203d 3d20 303a 0a20 2020 2020 2020  s) == 0:.       
-000132d0: 2074 7269 7320 3d20 4e6f 6e65 0a0a 2020   tris = None..  
-000132e0: 2020 7265 7475 726e 2054 7269 6d65 7368    return Trimesh
-000132f0: 2876 6572 7469 6365 733d 706f 696e 7473  (vertices=points
-00013300: 2c20 6661 6365 733d 7472 6973 2c20 6661  , faces=tris, fa
-00013310: 6365 5f63 6f6c 6f72 733d 6363 6f6c 732c  ce_colors=ccols,
-00013320: 2076 6572 7465 785f 636f 6c6f 7273 3d76   vertex_colors=v
-00013330: 636f 6c73 290a 0a0a 6465 6620 7472 696d  cols)...def trim
-00013340: 6573 6832 7665 646f 2869 6e70 7574 6f62  esh2vedo(inputob
-00013350: 6a29 3a0a 2020 2020 2222 220a 2020 2020  j):.    """.    
-00013360: 436f 6e76 6572 7420 6120 6054 7269 6d65  Convert a `Trime
-00013370: 7368 6020 6f62 6a65 6374 2074 6f20 6076  sh` object to `v
-00013380: 6564 6f2e 4d65 7368 6020 6f72 2060 7665  edo.Mesh` or `ve
-00013390: 646f 2e41 7373 656d 626c 7960 206f 626a  do.Assembly` obj
-000133a0: 6563 742e 0a20 2020 2022 2222 0a20 2020  ect..    """.   
-000133b0: 2069 6620 6973 5f73 6571 7565 6e63 6528   if is_sequence(
-000133c0: 696e 7075 746f 626a 293a 0a20 2020 2020  inputobj):.     
-000133d0: 2020 2076 6d73 203d 205b 5d0a 2020 2020     vms = [].    
-000133e0: 2020 2020 666f 7220 6f62 2069 6e20 696e      for ob in in
-000133f0: 7075 746f 626a 3a0a 2020 2020 2020 2020  putobj:.        
-00013400: 2020 2020 766d 732e 6170 7065 6e64 2874      vms.append(t
-00013410: 7269 6d65 7368 3276 6564 6f28 6f62 2929  rimesh2vedo(ob))
-00013420: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00013430: 766d 730a 0a20 2020 2069 6e70 7574 6f62  vms..    inputob
-00013440: 6a5f 7479 7065 203d 2073 7472 2874 7970  j_type = str(typ
-00013450: 6528 696e 7075 746f 626a 2929 0a0a 2020  e(inputobj))..  
-00013460: 2020 6966 2022 5472 696d 6573 6822 2069    if "Trimesh" i
-00013470: 6e20 696e 7075 746f 626a 5f74 7970 6520  n inputobj_type 
-00013480: 6f72 2022 7072 696d 6974 6976 6573 2220  or "primitives" 
-00013490: 696e 2069 6e70 7574 6f62 6a5f 7479 7065  in inputobj_type
-000134a0: 3a0a 2020 2020 2020 2020 6661 6365 7320  :.        faces 
-000134b0: 3d20 696e 7075 746f 626a 2e66 6163 6573  = inputobj.faces
-000134c0: 0a20 2020 2020 2020 2070 6f6c 7920 3d20  .        poly = 
-000134d0: 6275 696c 6450 6f6c 7944 6174 6128 696e  buildPolyData(in
-000134e0: 7075 746f 626a 2e76 6572 7469 6365 732c  putobj.vertices,
-000134f0: 2066 6163 6573 290a 2020 2020 2020 2020   faces).        
-00013500: 7461 6374 203d 2076 6564 6f2e 4d65 7368  tact = vedo.Mesh
-00013510: 2870 6f6c 7929 0a20 2020 2020 2020 2069  (poly).        i
-00013520: 6620 696e 7075 746f 626a 2e76 6973 7561  f inputobj.visua
-00013530: 6c2e 6b69 6e64 203d 3d20 2266 6163 6522  l.kind == "face"
-00013540: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
-00013550: 696d 5f63 203d 2069 6e70 7574 6f62 6a2e  im_c = inputobj.
-00013560: 7669 7375 616c 2e66 6163 655f 636f 6c6f  visual.face_colo
-00013570: 7273 0a20 2020 2020 2020 2065 6c73 653a  rs.        else:
-00013580: 0a20 2020 2020 2020 2020 2020 2074 7269  .            tri
-00013590: 6d5f 6320 3d20 696e 7075 746f 626a 2e76  m_c = inputobj.v
-000135a0: 6973 7561 6c2e 7665 7274 6578 5f63 6f6c  isual.vertex_col
-000135b0: 6f72 730a 0a20 2020 2020 2020 2069 6620  ors..        if 
-000135c0: 6973 5f73 6571 7565 6e63 6528 7472 696d  is_sequence(trim
-000135d0: 5f63 293a 0a20 2020 2020 2020 2020 2020  _c):.           
-000135e0: 2069 6620 6973 5f73 6571 7565 6e63 6528   if is_sequence(
-000135f0: 7472 696d 5f63 5b30 5d29 3a0a 2020 2020  trim_c[0]):.    
-00013600: 2020 2020 2020 2020 2020 2020 7361 6d65              same
-00013610: 5f63 6f6c 6f72 203d 206c 656e 286e 702e  _color = len(np.
-00013620: 756e 6971 7565 2874 7269 6d5f 632c 2061  unique(trim_c, a
-00013630: 7869 733d 3029 2920 3c20 3220 2023 2061  xis=0)) < 2  # a
-00013640: 6c6c 2076 7478 7320 6861 7665 2073 616d  ll vtxs have sam
-00013650: 6520 636f 6c6f 720a 0a20 2020 2020 2020  e color..       
-00013660: 2020 2020 2020 2020 2069 6620 7361 6d65           if same
-00013670: 5f63 6f6c 6f72 3a0a 2020 2020 2020 2020  _color:.        
-00013680: 2020 2020 2020 2020 2020 2020 7461 6374              tact
-00013690: 2e63 2874 7269 6d5f 635b 302c 205b 302c  .c(trim_c[0, [0,
-000136a0: 2031 2c20 325d 5d29 2e61 6c70 6861 2874   1, 2]]).alpha(t
-000136b0: 7269 6d5f 635b 302c 2033 5d29 0a20 2020  rim_c[0, 3]).   
-000136c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-000136d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000136e0: 2020 2020 2020 2069 6620 696e 7075 746f         if inputo
-000136f0: 626a 2e76 6973 7561 6c2e 6b69 6e64 203d  bj.visual.kind =
-00013700: 3d20 2266 6163 6522 3a0a 2020 2020 2020  = "face":.      
-00013710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013720: 2020 7461 6374 2e63 656c 6c5f 696e 6469    tact.cell_indi
-00013730: 7669 6475 616c 5f63 6f6c 6f72 7328 7472  vidual_colors(tr
-00013740: 696d 5f63 290a 2020 2020 2020 2020 7265  im_c).        re
-00013750: 7475 726e 2074 6163 740a 0a20 2020 2069  turn tact..    i
-00013760: 6620 2250 6f69 6e74 436c 6f75 6422 2069  f "PointCloud" i
-00013770: 6e20 696e 7075 746f 626a 5f74 7970 653a  n inputobj_type:
-00013780: 0a0a 2020 2020 2020 2020 7472 696d 5f63  ..        trim_c
-00013790: 632c 2074 7269 6d5f 616c 203d 2022 626c  c, trim_al = "bl
-000137a0: 6163 6b22 2c20 310a 2020 2020 2020 2020  ack", 1.        
-000137b0: 6966 2068 6173 6174 7472 2869 6e70 7574  if hasattr(input
-000137c0: 6f62 6a2c 2022 7665 7274 6963 6573 5f63  obj, "vertices_c
-000137d0: 6f6c 6f72 2229 3a0a 2020 2020 2020 2020  olor"):.        
-000137e0: 2020 2020 7472 696d 5f63 203d 2069 6e70      trim_c = inp
-000137f0: 7574 6f62 6a2e 7665 7274 6963 6573 5f63  utobj.vertices_c
-00013800: 6f6c 6f72 0a20 2020 2020 2020 2020 2020  olor.           
-00013810: 2069 6620 6c65 6e28 7472 696d 5f63 293a   if len(trim_c):
-00013820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013830: 2074 7269 6d5f 6363 203d 2074 7269 6d5f   trim_cc = trim_
-00013840: 635b 3a2c 205b 302c 2031 2c20 325d 5d20  c[:, [0, 1, 2]] 
-00013850: 2f20 3235 350a 2020 2020 2020 2020 2020  / 255.          
-00013860: 2020 2020 2020 7472 696d 5f61 6c20 3d20        trim_al = 
-00013870: 7472 696d 5f63 5b3a 2c20 335d 202f 2032  trim_c[:, 3] / 2
-00013880: 3535 0a20 2020 2020 2020 2020 2020 2020  55.             
-00013890: 2020 2074 7269 6d5f 616c 203d 206e 702e     trim_al = np.
-000138a0: 7375 6d28 7472 696d 5f61 6c29 202f 206c  sum(trim_al) / l
-000138b0: 656e 2874 7269 6d5f 616c 2920 2023 206a  en(trim_al)  # j
-000138c0: 7573 7420 7468 6520 6176 6572 6167 650a  ust the average.
-000138d0: 2020 2020 2020 2020 7265 7475 726e 2076          return v
-000138e0: 6564 6f2e 7368 6170 6573 2e50 6f69 6e74  edo.shapes.Point
-000138f0: 7328 696e 7075 746f 626a 2e76 6572 7469  s(inputobj.verti
-00013900: 6365 732c 2072 3d38 2c20 633d 7472 696d  ces, r=8, c=trim
-00013910: 5f63 632c 2061 6c70 6861 3d74 7269 6d5f  _cc, alpha=trim_
-00013920: 616c 290a 0a20 2020 2069 6620 2270 6174  al)..    if "pat
-00013930: 6822 2069 6e20 696e 7075 746f 626a 5f74  h" in inputobj_t
-00013940: 7970 653a 0a0a 2020 2020 2020 2020 6c69  ype:..        li
-00013950: 6e65 7320 3d20 5b5d 0a20 2020 2020 2020  nes = [].       
-00013960: 2066 6f72 2065 2069 6e20 696e 7075 746f   for e in inputo
-00013970: 626a 2e65 6e74 6974 6965 733a 0a20 2020  bj.entities:.   
-00013980: 2020 2020 2020 2020 2023 2070 7269 6e74           # print
-00013990: 2827 7472 696d 6573 6820 656e 7469 7479  ('trimesh entity
-000139a0: 272c 2065 2e74 6f5f 6469 6374 2829 290a  ', e.to_dict()).
-000139b0: 2020 2020 2020 2020 2020 2020 6c20 3d20              l = 
-000139c0: 7665 646f 2e73 6861 7065 732e 4c69 6e65  vedo.shapes.Line
-000139d0: 2869 6e70 7574 6f62 6a2e 7665 7274 6963  (inputobj.vertic
-000139e0: 6573 5b65 2e70 6f69 6e74 735d 2c20 633d  es[e.points], c=
-000139f0: 226b 222c 206c 773d 3229 0a20 2020 2020  "k", lw=2).     
-00013a00: 2020 2020 2020 206c 696e 6573 2e61 7070         lines.app
-00013a10: 656e 6428 6c29 0a20 2020 2020 2020 2072  end(l).        r
-00013a20: 6574 7572 6e20 7665 646f 2e41 7373 656d  eturn vedo.Assem
-00013a30: 626c 7928 6c69 6e65 7329 0a0a 2020 2020  bly(lines)..    
-00013a40: 7265 7475 726e 204e 6f6e 650a 0a0a 6465  return None...de
-00013a50: 6620 7665 646f 326d 6573 686c 6162 2876  f vedo2meshlab(v
-00013a60: 6d65 7368 293a 0a20 2020 2022 2222 436f  mesh):.    """Co
-00013a70: 6e76 6572 7420 6120 6076 6564 6f2e 4d65  nvert a `vedo.Me
-00013a80: 7368 6020 746f 2061 204d 6573 686c 6162  sh` to a Meshlab
-00013a90: 206f 626a 6563 742e 2222 220a 2020 2020   object.""".    
-00013aa0: 7472 793a 0a20 2020 2020 2020 2069 6d70  try:.        imp
-00013ab0: 6f72 7420 7079 6d65 7368 6c61 6220 6173  ort pymeshlab as
-00013ac0: 206d 6c61 620a 2020 2020 6578 6365 7074   mlab.    except
-00013ad0: 2052 756e 7469 6d65 4572 726f 723a 0a20   RuntimeError:. 
-00013ae0: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
-00013af0: 6572 2e65 7272 6f72 2822 4e65 6564 2070  er.error("Need p
-00013b00: 796d 6573 686c 6162 2074 6f20 7275 6e3a  ymeshlab to run:
-00013b10: 5c6e 7069 7020 696e 7374 616c 6c20 7079  \npip install py
-00013b20: 6d65 7368 6c61 6222 290a 0a20 2020 2076  meshlab")..    v
-00013b30: 6572 7465 785f 6d61 7472 6978 203d 2076  ertex_matrix = v
-00013b40: 6d65 7368 2e70 6f69 6e74 7328 292e 6173  mesh.points().as
-00013b50: 7479 7065 286e 702e 666c 6f61 7436 3429  type(np.float64)
-00013b60: 0a0a 2020 2020 7472 793a 0a20 2020 2020  ..    try:.     
-00013b70: 2020 2066 6163 655f 6d61 7472 6978 203d     face_matrix =
-00013b80: 206e 702e 6173 6172 7261 7928 766d 6573   np.asarray(vmes
-00013b90: 682e 6661 6365 7328 292c 2064 7479 7065  h.faces(), dtype
-00013ba0: 3d6e 702e 666c 6f61 7436 3429 0a20 2020  =np.float64).   
-00013bb0: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00013bc0: 2070 7269 6e74 2822 496e 2076 6564 6f32   print("In vedo2
-00013bd0: 6d65 7368 6c61 622c 206e 6565 6420 746f  meshlab, need to
-00013be0: 2074 7269 616e 6775 6c61 7465 206d 6573   triangulate mes
-00013bf0: 6820 6669 7273 7421 2229 0a20 2020 2020  h first!").     
-00013c00: 2020 2066 6163 655f 6d61 7472 6978 203d     face_matrix =
-00013c10: 206e 702e 6172 7261 7928 766d 6573 682e   np.array(vmesh.
-00013c20: 636c 6f6e 6528 292e 7472 6961 6e67 756c  clone().triangul
-00013c30: 6174 6528 292e 6661 6365 7328 292c 2064  ate().faces(), d
-00013c40: 7479 7065 3d6e 702e 666c 6f61 7436 3429  type=np.float64)
-00013c50: 0a0a 2020 2020 765f 6e6f 726d 616c 735f  ..    v_normals_
-00013c60: 6d61 7472 6978 203d 2076 6d65 7368 2e6e  matrix = vmesh.n
-00013c70: 6f72 6d61 6c73 2863 656c 6c73 3d46 616c  ormals(cells=Fal
-00013c80: 7365 2c20 7265 636f 6d70 7574 653d 4661  se, recompute=Fa
-00013c90: 6c73 6529 0a20 2020 2069 6620 6e6f 7420  lse).    if not 
-00013ca0: 765f 6e6f 726d 616c 735f 6d61 7472 6978  v_normals_matrix
-00013cb0: 2e73 6861 7065 5b30 5d3a 0a20 2020 2020  .shape[0]:.     
-00013cc0: 2020 2076 5f6e 6f72 6d61 6c73 5f6d 6174     v_normals_mat
-00013cd0: 7269 7820 3d20 6e70 2e65 6d70 7479 2828  rix = np.empty((
-00013ce0: 302c 2033 292c 2064 7479 7065 3d6e 702e  0, 3), dtype=np.
-00013cf0: 666c 6f61 7436 3429 0a0a 2020 2020 665f  float64)..    f_
-00013d00: 6e6f 726d 616c 735f 6d61 7472 6978 203d  normals_matrix =
-00013d10: 2076 6d65 7368 2e6e 6f72 6d61 6c73 2863   vmesh.normals(c
-00013d20: 656c 6c73 3d54 7275 652c 2072 6563 6f6d  ells=True, recom
-00013d30: 7075 7465 3d46 616c 7365 290a 2020 2020  pute=False).    
-00013d40: 6966 206e 6f74 2066 5f6e 6f72 6d61 6c73  if not f_normals
-00013d50: 5f6d 6174 7269 782e 7368 6170 655b 305d  _matrix.shape[0]
-00013d60: 3a0a 2020 2020 2020 2020 665f 6e6f 726d  :.        f_norm
-00013d70: 616c 735f 6d61 7472 6978 203d 206e 702e  als_matrix = np.
-00013d80: 656d 7074 7928 2830 2c20 3329 2c20 6474  empty((0, 3), dt
-00013d90: 7970 653d 6e70 2e66 6c6f 6174 3634 290a  ype=np.float64).
-00013da0: 0a20 2020 2076 5f63 6f6c 6f72 5f6d 6174  .    v_color_mat
-00013db0: 7269 7820 3d20 766d 6573 682e 706f 696e  rix = vmesh.poin
-00013dc0: 7464 6174 615b 2252 4742 4122 5d0a 2020  tdata["RGBA"].  
-00013dd0: 2020 6966 2076 5f63 6f6c 6f72 5f6d 6174    if v_color_mat
-00013de0: 7269 7820 6973 204e 6f6e 653a 0a20 2020  rix is None:.   
-00013df0: 2020 2020 2076 5f63 6f6c 6f72 5f6d 6174       v_color_mat
-00013e00: 7269 7820 3d20 6e70 2e65 6d70 7479 2828  rix = np.empty((
-00013e10: 302c 2034 292c 2064 7479 7065 3d6e 702e  0, 4), dtype=np.
-00013e20: 666c 6f61 7436 3429 0a20 2020 2065 6c73  float64).    els
-00013e30: 653a 0a20 2020 2020 2020 2076 5f63 6f6c  e:.        v_col
-00013e40: 6f72 5f6d 6174 7269 7820 3d20 765f 636f  or_matrix = v_co
-00013e50: 6c6f 725f 6d61 7472 6978 2e61 7374 7970  lor_matrix.astyp
-00013e60: 6528 6e70 2e66 6c6f 6174 3634 2920 2f20  e(np.float64) / 
-00013e70: 3235 350a 2020 2020 2020 2020 6966 2076  255.        if v
-00013e80: 5f63 6f6c 6f72 5f6d 6174 7269 782e 7368  _color_matrix.sh
-00013e90: 6170 655b 315d 203d 3d20 333a 0a20 2020  ape[1] == 3:.   
-00013ea0: 2020 2020 2020 2020 2076 5f63 6f6c 6f72           v_color
-00013eb0: 5f6d 6174 7269 7820 3d20 6e70 2e63 5f5b  _matrix = np.c_[
-00013ec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013ed0: 2076 5f63 6f6c 6f72 5f6d 6174 7269 782c   v_color_matrix,
-00013ee0: 206e 702e 6f6e 6573 2876 5f63 6f6c 6f72   np.ones(v_color
-00013ef0: 5f6d 6174 7269 782e 7368 6170 655b 305d  _matrix.shape[0]
-00013f00: 2c20 6474 7970 653d 6e70 2e66 6c6f 6174  , dtype=np.float
-00013f10: 3634 290a 2020 2020 2020 2020 2020 2020  64).            
-00013f20: 5d0a 0a20 2020 2066 5f63 6f6c 6f72 5f6d  ]..    f_color_m
-00013f30: 6174 7269 7820 3d20 766d 6573 682e 6365  atrix = vmesh.ce
-00013f40: 6c6c 6461 7461 5b22 5247 4241 225d 0a20  lldata["RGBA"]. 
-00013f50: 2020 2069 6620 665f 636f 6c6f 725f 6d61     if f_color_ma
-00013f60: 7472 6978 2069 7320 4e6f 6e65 3a0a 2020  trix is None:.  
-00013f70: 2020 2020 2020 665f 636f 6c6f 725f 6d61        f_color_ma
-00013f80: 7472 6978 203d 206e 702e 656d 7074 7928  trix = np.empty(
-00013f90: 2830 2c20 3429 2c20 6474 7970 653d 6e70  (0, 4), dtype=np
-00013fa0: 2e66 6c6f 6174 3634 290a 2020 2020 656c  .float64).    el
-00013fb0: 7365 3a0a 2020 2020 2020 2020 665f 636f  se:.        f_co
-00013fc0: 6c6f 725f 6d61 7472 6978 203d 2066 5f63  lor_matrix = f_c
-00013fd0: 6f6c 6f72 5f6d 6174 7269 782e 6173 7479  olor_matrix.asty
-00013fe0: 7065 286e 702e 666c 6f61 7436 3429 202f  pe(np.float64) /
-00013ff0: 2032 3535 0a20 2020 2020 2020 2069 6620   255.        if 
-00014000: 665f 636f 6c6f 725f 6d61 7472 6978 2e73  f_color_matrix.s
-00014010: 6861 7065 5b31 5d20 3d3d 2033 3a0a 2020  hape[1] == 3:.  
-00014020: 2020 2020 2020 2020 2020 665f 636f 6c6f            f_colo
-00014030: 725f 6d61 7472 6978 203d 206e 702e 635f  r_matrix = np.c_
-00014040: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00014050: 2020 665f 636f 6c6f 725f 6d61 7472 6978    f_color_matrix
-00014060: 2c20 6e70 2e6f 6e65 7328 665f 636f 6c6f  , np.ones(f_colo
-00014070: 725f 6d61 7472 6978 2e73 6861 7065 5b30  r_matrix.shape[0
-00014080: 5d2c 2064 7479 7065 3d6e 702e 666c 6f61  ], dtype=np.floa
-00014090: 7436 3429 0a20 2020 2020 2020 2020 2020  t64).           
-000140a0: 205d 0a0a 2020 2020 6d20 3d20 6d6c 6162   ]..    m = mlab
-000140b0: 2e4d 6573 6828 0a20 2020 2020 2020 2076  .Mesh(.        v
-000140c0: 6572 7465 785f 6d61 7472 6978 3d76 6572  ertex_matrix=ver
-000140d0: 7465 785f 6d61 7472 6978 2c0a 2020 2020  tex_matrix,.    
-000140e0: 2020 2020 6661 6365 5f6d 6174 7269 783d      face_matrix=
-000140f0: 6661 6365 5f6d 6174 7269 782c 0a20 2020  face_matrix,.   
-00014100: 2020 2020 2076 5f6e 6f72 6d61 6c73 5f6d       v_normals_m
-00014110: 6174 7269 783d 765f 6e6f 726d 616c 735f  atrix=v_normals_
-00014120: 6d61 7472 6978 2c0a 2020 2020 2020 2020  matrix,.        
-00014130: 665f 6e6f 726d 616c 735f 6d61 7472 6978  f_normals_matrix
-00014140: 3d66 5f6e 6f72 6d61 6c73 5f6d 6174 7269  =f_normals_matri
-00014150: 782c 0a20 2020 2020 2020 2076 5f63 6f6c  x,.        v_col
-00014160: 6f72 5f6d 6174 7269 783d 765f 636f 6c6f  or_matrix=v_colo
-00014170: 725f 6d61 7472 6978 2c0a 2020 2020 2020  r_matrix,.      
-00014180: 2020 665f 636f 6c6f 725f 6d61 7472 6978    f_color_matrix
-00014190: 3d66 5f63 6f6c 6f72 5f6d 6174 7269 782c  =f_color_matrix,
-000141a0: 0a20 2020 2029 0a0a 2020 2020 666f 7220  .    )..    for 
-000141b0: 6b20 696e 2076 6d65 7368 2e70 6f69 6e74  k in vmesh.point
-000141c0: 6461 7461 2e6b 6579 7328 293a 0a20 2020  data.keys():.   
-000141d0: 2020 2020 2064 6174 6120 3d20 766d 6573       data = vmes
-000141e0: 682e 706f 696e 7464 6174 615b 6b5d 0a20  h.pointdata[k]. 
-000141f0: 2020 2020 2020 2069 6620 6461 7461 2069         if data i
-00014200: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00014210: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
-00014220: 6e64 696d 203d 3d20 313a 2020 2320 7363  ndim == 1:  # sc
-00014230: 616c 6172 0a20 2020 2020 2020 2020 2020  alar.           
-00014240: 2020 2020 206d 2e61 6464 5f76 6572 7465       m.add_verte
-00014250: 785f 6375 7374 6f6d 5f73 6361 6c61 725f  x_custom_scalar_
-00014260: 6174 7472 6962 7574 6528 6461 7461 2e61  attribute(data.a
-00014270: 7374 7970 6528 6e70 2e66 6c6f 6174 3634  stype(np.float64
-00014280: 292c 206b 290a 2020 2020 2020 2020 2020  ), k).          
-00014290: 2020 656c 6966 2064 6174 612e 6e64 696d    elif data.ndim
-000142a0: 203d 3d20 323a 2020 2320 7665 6374 6f72   == 2:  # vector
-000142b0: 6961 6c20 6461 7461 0a20 2020 2020 2020  ial data.       
-000142c0: 2020 2020 2020 2020 206d 2e61 6464 5f76           m.add_v
-000142d0: 6572 7465 785f 6375 7374 6f6d 5f70 6f69  ertex_custom_poi
-000142e0: 6e74 5f61 7474 7269 6275 7465 2864 6174  nt_attribute(dat
-000142f0: 612e 6173 7479 7065 286e 702e 666c 6f61  a.astype(np.floa
-00014300: 7436 3429 2c20 6b29 0a0a 2020 2020 666f  t64), k)..    fo
-00014310: 7220 6b20 696e 2076 6d65 7368 2e63 656c  r k in vmesh.cel
-00014320: 6c64 6174 612e 6b65 7973 2829 3a0a 2020  ldata.keys():.  
-00014330: 2020 2020 2020 6461 7461 203d 2076 6d65        data = vme
-00014340: 7368 2e63 656c 6c64 6174 615b 6b5d 0a20  sh.celldata[k]. 
-00014350: 2020 2020 2020 2069 6620 6461 7461 2069         if data i
-00014360: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00014370: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
-00014380: 6e64 696d 203d 3d20 313a 2020 2320 7363  ndim == 1:  # sc
-00014390: 616c 6172 0a20 2020 2020 2020 2020 2020  alar.           
-000143a0: 2020 2020 206d 2e61 6464 5f66 6163 655f       m.add_face_
-000143b0: 6375 7374 6f6d 5f73 6361 6c61 725f 6174  custom_scalar_at
-000143c0: 7472 6962 7574 6528 6461 7461 2e61 7374  tribute(data.ast
-000143d0: 7970 6528 6e70 2e66 6c6f 6174 3634 292c  ype(np.float64),
-000143e0: 206b 290a 2020 2020 2020 2020 2020 2020   k).            
-000143f0: 656c 6966 2064 6174 612e 6e64 696d 203d  elif data.ndim =
-00014400: 3d20 323a 2020 2320 7665 6374 6f72 6961  = 2:  # vectoria
-00014410: 6c20 6461 7461 0a20 2020 2020 2020 2020  l data.         
-00014420: 2020 2020 2020 206d 2e61 6464 5f66 6163         m.add_fac
-00014430: 655f 6375 7374 6f6d 5f70 6f69 6e74 5f61  e_custom_point_a
-00014440: 7474 7269 6275 7465 2864 6174 612e 6173  ttribute(data.as
-00014450: 7479 7065 286e 702e 666c 6f61 7436 3429  type(np.float64)
-00014460: 2c20 6b29 0a0a 2020 2020 6d2e 7570 6461  , k)..    m.upda
-00014470: 7465 5f62 6f75 6e64 696e 675f 626f 7828  te_bounding_box(
-00014480: 290a 2020 2020 7265 7475 726e 206d 0a0a  ).    return m..
-00014490: 0a64 6566 206d 6573 686c 6162 3276 6564  .def meshlab2ved
-000144a0: 6f28 6d6d 6573 6829 3a0a 2020 2020 2222  o(mmesh):.    ""
-000144b0: 2243 6f6e 7665 7274 2061 204d 6573 686c  "Convert a Meshl
-000144c0: 6162 206f 626a 6563 7420 746f 2060 7665  ab object to `ve
-000144d0: 646f 2e4d 6573 6860 2e22 2222 0a20 2020  do.Mesh`.""".   
-000144e0: 2069 6e70 7574 7479 7065 203d 2073 7472   inputtype = str
-000144f0: 2874 7970 6528 6d6d 6573 6829 290a 0a20  (type(mmesh)).. 
-00014500: 2020 2069 6620 224d 6573 6853 6574 2220     if "MeshSet" 
-00014510: 696e 2069 6e70 7574 7479 7065 3a0a 2020  in inputtype:.  
-00014520: 2020 2020 2020 6d6d 6573 6820 3d20 6d6d        mmesh = mm
-00014530: 6573 682e 6375 7272 656e 745f 6d65 7368  esh.current_mesh
-00014540: 2829 0a0a 2020 2020 6d70 6f69 6e74 732c  ()..    mpoints,
-00014550: 206d 6365 6c6c 7320 3d20 6d6d 6573 682e   mcells = mmesh.
-00014560: 7665 7274 6578 5f6d 6174 7269 7828 292c  vertex_matrix(),
-00014570: 206d 6d65 7368 2e66 6163 655f 6d61 7472   mmesh.face_matr
-00014580: 6978 2829 0a20 2020 2069 6620 6c65 6e28  ix().    if len(
-00014590: 6d63 656c 6c73 293a 0a20 2020 2020 2020  mcells):.       
-000145a0: 2070 6f6c 7964 6174 6120 3d20 6275 696c   polydata = buil
-000145b0: 6450 6f6c 7944 6174 6128 6d70 6f69 6e74  dPolyData(mpoint
-000145c0: 732c 206d 6365 6c6c 7329 0a20 2020 2065  s, mcells).    e
-000145d0: 6c73 653a 0a20 2020 2020 2020 2070 6f6c  lse:.        pol
-000145e0: 7964 6174 6120 3d20 6275 696c 6450 6f6c  ydata = buildPol
-000145f0: 7944 6174 6128 6d70 6f69 6e74 732c 204e  yData(mpoints, N
-00014600: 6f6e 6529 0a0a 2020 2020 6966 206d 6d65  one)..    if mme
-00014610: 7368 2e68 6173 5f76 6572 7465 785f 7363  sh.has_vertex_sc
-00014620: 616c 6172 2829 3a0a 2020 2020 2020 2020  alar():.        
-00014630: 7061 7272 203d 206d 6d65 7368 2e76 6572  parr = mmesh.ver
-00014640: 7465 785f 7363 616c 6172 5f61 7272 6179  tex_scalar_array
-00014650: 2829 0a20 2020 2020 2020 2070 6172 725f  ().        parr_
-00014660: 7674 6b20 3d20 6e75 6d70 795f 746f 5f76  vtk = numpy_to_v
-00014670: 746b 2870 6172 7229 0a20 2020 2020 2020  tk(parr).       
-00014680: 2070 6172 725f 7674 6b2e 5365 744e 616d   parr_vtk.SetNam
-00014690: 6528 224d 6573 684c 6162 5363 616c 6172  e("MeshLabScalar
-000146a0: 7322 290a 2020 2020 2020 2020 7830 2c20  s").        x0, 
-000146b0: 7831 203d 2070 6172 725f 7674 6b2e 4765  x1 = parr_vtk.Ge
-000146c0: 7452 616e 6765 2829 0a20 2020 2020 2020  tRange().       
-000146d0: 2069 6620 7831 202d 2078 303a 0a20 2020   if x1 - x0:.   
-000146e0: 2020 2020 2020 2020 2070 6f6c 7964 6174           polydat
-000146f0: 612e 4765 7450 6f69 6e74 4461 7461 2829  a.GetPointData()
-00014700: 2e41 6464 4172 7261 7928 7061 7272 5f76  .AddArray(parr_v
-00014710: 746b 290a 2020 2020 2020 2020 2020 2020  tk).            
-00014720: 706f 6c79 6461 7461 2e47 6574 506f 696e  polydata.GetPoin
-00014730: 7444 6174 6128 292e 5365 7441 6374 6976  tData().SetActiv
-00014740: 6553 6361 6c61 7273 2822 4d65 7368 4c61  eScalars("MeshLa
-00014750: 6253 6361 6c61 7273 2229 0a0a 2020 2020  bScalars")..    
-00014760: 6966 206d 6d65 7368 2e68 6173 5f66 6163  if mmesh.has_fac
-00014770: 655f 7363 616c 6172 2829 3a0a 2020 2020  e_scalar():.    
-00014780: 2020 2020 6361 7272 203d 206d 6d65 7368      carr = mmesh
-00014790: 2e66 6163 655f 7363 616c 6172 5f61 7272  .face_scalar_arr
-000147a0: 6179 2829 0a20 2020 2020 2020 2063 6172  ay().        car
-000147b0: 725f 7674 6b20 3d20 6e75 6d70 795f 746f  r_vtk = numpy_to
-000147c0: 5f76 746b 2863 6172 7229 0a20 2020 2020  _vtk(carr).     
-000147d0: 2020 2063 6172 725f 7674 6b2e 5365 744e     carr_vtk.SetN
-000147e0: 616d 6528 224d 6573 684c 6162 5363 616c  ame("MeshLabScal
-000147f0: 6172 7322 290a 2020 2020 2020 2020 7830  ars").        x0
-00014800: 2c20 7831 203d 2063 6172 725f 7674 6b2e  , x1 = carr_vtk.
-00014810: 4765 7452 616e 6765 2829 0a20 2020 2020  GetRange().     
-00014820: 2020 2069 6620 7831 202d 2078 303a 0a20     if x1 - x0:. 
-00014830: 2020 2020 2020 2020 2020 2070 6f6c 7964             polyd
-00014840: 6174 612e 4765 7443 656c 6c44 6174 6128  ata.GetCellData(
-00014850: 292e 4164 6441 7272 6179 2863 6172 725f  ).AddArray(carr_
-00014860: 7674 6b29 0a20 2020 2020 2020 2020 2020  vtk).           
-00014870: 2070 6f6c 7964 6174 612e 4765 7443 656c   polydata.GetCel
-00014880: 6c44 6174 6128 292e 5365 7441 6374 6976  lData().SetActiv
-00014890: 6553 6361 6c61 7273 2822 4d65 7368 4c61  eScalars("MeshLa
-000148a0: 6253 6361 6c61 7273 2229 0a0a 2020 2020  bScalars")..    
-000148b0: 706e 6f72 6d73 203d 206d 6d65 7368 2e76  pnorms = mmesh.v
-000148c0: 6572 7465 785f 6e6f 726d 616c 5f6d 6174  ertex_normal_mat
-000148d0: 7269 7828 290a 2020 2020 6966 206c 656e  rix().    if len
-000148e0: 2870 6e6f 726d 7329 3a0a 2020 2020 2020  (pnorms):.      
-000148f0: 2020 706f 6c79 6461 7461 2e47 6574 506f    polydata.GetPo
-00014900: 696e 7444 6174 6128 292e 5365 744e 6f72  intData().SetNor
-00014910: 6d61 6c73 286e 756d 7079 3276 746b 2870  mals(numpy2vtk(p
-00014920: 6e6f 726d 7329 290a 0a20 2020 2063 6e6f  norms))..    cno
-00014930: 726d 7320 3d20 6d6d 6573 682e 6661 6365  rms = mmesh.face
-00014940: 5f6e 6f72 6d61 6c5f 6d61 7472 6978 2829  _normal_matrix()
-00014950: 0a20 2020 2069 6620 6c65 6e28 636e 6f72  .    if len(cnor
-00014960: 6d73 293a 0a20 2020 2020 2020 2070 6f6c  ms):.        pol
-00014970: 7964 6174 612e 4765 7443 656c 6c44 6174  ydata.GetCellDat
-00014980: 6128 292e 5365 744e 6f72 6d61 6c73 286e  a().SetNormals(n
-00014990: 756d 7079 3276 746b 2863 6e6f 726d 7329  umpy2vtk(cnorms)
-000149a0: 290a 2020 2020 7265 7475 726e 2070 6f6c  ).    return pol
-000149b0: 7964 6174 610a 0a64 6566 206f 7065 6e33  ydata..def open3
-000149c0: 6432 7665 646f 286f 3364 5f6d 6573 6829  d2vedo(o3d_mesh)
-000149d0: 3a0a 2020 2020 2222 2243 6f6e 7665 7274  :.    """Convert
-000149e0: 2060 6f70 656e 3364 2e67 656f 6d65 7472   `open3d.geometr
-000149f0: 792e 5472 6961 6e67 6c65 4d65 7368 6020  y.TriangleMesh` 
-00014a00: 746f 2061 2060 7665 646f 2e4d 6573 6860  to a `vedo.Mesh`
-00014a10: 2e22 2222 0a20 2020 206d 203d 2076 6564  .""".    m = ved
-00014a20: 6f2e 4d65 7368 285b 6e70 2e61 7272 6179  o.Mesh([np.array
-00014a30: 286f 3364 5f6d 6573 682e 7665 7274 6963  (o3d_mesh.vertic
-00014a40: 6573 292c 206e 702e 6172 7261 7928 6f33  es), np.array(o3
-00014a50: 645f 6d65 7368 2e74 7269 616e 676c 6573  d_mesh.triangles
-00014a60: 295d 290a 2020 2020 2320 544f 444f 3a20  )]).    # TODO: 
-00014a70: 636f 756c 6420 616c 736f 2063 6865 636b  could also check
-00014a80: 2077 6865 7468 6572 206e 6f72 6d61 6c73   whether normals
-00014a90: 2061 6e64 2063 6f6c 6f72 2061 7265 2070   and color are p
-00014aa0: 7265 7365 6e74 2069 6e20 0a20 2020 2023  resent in .    #
-00014ab0: 206f 7264 6572 2074 6f20 706f 7274 2077   order to port w
-00014ac0: 6974 6820 7468 6520 6162 6f76 6520 7665  ith the above ve
-00014ad0: 7274 6963 6573 2f66 6163 6573 0a20 2020  rtices/faces.   
-00014ae0: 2072 6574 7572 6e20 6d0a 0a64 6566 2076   return m..def v
-00014af0: 6564 6f32 6f70 656e 3364 2876 6564 6f5f  edo2open3d(vedo_
-00014b00: 6d65 7368 293a 0a20 2020 2022 2222 0a20  mesh):.    """. 
-00014b10: 2020 2052 6574 7572 6e20 616e 2060 6f70     Return an `op
-00014b20: 656e 3364 2e67 656f 6d65 7472 792e 5472  en3d.geometry.Tr
-00014b30: 6961 6e67 6c65 4d65 7368 6020 7665 7273  iangleMesh` vers
-00014b40: 696f 6e20 6f66 2074 6865 2063 7572 7265  ion of the curre
-00014b50: 6e74 206d 6573 682e 0a20 2020 2022 2222  nt mesh..    """
-00014b60: 0a20 2020 2074 7279 3a0a 2020 2020 2020  .    try:.      
-00014b70: 2020 696d 706f 7274 206f 7065 6e33 6420    import open3d 
-00014b80: 6173 206f 3364 0a20 2020 2065 7863 6570  as o3d.    excep
-00014b90: 7420 5275 6e74 696d 6545 7272 6f72 3a0a  t RuntimeError:.
-00014ba0: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
-00014bb0: 6765 722e 6572 726f 7228 224e 6565 6420  ger.error("Need 
-00014bc0: 6f70 656e 3364 2074 6f20 7275 6e3a 5c6e  open3d to run:\n
-00014bd0: 7069 7020 696e 7374 616c 6c20 6f70 656e  pip install open
-00014be0: 3364 2229 0a0a 2020 2020 2320 6372 6561  3d")..    # crea
-00014bf0: 7465 2066 726f 6d20 6e75 6d70 7920 6172  te from numpy ar
-00014c00: 7261 7973 0a20 2020 206f 3364 5f6d 6573  rays.    o3d_mes
-00014c10: 6820 3d20 6f33 642e 6765 6f6d 6574 7279  h = o3d.geometry
-00014c20: 2e54 7269 616e 676c 654d 6573 6828 0a20  .TriangleMesh(. 
-00014c30: 2020 2020 2020 2076 6572 7469 6365 733d         vertices=
-00014c40: 6f33 642e 7574 696c 6974 792e 5665 6374  o3d.utility.Vect
-00014c50: 6f72 3364 5665 6374 6f72 2876 6564 6f5f  or3dVector(vedo_
-00014c60: 6d65 7368 2e70 6f69 6e74 7328 2929 2c0a  mesh.points()),.
-00014c70: 2020 2020 2020 2020 7472 6961 6e67 6c65          triangle
-00014c80: 733d 6f33 642e 7574 696c 6974 792e 5665  s=o3d.utility.Ve
-00014c90: 6374 6f72 3369 5665 6374 6f72 2876 6564  ctor3iVector(ved
-00014ca0: 6f5f 6d65 7368 2e66 6163 6573 2829 292c  o_mesh.faces()),
-00014cb0: 0a20 2020 2029 0a20 2020 2023 2054 4f44  .    ).    # TOD
-00014cc0: 4f3a 206e 6565 6420 746f 2061 6464 2073  O: need to add s
-00014cd0: 6f6d 6520 6966 2063 6865 636b 2068 6572  ome if check her
-00014ce0: 6520 696e 2063 6173 6520 636f 6c6f 7220  e in case color 
-00014cf0: 616e 6420 6e6f 726d 616c 730a 2020 2020  and normals.    
-00014d00: 2320 2069 6e66 6f20 6172 6520 6e6f 7420  #  info are not 
-00014d10: 6578 6973 7469 6e67 0a20 2020 2023 206f  existing.    # o
-00014d20: 3364 5f6d 6573 682e 7665 7274 6578 5f63  3d_mesh.vertex_c
-00014d30: 6f6c 6f72 7320 3d20 6f33 642e 7574 696c  olors = o3d.util
-00014d40: 6974 792e 5665 6374 6f72 3364 5665 6374  ity.Vector3dVect
-00014d50: 6f72 2876 6564 6f5f 6d65 7368 2e70 6f69  or(vedo_mesh.poi
-00014d60: 6e74 6461 7461 5b22 5247 4222 5d2f 3235  ntdata["RGB"]/25
-00014d70: 3529 0a20 2020 2023 206f 3364 5f6d 6573  5).    # o3d_mes
-00014d80: 682e 7665 7274 6578 5f6e 6f72 6d61 6c73  h.vertex_normals
-00014d90: 3d20 6f33 642e 7574 696c 6974 792e 5665  = o3d.utility.Ve
-00014da0: 6374 6f72 3364 5665 6374 6f72 2876 6564  ctor3dVector(ved
-00014db0: 6f5f 6d65 7368 2e70 6f69 6e74 6461 7461  o_mesh.pointdata
-00014dc0: 5b22 4e6f 726d 616c 7322 5d29 0a20 2020  ["Normals"]).   
-00014dd0: 2072 6574 7572 6e20 6f33 645f 6d65 7368   return o3d_mesh
-00014de0: 0a0a 6465 6620 7674 6b5f 7665 7273 696f  ..def vtk_versio
-00014df0: 6e5f 6174 5f6c 6561 7374 286d 616a 6f72  n_at_least(major
-00014e00: 2c20 6d69 6e6f 723d 302c 2062 7569 6c64  , minor=0, build
-00014e10: 3d30 293a 0a20 2020 2022 2222 0a20 2020  =0):.    """.   
-00014e20: 2043 6865 636b 2074 6865 2069 6e73 7461   Check the insta
-00014e30: 6c6c 6564 2056 544b 2076 6572 7369 6f6e  lled VTK version
-00014e40: 2e0a 0a20 2020 2052 6574 7572 6e20 6054  ...    Return `T
-00014e50: 7275 6560 2069 6620 7468 6520 7265 7175  rue` if the requ
-00014e60: 6573 7465 6420 5654 4b20 7665 7273 696f  ested VTK versio
-00014e70: 6e20 6973 2067 7265 6174 6572 206f 7220  n is greater or 
-00014e80: 6571 7561 6c20 746f 2074 6865 2061 6374  equal to the act
-00014e90: 7561 6c20 5654 4b20 7665 7273 696f 6e2e  ual VTK version.
-00014ea0: 0a0a 2020 2020 4172 6775 6d65 6e74 733a  ..    Arguments:
-00014eb0: 0a20 2020 2020 2020 206d 616a 6f72 203a  .        major :
-00014ec0: 2028 696e 7429 0a20 2020 2020 2020 2020   (int).         
-00014ed0: 2020 204d 616a 6f72 2076 6572 7369 6f6e     Major version
-00014ee0: 2e0a 2020 2020 2020 2020 6d69 6e6f 7220  ..        minor 
-00014ef0: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
-00014f00: 2020 2020 4d69 6e6f 7220 7665 7273 696f      Minor versio
-00014f10: 6e2e 0a20 2020 2020 2020 2062 7569 6c64  n..        build
-00014f20: 203a 2028 696e 7429 0a20 2020 2020 2020   : (int).       
-00014f30: 2020 2020 2042 7569 6c64 2076 6572 7369       Build versi
-00014f40: 6f6e 2e0a 2020 2020 2222 220a 2020 2020  on..    """.    
-00014f50: 6e65 6564 6564 5f76 6572 7369 6f6e 203d  needed_version =
-00014f60: 2031 3030 3030 3030 3030 3030 202a 2069   10000000000 * i
-00014f70: 6e74 286d 616a 6f72 2920 2b20 3130 3030  nt(major) + 1000
-00014f80: 3030 3030 3020 2a20 696e 7428 6d69 6e6f  00000 * int(mino
-00014f90: 7229 202b 2069 6e74 2862 7569 6c64 290a  r) + int(build).
-00014fa0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00014fb0: 2076 746b 5f76 6572 7369 6f6e 5f6e 756d   vtk_version_num
-00014fc0: 6265 7220 3d20 7674 6b2e 5654 4b5f 5645  ber = vtk.VTK_VE
-00014fd0: 5253 494f 4e5f 4e55 4d42 4552 0a20 2020  RSION_NUMBER.   
-00014fe0: 2065 7863 6570 7420 4174 7472 6962 7574   except Attribut
-00014ff0: 6545 7272 6f72 3a20 2023 2061 7320 6572  eError:  # as er
-00015000: 726f 723a 0a20 2020 2020 2020 2076 6572  ror:.        ver
-00015010: 203d 2076 746b 2e76 746b 5665 7273 696f   = vtk.vtkVersio
-00015020: 6e28 290a 2020 2020 2020 2020 7674 6b5f  n().        vtk_
-00015030: 7665 7273 696f 6e5f 6e75 6d62 6572 203d  version_number =
-00015040: 2028 0a20 2020 2020 2020 2020 2020 2031   (.            1
-00015050: 3030 3030 3030 3030 3030 202a 2076 6572  0000000000 * ver
-00015060: 2e47 6574 5654 4b4d 616a 6f72 5665 7273  .GetVTKMajorVers
-00015070: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
-00015080: 2020 2b20 3130 3030 3030 3030 3020 2a20    + 100000000 * 
-00015090: 7665 722e 4765 7456 544b 4d69 6e6f 7256  ver.GetVTKMinorV
-000150a0: 6572 7369 6f6e 2829 0a20 2020 2020 2020  ersion().       
-000150b0: 2020 2020 202b 2076 6572 2e47 6574 5654       + ver.GetVT
-000150c0: 4b42 7569 6c64 5665 7273 696f 6e28 290a  KBuildVersion().
-000150d0: 2020 2020 2020 2020 290a 2020 2020 7265          ).    re
-000150e0: 7475 726e 2076 746b 5f76 6572 7369 6f6e  turn vtk_version
-000150f0: 5f6e 756d 6265 7220 3e3d 206e 6565 6465  _number >= neede
-00015100: 645f 7665 7273 696f 6e0a 0a0a 6465 6620  d_version...def 
-00015110: 6374 6632 6c75 7428 7476 6f62 6a2c 206c  ctf2lut(tvobj, l
-00015120: 6f67 7363 616c 653d 4661 6c73 6529 3a0a  ogscale=False):.
-00015130: 2020 2020 2222 2249 6e74 6572 6e61 6c20      """Internal 
-00015140: 7573 652e 2222 220a 2020 2020 2320 6275  use.""".    # bu
-00015150: 696c 6420 4c55 5420 6672 6f6d 2061 2063  ild LUT from a c
-00015160: 6f6c 6f72 2074 7261 6e73 6665 7220 6675  olor transfer fu
-00015170: 6e63 7469 6f6e 2066 6f72 2074 6d65 7368  nction for tmesh
-00015180: 206f 7220 766f 6c75 6d65 0a20 2020 2070   or volume.    p
-00015190: 7220 3d20 7476 6f62 6a2e 4765 7450 726f  r = tvobj.GetPro
-000151a0: 7065 7274 7928 290a 2020 2020 6966 206e  perty().    if n
-000151b0: 6f74 2069 7369 6e73 7461 6e63 6528 7072  ot isinstance(pr
-000151c0: 2c20 7674 6b2e 7674 6b56 6f6c 756d 6550  , vtk.vtkVolumeP
-000151d0: 726f 7065 7274 7929 3a0a 2020 2020 2020  roperty):.      
-000151e0: 2020 7265 7475 726e 204e 6f6e 650a 2020    return None.  
-000151f0: 2020 6374 6620 3d20 7072 2e47 6574 5247    ctf = pr.GetRG
-00015200: 4254 7261 6e73 6665 7246 756e 6374 696f  BTransferFunctio
-00015210: 6e28 290a 2020 2020 6f74 6620 3d20 7072  n().    otf = pr
-00015220: 2e47 6574 5363 616c 6172 4f70 6163 6974  .GetScalarOpacit
-00015230: 7928 290a 2020 2020 7830 2c20 7831 203d  y().    x0, x1 =
-00015240: 2074 766f 626a 2e69 6e70 7574 6461 7461   tvobj.inputdata
-00015250: 2829 2e47 6574 5363 616c 6172 5261 6e67  ().GetScalarRang
-00015260: 6528 290a 2020 2020 636f 6c73 2c20 616c  e().    cols, al
-00015270: 7068 6173 203d 205b 5d2c 205b 5d0a 2020  phas = [], [].  
-00015280: 2020 666f 7220 7820 696e 206e 702e 6c69    for x in np.li
-00015290: 6e73 7061 6365 2878 302c 2078 312c 2032  nspace(x0, x1, 2
-000152a0: 3536 293a 0a20 2020 2020 2020 2063 6f6c  56):.        col
-000152b0: 732e 6170 7065 6e64 2863 7466 2e47 6574  s.append(ctf.Get
-000152c0: 436f 6c6f 7228 7829 290a 2020 2020 2020  Color(x)).      
-000152d0: 2020 616c 7068 6173 2e61 7070 656e 6428    alphas.append(
-000152e0: 6f74 662e 4765 7456 616c 7565 2878 2929  otf.GetValue(x))
-000152f0: 0a0a 2020 2020 6966 206c 6f67 7363 616c  ..    if logscal
-00015300: 653a 0a20 2020 2020 2020 206c 7574 203d  e:.        lut =
-00015310: 2076 746b 2e76 746b 4c6f 674c 6f6f 6b75   vtk.vtkLogLooku
-00015320: 7054 6162 6c65 2829 0a20 2020 2065 6c73  pTable().    els
-00015330: 653a 0a20 2020 2020 2020 206c 7574 203d  e:.        lut =
-00015340: 2076 746b 2e76 746b 4c6f 6f6b 7570 5461   vtk.vtkLookupTa
-00015350: 626c 6528 290a 0a20 2020 206c 7574 2e53  ble()..    lut.S
-00015360: 6574 5261 6e67 6528 7830 2c20 7831 290a  etRange(x0, x1).
-00015370: 2020 2020 6c75 742e 5365 744e 756d 6265      lut.SetNumbe
-00015380: 724f 6654 6162 6c65 5661 6c75 6573 286c  rOfTableValues(l
-00015390: 656e 2863 6f6c 7329 290a 2020 2020 666f  en(cols)).    fo
-000153a0: 7220 692c 2063 6f6c 2069 6e20 656e 756d  r i, col in enum
-000153b0: 6572 6174 6528 636f 6c73 293a 0a20 2020  erate(cols):.   
-000153c0: 2020 2020 2072 2c20 672c 2062 203d 2063       r, g, b = c
-000153d0: 6f6c 0a20 2020 2020 2020 206c 7574 2e53  ol.        lut.S
-000153e0: 6574 5461 626c 6556 616c 7565 2869 2c20  etTableValue(i, 
-000153f0: 722c 2067 2c20 622c 2061 6c70 6861 735b  r, g, b, alphas[
-00015400: 695d 290a 2020 2020 6c75 742e 4275 696c  i]).    lut.Buil
-00015410: 6428 290a 2020 2020 7265 7475 726e 206c  d().    return l
-00015420: 7574 0a                                  ut.
+0000cc20: 696e 7463 2870 6f73 2c20 633d 2267 222c  intc(pos, c="g",
+0000cc30: 2062 6f6c 643d 4661 6c73 6529 0a0a 2020   bold=False)..  
+0000cc40: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+0000cc50: 6328 2262 6f75 6e64 7322 2e6c 6a75 7374  c("bounds".ljust
+0000cc60: 2831 3429 202b 2022 3a20 222c 2063 3d22  (14) + ": ", c="
+0000cc70: 6722 2c20 626f 6c64 3d54 7275 652c 2065  g", bold=True, e
+0000cc80: 6e64 3d22 2229 0a20 2020 2020 2020 2062  nd="").        b
+0000cc90: 7831 2c20 6278 3220 3d20 7072 6563 6973  x1, bx2 = precis
+0000cca0: 696f 6e28 626e 6473 5b30 5d2c 2033 292c  ion(bnds[0], 3),
+0000ccb0: 2070 7265 6369 7369 6f6e 2862 6e64 735b   precision(bnds[
+0000ccc0: 315d 2c20 3329 0a20 2020 2020 2020 2076  1], 3).        v
+0000ccd0: 6564 6f2e 7072 696e 7463 2822 783d 2822  edo.printc("x=("
+0000cce0: 202b 2062 7831 202b 2022 2c20 2220 2b20   + bx1 + ", " + 
+0000ccf0: 6278 3220 2b20 2229 222c 2063 3d22 6722  bx2 + ")", c="g"
+0000cd00: 2c20 626f 6c64 3d46 616c 7365 2c20 656e  , bold=False, en
+0000cd10: 643d 2222 290a 2020 2020 2020 2020 6279  d="").        by
+0000cd20: 312c 2062 7932 203d 2070 7265 6369 7369  1, by2 = precisi
+0000cd30: 6f6e 2862 6e64 735b 325d 2c20 3329 2c20  on(bnds[2], 3), 
+0000cd40: 7072 6563 6973 696f 6e28 626e 6473 5b33  precision(bnds[3
+0000cd50: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
+0000cd60: 646f 2e70 7269 6e74 6328 2220 793d 2822  do.printc(" y=("
+0000cd70: 202b 2062 7931 202b 2022 2c20 2220 2b20   + by1 + ", " + 
+0000cd80: 6279 3220 2b20 2229 222c 2063 3d22 6722  by2 + ")", c="g"
+0000cd90: 2c20 626f 6c64 3d46 616c 7365 2c20 656e  , bold=False, en
+0000cda0: 643d 2222 290a 2020 2020 2020 2020 627a  d="").        bz
+0000cdb0: 312c 2062 7a32 203d 2070 7265 6369 7369  1, bz2 = precisi
+0000cdc0: 6f6e 2862 6e64 735b 345d 2c20 3329 2c20  on(bnds[4], 3), 
+0000cdd0: 7072 6563 6973 696f 6e28 626e 6473 5b35  precision(bnds[5
+0000cde0: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
+0000cdf0: 646f 2e70 7269 6e74 6328 2220 7a3d 2822  do.printc(" z=("
+0000ce00: 202b 2062 7a31 202b 2022 2c20 2220 2b20   + bz1 + ", " + 
+0000ce10: 627a 3220 2b20 2229 222c 2063 3d22 6722  bz2 + ")", c="g"
+0000ce20: 2c20 626f 6c64 3d46 616c 7365 290a 0a20  , bold=False).. 
+0000ce30: 2020 2020 2020 2063 6c20 3d20 7674 6b2e         cl = vtk.
+0000ce40: 7674 6b50 726f 7043 6f6c 6c65 6374 696f  vtkPropCollectio
+0000ce50: 6e28 290a 2020 2020 2020 2020 6f62 6a2e  n().        obj.
+0000ce60: 4765 7441 6374 6f72 7328 636c 290a 2020  GetActors(cl).  
+0000ce70: 2020 2020 2020 636c 2e49 6e69 7454 7261        cl.InitTra
+0000ce80: 7665 7273 616c 2829 0a20 2020 2020 2020  versal().       
+0000ce90: 2066 6f72 205f 2069 6e20 7261 6e67 6528   for _ in range(
+0000cea0: 6f62 6a2e 4765 744e 756d 6265 724f 6650  obj.GetNumberOfP
+0000ceb0: 6174 6873 2829 293a 0a20 2020 2020 2020  aths()):.       
+0000cec0: 2020 2020 2061 6374 203d 2076 746b 2e76       act = vtk.v
+0000ced0: 746b 4163 746f 722e 5361 6665 446f 776e  tkActor.SafeDown
+0000cee0: 4361 7374 2863 6c2e 4765 744e 6578 7450  Cast(cl.GetNextP
+0000cef0: 726f 7028 2929 0a20 2020 2020 2020 2020  rop()).         
+0000cf00: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0000cf10: 2861 6374 2c20 7674 6b2e 7674 6b41 6374  (act, vtk.vtkAct
+0000cf20: 6f72 293a 0a20 2020 2020 2020 2020 2020  or):.           
+0000cf30: 2020 2020 205f 7072 696e 7476 746b 6163       _printvtkac
+0000cf40: 746f 7228 6163 7429 0a0a 2020 2020 656c  tor(act)..    el
+0000cf50: 6966 2069 7369 6e73 7461 6e63 6528 6f62  if isinstance(ob
+0000cf60: 6a2c 2076 6564 6f2e 5465 744d 6573 6829  j, vedo.TetMesh)
+0000cf70: 3a0a 2020 2020 2020 2020 6366 203d 2022  :.        cf = "
+0000cf80: 6d22 0a20 2020 2020 2020 2076 6564 6f2e  m".        vedo.
+0000cf90: 7072 696e 7463 2822 5465 744d 6573 6822  printc("TetMesh"
+0000cfa0: 2e6c 6a75 7374 2837 3029 2c20 633d 6366  .ljust(70), c=cf
+0000cfb0: 2c20 626f 6c64 3d54 7275 652c 2069 6e76  , bold=True, inv
+0000cfc0: 6572 743d 5472 7565 290a 2020 2020 2020  ert=True).      
+0000cfd0: 2020 706f 7320 3d20 6f62 6a2e 4765 7450    pos = obj.GetP
+0000cfe0: 6f73 6974 696f 6e28 290a 2020 2020 2020  osition().      
+0000cff0: 2020 626e 6473 203d 206f 626a 2e47 6574    bnds = obj.Get
+0000d000: 426f 756e 6473 2829 0a20 2020 2020 2020  Bounds().       
+0000d010: 2075 6720 3d20 6f62 6a2e 696e 7075 7464   ug = obj.inputd
+0000d020: 6174 6128 290a 2020 2020 2020 2020 7665  ata().        ve
+0000d030: 646f 2e70 7269 6e74 6328 226e 722e 206f  do.printc("nr. o
+0000d040: 6620 7465 7472 6173 222e 6c6a 7573 7428  f tetras".ljust(
+0000d050: 3134 2920 2b20 223a 2022 2c20 633d 6366  14) + ": ", c=cf
+0000d060: 2c20 626f 6c64 3d54 7275 652c 2065 6e64  , bold=True, end
+0000d070: 3d22 2229 0a20 2020 2020 2020 2076 6564  ="").        ved
+0000d080: 6f2e 7072 696e 7463 2875 672e 4765 744e  o.printc(ug.GetN
+0000d090: 756d 6265 724f 6643 656c 6c73 2829 2c20  umberOfCells(), 
+0000d0a0: 633d 6366 2c20 626f 6c64 3d46 616c 7365  c=cf, bold=False
+0000d0b0: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
+0000d0c0: 7269 6e74 6328 2270 6f73 6974 696f 6e22  rintc("position"
+0000d0d0: 2e6c 6a75 7374 2831 3429 202b 2022 3a20  .ljust(14) + ": 
+0000d0e0: 222c 2063 3d63 662c 2062 6f6c 643d 5472  ", c=cf, bold=Tr
+0000d0f0: 7565 2c20 656e 643d 2222 290a 2020 2020  ue, end="").    
+0000d100: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
+0000d110: 706f 732c 2063 3d63 662c 2062 6f6c 643d  pos, c=cf, bold=
+0000d120: 4661 6c73 6529 0a20 2020 2020 2020 2076  False).        v
+0000d130: 6564 6f2e 7072 696e 7463 2822 626f 756e  edo.printc("boun
+0000d140: 6473 222e 6c6a 7573 7428 3134 2920 2b20  ds".ljust(14) + 
+0000d150: 223a 2022 2c20 633d 6366 2c20 626f 6c64  ": ", c=cf, bold
+0000d160: 3d54 7275 652c 2065 6e64 3d22 2229 0a20  =True, end=""). 
+0000d170: 2020 2020 2020 2062 7831 2c20 6278 3220         bx1, bx2 
+0000d180: 3d20 7072 6563 6973 696f 6e28 626e 6473  = precision(bnds
+0000d190: 5b30 5d2c 2033 292c 2070 7265 6369 7369  [0], 3), precisi
+0000d1a0: 6f6e 2862 6e64 735b 315d 2c20 3329 0a20  on(bnds[1], 3). 
+0000d1b0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
+0000d1c0: 7463 2822 783d 2822 202b 2062 7831 202b  tc("x=(" + bx1 +
+0000d1d0: 2022 2c20 2220 2b20 6278 3220 2b20 2229   ", " + bx2 + ")
+0000d1e0: 222c 2063 3d63 662c 2062 6f6c 643d 4661  ", c=cf, bold=Fa
+0000d1f0: 6c73 652c 2065 6e64 3d22 2229 0a20 2020  lse, end="").   
+0000d200: 2020 2020 2062 7931 2c20 6279 3220 3d20       by1, by2 = 
+0000d210: 7072 6563 6973 696f 6e28 626e 6473 5b32  precision(bnds[2
+0000d220: 5d2c 2033 292c 2070 7265 6369 7369 6f6e  ], 3), precision
+0000d230: 2862 6e64 735b 335d 2c20 3329 0a20 2020  (bnds[3], 3).   
+0000d240: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000d250: 2822 2079 3d28 2220 2b20 6279 3120 2b20  (" y=(" + by1 + 
+0000d260: 222c 2022 202b 2062 7932 202b 2022 2922  ", " + by2 + ")"
+0000d270: 2c20 633d 6366 2c20 626f 6c64 3d46 616c  , c=cf, bold=Fal
+0000d280: 7365 2c20 656e 643d 2222 290a 2020 2020  se, end="").    
+0000d290: 2020 2020 627a 312c 2062 7a32 203d 2070      bz1, bz2 = p
+0000d2a0: 7265 6369 7369 6f6e 2862 6e64 735b 345d  recision(bnds[4]
+0000d2b0: 2c20 3329 2c20 7072 6563 6973 696f 6e28  , 3), precision(
+0000d2c0: 626e 6473 5b35 5d2c 2033 290a 2020 2020  bnds[5], 3).    
+0000d2d0: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
+0000d2e0: 2220 7a3d 2822 202b 2062 7a31 202b 2022  " z=(" + bz1 + "
+0000d2f0: 2c20 2220 2b20 627a 3220 2b20 2229 222c  , " + bz2 + ")",
+0000d300: 2063 3d63 662c 2062 6f6c 643d 4661 6c73   c=cf, bold=Fals
+0000d310: 6529 0a20 2020 2020 2020 205f 7072 696e  e).        _prin
+0000d320: 745f 6461 7461 2875 672c 2063 6629 0a0a  t_data(ug, cf)..
+0000d330: 2020 2020 656c 6966 2069 7369 6e73 7461      elif isinsta
+0000d340: 6e63 6528 6f62 6a2c 2028 7665 646f 2e76  nce(obj, (vedo.v
+0000d350: 6f6c 756d 652e 566f 6c75 6d65 2c20 7665  olume.Volume, ve
+0000d360: 646f 2e76 6f6c 756d 652e 566f 6c75 6d65  do.volume.Volume
+0000d370: 536c 6963 6529 293a 0a20 2020 2020 2020  Slice)):.       
+0000d380: 2076 6564 6f2e 7072 696e 7463 2822 566f   vedo.printc("Vo
+0000d390: 6c75 6d65 222e 6c6a 7573 7428 3730 292c  lume".ljust(70),
+0000d3a0: 2063 3d22 6222 2c20 626f 6c64 3d54 7275   c="b", bold=Tru
+0000d3b0: 652c 2069 6e76 6572 743d 5472 7565 290a  e, invert=True).
+0000d3c0: 0a20 2020 2020 2020 2069 6d67 203d 206f  .        img = o
+0000d3d0: 626a 2e47 6574 4d61 7070 6572 2829 2e47  bj.GetMapper().G
+0000d3e0: 6574 496e 7075 7428 290a 2020 2020 2020  etInput().      
+0000d3f0: 2020 7665 646f 2e70 7269 6e74 6328 226f    vedo.printc("o
+0000d400: 7269 6769 6e22 2e6c 6a75 7374 2831 3429  rigin".ljust(14)
+0000d410: 202b 2022 3a20 222c 2063 3d22 6222 2c20   + ": ", c="b", 
+0000d420: 626f 6c64 3d54 7275 652c 2065 6e64 3d22  bold=True, end="
+0000d430: 2229 0a20 2020 2020 2020 2076 6564 6f2e  ").        vedo.
+0000d440: 7072 696e 7463 2870 7265 6369 7369 6f6e  printc(precision
+0000d450: 286f 626a 2e6f 7269 6769 6e28 292c 2036  (obj.origin(), 6
+0000d460: 292c 2063 3d22 6222 2c20 626f 6c64 3d46  ), c="b", bold=F
+0000d470: 616c 7365 290a 0a20 2020 2020 2020 2076  alse)..        v
+0000d480: 6564 6f2e 7072 696e 7463 2822 6365 6e74  edo.printc("cent
+0000d490: 6572 222e 6c6a 7573 7428 3134 2920 2b20  er".ljust(14) + 
+0000d4a0: 223a 2022 2c20 633d 2262 222c 2062 6f6c  ": ", c="b", bol
+0000d4b0: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
+0000d4c0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000d4d0: 6e74 6328 7072 6563 6973 696f 6e28 6f62  ntc(precision(ob
+0000d4e0: 6a2e 6365 6e74 6572 2829 2c20 3629 2c20  j.center(), 6), 
+0000d4f0: 633d 2262 222c 2062 6f6c 643d 4661 6c73  c="b", bold=Fals
+0000d500: 6529 0a0a 2020 2020 2020 2020 7665 646f  e)..        vedo
+0000d510: 2e70 7269 6e74 6328 2264 696d 656e 7369  .printc("dimensi
+0000d520: 6f6e 7322 2e6c 6a75 7374 2831 3429 202b  ons".ljust(14) +
+0000d530: 2022 3a20 222c 2063 3d22 6222 2c20 626f   ": ", c="b", bo
+0000d540: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
+0000d550: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
+0000d560: 696e 7463 2869 6d67 2e47 6574 4469 6d65  intc(img.GetDime
+0000d570: 6e73 696f 6e73 2829 2c20 633d 2262 222c  nsions(), c="b",
+0000d580: 2062 6f6c 643d 4661 6c73 6529 0a20 2020   bold=False).   
+0000d590: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000d5a0: 2822 7370 6163 696e 6722 2e6c 6a75 7374  ("spacing".ljust
+0000d5b0: 2831 3429 202b 2022 3a20 222c 2063 3d22  (14) + ": ", c="
+0000d5c0: 6222 2c20 626f 6c64 3d54 7275 652c 2065  b", bold=True, e
+0000d5d0: 6e64 3d22 2229 0a20 2020 2020 2020 2076  nd="").        v
+0000d5e0: 6564 6f2e 7072 696e 7463 2870 7265 6369  edo.printc(preci
+0000d5f0: 7369 6f6e 2869 6d67 2e47 6574 5370 6163  sion(img.GetSpac
+0000d600: 696e 6728 292c 2036 292c 2063 3d22 6222  ing(), 6), c="b"
+0000d610: 2c20 626f 6c64 3d46 616c 7365 290a 2020  , bold=False).  
+0000d620: 2020 2020 2020 2320 7665 646f 2e70 7269        # vedo.pri
+0000d630: 6e74 6328 2264 6174 6120 6469 6d65 6e73  ntc("data dimens
+0000d640: 696f 6e22 2e6c 6a75 7374 2831 3429 202b  ion".ljust(14) +
+0000d650: 2022 3a20 222c 2063 3d22 6222 2c20 626f   ": ", c="b", bo
+0000d660: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
+0000d670: 0a20 2020 2020 2020 2023 2076 6564 6f2e  .        # vedo.
+0000d680: 7072 696e 7463 2869 6d67 2e47 6574 4461  printc(img.GetDa
+0000d690: 7461 4469 6d65 6e73 696f 6e28 292c 2063  taDimension(), c
+0000d6a0: 3d22 6222 2c20 626f 6c64 3d46 616c 7365  ="b", bold=False
+0000d6b0: 290a 0a20 2020 2020 2020 2076 6564 6f2e  )..        vedo.
+0000d6c0: 7072 696e 7463 2822 6d65 6d6f 7279 2073  printc("memory s
+0000d6d0: 697a 6522 2e6c 6a75 7374 2831 3429 202b  ize".ljust(14) +
+0000d6e0: 2022 3a20 222c 2063 3d22 6222 2c20 626f   ": ", c="b", bo
+0000d6f0: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
+0000d700: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
+0000d710: 696e 7463 2869 6e74 2869 6d67 2e47 6574  intc(int(img.Get
+0000d720: 4163 7475 616c 4d65 6d6f 7279 5369 7a65  ActualMemorySize
+0000d730: 2829 202f 2031 3032 3429 2c20 224d 4222  () / 1024), "MB"
+0000d740: 2c20 633d 2262 222c 2062 6f6c 643d 4661  , c="b", bold=Fa
+0000d750: 6c73 6529 0a0a 2020 2020 2020 2020 7665  lse)..        ve
+0000d760: 646f 2e70 7269 6e74 6328 2273 6361 6c61  do.printc("scala
+0000d770: 7220 2362 7974 6573 222e 6c6a 7573 7428  r #bytes".ljust(
+0000d780: 3134 2920 2b20 223a 2022 2c20 633d 2262  14) + ": ", c="b
+0000d790: 222c 2062 6f6c 643d 5472 7565 2c20 656e  ", bold=True, en
+0000d7a0: 643d 2222 290a 2020 2020 2020 2020 7665  d="").        ve
+0000d7b0: 646f 2e70 7269 6e74 6328 696d 672e 4765  do.printc(img.Ge
+0000d7c0: 7453 6361 6c61 7253 697a 6528 292c 2063  tScalarSize(), c
+0000d7d0: 3d22 6222 2c20 626f 6c64 3d46 616c 7365  ="b", bold=False
+0000d7e0: 290a 0a20 2020 2020 2020 2062 6e64 7320  )..        bnds 
+0000d7f0: 3d20 6f62 6a2e 4765 7442 6f75 6e64 7328  = obj.GetBounds(
+0000d800: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
+0000d810: 7269 6e74 6328 2262 6f75 6e64 7322 2e6c  rintc("bounds".l
+0000d820: 6a75 7374 2831 3429 202b 2022 3a20 222c  just(14) + ": ",
+0000d830: 2063 3d22 6222 2c20 626f 6c64 3d54 7275   c="b", bold=Tru
+0000d840: 652c 2065 6e64 3d22 2229 0a20 2020 2020  e, end="").     
+0000d850: 2020 2062 7831 2c20 6278 3220 3d20 7072     bx1, bx2 = pr
+0000d860: 6563 6973 696f 6e28 626e 6473 5b30 5d2c  ecision(bnds[0],
+0000d870: 2034 292c 2070 7265 6369 7369 6f6e 2862   4), precision(b
+0000d880: 6e64 735b 315d 2c20 3429 0a20 2020 2020  nds[1], 4).     
+0000d890: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
+0000d8a0: 783d 2822 202b 2062 7831 202b 2022 2c20  x=(" + bx1 + ", 
+0000d8b0: 2220 2b20 6278 3220 2b20 2229 222c 2063  " + bx2 + ")", c
+0000d8c0: 3d22 6222 2c20 626f 6c64 3d46 616c 7365  ="b", bold=False
+0000d8d0: 2c20 656e 643d 2222 290a 2020 2020 2020  , end="").      
+0000d8e0: 2020 6279 312c 2062 7932 203d 2070 7265    by1, by2 = pre
+0000d8f0: 6369 7369 6f6e 2862 6e64 735b 325d 2c20  cision(bnds[2], 
+0000d900: 3429 2c20 7072 6563 6973 696f 6e28 626e  4), precision(bn
+0000d910: 6473 5b33 5d2c 2034 290a 2020 2020 2020  ds[3], 4).      
+0000d920: 2020 7665 646f 2e70 7269 6e74 6328 2220    vedo.printc(" 
+0000d930: 793d 2822 202b 2062 7931 202b 2022 2c20  y=(" + by1 + ", 
+0000d940: 2220 2b20 6279 3220 2b20 2229 222c 2063  " + by2 + ")", c
+0000d950: 3d22 6222 2c20 626f 6c64 3d46 616c 7365  ="b", bold=False
+0000d960: 2c20 656e 643d 2222 290a 2020 2020 2020  , end="").      
+0000d970: 2020 627a 312c 2062 7a32 203d 2070 7265    bz1, bz2 = pre
+0000d980: 6369 7369 6f6e 2862 6e64 735b 345d 2c20  cision(bnds[4], 
+0000d990: 3429 2c20 7072 6563 6973 696f 6e28 626e  4), precision(bn
+0000d9a0: 6473 5b35 5d2c 2034 290a 2020 2020 2020  ds[5], 4).      
+0000d9b0: 2020 7665 646f 2e70 7269 6e74 6328 2220    vedo.printc(" 
+0000d9c0: 7a3d 2822 202b 2062 7a31 202b 2022 2c20  z=(" + bz1 + ", 
+0000d9d0: 2220 2b20 627a 3220 2b20 2229 222c 2063  " + bz2 + ")", c
+0000d9e0: 3d22 6222 2c20 626f 6c64 3d46 616c 7365  ="b", bold=False
+0000d9f0: 290a 0a20 2020 2020 2020 2076 6564 6f2e  )..        vedo.
+0000da00: 7072 696e 7463 2822 7363 616c 6172 2072  printc("scalar r
+0000da10: 616e 6765 222e 6c6a 7573 7428 3134 2920  ange".ljust(14) 
+0000da20: 2b20 223a 2022 2c20 633d 2262 222c 2062  + ": ", c="b", b
+0000da30: 6f6c 643d 5472 7565 2c20 656e 643d 2222  old=True, end=""
+0000da40: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
+0000da50: 7269 6e74 6328 696d 672e 4765 7453 6361  rintc(img.GetSca
+0000da60: 6c61 7252 616e 6765 2829 2c20 633d 2262  larRange(), c="b
+0000da70: 222c 2062 6f6c 643d 4661 6c73 6529 0a0a  ", bold=False)..
+0000da80: 2020 2020 2020 2020 7072 696e 745f 6869          print_hi
+0000da90: 7374 6f67 7261 6d28 6f62 6a2c 2068 6f72  stogram(obj, hor
+0000daa0: 697a 6f6e 7461 6c3d 5472 7565 2c20 6c6f  izontal=True, lo
+0000dab0: 6773 6361 6c65 3d54 7275 652c 2062 696e  gscale=True, bin
+0000dac0: 733d 382c 2068 6569 6768 743d 3135 2c20  s=8, height=15, 
+0000dad0: 633d 2262 222c 2062 6f6c 643d 5472 7565  c="b", bold=True
+0000dae0: 290a 0a20 2020 2065 6c69 6620 6973 696e  )..    elif isin
+0000daf0: 7374 616e 6365 286f 626a 2c20 7665 646f  stance(obj, vedo
+0000db00: 2e50 6c6f 7474 6572 2920 616e 6420 6f62  .Plotter) and ob
+0000db10: 6a2e 696e 7465 7261 6374 6f72 3a20 2023  j.interactor:  #
+0000db20: 2064 756d 7073 2050 6c6f 7474 6572 2069   dumps Plotter i
+0000db30: 6e66 6f0a 2020 2020 2020 2020 6178 7479  nfo.        axty
+0000db40: 7065 203d 207b 0a20 2020 2020 2020 2020  pe = {.         
+0000db50: 2020 2030 3a20 2228 6e6f 2061 7865 7329     0: "(no axes)
+0000db60: 222c 0a20 2020 2020 2020 2020 2020 2031  ",.            1
+0000db70: 3a20 2228 7468 7265 6520 6375 7374 6f6d  : "(three custom
+0000db80: 697a 6162 6c65 2067 7261 7920 6772 6964  izable gray grid
+0000db90: 2077 616c 6c73 2922 2c0a 2020 2020 2020   walls)",.      
+0000dba0: 2020 2020 2020 323a 2022 2863 6172 7465        2: "(carte
+0000dbb0: 7369 616e 2061 7865 7320 6672 6f6d 206f  sian axes from o
+0000dbc0: 7269 6769 6e22 2c0a 2020 2020 2020 2020  rigin",.        
+0000dbd0: 2020 2020 333a 2022 2870 6f73 6974 6976      3: "(positiv
+0000dbe0: 6520 7261 6e67 6520 6f66 2063 6172 7465  e range of carte
+0000dbf0: 7369 616e 2061 7865 7320 6672 6f6d 206f  sian axes from o
+0000dc00: 7269 6769 6e22 2c0a 2020 2020 2020 2020  rigin",.        
+0000dc10: 2020 2020 343a 2022 2861 7865 7320 7472      4: "(axes tr
+0000dc20: 6961 6420 6174 2062 6f74 746f 6d20 6c65  iad at bottom le
+0000dc30: 6674 2922 2c0a 2020 2020 2020 2020 2020  ft)",.          
+0000dc40: 2020 353a 2022 286f 7269 656e 7465 6420    5: "(oriented 
+0000dc50: 6375 6265 2061 7420 626f 7474 6f6d 206c  cube at bottom l
+0000dc60: 6566 7429 222c 0a20 2020 2020 2020 2020  eft)",.         
+0000dc70: 2020 2036 3a20 2228 6d61 726b 2074 6865     6: "(mark the
+0000dc80: 2063 6f72 6e65 7273 206f 6620 7468 6520   corners of the 
+0000dc90: 626f 756e 6469 6e67 2062 6f78 2922 2c0a  bounding box)",.
+0000dca0: 2020 2020 2020 2020 2020 2020 373a 2022              7: "
+0000dcb0: 2833 4420 7275 6c65 7220 6174 2065 6163  (3D ruler at eac
+0000dcc0: 6820 7369 6465 206f 6620 7468 6520 6361  h side of the ca
+0000dcd0: 7274 6573 6961 6e20 6178 6573 2922 2c0a  rtesian axes)",.
+0000dce0: 2020 2020 2020 2020 2020 2020 383a 2022              8: "
+0000dcf0: 2874 6865 2076 746b 4375 6265 4178 6573  (the vtkCubeAxes
+0000dd00: 4163 746f 7220 6f62 6a65 6374 2922 2c0a  Actor object)",.
+0000dd10: 2020 2020 2020 2020 2020 2020 393a 2022              9: "
+0000dd20: 2874 6865 2062 6f75 6e64 696e 6720 626f  (the bounding bo
+0000dd30: 7820 6f75 746c 696e 6529 222c 0a20 2020  x outline)",.   
+0000dd40: 2020 2020 2020 2020 2031 303a 2022 2863           10: "(c
+0000dd50: 6972 636c 6573 206f 6620 6d61 7869 6d75  ircles of maximu
+0000dd60: 6d20 626f 756e 6469 6e67 2062 6f78 2072  m bounding box r
+0000dd70: 616e 6765 2922 2c0a 2020 2020 2020 2020  ange)",.        
+0000dd80: 2020 2020 3131 3a20 2228 7368 6f77 2061      11: "(show a
+0000dd90: 206c 6172 6765 2067 7269 6420 6f6e 2074   large grid on t
+0000dda0: 6865 2078 2d79 2070 6c61 6e65 2922 2c0a  he x-y plane)",.
+0000ddb0: 2020 2020 2020 2020 2020 2020 3132 3a20              12: 
+0000ddc0: 2228 7368 6f77 2070 6f6c 6172 2061 7865  "(show polar axe
+0000ddd0: 7329 222c 0a20 2020 2020 2020 2020 2020  s)",.           
+0000dde0: 2031 333a 2022 2873 696d 706c 6520 7275   13: "(simple ru
+0000ddf0: 6c65 7220 6174 2074 6865 2062 6f74 746f  ler at the botto
+0000de00: 6d20 6f66 2074 6865 2077 696e 646f 7729  m of the window)
+0000de10: 222c 0a20 2020 2020 2020 2020 2020 2031  ",.            1
+0000de20: 343a 2022 2874 6865 2076 746b 4361 6d65  4: "(the vtkCame
+0000de30: 7261 4f72 6965 6e74 6174 696f 6e57 6964  raOrientationWid
+0000de40: 6765 7420 6f62 6a65 6374 2922 2c0a 2020  get object)",.  
+0000de50: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0000de60: 626e 732c 2074 6f74 7074 203d 205b 5d2c  bns, totpt = [],
+0000de70: 2030 0a20 2020 2020 2020 2066 6f72 2061   0.        for a
+0000de80: 2069 6e20 6f62 6a2e 6163 746f 7273 3a0a   in obj.actors:.
+0000de90: 2020 2020 2020 2020 2020 2020 6220 3d20              b = 
+0000dea0: 612e 4765 7442 6f75 6e64 7328 290a 2020  a.GetBounds().  
+0000deb0: 2020 2020 2020 2020 2020 6966 2061 2e47            if a.G
+0000dec0: 6574 426f 756e 6473 2829 2069 7320 6e6f  etBounds() is no
+0000ded0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0000dee0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0000def0: 7461 6e63 6528 612c 2076 746b 2e76 746b  tance(a, vtk.vtk
+0000df00: 4163 746f 7229 2061 6e64 2061 2e47 6574  Actor) and a.Get
+0000df10: 4d61 7070 6572 2829 3a0a 2020 2020 2020  Mapper():.      
+0000df20: 2020 2020 2020 2020 2020 2020 2020 746f                to
+0000df30: 7470 7420 2b3d 2061 2e47 6574 4d61 7070  tpt += a.GetMapp
+0000df40: 6572 2829 2e47 6574 496e 7075 7428 292e  er().GetInput().
+0000df50: 4765 744e 756d 6265 724f 6650 6f69 6e74  GetNumberOfPoint
+0000df60: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+0000df70: 2020 2020 626e 732e 6170 7065 6e64 2862      bns.append(b
+0000df80: 290a 2020 2020 2020 2020 6966 206c 656e  ).        if len
+0000df90: 2862 6e73 2920 3d3d 2030 3a0a 2020 2020  (bns) == 0:.    
+0000dfa0: 2020 2020 2020 2020 7265 7475 726e 0a20          return. 
+0000dfb0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
+0000dfc0: 7463 2822 506c 6f74 7465 7222 2e6c 6a75  tc("Plotter".lju
+0000dfd0: 7374 2837 3029 2c20 696e 7665 7274 3d54  st(70), invert=T
+0000dfe0: 7275 652c 2064 696d 3d31 2c20 633d 2263  rue, dim=1, c="c
+0000dff0: 2229 0a20 2020 2020 2020 206f 7469 7420  ").        otit 
+0000e000: 3d20 6f62 6a2e 7469 746c 650a 2020 2020  = obj.title.    
+0000e010: 2020 2020 6966 206e 6f74 206f 7469 743a      if not otit:
+0000e020: 0a20 2020 2020 2020 2020 2020 206f 7469  .            oti
+0000e030: 7420 3d20 4e6f 6e65 0a20 2020 2020 2020  t = None.       
+0000e040: 2076 6564 6f2e 7072 696e 7463 2822 7769   vedo.printc("wi
+0000e050: 6e64 6f77 2074 6974 6c65 222e 6c6a 7573  ndow title".ljus
+0000e060: 7428 3134 2920 2b20 223a 222c 206f 7469  t(14) + ":", oti
+0000e070: 742c 2062 6f6c 643d 4661 6c73 652c 2063  t, bold=False, c
+0000e080: 3d22 6322 290a 2020 2020 2020 2020 7665  ="c").        ve
+0000e090: 646f 2e70 7269 6e74 6328 0a20 2020 2020  do.printc(.     
+0000e0a0: 2020 2020 2020 2022 7769 6e64 6f77 2073         "window s
+0000e0b0: 697a 6522 2e6c 6a75 7374 2831 3429 202b  ize".ljust(14) +
+0000e0c0: 2022 3a22 2c0a 2020 2020 2020 2020 2020   ":",.          
+0000e0d0: 2020 6f62 6a2e 7769 6e64 6f77 2e47 6574    obj.window.Get
+0000e0e0: 5369 7a65 2829 2c0a 2020 2020 2020 2020  Size(),.        
+0000e0f0: 2020 2020 222d 2066 756c 6c20 7363 7265      "- full scre
+0000e100: 656e 2073 697a 653a 222c 0a20 2020 2020  en size:",.     
+0000e110: 2020 2020 2020 206f 626a 2e77 696e 646f         obj.windo
+0000e120: 772e 4765 7453 6372 6565 6e53 697a 6528  w.GetScreenSize(
+0000e130: 292c 0a20 2020 2020 2020 2020 2020 2062  ),.            b
+0000e140: 6f6c 643d 4661 6c73 652c 0a20 2020 2020  old=False,.     
+0000e150: 2020 2020 2020 2063 3d22 6322 2c0a 2020         c="c",.  
+0000e160: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000e170: 7665 646f 2e70 7269 6e74 6328 0a20 2020  vedo.printc(.   
+0000e180: 2020 2020 2020 2020 2022 6163 7476 2072           "actv r
+0000e190: 656e 6465 7265 7222 2e6c 6a75 7374 2831  enderer".ljust(1
+0000e1a0: 3429 202b 2022 3a22 2c0a 2020 2020 2020  4) + ":",.      
+0000e1b0: 2020 2020 2020 226e 722e 222c 0a20 2020        "nr.",.   
+0000e1c0: 2020 2020 2020 2020 206f 626a 2e72 656e           obj.ren
+0000e1d0: 6465 7265 7273 2e69 6e64 6578 286f 626a  derers.index(obj
+0000e1e0: 2e72 656e 6465 7265 7229 2c0a 2020 2020  .renderer),.    
+0000e1f0: 2020 2020 2020 2020 6622 286f 6620 7b6c          f"(of {l
+0000e200: 656e 286f 626a 2e72 656e 6465 7265 7273  en(obj.renderers
+0000e210: 297d 2072 656e 6465 7265 7273 2922 2c0a  )} renderers)",.
+0000e220: 2020 2020 2020 2020 2020 2020 626f 6c64              bold
+0000e230: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
+0000e240: 2020 2020 633d 2263 222c 0a20 2020 2020      c="c",.     
+0000e250: 2020 2029 0a20 2020 2020 2020 2076 6564     ).        ved
+0000e260: 6f2e 7072 696e 7463 2822 6e72 2e20 6f66  o.printc("nr. of
+0000e270: 2061 6374 6f72 7322 2e6c 6a75 7374 2831   actors".ljust(1
+0000e280: 3429 202b 2022 3a22 2c20 6c65 6e28 6f62  4) + ":", len(ob
+0000e290: 6a2e 6163 746f 7273 292c 2062 6f6c 643d  j.actors), bold=
+0000e2a0: 4661 6c73 652c 2063 3d22 6322 2c20 656e  False, c="c", en
+0000e2b0: 643d 2222 290a 2020 2020 2020 2020 7665  d="").        ve
+0000e2c0: 646f 2e70 7269 6e74 6328 2220 2822 202b  do.printc(" (" +
+0000e2d0: 2073 7472 2874 6f74 7074 292c 2022 7665   str(totpt), "ve
+0000e2e0: 7274 6963 6573 2922 2c20 626f 6c64 3d46  rtices)", bold=F
+0000e2f0: 616c 7365 2c20 633d 2263 2229 0a20 2020  alse, c="c").   
+0000e300: 2020 2020 206d 6178 5f62 6e73 203d 206e       max_bns = n
+0000e310: 702e 6d61 7828 626e 732c 2061 7869 733d  p.max(bns, axis=
+0000e320: 3029 0a20 2020 2020 2020 206d 696e 5f62  0).        min_b
+0000e330: 6e73 203d 206e 702e 6d69 6e28 626e 732c  ns = np.min(bns,
+0000e340: 2061 7869 733d 3029 0a20 2020 2020 2020   axis=0).       
+0000e350: 2076 6564 6f2e 7072 696e 7463 2822 6d61   vedo.printc("ma
+0000e360: 7820 626f 756e 6473 222e 6c6a 7573 7428  x bounds".ljust(
+0000e370: 3134 2920 2b20 223a 2022 2c20 633d 2263  14) + ": ", c="c
+0000e380: 222c 2062 6f6c 643d 4661 6c73 652c 2065  ", bold=False, e
+0000e390: 6e64 3d22 2229 0a20 2020 2020 2020 2062  nd="").        b
+0000e3a0: 7831 2c20 6278 3220 3d20 7072 6563 6973  x1, bx2 = precis
+0000e3b0: 696f 6e28 6d69 6e5f 626e 735b 305d 2c20  ion(min_bns[0], 
+0000e3c0: 3329 2c20 7072 6563 6973 696f 6e28 6d61  3), precision(ma
+0000e3d0: 785f 626e 735b 315d 2c20 3329 0a20 2020  x_bns[1], 3).   
+0000e3e0: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000e3f0: 2822 783d 2822 202b 2062 7831 202b 2022  ("x=(" + bx1 + "
+0000e400: 2c20 2220 2b20 6278 3220 2b20 2229 222c  , " + bx2 + ")",
+0000e410: 2063 3d22 6322 2c20 626f 6c64 3d46 616c   c="c", bold=Fal
+0000e420: 7365 2c20 656e 643d 2222 290a 2020 2020  se, end="").    
+0000e430: 2020 2020 6279 312c 2062 7932 203d 2070      by1, by2 = p
+0000e440: 7265 6369 7369 6f6e 286d 696e 5f62 6e73  recision(min_bns
+0000e450: 5b32 5d2c 2033 292c 2070 7265 6369 7369  [2], 3), precisi
+0000e460: 6f6e 286d 6178 5f62 6e73 5b33 5d2c 2033  on(max_bns[3], 3
+0000e470: 290a 2020 2020 2020 2020 7665 646f 2e70  ).        vedo.p
+0000e480: 7269 6e74 6328 2220 793d 2822 202b 2062  rintc(" y=(" + b
+0000e490: 7931 202b 2022 2c20 2220 2b20 6279 3220  y1 + ", " + by2 
+0000e4a0: 2b20 2229 222c 2063 3d22 6322 2c20 626f  + ")", c="c", bo
+0000e4b0: 6c64 3d46 616c 7365 2c20 656e 643d 2222  ld=False, end=""
+0000e4c0: 290a 2020 2020 2020 2020 627a 312c 2062  ).        bz1, b
+0000e4d0: 7a32 203d 2070 7265 6369 7369 6f6e 286d  z2 = precision(m
+0000e4e0: 696e 5f62 6e73 5b34 5d2c 2033 292c 2070  in_bns[4], 3), p
+0000e4f0: 7265 6369 7369 6f6e 286d 6178 5f62 6e73  recision(max_bns
+0000e500: 5b35 5d2c 2033 290a 2020 2020 2020 2020  [5], 3).        
+0000e510: 7665 646f 2e70 7269 6e74 6328 2220 7a3d  vedo.printc(" z=
+0000e520: 2822 202b 2062 7a31 202b 2022 2c20 2220  (" + bz1 + ", " 
+0000e530: 2b20 627a 3220 2b20 2229 222c 2063 3d22  + bz2 + ")", c="
+0000e540: 6322 2c20 626f 6c64 3d46 616c 7365 290a  c", bold=False).
+0000e550: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0000e560: 7461 6e63 6528 6f62 6a2e 6178 6573 2c20  tance(obj.axes, 
+0000e570: 6469 6374 293a 0a20 2020 2020 2020 2020  dict):.         
+0000e580: 2020 206f 626a 2e61 7865 7320 3d20 310a     obj.axes = 1.
+0000e590: 2020 2020 2020 2020 6966 206f 626a 2e61          if obj.a
+0000e5a0: 7865 733a 0a20 2020 2020 2020 2020 2020  xes:.           
+0000e5b0: 2076 6564 6f2e 7072 696e 7463 2822 6178   vedo.printc("ax
+0000e5c0: 6573 2073 7479 6c65 222e 6c6a 7573 7428  es style".ljust(
+0000e5d0: 3134 2920 2b20 223a 222c 206f 626a 2e61  14) + ":", obj.a
+0000e5e0: 7865 732c 2061 7874 7970 655b 6f62 6a2e  xes, axtype[obj.
+0000e5f0: 6178 6573 5d2c 2062 6f6c 643d 4661 6c73  axes], bold=Fals
+0000e600: 652c 2063 3d22 6322 290a 0a20 2020 2065  e, c="c")..    e
+0000e610: 6c69 6620 6973 696e 7374 616e 6365 286f  lif isinstance(o
+0000e620: 626a 2c20 7665 646f 2e50 6963 7475 7265  bj, vedo.Picture
+0000e630: 293a 2020 2320 6475 6d70 7320 5069 6374  ):  # dumps Pict
+0000e640: 7572 6520 696e 666f 0a20 2020 2020 2020  ure info.       
+0000e650: 2076 6564 6f2e 7072 696e 7463 2822 5069   vedo.printc("Pi
+0000e660: 6374 7572 6522 2e6c 6a75 7374 2837 3029  cture".ljust(70)
+0000e670: 2c20 633d 2279 222c 2062 6f6c 643d 5472  , c="y", bold=Tr
+0000e680: 7565 2c20 696e 7665 7274 3d54 7275 6529  ue, invert=True)
+0000e690: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
+0000e6a0: 2020 2020 2020 2020 2020 2320 6765 6e65            # gene
+0000e6b0: 7261 7465 2061 2070 7269 6e74 2074 6875  rate a print thu
+0000e6c0: 6d62 6e61 696c 0a20 2020 2020 2020 2020  mbnail.         
+0000e6d0: 2020 2077 6964 7468 2c20 6865 6967 6874     width, height
+0000e6e0: 203d 206f 626a 2e64 696d 656e 7369 6f6e   = obj.dimension
+0000e6f0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+0000e700: 7720 3d20 3435 0a20 2020 2020 2020 2020  w = 45.         
+0000e710: 2020 2068 203d 2069 6e74 2868 6569 6768     h = int(heigh
+0000e720: 7420 2f20 7769 6474 6820 2a20 2877 202d  t / width * (w -
+0000e730: 2031 2920 2a20 302e 3520 2b20 302e 3529   1) * 0.5 + 0.5)
+0000e740: 0a20 2020 2020 2020 2020 2020 2069 6d67  .            img
+0000e750: 5f61 7272 203d 206f 626a 2e63 6c6f 6e65  _arr = obj.clone
+0000e760: 2829 2e72 6573 697a 6528 5b77 2c20 685d  ().resize([w, h]
+0000e770: 292e 746f 6e75 6d70 7928 290a 2020 2020  ).tonumpy().    
+0000e780: 2020 2020 2020 2020 682c 2077 203d 2069          h, w = i
+0000e790: 6d67 5f61 7272 2e73 6861 7065 5b3a 325d  mg_arr.shape[:2]
+0000e7a0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0000e7b0: 2078 2069 6e20 7261 6e67 6528 6829 3a0a   x in range(h):.
+0000e7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e7d0: 666f 7220 7920 696e 2072 616e 6765 2877  for y in range(w
+0000e7e0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000e7f0: 2020 2020 2020 2070 6978 203d 2069 6d67         pix = img
+0000e800: 5f61 7272 5b78 5d5b 795d 0a20 2020 2020  _arr[x][y].     
+0000e810: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000e820: 2c20 672c 2062 203d 2070 6978 5b3a 335d  , g, b = pix[:3]
+0000e830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e840: 2020 2020 2070 7269 6e74 2866 225c 7831       print(f"\x1
+0000e850: 625b 3438 3b32 3b7b 727d 3b7b 677d 3b7b  b[48;2;{r};{g};{
+0000e860: 627d 6d22 2c20 656e 643d 2220 2229 0a20  b}m", end=" "). 
+0000e870: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000e880: 7269 6e74 2822 5c78 3162 5b30 6d22 290a  rint("\x1b[0m").
+0000e890: 2020 2020 2020 2020 6578 6365 7074 3a0a          except:.
+0000e8a0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+0000e8b0: 0a0a 2020 2020 2020 2020 696d 6720 3d20  ..        img = 
+0000e8c0: 6f62 6a2e 4765 744d 6170 7065 7228 292e  obj.GetMapper().
+0000e8d0: 4765 7449 6e70 7574 2829 0a20 2020 2020  GetInput().     
+0000e8e0: 2020 2070 6f73 203d 206f 626a 2e47 6574     pos = obj.Get
+0000e8f0: 506f 7369 7469 6f6e 2829 0a20 2020 2020  Position().     
+0000e900: 2020 2076 6564 6f2e 7072 696e 7463 2822     vedo.printc("
+0000e910: 706f 7369 7469 6f6e 222e 6c6a 7573 7428  position".ljust(
+0000e920: 3134 2920 2b20 223a 2022 2c20 633d 2279  14) + ": ", c="y
+0000e930: 222c 2062 6f6c 643d 5472 7565 2c20 656e  ", bold=True, en
+0000e940: 643d 2222 290a 2020 2020 2020 2020 7665  d="").        ve
+0000e950: 646f 2e70 7269 6e74 6328 706f 732c 2063  do.printc(pos, c
+0000e960: 3d22 7922 2c20 626f 6c64 3d46 616c 7365  ="y", bold=False
+0000e970: 290a 0a20 2020 2020 2020 2076 6564 6f2e  )..        vedo.
+0000e980: 7072 696e 7463 2822 6469 6d65 6e73 696f  printc("dimensio
+0000e990: 6e73 222e 6c6a 7573 7428 3134 2920 2b20  ns".ljust(14) + 
+0000e9a0: 223a 2022 2c20 633d 2279 222c 2062 6f6c  ": ", c="y", bol
+0000e9b0: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
+0000e9c0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000e9d0: 6e74 6328 6f62 6a2e 7368 6170 652c 2063  ntc(obj.shape, c
+0000e9e0: 3d22 7922 2c20 626f 6c64 3d46 616c 7365  ="y", bold=False
+0000e9f0: 290a 0a20 2020 2020 2020 2076 6564 6f2e  )..        vedo.
+0000ea00: 7072 696e 7463 2822 6d65 6d6f 7279 2073  printc("memory s
+0000ea10: 697a 6522 2e6c 6a75 7374 2831 3429 202b  ize".ljust(14) +
+0000ea20: 2022 3a20 222c 2063 3d22 7922 2c20 626f   ": ", c="y", bo
+0000ea30: 6c64 3d54 7275 652c 2065 6e64 3d22 2229  ld=True, end="")
+0000ea40: 0a20 2020 2020 2020 2076 6564 6f2e 7072  .        vedo.pr
+0000ea50: 696e 7463 2869 6e74 2869 6d67 2e47 6574  intc(int(img.Get
+0000ea60: 4163 7475 616c 4d65 6d6f 7279 5369 7a65  ActualMemorySize
+0000ea70: 2829 292c 2022 6b42 222c 2063 3d22 7922  ()), "kB", c="y"
+0000ea80: 2c20 626f 6c64 3d46 616c 7365 290a 0a20  , bold=False).. 
+0000ea90: 2020 2020 2020 2062 6e64 7320 3d20 6f62         bnds = ob
+0000eaa0: 6a2e 4765 7442 6f75 6e64 7328 290a 2020  j.GetBounds().  
+0000eab0: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+0000eac0: 6328 2262 6f75 6e64 7322 2e6c 6a75 7374  c("bounds".ljust
+0000ead0: 2831 3429 202b 2022 3a20 222c 2063 3d22  (14) + ": ", c="
+0000eae0: 7922 2c20 626f 6c64 3d54 7275 652c 2065  y", bold=True, e
+0000eaf0: 6e64 3d22 2229 0a20 2020 2020 2020 2062  nd="").        b
+0000eb00: 7831 2c20 6278 3220 3d20 7072 6563 6973  x1, bx2 = precis
+0000eb10: 696f 6e28 626e 6473 5b30 5d2c 2033 292c  ion(bnds[0], 3),
+0000eb20: 2070 7265 6369 7369 6f6e 2862 6e64 735b   precision(bnds[
+0000eb30: 315d 2c20 3329 0a20 2020 2020 2020 2076  1], 3).        v
+0000eb40: 6564 6f2e 7072 696e 7463 2822 783d 2822  edo.printc("x=("
+0000eb50: 202b 2062 7831 202b 2022 2c20 2220 2b20   + bx1 + ", " + 
+0000eb60: 6278 3220 2b20 2229 222c 2063 3d22 7922  bx2 + ")", c="y"
+0000eb70: 2c20 626f 6c64 3d46 616c 7365 2c20 656e  , bold=False, en
+0000eb80: 643d 2222 290a 2020 2020 2020 2020 6279  d="").        by
+0000eb90: 312c 2062 7932 203d 2070 7265 6369 7369  1, by2 = precisi
+0000eba0: 6f6e 2862 6e64 735b 325d 2c20 3329 2c20  on(bnds[2], 3), 
+0000ebb0: 7072 6563 6973 696f 6e28 626e 6473 5b33  precision(bnds[3
+0000ebc0: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
+0000ebd0: 646f 2e70 7269 6e74 6328 2220 793d 2822  do.printc(" y=("
+0000ebe0: 202b 2062 7931 202b 2022 2c20 2220 2b20   + by1 + ", " + 
+0000ebf0: 6279 3220 2b20 2229 222c 2063 3d22 7922  by2 + ")", c="y"
+0000ec00: 2c20 626f 6c64 3d46 616c 7365 2c20 656e  , bold=False, en
+0000ec10: 643d 2222 290a 2020 2020 2020 2020 627a  d="").        bz
+0000ec20: 312c 2062 7a32 203d 2070 7265 6369 7369  1, bz2 = precisi
+0000ec30: 6f6e 2862 6e64 735b 345d 2c20 3329 2c20  on(bnds[4], 3), 
+0000ec40: 7072 6563 6973 696f 6e28 626e 6473 5b35  precision(bnds[5
+0000ec50: 5d2c 2033 290a 2020 2020 2020 2020 7665  ], 3).        ve
+0000ec60: 646f 2e70 7269 6e74 6328 2220 7a3d 2822  do.printc(" z=("
+0000ec70: 202b 2062 7a31 202b 2022 2c20 2220 2b20   + bz1 + ", " + 
+0000ec80: 627a 3220 2b20 2229 222c 2063 3d22 7922  bz2 + ")", c="y"
+0000ec90: 2c20 626f 6c64 3d46 616c 7365 290a 0a20  , bold=False).. 
+0000eca0: 2020 2020 2020 2076 6564 6f2e 7072 696e         vedo.prin
+0000ecb0: 7463 2822 696e 7465 6e73 7479 2072 616e  tc("intensty ran
+0000ecc0: 6765 222e 6c6a 7573 7428 3134 2920 2b20  ge".ljust(14) + 
+0000ecd0: 223a 2022 2c20 633d 2279 222c 2062 6f6c  ": ", c="y", bol
+0000ece0: 643d 5472 7565 2c20 656e 643d 2222 290a  d=True, end="").
+0000ecf0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000ed00: 6e74 6328 696d 672e 4765 7453 6361 6c61  ntc(img.GetScala
+0000ed10: 7252 616e 6765 2829 2c20 633d 2279 222c  rRange(), c="y",
+0000ed20: 2062 6f6c 643d 4661 6c73 6529 0a20 2020   bold=False).   
+0000ed30: 2020 2020 2076 6564 6f2e 7072 696e 7463       vedo.printc
+0000ed40: 2822 6c65 7665 6c20 2f20 7769 6e64 6f77  ("level / window
+0000ed50: 222e 6c6a 7573 7428 3134 2920 2b20 223a  ".ljust(14) + ":
+0000ed60: 2022 2c20 633d 2279 222c 2062 6f6c 643d   ", c="y", bold=
+0000ed70: 5472 7565 2c20 656e 643d 2222 290a 2020  True, end="").  
+0000ed80: 2020 2020 2020 7665 646f 2e70 7269 6e74        vedo.print
+0000ed90: 6328 6f62 6a2e 6c65 7665 6c28 292c 2022  c(obj.level(), "
+0000eda0: 2f22 2c20 6f62 6a2e 7769 6e64 6f77 2829  /", obj.window()
+0000edb0: 2c20 633d 2279 222c 2062 6f6c 643d 4661  , c="y", bold=Fa
+0000edc0: 6c73 6529 0a0a 2020 2020 656c 7365 3a0a  lse)..    else:.
+0000edd0: 2020 2020 2020 2020 7665 646f 2e70 7269          vedo.pri
+0000ede0: 6e74 6328 7374 7228 7479 7065 286f 626a  ntc(str(type(obj
+0000edf0: 2929 2e6c 6a75 7374 2837 3029 2c20 696e  )).ljust(70), in
+0000ee00: 7665 7274 3d54 7275 6529 0a20 2020 2020  vert=True).     
+0000ee10: 2020 2076 6564 6f2e 7072 696e 7463 286f     vedo.printc(o
+0000ee20: 626a 290a 0a0a 6465 6620 7072 696e 745f  bj)...def print_
+0000ee30: 6869 7374 6f67 7261 6d28 0a20 2020 2064  histogram(.    d
+0000ee40: 6174 612c 0a20 2020 2062 696e 733d 3130  ata,.    bins=10
+0000ee50: 2c0a 2020 2020 6865 6967 6874 3d31 302c  ,.    height=10,
+0000ee60: 0a20 2020 206c 6f67 7363 616c 653d 4661  .    logscale=Fa
+0000ee70: 6c73 652c 0a20 2020 206d 696e 6269 6e3d  lse,.    minbin=
+0000ee80: 302c 0a20 2020 2068 6f72 697a 6f6e 7461  0,.    horizonta
+0000ee90: 6c3d 4661 6c73 652c 0a20 2020 2063 6861  l=False,.    cha
+0000eea0: 723d 225c 7532 3538 3822 2c0a 2020 2020  r="\u2588",.    
+0000eeb0: 633d 4e6f 6e65 2c0a 2020 2020 626f 6c64  c=None,.    bold
+0000eec0: 3d54 7275 652c 0a20 2020 2074 6974 6c65  =True,.    title
+0000eed0: 3d22 6869 7374 6f67 7261 6d22 2c0a 2020  ="histogram",.  
+0000eee0: 2020 7370 6163 6572 3d22 222c 0a29 3a0a    spacer="",.):.
+0000eef0: 2020 2020 2222 220a 2020 2020 4173 6369      """.    Asci
+0000ef00: 6920 6869 7374 6f67 7261 6d20 7072 696e  i histogram prin
+0000ef10: 7469 6e67 2e0a 0a20 2020 2049 6e70 7574  ting...    Input
+0000ef20: 2063 616e 2062 6520 6120 6076 6564 6f2e   can be a `vedo.
+0000ef30: 566f 6c75 6d65 6020 6f72 2060 7665 646f  Volume` or `vedo
+0000ef40: 2e4d 6573 6860 2e0a 2020 2020 5265 7475  .Mesh`..    Retu
+0000ef50: 726e 7320 7468 6520 7261 7720 6461 7461  rns the raw data
+0000ef60: 2062 6566 6f72 6520 6269 6e6e 696e 6720   before binning 
+0000ef70: 2875 7365 6675 6c20 7768 656e 2070 6173  (useful when pas
+0000ef80: 7369 6e67 2076 746b 206f 626a 6563 7473  sing vtk objects
+0000ef90: 292e 0a0a 2020 2020 4172 6775 6d65 6e74  )...    Argument
+0000efa0: 733a 0a20 2020 2020 2020 2062 696e 7320  s:.        bins 
+0000efb0: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
+0000efc0: 2020 2020 6e75 6d62 6572 206f 6620 6869      number of hi
+0000efd0: 7374 6f67 7261 6d20 6269 6e73 0a20 2020  stogram bins.   
+0000efe0: 2020 2020 2068 6569 6768 7420 3a20 2869       height : (i
+0000eff0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+0000f000: 6865 6967 6874 206f 6620 7468 6520 6869  height of the hi
+0000f010: 7374 6f67 7261 6d20 696e 2063 6861 7261  stogram in chara
+0000f020: 6374 6572 2075 6e69 7473 0a20 2020 2020  cter units.     
+0000f030: 2020 206c 6f67 7363 616c 6520 3a20 2862     logscale : (b
+0000f040: 6f6f 6c29 0a20 2020 2020 2020 2020 2020  ool).           
+0000f050: 2075 7365 206c 6f67 7363 616c 6520 666f   use logscale fo
+0000f060: 7220 6672 6571 7565 6e63 6965 730a 2020  r frequencies.  
+0000f070: 2020 2020 2020 6d69 6e62 696e 203a 2028        minbin : (
+0000f080: 696e 7429 0a20 2020 2020 2020 2020 2020  int).           
+0000f090: 2069 676e 6f72 6520 6269 6e73 2062 6566   ignore bins bef
+0000f0a0: 6f72 6520 6d69 6e62 696e 0a20 2020 2020  ore minbin.     
+0000f0b0: 2020 2068 6f72 697a 6f6e 7461 6c20 3a20     horizontal : 
+0000f0c0: 2862 6f6f 6c29 0a20 2020 2020 2020 2020  (bool).         
+0000f0d0: 2020 2073 686f 7720 6869 7374 6f67 7261     show histogra
+0000f0e0: 6d20 686f 7269 7a6f 6e74 616c 6c79 0a20  m horizontally. 
+0000f0f0: 2020 2020 2020 2063 6861 7220 3a20 2873         char : (s
+0000f100: 7472 290a 2020 2020 2020 2020 2020 2020  tr).            
+0000f110: 6368 6172 6163 7465 7220 746f 2062 6520  character to be 
+0000f120: 7573 6564 0a20 2020 2020 2020 2062 6f6c  used.        bol
+0000f130: 6420 3a20 2862 6f6f 6c29 0a20 2020 2020  d : (bool).     
+0000f140: 2020 2020 2020 2075 7365 2062 6f6c 6466         use boldf
+0000f150: 6163 650a 2020 2020 2020 2020 7469 746c  ace.        titl
+0000f160: 6520 3a20 2873 7472 290a 2020 2020 2020  e : (str).      
+0000f170: 2020 2020 2020 6869 7374 6f67 7261 6d20        histogram 
+0000f180: 7469 746c 650a 2020 2020 2020 2020 7370  title.        sp
+0000f190: 6163 6572 203a 2028 7374 7229 0a20 2020  acer : (str).   
+0000f1a0: 2020 2020 2020 2020 2068 6f72 697a 6f6e           horizon
+0000f1b0: 7461 6c20 7370 6163 6572 0a0a 2020 2020  tal spacer..    
+0000f1c0: 4578 616d 706c 653a 0a20 2020 2020 2020  Example:.       
+0000f1d0: 2060 6060 7079 7468 6f6e 0a20 2020 2020   ```python.     
+0000f1e0: 2020 2066 726f 6d20 7665 646f 2069 6d70     from vedo imp
+0000f1f0: 6f72 7420 7072 696e 745f 6869 7374 6f67  ort print_histog
+0000f200: 7261 6d0a 2020 2020 2020 2020 696d 706f  ram.        impo
+0000f210: 7274 206e 756d 7079 2061 7320 6e70 0a20  rt numpy as np. 
+0000f220: 2020 2020 2020 2064 203d 206e 702e 7261         d = np.ra
+0000f230: 6e64 6f6d 2e6e 6f72 6d61 6c28 7369 7a65  ndom.normal(size
+0000f240: 3d31 3030 3029 0a20 2020 2020 2020 2064  =1000).        d
+0000f250: 6174 6120 3d20 7072 696e 745f 6869 7374  ata = print_hist
+0000f260: 6f67 7261 6d28 642c 2063 3d27 626c 7565  ogram(d, c='blue
+0000f270: 272c 206c 6f67 7363 616c 653d 5472 7565  ', logscale=True
+0000f280: 2c20 7469 746c 653d 276d 7920 7363 616c  , title='my scal
+0000f290: 6172 7327 290a 2020 2020 2020 2020 6461  ars').        da
+0000f2a0: 7461 203d 2070 7269 6e74 5f68 6973 746f  ta = print_histo
+0000f2b0: 6772 616d 2864 2c20 633d 312c 2068 6f72  gram(d, c=1, hor
+0000f2c0: 697a 6f6e 7461 6c3d 3129 0a20 2020 2020  izontal=1).     
+0000f2d0: 2020 2070 7269 6e74 286e 702e 6d65 616e     print(np.mean
+0000f2e0: 2864 6174 6129 2920 2320 6461 7461 2068  (data)) # data h
+0000f2f0: 6572 6520 6973 2073 616d 6520 6173 2064  ere is same as d
+0000f300: 0a20 2020 2020 2020 2060 6060 0a20 2020  .        ```.   
+0000f310: 2020 2020 2021 5b5d 2868 7474 7073 3a2f       ![](https:/
+0000f320: 2f76 6564 6f2e 656d 626c 2e65 732f 696d  /vedo.embl.es/im
+0000f330: 6167 6573 2f66 6561 7473 2f70 7269 6e74  ages/feats/print
+0000f340: 5f68 6973 746f 6772 616d 2e70 6e67 290a  _histogram.png).
+0000f350: 2020 2020 2222 220a 2020 2020 2320 6372      """.    # cr
+0000f360: 6564 6974 733a 2068 7474 703a 2f2f 7079  edits: http://py
+0000f370: 696e 7363 692e 626c 6f67 7370 6f74 2e63  insci.blogspot.c
+0000f380: 6f6d 2f32 3030 392f 3130 2f61 7363 6969  om/2009/10/ascii
+0000f390: 2d68 6973 746f 6772 616d 732e 6874 6d6c  -histograms.html
+0000f3a0: 0a20 2020 2023 2061 6461 7074 6564 2066  .    # adapted f
+0000f3b0: 6f72 2076 6564 6f20 6279 204d 2e4d 7573  or vedo by M.Mus
+0000f3c0: 792c 2032 3031 390a 0a20 2020 2069 6620  y, 2019..    if 
+0000f3d0: 6e6f 7420 686f 7269 7a6f 6e74 616c 3a20  not horizontal: 
+0000f3e0: 2023 2062 6574 7465 7220 6173 7065 6374   # better aspect
+0000f3f0: 2072 6174 696f 0a20 2020 2020 2020 2062   ratio.        b
+0000f400: 696e 7320 2a3d 2032 0a0a 2020 2020 6973  ins *= 2..    is
+0000f410: 696d 6720 3d20 6973 696e 7374 616e 6365  img = isinstance
+0000f420: 2864 6174 612c 2076 746b 2e76 746b 496d  (data, vtk.vtkIm
+0000f430: 6167 6544 6174 6129 0a20 2020 2069 7376  ageData).    isv
+0000f440: 6f6c 203d 2069 7369 6e73 7461 6e63 6528  ol = isinstance(
+0000f450: 6461 7461 2c20 7674 6b2e 7674 6b56 6f6c  data, vtk.vtkVol
+0000f460: 756d 6529 0a20 2020 2069 6620 6973 696d  ume).    if isim
+0000f470: 6720 6f72 2069 7376 6f6c 3a0a 2020 2020  g or isvol:.    
+0000f480: 2020 2020 6966 2069 7376 6f6c 3a0a 2020      if isvol:.  
+0000f490: 2020 2020 2020 2020 2020 696d 6720 3d20            img = 
+0000f4a0: 6461 7461 2e69 6d61 6765 6461 7461 2829  data.imagedata()
+0000f4b0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000f4c0: 2020 2020 2020 2020 2020 2069 6d67 203d             img =
+0000f4d0: 2064 6174 610a 2020 2020 2020 2020 6469   data.        di
+0000f4e0: 6d73 203d 2069 6d67 2e47 6574 4469 6d65  ms = img.GetDime
+0000f4f0: 6e73 696f 6e73 2829 0a20 2020 2020 2020  nsions().       
+0000f500: 206e 7678 203d 206d 696e 2831 3030 3030   nvx = min(10000
+0000f510: 302c 2064 696d 735b 305d 202a 2064 696d  0, dims[0] * dim
+0000f520: 735b 315d 202a 2064 696d 735b 325d 290a  s[1] * dims[2]).
+0000f530: 2020 2020 2020 2020 6964 7873 203d 206e          idxs = n
+0000f540: 702e 7261 6e64 6f6d 2e72 616e 6469 6e74  p.random.randint
+0000f550: 2830 2c20 6d69 6e28 6469 6d73 292c 2073  (0, min(dims), s
+0000f560: 697a 653d 286e 7678 2c20 3329 290a 2020  ize=(nvx, 3)).  
+0000f570: 2020 2020 2020 6461 7461 203d 205b 5d0a        data = [].
+0000f580: 2020 2020 2020 2020 666f 7220 6978 2c20          for ix, 
+0000f590: 6979 2c20 697a 2069 6e20 6964 7873 3a0a  iy, iz in idxs:.
+0000f5a0: 2020 2020 2020 2020 2020 2020 6420 3d20              d = 
+0000f5b0: 696d 672e 4765 7453 6361 6c61 7243 6f6d  img.GetScalarCom
+0000f5c0: 706f 6e65 6e74 4173 466c 6f61 7428 6978  ponentAsFloat(ix
+0000f5d0: 2c20 6979 2c20 697a 2c20 3029 0a20 2020  , iy, iz, 0).   
+0000f5e0: 2020 2020 2020 2020 2064 6174 612e 6170           data.ap
+0000f5f0: 7065 6e64 2864 290a 2020 2020 656c 6966  pend(d).    elif
+0000f600: 2069 7369 6e73 7461 6e63 6528 6461 7461   isinstance(data
+0000f610: 2c20 7674 6b2e 7674 6b41 6374 6f72 293a  , vtk.vtkActor):
+0000f620: 0a20 2020 2020 2020 2061 7272 203d 2064  .        arr = d
+0000f630: 6174 612e 706f 6c79 6461 7461 2829 2e47  ata.polydata().G
+0000f640: 6574 506f 696e 7444 6174 6128 292e 4765  etPointData().Ge
+0000f650: 7453 6361 6c61 7273 2829 0a20 2020 2020  tScalars().     
+0000f660: 2020 2069 6620 6e6f 7420 6172 723a 0a20     if not arr:. 
+0000f670: 2020 2020 2020 2020 2020 2061 7272 203d             arr =
+0000f680: 2064 6174 612e 706f 6c79 6461 7461 2829   data.polydata()
+0000f690: 2e47 6574 4365 6c6c 4461 7461 2829 2e47  .GetCellData().G
+0000f6a0: 6574 5363 616c 6172 7328 290a 2020 2020  etScalars().    
+0000f6b0: 2020 2020 2020 2020 6966 206e 6f74 2061          if not a
+0000f6c0: 7272 3a0a 2020 2020 2020 2020 2020 2020  rr:.            
+0000f6d0: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
+0000f6e0: 0a20 2020 2020 2020 2064 6174 6120 3d20  .        data = 
+0000f6f0: 7674 6b32 6e75 6d70 7928 6172 7229 0a0a  vtk2numpy(arr)..
+0000f700: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+0000f710: 2068 203d 206e 702e 6869 7374 6f67 7261   h = np.histogra
+0000f720: 6d28 6461 7461 2c20 6269 6e73 3d62 696e  m(data, bins=bin
+0000f730: 7329 0a20 2020 2065 7863 6570 7420 5479  s).    except Ty
+0000f740: 7065 4572 726f 7220 6173 2065 3a0a 2020  peError as e:.  
+0000f750: 2020 2020 2020 7665 646f 2e6c 6f67 6765        vedo.logge
+0000f760: 722e 6572 726f 7228 6622 6361 6e6e 6f74  r.error(f"cannot
+0000f770: 2063 6f6d 7075 7465 2068 6973 746f 6772   compute histogr
+0000f780: 616d 3a20 7b65 7d22 290a 2020 2020 2020  am: {e}").      
+0000f790: 2020 7265 7475 726e 2022 220a 0a20 2020    return ""..   
+0000f7a0: 2069 6620 6d69 6e62 696e 3a0a 2020 2020   if minbin:.    
+0000f7b0: 2020 2020 6869 203d 2068 5b30 5d5b 6d69      hi = h[0][mi
+0000f7c0: 6e62 696e 3a2d 315d 0a20 2020 2065 6c73  nbin:-1].    els
+0000f7d0: 653a 0a20 2020 2020 2020 2068 6920 3d20  e:.        hi = 
+0000f7e0: 685b 305d 0a0a 2020 2020 6966 2063 6861  h[0]..    if cha
+0000f7f0: 7220 3d3d 2022 5c55 3030 3030 3235 3839  r == "\U00002589
+0000f800: 2220 616e 6420 686f 7269 7a6f 6e74 616c  " and horizontal
+0000f810: 3a0a 2020 2020 2020 2020 6368 6172 203d  :.        char =
+0000f820: 2022 5c55 3030 3030 3235 3836 220a 0a20   "\U00002586".. 
+0000f830: 2020 2074 6974 6c65 203d 2074 6974 6c65     title = title
+0000f840: 2e6c 6a75 7374 2831 3429 202b 2022 3a22  .ljust(14) + ":"
+0000f850: 0a20 2020 2065 6e74 7273 203d 2022 2065  .    entrs = " e
+0000f860: 6e74 7269 6573 3d22 202b 2073 7472 286c  ntries=" + str(l
+0000f870: 656e 2864 6174 6129 290a 2020 2020 6966  en(data)).    if
+0000f880: 206c 6f67 7363 616c 653a 0a20 2020 2020   logscale:.     
+0000f890: 2020 2068 3020 3d20 6e70 2e6c 6f67 3130     h0 = np.log10
+0000f8a0: 2868 6920 2b20 3129 0a20 2020 2020 2020  (hi + 1).       
+0000f8b0: 206d 6178 6830 203d 2069 6e74 286d 6178   maxh0 = int(max
+0000f8c0: 2868 3029 202a 2031 3030 2920 2f20 3130  (h0) * 100) / 10
+0000f8d0: 300a 2020 2020 2020 2020 7469 746c 6520  0.        title 
+0000f8e0: 3d20 7469 746c 6520 2b20 656e 7472 7320  = title + entrs 
+0000f8f0: 2b20 2220 286c 6f67 7363 616c 6529 220a  + " (logscale)".
+0000f900: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000f910: 2020 6830 203d 2068 690a 2020 2020 2020    h0 = hi.      
+0000f920: 2020 6d61 7868 3020 3d20 6d61 7828 6830    maxh0 = max(h0
+0000f930: 290a 2020 2020 2020 2020 7469 746c 6520  ).        title 
+0000f940: 3d20 7469 746c 6520 2b20 656e 7472 730a  = title + entrs.
+0000f950: 0a20 2020 2064 6566 205f 7628 293a 0a20  .    def _v():. 
+0000f960: 2020 2020 2020 2068 6973 203d 2022 220a         his = "".
+0000f970: 2020 2020 2020 2020 6966 2074 6974 6c65          if title
+0000f980: 3a0a 2020 2020 2020 2020 2020 2020 6869  :.            hi
+0000f990: 7320 2b3d 2074 6974 6c65 202b 2022 5c6e  s += title + "\n
+0000f9a0: 220a 2020 2020 2020 2020 6261 7273 203d  ".        bars =
+0000f9b0: 2068 3020 2f20 6d61 7868 3020 2a20 6865   h0 / maxh0 * he
+0000f9c0: 6967 6874 0a20 2020 2020 2020 2066 6f72  ight.        for
+0000f9d0: 206c 2069 6e20 7265 7665 7273 6564 2872   l in reversed(r
+0000f9e0: 616e 6765 2831 2c20 6865 6967 6874 202b  ange(1, height +
+0000f9f0: 2031 2929 3a0a 2020 2020 2020 2020 2020   1)):.          
+0000fa00: 2020 6c69 6e65 203d 2022 220a 2020 2020    line = "".    
+0000fa10: 2020 2020 2020 2020 6966 206c 203d 3d20          if l == 
+0000fa20: 6865 6967 6874 3a0a 2020 2020 2020 2020  height:.        
+0000fa30: 2020 2020 2020 2020 6c69 6e65 203d 2022          line = "
+0000fa40: 2573 2022 2025 206d 6178 6830 0a20 2020  %s " % maxh0.   
+0000fa50: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000fa60: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0000fa70: 696e 6520 3d20 2220 2020 7c22 202b 2022  ine = "   |" + "
+0000fa80: 2022 202a 2028 6c65 6e28 7374 7228 6d61   " * (len(str(ma
+0000fa90: 7868 3029 2920 2d20 3329 0a20 2020 2020  xh0)) - 3).     
+0000faa0: 2020 2020 2020 2066 6f72 2063 2069 6e20         for c in 
+0000fab0: 6261 7273 3a0a 2020 2020 2020 2020 2020  bars:.          
+0000fac0: 2020 2020 2020 6966 2063 203e 3d20 6e70        if c >= np
+0000fad0: 2e63 6569 6c28 6c29 3a0a 2020 2020 2020  .ceil(l):.      
+0000fae0: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+0000faf0: 6e65 202b 3d20 6368 6172 0a20 2020 2020  ne += char.     
+0000fb00: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000fb10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fb20: 2020 2020 206c 696e 6520 2b3d 2022 2022       line += " "
+0000fb30: 0a20 2020 2020 2020 2020 2020 206c 696e  .            lin
+0000fb40: 6520 2b3d 2022 5c6e 220a 2020 2020 2020  e += "\n".      
+0000fb50: 2020 2020 2020 6869 7320 2b3d 206c 696e        his += lin
+0000fb60: 650a 2020 2020 2020 2020 6869 7320 2b3d  e.        his +=
+0000fb70: 2022 252e 3266 2220 2520 685b 315d 5b30   "%.2f" % h[1][0
+0000fb80: 5d20 2b20 222e 2220 2a20 2862 696e 7329  ] + "." * (bins)
+0000fb90: 202b 2022 252e 3266 2220 2520 685b 315d   + "%.2f" % h[1]
+0000fba0: 5b2d 315d 202b 2022 5c6e 220a 2020 2020  [-1] + "\n".    
+0000fbb0: 2020 2020 7265 7475 726e 2068 6973 0a0a      return his..
+0000fbc0: 2020 2020 6465 6620 5f68 2829 3a0a 2020      def _h():.  
+0000fbd0: 2020 2020 2020 6869 7320 3d20 2222 0a20        his = "". 
+0000fbe0: 2020 2020 2020 2069 6620 7469 746c 653a         if title:
+0000fbf0: 0a20 2020 2020 2020 2020 2020 2068 6973  .            his
+0000fc00: 202b 3d20 7469 746c 6520 2b20 225c 6e22   += title + "\n"
+0000fc10: 0a20 2020 2020 2020 2078 6c20 3d20 5b22  .        xl = ["
+0000fc20: 252e 3266 2220 2520 6e20 666f 7220 6e20  %.2f" % n for n 
+0000fc30: 696e 2068 5b31 5d5d 0a20 2020 2020 2020  in h[1]].       
+0000fc40: 206c 786c 203d 205b 6c65 6e28 6c29 2066   lxl = [len(l) f
+0000fc50: 6f72 206c 2069 6e20 786c 5d0a 2020 2020  or l in xl].    
+0000fc60: 2020 2020 6261 7273 203d 2068 3020 2f20      bars = h0 / 
+0000fc70: 6d61 7868 3020 2a20 6865 6967 6874 0a20  maxh0 * height. 
+0000fc80: 2020 2020 2020 2068 6973 202b 3d20 7370         his += sp
+0000fc90: 6163 6572 202b 2022 2022 202a 2069 6e74  acer + " " * int
+0000fca0: 286d 6178 2862 6172 7329 202b 2032 202b  (max(bars) + 2 +
+0000fcb0: 206d 6178 286c 786c 2929 202b 2022 2573   max(lxl)) + "%s
+0000fcc0: 5c6e 2220 2520 6d61 7868 300a 2020 2020  \n" % maxh0.    
+0000fcd0: 2020 2020 666f 7220 692c 2063 2069 6e20      for i, c in 
+0000fce0: 656e 756d 6572 6174 6528 6261 7273 293a  enumerate(bars):
+0000fcf0: 0a20 2020 2020 2020 2020 2020 206c 696e  .            lin
+0000fd00: 6520 3d20 786c 5b69 5d20 2b20 2220 2220  e = xl[i] + " " 
+0000fd10: 2a20 696e 7428 6d61 7828 6c78 6c29 202d  * int(max(lxl) -
+0000fd20: 206c 786c 5b69 5d29 202b 2022 7c20 2220   lxl[i]) + "| " 
+0000fd30: 2b20 6368 6172 202a 2069 6e74 2863 2920  + char * int(c) 
+0000fd40: 2b20 225c 6e22 0a20 2020 2020 2020 2020  + "\n".         
+0000fd50: 2020 2068 6973 202b 3d20 7370 6163 6572     his += spacer
+0000fd60: 202b 206c 696e 650a 2020 2020 2020 2020   + line.        
+0000fd70: 7265 7475 726e 2068 6973 0a0a 2020 2020  return his..    
+0000fd80: 6966 2068 6f72 697a 6f6e 7461 6c3a 0a20  if horizontal:. 
+0000fd90: 2020 2020 2020 2068 6569 6768 7420 2a3d         height *=
+0000fda0: 2032 0a20 2020 2020 2020 2076 6564 6f2e   2.        vedo.
+0000fdb0: 7072 696e 7463 285f 6828 292c 2063 3d63  printc(_h(), c=c
+0000fdc0: 2c20 626f 6c64 3d62 6f6c 6429 0a20 2020  , bold=bold).   
+0000fdd0: 2065 6c73 653a 0a20 2020 2020 2020 2076   else:.        v
+0000fde0: 6564 6f2e 7072 696e 7463 285f 7628 292c  edo.printc(_v(),
+0000fdf0: 2063 3d63 2c20 626f 6c64 3d62 6f6c 6429   c=c, bold=bold)
+0000fe00: 0a20 2020 2072 6574 7572 6e20 6461 7461  .    return data
+0000fe10: 0a0a 0a64 6566 2070 7269 6e74 5f74 6162  ...def print_tab
+0000fe20: 6c65 282a 636f 6c75 6d6e 732c 2068 6561  le(*columns, hea
+0000fe30: 6465 7273 3d4e 6f6e 652c 2063 3d22 6722  ders=None, c="g"
+0000fe40: 293a 0a20 2020 2022 2222 0a20 2020 2050  ):.    """.    P
+0000fe50: 7269 6e74 206c 6973 7473 2061 7320 7461  rint lists as ta
+0000fe60: 626c 6573 2e0a 0a20 2020 2045 7861 6d70  bles...    Examp
+0000fe70: 6c65 3a0a 2020 2020 2020 2020 6060 6070  le:.        ```p
+0000fe80: 7974 686f 6e0a 2020 2020 2020 2020 6672  ython.        fr
+0000fe90: 6f6d 2076 6564 6f2e 7574 696c 7320 696d  om vedo.utils im
+0000fea0: 706f 7274 2070 7269 6e74 5f74 6162 6c65  port print_table
+0000feb0: 0a20 2020 2020 2020 206c 6973 7431 203d  .        list1 =
+0000fec0: 205b 2241 222c 2022 4222 2c20 2243 225d   ["A", "B", "C"]
+0000fed0: 0a20 2020 2020 2020 206c 6973 7432 203d  .        list2 =
+0000fee0: 205b 3134 322c 2032 3230 2c20 3333 305d   [142, 220, 330]
+0000fef0: 0a20 2020 2020 2020 206c 6973 7433 203d  .        list3 =
+0000ff00: 205b 5472 7565 2c20 4661 6c73 652c 2054   [True, False, T
+0000ff10: 7275 655d 0a20 2020 2020 2020 2068 6561  rue].        hea
+0000ff20: 6465 7273 203d 205b 2246 6972 7374 2043  ders = ["First C
+0000ff30: 6f6c 756d 6e22 2c20 2253 6563 6f6e 6420  olumn", "Second 
+0000ff40: 436f 6c75 6d6e 222c 2022 5468 6972 6420  Column", "Third 
+0000ff50: 436f 6c75 6d6e 225d 0a20 2020 2020 2020  Column"].       
+0000ff60: 2070 7269 6e74 5f74 6162 6c65 286c 6973   print_table(lis
+0000ff70: 7431 2c20 6c69 7374 322c 206c 6973 7433  t1, list2, list3
+0000ff80: 2c20 6865 6164 6572 733d 6865 6164 6572  , headers=header
+0000ff90: 7329 0a20 2020 2020 2020 2060 6060 0a0a  s).        ```..
+0000ffa0: 2020 2020 2020 2020 215b 5d28 6874 7470          ![](http
+0000ffb0: 733a 2f2f 7665 646f 2e65 6d62 6c2e 6573  s://vedo.embl.es
+0000ffc0: 2f69 6d61 6765 732f 6665 6174 732f 290a  /images/feats/).
+0000ffd0: 2020 2020 2222 220a 2020 2020 2320 4966      """.    # If
+0000ffe0: 2068 6561 6465 7273 2069 7320 6e6f 7420   headers is not 
+0000fff0: 7072 6f76 6964 6564 2c20 7573 6520 6465  provided, use de
+00010000: 6661 756c 7420 6865 6164 6572 206e 616d  fault header nam
+00010010: 6573 0a20 2020 2063 6f72 6e65 7220 3d20  es.    corner = 
+00010020: 22e2 9480 220a 2020 2020 6966 2068 6561  "...".    if hea
+00010030: 6465 7273 2069 7320 4e6f 6e65 3a0a 2020  ders is None:.  
+00010040: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
+00010050: 5b66 2243 6f6c 756d 6e20 7b69 7d22 2066  [f"Column {i}" f
+00010060: 6f72 2069 2069 6e20 7261 6e67 6528 312c  or i in range(1,
+00010070: 206c 656e 2863 6f6c 756d 6e73 2920 2b20   len(columns) + 
+00010080: 3129 5d0a 2020 2020 6173 7365 7274 206c  1)].    assert l
+00010090: 656e 2868 6561 6465 7273 2920 3d3d 206c  en(headers) == l
+000100a0: 656e 2863 6f6c 756d 6e73 290a 0a20 2020  en(columns)..   
+000100b0: 2023 2046 696e 6420 7468 6520 6d61 7869   # Find the maxi
+000100c0: 6d75 6d20 6c65 6e67 7468 206f 6620 7468  mum length of th
+000100d0: 6520 656c 656d 656e 7473 2069 6e20 6561  e elements in ea
+000100e0: 6368 2063 6f6c 756d 6e20 616e 6420 6865  ch column and he
+000100f0: 6164 6572 0a20 2020 206d 6178 5f6c 656e  ader.    max_len
+00010100: 7320 3d20 5b6d 6178 286c 656e 2873 7472  s = [max(len(str
+00010110: 2878 2929 2066 6f72 2078 2069 6e20 636f  (x)) for x in co
+00010120: 6c75 6d6e 2920 666f 7220 636f 6c75 6d6e  lumn) for column
+00010130: 2069 6e20 636f 6c75 6d6e 735d 0a20 2020   in columns].   
+00010140: 206d 6178 5f6c 656e 5f68 6561 6465 7273   max_len_headers
+00010150: 203d 205b 6d61 7828 6c65 6e28 7374 7228   = [max(len(str(
+00010160: 6865 6164 6572 2929 2c20 6d61 785f 6c65  header)), max_le
+00010170: 6e29 2066 6f72 2068 6561 6465 722c 206d  n) for header, m
+00010180: 6178 5f6c 656e 2069 6e20 7a69 7028 6865  ax_len in zip(he
+00010190: 6164 6572 732c 206d 6178 5f6c 656e 7329  aders, max_lens)
+000101a0: 5d0a 0a20 2020 2023 2043 6f6e 7374 7275  ]..    # Constru
+000101b0: 6374 2074 6865 2074 6162 6c65 2068 6561  ct the table hea
+000101c0: 6465 720a 2020 2020 6865 6164 6572 203d  der.    header =
+000101d0: 2028 0a20 2020 2020 2020 2022 e294 8220   (.        "... 
+000101e0: 220a 2020 2020 2020 2020 2b20 2220 e294  ".        + " ..
+000101f0: 8220 222e 6a6f 696e 2868 6561 6465 722e  . ".join(header.
+00010200: 6c6a 7573 7428 6d61 785f 6c65 6e29 2066  ljust(max_len) f
+00010210: 6f72 2068 6561 6465 722c 206d 6178 5f6c  or header, max_l
+00010220: 656e 2069 6e20 7a69 7028 6865 6164 6572  en in zip(header
+00010230: 732c 206d 6178 5f6c 656e 5f68 6561 6465  s, max_len_heade
+00010240: 7273 2929 0a20 2020 2020 2020 202b 2022  rs)).        + "
+00010250: 20e2 9482 220a 2020 2020 290a 0a20 2020   ...".    )..   
+00010260: 2023 2043 6f6e 7374 7275 6374 2074 6865   # Construct the
+00010270: 206c 696e 6520 7365 7061 7261 746f 720a   line separator.
+00010280: 2020 2020 6c69 6e65 3120 3d20 22e2 948c      line1 = "...
+00010290: 2220 2b20 636f 726e 6572 2e6a 6f69 6e28  " + corner.join(
+000102a0: 22e2 9480 2220 2a20 286d 6178 5f6c 656e  "..." * (max_len
+000102b0: 202b 2032 2920 666f 7220 6d61 785f 6c65   + 2) for max_le
+000102c0: 6e20 696e 206d 6178 5f6c 656e 5f68 6561  n in max_len_hea
+000102d0: 6465 7273 2920 2b20 22e2 9490 220a 2020  ders) + "...".  
+000102e0: 2020 6c69 6e65 3220 3d20 22e2 9494 2220    line2 = "..." 
+000102f0: 2b20 636f 726e 6572 2e6a 6f69 6e28 22e2  + corner.join(".
+00010300: 9480 2220 2a20 286d 6178 5f6c 656e 202b  .." * (max_len +
+00010310: 2032 2920 666f 7220 6d61 785f 6c65 6e20   2) for max_len 
+00010320: 696e 206d 6178 5f6c 656e 5f68 6561 6465  in max_len_heade
+00010330: 7273 2920 2b20 22e2 9498 220a 0a20 2020  rs) + "..."..   
+00010340: 2023 2050 7269 6e74 2074 6865 2074 6162   # Print the tab
+00010350: 6c65 2068 6561 6465 720a 2020 2020 7665  le header.    ve
+00010360: 646f 2e70 7269 6e74 6328 6c69 6e65 312c  do.printc(line1,
+00010370: 2063 3d63 290a 2020 2020 7665 646f 2e70   c=c).    vedo.p
+00010380: 7269 6e74 6328 6865 6164 6572 2c20 633d  rintc(header, c=
+00010390: 6329 0a20 2020 2076 6564 6f2e 7072 696e  c).    vedo.prin
+000103a0: 7463 286c 696e 6532 2c20 633d 6329 0a0a  tc(line2, c=c)..
+000103b0: 2020 2020 2320 5072 696e 7420 7468 6520      # Print the 
+000103c0: 6461 7461 2072 6f77 730a 2020 2020 666f  data rows.    fo
+000103d0: 7220 726f 7720 696e 207a 6970 282a 636f  r row in zip(*co
+000103e0: 6c75 6d6e 7329 3a0a 2020 2020 2020 2020  lumns):.        
+000103f0: 726f 7720 3d20 280a 2020 2020 2020 2020  row = (.        
+00010400: 2020 2020 22e2 9482 2022 0a20 2020 2020      "... ".     
+00010410: 2020 2020 2020 202b 2022 20e2 9482 2022         + " ... "
+00010420: 2e6a 6f69 6e28 7374 7228 636f 6c29 2e6c  .join(str(col).l
+00010430: 6a75 7374 286d 6178 5f6c 656e 2920 666f  just(max_len) fo
+00010440: 7220 636f 6c2c 206d 6178 5f6c 656e 2069  r col, max_len i
+00010450: 6e20 7a69 7028 726f 772c 206d 6178 5f6c  n zip(row, max_l
+00010460: 656e 5f68 6561 6465 7273 2929 0a20 2020  en_headers)).   
+00010470: 2020 2020 2020 2020 202b 2022 20e2 9482           + " ...
+00010480: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
+00010490: 2020 2020 7665 646f 2e70 7269 6e74 6328      vedo.printc(
+000104a0: 726f 772c 2062 6f6c 643d 4661 6c73 652c  row, bold=False,
+000104b0: 2063 3d63 290a 0a20 2020 2023 2050 7269   c=c)..    # Pri
+000104c0: 6e74 2074 6865 206c 696e 6520 7365 7061  nt the line sepa
+000104d0: 7261 746f 7220 6167 6169 6e20 746f 2063  rator again to c
+000104e0: 6c6f 7365 2074 6865 2074 6162 6c65 0a20  lose the table. 
+000104f0: 2020 2076 6564 6f2e 7072 696e 7463 286c     vedo.printc(l
+00010500: 696e 6532 2c20 633d 6329 0a0a 0a64 6566  ine2, c=c)...def
+00010510: 206d 616b 655f 6261 6e64 7328 696e 7075   make_bands(inpu
+00010520: 746c 6973 742c 206e 293a 0a20 2020 2022  tlist, n):.    "
+00010530: 2222 0a20 2020 2047 726f 7570 2076 616c  "".    Group val
+00010540: 7565 7320 6f66 2061 206c 6973 7420 696e  ues of a list in
+00010550: 746f 2062 616e 6473 206f 6620 6571 7561  to bands of equa
+00010560: 6c20 7661 6c75 652c 2077 6865 7265 0a20  l value, where. 
+00010570: 2020 2060 6e60 2069 7320 7468 6520 6e75     `n` is the nu
+00010580: 6d62 6572 206f 6620 6261 6e64 732c 2061  mber of bands, a
+00010590: 2070 6f73 6974 6976 6520 696e 7465 6765   positive intege
+000105a0: 7220 3e20 322e 0a0a 2020 2020 5265 7475  r > 2...    Retu
+000105b0: 726e 7320 6120 6269 6e6e 6564 206c 6973  rns a binned lis
+000105c0: 7420 6f66 2074 6865 2073 616d 6520 6c65  t of the same le
+000105d0: 6e67 7468 2061 7320 7468 6520 696e 7075  ngth as the inpu
+000105e0: 742e 0a20 2020 2022 2222 0a20 2020 2069  t..    """.    i
+000105f0: 6620 6e20 3c20 323a 0a20 2020 2020 2020  f n < 2:.       
+00010600: 2072 6574 7572 6e20 696e 7075 746c 6973   return inputlis
+00010610: 740a 2020 2020 766d 696e 203d 206e 702e  t.    vmin = np.
+00010620: 6d69 6e28 696e 7075 746c 6973 7429 0a20  min(inputlist). 
+00010630: 2020 2076 6d61 7820 3d20 6e70 2e6d 6178     vmax = np.max
+00010640: 2869 6e70 7574 6c69 7374 290a 2020 2020  (inputlist).    
+00010650: 6262 203d 206e 702e 6c69 6e73 7061 6365  bb = np.linspace
+00010660: 2876 6d69 6e2c 2076 6d61 782c 206e 2c20  (vmin, vmax, n, 
+00010670: 656e 6470 6f69 6e74 3d30 290a 2020 2020  endpoint=0).    
+00010680: 6472 203d 2062 625b 315d 202d 2062 625b  dr = bb[1] - bb[
+00010690: 305d 0a20 2020 2062 6220 2b3d 2064 7220  0].    bb += dr 
+000106a0: 2f20 320a 2020 2020 746f 6c20 3d20 6472  / 2.    tol = dr
+000106b0: 202f 2032 202a 2031 2e30 3031 0a20 2020   / 2 * 1.001.   
+000106c0: 206e 6577 6c69 7374 203d 205b 5d0a 2020   newlist = [].  
+000106d0: 2020 666f 7220 7320 696e 2069 6e70 7574    for s in input
+000106e0: 6c69 7374 3a0a 2020 2020 2020 2020 666f  list:.        fo
+000106f0: 7220 6220 696e 2062 623a 0a20 2020 2020  r b in bb:.     
+00010700: 2020 2020 2020 2069 6620 6162 7328 7320         if abs(s 
+00010710: 2d20 6229 203c 2074 6f6c 3a0a 2020 2020  - b) < tol:.    
+00010720: 2020 2020 2020 2020 2020 2020 6e65 776c              newl
+00010730: 6973 742e 6170 7065 6e64 2862 290a 2020  ist.append(b).  
+00010740: 2020 2020 2020 2020 2020 2020 2020 6272                br
+00010750: 6561 6b0a 2020 2020 7265 7475 726e 206e  eak.    return n
+00010760: 702e 6172 7261 7928 6e65 776c 6973 7429  p.array(newlist)
+00010770: 0a0a 0a23 2323 2323 2323 2323 2323 2323  ...#############
+00010780: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00010790: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000107a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000107b0: 2323 2323 0a23 2046 756e 6374 696f 6e73  ####.# Functions
+000107c0: 2061 6461 7074 6564 2066 726f 6d3a 0a23   adapted from:.#
+000107d0: 2068 7474 7073 3a2f 2f67 6974 6875 622e   https://github.
+000107e0: 636f 6d2f 7364 6f72 6b65 6e77 2f4d 6573  com/sdorkenw/Mes
+000107f0: 6850 6172 7479 2f62 6c6f 622f 6d61 7374  hParty/blob/mast
+00010800: 6572 2f6d 6573 6870 6172 7479 2f74 7269  er/meshparty/tri
+00010810: 6d65 7368 5f76 746b 2e70 790a 6465 6620  mesh_vtk.py.def 
+00010820: 6361 6d65 7261 5f66 726f 6d5f 7175 6174  camera_from_quat
+00010830: 6572 6e69 6f6e 2870 6f73 2c20 7175 6174  ernion(pos, quat
+00010840: 6572 6e69 6f6e 2c20 6469 7374 616e 6365  ernion, distance
+00010850: 3d31 3030 3030 2c20 6e67 6c5f 636f 7272  =10000, ngl_corr
+00010860: 6563 743d 5472 7565 293a 0a20 2020 2022  ect=True):.    "
+00010870: 2222 0a20 2020 2044 6566 696e 6520 6120  "".    Define a 
+00010880: 6076 746b 4361 6d65 7261 6020 7769 7468  `vtkCamera` with
+00010890: 2061 2070 6172 7469 6375 6c61 7220 6f72   a particular or
+000108a0: 6965 6e74 6174 696f 6e2e 0a0a 2020 2020  ientation...    
+000108b0: 4172 6775 6d65 6e74 733a 0a20 2020 2020  Arguments:.     
+000108c0: 2020 2070 6f73 3a20 286e 702e 6172 7261     pos: (np.arra
+000108d0: 792c 206c 6973 742c 2074 7570 6c65 290a  y, list, tuple).
+000108e0: 2020 2020 2020 2020 2020 2020 616e 2069              an i
+000108f0: 7465 7261 746f 7220 6f66 206c 656e 6774  terator of lengt
+00010900: 6820 3320 636f 6e74 6169 6e69 6e67 2074  h 3 containing t
+00010910: 6865 2066 6f63 7573 2070 6f69 6e74 206f  he focus point o
+00010920: 6620 7468 6520 6361 6d65 7261 0a20 2020  f the camera.   
+00010930: 2020 2020 2071 7561 7465 726e 696f 6e3a       quaternion:
+00010940: 2028 6e70 2e61 7272 6179 2c20 6c69 7374   (np.array, list
+00010950: 2c20 7475 706c 6529 0a20 2020 2020 2020  , tuple).       
+00010960: 2020 2020 2061 206c 656e 2834 2920 7175       a len(4) qu
+00010970: 6174 6572 6e69 6f6e 2060 2878 2c79 2c7a  aternion `(x,y,z
+00010980: 2c77 2960 2064 6573 6372 6962 696e 6720  ,w)` describing 
+00010990: 7468 6520 726f 7461 7469 6f6e 206f 6620  the rotation of 
+000109a0: 7468 6520 6361 6d65 7261 0a20 2020 2020  the camera.     
+000109b0: 2020 2020 2020 2073 7563 6820 6173 2072         such as r
+000109c0: 6574 7572 6e65 6420 6279 206e 6575 726f  eturned by neuro
+000109d0: 676c 616e 6365 7220 6078 2c79 2c7a 2c77  glancer `x,y,z,w
+000109e0: 6020 616c 6c20 696e 2060 5b30 2c31 5d60  ` all in `[0,1]`
+000109f0: 2072 616e 6765 0a20 2020 2020 2020 2064   range.        d
+00010a00: 6973 7461 6e63 653a 2028 666c 6f61 7429  istance: (float)
+00010a10: 0a20 2020 2020 2020 2020 2020 2074 6865  .            the
+00010a20: 2064 6573 6972 6564 2064 6973 7461 6e63   desired distanc
+00010a30: 6520 6672 6f6d 2070 6f73 2074 6f20 7468  e from pos to th
+00010a40: 6520 6361 6d65 7261 2028 6465 6661 756c  e camera (defaul
+00010a50: 7420 3d20 3130 3030 3020 6e6d 290a 0a20  t = 10000 nm).. 
+00010a60: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00010a70: 2020 2020 6076 746b 2e76 746b 4361 6d65      `vtk.vtkCame
+00010a80: 7261 602c 2061 2076 746b 2063 616d 6572  ra`, a vtk camer
+00010a90: 6120 7365 7475 7020 6163 636f 7264 696e  a setup accordin
+00010aa0: 6720 746f 2074 6865 7365 2072 756c 6573  g to these rules
+00010ab0: 2e0a 2020 2020 2222 220a 2020 2020 6361  ..    """.    ca
+00010ac0: 6d65 7261 203d 2076 746b 2e76 746b 4361  mera = vtk.vtkCa
+00010ad0: 6d65 7261 2829 0a20 2020 2023 2064 6566  mera().    # def
+00010ae0: 696e 6520 7468 6520 7175 6174 6572 6e69  ine the quaterni
+00010af0: 6f6e 2069 6e20 7674 6b2c 206e 6f74 6520  on in vtk, note 
+00010b00: 7468 6520 7377 6170 7065 6420 6f72 6465  the swapped orde
+00010b10: 720a 2020 2020 2320 772c 782c 792c 7a20  r.    # w,x,y,z 
+00010b20: 696e 7374 6561 6420 6f66 2078 2c79 2c7a  instead of x,y,z
+00010b30: 2c77 0a20 2020 2071 7561 745f 7674 6b20  ,w.    quat_vtk 
+00010b40: 3d20 7674 6b2e 7674 6b51 7561 7465 726e  = vtk.vtkQuatern
+00010b50: 696f 6e64 2871 7561 7465 726e 696f 6e5b  iond(quaternion[
+00010b60: 335d 2c20 7175 6174 6572 6e69 6f6e 5b30  3], quaternion[0
+00010b70: 5d2c 2071 7561 7465 726e 696f 6e5b 315d  ], quaternion[1]
+00010b80: 2c20 7175 6174 6572 6e69 6f6e 5b32 5d29  , quaternion[2])
+00010b90: 0a20 2020 2023 2075 7365 2074 6869 7320  .    # use this 
+00010ba0: 746f 2064 6566 696e 6520 6120 726f 7461  to define a rota
+00010bb0: 7469 6f6e 206d 6174 7269 7820 696e 2078  tion matrix in x
+00010bc0: 2c79 2c7a 0a20 2020 2023 2072 6967 6874  ,y,z.    # right
+00010bd0: 2068 616e 6465 6420 756e 6974 730a 2020   handed units.  
+00010be0: 2020 4d20 3d20 6e70 2e7a 6572 6f73 2828    M = np.zeros((
+00010bf0: 332c 2033 292c 2064 7479 7065 3d6e 702e  3, 3), dtype=np.
+00010c00: 666c 6f61 7433 3229 0a20 2020 2071 7561  float32).    qua
+00010c10: 745f 7674 6b2e 546f 4d61 7472 6978 3378  t_vtk.ToMatrix3x
+00010c20: 3328 4d29 0a20 2020 2023 2074 6865 2064  3(M).    # the d
+00010c30: 6566 6175 6c74 2063 616d 6572 6120 6f72  efault camera or
+00010c40: 6965 6e74 6174 696f 6e20 6973 2079 2075  ientation is y u
+00010c50: 700a 2020 2020 7570 203d 205b 302c 2031  p.    up = [0, 1
+00010c60: 2c20 305d 0a20 2020 2023 2063 616c 6375  , 0].    # calcu
+00010c70: 6c61 7465 2064 6566 6175 6c74 2063 616d  late default cam
+00010c80: 6572 6120 706f 7369 7469 6f6e 2069 7320  era position is 
+00010c90: 6261 636b 6564 206f 6666 2069 6e20 706f  backed off in po
+00010ca0: 7369 7469 7665 207a 0a20 2020 2070 6f73  sitive z.    pos
+00010cb0: 203d 205b 302c 2030 2c20 6469 7374 616e   = [0, 0, distan
+00010cc0: 6365 5d0a 0a20 2020 2023 2073 6574 2074  ce]..    # set t
+00010cd0: 6865 2063 616d 6572 6120 726f 746f 7461  he camera rotota
+00010ce0: 7469 6f6e 2062 7920 6170 706c 7969 6e67  tion by applying
+00010cf0: 2074 6865 2072 6f74 6174 696f 6e20 6d61   the rotation ma
+00010d00: 7472 6978 0a20 2020 2063 616d 6572 612e  trix.    camera.
+00010d10: 5365 7456 6965 7755 7028 2a6e 702e 646f  SetViewUp(*np.do
+00010d20: 7428 4d2c 2075 7029 290a 2020 2020 2320  t(M, up)).    # 
+00010d30: 7365 7420 7468 6520 6361 6d65 7261 2070  set the camera p
+00010d40: 6f73 6974 696f 6e20 6279 2061 7070 6c79  osition by apply
+00010d50: 696e 6720 7468 6520 726f 7461 7469 6f6e  ing the rotation
+00010d60: 206d 6174 7269 780a 2020 2020 6361 6d65   matrix.    came
+00010d70: 7261 2e53 6574 506f 7369 7469 6f6e 282a  ra.SetPosition(*
+00010d80: 6e70 2e64 6f74 284d 2c20 706f 7329 290a  np.dot(M, pos)).
+00010d90: 2020 2020 6966 206e 676c 5f63 6f72 7265      if ngl_corre
+00010da0: 6374 3a0a 2020 2020 2020 2020 2320 6e65  ct:.        # ne
+00010db0: 7572 6f67 6c61 6e63 6572 2068 6173 2070  uroglancer has p
+00010dc0: 6f73 6974 6976 6520 7920 676f 696e 6720  ositive y going 
+00010dd0: 646f 776e 0a20 2020 2020 2020 2023 2073  down.        # s
+00010de0: 6f20 6170 706c 7920 7468 6573 6520 617a  o apply these az
+00010df0: 696d 7574 6820 616e 6420 726f 6c6c 2063  imuth and roll c
+00010e00: 6f72 7265 6374 696f 6e73 0a20 2020 2020  orrections.     
+00010e10: 2020 2023 2074 6f20 6669 7820 6f72 6965     # to fix orie
+00010e20: 6e74 6174 696e 730a 2020 2020 2020 2020  ntatins.        
+00010e30: 6361 6d65 7261 2e41 7a69 6d75 7468 282d  camera.Azimuth(-
+00010e40: 3138 3029 0a20 2020 2020 2020 2063 616d  180).        cam
+00010e50: 6572 612e 526f 6c6c 2831 3830 290a 0a20  era.Roll(180).. 
+00010e60: 2020 2023 2073 6869 6674 2074 6865 2063     # shift the c
+00010e70: 616d 6572 6120 706f 7369 6974 6f6e 2061  amera posiiton a
+00010e80: 6e64 2066 6f63 616c 2070 6f73 6974 696f  nd focal positio
+00010e90: 6e0a 2020 2020 2320 746f 2062 6520 6365  n.    # to be ce
+00010ea0: 6e74 6572 6564 206f 6e20 7468 6520 6465  ntered on the de
+00010eb0: 7369 7265 6420 6c6f 6361 7469 6f6e 0a20  sired location. 
+00010ec0: 2020 2070 203d 2063 616d 6572 612e 4765     p = camera.Ge
+00010ed0: 7450 6f73 6974 696f 6e28 290a 2020 2020  tPosition().    
+00010ee0: 705f 6e65 7720 3d20 6e70 2e61 7272 6179  p_new = np.array
+00010ef0: 2870 2920 2b20 706f 730a 2020 2020 6361  (p) + pos.    ca
+00010f00: 6d65 7261 2e53 6574 506f 7369 7469 6f6e  mera.SetPosition
+00010f10: 282a 705f 6e65 7729 0a20 2020 2063 616d  (*p_new).    cam
+00010f20: 6572 612e 5365 7446 6f63 616c 506f 696e  era.SetFocalPoin
+00010f30: 7428 2a70 6f73 290a 2020 2020 7265 7475  t(*pos).    retu
+00010f40: 726e 2063 616d 6572 610a 0a0a 6465 6620  rn camera...def 
+00010f50: 6361 6d65 7261 5f66 726f 6d5f 6e65 7572  camera_from_neur
+00010f60: 6f67 6c61 6e63 6572 2873 7461 7465 2c20  oglancer(state, 
+00010f70: 7a6f 6f6d 3d33 3030 293a 0a20 2020 2022  zoom=300):.    "
+00010f80: 2222 0a20 2020 2044 6566 696e 6520 6120  "".    Define a 
+00010f90: 6076 746b 4361 6d65 7261 6020 6672 6f6d  `vtkCamera` from
+00010fa0: 2061 206e 6575 726f 676c 616e 6365 7220   a neuroglancer 
+00010fb0: 7374 6174 6520 6469 6374 696f 6e61 7279  state dictionary
+00010fc0: 2e0a 0a20 2020 2041 7267 756d 656e 7473  ...    Arguments
+00010fd0: 3a0a 2020 2020 2020 2020 7374 6174 653a  :.        state:
+00010fe0: 2028 6469 6374 290a 2020 2020 2020 2020   (dict).        
+00010ff0: 2020 2020 616e 206e 6575 726f 676c 616e      an neuroglan
+00011000: 6365 7220 7374 6174 6520 6469 6374 696f  cer state dictio
+00011010: 6e61 7279 2e0a 2020 2020 2020 2020 7a6f  nary..        zo
+00011020: 6f6d 3a20 2866 6c6f 6174 290a 2020 2020  om: (float).    
+00011030: 2020 2020 2020 2020 686f 7720 6d75 6368          how much
+00011040: 2074 6f20 6d75 6c74 6970 6c79 207a 6f6f   to multiply zoo
+00011050: 6d20 6279 2074 6f20 6765 7420 6361 6d65  m by to get came
+00011060: 7261 2062 6163 6b6f 6666 2064 6973 7461  ra backoff dista
+00011070: 6e63 650a 2020 2020 2020 2020 2020 2020  nce.            
+00011080: 6465 6661 756c 7420 3d20 3330 3020 3e20  default = 300 > 
+00011090: 6e67 6c5f 7a6f 6f6d 203d 2031 203e 2033  ngl_zoom = 1 > 3
+000110a0: 3030 206e 6d20 6261 636b 6f66 6620 6469  00 nm backoff di
+000110b0: 7374 616e 6365 2e0a 0a20 2020 2052 6574  stance...    Ret
+000110c0: 7572 6e73 3a0a 2020 2020 2020 2020 6076  urns:.        `v
+000110d0: 746b 2e76 746b 4361 6d65 7261 602c 2061  tk.vtkCamera`, a
+000110e0: 2076 746b 2063 616d 6572 6120 7365 7475   vtk camera setu
+000110f0: 7020 7468 6174 206d 6174 6368 6573 2074  p that matches t
+00011100: 6869 7320 7374 6174 652e 0a20 2020 2022  his state..    "
+00011110: 2222 0a20 2020 206f 7269 656e 7420 3d20  "".    orient = 
+00011120: 7374 6174 652e 6765 7428 2270 6572 7370  state.get("persp
+00011130: 6563 7469 7665 4f72 6965 6e74 6174 696f  ectiveOrientatio
+00011140: 6e22 2c20 5b30 2e30 2c20 302e 302c 2030  n", [0.0, 0.0, 0
+00011150: 2e30 2c20 312e 305d 290a 2020 2020 707a  .0, 1.0]).    pz
+00011160: 6f6f 6d20 3d20 7374 6174 652e 6765 7428  oom = state.get(
+00011170: 2270 6572 7370 6563 7469 7665 5a6f 6f6d  "perspectiveZoom
+00011180: 222c 2031 302e 3029 0a20 2020 2070 6f73  ", 10.0).    pos
+00011190: 6974 696f 6e20 3d20 7374 6174 655b 226e  ition = state["n
+000111a0: 6176 6967 6174 696f 6e22 5d5b 2270 6f73  avigation"]["pos
+000111b0: 6522 5d5b 2270 6f73 6974 696f 6e22 5d0a  e"]["position"].
+000111c0: 2020 2020 706f 735f 6e6d 203d 206e 702e      pos_nm = np.
+000111d0: 6172 7261 7928 706f 7369 7469 6f6e 5b22  array(position["
+000111e0: 766f 7865 6c43 6f6f 7264 696e 6174 6573  voxelCoordinates
+000111f0: 225d 2920 2a20 706f 7369 7469 6f6e 5b22  "]) * position["
+00011200: 766f 7865 6c53 697a 6522 5d0a 2020 2020  voxelSize"].    
+00011210: 7265 7475 726e 2063 616d 6572 615f 6672  return camera_fr
+00011220: 6f6d 5f71 7561 7465 726e 696f 6e28 706f  om_quaternion(po
+00011230: 735f 6e6d 2c20 6f72 6965 6e74 2c20 707a  s_nm, orient, pz
+00011240: 6f6f 6d20 2a20 7a6f 6f6d 2c20 6e67 6c5f  oom * zoom, ngl_
+00011250: 636f 7272 6563 743d 5472 7565 290a 0a0a  correct=True)...
+00011260: 6465 6620 6f72 6965 6e74 6564 5f63 616d  def oriented_cam
+00011270: 6572 6128 6365 6e74 6572 3d28 302c 2030  era(center=(0, 0
+00011280: 2c20 3029 2c20 7570 5f76 6563 746f 723d  , 0), up_vector=
+00011290: 2830 2c20 312c 2030 292c 2062 6163 6b6f  (0, 1, 0), backo
+000112a0: 6666 5f76 6563 746f 723d 2830 2c20 302c  ff_vector=(0, 0,
+000112b0: 2031 292c 2062 6163 6b6f 6666 3d31 2e30   1), backoff=1.0
+000112c0: 293a 0a20 2020 2022 2222 0a20 2020 2047  ):.    """.    G
+000112d0: 656e 6572 6174 6520 6120 6076 746b 4361  enerate a `vtkCa
+000112e0: 6d65 7261 6020 706f 696e 7465 6420 6174  mera` pointed at
+000112f0: 2061 2073 7065 6369 6669 6320 6c6f 6361   a specific loca
+00011300: 7469 6f6e 2c0a 2020 2020 6f72 6965 6e74  tion,.    orient
+00011310: 6564 2077 6974 6820 6120 6769 7665 6e20  ed with a given 
+00011320: 7570 2064 6972 6563 7469 6f6e 2c20 7365  up direction, se
+00011330: 7420 746f 2061 2062 6163 6b6f 6666 2e0a  t to a backoff..
+00011340: 2020 2020 2222 220a 2020 2020 7675 7020      """.    vup 
+00011350: 3d20 6e70 2e61 7272 6179 2875 705f 7665  = np.array(up_ve
+00011360: 6374 6f72 290a 2020 2020 7675 7020 3d20  ctor).    vup = 
+00011370: 7675 7020 2f20 6e70 2e6c 696e 616c 672e  vup / np.linalg.
+00011380: 6e6f 726d 2876 7570 290a 2020 2020 7074  norm(vup).    pt
+00011390: 5f62 6163 6b6f 6666 203d 2063 656e 7465  _backoff = cente
+000113a0: 7220 2d20 6261 636b 6f66 6620 2a20 6e70  r - backoff * np
+000113b0: 2e61 7272 6179 2862 6163 6b6f 6666 5f76  .array(backoff_v
+000113c0: 6563 746f 7229 0a20 2020 2063 616d 6572  ector).    camer
+000113d0: 6120 3d20 7674 6b2e 7674 6b43 616d 6572  a = vtk.vtkCamer
+000113e0: 6128 290a 2020 2020 6361 6d65 7261 2e53  a().    camera.S
+000113f0: 6574 466f 6361 6c50 6f69 6e74 2863 656e  etFocalPoint(cen
+00011400: 7465 725b 305d 2c20 6365 6e74 6572 5b31  ter[0], center[1
+00011410: 5d2c 2063 656e 7465 725b 325d 290a 2020  ], center[2]).  
+00011420: 2020 6361 6d65 7261 2e53 6574 5669 6577    camera.SetView
+00011430: 5570 2876 7570 5b30 5d2c 2076 7570 5b31  Up(vup[0], vup[1
+00011440: 5d2c 2076 7570 5b32 5d29 0a20 2020 2063  ], vup[2]).    c
+00011450: 616d 6572 612e 5365 7450 6f73 6974 696f  amera.SetPositio
+00011460: 6e28 7074 5f62 6163 6b6f 6666 5b30 5d2c  n(pt_backoff[0],
+00011470: 2070 745f 6261 636b 6f66 665b 315d 2c20   pt_backoff[1], 
+00011480: 7074 5f62 6163 6b6f 6666 5b32 5d29 0a20  pt_backoff[2]). 
+00011490: 2020 2072 6574 7572 6e20 6361 6d65 7261     return camera
+000114a0: 0a0a 0a64 6566 2063 616d 6572 615f 6672  ...def camera_fr
+000114b0: 6f6d 5f64 6963 7428 6361 6d65 7261 2c20  om_dict(camera, 
+000114c0: 6d6f 6469 6679 5f69 6e70 6c61 6365 3d4e  modify_inplace=N
+000114d0: 6f6e 6529 3a0a 2020 2020 2222 220a 2020  one):.    """.  
+000114e0: 2020 4765 6e65 7261 7465 2061 2060 7674    Generate a `vt
+000114f0: 6b43 616d 6572 6160 2066 726f 6d20 6120  kCamera` from a 
+00011500: 6469 6374 696f 6e61 7279 2e0a 2020 2020  dictionary..    
+00011510: 2222 220a 2020 2020 6966 206d 6f64 6966  """.    if modif
+00011520: 795f 696e 706c 6163 653a 0a20 2020 2020  y_inplace:.     
+00011530: 2020 2076 6361 6d20 3d20 6d6f 6469 6679     vcam = modify
+00011540: 5f69 6e70 6c61 6365 0a20 2020 2065 6c73  _inplace.    els
+00011550: 653a 0a20 2020 2020 2020 2076 6361 6d20  e:.        vcam 
+00011560: 3d20 7674 6b2e 7674 6b43 616d 6572 6128  = vtk.vtkCamera(
+00011570: 290a 0a20 2020 2063 616d 6572 6120 3d20  )..    camera = 
+00011580: 6469 6374 2863 616d 6572 6129 2020 2320  dict(camera)  # 
+00011590: 6d61 6b65 2061 2063 6f70 7920 736f 2069  make a copy so i
+000115a0: 6e70 7574 2069 7320 6e6f 7420 656d 7074  nput is not empt
+000115b0: 6965 6420 6279 2070 6f70 2829 0a20 2020  ied by pop().   
+000115c0: 2063 6d5f 706f 7320 3d20 6361 6d65 7261   cm_pos = camera
+000115d0: 2e70 6f70 2822 706f 7369 7469 6f6e 222c  .pop("position",
+000115e0: 2063 616d 6572 612e 706f 7028 2270 6f73   camera.pop("pos
+000115f0: 222c 204e 6f6e 6529 290a 2020 2020 636d  ", None)).    cm
+00011600: 5f66 6f63 616c 5f70 6f69 6e74 203d 2063  _focal_point = c
+00011610: 616d 6572 612e 706f 7028 2266 6f63 616c  amera.pop("focal
+00011620: 5f70 6f69 6e74 222c 2063 616d 6572 612e  _point", camera.
+00011630: 706f 7028 2266 6f63 616c 506f 696e 7422  pop("focalPoint"
+00011640: 2c20 4e6f 6e65 2929 0a20 2020 2063 6d5f  , None)).    cm_
+00011650: 7669 6577 7570 203d 2063 616d 6572 612e  viewup = camera.
+00011660: 706f 7028 2276 6965 7775 7022 2c20 4e6f  pop("viewup", No
+00011670: 6e65 290a 2020 2020 636d 5f64 6973 7461  ne).    cm_dista
+00011680: 6e63 6520 3d20 6361 6d65 7261 2e70 6f70  nce = camera.pop
+00011690: 2822 6469 7374 616e 6365 222c 204e 6f6e  ("distance", Non
+000116a0: 6529 0a20 2020 2063 6d5f 636c 6970 7069  e).    cm_clippi
+000116b0: 6e67 5f72 616e 6765 203d 2063 616d 6572  ng_range = camer
+000116c0: 612e 706f 7028 2263 6c69 7070 696e 675f  a.pop("clipping_
+000116d0: 7261 6e67 6522 2c20 6361 6d65 7261 2e70  range", camera.p
+000116e0: 6f70 2822 636c 6970 7069 6e67 5261 6e67  op("clippingRang
+000116f0: 6522 2c20 4e6f 6e65 2929 0a20 2020 2063  e", None)).    c
+00011700: 6d5f 7061 7261 6c6c 656c 5f73 6361 6c65  m_parallel_scale
+00011710: 203d 2063 616d 6572 612e 706f 7028 2270   = camera.pop("p
+00011720: 6172 616c 6c65 6c5f 7363 616c 6522 2c20  arallel_scale", 
+00011730: 6361 6d65 7261 2e70 6f70 2822 7061 7261  camera.pop("para
+00011740: 6c6c 656c 5363 616c 6522 2c20 4e6f 6e65  llelScale", None
+00011750: 2929 0a20 2020 2063 6d5f 7468 6963 6b6e  )).    cm_thickn
+00011760: 6573 7320 3d20 6361 6d65 7261 2e70 6f70  ess = camera.pop
+00011770: 2822 7468 6963 6b6e 6573 7322 2c20 4e6f  ("thickness", No
+00011780: 6e65 290a 2020 2020 636d 5f76 6965 775f  ne).    cm_view_
+00011790: 616e 676c 6520 3d20 6361 6d65 7261 2e70  angle = camera.p
+000117a0: 6f70 2822 7669 6577 5f61 6e67 6c65 222c  op("view_angle",
+000117b0: 2063 616d 6572 612e 706f 7028 2276 6965   camera.pop("vie
+000117c0: 7741 6e67 6c65 222c 204e 6f6e 6529 290a  wAngle", None)).
+000117d0: 2020 2020 6966 206c 656e 2863 616d 6572      if len(camer
+000117e0: 612e 6b65 7973 2829 2920 3e20 303a 0a20  a.keys()) > 0:. 
+000117f0: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
+00011800: 6572 2e77 6172 6e69 6e67 2866 2269 6e20  er.warning(f"in 
+00011810: 6361 6d65 7261 5f66 726f 6d5f 6469 6374  camera_from_dict
+00011820: 2c20 6b65 7928 7329 206e 6f74 2072 6563  , key(s) not rec
+00011830: 6f67 6e69 7a65 643a 207b 6361 6d65 7261  ognized: {camera
+00011840: 2e6b 6579 7328 297d 2229 0a20 2020 2069  .keys()}").    i
+00011850: 6620 636d 5f70 6f73 2069 7320 6e6f 7420  f cm_pos is not 
+00011860: 4e6f 6e65 3a20 2020 2020 2020 2020 2020  None:           
+00011870: 2076 6361 6d2e 5365 7450 6f73 6974 696f   vcam.SetPositio
+00011880: 6e28 636d 5f70 6f73 290a 2020 2020 6966  n(cm_pos).    if
+00011890: 2063 6d5f 666f 6361 6c5f 706f 696e 7420   cm_focal_point 
+000118a0: 6973 206e 6f74 204e 6f6e 653a 2020 2020  is not None:    
+000118b0: 7663 616d 2e53 6574 466f 6361 6c50 6f69  vcam.SetFocalPoi
+000118c0: 6e74 2863 6d5f 666f 6361 6c5f 706f 696e  nt(cm_focal_poin
+000118d0: 7429 0a20 2020 2069 6620 636d 5f76 6965  t).    if cm_vie
+000118e0: 7775 7020 6973 206e 6f74 204e 6f6e 653a  wup is not None:
+000118f0: 2020 2020 2020 2020 2076 6361 6d2e 5365           vcam.Se
+00011900: 7456 6965 7755 7028 636d 5f76 6965 7775  tViewUp(cm_viewu
+00011910: 7029 0a20 2020 2069 6620 636d 5f64 6973  p).    if cm_dis
+00011920: 7461 6e63 6520 6973 206e 6f74 204e 6f6e  tance is not Non
+00011930: 653a 2020 2020 2020 2076 6361 6d2e 5365  e:       vcam.Se
+00011940: 7444 6973 7461 6e63 6528 636d 5f64 6973  tDistance(cm_dis
+00011950: 7461 6e63 6529 0a20 2020 2069 6620 636d  tance).    if cm
+00011960: 5f63 6c69 7070 696e 675f 7261 6e67 6520  _clipping_range 
+00011970: 6973 206e 6f74 204e 6f6e 653a 2076 6361  is not None: vca
+00011980: 6d2e 5365 7443 6c69 7070 696e 6752 616e  m.SetClippingRan
+00011990: 6765 2863 6d5f 636c 6970 7069 6e67 5f72  ge(cm_clipping_r
+000119a0: 616e 6765 290a 2020 2020 6966 2063 6d5f  ange).    if cm_
+000119b0: 7061 7261 6c6c 656c 5f73 6361 6c65 2069  parallel_scale i
+000119c0: 7320 6e6f 7420 4e6f 6e65 3a20 7663 616d  s not None: vcam
+000119d0: 2e53 6574 5061 7261 6c6c 656c 5363 616c  .SetParallelScal
+000119e0: 6528 636d 5f70 6172 616c 6c65 6c5f 7363  e(cm_parallel_sc
+000119f0: 616c 6529 0a20 2020 2069 6620 636d 5f74  ale).    if cm_t
+00011a00: 6869 636b 6e65 7373 2069 7320 6e6f 7420  hickness is not 
+00011a10: 4e6f 6e65 3a20 2020 2020 2076 6361 6d2e  None:      vcam.
+00011a20: 5365 7454 6869 636b 6e65 7373 2863 6d5f  SetThickness(cm_
+00011a30: 7468 6963 6b6e 6573 7329 0a20 2020 2069  thickness).    i
+00011a40: 6620 636d 5f76 6965 775f 616e 676c 6520  f cm_view_angle 
+00011a50: 6973 206e 6f74 204e 6f6e 653a 2020 2020  is not None:    
+00011a60: 2076 6361 6d2e 5365 7456 6965 7741 6e67   vcam.SetViewAng
+00011a70: 6c65 2863 6d5f 7669 6577 5f61 6e67 6c65  le(cm_view_angle
+00011a80: 290a 2020 2020 7265 7475 726e 2076 6361  ).    return vca
+00011a90: 6d0a 0a0a 6465 6620 7674 6b43 616d 6572  m...def vtkCamer
+00011aa0: 6154 6f4b 3344 2876 746b 6361 6d29 3a0a  aToK3D(vtkcam):.
+00011ab0: 2020 2020 2222 220a 2020 2020 436f 6e76      """.    Conv
+00011ac0: 6572 7420 6120 6076 746b 4361 6d65 7261  ert a `vtkCamera
+00011ad0: 6020 6f62 6a65 6374 2069 6e74 6f20 6120  ` object into a 
+00011ae0: 392d 656c 656d 656e 7420 6c69 7374 2074  9-element list t
+00011af0: 6f20 6265 2075 7365 6420 6279 2074 6865  o be used by the
+00011b00: 204b 3344 2062 6163 6b65 6e64 2e0a 0a20   K3D backend... 
+00011b10: 2020 204f 7574 7075 7420 666f 726d 6174     Output format
+00011b20: 2069 733a 0a20 2020 2020 2020 2060 5b70   is:.        `[p
+00011b30: 6f73 782c 706f 7379 2c70 6f73 7a2c 2074  osx,posy,posz, t
+00011b40: 6172 6765 7478 2c74 6172 6765 7479 2c74  argetx,targety,t
+00011b50: 6172 6765 747a 2c20 7570 782c 7570 792c  argetz, upx,upy,
+00011b60: 7570 7a5d 602e 0a20 2020 2022 2222 0a20  upz]`..    """. 
+00011b70: 2020 2063 706f 7320 3d20 6e70 2e61 7272     cpos = np.arr
+00011b80: 6179 2876 746b 6361 6d2e 4765 7450 6f73  ay(vtkcam.GetPos
+00011b90: 6974 696f 6e28 2929 0a20 2020 206b 616d  ition()).    kam
+00011ba0: 203d 205b 6370 6f73 2e74 6f6c 6973 7428   = [cpos.tolist(
+00011bb0: 295d 0a20 2020 206b 616d 2e61 7070 656e  )].    kam.appen
+00011bc0: 6428 7674 6b63 616d 2e47 6574 466f 6361  d(vtkcam.GetFoca
+00011bd0: 6c50 6f69 6e74 2829 290a 2020 2020 6b61  lPoint()).    ka
+00011be0: 6d2e 6170 7065 6e64 2876 746b 6361 6d2e  m.append(vtkcam.
+00011bf0: 4765 7456 6965 7755 7028 2929 0a20 2020  GetViewUp()).   
+00011c00: 2072 6574 7572 6e20 6e70 2e61 7272 6179   return np.array
+00011c10: 286b 616d 292e 7261 7665 6c28 290a 0a0a  (kam).ravel()...
+00011c20: 6465 6620 6d61 6b65 5f74 6963 6b73 2878  def make_ticks(x
+00011c30: 302c 2078 312c 206e 3d4e 6f6e 652c 206c  0, x1, n=None, l
+00011c40: 6162 656c 733d 4e6f 6e65 2c20 6469 6769  abels=None, digi
+00011c50: 7473 3d4e 6f6e 652c 206c 6f67 7363 616c  ts=None, logscal
+00011c60: 653d 4661 6c73 652c 2075 7365 666f 726d  e=False, useform
+00011c70: 6174 3d22 2229 3a0a 2020 2020 2222 220a  at=""):.    """.
+00011c80: 2020 2020 4765 6e65 7261 7465 206e 756d      Generate num
+00011c90: 6572 6963 206c 6162 656c 7320 666f 7220  eric labels for 
+00011ca0: 7468 6520 605b 7830 2c20 7831 5d60 2072  the `[x0, x1]` r
+00011cb0: 616e 6765 2e0a 0a20 2020 2054 6865 2066  ange...    The f
+00011cc0: 6f72 6d61 7420 7370 6563 6966 6965 7220  ormat specifier 
+00011cd0: 636f 756c 6420 6265 2065 7870 7265 7373  could be express
+00011ce0: 6564 2069 6e20 7468 6520 666f 726d 6174  ed in the format
+00011cf0: 3a0a 2020 2020 2020 2020 603a 5b5b 6669  :.        `:[[fi
+00011d00: 6c6c 5d61 6c69 676e 5d5b 7369 676e 5d5b  ll]align][sign][
+00011d10: 235d 5b30 5d5b 7769 6474 685d 5b2c 5d5b  #][0][width][,][
+00011d20: 2e70 7265 6369 7369 6f6e 5d5b 7479 7065  .precision][type
+00011d30: 5d60 0a0a 2020 2020 7768 6572 652c 2074  ]`..    where, t
+00011d40: 6865 206f 7074 696f 6e73 2061 7265 3a0a  he options are:.
+00011d50: 2020 2020 6060 600a 2020 2020 6669 6c6c      ```.    fill
+00011d60: 2020 2020 2020 2020 3d20 2061 6e79 2063          =  any c
+00011d70: 6861 7261 6374 6572 0a20 2020 2061 6c69  haracter.    ali
+00011d80: 676e 2020 2020 2020 203d 2020 3c20 7c20  gn       =  < | 
+00011d90: 3e20 7c20 3d20 7c20 5e0a 2020 2020 7369  > | = | ^.    si
+00011da0: 676e 2020 2020 2020 2020 3d20 202b 207c  gn        =  + |
+00011db0: 202d 207c 2022 2022 0a20 2020 2077 6964   - | " ".    wid
+00011dc0: 7468 2020 2020 2020 203d 2020 696e 7465  th       =  inte
+00011dd0: 6765 720a 2020 2020 7072 6563 6973 696f  ger.    precisio
+00011de0: 6e20 2020 3d20 2069 6e74 6567 6572 0a20  n   =  integer. 
+00011df0: 2020 2074 7970 6520 2020 2020 2020 203d     type        =
+00011e00: 2020 6220 7c20 6320 7c20 6420 7c20 6520    b | c | d | e 
+00011e10: 7c20 4520 7c20 6620 7c20 4620 7c20 6720  | E | f | F | g 
+00011e20: 7c20 4720 7c20 6e20 7c20 6f20 7c20 7320  | G | n | o | s 
+00011e30: 7c20 7820 7c20 5820 7c20 250a 2020 2020  | x | X | %.    
+00011e40: 6060 600a 0a20 2020 2045 2e67 2e3a 2075  ```..    E.g.: u
+00011e50: 7365 666f 726d 6174 3d22 3a2e 3266 220a  seformat=":.2f".
+00011e60: 2020 2020 2222 220a 2020 2020 2320 436f      """.    # Co
+00011e70: 7079 7269 6768 7420 4d2e 204d 7573 792c  pyright M. Musy,
+00011e80: 2032 3032 312c 206c 6963 656e 7365 3a20   2021, license: 
+00011e90: 4d49 542e 0a20 2020 2023 0a20 2020 2023  MIT..    #.    #
+00011ea0: 2075 7365 666f 726d 6174 2065 673a 2022   useformat eg: "
+00011eb0: 3a2e 3266 222c 2063 6865 636b 206f 7574  :.2f", check out
+00011ec0: 3a0a 2020 2020 2320 6874 7470 733a 2f2f  :.    # https://
+00011ed0: 6d6b 617a 2e62 6c6f 672f 636f 6465 2f70  mkaz.blog/code/p
+00011ee0: 7974 686f 6e2d 7374 7269 6e67 2d66 6f72  ython-string-for
+00011ef0: 6d61 742d 636f 6f6b 626f 6f6b 2f0a 2020  mat-cookbook/.  
+00011f00: 2020 2320 6874 7470 733a 2f2f 7777 772e    # https://www.
+00011f10: 7072 6f67 7261 6d69 7a2e 636f 6d2f 7079  programiz.com/py
+00011f20: 7468 6f6e 2d70 726f 6772 616d 6d69 6e67  thon-programming
+00011f30: 2f6d 6574 686f 6473 2f62 7569 6c74 2d69  /methods/built-i
+00011f40: 6e2f 666f 726d 6174 0a0a 2020 2020 6966  n/format..    if
+00011f50: 2078 3120 3c3d 2078 303a 0a20 2020 2020   x1 <= x0:.     
+00011f60: 2020 2023 2076 6564 6f2e 7072 696e 7463     # vedo.printc
+00011f70: 2822 4572 726f 7220 696e 206d 616b 655f  ("Error in make_
+00011f80: 7469 636b 7328 293a 2078 3020 3e3d 2078  ticks(): x0 >= x
+00011f90: 3122 2c20 7830 2c78 312c 2063 3d27 7227  1", x0,x1, c='r'
+00011fa0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+00011fb0: 206e 702e 6172 7261 7928 5b30 2e30 2c20   np.array([0.0, 
+00011fc0: 312e 305d 292c 205b 2222 2c20 2222 5d0a  1.0]), ["", ""].
+00011fd0: 0a20 2020 2074 6963 6b73 5f73 7472 2c20  .    ticks_str, 
+00011fe0: 7469 636b 735f 666c 6f61 7420 3d20 5b5d  ticks_float = []
+00011ff0: 2c20 5b5d 0a20 2020 2062 6173 656c 696e  , [].    baselin
+00012000: 6520 3d20 2831 2c20 322c 2035 2c20 3130  e = (1, 2, 5, 10
+00012010: 2c20 3230 2c20 3530 290a 0a20 2020 2069  , 20, 50)..    i
+00012020: 6620 6c6f 6773 6361 6c65 3a0a 2020 2020  f logscale:.    
+00012030: 2020 2020 6966 2078 3020 3c3d 2030 206f      if x0 <= 0 o
+00012040: 7220 7831 203c 3d20 303a 0a20 2020 2020  r x1 <= 0:.     
+00012050: 2020 2020 2020 2076 6564 6f2e 6c6f 6767         vedo.logg
+00012060: 6572 2e65 7272 6f72 2822 6d61 6b65 5f74  er.error("make_t
+00012070: 6963 6b73 3a20 7a65 726f 206f 7220 6e65  icks: zero or ne
+00012080: 6761 7469 7665 2072 616e 6765 2077 6974  gative range wit
+00012090: 6820 6c6f 6720 7363 616c 652e 2229 0a20  h log scale."). 
+000120a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000120b0: 2052 756e 7469 6d65 4572 726f 720a 2020   RuntimeError.  
+000120c0: 2020 2020 2020 6966 206e 2069 7320 4e6f        if n is No
+000120d0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+000120e0: 6e20 3d20 696e 7428 6162 7328 6e70 2e6c  n = int(abs(np.l
+000120f0: 6f67 3130 2878 3129 202d 206e 702e 6c6f  og10(x1) - np.lo
+00012100: 6731 3028 7830 2929 2920 2b20 310a 2020  g10(x0))) + 1.  
+00012110: 2020 2020 2020 7830 2c20 7831 203d 206e        x0, x1 = n
+00012120: 702e 6c6f 6731 3028 5b78 302c 2078 315d  p.log10([x0, x1]
+00012130: 290a 0a20 2020 2069 6620 6e6f 7420 6e3a  )..    if not n:
+00012140: 0a20 2020 2020 2020 206e 203d 2035 0a0a  .        n = 5..
+00012150: 2020 2020 6966 206c 6162 656c 7320 6973      if labels is
+00012160: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00012170: 2020 2023 2075 7365 7220 6973 2070 6173     # user is pas
+00012180: 7369 6e67 2063 7573 746f 6d20 6c61 6265  sing custom labe
+00012190: 6c73 0a0a 2020 2020 2020 2020 7469 636b  ls..        tick
+000121a0: 735f 666c 6f61 742e 6170 7065 6e64 2830  s_float.append(0
+000121b0: 290a 2020 2020 2020 2020 7469 636b 735f  ).        ticks_
+000121c0: 7374 722e 6170 7065 6e64 2822 2229 0a20  str.append(""). 
+000121d0: 2020 2020 2020 2066 6f72 2074 702c 2074         for tp, t
+000121e0: 7320 696e 206c 6162 656c 733a 0a20 2020  s in labels:.   
+000121f0: 2020 2020 2020 2020 2069 6620 7470 203d           if tp =
+00012200: 3d20 7831 3a0a 2020 2020 2020 2020 2020  = x1:.          
+00012210: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
+00012220: 2020 2020 2020 2020 2020 2074 6963 6b73             ticks
+00012230: 5f73 7472 2e61 7070 656e 6428 7374 7228  _str.append(str(
+00012240: 7473 2929 0a20 2020 2020 2020 2020 2020  ts)).           
+00012250: 2074 6963 6b6e 203d 206c 696e 5f69 6e74   tickn = lin_int
+00012260: 6572 706f 6c61 7465 2874 702c 205b 7830  erpolate(tp, [x0
+00012270: 2c20 7831 5d2c 205b 302c 2031 5d29 0a20  , x1], [0, 1]). 
+00012280: 2020 2020 2020 2020 2020 2074 6963 6b73             ticks
+00012290: 5f66 6c6f 6174 2e61 7070 656e 6428 7469  _float.append(ti
+000122a0: 636b 6e29 0a0a 2020 2020 656c 7365 3a0a  ckn)..    else:.
+000122b0: 2020 2020 2020 2020 2320 2e2e 6865 7265          # ..here
+000122c0: 2063 6f6d 6573 206f 6e65 206f 6620 7468   comes one of th
+000122d0: 6520 7368 6f72 7465 7374 2061 6e64 206d  e shortest and m
+000122e0: 6f73 7420 7061 696e 6675 6c20 7069 6563  ost painful piec
+000122f0: 6573 206f 6620 636f 6465 3a0a 2020 2020  es of code:.    
+00012300: 2020 2020 2320 6175 746f 6d61 7469 6361      # automatica
+00012310: 6c6c 7920 6368 6f6f 7365 2074 6865 2062  lly choose the b
+00012320: 6573 7420 6e61 7475 7261 6c20 6178 6973  est natural axis
+00012330: 2073 7562 6469 7669 7369 6f6e 2062 6173   subdivision bas
+00012340: 6564 206f 6e20 6d75 6c74 6970 6c65 7320  ed on multiples 
+00012350: 6f66 2031 2c32 2c35 0a20 2020 2020 2020  of 1,2,5.       
+00012360: 2064 7374 6570 203d 2028 7831 202d 2078   dstep = (x1 - x
+00012370: 3029 202f 206e 2020 2320 6465 7369 7265  0) / n  # desire
+00012380: 6420 7374 6570 2073 697a 652c 2062 6567  d step size, beg
+00012390: 696e 206f 6620 7468 6520 6e69 6768 746d  in of the nightm
+000123a0: 6172 650a 0a20 2020 2020 2020 2062 6173  are..        bas
+000123b0: 6573 7465 7020 3d20 706f 7728 3130 2c20  estep = pow(10, 
+000123c0: 6e70 2e66 6c6f 6f72 286e 702e 6c6f 6731  np.floor(np.log1
+000123d0: 3028 6473 7465 7029 2929 0a20 2020 2020  0(dstep))).     
+000123e0: 2020 2073 7465 7073 203d 206e 702e 6172     steps = np.ar
+000123f0: 7261 7928 5b62 6173 6573 7465 7020 2a20  ray([basestep * 
+00012400: 6920 666f 7220 6920 696e 2062 6173 656c  i for i in basel
+00012410: 696e 655d 290a 2020 2020 2020 2020 6964  ine]).        id
+00012420: 7820 3d20 286e 702e 6162 7328 7374 6570  x = (np.abs(step
+00012430: 7320 2d20 6473 7465 7029 292e 6172 676d  s - dstep)).argm
+00012440: 696e 2829 0a20 2020 2020 2020 2073 203d  in().        s =
+00012450: 2073 7465 7073 5b69 6478 5d20 2023 2063   steps[idx]  # c
+00012460: 686f 7365 6e20 7374 6570 2073 697a 650a  hosen step size.
+00012470: 0a20 2020 2020 2020 206c 6f77 5f62 6f75  .        low_bou
+00012480: 6e64 2c20 7570 5f62 6f75 6e64 203d 2030  nd, up_bound = 0
+00012490: 2c20 300a 2020 2020 2020 2020 6966 2078  , 0.        if x
+000124a0: 3020 3c20 303a 0a20 2020 2020 2020 2020  0 < 0:.         
+000124b0: 2020 206c 6f77 5f62 6f75 6e64 203d 202d     low_bound = -
+000124c0: 706f 7728 3130 2c20 6e70 2e63 6569 6c28  pow(10, np.ceil(
+000124d0: 6e70 2e6c 6f67 3130 282d 7830 2929 290a  np.log10(-x0))).
+000124e0: 2020 2020 2020 2020 6966 2078 3120 3e20          if x1 > 
+000124f0: 303a 0a20 2020 2020 2020 2020 2020 2075  0:.            u
+00012500: 705f 626f 756e 6420 3d20 706f 7728 3130  p_bound = pow(10
+00012510: 2c20 6e70 2e63 6569 6c28 6e70 2e6c 6f67  , np.ceil(np.log
+00012520: 3130 2878 3129 2929 0a0a 2020 2020 2020  10(x1)))..      
+00012530: 2020 6966 206c 6f77 5f62 6f75 6e64 203c    if low_bound <
+00012540: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+00012550: 6966 2075 705f 626f 756e 6420 3c20 303a  if up_bound < 0:
+00012560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012570: 206e 6567 6178 6973 203d 206e 702e 6172   negaxis = np.ar
+00012580: 616e 6765 286c 6f77 5f62 6f75 6e64 2c20  ange(low_bound, 
+00012590: 696e 7428 7570 5f62 6f75 6e64 202f 2073  int(up_bound / s
+000125a0: 2920 2a20 7329 0a20 2020 2020 2020 2020  ) * s).         
+000125b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000125c0: 2020 2020 2020 2020 2069 6620 2d6c 6f77           if -low
+000125d0: 5f62 6f75 6e64 202f 2073 203e 2031 2e30  _bound / s > 1.0
+000125e0: 6530 363a 0a20 2020 2020 2020 2020 2020  e06:.           
+000125f0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00012600: 6e70 2e61 7272 6179 285b 302e 302c 2031  np.array([0.0, 1
+00012610: 2e30 5d29 2c20 5b22 222c 2022 225d 0a20  .0]), ["", ""]. 
+00012620: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00012630: 6567 6178 6973 203d 206e 702e 6172 616e  egaxis = np.aran
+00012640: 6765 286c 6f77 5f62 6f75 6e64 2c20 302c  ge(low_bound, 0,
+00012650: 2073 290a 2020 2020 2020 2020 656c 7365   s).        else
+00012660: 3a0a 2020 2020 2020 2020 2020 2020 6e65  :.            ne
+00012670: 6761 7869 7320 3d20 6e70 2e61 7272 6179  gaxis = np.array
+00012680: 285b 5d29 0a0a 2020 2020 2020 2020 6966  ([])..        if
+00012690: 2075 705f 626f 756e 6420 3e20 303a 0a20   up_bound > 0:. 
+000126a0: 2020 2020 2020 2020 2020 2069 6620 6c6f             if lo
+000126b0: 775f 626f 756e 6420 3e20 303a 0a20 2020  w_bound > 0:.   
+000126c0: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
+000126d0: 6178 6973 203d 206e 702e 6172 616e 6765  axis = np.arange
+000126e0: 2869 6e74 286c 6f77 5f62 6f75 6e64 202f  (int(low_bound /
+000126f0: 2073 2920 2a20 732c 2075 705f 626f 756e   s) * s, up_boun
+00012700: 642c 2073 290a 2020 2020 2020 2020 2020  d, s).          
+00012710: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00012720: 2020 2020 2020 2020 6966 2075 705f 626f          if up_bo
+00012730: 756e 6420 2f20 7320 3e20 312e 3065 3036  und / s > 1.0e06
+00012740: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012750: 2020 2020 2020 7265 7475 726e 206e 702e        return np.
+00012760: 6172 7261 7928 5b30 2e30 2c20 312e 305d  array([0.0, 1.0]
+00012770: 292c 205b 2222 2c20 2222 5d0a 2020 2020  ), ["", ""].    
+00012780: 2020 2020 2020 2020 2020 2020 706f 7361              posa
+00012790: 7869 7320 3d20 6e70 2e61 7261 6e67 6528  xis = np.arange(
+000127a0: 302c 2075 705f 626f 756e 642c 2073 290a  0, up_bound, s).
+000127b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000127c0: 2020 2020 2020 2020 2020 706f 7361 7869            posaxi
+000127d0: 7320 3d20 6e70 2e61 7272 6179 285b 5d29  s = np.array([])
+000127e0: 0a0a 2020 2020 2020 2020 6675 6c61 7869  ..        fulaxi
+000127f0: 7320 3d20 6e70 2e75 6e69 7175 6528 6e70  s = np.unique(np
+00012800: 2e63 6c69 7028 6e70 2e63 6f6e 6361 7465  .clip(np.concate
+00012810: 6e61 7465 285b 6e65 6761 7869 732c 2070  nate([negaxis, p
+00012820: 6f73 6178 6973 5d29 2c20 7830 2c20 7831  osaxis]), x0, x1
+00012830: 2929 0a20 2020 2020 2020 2023 2065 6e64  )).        # end
+00012840: 206f 6620 7468 6520 6e69 6768 746d 6172   of the nightmar
+00012850: 650a 0a20 2020 2020 2020 2069 6620 7573  e..        if us
+00012860: 6566 6f72 6d61 743a 0a20 2020 2020 2020  eformat:.       
+00012870: 2020 2020 2073 6620 3d20 227b 2220 2b20       sf = "{" + 
+00012880: 6622 7b75 7365 666f 726d 6174 7d22 202b  f"{useformat}" +
+00012890: 2022 7d22 0a20 2020 2020 2020 2020 2020   "}".           
+000128a0: 2073 6173 203d 2022 220a 2020 2020 2020   sas = "".      
+000128b0: 2020 2020 2020 666f 7220 7820 696e 2066        for x in f
+000128c0: 756c 6178 6973 3a0a 2020 2020 2020 2020  ulaxis:.        
+000128d0: 2020 2020 2020 2020 7361 7320 2b3d 2073          sas += s
+000128e0: 662e 666f 726d 6174 2878 2920 2b20 2220  f.format(x) + " 
+000128f0: 220a 2020 2020 2020 2020 656c 6966 2064  ".        elif d
+00012900: 6967 6974 7320 6973 204e 6f6e 653a 0a20  igits is None:. 
+00012910: 2020 2020 2020 2020 2020 206e 702e 7365             np.se
+00012920: 745f 7072 696e 746f 7074 696f 6e73 2873  t_printoptions(s
+00012930: 7570 7072 6573 733d 5472 7565 2920 2023  uppress=True)  #
+00012940: 2061 766f 6964 207a 6572 6f20 7072 6563   avoid zero prec
+00012950: 6973 696f 6e0a 2020 2020 2020 2020 2020  ision.          
+00012960: 2020 7361 7320 3d20 7374 7228 6675 6c61    sas = str(fula
+00012970: 7869 7329 2e72 6570 6c61 6365 2822 5b22  xis).replace("["
+00012980: 2c20 2222 292e 7265 706c 6163 6528 225d  , "").replace("]
+00012990: 222c 2022 2229 0a20 2020 2020 2020 2020  ", "").         
+000129a0: 2020 2073 6173 203d 2073 6173 2e72 6570     sas = sas.rep
+000129b0: 6c61 6365 2822 2e65 222c 2022 6522 292e  lace(".e", "e").
+000129c0: 7265 706c 6163 6528 2265 2b30 222c 2022  replace("e+0", "
+000129d0: 652b 2229 2e72 6570 6c61 6365 2822 652d  e+").replace("e-
+000129e0: 3022 2c20 2265 2d22 290a 2020 2020 2020  0", "e-").      
+000129f0: 2020 2020 2020 6e70 2e73 6574 5f70 7269        np.set_pri
+00012a00: 6e74 6f70 7469 6f6e 7328 7375 7070 7265  ntoptions(suppre
+00012a10: 7373 3d4e 6f6e 6529 2020 2320 7365 7420  ss=None)  # set 
+00012a20: 6261 636b 2074 6f20 6465 6661 756c 740a  back to default.
+00012a30: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00012a40: 2020 2020 2020 2020 2020 7361 7320 3d20            sas = 
+00012a50: 7072 6563 6973 696f 6e28 6675 6c61 7869  precision(fulaxi
+00012a60: 732c 2064 6967 6974 732c 2076 7261 6e67  s, digits, vrang
+00012a70: 653d 2878 302c 2078 3129 290a 2020 2020  e=(x0, x1)).    
+00012a80: 2020 2020 2020 2020 7361 7320 3d20 7361          sas = sa
+00012a90: 732e 7265 706c 6163 6528 225b 222c 2022  s.replace("[", "
+00012aa0: 2229 2e72 6570 6c61 6365 2822 5d22 2c20  ").replace("]", 
+00012ab0: 2222 292e 7265 706c 6163 6528 2229 222c  "").replace(")",
+00012ac0: 2022 2229 2e72 6570 6c61 6365 2822 2c22   "").replace(","
+00012ad0: 2c20 2222 290a 0a20 2020 2020 2020 2073  , "")..        s
+00012ae0: 6173 3220 3d20 5b5d 0a20 2020 2020 2020  as2 = [].       
+00012af0: 2066 6f72 2073 2069 6e20 7361 732e 7370   for s in sas.sp
+00012b00: 6c69 7428 293a 0a20 2020 2020 2020 2020  lit():.         
+00012b10: 2020 2069 6620 732e 656e 6473 7769 7468     if s.endswith
+00012b20: 2822 2e22 293a 0a20 2020 2020 2020 2020  ("."):.         
+00012b30: 2020 2020 2020 2073 203d 2073 5b3a 2d31         s = s[:-1
+00012b40: 5d0a 2020 2020 2020 2020 2020 2020 6966  ].            if
+00012b50: 2073 203d 3d20 222d 3022 3a0a 2020 2020   s == "-0":.    
+00012b60: 2020 2020 2020 2020 2020 2020 7320 3d20              s = 
+00012b70: 2230 220a 2020 2020 2020 2020 2020 2020  "0".            
+00012b80: 6966 2064 6967 6974 7320 6973 206e 6f74  if digits is not
+00012b90: 204e 6f6e 6520 616e 6420 2265 2220 696e   None and "e" in
+00012ba0: 2073 3a0a 2020 2020 2020 2020 2020 2020   s:.            
+00012bb0: 2020 2020 7320 2b3d 2022 2022 2020 2320      s += " "  # 
+00012bc0: 6164 6420 7370 6163 6520 746f 2074 6572  add space to ter
+00012bd0: 6d69 6e61 7465 206d 6f64 6966 6965 7273  minate modifiers
+00012be0: 0a20 2020 2020 2020 2020 2020 2073 6173  .            sas
+00012bf0: 322e 6170 7065 6e64 2873 290a 0a20 2020  2.append(s)..   
+00012c00: 2020 2020 2066 6f72 2074 732c 2074 7020       for ts, tp 
+00012c10: 696e 207a 6970 2873 6173 322c 2066 756c  in zip(sas2, ful
+00012c20: 6178 6973 293a 0a20 2020 2020 2020 2020  axis):.         
+00012c30: 2020 2069 6620 7470 203d 3d20 7831 3a0a     if tp == x1:.
+00012c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012c50: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+00012c60: 2020 2020 2074 6963 6b6e 203d 206c 696e       tickn = lin
+00012c70: 5f69 6e74 6572 706f 6c61 7465 2874 702c  _interpolate(tp,
+00012c80: 205b 7830 2c20 7831 5d2c 205b 302c 2031   [x0, x1], [0, 1
+00012c90: 5d29 0a20 2020 2020 2020 2020 2020 2074  ]).            t
+00012ca0: 6963 6b73 5f66 6c6f 6174 2e61 7070 656e  icks_float.appen
+00012cb0: 6428 7469 636b 6e29 0a20 2020 2020 2020  d(tickn).       
+00012cc0: 2020 2020 2069 6620 6c6f 6773 6361 6c65       if logscale
+00012cd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012ce0: 2020 7661 6c20 3d20 6e70 2e70 6f77 6572    val = np.power
+00012cf0: 2831 302c 2074 7029 0a20 2020 2020 2020  (10, tp).       
+00012d00: 2020 2020 2020 2020 2069 6620 7573 6566           if usef
+00012d10: 6f72 6d61 743a 0a20 2020 2020 2020 2020  ormat:.         
+00012d20: 2020 2020 2020 2020 2020 2073 6620 3d20             sf = 
+00012d30: 227b 2220 2b20 6622 7b75 7365 666f 726d  "{" + f"{useform
+00012d40: 6174 7d22 202b 2022 7d22 0a20 2020 2020  at}" + "}".     
+00012d50: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00012d60: 6963 6b73 5f73 7472 2e61 7070 656e 6428  icks_str.append(
+00012d70: 7366 2e66 6f72 6d61 7428 7661 6c29 290a  sf.format(val)).
+00012d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012d90: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00012da0: 2020 2020 2020 2020 2020 6966 2076 616c            if val
+00012db0: 203e 3d20 3130 3a0a 2020 2020 2020 2020   >= 10:.        
+00012dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012dd0: 7661 6c20 3d20 696e 7428 7661 6c20 2b20  val = int(val + 
+00012de0: 302e 3529 0a20 2020 2020 2020 2020 2020  0.5).           
+00012df0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00012e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012e10: 2020 2020 2020 2076 616c 203d 2072 6f75         val = rou
+00012e20: 6e64 5f74 6f5f 6469 6769 7428 7661 6c2c  nd_to_digit(val,
+00012e30: 2032 290a 2020 2020 2020 2020 2020 2020   2).            
+00012e40: 2020 2020 2020 2020 7469 636b 735f 7374          ticks_st
+00012e50: 722e 6170 7065 6e64 2873 7472 2876 616c  r.append(str(val
+00012e60: 2929 0a20 2020 2020 2020 2020 2020 2065  )).            e
+00012e70: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00012e80: 2020 2020 2074 6963 6b73 5f73 7472 2e61       ticks_str.a
+00012e90: 7070 656e 6428 7473 290a 0a20 2020 2074  ppend(ts)..    t
+00012ea0: 6963 6b73 5f73 7472 2e61 7070 656e 6428  icks_str.append(
+00012eb0: 2222 290a 2020 2020 7469 636b 735f 666c  "").    ticks_fl
+00012ec0: 6f61 742e 6170 7065 6e64 2831 290a 2020  oat.append(1).  
+00012ed0: 2020 7469 636b 735f 666c 6f61 7420 3d20    ticks_float = 
+00012ee0: 6e70 2e61 7272 6179 2874 6963 6b73 5f66  np.array(ticks_f
+00012ef0: 6c6f 6174 290a 2020 2020 7265 7475 726e  loat).    return
+00012f00: 2074 6963 6b73 5f66 6c6f 6174 2c20 7469   ticks_float, ti
+00012f10: 636b 735f 7374 720a 0a0a 6465 6620 6772  cks_str...def gr
+00012f20: 6964 5f63 6f72 6e65 7273 2869 2c20 6e6d  id_corners(i, nm
+00012f30: 2c20 7369 7a65 2c20 6d61 7267 696e 3d30  , size, margin=0
+00012f40: 2c20 7966 6c69 703d 5472 7565 293a 0a20  , yflip=True):. 
+00012f50: 2020 2022 2222 0a20 2020 2043 6f6d 7075     """.    Compu
+00012f60: 7465 2074 6865 2032 2063 6f72 6e65 7273  te the 2 corners
+00012f70: 2063 6f6f 7264 696e 6174 6573 206f 6620   coordinates of 
+00012f80: 7468 6520 692d 7468 2062 6f78 2069 6e20  the i-th box in 
+00012f90: 6120 6772 6964 206f 6620 7368 6170 6520  a grid of shape 
+00012fa0: 6e2a 6d2e 0a20 2020 2054 6865 2074 6f70  n*m..    The top
+00012fb0: 2d6c 6566 7420 7371 7561 7265 2069 7320  -left square is 
+00012fc0: 7371 7561 7265 206e 756d 6265 7220 312e  square number 1.
+00012fd0: 0a0a 2020 2020 4172 6775 6d65 6e74 733a  ..    Arguments:
+00012fe0: 0a20 2020 2020 2020 2069 203a 2028 696e  .        i : (in
+00012ff0: 7429 0a20 2020 2020 2020 2020 2020 2069  t).            i
+00013000: 6e70 7574 2069 6e64 6578 206f 6620 7468  nput index of th
+00013010: 6520 6465 7369 7265 6420 6772 6964 2073  e desired grid s
+00013020: 7175 6172 6520 2874 6f20 6265 2075 7365  quare (to be use
+00013030: 6420 696e 2060 7368 6f77 282e 2e2e 2c20  d in `show(..., 
+00013040: 6174 3d2e 2e2e 2960 292e 0a20 2020 2020  at=...)`)..     
+00013050: 2020 206e 6d20 3a20 286c 6973 7429 0a20     nm : (list). 
+00013060: 2020 2020 2020 2020 2020 2067 7269 6420             grid 
+00013070: 7368 6170 6520 6173 2028 6e2c 6d29 2e0a  shape as (n,m)..
+00013080: 2020 2020 2020 2020 7369 7a65 203a 2028          size : (
+00013090: 6c69 7374 290a 2020 2020 2020 2020 2020  list).          
+000130a0: 2020 746f 7461 6c20 7369 7a65 206f 6620    total size of 
+000130b0: 7468 6520 6772 6964 2061 6c6f 6e67 2078  the grid along x
+000130c0: 2061 6e64 2079 2e0a 2020 2020 2020 2020   and y..        
+000130d0: 6d61 7267 696e 203a 2028 666c 6f61 7429  margin : (float)
+000130e0: 0a20 2020 2020 2020 2020 2020 206b 6565  .            kee
+000130f0: 7020 6120 736d 616c 6c20 6d61 7267 696e  p a small margin
+00013100: 2062 6574 7765 656e 2062 6f78 6573 2e0a   between boxes..
+00013110: 2020 2020 2020 2020 7966 6c69 7020 3a20          yflip : 
+00013120: 2862 6f6f 6c29 0a20 2020 2020 2020 2020  (bool).         
+00013130: 2020 2079 2d63 6f6f 7264 696e 6174 6520     y-coordinate 
+00013140: 706f 696e 7473 2064 6f77 6e77 6172 6473  points downwards
+00013150: 0a0a 2020 2020 5265 7475 726e 733a 0a20  ..    Returns:. 
+00013160: 2020 2020 2020 2054 776f 2032 4420 706f         Two 2D po
+00013170: 696e 7473 2072 6570 7265 7365 6e74 696e  ints representin
+00013180: 6720 7468 6520 626f 7474 6f6d 2d6c 6566  g the bottom-lef
+00013190: 7420 636f 726e 6572 2061 6e64 2074 6865  t corner and the
+000131a0: 2074 6f70 2d72 6967 6874 2063 6f72 6e65   top-right corne
+000131b0: 720a 2020 2020 2020 2020 6f66 2074 6865  r.        of the
+000131c0: 2060 6960 2d6e 7468 2062 6f78 2069 6e20   `i`-nth box in 
+000131d0: 7468 6520 6772 6964 2e0a 0a20 2020 2045  the grid...    E
+000131e0: 7861 6d70 6c65 3a0a 2020 2020 2020 2020  xample:.        
+000131f0: 6060 6070 7974 686f 6e0a 2020 2020 2020  ```python.      
+00013200: 2020 6672 6f6d 2076 6564 6f20 696d 706f    from vedo impo
+00013210: 7274 202a 0a20 2020 2020 2020 2061 6374  rt *.        act
+00013220: 733d 5b5d 0a20 2020 2020 2020 206e 2c6d  s=[].        n,m
+00013230: 203d 2035 2c37 0a20 2020 2020 2020 2066   = 5,7.        f
+00013240: 6f72 2069 2069 6e20 7261 6e67 6528 312c  or i in range(1,
+00013250: 206e 2a6d 202b 2031 293a 0a20 2020 2020   n*m + 1):.     
+00013260: 2020 2020 2020 2063 312c 6332 203d 2075         c1,c2 = u
+00013270: 7469 6c73 2e67 7269 645f 636f 726e 6572  tils.grid_corner
+00013280: 7328 692c 205b 6e2c 6d5d 2c20 5b31 2c31  s(i, [n,m], [1,1
+00013290: 5d2c 2030 2e30 3129 0a20 2020 2020 2020  ], 0.01).       
+000132a0: 2020 2020 2074 203d 2054 6578 7433 4428       t = Text3D(
+000132b0: 692c 2028 6331 2b63 3229 2f32 2c20 633d  i, (c1+c2)/2, c=
+000132c0: 276b 272c 2073 3d30 2e30 322c 206a 7573  'k', s=0.02, jus
+000132d0: 7469 6679 3d27 6365 6e74 6572 2729 2e7a  tify='center').z
+000132e0: 2830 2e30 3129 0a20 2020 2020 2020 2020  (0.01).         
+000132f0: 2020 2072 203d 2052 6563 7461 6e67 6c65     r = Rectangle
+00013300: 2863 312c 2063 322c 2063 3d69 290a 2020  (c1, c2, c=i).  
+00013310: 2020 2020 2020 2020 2020 6163 7473 202b            acts +
+00013320: 3d20 5b74 2c72 5d0a 2020 2020 2020 2020  = [t,r].        
+00013330: 7368 6f77 2861 6374 732c 2061 7865 733d  show(acts, axes=
+00013340: 3129 2e63 6c6f 7365 2829 0a20 2020 2020  1).close().     
+00013350: 2020 2060 6060 0a20 2020 2020 2020 2021     ```.        !
+00013360: 5b5d 2868 7474 7073 3a2f 2f76 6564 6f2e  [](https://vedo.
+00013370: 656d 626c 2e65 732f 696d 6167 6573 2f66  embl.es/images/f
+00013380: 6561 7473 2f67 7269 645f 636f 726e 6572  eats/grid_corner
+00013390: 732e 706e 6729 0a20 2020 2022 2222 0a20  s.png).    """. 
+000133a0: 2020 2069 202d 3d20 310a 2020 2020 6e2c     i -= 1.    n,
+000133b0: 206d 203d 206e 6d0a 2020 2020 7378 2c20   m = nm.    sx, 
+000133c0: 7379 203d 2073 697a 650a 2020 2020 6478  sy = size.    dx
+000133d0: 2c20 6479 203d 2073 7820 2f20 6e2c 2073  , dy = sx / n, s
+000133e0: 7920 2f20 6d0a 2020 2020 6e78 203d 2069  y / m.    nx = i
+000133f0: 2025 206e 0a20 2020 206e 7920 3d20 696e   % n.    ny = in
+00013400: 7428 2869 202d 206e 7829 202f 206e 290a  t((i - nx) / n).
+00013410: 2020 2020 6966 2079 666c 6970 3a0a 2020      if yflip:.  
+00013420: 2020 2020 2020 6e79 203d 206e 202d 206e        ny = n - n
+00013430: 790a 2020 2020 6331 203d 2028 6478 202a  y.    c1 = (dx *
+00013440: 206e 7820 2b20 6d61 7267 696e 2c20 6479   nx + margin, dy
+00013450: 202a 206e 7920 2b20 6d61 7267 696e 290a   * ny + margin).
+00013460: 2020 2020 6332 203d 2028 6478 202a 2028      c2 = (dx * (
+00013470: 6e78 202b 2031 2920 2d20 6d61 7267 696e  nx + 1) - margin
+00013480: 2c20 6479 202a 2028 6e79 202b 2031 2920  , dy * (ny + 1) 
+00013490: 2d20 6d61 7267 696e 290a 2020 2020 7265  - margin).    re
+000134a0: 7475 726e 206e 702e 6172 7261 7928 6331  turn np.array(c1
+000134b0: 292c 206e 702e 6172 7261 7928 6332 290a  ), np.array(c2).
+000134c0: 0a0a 2323 2323 2323 2323 2323 2323 2323  ..##############
+000134d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000134e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000134f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013500: 2323 2323 2323 2323 2323 2323 2323 0a23  ##############.#
+00013510: 2054 7269 6d65 7368 2073 7570 706f 7274   Trimesh support
+00013520: 0a23 0a23 2049 6e73 7461 6c6c 2074 7269  .#.# Install tri
+00013530: 6d65 7368 2077 6974 683a 0a23 0a23 2020  mesh with:.#.#  
+00013540: 2020 7375 646f 2061 7074 2069 6e73 7461    sudo apt insta
+00013550: 6c6c 2070 7974 686f 6e33 2d72 7472 6565  ll python3-rtree
+00013560: 0a23 2020 2020 7069 7020 696e 7374 616c  .#    pip instal
+00013570: 6c20 7274 7265 6520 7368 6170 656c 790a  l rtree shapely.
+00013580: 2320 2020 2063 6f6e 6461 2069 6e73 7461  #    conda insta
+00013590: 6c6c 2074 7269 6d65 7368 0a23 0a23 2043  ll trimesh.#.# C
+000135a0: 6865 636b 2074 6865 2065 7861 6d70 6c65  heck the example
+000135b0: 2067 616c 6c65 7279 2069 6e3a 2065 7861   gallery in: exa
+000135c0: 6d70 6c65 732f 6f74 6865 722f 7472 696d  mples/other/trim
+000135d0: 6573 683e 0a23 2323 2323 2323 2323 2323  esh>.###########
+000135e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000135f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013600: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013610: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013620: 0a64 6566 2076 6564 6f32 7472 696d 6573  .def vedo2trimes
+00013630: 6828 6d65 7368 293a 0a20 2020 2022 2222  h(mesh):.    """
+00013640: 0a20 2020 2043 6f6e 7665 7274 2060 7665  .    Convert `ve
+00013650: 646f 2e6d 6573 682e 4d65 7368 6020 746f  do.mesh.Mesh` to
+00013660: 2060 5472 696d 6573 682e 4d65 7368 6020   `Trimesh.Mesh` 
+00013670: 6f62 6a65 6374 2e0a 2020 2020 2222 220a  object..    """.
+00013680: 2020 2020 6966 2069 735f 7365 7175 656e      if is_sequen
+00013690: 6365 286d 6573 6829 3a0a 2020 2020 2020  ce(mesh):.      
+000136a0: 2020 746d 7320 3d20 5b5d 0a20 2020 2020    tms = [].     
+000136b0: 2020 2066 6f72 2061 2069 6e20 6d65 7368     for a in mesh
+000136c0: 3a0a 2020 2020 2020 2020 2020 2020 746d  :.            tm
+000136d0: 732e 6170 7065 6e64 2876 6564 6f32 7472  s.append(vedo2tr
+000136e0: 696d 6573 6828 6129 290a 2020 2020 2020  imesh(a)).      
+000136f0: 2020 7265 7475 726e 2074 6d73 0a0a 2020    return tms..  
+00013700: 2020 6672 6f6d 2074 7269 6d65 7368 2069    from trimesh i
+00013710: 6d70 6f72 7420 5472 696d 6573 680a 0a20  mport Trimesh.. 
+00013720: 2020 2074 7269 7320 3d20 6d65 7368 2e66     tris = mesh.f
+00013730: 6163 6573 2829 0a20 2020 2063 6172 7220  aces().    carr 
+00013740: 3d20 6d65 7368 2e63 656c 6c64 6174 615b  = mesh.celldata[
+00013750: 2243 656c 6c49 6e64 6976 6964 7561 6c43  "CellIndividualC
+00013760: 6f6c 6f72 7322 5d0a 2020 2020 6363 6f6c  olors"].    ccol
+00013770: 7320 3d20 6361 7272 0a0a 2020 2020 706f  s = carr..    po
+00013780: 696e 7473 203d 206d 6573 682e 706f 696e  ints = mesh.poin
+00013790: 7473 2829 0a20 2020 2076 6172 7220 3d20  ts().    varr = 
+000137a0: 6d65 7368 2e70 6f69 6e74 6461 7461 5b22  mesh.pointdata["
+000137b0: 5665 7274 6578 436f 6c6f 7273 225d 0a20  VertexColors"]. 
+000137c0: 2020 2076 636f 6c73 203d 2076 6172 720a     vcols = varr.
+000137d0: 0a20 2020 2069 6620 6c65 6e28 7472 6973  .    if len(tris
+000137e0: 2920 3d3d 2030 3a0a 2020 2020 2020 2020  ) == 0:.        
+000137f0: 7472 6973 203d 204e 6f6e 650a 0a20 2020  tris = None..   
+00013800: 2072 6574 7572 6e20 5472 696d 6573 6828   return Trimesh(
+00013810: 7665 7274 6963 6573 3d70 6f69 6e74 732c  vertices=points,
+00013820: 2066 6163 6573 3d74 7269 732c 2066 6163   faces=tris, fac
+00013830: 655f 636f 6c6f 7273 3d63 636f 6c73 2c20  e_colors=ccols, 
+00013840: 7665 7274 6578 5f63 6f6c 6f72 733d 7663  vertex_colors=vc
+00013850: 6f6c 7329 0a0a 0a64 6566 2074 7269 6d65  ols)...def trime
+00013860: 7368 3276 6564 6f28 696e 7075 746f 626a  sh2vedo(inputobj
+00013870: 293a 0a20 2020 2022 2222 0a20 2020 2043  ):.    """.    C
+00013880: 6f6e 7665 7274 2061 2060 5472 696d 6573  onvert a `Trimes
+00013890: 6860 206f 626a 6563 7420 746f 2060 7665  h` object to `ve
+000138a0: 646f 2e4d 6573 6860 206f 7220 6076 6564  do.Mesh` or `ved
+000138b0: 6f2e 4173 7365 6d62 6c79 6020 6f62 6a65  o.Assembly` obje
+000138c0: 6374 2e0a 2020 2020 2222 220a 2020 2020  ct..    """.    
+000138d0: 6966 2069 735f 7365 7175 656e 6365 2869  if is_sequence(i
+000138e0: 6e70 7574 6f62 6a29 3a0a 2020 2020 2020  nputobj):.      
+000138f0: 2020 766d 7320 3d20 5b5d 0a20 2020 2020    vms = [].     
+00013900: 2020 2066 6f72 206f 6220 696e 2069 6e70     for ob in inp
+00013910: 7574 6f62 6a3a 0a20 2020 2020 2020 2020  utobj:.         
+00013920: 2020 2076 6d73 2e61 7070 656e 6428 7472     vms.append(tr
+00013930: 696d 6573 6832 7665 646f 286f 6229 290a  imesh2vedo(ob)).
+00013940: 2020 2020 2020 2020 7265 7475 726e 2076          return v
+00013950: 6d73 0a0a 2020 2020 696e 7075 746f 626a  ms..    inputobj
+00013960: 5f74 7970 6520 3d20 7374 7228 7479 7065  _type = str(type
+00013970: 2869 6e70 7574 6f62 6a29 290a 0a20 2020  (inputobj))..   
+00013980: 2069 6620 2254 7269 6d65 7368 2220 696e   if "Trimesh" in
+00013990: 2069 6e70 7574 6f62 6a5f 7479 7065 206f   inputobj_type o
+000139a0: 7220 2270 7269 6d69 7469 7665 7322 2069  r "primitives" i
+000139b0: 6e20 696e 7075 746f 626a 5f74 7970 653a  n inputobj_type:
+000139c0: 0a20 2020 2020 2020 2066 6163 6573 203d  .        faces =
+000139d0: 2069 6e70 7574 6f62 6a2e 6661 6365 730a   inputobj.faces.
+000139e0: 2020 2020 2020 2020 706f 6c79 203d 2062          poly = b
+000139f0: 7569 6c64 506f 6c79 4461 7461 2869 6e70  uildPolyData(inp
+00013a00: 7574 6f62 6a2e 7665 7274 6963 6573 2c20  utobj.vertices, 
+00013a10: 6661 6365 7329 0a20 2020 2020 2020 2074  faces).        t
+00013a20: 6163 7420 3d20 7665 646f 2e4d 6573 6828  act = vedo.Mesh(
+00013a30: 706f 6c79 290a 2020 2020 2020 2020 6966  poly).        if
+00013a40: 2069 6e70 7574 6f62 6a2e 7669 7375 616c   inputobj.visual
+00013a50: 2e6b 696e 6420 3d3d 2022 6661 6365 223a  .kind == "face":
+00013a60: 0a20 2020 2020 2020 2020 2020 2074 7269  .            tri
+00013a70: 6d5f 6320 3d20 696e 7075 746f 626a 2e76  m_c = inputobj.v
+00013a80: 6973 7561 6c2e 6661 6365 5f63 6f6c 6f72  isual.face_color
+00013a90: 730a 2020 2020 2020 2020 656c 7365 3a0a  s.        else:.
+00013aa0: 2020 2020 2020 2020 2020 2020 7472 696d              trim
+00013ab0: 5f63 203d 2069 6e70 7574 6f62 6a2e 7669  _c = inputobj.vi
+00013ac0: 7375 616c 2e76 6572 7465 785f 636f 6c6f  sual.vertex_colo
+00013ad0: 7273 0a0a 2020 2020 2020 2020 6966 2069  rs..        if i
+00013ae0: 735f 7365 7175 656e 6365 2874 7269 6d5f  s_sequence(trim_
+00013af0: 6329 3a0a 2020 2020 2020 2020 2020 2020  c):.            
+00013b00: 6966 2069 735f 7365 7175 656e 6365 2874  if is_sequence(t
+00013b10: 7269 6d5f 635b 305d 293a 0a20 2020 2020  rim_c[0]):.     
+00013b20: 2020 2020 2020 2020 2020 2073 616d 655f             same_
+00013b30: 636f 6c6f 7220 3d20 6c65 6e28 6e70 2e75  color = len(np.u
+00013b40: 6e69 7175 6528 7472 696d 5f63 2c20 6178  nique(trim_c, ax
+00013b50: 6973 3d30 2929 203c 2032 2020 2320 616c  is=0)) < 2  # al
+00013b60: 6c20 7674 7873 2068 6176 6520 7361 6d65  l vtxs have same
+00013b70: 2063 6f6c 6f72 0a0a 2020 2020 2020 2020   color..        
+00013b80: 2020 2020 2020 2020 6966 2073 616d 655f          if same_
+00013b90: 636f 6c6f 723a 0a20 2020 2020 2020 2020  color:.         
+00013ba0: 2020 2020 2020 2020 2020 2074 6163 742e             tact.
+00013bb0: 6328 7472 696d 5f63 5b30 2c20 5b30 2c20  c(trim_c[0, [0, 
+00013bc0: 312c 2032 5d5d 292e 616c 7068 6128 7472  1, 2]]).alpha(tr
+00013bd0: 696d 5f63 5b30 2c20 335d 290a 2020 2020  im_c[0, 3]).    
+00013be0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00013bf0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00013c00: 2020 2020 2020 6966 2069 6e70 7574 6f62        if inputob
+00013c10: 6a2e 7669 7375 616c 2e6b 696e 6420 3d3d  j.visual.kind ==
+00013c20: 2022 6661 6365 223a 0a20 2020 2020 2020   "face":.       
+00013c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013c40: 2074 6163 742e 6365 6c6c 5f69 6e64 6976   tact.cell_indiv
+00013c50: 6964 7561 6c5f 636f 6c6f 7273 2874 7269  idual_colors(tri
+00013c60: 6d5f 6329 0a20 2020 2020 2020 2072 6574  m_c).        ret
+00013c70: 7572 6e20 7461 6374 0a0a 2020 2020 6966  urn tact..    if
+00013c80: 2022 506f 696e 7443 6c6f 7564 2220 696e   "PointCloud" in
+00013c90: 2069 6e70 7574 6f62 6a5f 7479 7065 3a0a   inputobj_type:.
+00013ca0: 0a20 2020 2020 2020 2074 7269 6d5f 6363  .        trim_cc
+00013cb0: 2c20 7472 696d 5f61 6c20 3d20 2262 6c61  , trim_al = "bla
+00013cc0: 636b 222c 2031 0a20 2020 2020 2020 2069  ck", 1.        i
+00013cd0: 6620 6861 7361 7474 7228 696e 7075 746f  f hasattr(inputo
+00013ce0: 626a 2c20 2276 6572 7469 6365 735f 636f  bj, "vertices_co
+00013cf0: 6c6f 7222 293a 0a20 2020 2020 2020 2020  lor"):.         
+00013d00: 2020 2074 7269 6d5f 6320 3d20 696e 7075     trim_c = inpu
+00013d10: 746f 626a 2e76 6572 7469 6365 735f 636f  tobj.vertices_co
+00013d20: 6c6f 720a 2020 2020 2020 2020 2020 2020  lor.            
+00013d30: 6966 206c 656e 2874 7269 6d5f 6329 203e  if len(trim_c) >
+00013d40: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+00013d50: 2020 2020 7472 696d 5f63 6320 3d20 7472      trim_cc = tr
+00013d60: 696d 5f63 5b3a 2c20 5b30 2c20 312c 2032  im_c[:, [0, 1, 2
+00013d70: 5d5d 202f 2032 3535 0a20 2020 2020 2020  ]] / 255.       
+00013d80: 2020 2020 2020 2020 2074 7269 6d5f 616c           trim_al
+00013d90: 203d 2074 7269 6d5f 635b 3a2c 2033 5d20   = trim_c[:, 3] 
+00013da0: 2f20 3235 350a 2020 2020 2020 2020 2020  / 255.          
+00013db0: 2020 2020 2020 7472 696d 5f61 6c20 3d20        trim_al = 
+00013dc0: 6e70 2e73 756d 2874 7269 6d5f 616c 2920  np.sum(trim_al) 
+00013dd0: 2f20 6c65 6e28 7472 696d 5f61 6c29 2020  / len(trim_al)  
+00013de0: 2320 6a75 7374 2074 6865 2061 7665 7261  # just the avera
+00013df0: 6765 0a20 2020 2020 2020 2072 6574 7572  ge.        retur
+00013e00: 6e20 7665 646f 2e73 6861 7065 732e 506f  n vedo.shapes.Po
+00013e10: 696e 7473 2869 6e70 7574 6f62 6a2e 7665  ints(inputobj.ve
+00013e20: 7274 6963 6573 2c20 723d 382c 2063 3d74  rtices, r=8, c=t
+00013e30: 7269 6d5f 6363 2c20 616c 7068 613d 7472  rim_cc, alpha=tr
+00013e40: 696d 5f61 6c29 0a0a 2020 2020 6966 2022  im_al)..    if "
+00013e50: 7061 7468 2220 696e 2069 6e70 7574 6f62  path" in inputob
+00013e60: 6a5f 7479 7065 3a0a 0a20 2020 2020 2020  j_type:..       
+00013e70: 206c 696e 6573 203d 205b 5d0a 2020 2020   lines = [].    
+00013e80: 2020 2020 666f 7220 6520 696e 2069 6e70      for e in inp
+00013e90: 7574 6f62 6a2e 656e 7469 7469 6573 3a0a  utobj.entities:.
+00013ea0: 2020 2020 2020 2020 2020 2020 2320 7072              # pr
+00013eb0: 696e 7428 2774 7269 6d65 7368 2065 6e74  int('trimesh ent
+00013ec0: 6974 7927 2c20 652e 746f 5f64 6963 7428  ity', e.to_dict(
+00013ed0: 2929 0a20 2020 2020 2020 2020 2020 206c  )).            l
+00013ee0: 203d 2076 6564 6f2e 7368 6170 6573 2e4c   = vedo.shapes.L
+00013ef0: 696e 6528 696e 7075 746f 626a 2e76 6572  ine(inputobj.ver
+00013f00: 7469 6365 735b 652e 706f 696e 7473 5d2c  tices[e.points],
+00013f10: 2063 3d22 6b22 2c20 6c77 3d32 290a 2020   c="k", lw=2).  
+00013f20: 2020 2020 2020 2020 2020 6c69 6e65 732e            lines.
+00013f30: 6170 7065 6e64 286c 290a 2020 2020 2020  append(l).      
+00013f40: 2020 7265 7475 726e 2076 6564 6f2e 4173    return vedo.As
+00013f50: 7365 6d62 6c79 286c 696e 6573 290a 0a20  sembly(lines).. 
+00013f60: 2020 2072 6574 7572 6e20 4e6f 6e65 0a0a     return None..
+00013f70: 0a64 6566 2076 6564 6f32 6d65 7368 6c61  .def vedo2meshla
+00013f80: 6228 766d 6573 6829 3a0a 2020 2020 2222  b(vmesh):.    ""
+00013f90: 2243 6f6e 7665 7274 2061 2060 7665 646f  "Convert a `vedo
+00013fa0: 2e4d 6573 6860 2074 6f20 6120 4d65 7368  .Mesh` to a Mesh
+00013fb0: 6c61 6220 6f62 6a65 6374 2e22 2222 0a20  lab object.""". 
+00013fc0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00013fd0: 696d 706f 7274 2070 796d 6573 686c 6162  import pymeshlab
+00013fe0: 2061 7320 6d6c 6162 0a20 2020 2065 7863   as mlab.    exc
+00013ff0: 6570 7420 5275 6e74 696d 6545 7272 6f72  ept RuntimeError
+00014000: 3a0a 2020 2020 2020 2020 7665 646f 2e6c  :.        vedo.l
+00014010: 6f67 6765 722e 6572 726f 7228 224e 6565  ogger.error("Nee
+00014020: 6420 7079 6d65 7368 6c61 6220 746f 2072  d pymeshlab to r
+00014030: 756e 3a5c 6e70 6970 2069 6e73 7461 6c6c  un:\npip install
+00014040: 2070 796d 6573 686c 6162 2229 0a0a 2020   pymeshlab")..  
+00014050: 2020 7665 7274 6578 5f6d 6174 7269 7820    vertex_matrix 
+00014060: 3d20 766d 6573 682e 706f 696e 7473 2829  = vmesh.points()
+00014070: 2e61 7374 7970 6528 6e70 2e66 6c6f 6174  .astype(np.float
+00014080: 3634 290a 0a20 2020 2074 7279 3a0a 2020  64)..    try:.  
+00014090: 2020 2020 2020 6661 6365 5f6d 6174 7269        face_matri
+000140a0: 7820 3d20 6e70 2e61 7361 7272 6179 2876  x = np.asarray(v
+000140b0: 6d65 7368 2e66 6163 6573 2829 2c20 6474  mesh.faces(), dt
+000140c0: 7970 653d 6e70 2e66 6c6f 6174 3634 290a  ype=np.float64).
+000140d0: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
+000140e0: 2020 2020 7072 696e 7428 2249 6e20 7665      print("In ve
+000140f0: 646f 326d 6573 686c 6162 2c20 6e65 6564  do2meshlab, need
+00014100: 2074 6f20 7472 6961 6e67 756c 6174 6520   to triangulate 
+00014110: 6d65 7368 2066 6972 7374 2122 290a 2020  mesh first!").  
+00014120: 2020 2020 2020 6661 6365 5f6d 6174 7269        face_matri
+00014130: 7820 3d20 6e70 2e61 7272 6179 2876 6d65  x = np.array(vme
+00014140: 7368 2e63 6c6f 6e65 2829 2e74 7269 616e  sh.clone().trian
+00014150: 6775 6c61 7465 2829 2e66 6163 6573 2829  gulate().faces()
+00014160: 2c20 6474 7970 653d 6e70 2e66 6c6f 6174  , dtype=np.float
+00014170: 3634 290a 0a20 2020 2076 5f6e 6f72 6d61  64)..    v_norma
+00014180: 6c73 5f6d 6174 7269 7820 3d20 766d 6573  ls_matrix = vmes
+00014190: 682e 6e6f 726d 616c 7328 6365 6c6c 733d  h.normals(cells=
+000141a0: 4661 6c73 652c 2072 6563 6f6d 7075 7465  False, recompute
+000141b0: 3d46 616c 7365 290a 2020 2020 6966 206e  =False).    if n
+000141c0: 6f74 2076 5f6e 6f72 6d61 6c73 5f6d 6174  ot v_normals_mat
+000141d0: 7269 782e 7368 6170 655b 305d 3a0a 2020  rix.shape[0]:.  
+000141e0: 2020 2020 2020 765f 6e6f 726d 616c 735f        v_normals_
+000141f0: 6d61 7472 6978 203d 206e 702e 656d 7074  matrix = np.empt
+00014200: 7928 2830 2c20 3329 2c20 6474 7970 653d  y((0, 3), dtype=
+00014210: 6e70 2e66 6c6f 6174 3634 290a 0a20 2020  np.float64)..   
+00014220: 2066 5f6e 6f72 6d61 6c73 5f6d 6174 7269   f_normals_matri
+00014230: 7820 3d20 766d 6573 682e 6e6f 726d 616c  x = vmesh.normal
+00014240: 7328 6365 6c6c 733d 5472 7565 2c20 7265  s(cells=True, re
+00014250: 636f 6d70 7574 653d 4661 6c73 6529 0a20  compute=False). 
+00014260: 2020 2069 6620 6e6f 7420 665f 6e6f 726d     if not f_norm
+00014270: 616c 735f 6d61 7472 6978 2e73 6861 7065  als_matrix.shape
+00014280: 5b30 5d3a 0a20 2020 2020 2020 2066 5f6e  [0]:.        f_n
+00014290: 6f72 6d61 6c73 5f6d 6174 7269 7820 3d20  ormals_matrix = 
+000142a0: 6e70 2e65 6d70 7479 2828 302c 2033 292c  np.empty((0, 3),
+000142b0: 2064 7479 7065 3d6e 702e 666c 6f61 7436   dtype=np.float6
+000142c0: 3429 0a0a 2020 2020 765f 636f 6c6f 725f  4)..    v_color_
+000142d0: 6d61 7472 6978 203d 2076 6d65 7368 2e70  matrix = vmesh.p
+000142e0: 6f69 6e74 6461 7461 5b22 5247 4241 225d  ointdata["RGBA"]
+000142f0: 0a20 2020 2069 6620 765f 636f 6c6f 725f  .    if v_color_
+00014300: 6d61 7472 6978 2069 7320 4e6f 6e65 3a0a  matrix is None:.
+00014310: 2020 2020 2020 2020 765f 636f 6c6f 725f          v_color_
+00014320: 6d61 7472 6978 203d 206e 702e 656d 7074  matrix = np.empt
+00014330: 7928 2830 2c20 3429 2c20 6474 7970 653d  y((0, 4), dtype=
+00014340: 6e70 2e66 6c6f 6174 3634 290a 2020 2020  np.float64).    
+00014350: 656c 7365 3a0a 2020 2020 2020 2020 765f  else:.        v_
+00014360: 636f 6c6f 725f 6d61 7472 6978 203d 2076  color_matrix = v
+00014370: 5f63 6f6c 6f72 5f6d 6174 7269 782e 6173  _color_matrix.as
+00014380: 7479 7065 286e 702e 666c 6f61 7436 3429  type(np.float64)
+00014390: 202f 2032 3535 0a20 2020 2020 2020 2069   / 255.        i
+000143a0: 6620 765f 636f 6c6f 725f 6d61 7472 6978  f v_color_matrix
+000143b0: 2e73 6861 7065 5b31 5d20 3d3d 2033 3a0a  .shape[1] == 3:.
+000143c0: 2020 2020 2020 2020 2020 2020 765f 636f              v_co
+000143d0: 6c6f 725f 6d61 7472 6978 203d 206e 702e  lor_matrix = np.
+000143e0: 635f 5b0a 2020 2020 2020 2020 2020 2020  c_[.            
+000143f0: 2020 2020 765f 636f 6c6f 725f 6d61 7472      v_color_matr
+00014400: 6978 2c20 6e70 2e6f 6e65 7328 765f 636f  ix, np.ones(v_co
+00014410: 6c6f 725f 6d61 7472 6978 2e73 6861 7065  lor_matrix.shape
+00014420: 5b30 5d2c 2064 7479 7065 3d6e 702e 666c  [0], dtype=np.fl
+00014430: 6f61 7436 3429 0a20 2020 2020 2020 2020  oat64).         
+00014440: 2020 205d 0a0a 2020 2020 665f 636f 6c6f     ]..    f_colo
+00014450: 725f 6d61 7472 6978 203d 2076 6d65 7368  r_matrix = vmesh
+00014460: 2e63 656c 6c64 6174 615b 2252 4742 4122  .celldata["RGBA"
+00014470: 5d0a 2020 2020 6966 2066 5f63 6f6c 6f72  ].    if f_color
+00014480: 5f6d 6174 7269 7820 6973 204e 6f6e 653a  _matrix is None:
+00014490: 0a20 2020 2020 2020 2066 5f63 6f6c 6f72  .        f_color
+000144a0: 5f6d 6174 7269 7820 3d20 6e70 2e65 6d70  _matrix = np.emp
+000144b0: 7479 2828 302c 2034 292c 2064 7479 7065  ty((0, 4), dtype
+000144c0: 3d6e 702e 666c 6f61 7436 3429 0a20 2020  =np.float64).   
+000144d0: 2065 6c73 653a 0a20 2020 2020 2020 2066   else:.        f
+000144e0: 5f63 6f6c 6f72 5f6d 6174 7269 7820 3d20  _color_matrix = 
+000144f0: 665f 636f 6c6f 725f 6d61 7472 6978 2e61  f_color_matrix.a
+00014500: 7374 7970 6528 6e70 2e66 6c6f 6174 3634  stype(np.float64
+00014510: 2920 2f20 3235 350a 2020 2020 2020 2020  ) / 255.        
+00014520: 6966 2066 5f63 6f6c 6f72 5f6d 6174 7269  if f_color_matri
+00014530: 782e 7368 6170 655b 315d 203d 3d20 333a  x.shape[1] == 3:
+00014540: 0a20 2020 2020 2020 2020 2020 2066 5f63  .            f_c
+00014550: 6f6c 6f72 5f6d 6174 7269 7820 3d20 6e70  olor_matrix = np
+00014560: 2e63 5f5b 0a20 2020 2020 2020 2020 2020  .c_[.           
+00014570: 2020 2020 2066 5f63 6f6c 6f72 5f6d 6174       f_color_mat
+00014580: 7269 782c 206e 702e 6f6e 6573 2866 5f63  rix, np.ones(f_c
+00014590: 6f6c 6f72 5f6d 6174 7269 782e 7368 6170  olor_matrix.shap
+000145a0: 655b 305d 2c20 6474 7970 653d 6e70 2e66  e[0], dtype=np.f
+000145b0: 6c6f 6174 3634 290a 2020 2020 2020 2020  loat64).        
+000145c0: 2020 2020 5d0a 0a20 2020 206d 203d 206d      ]..    m = m
+000145d0: 6c61 622e 4d65 7368 280a 2020 2020 2020  lab.Mesh(.      
+000145e0: 2020 7665 7274 6578 5f6d 6174 7269 783d    vertex_matrix=
+000145f0: 7665 7274 6578 5f6d 6174 7269 782c 0a20  vertex_matrix,. 
+00014600: 2020 2020 2020 2066 6163 655f 6d61 7472         face_matr
+00014610: 6978 3d66 6163 655f 6d61 7472 6978 2c0a  ix=face_matrix,.
+00014620: 2020 2020 2020 2020 765f 6e6f 726d 616c          v_normal
+00014630: 735f 6d61 7472 6978 3d76 5f6e 6f72 6d61  s_matrix=v_norma
+00014640: 6c73 5f6d 6174 7269 782c 0a20 2020 2020  ls_matrix,.     
+00014650: 2020 2066 5f6e 6f72 6d61 6c73 5f6d 6174     f_normals_mat
+00014660: 7269 783d 665f 6e6f 726d 616c 735f 6d61  rix=f_normals_ma
+00014670: 7472 6978 2c0a 2020 2020 2020 2020 765f  trix,.        v_
+00014680: 636f 6c6f 725f 6d61 7472 6978 3d76 5f63  color_matrix=v_c
+00014690: 6f6c 6f72 5f6d 6174 7269 782c 0a20 2020  olor_matrix,.   
+000146a0: 2020 2020 2066 5f63 6f6c 6f72 5f6d 6174       f_color_mat
+000146b0: 7269 783d 665f 636f 6c6f 725f 6d61 7472  rix=f_color_matr
+000146c0: 6978 2c0a 2020 2020 290a 0a20 2020 2066  ix,.    )..    f
+000146d0: 6f72 206b 2069 6e20 766d 6573 682e 706f  or k in vmesh.po
+000146e0: 696e 7464 6174 612e 6b65 7973 2829 3a0a  intdata.keys():.
+000146f0: 2020 2020 2020 2020 6461 7461 203d 2076          data = v
+00014700: 6d65 7368 2e70 6f69 6e74 6461 7461 5b6b  mesh.pointdata[k
+00014710: 5d0a 2020 2020 2020 2020 6966 2064 6174  ].        if dat
+00014720: 6120 6973 206e 6f74 204e 6f6e 653a 0a20  a is not None:. 
+00014730: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+00014740: 7461 2e6e 6469 6d20 3d3d 2031 3a20 2023  ta.ndim == 1:  #
+00014750: 2073 6361 6c61 720a 2020 2020 2020 2020   scalar.        
+00014760: 2020 2020 2020 2020 6d2e 6164 645f 7665          m.add_ve
+00014770: 7274 6578 5f63 7573 746f 6d5f 7363 616c  rtex_custom_scal
+00014780: 6172 5f61 7474 7269 6275 7465 2864 6174  ar_attribute(dat
+00014790: 612e 6173 7479 7065 286e 702e 666c 6f61  a.astype(np.floa
+000147a0: 7436 3429 2c20 6b29 0a20 2020 2020 2020  t64), k).       
+000147b0: 2020 2020 2065 6c69 6620 6461 7461 2e6e       elif data.n
+000147c0: 6469 6d20 3d3d 2032 3a20 2023 2076 6563  dim == 2:  # vec
+000147d0: 746f 7269 616c 2064 6174 610a 2020 2020  torial data.    
+000147e0: 2020 2020 2020 2020 2020 2020 6d2e 6164              m.ad
+000147f0: 645f 7665 7274 6578 5f63 7573 746f 6d5f  d_vertex_custom_
+00014800: 706f 696e 745f 6174 7472 6962 7574 6528  point_attribute(
+00014810: 6461 7461 2e61 7374 7970 6528 6e70 2e66  data.astype(np.f
+00014820: 6c6f 6174 3634 292c 206b 290a 0a20 2020  loat64), k)..   
+00014830: 2066 6f72 206b 2069 6e20 766d 6573 682e   for k in vmesh.
+00014840: 6365 6c6c 6461 7461 2e6b 6579 7328 293a  celldata.keys():
+00014850: 0a20 2020 2020 2020 2064 6174 6120 3d20  .        data = 
+00014860: 766d 6573 682e 6365 6c6c 6461 7461 5b6b  vmesh.celldata[k
+00014870: 5d0a 2020 2020 2020 2020 6966 2064 6174  ].        if dat
+00014880: 6120 6973 206e 6f74 204e 6f6e 653a 0a20  a is not None:. 
+00014890: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+000148a0: 7461 2e6e 6469 6d20 3d3d 2031 3a20 2023  ta.ndim == 1:  #
+000148b0: 2073 6361 6c61 720a 2020 2020 2020 2020   scalar.        
+000148c0: 2020 2020 2020 2020 6d2e 6164 645f 6661          m.add_fa
+000148d0: 6365 5f63 7573 746f 6d5f 7363 616c 6172  ce_custom_scalar
+000148e0: 5f61 7474 7269 6275 7465 2864 6174 612e  _attribute(data.
+000148f0: 6173 7479 7065 286e 702e 666c 6f61 7436  astype(np.float6
+00014900: 3429 2c20 6b29 0a20 2020 2020 2020 2020  4), k).         
+00014910: 2020 2065 6c69 6620 6461 7461 2e6e 6469     elif data.ndi
+00014920: 6d20 3d3d 2032 3a20 2023 2076 6563 746f  m == 2:  # vecto
+00014930: 7269 616c 2064 6174 610a 2020 2020 2020  rial data.      
+00014940: 2020 2020 2020 2020 2020 6d2e 6164 645f            m.add_
+00014950: 6661 6365 5f63 7573 746f 6d5f 706f 696e  face_custom_poin
+00014960: 745f 6174 7472 6962 7574 6528 6461 7461  t_attribute(data
+00014970: 2e61 7374 7970 6528 6e70 2e66 6c6f 6174  .astype(np.float
+00014980: 3634 292c 206b 290a 0a20 2020 206d 2e75  64), k)..    m.u
+00014990: 7064 6174 655f 626f 756e 6469 6e67 5f62  pdate_bounding_b
+000149a0: 6f78 2829 0a20 2020 2072 6574 7572 6e20  ox().    return 
+000149b0: 6d0a 0a0a 6465 6620 6d65 7368 6c61 6232  m...def meshlab2
+000149c0: 7665 646f 286d 6d65 7368 293a 0a20 2020  vedo(mmesh):.   
+000149d0: 2022 2222 436f 6e76 6572 7420 6120 4d65   """Convert a Me
+000149e0: 7368 6c61 6220 6f62 6a65 6374 2074 6f20  shlab object to 
+000149f0: 6076 6564 6f2e 4d65 7368 602e 2222 220a  `vedo.Mesh`.""".
+00014a00: 2020 2020 696e 7075 7474 7970 6520 3d20      inputtype = 
+00014a10: 7374 7228 7479 7065 286d 6d65 7368 2929  str(type(mmesh))
+00014a20: 0a0a 2020 2020 6966 2022 4d65 7368 5365  ..    if "MeshSe
+00014a30: 7422 2069 6e20 696e 7075 7474 7970 653a  t" in inputtype:
+00014a40: 0a20 2020 2020 2020 206d 6d65 7368 203d  .        mmesh =
+00014a50: 206d 6d65 7368 2e63 7572 7265 6e74 5f6d   mmesh.current_m
+00014a60: 6573 6828 290a 0a20 2020 206d 706f 696e  esh()..    mpoin
+00014a70: 7473 2c20 6d63 656c 6c73 203d 206d 6d65  ts, mcells = mme
+00014a80: 7368 2e76 6572 7465 785f 6d61 7472 6978  sh.vertex_matrix
+00014a90: 2829 2c20 6d6d 6573 682e 6661 6365 5f6d  (), mmesh.face_m
+00014aa0: 6174 7269 7828 290a 2020 2020 6966 206c  atrix().    if l
+00014ab0: 656e 286d 6365 6c6c 7329 203e 2030 3a0a  en(mcells) > 0:.
+00014ac0: 2020 2020 2020 2020 706f 6c79 6461 7461          polydata
+00014ad0: 203d 2062 7569 6c64 506f 6c79 4461 7461   = buildPolyData
+00014ae0: 286d 706f 696e 7473 2c20 6d63 656c 6c73  (mpoints, mcells
+00014af0: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
+00014b00: 2020 2020 706f 6c79 6461 7461 203d 2062      polydata = b
+00014b10: 7569 6c64 506f 6c79 4461 7461 286d 706f  uildPolyData(mpo
+00014b20: 696e 7473 2c20 4e6f 6e65 290a 0a20 2020  ints, None)..   
+00014b30: 2069 6620 6d6d 6573 682e 6861 735f 7665   if mmesh.has_ve
+00014b40: 7274 6578 5f73 6361 6c61 7228 293a 0a20  rtex_scalar():. 
+00014b50: 2020 2020 2020 2070 6172 7220 3d20 6d6d         parr = mm
+00014b60: 6573 682e 7665 7274 6578 5f73 6361 6c61  esh.vertex_scala
+00014b70: 725f 6172 7261 7928 290a 2020 2020 2020  r_array().      
+00014b80: 2020 7061 7272 5f76 746b 203d 206e 756d    parr_vtk = num
+00014b90: 7079 5f74 6f5f 7674 6b28 7061 7272 290a  py_to_vtk(parr).
+00014ba0: 2020 2020 2020 2020 7061 7272 5f76 746b          parr_vtk
+00014bb0: 2e53 6574 4e61 6d65 2822 4d65 7368 4c61  .SetName("MeshLa
+00014bc0: 6253 6361 6c61 7273 2229 0a20 2020 2020  bScalars").     
+00014bd0: 2020 2078 302c 2078 3120 3d20 7061 7272     x0, x1 = parr
+00014be0: 5f76 746b 2e47 6574 5261 6e67 6528 290a  _vtk.GetRange().
+00014bf0: 2020 2020 2020 2020 6966 2078 3120 2d20          if x1 - 
+00014c00: 7830 3a0a 2020 2020 2020 2020 2020 2020  x0:.            
+00014c10: 706f 6c79 6461 7461 2e47 6574 506f 696e  polydata.GetPoin
+00014c20: 7444 6174 6128 292e 4164 6441 7272 6179  tData().AddArray
+00014c30: 2870 6172 725f 7674 6b29 0a20 2020 2020  (parr_vtk).     
+00014c40: 2020 2020 2020 2070 6f6c 7964 6174 612e         polydata.
+00014c50: 4765 7450 6f69 6e74 4461 7461 2829 2e53  GetPointData().S
+00014c60: 6574 4163 7469 7665 5363 616c 6172 7328  etActiveScalars(
+00014c70: 224d 6573 684c 6162 5363 616c 6172 7322  "MeshLabScalars"
+00014c80: 290a 0a20 2020 2069 6620 6d6d 6573 682e  )..    if mmesh.
+00014c90: 6861 735f 6661 6365 5f73 6361 6c61 7228  has_face_scalar(
+00014ca0: 293a 0a20 2020 2020 2020 2063 6172 7220  ):.        carr 
+00014cb0: 3d20 6d6d 6573 682e 6661 6365 5f73 6361  = mmesh.face_sca
+00014cc0: 6c61 725f 6172 7261 7928 290a 2020 2020  lar_array().    
+00014cd0: 2020 2020 6361 7272 5f76 746b 203d 206e      carr_vtk = n
+00014ce0: 756d 7079 5f74 6f5f 7674 6b28 6361 7272  umpy_to_vtk(carr
+00014cf0: 290a 2020 2020 2020 2020 6361 7272 5f76  ).        carr_v
+00014d00: 746b 2e53 6574 4e61 6d65 2822 4d65 7368  tk.SetName("Mesh
+00014d10: 4c61 6253 6361 6c61 7273 2229 0a20 2020  LabScalars").   
+00014d20: 2020 2020 2078 302c 2078 3120 3d20 6361       x0, x1 = ca
+00014d30: 7272 5f76 746b 2e47 6574 5261 6e67 6528  rr_vtk.GetRange(
+00014d40: 290a 2020 2020 2020 2020 6966 2078 3120  ).        if x1 
+00014d50: 2d20 7830 3a0a 2020 2020 2020 2020 2020  - x0:.          
+00014d60: 2020 706f 6c79 6461 7461 2e47 6574 4365    polydata.GetCe
+00014d70: 6c6c 4461 7461 2829 2e41 6464 4172 7261  llData().AddArra
+00014d80: 7928 6361 7272 5f76 746b 290a 2020 2020  y(carr_vtk).    
+00014d90: 2020 2020 2020 2020 706f 6c79 6461 7461          polydata
+00014da0: 2e47 6574 4365 6c6c 4461 7461 2829 2e53  .GetCellData().S
+00014db0: 6574 4163 7469 7665 5363 616c 6172 7328  etActiveScalars(
+00014dc0: 224d 6573 684c 6162 5363 616c 6172 7322  "MeshLabScalars"
+00014dd0: 290a 0a20 2020 2070 6e6f 726d 7320 3d20  )..    pnorms = 
+00014de0: 6d6d 6573 682e 7665 7274 6578 5f6e 6f72  mmesh.vertex_nor
+00014df0: 6d61 6c5f 6d61 7472 6978 2829 0a20 2020  mal_matrix().   
+00014e00: 2069 6620 6c65 6e28 706e 6f72 6d73 2920   if len(pnorms) 
+00014e10: 3e20 303a 0a20 2020 2020 2020 2070 6f6c  > 0:.        pol
+00014e20: 7964 6174 612e 4765 7450 6f69 6e74 4461  ydata.GetPointDa
+00014e30: 7461 2829 2e53 6574 4e6f 726d 616c 7328  ta().SetNormals(
+00014e40: 6e75 6d70 7932 7674 6b28 706e 6f72 6d73  numpy2vtk(pnorms
+00014e50: 2929 0a0a 2020 2020 636e 6f72 6d73 203d  ))..    cnorms =
+00014e60: 206d 6d65 7368 2e66 6163 655f 6e6f 726d   mmesh.face_norm
+00014e70: 616c 5f6d 6174 7269 7828 290a 2020 2020  al_matrix().    
+00014e80: 6966 206c 656e 2863 6e6f 726d 7329 203e  if len(cnorms) >
+00014e90: 2030 3a0a 2020 2020 2020 2020 706f 6c79   0:.        poly
+00014ea0: 6461 7461 2e47 6574 4365 6c6c 4461 7461  data.GetCellData
+00014eb0: 2829 2e53 6574 4e6f 726d 616c 7328 6e75  ().SetNormals(nu
+00014ec0: 6d70 7932 7674 6b28 636e 6f72 6d73 2929  mpy2vtk(cnorms))
+00014ed0: 0a20 2020 2072 6574 7572 6e20 706f 6c79  .    return poly
+00014ee0: 6461 7461 0a0a 0a64 6566 206f 7065 6e33  data...def open3
+00014ef0: 6432 7665 646f 286f 3364 5f6d 6573 6829  d2vedo(o3d_mesh)
+00014f00: 3a0a 2020 2020 2222 2243 6f6e 7665 7274  :.    """Convert
+00014f10: 2060 6f70 656e 3364 2e67 656f 6d65 7472   `open3d.geometr
+00014f20: 792e 5472 6961 6e67 6c65 4d65 7368 6020  y.TriangleMesh` 
+00014f30: 746f 2061 2060 7665 646f 2e4d 6573 6860  to a `vedo.Mesh`
+00014f40: 2e22 2222 0a20 2020 206d 203d 2076 6564  .""".    m = ved
+00014f50: 6f2e 4d65 7368 285b 6e70 2e61 7272 6179  o.Mesh([np.array
+00014f60: 286f 3364 5f6d 6573 682e 7665 7274 6963  (o3d_mesh.vertic
+00014f70: 6573 292c 206e 702e 6172 7261 7928 6f33  es), np.array(o3
+00014f80: 645f 6d65 7368 2e74 7269 616e 676c 6573  d_mesh.triangles
+00014f90: 295d 290a 2020 2020 2320 544f 444f 3a20  )]).    # TODO: 
+00014fa0: 636f 756c 6420 616c 736f 2063 6865 636b  could also check
+00014fb0: 2077 6865 7468 6572 206e 6f72 6d61 6c73   whether normals
+00014fc0: 2061 6e64 2063 6f6c 6f72 2061 7265 2070   and color are p
+00014fd0: 7265 7365 6e74 2069 6e0a 2020 2020 2320  resent in.    # 
+00014fe0: 6f72 6465 7220 746f 2070 6f72 7420 7769  order to port wi
+00014ff0: 7468 2074 6865 2061 626f 7665 2076 6572  th the above ver
+00015000: 7469 6365 732f 6661 6365 730a 2020 2020  tices/faces.    
+00015010: 7265 7475 726e 206d 0a0a 0a64 6566 2076  return m...def v
+00015020: 6564 6f32 6f70 656e 3364 2876 6564 6f5f  edo2open3d(vedo_
+00015030: 6d65 7368 293a 0a20 2020 2022 2222 0a20  mesh):.    """. 
+00015040: 2020 2052 6574 7572 6e20 616e 2060 6f70     Return an `op
+00015050: 656e 3364 2e67 656f 6d65 7472 792e 5472  en3d.geometry.Tr
+00015060: 6961 6e67 6c65 4d65 7368 6020 7665 7273  iangleMesh` vers
+00015070: 696f 6e20 6f66 2074 6865 2063 7572 7265  ion of the curre
+00015080: 6e74 206d 6573 682e 0a20 2020 2022 2222  nt mesh..    """
+00015090: 0a20 2020 2074 7279 3a0a 2020 2020 2020  .    try:.      
+000150a0: 2020 696d 706f 7274 206f 7065 6e33 6420    import open3d 
+000150b0: 6173 206f 3364 0a20 2020 2065 7863 6570  as o3d.    excep
+000150c0: 7420 5275 6e74 696d 6545 7272 6f72 3a0a  t RuntimeError:.
+000150d0: 2020 2020 2020 2020 7665 646f 2e6c 6f67          vedo.log
+000150e0: 6765 722e 6572 726f 7228 224e 6565 6420  ger.error("Need 
+000150f0: 6f70 656e 3364 2074 6f20 7275 6e3a 5c6e  open3d to run:\n
+00015100: 7069 7020 696e 7374 616c 6c20 6f70 656e  pip install open
+00015110: 3364 2229 0a0a 2020 2020 2320 6372 6561  3d")..    # crea
+00015120: 7465 2066 726f 6d20 6e75 6d70 7920 6172  te from numpy ar
+00015130: 7261 7973 0a20 2020 206f 3364 5f6d 6573  rays.    o3d_mes
+00015140: 6820 3d20 6f33 642e 6765 6f6d 6574 7279  h = o3d.geometry
+00015150: 2e54 7269 616e 676c 654d 6573 6828 0a20  .TriangleMesh(. 
+00015160: 2020 2020 2020 2076 6572 7469 6365 733d         vertices=
+00015170: 6f33 642e 7574 696c 6974 792e 5665 6374  o3d.utility.Vect
+00015180: 6f72 3364 5665 6374 6f72 2876 6564 6f5f  or3dVector(vedo_
+00015190: 6d65 7368 2e70 6f69 6e74 7328 2929 2c0a  mesh.points()),.
+000151a0: 2020 2020 2020 2020 7472 6961 6e67 6c65          triangle
+000151b0: 733d 6f33 642e 7574 696c 6974 792e 5665  s=o3d.utility.Ve
+000151c0: 6374 6f72 3369 5665 6374 6f72 2876 6564  ctor3iVector(ved
+000151d0: 6f5f 6d65 7368 2e66 6163 6573 2829 292c  o_mesh.faces()),
+000151e0: 0a20 2020 2029 0a20 2020 2023 2054 4f44  .    ).    # TOD
+000151f0: 4f3a 206e 6565 6420 746f 2061 6464 2073  O: need to add s
+00015200: 6f6d 6520 6966 2063 6865 636b 2068 6572  ome if check her
+00015210: 6520 696e 2063 6173 6520 636f 6c6f 7220  e in case color 
+00015220: 616e 6420 6e6f 726d 616c 730a 2020 2020  and normals.    
+00015230: 2320 2069 6e66 6f20 6172 6520 6e6f 7420  #  info are not 
+00015240: 6578 6973 7469 6e67 0a20 2020 2023 206f  existing.    # o
+00015250: 3364 5f6d 6573 682e 7665 7274 6578 5f63  3d_mesh.vertex_c
+00015260: 6f6c 6f72 7320 3d20 6f33 642e 7574 696c  olors = o3d.util
+00015270: 6974 792e 5665 6374 6f72 3364 5665 6374  ity.Vector3dVect
+00015280: 6f72 2876 6564 6f5f 6d65 7368 2e70 6f69  or(vedo_mesh.poi
+00015290: 6e74 6461 7461 5b22 5247 4222 5d2f 3235  ntdata["RGB"]/25
+000152a0: 3529 0a20 2020 2023 206f 3364 5f6d 6573  5).    # o3d_mes
+000152b0: 682e 7665 7274 6578 5f6e 6f72 6d61 6c73  h.vertex_normals
+000152c0: 3d20 6f33 642e 7574 696c 6974 792e 5665  = o3d.utility.Ve
+000152d0: 6374 6f72 3364 5665 6374 6f72 2876 6564  ctor3dVector(ved
+000152e0: 6f5f 6d65 7368 2e70 6f69 6e74 6461 7461  o_mesh.pointdata
+000152f0: 5b22 4e6f 726d 616c 7322 5d29 0a20 2020  ["Normals"]).   
+00015300: 2072 6574 7572 6e20 6f33 645f 6d65 7368   return o3d_mesh
+00015310: 0a0a 0a64 6566 2076 746b 5f76 6572 7369  ...def vtk_versi
+00015320: 6f6e 5f61 745f 6c65 6173 7428 6d61 6a6f  on_at_least(majo
+00015330: 722c 206d 696e 6f72 3d30 2c20 6275 696c  r, minor=0, buil
+00015340: 643d 3029 3a0a 2020 2020 2222 220a 2020  d=0):.    """.  
+00015350: 2020 4368 6563 6b20 7468 6520 696e 7374    Check the inst
+00015360: 616c 6c65 6420 5654 4b20 7665 7273 696f  alled VTK versio
+00015370: 6e2e 0a0a 2020 2020 5265 7475 726e 2060  n...    Return `
+00015380: 5472 7565 6020 6966 2074 6865 2072 6571  True` if the req
+00015390: 7565 7374 6564 2056 544b 2076 6572 7369  uested VTK versi
+000153a0: 6f6e 2069 7320 6772 6561 7465 7220 6f72  on is greater or
+000153b0: 2065 7175 616c 2074 6f20 7468 6520 6163   equal to the ac
+000153c0: 7475 616c 2056 544b 2076 6572 7369 6f6e  tual VTK version
+000153d0: 2e0a 0a20 2020 2041 7267 756d 656e 7473  ...    Arguments
+000153e0: 3a0a 2020 2020 2020 2020 6d61 6a6f 7220  :.        major 
+000153f0: 3a20 2869 6e74 290a 2020 2020 2020 2020  : (int).        
+00015400: 2020 2020 4d61 6a6f 7220 7665 7273 696f      Major versio
+00015410: 6e2e 0a20 2020 2020 2020 206d 696e 6f72  n..        minor
+00015420: 203a 2028 696e 7429 0a20 2020 2020 2020   : (int).       
+00015430: 2020 2020 204d 696e 6f72 2076 6572 7369       Minor versi
+00015440: 6f6e 2e0a 2020 2020 2020 2020 6275 696c  on..        buil
+00015450: 6420 3a20 2869 6e74 290a 2020 2020 2020  d : (int).      
+00015460: 2020 2020 2020 4275 696c 6420 7665 7273        Build vers
+00015470: 696f 6e2e 0a20 2020 2022 2222 0a20 2020  ion..    """.   
+00015480: 206e 6565 6465 645f 7665 7273 696f 6e20   needed_version 
+00015490: 3d20 3130 3030 3030 3030 3030 3020 2a20  = 10000000000 * 
+000154a0: 696e 7428 6d61 6a6f 7229 202b 2031 3030  int(major) + 100
+000154b0: 3030 3030 3030 202a 2069 6e74 286d 696e  000000 * int(min
+000154c0: 6f72 2920 2b20 696e 7428 6275 696c 6429  or) + int(build)
+000154d0: 0a20 2020 2074 7279 3a0a 2020 2020 2020  .    try:.      
+000154e0: 2020 7674 6b5f 7665 7273 696f 6e5f 6e75    vtk_version_nu
+000154f0: 6d62 6572 203d 2076 746b 2e56 544b 5f56  mber = vtk.VTK_V
+00015500: 4552 5349 4f4e 5f4e 554d 4245 520a 2020  ERSION_NUMBER.  
+00015510: 2020 6578 6365 7074 2041 7474 7269 6275    except Attribu
+00015520: 7465 4572 726f 723a 2020 2320 6173 2065  teError:  # as e
+00015530: 7272 6f72 3a0a 2020 2020 2020 2020 7665  rror:.        ve
+00015540: 7220 3d20 7674 6b2e 7674 6b56 6572 7369  r = vtk.vtkVersi
+00015550: 6f6e 2829 0a20 2020 2020 2020 2076 746b  on().        vtk
+00015560: 5f76 6572 7369 6f6e 5f6e 756d 6265 7220  _version_number 
+00015570: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
+00015580: 3130 3030 3030 3030 3030 3020 2a20 7665  10000000000 * ve
+00015590: 722e 4765 7456 544b 4d61 6a6f 7256 6572  r.GetVTKMajorVer
+000155a0: 7369 6f6e 2829 0a20 2020 2020 2020 2020  sion().         
+000155b0: 2020 202b 2031 3030 3030 3030 3030 202a     + 100000000 *
+000155c0: 2076 6572 2e47 6574 5654 4b4d 696e 6f72   ver.GetVTKMinor
+000155d0: 5665 7273 696f 6e28 290a 2020 2020 2020  Version().      
+000155e0: 2020 2020 2020 2b20 7665 722e 4765 7456        + ver.GetV
+000155f0: 544b 4275 696c 6456 6572 7369 6f6e 2829  TKBuildVersion()
+00015600: 0a20 2020 2020 2020 2029 0a20 2020 2072  .        ).    r
+00015610: 6574 7572 6e20 7674 6b5f 7665 7273 696f  eturn vtk_versio
+00015620: 6e5f 6e75 6d62 6572 203e 3d20 6e65 6564  n_number >= need
+00015630: 6564 5f76 6572 7369 6f6e 0a0a 0a64 6566  ed_version...def
+00015640: 2063 7466 326c 7574 2874 766f 626a 2c20   ctf2lut(tvobj, 
+00015650: 6c6f 6773 6361 6c65 3d46 616c 7365 293a  logscale=False):
+00015660: 0a20 2020 2022 2222 496e 7465 726e 616c  .    """Internal
+00015670: 2075 7365 2e22 2222 0a20 2020 2023 2062   use.""".    # b
+00015680: 7569 6c64 204c 5554 2066 726f 6d20 6120  uild LUT from a 
+00015690: 636f 6c6f 7220 7472 616e 7366 6572 2066  color transfer f
+000156a0: 756e 6374 696f 6e20 666f 7220 746d 6573  unction for tmes
+000156b0: 6820 6f72 2076 6f6c 756d 650a 2020 2020  h or volume.    
+000156c0: 7072 203d 2074 766f 626a 2e47 6574 5072  pr = tvobj.GetPr
+000156d0: 6f70 6572 7479 2829 0a20 2020 2069 6620  operty().    if 
+000156e0: 6e6f 7420 6973 696e 7374 616e 6365 2870  not isinstance(p
+000156f0: 722c 2076 746b 2e76 746b 566f 6c75 6d65  r, vtk.vtkVolume
+00015700: 5072 6f70 6572 7479 293a 0a20 2020 2020  Property):.     
+00015710: 2020 2072 6574 7572 6e20 4e6f 6e65 0a20     return None. 
+00015720: 2020 2063 7466 203d 2070 722e 4765 7452     ctf = pr.GetR
+00015730: 4742 5472 616e 7366 6572 4675 6e63 7469  GBTransferFuncti
+00015740: 6f6e 2829 0a20 2020 206f 7466 203d 2070  on().    otf = p
+00015750: 722e 4765 7453 6361 6c61 724f 7061 6369  r.GetScalarOpaci
+00015760: 7479 2829 0a20 2020 2078 302c 2078 3120  ty().    x0, x1 
+00015770: 3d20 7476 6f62 6a2e 696e 7075 7464 6174  = tvobj.inputdat
+00015780: 6128 292e 4765 7453 6361 6c61 7252 616e  a().GetScalarRan
+00015790: 6765 2829 0a20 2020 2063 6f6c 732c 2061  ge().    cols, a
+000157a0: 6c70 6861 7320 3d20 5b5d 2c20 5b5d 0a20  lphas = [], []. 
+000157b0: 2020 2066 6f72 2078 2069 6e20 6e70 2e6c     for x in np.l
+000157c0: 696e 7370 6163 6528 7830 2c20 7831 2c20  inspace(x0, x1, 
+000157d0: 3235 3629 3a0a 2020 2020 2020 2020 636f  256):.        co
+000157e0: 6c73 2e61 7070 656e 6428 6374 662e 4765  ls.append(ctf.Ge
+000157f0: 7443 6f6c 6f72 2878 2929 0a20 2020 2020  tColor(x)).     
+00015800: 2020 2061 6c70 6861 732e 6170 7065 6e64     alphas.append
+00015810: 286f 7466 2e47 6574 5661 6c75 6528 7829  (otf.GetValue(x)
+00015820: 290a 0a20 2020 2069 6620 6c6f 6773 6361  )..    if logsca
+00015830: 6c65 3a0a 2020 2020 2020 2020 6c75 7420  le:.        lut 
+00015840: 3d20 7674 6b2e 7674 6b4c 6f67 4c6f 6f6b  = vtk.vtkLogLook
+00015850: 7570 5461 626c 6528 290a 2020 2020 656c  upTable().    el
+00015860: 7365 3a0a 2020 2020 2020 2020 6c75 7420  se:.        lut 
+00015870: 3d20 7674 6b2e 7674 6b4c 6f6f 6b75 7054  = vtk.vtkLookupT
+00015880: 6162 6c65 2829 0a0a 2020 2020 6c75 742e  able()..    lut.
+00015890: 5365 7452 616e 6765 2878 302c 2078 3129  SetRange(x0, x1)
+000158a0: 0a20 2020 206c 7574 2e53 6574 4e75 6d62  .    lut.SetNumb
+000158b0: 6572 4f66 5461 626c 6556 616c 7565 7328  erOfTableValues(
+000158c0: 6c65 6e28 636f 6c73 2929 0a20 2020 2066  len(cols)).    f
+000158d0: 6f72 2069 2c20 636f 6c20 696e 2065 6e75  or i, col in enu
+000158e0: 6d65 7261 7465 2863 6f6c 7329 3a0a 2020  merate(cols):.  
+000158f0: 2020 2020 2020 722c 2067 2c20 6220 3d20        r, g, b = 
+00015900: 636f 6c0a 2020 2020 2020 2020 6c75 742e  col.        lut.
+00015910: 5365 7454 6162 6c65 5661 6c75 6528 692c  SetTableValue(i,
+00015920: 2072 2c20 672c 2062 2c20 616c 7068 6173   r, g, b, alphas
+00015930: 5b69 5d29 0a20 2020 206c 7574 2e42 7569  [i]).    lut.Bui
+00015940: 6c64 2829 0a20 2020 2072 6574 7572 6e20  ld().    return 
+00015950: 6c75 740a                                lut.
```

### Comparing `vedo-2023.4.4/vedo/volume.py` & `vedo-2023.4.5/vedo/volume.py`

 * *Files 2% similar despite different names*

```diff
@@ -20,37 +20,35 @@
 
 __doc__ = """
 Work with volumetric datasets (voxel data).
 
 ![](https://vedo.embl.es/images/volumetric/slicePlane2.png)
 """
 
-__all__ = [
-    "BaseVolume",  # included to generate documentation in pydoc
-    "Volume",
-    "VolumeSlice",
-]
+__all__ = ["BaseVolume", "Volume", "VolumeSlice"]
 
 
 ##########################################################################
 class BaseVolume:
     """
     Base class. Do not instantiate.
     """
+
     def __init__(self):
         """Base class. Do not instantiate."""
 
         self._data = None
         self._mapper = None
         self.transform = None
+        self.pipeline = None
 
     def _repr_html_(self):
         """
         HTML representation of the Volume object for Jupyter Notebooks.
-        
+
         Returns:
             HTML text with the image and some properties.
         """
         import io
         import base64
         from PIL import Image
 
@@ -65,60 +63,69 @@
         encoded = base64.b64encode(buffered.getvalue()).decode("utf-8")
         url = "data:image/png;base64," + encoded
         image = f"<img src='{url}'></img>"
 
         # statisitics
         bounds = "<br/>".join(
             [
-                utils.precision(min_x,4) + " ... " + utils.precision(max_x,4)
+                utils.precision(min_x, 4) + " ... " + utils.precision(max_x, 4)
                 for min_x, max_x in zip(self.bounds()[::2], self.bounds()[1::2])
             ]
         )
 
         help_text = ""
         if self.name:
             help_text += f"<b> {self.name}: &nbsp&nbsp</b>"
-        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>" 
+        help_text += '<b><a href="' + help_url + '" target="_blank">' + library_name + "</a></b>"
         if self.filename:
             dots = ""
             if len(self.filename) > 30:
                 dots = "..."
             help_text += f"<br/><code><i>({dots}{self.filename[-30:]})</i></code>"
-        
+
         pdata = ""
         if self._data.GetPointData().GetScalars():
             if self._data.GetPointData().GetScalars().GetName():
                 name = self._data.GetPointData().GetScalars().GetName()
                 pdata = "<tr><td><b> point data array </b></td><td>" + name + "</td></tr>"
 
         cdata = ""
         if self._data.GetCellData().GetScalars():
             if self._data.GetCellData().GetScalars().GetName():
                 name = self._data.GetCellData().GetScalars().GetName()
                 cdata = "<tr><td><b> voxel data array </b></td><td>" + name + "</td></tr>"
 
         img = self.GetMapper().GetInput()
 
-        all = [
+        allt = [
             "<table>",
-            "<tr>", 
-            "<td>", image, "</td>",
-            "<td style='text-align: center; vertical-align: center;'><br/>", help_text,
+            "<tr>",
+            "<td>",
+            image,
+            "</td>",
+            "<td style='text-align: center; vertical-align: center;'><br/>",
+            help_text,
             "<table>",
             "<tr><td><b> bounds </b> <br/> (x/y/z) </td><td>" + str(bounds) + "</td></tr>",
             "<tr><td><b> dimensions </b></td><td>" + str(img.GetDimensions()) + "</td></tr>",
-            "<tr><td><b> voxel spacing </b></td><td>" + utils.precision(img.GetSpacing(),3) + "</td></tr>",
-            "<tr><td><b> in memory size </b></td><td>" + str(int(img.GetActualMemorySize() / 1024)) + "MB</td></tr>",
+            "<tr><td><b> voxel spacing </b></td><td>"
+            + utils.precision(img.GetSpacing(), 3)
+            + "</td></tr>",
+            "<tr><td><b> in memory size </b></td><td>"
+            + str(int(img.GetActualMemorySize() / 1024))
+            + "MB</td></tr>",
             pdata,
             cdata,
-            "<tr><td><b> scalar range </b></td><td>" + utils.precision(img.GetScalarRange(), 4) + "</td></tr>",
+            "<tr><td><b> scalar range </b></td><td>"
+            + utils.precision(img.GetScalarRange(), 4)
+            + "</td></tr>",
             "</table>",
             "</table>",
         ]
-        return "\n".join(all)
+        return "\n".join(allt)
 
     def _update(self, img):
         self._data = img
         self._data.GetPointData().Modified()
         self._mapper.SetInputData(img)
         self._mapper.Modified()
         self._mapper.Update()
@@ -134,16 +141,15 @@
         prop = vtk.vtkVolumeProperty()
         prop.DeepCopy(self.GetProperty())
         newvol.SetProperty(prop)
         newvol.SetOrigin(self.GetOrigin())
         newvol.SetScale(self.GetScale())
         newvol.SetOrientation(self.GetOrientation())
         newvol.SetPosition(self.GetPosition())
-        newvol.pipeline = utils.OperationNode(
-            "clone", parents=[self], c="#bbd0ff", shape="diamond")
+        newvol.pipeline = utils.OperationNode("clone", parents=[self], c="#bbd0ff", shape="diamond")
         return newvol
 
     def imagedata(self):
         """Return the underlying `vtkImagaData` object."""
         return self._data
 
     def tonumpy(self):
@@ -223,15 +229,16 @@
         """
         imp = vtk.vtkImagePermute()
         imp.SetFilteredAxes(x, y, z)
         imp.SetInputData(self.imagedata())
         imp.Update()
         self._update(imp.GetOutput())
         self.pipeline = utils.OperationNode(
-            f"permute_axes\n{tuple(x,y,z)}", parents=[self], c="#4cc9f0")
+            f"permute_axes\n{(x,y,z)}", parents=[self], c="#4cc9f0"
+        )
         return self
 
     def resample(self, new_spacing, interpolation=1):
         """
         Resamples a `Volume` to be larger or smaller.
 
         This method modifies the spacing of the input.
@@ -250,15 +257,16 @@
                 rsp.SetAxisOutputSpacing(i, new_spacing[i])
         rsp.InterpolateOn()
         rsp.SetInterpolationMode(interpolation)
         rsp.OptimizationOn()
         rsp.Update()
         self._update(rsp.GetOutput())
         self.pipeline = utils.OperationNode(
-            f"resample\n{tuple(new_spacing)}", parents=[self], c="#4cc9f0")
+            f"resample\n{tuple(new_spacing)}", parents=[self], c="#4cc9f0"
+        )
         return self
 
     def interpolation(self, itype):
         """
         Set interpolation type.
 
         0=nearest neighbour, 1=linear
@@ -307,21 +315,15 @@
             th.SetReplaceOut(False)
 
         th.Update()
         self._update(th.GetOutput())
         self.pipeline = utils.OperationNode("threshold", parents=[self], c="#4cc9f0")
         return self
 
-    def crop(
-            self,
-            left=None, right=None,
-            back=None, front=None,
-            bottom=None, top=None,
-            VOI=()
-        ):
+    def crop(self, left=None, right=None, back=None, front=None, bottom=None, top=None, VOI=()):
         """
         Crop a `Volume` object.
 
         Arguments:
             left : (float)
                 fraction to crop from the left plane (negative x)
             right : (float)
@@ -355,16 +357,15 @@
             if bottom is not None: bz0 = int((d[2]-1)*bottom)
             if top is not None:    bz1 = int((d[2]-1)*(1-top))
             extractVOI.SetVOI(bx0, bx1, by0, by1, bz0, bz1)
         extractVOI.Update()
         self._update(extractVOI.GetOutput())
 
         self.pipeline = utils.OperationNode(
-            "crop", parents=[self], c="#4cc9f0",
-            comment=f"dims={tuple(self.dimensions())}",
+            "crop", parents=[self], c="#4cc9f0", comment=f"dims={tuple(self.dimensions())}"
         )
         return self
 
     def append(self, volumes, axis="z", preserve_extents=False):
         """
         Take the components from multiple inputs and merges them into one output.
         Except for the append axis, all inputs must have the same extent.
@@ -405,37 +406,82 @@
         elif axis == "y":
             axis = 1
         elif axis == "z":
             axis = 2
         ima.SetAppendAxis(axis)
         ima.Update()
         self._update(ima.GetOutput())
-        
+
         self.pipeline = utils.OperationNode(
-            "append", parents=[self, *volumes], c="#4cc9f0",
+            "append",
+            parents=[self, *volumes],
+            c="#4cc9f0",
             comment=f"dims={tuple(self.dimensions())}",
         )
         return self
 
+    def pad(self, voxels=10, value=0):
+        """
+        Add the specified number of voxels at the `Volume` borders.
+        Voxels can be a list formatted as `[nx0, nx1, ny0, ny1, nz0, nz1]`.
+
+        Arguments:
+            voxels : (int, list)
+                number of voxels to be added (or a list of length 4)
+            value : (int)
+                intensity value (gray-scale color) of the padding
+        
+        Example:
+            ```python
+            from vedo import Volume, dataurl
+            iso = Volume(dataurl+'embryo.tif').isosurface()
+            vol = iso.binarize(spacing=(100, 100, 100)).pad(10)
+            vol.dilate([15,15,15])
+            show(iso, vol.isosurface(), N=2, axes=1)
+            ```
+            ![](https://vedo.embl.es/images/volumetric/volume_pad.png)
+        """
+        x0, x1, y0, y1, z0, z1 = self._data.GetExtent()
+        pf = vtk.vtkImageConstantPad()
+        pf.SetInputData(self._data)
+        pf.SetConstant(value)
+        if utils.is_sequence(voxels):
+            pf.SetOutputWholeExtent(
+                x0 - voxels[0], x1 + voxels[1], 
+                y0 - voxels[2], y1 + voxels[3], 
+                z0 - voxels[4], z1 + voxels[5], 
+            )
+        else:
+            pf.SetOutputWholeExtent(
+                x0 - voxels, x1 + voxels, 
+                y0 - voxels, y1 + voxels, 
+                z0 - voxels, z1 + voxels,
+            )
+        pf.Update()
+        self._update(pf.GetOutput())
+        self.pipeline = utils.OperationNode(
+            "pad", comment=f"{voxels} voxels", parents=[self], c="#f28482"
+        )
+        return self
+
     def resize(self, *newdims):
         """Increase or reduce the number of voxels of a Volume with interpolation."""
         old_dims = np.array(self.imagedata().GetDimensions())
         old_spac = np.array(self.imagedata().GetSpacing())
         rsz = vtk.vtkImageResize()
         rsz.SetResizeMethodToOutputDimensions()
         rsz.SetInputData(self.imagedata())
         rsz.SetOutputDimensions(newdims)
         rsz.Update()
         self._data = rsz.GetOutput()
         new_spac = old_spac * old_dims / newdims  # keep aspect ratio
         self._data.SetSpacing(new_spac)
         self._update(self._data)
         self.pipeline = utils.OperationNode(
-            "resize", parents=[self], c="#4cc9f0",
-            comment=f"dims={tuple(self.dimensions())}",
+            "resize", parents=[self], c="#4cc9f0", comment=f"dims={tuple(self.dimensions())}"
         )
         return self
 
     def normalize(self):
         """Normalize that scalar components for each point."""
         norm = vtk.vtkImageNormalize()
         norm.SetInputData(self.imagedata())
@@ -502,23 +548,22 @@
         elif op in ["div", "divergence"]:
             mf = vtk.vtkImageDivergence()
             mf.SetInputData(image1)
         elif op in ["laplacian"]:
             mf = vtk.vtkImageLaplacian()
             mf.SetDimensionality(3)
             mf.SetInputData(image1)
-        
+
         if mf is not None:
             mf.Update()
             vol = Volume(mf.GetOutput())
             vol.pipeline = utils.OperationNode(
-                f"operation\n{op}", parents=[self], c="#4cc9f0",
-                shape="cylinder",
+                f"operation\n{op}", parents=[self], c="#4cc9f0", shape="cylinder"
             )
-            return vol ###########################
+            return vol  ###########################
 
         mat = vtk.vtkImageMathematics()
         mat.SetInput1Data(image1)
 
         K = None
 
         if utils.is_number(volume2):
@@ -584,16 +629,15 @@
             vedo.logger.error(f"unknown operation {operation}")
             raise RuntimeError()
         mat.Update()
 
         self._update(mat.GetOutput())
 
         self.pipeline = utils.OperationNode(
-            f"operation\n{op}", parents=[self, volume2],
-            shape="cylinder", c="#4cc9f0",
+            f"operation\n{op}", parents=[self, volume2], shape="cylinder", c="#4cc9f0"
         )
         return self
 
     def frequency_pass_filter(self, low_cutoff=None, high_cutoff=None, order=1):
         """
         Low-pass and high-pass filtering become trivial in the frequency domain.
         A portion of the pixels/voxels are simply masked or attenuated.
@@ -694,15 +738,15 @@
     def erode(self, neighbours=(2, 2, 2)):
         """
         Replace a voxel with the minimum over an ellipsoidal neighborhood of voxels.
         If `neighbours` of an axis is 1, no processing is done on that axis.
 
         Examples:
             - [erode_dilate.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/erode_dilate.py)
-        
+
                 ![](https://vedo.embl.es/images/volumetric/erode_dilate.png)
         """
         ver = vtk.vtkImageContinuousErode3D()
         ver.SetInputData(self._data)
         ver.SetKernelSize(neighbours[0], neighbours[1], neighbours[2])
         ver.Update()
         self._update(ver.GetOutput())
@@ -710,14 +754,16 @@
         return self
 
     def dilate(self, neighbours=(2, 2, 2)):
         """
         Replace a voxel with the maximum over an ellipsoidal neighborhood of voxels.
         If `neighbours` of an axis is 1, no processing is done on that axis.
 
+        Check also `erode()` and `pad()`.
+
         Examples:
             - [erode_dilate.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/erode_dilate.py)
         """
         ver = vtk.vtkImageContinuousDilate3D()
         ver.SetInputData(self._data)
         ver.SetKernelSize(neighbours[0], neighbours[1], neighbours[2])
         ver.Update()
@@ -763,15 +809,15 @@
                 used to define whether Spacing should be used in the
                 computation of the distances.
             max_distance : bool
                 any distance bigger than max_distance will not be
                 computed but set to this specified value instead.
 
         Examples:
-            - [euclidian_dist.py](examples/volumetric/euclidian_dist.py)
+            - [euclidian_dist.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/euclidian_dist.py)
         """
         euv = vtk.vtkImageEuclideanDistance()
         euv.SetInputData(self._data)
         euv.SetConsiderAnisotropy(anisotropy)
         if max_distance is not None:
             euv.InitializeOn()
             euv.SetMaximumDistance(max_distance)
@@ -793,37 +839,37 @@
         imc = vtk.vtkImageCorrelation()
         imc.SetInput1Data(self._data)
         imc.SetInput2Data(vol2.imagedata())
         imc.SetDimensionality(dim)
         imc.Update()
         vol = Volume(imc.GetOutput())
 
-        vol.pipeline = utils.OperationNode(
-            "correlation_with", parents=[self, vol2], c="#4cc9f0",
-        )
+        vol.pipeline = utils.OperationNode("correlation_with", parents=[self, vol2], c="#4cc9f0")
         return vol
 
     def scale_voxels(self, scale=1):
         """Scale the voxel content by factor `scale`."""
         rsl = vtk.vtkImageReslice()
         rsl.SetInputData(self.imagedata())
         rsl.SetScalarScale(scale)
         rsl.Update()
         self._update(rsl.GetOutput())
         self.pipeline = utils.OperationNode(
-            f"scale_voxels\nscale={scale}", parents=[self], c="#4cc9f0")
+            f"scale_voxels\nscale={scale}", parents=[self], c="#4cc9f0"
+        )
         return self
 
 
 ##########################################################################
 class Volume(BaseVolume, BaseGrid, vtk.vtkVolume):
     """
     Class to describe dataset that are defined on "voxels":
     the 3D equivalent of 2D pixels.
     """
+
     def __init__(
         self,
         inputobj=None,
         c="RdBu_r",
         alpha=(0.0, 0.0, 0.2, 0.4, 0.8, 1.0),
         alpha_gradient=None,
         alpha_unit=1,
@@ -900,28 +946,28 @@
 
                 ![](https://vedo.embl.es/images/volumetric/numpy2volume1.png)
 
             - [read_volume2.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/read_volume2.py)
 
                 ![](https://vedo.embl.es/images/volumetric/read_volume2.png)
 
-        .. note:: 
+        .. note::
             if a `list` of values is used for `alphas` this is interpreted
             as a transfer function along the range of the scalar.
         """
         vtk.vtkVolume.__init__(self)
         BaseGrid.__init__(self)
         BaseVolume.__init__(self)
         # super().__init__()
-        
+
         ###################
         if isinstance(inputobj, str):
 
             if "https://" in inputobj:
-                inputobj = vedo.io.download(inputobj, verbose=False)  # fpath
+                inputobj = vedo.file_io.download(inputobj, verbose=False)  # fpath
             elif os.path.isfile(inputobj):
                 pass
             else:
                 inputobj = sorted(glob.glob(inputobj))
 
         ###################
         if "gpu" in mapper:
@@ -975,17 +1021,17 @@
                     varr = utils.numpy2vtk(inputobj)
                 else:
                     varr = utils.numpy2vtk(inputobj.ravel(order="F"))
                 varr.SetName("input_scalars")
 
                 img = vtk.vtkImageData()
                 if dims is not None:
-                    img.SetDimensions(dims[2],dims[1],dims[0])
+                    img.SetDimensions(dims[2], dims[1], dims[0])
                 else:
-                    if len(inputobj.shape)==1:
+                    if len(inputobj.shape) == 1:
                         vedo.logger.error("must set dimensions (dims keyword) in Volume")
                         raise RuntimeError()
                     img.SetDimensions(inputobj.shape)
                 img.GetPointData().AddArray(varr)
                 img.GetPointData().SetActiveScalars(varr.GetName())
 
         elif "ImageData" in inputtype:
@@ -1000,16 +1046,16 @@
         elif hasattr(inputobj, "GetOutput"):  # passing vtk object, try extract imagdedata
             if hasattr(inputobj, "Update"):
                 inputobj.Update()
             img = inputobj.GetOutput()
 
         elif isinstance(inputobj, str):
             if "https://" in inputobj:
-                inputobj = vedo.io.download(inputobj, verbose=False)
-            img = vedo.io.loadImageData(inputobj)
+                inputobj = vedo.file_io.download(inputobj, verbose=False)
+            img = vedo.file_io.loadImageData(inputobj)
 
         else:
             vedo.logger.error(f"cannot understand input type {inputtype}")
             return
 
         if dims is not None:
             img.SetDimensions(dims)
@@ -1032,21 +1078,20 @@
 
         # remember stuff:
         self._mode = mode
         self._color = c
         self._alpha = alpha
         self._alpha_grad = alpha_gradient
         self._alpha_unit = alpha_unit
-        
-        self.pipeline = utils.OperationNode("Volume",
-            comment=f"dims={tuple(self.dimensions())}", c="#4cc9f0",
+
+        self.pipeline = utils.OperationNode(
+            "Volume", comment=f"dims={tuple(self.dimensions())}", c="#4cc9f0"
         )
         #######################################################################
 
-
     def _update(self, data):
         self._data = data
         self._data.GetPointData().Modified()
         self._mapper.SetInputData(data)
         self._mapper.Modified()
         self._mapper.Update()
         return self
@@ -1167,23 +1212,48 @@
             data_matrix[55:74, 55:74, 55:74] = 3
             vol = Volume(data_matrix, c=['white','b','g','r'], mapper='gpu')
             data_mask = np.zeros_like(data_matrix)
             data_mask[10:65, 10:45, 20:75] = 1
             vol.mask(data_mask)
             show(vol, axes=1).close()
         ```
+        See also:
+            `volume.hide_voxels()`
         """
         mask = Volume(data.astype(np.uint8))
         try:
             self.mapper().SetMaskTypeToBinary()
             self.mapper().SetMaskInput(mask.inputdata())
         except AttributeError:
             vedo.logger.error("volume.mask() must create the volume with Volume(..., mapper='gpu')")
         return self
 
+    def hide_voxels(self, ids):
+        """
+        Hide voxels (cells) from visualization.
+
+        Example:
+            ```python
+            from vedo import *
+            embryo = Volume(dataurl+'embryo.tif')
+            embryo.hide_voxels(list(range(10000)))
+            show(embryo, axes=1).close()
+            ```
+
+        See also:
+            `volume.mask()`
+        """
+        ghost_mask = np.zeros(self.ncells, dtype=np.uint8)
+        ghost_mask[ids] = vtk.vtkDataSetAttributes.HIDDENCELL
+        name = vtk.vtkDataSetAttributes.GhostArrayName()
+        garr = utils.numpy2vtk(ghost_mask, name=name, dtype=np.uint8)
+        self._data.GetCellData().AddArray(garr)
+        self._data.GetCellData().Modified()
+        return self
+
     def alpha_gradient(self, alpha_grad, vmin=None, vmax=None):
         """
         Assign a set of tranparencies to a volume's gradient
         along the range of the scalar value.
         A single constant value can also be assigned.
         The gradient function is used to decrease the opacity
         in the "flat" regions of the volume while maintaining the opacity
@@ -1204,15 +1274,15 @@
             return self
 
         volumeProperty.DisableGradientOpacityOff()
 
         gotf = volumeProperty.GetGradientOpacity()
         if utils.is_sequence(alpha_grad):
             alpha_grad = np.array(alpha_grad)
-            if len(alpha_grad.shape)==1: # user passing a flat list e.g. (0.0, 0.3, 0.9, 1)
+            if len(alpha_grad.shape) == 1:  # user passing a flat list e.g. (0.0, 0.3, 0.9, 1)
                 for i, al in enumerate(alpha_grad):
                     xalpha = vmin + (vmax - vmin) * i / (len(alpha_grad) - 1)
                     # Create transfer mapping scalar value to gradient opacity
                     gotf.AddPoint(xalpha, al)
             elif len(alpha_grad.shape) == 2:  # user passing [(x0,alpha0), ...]
                 gotf.AddPoint(vmin, alpha_grad[0][1])
                 for xalpha, al in alpha_grad:
@@ -1267,23 +1337,23 @@
         vslice.Update()
         m = Mesh(vslice.GetOutput())
         m.pipeline = utils.OperationNode(f"zslice {k}", parents=[self], c="#4cc9f0:#e9c46a")
         return m
 
     @deprecated(reason=vedo.colors.red + "Please use slice_plane()" + vedo.colors.reset)
     def slicePlane(self, *a, **b):
-        "Deprecated. Please use `scalar_range()`"
+        "Deprecated. Please use `slice_plane()`"
         return self.slice_plane(*a, **b)
 
     def slice_plane(self, origin=(0, 0, 0), normal=(1, 1, 1), autocrop=False):
         """
         Extract the slice along a given plane position and normal.
 
         Example:
-            - [slicePlane1.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slicePlane1.py)
+            - [slice_plane1.py](https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slice_plane1.py)
 
                 ![](https://vedo.embl.es/images/volumetric/slicePlane1.gif)
         """
         reslice = vtk.vtkImageReslice()
         reslice.SetInputData(self._data)
         reslice.SetOutputDimensionality(2)
         newaxis = utils.versor(normal)
@@ -1302,16 +1372,15 @@
         reslice.Update()
         vslice = vtk.vtkImageDataGeometryFilter()
         vslice.SetInputData(reslice.GetOutput())
         vslice.Update()
         msh = Mesh(vslice.GetOutput())
         msh.SetOrientation(T.GetOrientation())
         msh.SetPosition(pos)
-        msh.pipeline = utils.OperationNode(
-            "slice_plane", parents=[self], c="#4cc9f0:#e9c46a")
+        msh.pipeline = utils.OperationNode("slice_plane", parents=[self], c="#4cc9f0:#e9c46a")
         return msh
 
     def warp(self, source, target, sigma=1, mode="3d", fit=False):
         """
         Warp volume scalars within a Volume by specifying
         source and target sets of points.
 
@@ -1404,17 +1473,20 @@
                 TI.Inverse()
             else:
                 TI = vtk.vtkTransform()
                 TI.DeepCopy(T)
             bb.apply_transform(TI)
             bounds = bb.GetBounds()
             bounds = (
-                bounds[0]/spacing[0], bounds[1]/spacing[0],
-                bounds[2]/spacing[1], bounds[3]/spacing[1],
-                bounds[4]/spacing[2], bounds[5]/spacing[2],
+                bounds[0] / spacing[0],
+                bounds[1] / spacing[0],
+                bounds[2] / spacing[1],
+                bounds[3] / spacing[1],
+                bounds[4] / spacing[2],
+                bounds[5] / spacing[2],
             )
             bounds = np.round(bounds).astype(int)
             reslice.SetOutputExtent(bounds)
             reslice.SetOutputSpacing(spacing[0], spacing[1], spacing[2])
             reslice.SetOutputOrigin(origin[0], origin[1], origin[2])
 
         reslice.Update()
@@ -1424,14 +1496,15 @@
 
 
 ##########################################################################
 class VolumeSlice(BaseVolume, Base3DProp, vtk.vtkImageSlice):
     """
     Derived class of `vtkImageSlice`.
     """
+
     def __init__(self, inputobj=None):
         """
         This class is equivalent to `Volume` except for its representation.
         The main purpose of this class is to be used in conjunction with `Volume`
         for visualization using `mode="image"`.
         """
         vtk.vtkImageSlice.__init__(self)
@@ -1450,15 +1523,15 @@
         self.property = vtk.vtkImageProperty()
         self.property.SetInterpolationTypeToLinear()
         self.SetProperty(self.property)
 
         ###################
         if isinstance(inputobj, str):
             if "https://" in inputobj:
-                inputobj = vedo.io.download(inputobj, verbose=False)  # fpath
+                inputobj = vedo.file_io.download(inputobj, verbose=False)  # fpath
             elif os.path.isfile(inputobj):
                 pass
             else:
                 inputobj = sorted(glob.glob(inputobj))
 
         ###################
         inputtype = str(type(inputobj))
@@ -1511,23 +1584,23 @@
 
         elif isinstance(inputobj, Volume):
             img = inputobj.inputdata()
 
         elif "UniformGrid" in inputtype:
             img = inputobj
 
-        elif hasattr(inputobj, "GetOutput"): # passing vtk object, try extract imagdedata
+        elif hasattr(inputobj, "GetOutput"):  # passing vtk object, try extract imagdedata
             if hasattr(inputobj, "Update"):
                 inputobj.Update()
             img = inputobj.GetOutput()
 
         elif isinstance(inputobj, str):
             if "https://" in inputobj:
-                inputobj = vedo.io.download(inputobj, verbose=False)
-            img = vedo.io.loadImageData(inputobj)
+                inputobj = vedo.file_io.download(inputobj, verbose=False)
+            img = vedo.file_io.loadImageData(inputobj)
 
         else:
             vedo.logger.error(f"cannot understand input type {inputtype}")
             return
 
         self._data = img
         self._mapper.SetInputData(img)
@@ -1599,16 +1672,16 @@
         the original slices.
         Nothing happens if the plane is oblique to the original slices."""
         self.SetJumpToNearestSlice(value)
         return self
 
     def fill_background(self, value=True):
         """
-        Instead of rendering only to the image border, 
-        render out to the viewport boundary with the background color. 
+        Instead of rendering only to the image border,
+        render out to the viewport boundary with the background color.
         The background color will be the lowest color on the lookup
         table that is being used for the image."""
         self._mapper.SetBackground(value)
         return self
 
     def lighting(self, window, level, ambient=1.0, diffuse=0.0):
         """Assign the values for window and color level."""
```

### Comparing `vedo-2023.4.4/vedo/vtkclasses.py` & `vedo-2023.4.5/vedo/vtkclasses.py`

 * *Files 2% similar despite different names*

```diff
@@ -53,14 +53,15 @@
     VTK_PYRAMID,
     VTK_HEXAGONAL_PRISM,
     VTK_PENTAGONAL_PRISM,
     vtkCellArray,
     vtkBox,
     vtkCellLocator,
     vtkCylinder,
+    vtkDataSetAttributes,
     vtkDataObject,
     vtkDataSet,
     vtkFieldData,
     vtkHexagonalPrism,
     vtkHexahedron,
     vtkImageData,
     vtkImplicitDataSet,
@@ -110,15 +111,16 @@
     vtk3DLinearGridCrinkleExtractor,
     vtkAppendPolyData,
     vtkCellCenters,
     vtkCellDataToPointData,
     vtkCenterOfMass,
     vtkCleanPolyData,
     vtkClipPolyData,
-    vtkConnectivityFilter,
+    vtkPolyDataConnectivityFilter,
+    vtkPolyDataEdgeConnectivityFilter,
     vtkContourFilter,
     vtkContourGrid,
     vtkCutter,
     vtkDecimatePro,
     vtkDelaunay2D,
     vtkDelaunay3D,
     vtkElevationFilter,
@@ -217,14 +219,15 @@
 )
 
 from vtkmodules.vtkFiltersModeling import (
     vtkAdaptiveSubdivisionFilter,
     vtkBandedPolyDataContourFilter,
     vtkButterflySubdivisionFilter,
     vtkContourLoopExtraction,
+    vtkCookieCutter,
     vtkDijkstraGraphGeodesicPath,
     vtkFillHolesFilter,
     vtkHausdorffDistancePointSetFilter,
     vtkLinearExtrusionFilter,
     vtkLinearSubdivisionFilter,
     vtkLoopSubdivisionFilter,
     vtkRibbonFilter,
@@ -426,26 +429,34 @@
     vtkGraphLayout,
     vtkSimple2DLayoutStrategy,
     vtkSimple3DCirclesStrategy,
     vtkSpanTreeLayoutStrategy,
 )
 
 from vtkmodules.vtkInteractionStyle import (
+    vtkInteractorStyleFlight,
     vtkInteractorStyleImage,
+    vtkInteractorStyleJoystickActor,
     vtkInteractorStyleJoystickCamera,
+    vtkInteractorStyleRubberBand2D,
+    vtkInteractorStyleRubberBand3D,
     vtkInteractorStyleRubberBandZoom,
+    vtkInteractorStyleTerrain,
     vtkInteractorStyleTrackballActor,
     vtkInteractorStyleTrackballCamera,
+    vtkInteractorStyleUnicam,
+    vtkInteractorStyleUser,
 )
 
 from vtkmodules.vtkInteractionWidgets import (
     vtkBalloonRepresentation,
     vtkBalloonWidget,
     vtkBoxWidget,
     vtkContourWidget,
+    vtkPlaneWidget,
     vtkFocalPlanePointPlacer,
     vtkImplicitPlaneWidget,
     vtkOrientationMarkerWidget,
     vtkOrientedGlyphContourRepresentation,
     vtkPolygonalSurfacePointPlacer,
     vtkSliderRepresentation2D,
     vtkSliderRepresentation3D,
@@ -487,17 +498,19 @@
     vtkFollower,
     vtkHierarchicalPolyDataMapper,
     vtkImageActor,
     vtkImageMapper,
     vtkImageProperty,
     vtkImageSlice,
     vtkInteractorEventRecorder,
+    vtkInteractorObserver,
     vtkLight,
     vtkLogLookupTable,
     vtkMapper,
+    vtkPointGaussianMapper,
     vtkPolyDataMapper,
     vtkPolyDataMapper2D,
     vtkProp,
     vtkProp3D,
     vtkPropAssembly,
     vtkPropCollection,
     vtkPropPicker,
@@ -548,7 +561,9 @@
     vtkUnstructuredGridVolumeZSweepMapper,
 )
 
 from vtkmodules.vtkRenderingVolumeOpenGL2 import (
     vtkOpenGLGPUVolumeRayCastMapper,
     vtkSmartVolumeMapper,
 )
+
+# print("successfully finished importing vtkmodules")
```

### Comparing `vedo-2023.4.4/vedo.egg-info/PKG-INFO` & `vedo-2023.4.5/vedo.egg-info/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: vedo
-Version: 2023.4.4
+Version: 2023.4.5
 Summary: A python module for scientific analysis and visualization of 3D objects and point clouds based on VTK.
 Home-page: https://github.com/marcomusy/vedo
 Author: Marco Musy
 Author-email: marco.musy@embl.es
 Maintainer: Marco Musy
 License: MIT
 Keywords: vtk 3D science analysis visualization mesh numpy
```

### Comparing `vedo-2023.4.4/vedo.egg-info/SOURCES.txt` & `vedo-2023.4.5/vedo.egg-info/SOURCES.txt`

 * *Files 2% similar despite different names*

```diff
@@ -37,31 +37,33 @@
 examples/advanced/run_all.sh
 examples/advanced/skeletonize.py
 examples/advanced/spline_draw.py
 examples/advanced/splitmesh.py
 examples/advanced/timer_callback0.py
 examples/advanced/timer_callback1.py
 examples/advanced/timer_callback2.py
+examples/advanced/timer_callback3.py
 examples/advanced/voronoi2.py
 examples/advanced/warp1.py
 examples/advanced/warp2.py
 examples/advanced/warp3.py
 examples/advanced/warp4.py
 examples/advanced/warp5.py
+examples/advanced/warp6.py
 examples/basic/.vedo_pipeline_graphviz
 examples/basic/.vedo_pipeline_graphviz.pdf
 examples/basic/.vedo_recorded_events.log
 examples/basic/__init__.py
 examples/basic/align1.py
 examples/basic/align2.py
 examples/basic/align3.py
 examples/basic/align4.py
 examples/basic/align5.py
 examples/basic/align6.py
-examples/basic/bgImage.py
+examples/basic/background_image.py
 examples/basic/boolean.py
 examples/basic/boundaries.py
 examples/basic/buildmesh.py
 examples/basic/buttons.py
 examples/basic/cartoony.py
 examples/basic/cells_within_bounds.py
 examples/basic/closewindow.py
@@ -70,26 +72,26 @@
 examples/basic/color_mesh_cells2.py
 examples/basic/colorcubes.py
 examples/basic/colorlines.py
 examples/basic/colormap_list.py
 examples/basic/colormaps.py
 examples/basic/connected_vtx.py
 examples/basic/cut_freehand.py
-examples/basic/cutter.py
+examples/basic/cut_interactive.py
 examples/basic/delaunay2d.py
 examples/basic/delete_mesh_pts.py
 examples/basic/distance2mesh.py
 examples/basic/extrude.py
 examples/basic/fillholes.py
 examples/basic/flatarrow.py
-examples/basic/glyphs.py
+examples/basic/glyphs1.py
 examples/basic/glyphs_arrows.py
 examples/basic/hover_legend.py
 examples/basic/input_box.py
-examples/basic/interactionstyle.py
+examples/basic/interaction_modes.py
 examples/basic/keypress.py
 examples/basic/largestregion.py
 examples/basic/legendbox.py
 examples/basic/lightings.py
 examples/basic/lights.py
 examples/basic/lin_interpolate.py
 examples/basic/manypoints.py
@@ -129,14 +131,15 @@
 examples/basic/silhouette3.py
 examples/basic/skybox.py
 examples/basic/slider_browser.py
 examples/basic/sliders1.py
 examples/basic/sliders2.py
 examples/basic/sliders3d.py
 examples/basic/sliders_hsv.py
+examples/basic/sliders_range.py
 examples/basic/specular.py
 examples/basic/spline_tool.py
 examples/basic/ssao.py
 examples/basic/surf_intersect.py
 examples/basic/texture_coords.py
 examples/basic/texturecubes.py
 examples/basic/tube_radii.py
@@ -170,14 +173,16 @@
 examples/other/remesh_ACVD.py
 examples/other/remesh_meshfix.py
 examples/other/remesh_tetgen.py
 examples/other/run_all.sh
 examples/other/scene.npz
 examples/other/spherical_harmonics1.py
 examples/other/spherical_harmonics2.py
+examples/other/tensor_grid1.py
+examples/other/tensor_grid2.py
 examples/other/trame_ex1.py
 examples/other/trame_ex2.py
 examples/other/trame_ex3.py
 examples/other/vpolyscope.py
 examples/other/wx_window1.py
 examples/other/wx_window2.py
 examples/other/dolfin/README.md
@@ -245,14 +250,15 @@
 examples/pyplot/goniometer.py
 examples/pyplot/graph_lineage.py
 examples/pyplot/graph_network.py
 examples/pyplot/histo_1d_a.py
 examples/pyplot/histo_1d_b.py
 examples/pyplot/histo_1d_c.py
 examples/pyplot/histo_1d_d.py
+examples/pyplot/histo_1d_e.py
 examples/pyplot/histo_2d_a.py
 examples/pyplot/histo_2d_b.py
 examples/pyplot/histo_3d.py
 examples/pyplot/histo_gauss.py
 examples/pyplot/histo_hexagonal.py
 examples/pyplot/histo_manual.py
 examples/pyplot/histo_pca.py
@@ -288,18 +294,18 @@
 examples/pyplot/scatter3.py
 examples/pyplot/scatter_large.py
 examples/pyplot/triangulate2d.py
 examples/pyplot/whiskers.py
 examples/simulations/__init__.py
 examples/simulations/airplane1.py
 examples/simulations/airplane2.py
-examples/simulations/aspring.py
+examples/simulations/aspring1.py
+examples/simulations/aspring2_player.py
 examples/simulations/brownian2d.py
 examples/simulations/doubleslit.py
-examples/simulations/drag_catenary.py
 examples/simulations/drag_chain.py
 examples/simulations/gas.py
 examples/simulations/grayscott.py
 examples/simulations/gyroscope1.py
 examples/simulations/gyroscope2.py
 examples/simulations/hanoi3d.py
 examples/simulations/koch_fractal.py
@@ -347,33 +353,32 @@
 examples/volumetric/multiscalars.py
 examples/volumetric/numpy2volume1.py
 examples/volumetric/numpy2volume2.py
 examples/volumetric/numpy_imread.py
 examples/volumetric/off_furniture.py
 examples/volumetric/office.py
 examples/volumetric/point_density.py
-examples/volumetric/probePoints.py
 examples/volumetric/probe_line1.py
 examples/volumetric/probe_line2.py
+examples/volumetric/probe_points.py
 examples/volumetric/read_volume1.py
 examples/volumetric/read_volume2.py
 examples/volumetric/read_volume3.py
 examples/volumetric/read_vts.py
 examples/volumetric/run_all.sh
-examples/volumetric/sliceMesh.py
-examples/volumetric/slicePlane1.py
-examples/volumetric/slicePlane2.py
+examples/volumetric/slice_mesh.py
+examples/volumetric/slice_plane1.py
+examples/volumetric/slice_plane2.py
 examples/volumetric/slicer1.py
 examples/volumetric/slicer2.py
 examples/volumetric/streamlines1.py
 examples/volumetric/streamlines2.py
 examples/volumetric/streamlines3.py
 examples/volumetric/streamlines4.py
 examples/volumetric/streamribbons.py
-examples/volumetric/tensor_grid.py
 examples/volumetric/tensors.py
 examples/volumetric/tet_astyle.py
 examples/volumetric/tet_build.py
 examples/volumetric/tet_cutMesh1.py
 examples/volumetric/tet_cutMesh2.py
 examples/volumetric/tet_explode.py
 examples/volumetric/tet_isos_slice.py
@@ -392,15 +397,16 @@
 vedo/assembly.py
 vedo/backends.py
 vedo/base.py
 vedo/cli.py
 vedo/cmaps.py
 vedo/colors.py
 vedo/dolfin.py
-vedo/io.py
+vedo/file_io.py
+vedo/interactor_modes.py
 vedo/mesh.py
 vedo/picture.py
 vedo/plotter.py
 vedo/pointcloud.py
 vedo/pyplot.py
 vedo/settings.py
 vedo/shapes.py
```

