# Comparing `tmp/omniplot-0.4.8-py3-none-any.whl.zip` & `tmp/omniplot-0.4.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,27 @@
-Zip file size: 145857 bytes, number of entries: 26
+Zip file size: 134794 bytes, number of entries: 25
 -rw-rw-r--  2.0 unx    31033 b- defN 23-Apr-22 04:16 omniplot.py
 -rw-rw-r--  2.0 unx      580 b- defN 23-Apr-22 04:16 omniplot/__init__.py
 -rw-rw-r--  2.0 unx    21778 b- defN 23-Apr-22 04:16 omniplot/_adjustText.py
--rw-rw-r--  2.0 unx       21 b- defN 23-Jun-10 05:53 omniplot/_version.py
+-rw-rw-r--  2.0 unx       21 b- defN 23-Jun-18 01:34 omniplot/_version.py
 -rw-rw-r--  2.0 unx    57911 b- defN 23-Apr-22 04:16 omniplot/chipseq.py
 -rw-rw-r--  2.0 unx    21857 b- defN 23-Apr-22 04:16 omniplot/chipseq_utils.py
 -rw-rw-r--  2.0 unx      288 b- defN 23-Apr-22 04:16 omniplot/data.py
 -rw-rw-r--  2.0 unx   107026 b- defN 23-May-28 22:44 omniplot/heatmap.py
 -rw-rw-r--  2.0 unx    12843 b- defN 23-Apr-22 04:16 omniplot/igraph_classes.py
 -rw-rw-r--  2.0 unx    32121 b- defN 23-Apr-22 04:16 omniplot/networkplot.py
--rw-rw-r--  2.0 unx    49599 b- defN 23-Apr-22 04:16 omniplot/omniplot.py
--rw-rw-r--  2.0 unx    32252 b- defN 23-Jun-10 05:50 omniplot/plot.py
+-rw-rw-r--  2.0 unx    33455 b- defN 23-Jun-18 01:34 omniplot/plot.py
 -rw-rw-r--  2.0 unx     3511 b- defN 23-Apr-22 04:16 omniplot/plot_classes.py
 -rw-rw-r--  2.0 unx    74801 b- defN 23-May-07 11:59 omniplot/proportion.py
 -rw-rw-r--  2.0 unx    10375 b- defN 23-May-28 22:44 omniplot/regressionplot.py
--rw-rw-r--  2.0 unx   132706 b- defN 23-May-28 22:44 omniplot/scatter.py
+-rw-rw-r--  2.0 unx   133279 b- defN 23-Jun-17 00:20 omniplot/scatter.py
 -rw-rw-r--  2.0 unx     1584 b- defN 23-Apr-22 04:16 omniplot/statistics.py
 -rw-rw-r--  2.0 unx    45345 b- defN 23-Jun-03 08:20 omniplot/utils.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Apr-22 04:16 omniplot/cython_utils/__init__.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Apr-22 04:16 omniplot/scripts/__init__.py
 -rw-rw-r--  2.0 unx      694 b- defN 23-Apr-22 04:16 omniplot/scripts/gff2tss.py
--rw-rw-r--  2.0 unx    35149 b- defN 23-Jun-10 06:03 omniplot-0.4.8.dist-info/LICENSE
--rw-rw-r--  2.0 unx     1541 b- defN 23-Jun-10 06:03 omniplot-0.4.8.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Jun-10 06:03 omniplot-0.4.8.dist-info/WHEEL
--rw-rw-r--  2.0 unx        9 b- defN 23-Jun-10 06:03 omniplot-0.4.8.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2048 b- defN 23-Jun-10 06:03 omniplot-0.4.8.dist-info/RECORD
-26 files, 675164 bytes uncompressed, 142619 bytes compressed:  78.9%
+-rw-rw-r--  2.0 unx    35149 b- defN 23-Jun-18 01:37 omniplot-0.4.9.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     1541 b- defN 23-Jun-18 01:37 omniplot-0.4.9.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jun-18 01:37 omniplot-0.4.9.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        9 b- defN 23-Jun-18 01:37 omniplot-0.4.9.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1970 b- defN 23-Jun-18 01:37 omniplot-0.4.9.dist-info/RECORD
+25 files, 627263 bytes uncompressed, 131672 bytes compressed:  79.0%
```

## zipnote {}

```diff
@@ -24,17 +24,14 @@
 
 Filename: omniplot/igraph_classes.py
 Comment: 
 
 Filename: omniplot/networkplot.py
 Comment: 
 
-Filename: omniplot/omniplot.py
-Comment: 
-
 Filename: omniplot/plot.py
 Comment: 
 
 Filename: omniplot/plot_classes.py
 Comment: 
 
 Filename: omniplot/proportion.py
@@ -57,23 +54,23 @@
 
 Filename: omniplot/scripts/__init__.py
 Comment: 
 
 Filename: omniplot/scripts/gff2tss.py
 Comment: 
 
-Filename: omniplot-0.4.8.dist-info/LICENSE
+Filename: omniplot-0.4.9.dist-info/LICENSE
 Comment: 
 
-Filename: omniplot-0.4.8.dist-info/METADATA
+Filename: omniplot-0.4.9.dist-info/METADATA
 Comment: 
 
-Filename: omniplot-0.4.8.dist-info/WHEEL
+Filename: omniplot-0.4.9.dist-info/WHEEL
 Comment: 
 
-Filename: omniplot-0.4.8.dist-info/top_level.txt
+Filename: omniplot-0.4.9.dist-info/top_level.txt
 Comment: 
 
-Filename: omniplot-0.4.8.dist-info/RECORD
+Filename: omniplot-0.4.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## omniplot/_version.py

```diff
@@ -1 +1 @@
-__version__ = "0.4.8"
+__version__ = "0.4.9"
```

## omniplot/plot.py

```diff
@@ -122,15 +122,18 @@
     if title !="":
         ax.set_title(title)
     _save(save, "radialtree")
     clusters = _get_cluster_classes(Z)
     return {"axes":ax, "clusters":clusters}
 
 
-def violinplot(df: pd.DataFrame, 
+def violinplot(*args, **kwargs):
+    catplot(*args, **kwargs)
+
+def catplot(df: pd.DataFrame, 
                x: str, 
                y: str,
                pairs: list=[], 
                test: str="ttest_ind",
                alternative: str="two-sided",
                significance: str="numeric",
                significance_ranges: Dict[str, float]={"*":-np.log10(0.05),"**":4,"***":10},
@@ -139,16 +142,19 @@
                equal_var: bool=False, 
                yunit: str="",
                title: str="",
                save: str="",
                inner: str="quartile",
                ax: Optional[plt.Axes]=None,
                plotkw: dict={},
+               violinkw: dict={},
                color: str="lightgray",
-               **kwargs):
+               kind: str="violin",
+               points: str="",
+               **kwargs)->Dict:
     """
     Draw a boxplot with a statistical test 
     
     Parameters
     ----------
     df : pandas DataFrame
     
@@ -181,14 +187,18 @@
         example: {"*":-np.log10(0.05),"**":4,"***":10}
     swarm: bool, optional
         Whether or not to superpose a swarm plot. Not recommended if the sample size is too large.
     xorder: list, optional
         The order of x axis labels
     equal_var: bool, optional
         Related to ttest_ind method. The default is True, which will produce a p value equal to t-test in R.
+    kind: str ["violin", "box", lines], optional (defalt: violin)
+        The kind of the plot to draw.
+    points: str ["swarm", "strip"], optional (defalt: swarm)
+        The style of the swarm plot.
     kwargs: any options accepted by scipy statistical test functions
     
      
     Returns
     -------
     dict("p values":pvalues,"axes":ax)
     
@@ -231,17 +241,35 @@
             pval=-np.log10(pval)
         pvals.append([np.abs(p2ind-p1ind), np.amin([p2ind, p1ind]),np.amax([p2ind, p1ind]), pval])
     pvals = sorted(pvals, key = lambda x: (x[0], x[1]))
     if isinstance(ax, type(None)):
         fig, ax=plt.subplots(**plotkw)
     else:
         fig=None
-    sns.violinplot(data=df, x=x,y=y, order=xorder,inner=inner, ax=ax, color=color)
-    if swarm is True:
-        sns.swarmplot(data=df, x=x,y=y, order=xorder,color="black",alpha=0.75, ax=ax)
+    if kind=="violin":
+        sns.violinplot(data=df, x=x,y=y, order=xorder,inner=inner, ax=ax, color=color, **violinkw)
+    elif kind=="box":
+        sns.boxenplot(data=df, x=x,y=y, order=xorder, ax=ax, color=color, **violinkw)
+    elif kind=="lines":
+        for i, _x in enumerate(xorder):
+            val=df[y][df[x]==_x].values
+            q95, q75, q50, q25, q5=np.quantile(val, [0.95, 0.75, 0.5, 0.25, 0.05])
+            ax.plot([i,i],[q5, q95], color="black")
+            ax.plot([i-0.125,i+0.125],[q5, q5], color="black")
+            ax.plot([i-0.125,i+0.125],[q95, q95], color="black")
+            ax.plot([i-0.25,i+0.25],[q25, q25], color="black")
+            ax.plot([i-0.25,i+0.25],[q75, q75], color="black")
+            ax.plot([i-0.45,i+0.45],[q50, q50], color="black")
+
+    if swarm is True or points=="swarm":
+        sns.swarmplot(data=df, x=x,y=y, order=xorder,color="black",alpha=0.5, ax=ax)
+    elif points=="strip":
+        sns.stripplot(data=df, x=x,y=y, order=xorder,color="black",alpha=0.5, ax=ax)
+
+
     ymax=np.amax(df[y])
     ymin=np.amin(df[y])
     newpvals={}
     for i, pval in enumerate(pvals):
         ax.plot([pval[1],pval[2]], [ymax+(ymax-ymin)*(0.05+i*0.051),ymax+(ymax-ymin)*(0.05+i*0.051)], color="black")
         p=np.round(pval[-1],2)
```

## omniplot/scatter.py

```diff
@@ -70,15 +70,15 @@
     elif _df[cat].dtype==float :
         sc=ax.scatter(_df[x], _df[y], c=_df[cat], s=size,edgecolors=edgecolors)
         plt.colorbar(sc,ax=ax, label=cat, shrink=0.3,aspect=5,orientation="vertical")
     elif barrierfree==True:
         
         for key in lut[cat]["colorlut"].keys():
             _dfnew=_df.loc[_df[cat]==key]
-            if type(size) !=float:
+            if isinstance(size, np.ndarray):
                 _size=size[_df[cat]==key]
                 sc=ax.scatter(_dfnew[x], _dfnew[y], 
                         c=lut[cat]["colorlut"][key], 
                         marker=lut[cat]["markerlut"][key], 
                         label=key, s=_size,alpha=alpha,
                         edgecolors=edgecolors,
                         linewidths=linewidths)
@@ -2182,15 +2182,16 @@
               nmfparam={"random_state":0},
               save: str="",
               title: str="",
               markers: bool=False,
               saveparam: dict={},
               ax: Optional[plt.Axes]=None,
               palette: str="tab20b",
-              size: int=10) -> Dict:
+              size: int=10,
+              show_labels: bool=False) -> Dict:
     
     """
     Decomposing data and drawing a scatter plot and some plots for explained variables. 
     
     Parameters
     ----------
     df : pandas DataFrame
@@ -2248,17 +2249,20 @@
     
     palette: str, optional (default: "tab20b")
         A matplotlib colormap name
 
     size: int, optional (default: 10)
         scatter point size
 
-    show : bool
+    show: bool
         Whether or not to show the figure.
     
+    show_labels: bool, optional (default: False)
+        Whether to show labels on points 
+    
     Returns
     -------
         {"data": dfpc_list,"pca": pca, "axes":axes, "axes_explained":ax2}: dict for pca method
         {"data": dfpc_list, "W":W, "H":H,"axes":axes,"axes_explained":axes2}: dict for nmf method
             
     
     Raises
@@ -2269,15 +2273,15 @@
     ----------
     See Also
     --------
     Examples
     --------
     """
     x, category=_separate_data(df, variables=variables, category=category)
-
+    sample_labels=list(df.index)
     barrierfree=False
     if type(markers)==bool:
             
         if markers==True:
             barrierfree=True
             markers=marker_list 
         else: 
@@ -2335,47 +2339,54 @@
             axes=axes.flatten()
         figures["nocat"]={"fig": fig, "axes":axes}
     if method=="pca":
         if regularization==True:
             x=zscore(x, axis=0)
         pca = PCA(n_components=component,**pcaparam)
         pccomp = pca.fit_transform(x)
+        exp_var_pca = pca.explained_variance_ratio_
         loadings = pca.components_.T * np.sqrt(pca.explained_variance_)
         combnum=0
         for axi, (i, j) in enumerate(comb):
-            xlabel, ylabel='pc'+str(i+1), 'pc'+str(j+1)
+            xlabel, ylabel='pc{} ({:.01f}%)'.format(i+1, 100*exp_var_pca[i]), 'pc{} ({:.01f}%)'.format(j+1, 100*exp_var_pca[j])
             dfpc = pd.DataFrame(data = np.array([pccomp[:,i],pccomp[:,j]]).T, columns = [xlabel, ylabel],index=original_index)
             _loadings=np.array([loadings[:,i],loadings[:,j]]).T
             a=np.sum(_loadings**2, axis=1)
             srtindx=np.argsort(a)[::-1][:arrow_num]
             _loadings=_loadings[srtindx]
             _features=np.array(features)[srtindx]
-            
+                    
             if len(category)!=0:
+                ax=figures[cat]["axes"][axi]
                 for cat in category:
                     dfpc[cat]=df[cat]
                     
-                    _scatter(dfpc, xlabel,ylabel, cat, figures[cat]["axes"][axi], lut, barrierfree, size,legend=False)
+                    _scatter(dfpc, xlabel,ylabel, cat, ax, lut, barrierfree, size,legend=False)
 
                     # sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, hue=cat, ax=figures[cat]["axes"][axi],palette=palette)
                     # sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, hue=cat, ax=figures[cat]["axes"][axi],legend=False,palette=palette)
                     if combnum==1:
-                        figures[cat]["axes"][axi].legend(bbox_to_anchor=(1.02, 1), loc='upper left', borderaxespad=0)
+                        ax[axi].legend(bbox_to_anchor=(1.02, 1), loc='upper left', borderaxespad=0)
                     for k, feature in enumerate(_features):
-                        figures[cat]["axes"][axi].arrow(0, 0, _loadings[k, 0],_loadings[k, 1],color=arrow_color,width=0.005,head_width=0.1)
-                        figures[cat]["axes"][axi].text(_loadings[k, 0],_loadings[k, 1],feature,color=arrow_text_color)
+                        ax.arrow(0, 0, _loadings[k, 0],_loadings[k, 1],color=arrow_color,width=0.005,head_width=0.1)
+                        ax[axi].text(_loadings[k, 0],_loadings[k, 1],feature,color=arrow_text_color)
             else:
-                sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, ax=figures["nocat"][axi],palette=palette)
+                ax=figures["nocat"]["axes"][axi]
+                sns.scatterplot(x=dfpc[xlabel], y=dfpc[ylabel], ax=ax,palette=palette)
                 # cat=None
                 # _scatter(dfpc, xlabel,ylabel, cat, figures["nocat"][axi], lut, barrierfree, size)
                 for k, feature in enumerate(_features):
                     #ax.plot([0,_loadings[k, 0] ], [0,_loadings[k, 1] ],color=arrow_color)
-                    figures["nocat"][axi].arrow(0, 0, _loadings[k, 0],_loadings[k, 1],color=arrow_color,width=0.005,head_width=0.1)
-                    figures["nocat"][axi].text(_loadings[k, 0],_loadings[k, 1],feature,color=arrow_text_color)
-    
+                    ax.arrow(0, 0, _loadings[k, 0],_loadings[k, 1],color=arrow_color,width=0.005,head_width=0.1)
+                    ax.text(_loadings[k, 0],_loadings[k, 1],feature,color=arrow_text_color)
+
+            if show_labels is True:
+                for s, __x, __y in zip(sample_labels, pccomp[:,i],pccomp[:,j]):
+                    ax.text(__x, __y, s)
+
             dfpc_list.append(dfpc)
             combnum+=1
         
         if len(category)!=0:
             for cat in category:
                 figures[cat]["fig"].suptitle(title)
                 figures[cat]["fig"].tight_layout(pad=0.5)
@@ -2424,17 +2435,20 @@
                     # sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, hue=cat, ax=figures[cat]["axes"][axi],palette=palette)
                     _scatter(dfpc, xlabel,ylabel, cat, figures[cat]["axes"][axi], lut, barrierfree, size,legend=False)
                     # sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, hue=cat, ax=figures[cat]["axes"][axi],legend=False,palette=palette)
                     if combnum==1:
                         figures[cat]["axes"][axi].legend(bbox_to_anchor=(1.02, 1), loc='upper left', borderaxespad=0)
 
             else:
-                sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, hue=category, ax=figures["nocat"][axi],palette=palette)
+                sns.scatterplot(data=dfpc, x=xlabel, y=ylabel, hue=category, ax=figures["nocat"]["axes"][axi],palette=palette)
                 # cat=None
                 # _scatter(dfpc, xlabel,ylabel, cat, figures["nocat"][axi], lut, barrierfree, size)
+            if show_labels is True:
+                for s, __x, __y in zip(sample_labels, W[:,i],W[:,j]):
+                    ax.text(__x, __y, s)
             dfpc_list.append(dfpc)
             combnum+=1
         if len(category)!=0:
             for cat in category:
                 figures[cat]["fig"].suptitle(title)
                 figures[cat]["fig"].tight_layout(pad=0.5)
                 _save(save, cat+"_NMF", fig=figures[cat]["fig"])
```

## Comparing `omniplot-0.4.8.dist-info/LICENSE` & `omniplot-0.4.9.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `omniplot-0.4.8.dist-info/METADATA` & `omniplot-0.4.9.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: omniplot
-Version: 0.4.8
+Version: 0.4.9
 Summary: To draw scientific plots easily
 Home-page: https://github.com/koonimaru/omniplot
 Author: Koh Onimaru
 Author-email: koh.onimaru@gmail.com
 Classifier: Development Status :: 2 - Pre-Alpha
 Classifier: Environment :: Console
 Classifier: Intended Audience :: Science/Research
```

## Comparing `omniplot-0.4.8.dist-info/RECORD` & `omniplot-0.4.9.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,26 +1,25 @@
 omniplot.py,sha256=h2O4ijbb3JmpVjyHDVYgJkf9cvcsFAGV8Hu2GRukGTg,31033
 omniplot/__init__.py,sha256=0XBQBlxv-YOXGESpUJmVGWBS8Pje9zyPkCLwivlgqEM,580
 omniplot/_adjustText.py,sha256=5OQhRwmuEFCncGEUduv4t-tcEqet9BsGvjdnpyDZJhg,21778
-omniplot/_version.py,sha256=hllK95qvjUJQSsYx58i-DzgOBo2oIokt_oxkpukFlL0,21
+omniplot/_version.py,sha256=Awjzp7R_3igiNhiHUO_Jzt5iqhYXj8NZfpCn857chhM,21
 omniplot/chipseq.py,sha256=IcxzXpegJFsyBr2JFJM28wVGB320xe_jvNjjCRtFZq4,57911
 omniplot/chipseq_utils.py,sha256=WbsQKwv_5sc3HmLvt_6gixByx0v6LaMheSjPhCQsRmQ,21857
 omniplot/data.py,sha256=1VXhcERrgO2vHWX_kjsmo_oCv5QFtawb7AbubzgxyZI,288
 omniplot/heatmap.py,sha256=hOugkuvqluesFeg-vMPLaFf3G7wlXX36iYz-8rXt1yY,107026
 omniplot/igraph_classes.py,sha256=j5MWQ_8r1PHkBtv3E8P5XUAepIA0isG0ToSkxF0m5qQ,12843
 omniplot/networkplot.py,sha256=qYl4kFZ9mdPEMHRXPBZQpR7IjDPgZuQ5km8EaR7jinM,32121
-omniplot/omniplot.py,sha256=gkvza-HYjEc2mfDr2SJeKbPnLZ3-MYurWPCdXLqPdWs,49599
-omniplot/plot.py,sha256=oozuGn9d7jKucfW9cXx0LTjDsWcefcRaYerOH-X0KAg,32252
+omniplot/plot.py,sha256=71fc7tiHoSn8v_IrtHD8iZOZliF9n6joX9HbEyXaFes,33455
 omniplot/plot_classes.py,sha256=L19islN6emkBAYSdGyQFvIBaHamvpLX24jbdUtD56Os,3511
 omniplot/proportion.py,sha256=FnvqNwspEdvPPaEakobivcOGJGn7oGLXsv9gsW4l1Jk,74801
 omniplot/regressionplot.py,sha256=Ec2PwSHOlkRy1w1_yCNbpFYRe6iwJrJR7xf5uomRNQs,10375
-omniplot/scatter.py,sha256=a2TC9pFlBTlvexicdgNkvkiBlr1sAJukZ9EaFkJUPlU,132706
+omniplot/scatter.py,sha256=0IPPKo_KmIVqKeFE98TuJtroWNNkfpP91kod2Sv8-sQ,133279
 omniplot/statistics.py,sha256=OzEkloCrMtF5LdXOl4XKB6bLjNFFzTqBMchJPCfkcZo,1584
 omniplot/utils.py,sha256=bq2S45kidDffSzz4dNnD7MrTShoNdsbMr8-ur3_VE0U,45345
 omniplot/cython_utils/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 omniplot/scripts/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 omniplot/scripts/gff2tss.py,sha256=dBrUUJI8ShxEY6HXLAJjDJLOAHgnEN3_PpDFmWR_924,694
-omniplot-0.4.8.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
-omniplot-0.4.8.dist-info/METADATA,sha256=rtTSZZLeblj5cMIdDg7vkubYto2ieS8Cc8VOOVrx_WQ,1541
-omniplot-0.4.8.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-omniplot-0.4.8.dist-info/top_level.txt,sha256=Z0jjiIHNGoK48BPLed614jNXxy2uUEr-CJSPXy8hSVE,9
-omniplot-0.4.8.dist-info/RECORD,,
+omniplot-0.4.9.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
+omniplot-0.4.9.dist-info/METADATA,sha256=wr_AVgPk5PL6es3OSlLloU4SRSg9N7vxTbqBnbzl6PI,1541
+omniplot-0.4.9.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+omniplot-0.4.9.dist-info/top_level.txt,sha256=Z0jjiIHNGoK48BPLed614jNXxy2uUEr-CJSPXy8hSVE,9
+omniplot-0.4.9.dist-info/RECORD,,
```

